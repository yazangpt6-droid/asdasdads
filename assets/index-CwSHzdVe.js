(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function wv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dm={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function dE(){if(xb)return rc;xb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return rc.Fragment=e,rc.jsx=n,rc.jsxs=n,rc}var bb;function hE(){return bb||(bb=1,Dm.exports=dE()),Dm.exports}var l=hE(),Om={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function fE(){if(vb)return Ve;vb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function M(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,Y={};function le(D,Z,L){this.props=D,this.context=Z,this.refs=Y,this.updater=L||U}le.prototype.isReactComponent={},le.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},le.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function de(){}de.prototype=le.prototype;function ae(D,Z,L){this.props=D,this.context=Z,this.refs=Y,this.updater=L||U}var me=ae.prototype=new de;me.constructor=ae,se(me,le.prototype),me.isPureReactComponent=!0;var re=Array.isArray;function $(){}var S={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function j(D,Z,L){var W=L.ref;return{$$typeof:r,type:D,key:Z,ref:W!==void 0?W:null,props:L}}function k(D,Z){return j(D.type,Z,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function V(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(L){return Z[L]})}var C=/\/+/g;function Xe(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):Z.toString(36)}function tt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then($,$):(D.status="pending",D.then(function(Z){D.status==="pending"&&(D.status="fulfilled",D.value=Z)},function(Z){D.status==="pending"&&(D.status="rejected",D.reason=Z)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Q(D,Z,L,W,ge){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var Pe=!1;if(D===null)Pe=!0;else switch(Ce){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(D.$$typeof){case r:case e:Pe=!0;break;case _:return Pe=D._init,Q(Pe(D._payload),Z,L,W,ge)}}if(Pe)return ge=ge(D),Pe=W===""?"."+Xe(D,0):W,re(ge)?(L="",Pe!=null&&(L=Pe.replace(C,"$&/")+"/"),Q(ge,Z,L,"",function(jt){return jt})):ge!=null&&(I(ge)&&(ge=k(ge,L+(ge.key==null||D&&D.key===ge.key?"":(""+ge.key).replace(C,"$&/")+"/")+Pe)),Z.push(ge)),1;Pe=0;var Be=W===""?".":W+":";if(re(D))for(var we=0;we<D.length;we++)W=D[we],Ce=Be+Xe(W,we),Pe+=Q(W,Z,L,Ce,ge);else if(we=M(D),typeof we=="function")for(D=we.call(D),we=0;!(W=D.next()).done;)W=W.value,Ce=Be+Xe(W,we++),Pe+=Q(W,Z,L,Ce,ge);else if(Ce==="object"){if(typeof D.then=="function")return Q(tt(D),Z,L,W,ge);throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function ce(D,Z,L){if(D==null)return D;var W=[],ge=0;return Q(D,W,"","",function(Ce){return Z.call(L,Ce,ge++)}),W}function xe(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function(L){(D._status===0||D._status===-1)&&(D._status=1,D._result=L)},function(L){(D._status===0||D._status===-1)&&(D._status=2,D._result=L)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var Ee=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Me={map:ce,forEach:function(D,Z,L){ce(D,function(){Z.apply(this,arguments)},L)},count:function(D){var Z=0;return ce(D,function(){Z++}),Z},toArray:function(D){return ce(D,function(Z){return Z})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ve.Activity=w,Ve.Children=Me,Ve.Component=le,Ve.Fragment=n,Ve.Profiler=o,Ve.PureComponent=ae,Ve.StrictMode=a,Ve.Suspense=y,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(D){return S.H.useMemoCache(D)}},Ve.cache=function(D){return function(){return D.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(D,Z,L){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=se({},D.props),ge=D.key;if(Z!=null)for(Ce in Z.key!==void 0&&(ge=""+Z.key),Z)!E.call(Z,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Z.ref===void 0||(W[Ce]=Z[Ce]);var Ce=arguments.length-2;if(Ce===1)W.children=L;else if(1<Ce){for(var Pe=Array(Ce),Be=0;Be<Ce;Be++)Pe[Be]=arguments[Be+2];W.children=Pe}return j(D.type,ge,W)},Ve.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ve.createElement=function(D,Z,L){var W,ge={},Ce=null;if(Z!=null)for(W in Z.key!==void 0&&(Ce=""+Z.key),Z)E.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ge[W]=Z[W]);var Pe=arguments.length-2;if(Pe===1)ge.children=L;else if(1<Pe){for(var Be=Array(Pe),we=0;we<Pe;we++)Be[we]=arguments[we+2];ge.children=Be}if(D&&D.defaultProps)for(W in Pe=D.defaultProps,Pe)ge[W]===void 0&&(ge[W]=Pe[W]);return j(D,Ce,ge)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(D){return{$$typeof:g,render:D}},Ve.isValidElement=I,Ve.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:xe}},Ve.memo=function(D,Z){return{$$typeof:p,type:D,compare:Z===void 0?null:Z}},Ve.startTransition=function(D){var Z=S.T,L={};S.T=L;try{var W=D(),ge=S.S;ge!==null&&ge(L,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then($,Ee)}catch(Ce){Ee(Ce)}finally{Z!==null&&L.types!==null&&(Z.types=L.types),S.T=Z}},Ve.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Ve.use=function(D){return S.H.use(D)},Ve.useActionState=function(D,Z,L){return S.H.useActionState(D,Z,L)},Ve.useCallback=function(D,Z){return S.H.useCallback(D,Z)},Ve.useContext=function(D){return S.H.useContext(D)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(D,Z){return S.H.useDeferredValue(D,Z)},Ve.useEffect=function(D,Z){return S.H.useEffect(D,Z)},Ve.useEffectEvent=function(D){return S.H.useEffectEvent(D)},Ve.useId=function(){return S.H.useId()},Ve.useImperativeHandle=function(D,Z,L){return S.H.useImperativeHandle(D,Z,L)},Ve.useInsertionEffect=function(D,Z){return S.H.useInsertionEffect(D,Z)},Ve.useLayoutEffect=function(D,Z){return S.H.useLayoutEffect(D,Z)},Ve.useMemo=function(D,Z){return S.H.useMemo(D,Z)},Ve.useOptimistic=function(D,Z){return S.H.useOptimistic(D,Z)},Ve.useReducer=function(D,Z,L){return S.H.useReducer(D,Z,L)},Ve.useRef=function(D){return S.H.useRef(D)},Ve.useState=function(D){return S.H.useState(D)},Ve.useSyncExternalStore=function(D,Z,L){return S.H.useSyncExternalStore(D,Z,L)},Ve.useTransition=function(){return S.H.useTransition()},Ve.version="19.2.0",Ve}var _b;function F0(){return _b||(_b=1,Om.exports=fE()),Om.exports}var F=F0();const Nv=wv(F);var Mm={exports:{}},ac={},Vm={exports:{}},Lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb;function mE(){return wb||(wb=1,(function(r){function e(Q,ce){var xe=Q.length;Q.push(ce);e:for(;0<xe;){var Ee=xe-1>>>1,Me=Q[Ee];if(0<o(Me,ce))Q[Ee]=ce,Q[xe]=Me,xe=Ee;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var ce=Q[0],xe=Q.pop();if(xe!==ce){Q[0]=xe;e:for(var Ee=0,Me=Q.length,D=Me>>>1;Ee<D;){var Z=2*(Ee+1)-1,L=Q[Z],W=Z+1,ge=Q[W];if(0>o(L,xe))W<Me&&0>o(ge,L)?(Q[Ee]=ge,Q[W]=xe,Ee=W):(Q[Ee]=L,Q[Z]=xe,Ee=Z);else if(W<Me&&0>o(ge,xe))Q[Ee]=ge,Q[W]=xe,Ee=W;else break e}}return ce}function o(Q,ce){var xe=Q.sortIndex-ce.sortIndex;return xe!==0?xe:Q.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var y=[],p=[],_=1,w=null,A=3,M=!1,U=!1,se=!1,Y=!1,le=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function me(Q){for(var ce=n(p);ce!==null;){if(ce.callback===null)a(p);else if(ce.startTime<=Q)a(p),ce.sortIndex=ce.expirationTime,e(y,ce);else break;ce=n(p)}}function re(Q){if(se=!1,me(Q),!U)if(n(y)!==null)U=!0,$||($=!0,V());else{var ce=n(p);ce!==null&&tt(re,ce.startTime-Q)}}var $=!1,S=-1,E=5,j=-1;function k(){return Y?!0:!(r.unstable_now()-j<E)}function I(){if(Y=!1,$){var Q=r.unstable_now();j=Q;var ce=!0;try{e:{U=!1,se&&(se=!1,de(S),S=-1),M=!0;var xe=A;try{t:{for(me(Q),w=n(y);w!==null&&!(w.expirationTime>Q&&k());){var Ee=w.callback;if(typeof Ee=="function"){w.callback=null,A=w.priorityLevel;var Me=Ee(w.expirationTime<=Q);if(Q=r.unstable_now(),typeof Me=="function"){w.callback=Me,me(Q),ce=!0;break t}w===n(y)&&a(y),me(Q)}else a(y);w=n(y)}if(w!==null)ce=!0;else{var D=n(p);D!==null&&tt(re,D.startTime-Q),ce=!1}}break e}finally{w=null,A=xe,M=!1}ce=void 0}}finally{ce?V():$=!1}}}var V;if(typeof ae=="function")V=function(){ae(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Xe=C.port2;C.port1.onmessage=I,V=function(){Xe.postMessage(null)}}else V=function(){le(I,0)};function tt(Q,ce){S=le(function(){Q(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var ce=3;break;default:ce=A}var xe=A;A=ce;try{return Q()}finally{A=xe}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(Q,ce){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var xe=A;A=Q;try{return ce()}finally{A=xe}},r.unstable_scheduleCallback=function(Q,ce,xe){var Ee=r.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Ee+xe:Ee):xe=Ee,Q){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=xe+Me,Q={id:_++,callback:ce,priorityLevel:Q,startTime:xe,expirationTime:Me,sortIndex:-1},xe>Ee?(Q.sortIndex=xe,e(p,Q),n(y)===null&&Q===n(p)&&(se?(de(S),S=-1):se=!0,tt(re,xe-Ee))):(Q.sortIndex=Me,e(y,Q),U||M||(U=!0,$||($=!0,V()))),Q},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(Q){var ce=A;return function(){var xe=A;A=ce;try{return Q.apply(this,arguments)}finally{A=xe}}}})(Lm)),Lm}var Nb;function gE(){return Nb||(Nb=1,Vm.exports=mE()),Vm.exports}var Pm={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function pE(){if(Eb)return fn;Eb=1;var r=F0();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,p,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:p,implementation:_}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fn.createPortal=function(y,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,_)},fn.flushSync=function(y){var p=f.T,_=a.p;try{if(f.T=null,a.p=2,y)return y()}finally{f.T=p,a.p=_,a.d.f()}},fn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(y,p))},fn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},fn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var _=p.as,w=g(_,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?a.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:M}):_==="script"&&a.d.X(y,{crossOrigin:w,integrity:A,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=g(p.as,p.crossOrigin);a.d.M(y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(y)},fn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,w=g(_,p.crossOrigin);a.d.L(y,_,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fn.preloadModule=function(y,p){if(typeof y=="string")if(p){var _=g(p.as,p.crossOrigin);a.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(y)},fn.requestFormReset=function(y){a.d.r(y)},fn.unstable_batchedUpdates=function(y,p){return y(p)},fn.useFormState=function(y,p,_){return f.H.useFormState(y,p,_)},fn.useFormStatus=function(){return f.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var Tb;function yE(){if(Tb)return Pm.exports;Tb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pm.exports=pE(),Pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function xE(){if(Sb)return ac;Sb=1;var r=gE(),e=F0(),n=yE();function a(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,i=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(i=s.return),t=s.return;while(t)}return s.tag===3?i:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(a(188))}function p(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(a(188));return s!==t?null:t}for(var i=t,c=s;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){i=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return y(h),t;if(m===c)return y(h),s;m=m.sibling}throw Error(a(188))}if(i.return!==c.return)i=h,c=m;else{for(var b=!1,N=h.child;N;){if(N===i){b=!0,i=h,c=m;break}if(N===c){b=!0,c=h,i=m;break}N=N.sibling}if(!b){for(N=m.child;N;){if(N===i){b=!0,i=m,c=h;break}if(N===c){b=!0,c=m,i=h;break}N=N.sibling}if(!b)throw Error(a(189))}}if(i.alternate!==c)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?t:s}function _(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=_(t),s!==null)return s;t=t.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case le:return"Profiler";case Y:return"StrictMode";case re:return"Suspense";case $:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case ae:return t.displayName||"Context";case de:return(t._context.displayName||"Context")+".Consumer";case me:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return s=t.displayName||null,s!==null?s:Xe(t.type)||"Memo";case E:s=t._payload,t=t._init;try{return Xe(t(s))}catch{}}return null}var tt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Ee=[],Me=-1;function D(t){return{current:t}}function Z(t){0>Me||(t.current=Ee[Me],Ee[Me]=null,Me--)}function L(t,s){Me++,Ee[Me]=t.current,t.current=s}var W=D(null),ge=D(null),Ce=D(null),Pe=D(null);function Be(t,s){switch(L(Ce,s),L(ge,t),L(W,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?qx(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=qx(s),t=Bx(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(W),L(W,t)}function we(){Z(W),Z(ge),Z(Ce)}function jt(t){t.memoizedState!==null&&L(Pe,t);var s=W.current,i=Bx(s,t.type);s!==i&&(L(ge,t),L(W,i))}function Nn(t){ge.current===t&&(Z(W),Z(ge)),Pe.current===t&&(Z(Pe),ec._currentValue=xe)}var Zn,Ms;function xn(t){if(Zn===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);Zn=s&&s[1]||"",Ms=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zn+t+Ms}var Vn=!1;function En(t,s){if(!t||Vn)return"";Vn=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var H=K}Reflect.construct(t,[],te)}else{try{te.call()}catch(K){H=K}t.call(te.prototype)}}else{try{throw Error()}catch(K){H=K}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],N=m[1];if(b&&N){var R=b.split(`
`),B=N.split(`
`);for(h=c=0;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(c===R.length||h===B.length)for(c=R.length-1,h=B.length-1;1<=c&&0<=h&&R[c]!==B[h];)h--;for(;1<=c&&0<=h;c--,h--)if(R[c]!==B[h]){if(c!==1||h!==1)do if(c--,h--,0>h||R[c]!==B[h]){var X=`
`+R[c].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=c&&0<=h);break}}}finally{Vn=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?xn(i):""}function Vs(t,s){switch(t.tag){case 26:case 27:case 5:return xn(t.type);case 16:return xn("Lazy");case 13:return t.child!==s&&s!==null?xn("Suspense Fallback"):xn("Suspense");case 19:return xn("SuspenseList");case 0:case 15:return En(t.type,!1);case 11:return En(t.type.render,!1);case 1:return En(t.type,!0);case 31:return xn("Activity");default:return""}}function oe(t){try{var s="",i=null;do s+=Vs(t,i),i=t,t=t.return;while(t);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var De=Object.prototype.hasOwnProperty,ke=r.unstable_scheduleCallback,Nt=r.unstable_cancelCallback,Ln=r.unstable_shouldYield,Tn=r.unstable_requestPaint,xt=r.unstable_now,Pn=r.unstable_getCurrentPriorityLevel,Ls=r.unstable_ImmediatePriority,Ct=r.unstable_UserBlockingPriority,Pt=r.unstable_NormalPriority,ps=r.unstable_LowPriority,Kr=r.unstable_IdlePriority,pr=r.log,ie=r.unstable_setDisableYieldValue,Ne=null,ve=null;function ue(t){if(typeof pr=="function"&&ie(t),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(Ne,t)}catch{}}var je=Math.clz32?Math.clz32:Wt,Ze=Math.log,ot=Math.LN2;function Wt(t){return t>>>=0,t===0?32:31-(Ze(t)/ot|0)|0}var Je=256,pt=262144,rt=4194304;function Jn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ps(t,s,i){var c=t.pendingLanes;if(c===0)return 0;var h=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var N=c&134217727;return N!==0?(c=N&~m,c!==0?h=Jn(c):(b&=N,b!==0?h=Jn(b):i||(i=N&~t,i!==0&&(h=Jn(i))))):(N=c&~m,N!==0?h=Jn(N):b!==0?h=Jn(b):i||(i=c&~t,i!==0&&(h=Jn(i)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,i=s&-s,m>=i||m===32&&(i&4194048)!==0)?s:h}function ys(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Vh(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(){var t=rt;return rt<<=1,(rt&62914560)===0&&(rt=4194304),t}function zs(t){for(var s=[],i=0;31>i;i++)s.push(t);return s}function Wa(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,s,i,c,h,m){var b=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var N=t.entanglements,R=t.expirationTimes,B=t.hiddenUpdates;for(i=b&~i;0<i;){var X=31-je(i),te=1<<X;N[X]=0,R[X]=-1;var H=B[X];if(H!==null)for(B[X]=null,X=0;X<H.length;X++){var K=H[X];K!==null&&(K.lane&=-536870913)}i&=~te}c!==0&&Za(t,c,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~s))}function Za(t,s,i){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-je(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|i&261930}function ro(t,s){var i=t.entangledLanes|=s;for(t=t.entanglements;i;){var c=31-je(i),h=1<<c;h&s|t[c]&s&&(t[c]|=s),i&=~h}}function ao(t,s){var i=s&-s;return i=(i&42)!==0?1:Ja(i),(i&(t.suspendedLanes|s))!==0?0:i}function Ja(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function yr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qc(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:db(t.type))}function xs(t,s){var i=ce.p;try{return ce.p=t,s()}finally{ce.p=i}}var bs=Math.random().toString(36).slice(2),zt="__reactFiber$"+bs,Zt="__reactProps$"+bs,Us="__reactContainer$"+bs,Fi="__reactEvents$"+bs,Ph="__reactListeners$"+bs,Kc="__reactHandles$"+bs,Yc="__reactResources$"+bs,qs="__reactMarker$"+bs;function Gi(t){delete t[zt],delete t[Zt],delete t[Fi],delete t[Ph],delete t[Kc]}function Bs(t){var s=t[zt];if(s)return s;for(var i=t.parentNode;i;){if(s=i[Us]||i[zt]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(t=Yx(t);t!==null;){if(i=t[zt])return i;t=Yx(t)}return s}t=i,i=t.parentNode}return null}function es(t){if(t=t[zt]||t[Us]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function zn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(a(33))}function Hs(t){var s=t[Yc];return s||(s=t[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ut(t){t[qs]=!0}var io=new Set,lo={};function Fs(t,s){Gs(t,s),Gs(t+"Capture",s)}function Gs(t,s){for(lo[t]=s,t=0;t<s.length;t++)io.add(s[t])}var oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},uo={};function Xc(t){return De.call(uo,t)?!0:De.call(co,t)?!1:oo.test(t)?uo[t]=!0:(co[t]=!0,!1)}function $i(t,s,i){if(Xc(s))if(i===null)t.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+i)}}function Un(t,s,i){if(i===null)t.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+i)}}function qt(t,s,i,c){if(c===null)t.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(s,i,""+c)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yr(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ho(t,s,i){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,m=c.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){i=""+b,m.call(this,b)}}),Object.defineProperty(t,s,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(b){i=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ct(t){if(!t._valueTracker){var s=Yr(t)?"checked":"value";t._valueTracker=ho(t,s,""+t[s])}}function ei(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var i=s.getValue(),c="";return t&&(c=Yr(t)?t.checked?"true":"false":t.value),t=c,t!==i?(s.setValue(t),!0):!1}function $s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ti=/[\n"\\]/g;function Sn(t){return t.replace(ti,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qi(t,s,i,c,h,m,b,N){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),s!=null?b==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Jt(s)):t.value!==""+Jt(s)&&(t.value=""+Jt(s)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),s!=null?fo(t,b,Jt(s)):i!=null?fo(t,b,Jt(i)):c!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+Jt(N):t.removeAttribute("name")}function Wc(t,s,i,c,h,m,b,N){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){ct(t);return}i=i!=null?""+Jt(i):"",s=s!=null?""+Jt(s):i,N||s===t.value||(t.value=s),t.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=N?t.checked:!!c,t.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),ct(t)}function fo(t,s,i){s==="number"&&$s(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Xr(t,s,i,c){if(t=t.options,s){s={};for(var h=0;h<i.length;h++)s["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=s.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&c&&(t[i].defaultSelected=!0)}else{for(i=""+Jt(i),s=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Zc(t,s,i){if(s!=null&&(s=""+Jt(s),s!==t.value&&(t.value=s),i==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=i!=null?""+Jt(i):""}function Wr(t,s,i,c){if(s==null){if(c!=null){if(i!=null)throw Error(a(92));if(tt(c)){if(1<c.length)throw Error(a(93));c=c[0]}i=c}i==null&&(i=""),s=i}i=Jt(s),t.defaultValue=i,c=t.textContent,c===i&&c!==""&&c!==null&&(t.value=c),ct(t)}function jn(t,s){if(s){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=s;return}}t.textContent=s}var Jc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mo(t,s,i){var c=s.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,i):typeof i!="number"||i===0||Jc.has(s)?s==="float"?t.cssFloat=i:t[s]=(""+i).trim():t[s]=i+"px"}function go(t,s,i){if(s!=null&&typeof s!="object")throw Error(a(62));if(t=t.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&i[h]!==c&&mo(t,h,c)}else for(var m in s)s.hasOwnProperty(m)&&mo(t,m,s[m])}function Ki(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yi(t){return Zr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function vs(){}var po=null;function ts(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jr=null,Qs=null;function ni(t){var s=es(t);if(s&&(t=s.stateNode)){var i=t[Zt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Qi(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),s=i.name,i.type==="radio"&&s!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Sn(""+s)+'"][type="radio"]'),s=0;s<i.length;s++){var c=i[s];if(c!==t&&c.form===t.form){var h=c[Zt]||null;if(!h)throw Error(a(90));Qi(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<i.length;s++)c=i[s],c.form===t.form&&ei(c)}break e;case"textarea":Zc(t,i.value,i.defaultValue);break e;case"select":s=i.value,s!=null&&Xr(t,!!i.multiple,s,!1)}}}var Xi=!1;function ea(t,s,i){if(Xi)return t(s,i);Xi=!0;try{var c=t(s);return c}finally{if(Xi=!1,(Jr!==null||Qs!==null)&&(Qu(),Jr&&(s=Jr,t=Qs,Qs=Jr=null,ni(s),t)))for(s=0;s<t.length;s++)ni(t[s])}}function _s(t,s){var i=t.stateNode;if(i===null)return null;var c=i[Zt]||null;if(c===null)return null;i=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(a(231,s,typeof i));return i}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),si=!1;if(ns)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){si=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{si=!1}var Ks=null,yo=null,ri=null;function xo(){if(ri)return ri;var t,s=yo,i=s.length,c,h="value"in Ks?Ks.value:Ks.textContent,m=h.length;for(t=0;t<i&&s[t]===h[t];t++);var b=i-t;for(c=1;c<=b&&s[i-c]===h[m-c];c++);return ri=h.slice(t,1<c?1-c:void 0)}function ai(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function xr(){return!0}function ws(){return!1}function rn(t){function s(i,c,h,m,b){this._reactName=i,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(i=t[N],this[N]=i?i(m):m[N]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?xr:ws,this.isPropagationStopped=ws,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),s}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=rn(br),ta=w({},br,{view:0,detail:0}),bo=rn(ta),na,Wi,Xs,Zi=w({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xs&&(Xs&&t.type==="mousemove"?(na=t.screenX-Xs.screenX,Wi=t.screenY-Xs.screenY):Wi=na=0,Xs=t),na)},movementY:function(t){return"movementY"in t?t.movementY:Wi}}),vo=rn(Zi),ii=w({},Zi,{dataTransfer:0}),tu=rn(ii),nu=w({},ta,{relatedTarget:0}),li=rn(nu),_o=w({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),su=rn(_o),Ji=w({},br,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ru=rn(Ji),au=w({},br,{data:0}),Ws=rn(au),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=ou[t])?!!s[t]:!1}function sa(){return cu}var bn=w({},ta,{key:function(t){if(t.key){var s=iu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(t){return t.type==="keypress"?ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uu=rn(bn),du=w({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vr=rn(du),d=w({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),x=rn(d),v=w({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=rn(v),z=w({},Zi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=rn(z),he=w({},br,{newState:0,oldState:0}),ze=rn(he),Ot=[9,13,27,32],at=ns&&"CompositionEvent"in window,Et=null;ns&&"documentMode"in document&&(Et=document.documentMode);var ss=ns&&"TextEvent"in window&&!Et,Zs=ns&&(!at||Et&&8<Et&&11>=Et),Ns=" ",Es=!1;function oi(t,s){switch(t){case"keyup":return Ot.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function el(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tl=!1;function M2(t,s){switch(t){case"compositionend":return el(s);case"keypress":return s.which!==32?null:(Es=!0,Ns);case"textInput":return t=s.data,t===Ns&&Es?null:t;default:return null}}function V2(t,s){if(tl)return t==="compositionend"||!at&&oi(t,s)?(t=xo(),ri=yo=Ks=null,tl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zs&&s.locale!=="ko"?null:s.data;default:return null}}var L2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!L2[t.type]:s==="textarea"}function Jg(t,s,i,c){Jr?Qs?Qs.push(c):Qs=[c]:Jr=c,s=ed(s,"onChange"),0<s.length&&(i=new Ys("onChange","change",null,i,c),t.push({event:i,listeners:s}))}var wo=null,No=null;function P2(t){Mx(t,0)}function hu(t){var s=zn(t);if(ei(s))return t}function ep(t,s){if(t==="change")return s}var tp=!1;if(ns){var zh;if(ns){var Uh="oninput"in document;if(!Uh){var np=document.createElement("div");np.setAttribute("oninput","return;"),Uh=typeof np.oninput=="function"}zh=Uh}else zh=!1;tp=zh&&(!document.documentMode||9<document.documentMode)}function sp(){wo&&(wo.detachEvent("onpropertychange",rp),No=wo=null)}function rp(t){if(t.propertyName==="value"&&hu(No)){var s=[];Jg(s,No,t,ts(t)),ea(P2,s)}}function z2(t,s,i){t==="focusin"?(sp(),wo=s,No=i,wo.attachEvent("onpropertychange",rp)):t==="focusout"&&sp()}function U2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hu(No)}function q2(t,s){if(t==="click")return hu(s)}function B2(t,s){if(t==="input"||t==="change")return hu(s)}function H2(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var qn=typeof Object.is=="function"?Object.is:H2;function Eo(t,s){if(qn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var i=Object.keys(t),c=Object.keys(s);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var h=i[c];if(!De.call(s,h)||!qn(t[h],s[h]))return!1}return!0}function ap(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ip(t,s){var i=ap(t);t=0;for(var c;i;){if(i.nodeType===3){if(c=t+i.textContent.length,t<=s&&c>=s)return{node:i,offset:s-t};t=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ap(i)}}function lp(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?lp(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function op(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=$s(t.document);s instanceof t.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)t=s.contentWindow;else break;s=$s(t.document)}return s}function qh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var F2=ns&&"documentMode"in document&&11>=document.documentMode,nl=null,Bh=null,To=null,Hh=!1;function cp(t,s,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Hh||nl==null||nl!==$s(c)||(c=nl,"selectionStart"in c&&qh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),To&&Eo(To,c)||(To=c,c=ed(Bh,"onSelect"),0<c.length&&(s=new Ys("onSelect","select",null,s,i),t.push({event:s,listeners:c}),s.target=nl)))}function ci(t,s){var i={};return i[t.toLowerCase()]=s.toLowerCase(),i["Webkit"+t]="webkit"+s,i["Moz"+t]="moz"+s,i}var sl={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},Fh={},up={};ns&&(up=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function ui(t){if(Fh[t])return Fh[t];if(!sl[t])return t;var s=sl[t],i;for(i in s)if(s.hasOwnProperty(i)&&i in up)return Fh[t]=s[i];return t}var dp=ui("animationend"),hp=ui("animationiteration"),fp=ui("animationstart"),G2=ui("transitionrun"),$2=ui("transitionstart"),Q2=ui("transitioncancel"),mp=ui("transitionend"),gp=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function Ts(t,s){gp.set(t,s),Fs(s,[t])}var fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},rs=[],rl=0,$h=0;function mu(){for(var t=rl,s=$h=rl=0;s<t;){var i=rs[s];rs[s++]=null;var c=rs[s];rs[s++]=null;var h=rs[s];rs[s++]=null;var m=rs[s];if(rs[s++]=null,c!==null&&h!==null){var b=c.pending;b===null?h.next=h:(h.next=b.next,b.next=h),c.pending=h}m!==0&&pp(i,h,m)}}function gu(t,s,i,c){rs[rl++]=t,rs[rl++]=s,rs[rl++]=i,rs[rl++]=c,$h|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Qh(t,s,i,c){return gu(t,s,i,c),pu(t)}function di(t,s){return gu(t,null,null,s),pu(t)}function pp(t,s,i){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i);for(var h=!1,m=t.return;m!==null;)m.childLanes|=i,c=m.alternate,c!==null&&(c.childLanes|=i),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&s!==null&&(h=31-je(i),t=m.hiddenUpdates,c=t[h],c===null?t[h]=[s]:c.push(s),s.lane=i|536870912),m):null}function pu(t){if(50<Qo)throw Qo=0,sm=null,Error(a(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var al={};function K2(t,s,i,c){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,s,i,c){return new K2(t,s,i,c)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _r(t,s){var i=t.alternate;return i===null?(i=Bn(t.tag,s,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=s,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,s=t.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function yp(t,s){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,s=i.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function yu(t,s,i,c,h,m){var b=0;if(c=t,typeof t=="function")Kh(t)&&(b=1);else if(typeof t=="string")b=JN(t,i,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=Bn(31,i,s,h),t.elementType=j,t.lanes=m,t;case se:return hi(i.children,h,m,s);case Y:b=8,h|=24;break;case le:return t=Bn(12,i,s,h|2),t.elementType=le,t.lanes=m,t;case re:return t=Bn(13,i,s,h),t.elementType=re,t.lanes=m,t;case $:return t=Bn(19,i,s,h),t.elementType=$,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:b=10;break e;case de:b=9;break e;case me:b=11;break e;case S:b=14;break e;case E:b=16,c=null;break e}b=29,i=Error(a(130,t===null?"null":typeof t,"")),c=null}return s=Bn(b,i,s,h),s.elementType=t,s.type=c,s.lanes=m,s}function hi(t,s,i,c){return t=Bn(7,t,c,s),t.lanes=i,t}function Yh(t,s,i){return t=Bn(6,t,null,s),t.lanes=i,t}function xp(t){var s=Bn(18,null,null,0);return s.stateNode=t,s}function Xh(t,s,i){return s=Bn(4,t.children!==null?t.children:[],t.key,s),s.lanes=i,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var bp=new WeakMap;function as(t,s){if(typeof t=="object"&&t!==null){var i=bp.get(t);return i!==void 0?i:(s={value:t,source:s,stack:oe(s)},bp.set(t,s),s)}return{value:t,source:s,stack:oe(s)}}var il=[],ll=0,xu=null,So=0,is=[],ls=0,ra=null,Js=1,er="";function wr(t,s){il[ll++]=So,il[ll++]=xu,xu=t,So=s}function vp(t,s,i){is[ls++]=Js,is[ls++]=er,is[ls++]=ra,ra=t;var c=Js;t=er;var h=32-je(c)-1;c&=~(1<<h),i+=1;var m=32-je(s)+h;if(30<m){var b=h-h%5;m=(c&(1<<b)-1).toString(32),c>>=b,h-=b,Js=1<<32-je(s)+h|i<<h|c,er=m+t}else Js=1<<m|i<<h|c,er=t}function Wh(t){t.return!==null&&(wr(t,1),vp(t,1,0))}function Zh(t){for(;t===xu;)xu=il[--ll],il[ll]=null,So=il[--ll],il[ll]=null;for(;t===ra;)ra=is[--ls],is[ls]=null,er=is[--ls],is[ls]=null,Js=is[--ls],is[ls]=null}function _p(t,s){is[ls++]=Js,is[ls++]=er,is[ls++]=ra,Js=s.id,er=s.overflow,ra=t}var an=null,vt=null,We=!1,aa=null,os=!1,Jh=Error(a(519));function ia(t){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(as(s,t)),Jh}function wp(t){var s=t.stateNode,i=t.type,c=t.memoizedProps;switch(s[zt]=t,s[Zt]=c,i){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(i=0;i<Yo.length;i++)Fe(Yo[i],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),Wc(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),Wr(s,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||s.textContent===""+i||c.suppressHydrationWarning===!0||zx(s.textContent,i)?(c.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),c.onScroll!=null&&Fe("scroll",s),c.onScrollEnd!=null&&Fe("scrollend",s),c.onClick!=null&&(s.onclick=vs),s=!0):s=!1,s||ia(t,!0)}function Np(t){for(an=t.return;an;)switch(an.tag){case 5:case 31:case 13:os=!1;return;case 27:case 3:os=!0;return;default:an=an.return}}function ol(t){if(t!==an)return!1;if(!We)return Np(t),We=!0,!1;var s=t.tag,i;if((i=s!==3&&s!==27)&&((i=s===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||xm(t.type,t.memoizedProps)),i=!i),i&&vt&&ia(t),Np(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=Kx(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=Kx(t)}else s===27?(s=vt,va(t.type)?(t=Nm,Nm=null,vt=t):vt=s):vt=an?us(t.stateNode.nextSibling):null;return!0}function fi(){vt=an=null,We=!1}function ef(){var t=aa;return t!==null&&(In===null?In=t:In.push.apply(In,t),aa=null),t}function jo(t){aa===null?aa=[t]:aa.push(t)}var tf=D(null),mi=null,Nr=null;function la(t,s,i){L(tf,s._currentValue),s._currentValue=i}function Er(t){t._currentValue=tf.current,Z(tf)}function nf(t,s,i){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===i)break;t=t.return}}function sf(t,s,i,c){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var N=m;m=h;for(var R=0;R<s.length;R++)if(N.context===s[R]){m.lanes|=i,N=m.alternate,N!==null&&(N.lanes|=i),nf(m.return,i,t),c||(b=null);break e}m=N.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(a(341));b.lanes|=i,m=b.alternate,m!==null&&(m.lanes|=i),nf(b,i,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function cl(t,s,i,c){t=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var N=h.type;qn(h.pendingProps.value,b.value)||(t!==null?t.push(N):t=[N])}}else if(h===Pe.current){if(b=h.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ec):t=[ec])}h=h.return}t!==null&&sf(s,t,i,c),s.flags|=262144}function bu(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function gi(t){mi=t,Nr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return Ep(mi,t)}function vu(t,s){return mi===null&&gi(t),Ep(t,s)}function Ep(t,s){var i=s._currentValue;if(s={context:s,memoizedValue:i,next:null},Nr===null){if(t===null)throw Error(a(308));Nr=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Nr=Nr.next=s;return i}var Y2=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(i,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(i){return i()})}},X2=r.unstable_scheduleCallback,W2=r.unstable_NormalPriority,Bt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new Y2,data:new Map,refCount:0}}function Ao(t){t.refCount--,t.refCount===0&&X2(W2,function(){t.controller.abort()})}var Co=null,af=0,ul=0,dl=null;function Z2(t,s){if(Co===null){var i=Co=[];af=0,ul=cm(),dl={status:"pending",value:void 0,then:function(c){i.push(c)}}}return af++,s.then(Tp,Tp),s}function Tp(){if(--af===0&&Co!==null){dl!==null&&(dl.status="fulfilled");var t=Co;Co=null,ul=0,dl=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function J2(t,s){var i=[],c={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<i.length;h++)(0,i[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),c}var Sp=Q.S;Q.S=function(t,s){cx=xt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Z2(t,s),Sp!==null&&Sp(t,s)};var pi=D(null);function lf(){var t=pi.current;return t!==null?t:yt.pooledCache}function _u(t,s){s===null?L(pi,pi.current):L(pi,s.pool)}function jp(){var t=lf();return t===null?null:{parent:Bt._currentValue,pool:t}}var hl=Error(a(460)),of=Error(a(474)),wu=Error(a(542)),Nu={then:function(){}};function Ap(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cp(t,s,i){switch(i=t[i],i===void 0?t.push(s):i!==s&&(s.then(vs,vs),s=i),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ip(t),t;default:if(typeof s.status=="string")s.then(vs,vs);else{if(t=yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ip(t),t}throw xi=s,hl}}function yi(t){try{var s=t._init;return s(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(xi=i,hl):i}}var xi=null;function Rp(){if(xi===null)throw Error(a(459));var t=xi;return xi=null,t}function Ip(t){if(t===hl||t===wu)throw Error(a(483))}var fl=null,Ro=0;function Eu(t){var s=Ro;return Ro+=1,fl===null&&(fl=[]),Cp(fl,t,s)}function Io(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Tu(t,s){throw s.$$typeof===A?Error(a(525)):(t=Object.prototype.toString.call(s),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function kp(t){function s(P,O){if(t){var q=P.deletions;q===null?(P.deletions=[O],P.flags|=16):q.push(O)}}function i(P,O){if(!t)return null;for(;O!==null;)s(P,O),O=O.sibling;return null}function c(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=_r(P,O),P.index=0,P.sibling=null,P}function m(P,O,q){return P.index=q,t?(q=P.alternate,q!==null?(q=q.index,q<O?(P.flags|=67108866,O):q):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function b(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function N(P,O,q,J){return O===null||O.tag!==6?(O=Yh(q,P.mode,J),O.return=P,O):(O=h(O,q),O.return=P,O)}function R(P,O,q,J){var Te=q.type;return Te===se?X(P,O,q.props.children,J,q.key):O!==null&&(O.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===E&&yi(Te)===O.type)?(O=h(O,q.props),Io(O,q),O.return=P,O):(O=yu(q.type,q.key,q.props,null,P.mode,J),Io(O,q),O.return=P,O)}function B(P,O,q,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Xh(q,P.mode,J),O.return=P,O):(O=h(O,q.children||[]),O.return=P,O)}function X(P,O,q,J,Te){return O===null||O.tag!==7?(O=hi(q,P.mode,J,Te),O.return=P,O):(O=h(O,q),O.return=P,O)}function te(P,O,q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Yh(""+O,P.mode,q),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case M:return q=yu(O.type,O.key,O.props,null,P.mode,q),Io(q,O),q.return=P,q;case U:return O=Xh(O,P.mode,q),O.return=P,O;case E:return O=yi(O),te(P,O,q)}if(tt(O)||V(O))return O=hi(O,P.mode,q,null),O.return=P,O;if(typeof O.then=="function")return te(P,Eu(O),q);if(O.$$typeof===ae)return te(P,vu(P,O),q);Tu(P,O)}return null}function H(P,O,q,J){var Te=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Te!==null?null:N(P,O,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case M:return q.key===Te?R(P,O,q,J):null;case U:return q.key===Te?B(P,O,q,J):null;case E:return q=yi(q),H(P,O,q,J)}if(tt(q)||V(q))return Te!==null?null:X(P,O,q,J,null);if(typeof q.then=="function")return H(P,O,Eu(q),J);if(q.$$typeof===ae)return H(P,O,vu(P,q),J);Tu(P,q)}return null}function K(P,O,q,J,Te){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(q)||null,N(O,P,""+J,Te);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return P=P.get(J.key===null?q:J.key)||null,R(O,P,J,Te);case U:return P=P.get(J.key===null?q:J.key)||null,B(O,P,J,Te);case E:return J=yi(J),K(P,O,q,J,Te)}if(tt(J)||V(J))return P=P.get(q)||null,X(O,P,J,Te,null);if(typeof J.then=="function")return K(P,O,q,Eu(J),Te);if(J.$$typeof===ae)return K(P,O,q,vu(O,J),Te);Tu(O,J)}return null}function be(P,O,q,J){for(var Te=null,nt=null,_e=O,qe=O=0,$e=null;_e!==null&&qe<q.length;qe++){_e.index>qe?($e=_e,_e=null):$e=_e.sibling;var st=H(P,_e,q[qe],J);if(st===null){_e===null&&(_e=$e);break}t&&_e&&st.alternate===null&&s(P,_e),O=m(st,O,qe),nt===null?Te=st:nt.sibling=st,nt=st,_e=$e}if(qe===q.length)return i(P,_e),We&&wr(P,qe),Te;if(_e===null){for(;qe<q.length;qe++)_e=te(P,q[qe],J),_e!==null&&(O=m(_e,O,qe),nt===null?Te=_e:nt.sibling=_e,nt=_e);return We&&wr(P,qe),Te}for(_e=c(_e);qe<q.length;qe++)$e=K(_e,P,qe,q[qe],J),$e!==null&&(t&&$e.alternate!==null&&_e.delete($e.key===null?qe:$e.key),O=m($e,O,qe),nt===null?Te=$e:nt.sibling=$e,nt=$e);return t&&_e.forEach(function(Ta){return s(P,Ta)}),We&&wr(P,qe),Te}function Ae(P,O,q,J){if(q==null)throw Error(a(151));for(var Te=null,nt=null,_e=O,qe=O=0,$e=null,st=q.next();_e!==null&&!st.done;qe++,st=q.next()){_e.index>qe?($e=_e,_e=null):$e=_e.sibling;var Ta=H(P,_e,st.value,J);if(Ta===null){_e===null&&(_e=$e);break}t&&_e&&Ta.alternate===null&&s(P,_e),O=m(Ta,O,qe),nt===null?Te=Ta:nt.sibling=Ta,nt=Ta,_e=$e}if(st.done)return i(P,_e),We&&wr(P,qe),Te;if(_e===null){for(;!st.done;qe++,st=q.next())st=te(P,st.value,J),st!==null&&(O=m(st,O,qe),nt===null?Te=st:nt.sibling=st,nt=st);return We&&wr(P,qe),Te}for(_e=c(_e);!st.done;qe++,st=q.next())st=K(_e,P,qe,st.value,J),st!==null&&(t&&st.alternate!==null&&_e.delete(st.key===null?qe:st.key),O=m(st,O,qe),nt===null?Te=st:nt.sibling=st,nt=st);return t&&_e.forEach(function(uE){return s(P,uE)}),We&&wr(P,qe),Te}function gt(P,O,q,J){if(typeof q=="object"&&q!==null&&q.type===se&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case M:e:{for(var Te=q.key;O!==null;){if(O.key===Te){if(Te=q.type,Te===se){if(O.tag===7){i(P,O.sibling),J=h(O,q.props.children),J.return=P,P=J;break e}}else if(O.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===E&&yi(Te)===O.type){i(P,O.sibling),J=h(O,q.props),Io(J,q),J.return=P,P=J;break e}i(P,O);break}else s(P,O);O=O.sibling}q.type===se?(J=hi(q.props.children,P.mode,J,q.key),J.return=P,P=J):(J=yu(q.type,q.key,q.props,null,P.mode,J),Io(J,q),J.return=P,P=J)}return b(P);case U:e:{for(Te=q.key;O!==null;){if(O.key===Te)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){i(P,O.sibling),J=h(O,q.children||[]),J.return=P,P=J;break e}else{i(P,O);break}else s(P,O);O=O.sibling}J=Xh(q,P.mode,J),J.return=P,P=J}return b(P);case E:return q=yi(q),gt(P,O,q,J)}if(tt(q))return be(P,O,q,J);if(V(q)){if(Te=V(q),typeof Te!="function")throw Error(a(150));return q=Te.call(q),Ae(P,O,q,J)}if(typeof q.then=="function")return gt(P,O,Eu(q),J);if(q.$$typeof===ae)return gt(P,O,vu(P,q),J);Tu(P,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,O!==null&&O.tag===6?(i(P,O.sibling),J=h(O,q),J.return=P,P=J):(i(P,O),J=Yh(q,P.mode,J),J.return=P,P=J),b(P)):i(P,O)}return function(P,O,q,J){try{Ro=0;var Te=gt(P,O,q,J);return fl=null,Te}catch(_e){if(_e===hl||_e===wu)throw _e;var nt=Bn(29,_e,null,P.mode);return nt.lanes=J,nt.return=P,nt}finally{}}}var bi=kp(!0),Dp=kp(!1),oa=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ca(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ua(t,s,i){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(it&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=pu(t),pp(t,null,i),s}return gu(t,c,s,i),pu(t)}function ko(t,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,i|=c,s.lanes=i,ro(t,i)}}function df(t,s){var i=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,i=i.next}while(i!==null);m===null?h=m=s:m=m.next=s}else h=m=s;i={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=s:t.next=s,i.lastBaseUpdate=s}var hf=!1;function Do(){if(hf){var t=dl;if(t!==null)throw t}}function Oo(t,s,i,c){hf=!1;var h=t.updateQueue;oa=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var R=N,B=R.next;R.next=null,b===null?m=B:b.next=B,b=R;var X=t.alternate;X!==null&&(X=X.updateQueue,N=X.lastBaseUpdate,N!==b&&(N===null?X.firstBaseUpdate=B:N.next=B,X.lastBaseUpdate=R))}if(m!==null){var te=h.baseState;b=0,X=B=R=null,N=m;do{var H=N.lane&-536870913,K=H!==N.lane;if(K?(Ge&H)===H:(c&H)===H){H!==0&&H===ul&&(hf=!0),X!==null&&(X=X.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var be=t,Ae=N;H=s;var gt=i;switch(Ae.tag){case 1:if(be=Ae.payload,typeof be=="function"){te=be.call(gt,te,H);break e}te=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ae.payload,H=typeof be=="function"?be.call(gt,te,H):be,H==null)break e;te=w({},te,H);break e;case 2:oa=!0}}H=N.callback,H!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[H]:K.push(H))}else K={lane:H,tag:N.tag,payload:N.payload,callback:N.callback,next:null},X===null?(B=X=K,R=te):X=X.next=K,b|=H;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;K=N,N=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(R=te),h.baseState=R,h.firstBaseUpdate=B,h.lastBaseUpdate=X,m===null&&(h.shared.lanes=0),ga|=b,t.lanes=b,t.memoizedState=te}}function Op(t,s){if(typeof t!="function")throw Error(a(191,t));t.call(s)}function Mp(t,s){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Op(i[t],s)}var ml=D(null),Su=D(0);function Vp(t,s){t=Dr,L(Su,t),L(ml,s),Dr=t|s.baseLanes}function ff(){L(Su,Dr),L(ml,ml.current)}function mf(){Dr=Su.current,Z(ml),Z(Su)}var Hn=D(null),cs=null;function da(t){var s=t.alternate;L(Mt,Mt.current&1),L(Hn,t),cs===null&&(s===null||ml.current!==null||s.memoizedState!==null)&&(cs=t)}function gf(t){L(Mt,Mt.current),L(Hn,t),cs===null&&(cs=t)}function Lp(t){t.tag===22?(L(Mt,Mt.current),L(Hn,t),cs===null&&(cs=t)):ha()}function ha(){L(Mt,Mt.current),L(Hn,Hn.current)}function Fn(t){Z(Hn),cs===t&&(cs=null),Z(Mt)}var Mt=D(0);function ju(t){for(var s=t;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||_m(i)||wm(i)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Tr=0,Ue=null,ft=null,Ht=null,Au=!1,gl=!1,vi=!1,Cu=0,Mo=0,pl=null,eN=0;function Rt(){throw Error(a(321))}function pf(t,s){if(s===null)return!1;for(var i=0;i<s.length&&i<t.length;i++)if(!qn(t[i],s[i]))return!1;return!0}function yf(t,s,i,c,h,m){return Tr=m,Ue=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=t===null||t.memoizedState===null?vy:kf,vi=!1,m=i(c,h),vi=!1,gl&&(m=zp(s,i,c,h)),Pp(t),m}function Pp(t){Q.H=Po;var s=ft!==null&&ft.next!==null;if(Tr=0,Ht=ft=Ue=null,Au=!1,Mo=0,pl=null,s)throw Error(a(300));t===null||Ft||(t=t.dependencies,t!==null&&bu(t)&&(Ft=!0))}function zp(t,s,i,c){Ue=t;var h=0;do{if(gl&&(pl=null),Mo=0,gl=!1,25<=h)throw Error(a(301));if(h+=1,Ht=ft=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=_y,m=s(i,c)}while(gl);return m}function tN(){var t=Q.H,s=t.useState()[0];return s=typeof s.then=="function"?Vo(s):s,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(Ue.flags|=1024),s}function xf(){var t=Cu!==0;return Cu=0,t}function bf(t,s,i){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~i}function vf(t){if(Au){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Au=!1}Tr=0,Ht=ft=Ue=null,gl=!1,Mo=Cu=0,pl=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ue.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function Vt(){if(ft===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var s=Ht===null?Ue.memoizedState:Ht.next;if(s!==null)Ht=s,ft=t;else{if(t===null)throw Ue.alternate===null?Error(a(467)):Error(a(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Ht===null?Ue.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(t){var s=Mo;return Mo+=1,pl===null&&(pl=[]),t=Cp(pl,t,s),s=Ue,(Ht===null?s.memoizedState:Ht.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?vy:kf),t}function Iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Vo(t);if(t.$$typeof===ae)return ln(t)}throw Error(a(438,String(t)))}function _f(t){var s=null,i=Ue.updateQueue;if(i!==null&&(s=i.memoCache),s==null){var c=Ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),i===null&&(i=Ru(),Ue.updateQueue=i),i.memoCache=s,i=s.data[s.index],i===void 0)for(i=s.data[s.index]=Array(t),c=0;c<t;c++)i[c]=k;return s.index++,i}function Sr(t,s){return typeof s=="function"?s(t):s}function ku(t){var s=Vt();return wf(s,ft,t)}function wf(t,s,i){var c=t.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=i;var h=t.baseQueue,m=c.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}s.baseQueue=h=m,c.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{s=h.next;var N=b=null,R=null,B=s,X=!1;do{var te=B.lane&-536870913;if(te!==B.lane?(Ge&te)===te:(Tr&te)===te){var H=B.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),te===ul&&(X=!0);else if((Tr&H)===H){B=B.next,H===ul&&(X=!0);continue}else te={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(N=R=te,b=m):R=R.next=te,Ue.lanes|=H,ga|=H;te=B.action,vi&&i(m,te),m=B.hasEagerState?B.eagerState:i(m,te)}else H={lane:te,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(N=R=H,b=m):R=R.next=H,Ue.lanes|=te,ga|=te;B=B.next}while(B!==null&&B!==s);if(R===null?b=m:R.next=N,!qn(m,t.memoizedState)&&(Ft=!0,X&&(i=dl,i!==null)))throw i;t.memoizedState=m,t.baseState=b,t.baseQueue=R,c.lastRenderedState=m}return h===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Nf(t){var s=Vt(),i=s.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=t;var c=i.dispatch,h=i.pending,m=s.memoizedState;if(h!==null){i.pending=null;var b=h=h.next;do m=t(m,b.action),b=b.next;while(b!==h);qn(m,s.memoizedState)||(Ft=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),i.lastRenderedState=m}return[m,c]}function Up(t,s,i){var c=Ue,h=Vt(),m=We;if(m){if(i===void 0)throw Error(a(407));i=i()}else i=s();var b=!qn((ft||h).memoizedState,i);if(b&&(h.memoizedState=i,Ft=!0),h=h.queue,Sf(Hp.bind(null,c,h,t),[t]),h.getSnapshot!==s||b||Ht!==null&&Ht.memoizedState.tag&1){if(c.flags|=2048,yl(9,{destroy:void 0},Bp.bind(null,c,h,i,s),null),yt===null)throw Error(a(349));m||(Tr&127)!==0||qp(c,s,i)}return i}function qp(t,s,i){t.flags|=16384,t={getSnapshot:s,value:i},s=Ue.updateQueue,s===null?(s=Ru(),Ue.updateQueue=s,s.stores=[t]):(i=s.stores,i===null?s.stores=[t]:i.push(t))}function Bp(t,s,i,c){s.value=i,s.getSnapshot=c,Fp(s)&&Gp(t)}function Hp(t,s,i){return i(function(){Fp(s)&&Gp(t)})}function Fp(t){var s=t.getSnapshot;t=t.value;try{var i=s();return!qn(t,i)}catch{return!0}}function Gp(t){var s=di(t,2);s!==null&&kn(s,t,2)}function Ef(t){var s=vn();if(typeof t=="function"){var i=t;if(t=i(),vi){ue(!0);try{i()}finally{ue(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:t},s}function $p(t,s,i,c){return t.baseState=i,wf(t,ft,typeof c=="function"?c:Sr)}function nN(t,s,i,c,h){if(Mu(t))throw Error(a(485));if(t=s.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Q.T!==null?i(!0):m.isTransition=!1,c(m),i=s.pending,i===null?(m.next=s.pending=m,Qp(s,m)):(m.next=i.next,s.pending=i.next=m)}}function Qp(t,s){var i=s.action,c=s.payload,h=t.state;if(s.isTransition){var m=Q.T,b={};Q.T=b;try{var N=i(h,c),R=Q.S;R!==null&&R(b,N),Kp(t,s,N)}catch(B){Tf(t,s,B)}finally{m!==null&&b.types!==null&&(m.types=b.types),Q.T=m}}else try{m=i(h,c),Kp(t,s,m)}catch(B){Tf(t,s,B)}}function Kp(t,s,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){Yp(t,s,c)},function(c){return Tf(t,s,c)}):Yp(t,s,i)}function Yp(t,s,i){s.status="fulfilled",s.value=i,Xp(s),t.state=i,s=t.pending,s!==null&&(i=s.next,i===s?t.pending=null:(i=i.next,s.next=i,Qp(t,i)))}function Tf(t,s,i){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=i,Xp(s),s=s.next;while(s!==c)}t.action=null}function Xp(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Wp(t,s){return s}function Zp(t,s){if(We){var i=yt.formState;if(i!==null){e:{var c=Ue;if(We){if(vt){t:{for(var h=vt,m=os;h.nodeType!==8;){if(!m){h=null;break t}if(h=us(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){vt=us(h.nextSibling),c=h.data==="F!";break e}}ia(c)}c=!1}c&&(s=i[0])}}return i=vn(),i.memoizedState=i.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wp,lastRenderedState:s},i.queue=c,i=yy.bind(null,Ue,c),c.dispatch=i,c=Ef(!1),m=If.bind(null,Ue,!1,c.queue),c=vn(),h={state:s,dispatch:null,action:t,pending:null},c.queue=h,i=nN.bind(null,Ue,h,m,i),h.dispatch=i,c.memoizedState=t,[s,i,!1]}function Jp(t){var s=Vt();return ey(s,ft,t)}function ey(t,s,i){if(s=wf(t,s,Wp)[0],t=ku(Sr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Vo(s)}catch(b){throw b===hl?wu:b}else c=s;s=Vt();var h=s.queue,m=h.dispatch;return i!==s.memoizedState&&(Ue.flags|=2048,yl(9,{destroy:void 0},sN.bind(null,h,i),null)),[c,m,t]}function sN(t,s){t.action=s}function ty(t){var s=Vt(),i=ft;if(i!==null)return ey(s,i,t);Vt(),s=s.memoizedState,i=Vt();var c=i.queue.dispatch;return i.memoizedState=t,[s,c,!1]}function yl(t,s,i,c){return t={tag:t,create:i,deps:c,inst:s,next:null},s=Ue.updateQueue,s===null&&(s=Ru(),Ue.updateQueue=s),i=s.lastEffect,i===null?s.lastEffect=t.next=t:(c=i.next,i.next=t,t.next=c,s.lastEffect=t),t}function ny(){return Vt().memoizedState}function Du(t,s,i,c){var h=vn();Ue.flags|=t,h.memoizedState=yl(1|s,{destroy:void 0},i,c===void 0?null:c)}function Ou(t,s,i,c){var h=Vt();c=c===void 0?null:c;var m=h.memoizedState.inst;ft!==null&&c!==null&&pf(c,ft.memoizedState.deps)?h.memoizedState=yl(s,m,i,c):(Ue.flags|=t,h.memoizedState=yl(1|s,m,i,c))}function sy(t,s){Du(8390656,8,t,s)}function Sf(t,s){Ou(2048,8,t,s)}function rN(t){Ue.flags|=4;var s=Ue.updateQueue;if(s===null)s=Ru(),Ue.updateQueue=s,s.events=[t];else{var i=s.events;i===null?s.events=[t]:i.push(t)}}function ry(t){var s=Vt().memoizedState;return rN({ref:s,nextImpl:t}),function(){if((it&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function ay(t,s){return Ou(4,2,t,s)}function iy(t,s){return Ou(4,4,t,s)}function ly(t,s){if(typeof s=="function"){t=t();var i=s(t);return function(){typeof i=="function"?i():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function oy(t,s,i){i=i!=null?i.concat([t]):null,Ou(4,4,ly.bind(null,s,t),i)}function jf(){}function cy(t,s){var i=Vt();s=s===void 0?null:s;var c=i.memoizedState;return s!==null&&pf(s,c[1])?c[0]:(i.memoizedState=[t,s],t)}function uy(t,s){var i=Vt();s=s===void 0?null:s;var c=i.memoizedState;if(s!==null&&pf(s,c[1]))return c[0];if(c=t(),vi){ue(!0);try{t()}finally{ue(!1)}}return i.memoizedState=[c,s],c}function Af(t,s,i){return i===void 0||(Tr&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=s:(t.memoizedState=i,t=dx(),Ue.lanes|=t,ga|=t,i)}function dy(t,s,i,c){return qn(i,s)?i:ml.current!==null?(t=Af(t,i,c),qn(t,s)||(Ft=!0),t):(Tr&42)===0||(Tr&1073741824)!==0&&(Ge&261930)===0?(Ft=!0,t.memoizedState=i):(t=dx(),Ue.lanes|=t,ga|=t,s)}function hy(t,s,i,c,h){var m=ce.p;ce.p=m!==0&&8>m?m:8;var b=Q.T,N={};Q.T=N,If(t,!1,s,i);try{var R=h(),B=Q.S;if(B!==null&&B(N,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var X=J2(R,c);Lo(t,s,X,Qn(t))}else Lo(t,s,c,Qn(t))}catch(te){Lo(t,s,{then:function(){},status:"rejected",reason:te},Qn())}finally{ce.p=m,b!==null&&N.types!==null&&(b.types=N.types),Q.T=b}}function aN(){}function Cf(t,s,i,c){if(t.tag!==5)throw Error(a(476));var h=fy(t).queue;hy(t,h,s,xe,i===null?aN:function(){return my(t),i(c)})}function fy(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:xe},next:null};var i={};return s.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:i},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function my(t){var s=fy(t);s.next===null&&(s=t.alternate.memoizedState),Lo(t,s.next.queue,{},Qn())}function Rf(){return ln(ec)}function gy(){return Vt().memoizedState}function py(){return Vt().memoizedState}function iN(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var i=Qn();t=ca(i);var c=ua(s,t,i);c!==null&&(kn(c,s,i),ko(c,s,i)),s={cache:rf()},t.payload=s;return}s=s.return}}function lN(t,s,i){var c=Qn();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Mu(t)?xy(s,i):(i=Qh(t,s,i,c),i!==null&&(kn(i,t,c),by(i,s,c)))}function yy(t,s,i){var c=Qn();Lo(t,s,i,c)}function Lo(t,s,i,c){var h={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Mu(t))xy(s,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,N=m(b,i);if(h.hasEagerState=!0,h.eagerState=N,qn(N,b))return gu(t,s,h,0),yt===null&&mu(),!1}catch{}finally{}if(i=Qh(t,s,h,c),i!==null)return kn(i,t,c),by(i,s,c),!0}return!1}function If(t,s,i,c){if(c={lane:2,revertLane:cm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Mu(t)){if(s)throw Error(a(479))}else s=Qh(t,i,c,2),s!==null&&kn(s,t,2)}function Mu(t){var s=t.alternate;return t===Ue||s!==null&&s===Ue}function xy(t,s){gl=Au=!0;var i=t.pending;i===null?s.next=s:(s.next=i.next,i.next=s),t.pending=s}function by(t,s,i){if((i&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,i|=c,s.lanes=i,ro(t,i)}}var Po={readContext:ln,use:Iu,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};Po.useEffectEvent=Rt;var vy={readContext:ln,use:Iu,useCallback:function(t,s){return vn().memoizedState=[t,s===void 0?null:s],t},useContext:ln,useEffect:sy,useImperativeHandle:function(t,s,i){i=i!=null?i.concat([t]):null,Du(4194308,4,ly.bind(null,s,t),i)},useLayoutEffect:function(t,s){return Du(4194308,4,t,s)},useInsertionEffect:function(t,s){Du(4,2,t,s)},useMemo:function(t,s){var i=vn();s=s===void 0?null:s;var c=t();if(vi){ue(!0);try{t()}finally{ue(!1)}}return i.memoizedState=[c,s],c},useReducer:function(t,s,i){var c=vn();if(i!==void 0){var h=i(s);if(vi){ue(!0);try{i(s)}finally{ue(!1)}}}else h=s;return c.memoizedState=c.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},c.queue=t,t=t.dispatch=lN.bind(null,Ue,t),[c.memoizedState,t]},useRef:function(t){var s=vn();return t={current:t},s.memoizedState=t},useState:function(t){t=Ef(t);var s=t.queue,i=yy.bind(null,Ue,s);return s.dispatch=i,[t.memoizedState,i]},useDebugValue:jf,useDeferredValue:function(t,s){var i=vn();return Af(i,t,s)},useTransition:function(){var t=Ef(!1);return t=hy.bind(null,Ue,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,i){var c=Ue,h=vn();if(We){if(i===void 0)throw Error(a(407));i=i()}else{if(i=s(),yt===null)throw Error(a(349));(Ge&127)!==0||qp(c,s,i)}h.memoizedState=i;var m={value:i,getSnapshot:s};return h.queue=m,sy(Hp.bind(null,c,m,t),[t]),c.flags|=2048,yl(9,{destroy:void 0},Bp.bind(null,c,m,i,s),null),i},useId:function(){var t=vn(),s=yt.identifierPrefix;if(We){var i=er,c=Js;i=(c&~(1<<32-je(c)-1)).toString(32)+i,s="_"+s+"R_"+i,i=Cu++,0<i&&(s+="H"+i.toString(32)),s+="_"}else i=eN++,s="_"+s+"r_"+i.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Rf,useFormState:Zp,useActionState:Zp,useOptimistic:function(t){var s=vn();s.memoizedState=s.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=i,s=If.bind(null,Ue,!0,i),i.dispatch=s,[t,s]},useMemoCache:_f,useCacheRefresh:function(){return vn().memoizedState=iN.bind(null,Ue)},useEffectEvent:function(t){var s=vn(),i={impl:t};return s.memoizedState=i,function(){if((it&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},kf={readContext:ln,use:Iu,useCallback:cy,useContext:ln,useEffect:Sf,useImperativeHandle:oy,useInsertionEffect:ay,useLayoutEffect:iy,useMemo:uy,useReducer:ku,useRef:ny,useState:function(){return ku(Sr)},useDebugValue:jf,useDeferredValue:function(t,s){var i=Vt();return dy(i,ft.memoizedState,t,s)},useTransition:function(){var t=ku(Sr)[0],s=Vt().memoizedState;return[typeof t=="boolean"?t:Vo(t),s]},useSyncExternalStore:Up,useId:gy,useHostTransitionStatus:Rf,useFormState:Jp,useActionState:Jp,useOptimistic:function(t,s){var i=Vt();return $p(i,ft,t,s)},useMemoCache:_f,useCacheRefresh:py};kf.useEffectEvent=ry;var _y={readContext:ln,use:Iu,useCallback:cy,useContext:ln,useEffect:Sf,useImperativeHandle:oy,useInsertionEffect:ay,useLayoutEffect:iy,useMemo:uy,useReducer:Nf,useRef:ny,useState:function(){return Nf(Sr)},useDebugValue:jf,useDeferredValue:function(t,s){var i=Vt();return ft===null?Af(i,t,s):dy(i,ft.memoizedState,t,s)},useTransition:function(){var t=Nf(Sr)[0],s=Vt().memoizedState;return[typeof t=="boolean"?t:Vo(t),s]},useSyncExternalStore:Up,useId:gy,useHostTransitionStatus:Rf,useFormState:ty,useActionState:ty,useOptimistic:function(t,s){var i=Vt();return ft!==null?$p(i,ft,t,s):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:_f,useCacheRefresh:py};_y.useEffectEvent=ry;function Df(t,s,i,c){s=t.memoizedState,i=i(c,s),i=i==null?s:w({},s,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Of={enqueueSetState:function(t,s,i){t=t._reactInternals;var c=Qn(),h=ca(c);h.payload=s,i!=null&&(h.callback=i),s=ua(t,h,c),s!==null&&(kn(s,t,c),ko(s,t,c))},enqueueReplaceState:function(t,s,i){t=t._reactInternals;var c=Qn(),h=ca(c);h.tag=1,h.payload=s,i!=null&&(h.callback=i),s=ua(t,h,c),s!==null&&(kn(s,t,c),ko(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var i=Qn(),c=ca(i);c.tag=2,s!=null&&(c.callback=s),s=ua(t,c,i),s!==null&&(kn(s,t,i),ko(s,t,i))}};function wy(t,s,i,c,h,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,b):s.prototype&&s.prototype.isPureReactComponent?!Eo(i,c)||!Eo(h,m):!0}function Ny(t,s,i,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,c),s.state!==t&&Of.enqueueReplaceState(s,s.state,null)}function _i(t,s){var i=s;if("ref"in s){i={};for(var c in s)c!=="ref"&&(i[c]=s[c])}if(t=t.defaultProps){i===s&&(i=w({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function Ey(t){fu(t)}function Ty(t){console.error(t)}function Sy(t){fu(t)}function Vu(t,s){try{var i=t.onUncaughtError;i(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function jy(t,s,i){try{var c=t.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(t,s,i){return i=ca(i),i.tag=3,i.payload={element:null},i.callback=function(){Vu(t,s)},i}function Ay(t){return t=ca(t),t.tag=3,t}function Cy(t,s,i,c){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=c.value;t.payload=function(){return h(m)},t.callback=function(){jy(s,i,c)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){jy(s,i,c),typeof h!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function oN(t,s,i,c,h){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=i.alternate,s!==null&&cl(s,i,h,!0),i=Hn.current,i!==null){switch(i.tag){case 31:case 13:return cs===null?Ku():i.alternate===null&&It===0&&(It=3),i.flags&=-257,i.flags|=65536,i.lanes=h,c===Nu?i.flags|=16384:(s=i.updateQueue,s===null?i.updateQueue=new Set([c]):s.add(c),im(t,c,h)),!1;case 22:return i.flags|=65536,c===Nu?i.flags|=16384:(s=i.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=s):(i=s.retryQueue,i===null?s.retryQueue=new Set([c]):i.add(c)),im(t,c,h)),!1}throw Error(a(435,i.tag))}return im(t,c,h),Ku(),!1}if(We)return s=Hn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==Jh&&(t=Error(a(422),{cause:c}),jo(as(t,i)))):(c!==Jh&&(s=Error(a(423),{cause:c}),jo(as(s,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,c=as(c,i),h=Mf(t.stateNode,c,h),df(t,h),It!==4&&(It=2)),!1;var m=Error(a(520),{cause:c});if(m=as(m,i),$o===null?$o=[m]:$o.push(m),It!==4&&(It=2),s===null)return!0;c=as(c,i),i=s;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=Mf(i.stateNode,c,t),df(i,t),!1;case 1:if(s=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(pa===null||!pa.has(m))))return i.flags|=65536,h&=-h,i.lanes|=h,h=Ay(h),Cy(h,t,i,c),df(i,h),!1}i=i.return}while(i!==null);return!1}var Vf=Error(a(461)),Ft=!1;function on(t,s,i,c){s.child=t===null?Dp(s,null,i,c):bi(s,t.child,i,c)}function Ry(t,s,i,c,h){i=i.render;var m=s.ref;if("ref"in c){var b={};for(var N in c)N!=="ref"&&(b[N]=c[N])}else b=c;return gi(s),c=yf(t,s,i,b,m,h),N=xf(),t!==null&&!Ft?(bf(t,s,h),jr(t,s,h)):(We&&N&&Wh(s),s.flags|=1,on(t,s,c,h),s.child)}function Iy(t,s,i,c,h){if(t===null){var m=i.type;return typeof m=="function"&&!Kh(m)&&m.defaultProps===void 0&&i.compare===null?(s.tag=15,s.type=m,ky(t,s,m,c,h)):(t=yu(i.type,null,c,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Ff(t,h)){var b=m.memoizedProps;if(i=i.compare,i=i!==null?i:Eo,i(b,c)&&t.ref===s.ref)return jr(t,s,h)}return s.flags|=1,t=_r(m,c),t.ref=s.ref,t.return=s,s.child=t}function ky(t,s,i,c,h){if(t!==null){var m=t.memoizedProps;if(Eo(m,c)&&t.ref===s.ref)if(Ft=!1,s.pendingProps=c=m,Ff(t,h))(t.flags&131072)!==0&&(Ft=!0);else return s.lanes=t.lanes,jr(t,s,h)}return Lf(t,s,i,c,h)}function Dy(t,s,i,c){var h=c.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,t!==null){for(c=s.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~m}else c=0,s.child=null;return Oy(t,s,m,i,c)}if((i&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(s,m!==null?m.cachePool:null),m!==null?Vp(s,m):ff(),Lp(s);else return c=s.lanes=536870912,Oy(t,s,m!==null?m.baseLanes|i:i,i,c)}else m!==null?(_u(s,m.cachePool),Vp(s,m),ha(),s.memoizedState=null):(t!==null&&_u(s,null),ff(),ha());return on(t,s,h,i),s.child}function zo(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Oy(t,s,i,c,h){var m=lf();return m=m===null?null:{parent:Bt._currentValue,pool:m},s.memoizedState={baseLanes:i,cachePool:m},t!==null&&_u(s,null),ff(),Lp(s),t!==null&&cl(t,s,c,!0),s.childLanes=h,null}function Lu(t,s){return s=zu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function My(t,s,i){return bi(s,t.child,null,i),t=Lu(s,s.pendingProps),t.flags|=2,Fn(s),s.memoizedState=null,t}function cN(t,s,i){var c=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(We){if(c.mode==="hidden")return t=Lu(s,c),s.lanes=536870912,zo(null,t);if(gf(s),(t=vt)?(t=Qx(t,os),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ra!==null?{id:Js,overflow:er}:null,retryLane:536870912,hydrationErrors:null},i=xp(t),i.return=s,s.child=i,an=s,vt=null)):t=null,t===null)throw ia(s);return s.lanes=536870912,null}return Lu(s,c)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(gf(s),h)if(s.flags&256)s.flags&=-257,s=My(t,s,i);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(a(558));else if(Ft||cl(t,s,i,!1),h=(i&t.childLanes)!==0,Ft||h){if(c=yt,c!==null&&(b=ao(c,i),b!==0&&b!==m.retryLane))throw m.retryLane=b,di(t,b),kn(c,t,b),Vf;Ku(),s=My(t,s,i)}else t=m.treeContext,vt=us(b.nextSibling),an=s,We=!0,aa=null,os=!1,t!==null&&_p(s,t),s=Lu(s,c),s.flags|=4096;return s}return t=_r(t.child,{mode:c.mode,children:c.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Pu(t,s){var i=s.ref;if(i===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(t===null||t.ref!==i)&&(s.flags|=4194816)}}function Lf(t,s,i,c,h){return gi(s),i=yf(t,s,i,c,void 0,h),c=xf(),t!==null&&!Ft?(bf(t,s,h),jr(t,s,h)):(We&&c&&Wh(s),s.flags|=1,on(t,s,i,h),s.child)}function Vy(t,s,i,c,h,m){return gi(s),s.updateQueue=null,i=zp(s,c,i,h),Pp(t),c=xf(),t!==null&&!Ft?(bf(t,s,m),jr(t,s,m)):(We&&c&&Wh(s),s.flags|=1,on(t,s,i,m),s.child)}function Ly(t,s,i,c,h){if(gi(s),s.stateNode===null){var m=al,b=i.contextType;typeof b=="object"&&b!==null&&(m=ln(b)),m=new i(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Of,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},cf(s),b=i.contextType,m.context=typeof b=="object"&&b!==null?ln(b):al,m.state=s.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(Df(s,i,b,c),m.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Of.enqueueReplaceState(m,m.state,null),Oo(s,c,m,h),Do(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){m=s.stateNode;var N=s.memoizedProps,R=_i(i,N);m.props=R;var B=m.context,X=i.contextType;b=al,typeof X=="object"&&X!==null&&(b=ln(X));var te=i.getDerivedStateFromProps;X=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(N||B!==b)&&Ny(s,m,c,b),oa=!1;var H=s.memoizedState;m.state=H,Oo(s,c,m,h),Do(),B=s.memoizedState,N||H!==B||oa?(typeof te=="function"&&(Df(s,i,te,c),B=s.memoizedState),(R=oa||wy(s,i,R,c,H,B,b))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=B),m.props=c,m.state=B,m.context=b,c=R):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,uf(t,s),b=s.memoizedProps,X=_i(i,b),m.props=X,te=s.pendingProps,H=m.context,B=i.contextType,R=al,typeof B=="object"&&B!==null&&(R=ln(B)),N=i.getDerivedStateFromProps,(B=typeof N=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==te||H!==R)&&Ny(s,m,c,R),oa=!1,H=s.memoizedState,m.state=H,Oo(s,c,m,h),Do();var K=s.memoizedState;b!==te||H!==K||oa||t!==null&&t.dependencies!==null&&bu(t.dependencies)?(typeof N=="function"&&(Df(s,i,N,c),K=s.memoizedState),(X=oa||wy(s,i,X,c,H,K,R)||t!==null&&t.dependencies!==null&&bu(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,K,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,K,R)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=K),m.props=c,m.state=K,m.context=R,c=X):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(s.flags|=1024),c=!1)}return m=c,Pu(t,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&c?(s.child=bi(s,t.child,null,h),s.child=bi(s,null,i,h)):on(t,s,i,h),s.memoizedState=m.state,t=s.child):t=jr(t,s,h),t}function Py(t,s,i,c){return fi(),s.flags|=256,on(t,s,i,c),s.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(t){return{baseLanes:t,cachePool:jp()}}function Uf(t,s,i){return t=t!==null?t.childLanes&~i:0,s&&(t|=$n),t}function zy(t,s,i){var c=s.pendingProps,h=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,t===null){if(We){if(h?da(s):ha(),(t=vt)?(t=Qx(t,os),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ra!==null?{id:Js,overflow:er}:null,retryLane:536870912,hydrationErrors:null},i=xp(t),i.return=s,s.child=i,an=s,vt=null)):t=null,t===null)throw ia(s);return wm(t)?s.lanes=32:s.lanes=536870912,null}var N=c.children;return c=c.fallback,h?(ha(),h=s.mode,N=zu({mode:"hidden",children:N},h),c=hi(c,h,i,null),N.return=s,c.return=s,N.sibling=c,s.child=N,c=s.child,c.memoizedState=zf(i),c.childLanes=Uf(t,b,i),s.memoizedState=Pf,zo(null,c)):(da(s),qf(s,N))}var R=t.memoizedState;if(R!==null&&(N=R.dehydrated,N!==null)){if(m)s.flags&256?(da(s),s.flags&=-257,s=Bf(t,s,i)):s.memoizedState!==null?(ha(),s.child=t.child,s.flags|=128,s=null):(ha(),N=c.fallback,h=s.mode,c=zu({mode:"visible",children:c.children},h),N=hi(N,h,i,null),N.flags|=2,c.return=s,N.return=s,c.sibling=N,s.child=c,bi(s,t.child,null,i),c=s.child,c.memoizedState=zf(i),c.childLanes=Uf(t,b,i),s.memoizedState=Pf,s=zo(null,c));else if(da(s),wm(N)){if(b=N.nextSibling&&N.nextSibling.dataset,b)var B=b.dgst;b=B,c=Error(a(419)),c.stack="",c.digest=b,jo({value:c,source:null,stack:null}),s=Bf(t,s,i)}else if(Ft||cl(t,s,i,!1),b=(i&t.childLanes)!==0,Ft||b){if(b=yt,b!==null&&(c=ao(b,i),c!==0&&c!==R.retryLane))throw R.retryLane=c,di(t,c),kn(b,t,c),Vf;_m(N)||Ku(),s=Bf(t,s,i)}else _m(N)?(s.flags|=192,s.child=t.child,s=null):(t=R.treeContext,vt=us(N.nextSibling),an=s,We=!0,aa=null,os=!1,t!==null&&_p(s,t),s=qf(s,c.children),s.flags|=4096);return s}return h?(ha(),N=c.fallback,h=s.mode,R=t.child,B=R.sibling,c=_r(R,{mode:"hidden",children:c.children}),c.subtreeFlags=R.subtreeFlags&65011712,B!==null?N=_r(B,N):(N=hi(N,h,i,null),N.flags|=2),N.return=s,c.return=s,c.sibling=N,s.child=c,zo(null,c),c=s.child,N=t.child.memoizedState,N===null?N=zf(i):(h=N.cachePool,h!==null?(R=Bt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=jp(),N={baseLanes:N.baseLanes|i,cachePool:h}),c.memoizedState=N,c.childLanes=Uf(t,b,i),s.memoizedState=Pf,zo(t.child,c)):(da(s),i=t.child,t=i.sibling,i=_r(i,{mode:"visible",children:c.children}),i.return=s,i.sibling=null,t!==null&&(b=s.deletions,b===null?(s.deletions=[t],s.flags|=16):b.push(t)),s.child=i,s.memoizedState=null,i)}function qf(t,s){return s=zu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function zu(t,s){return t=Bn(22,t,null,s),t.lanes=0,t}function Bf(t,s,i){return bi(s,t.child,null,i),t=qf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Uy(t,s,i){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),nf(t.return,s,i)}function Hf(t,s,i,c,h,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:h,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=i,b.tailMode=h,b.treeForkCount=m)}function qy(t,s,i){var c=s.pendingProps,h=c.revealOrder,m=c.tail;c=c.children;var b=Mt.current,N=(b&2)!==0;if(N?(b=b&1|2,s.flags|=128):b&=1,L(Mt,b),on(t,s,c,i),c=We?So:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uy(t,i,s);else if(t.tag===19)Uy(t,i,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=s.child,h=null;i!==null;)t=i.alternate,t!==null&&ju(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=s.child,s.child=null):(h=i.sibling,i.sibling=null),Hf(s,!1,h,i,m,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&ju(t)===null){s.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Hf(s,!0,i,null,m,c);break;case"together":Hf(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function jr(t,s,i){if(t!==null&&(s.dependencies=t.dependencies),ga|=s.lanes,(i&s.childLanes)===0)if(t!==null){if(cl(t,s,i,!1),(i&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(a(153));if(s.child!==null){for(t=s.child,i=_r(t,t.pendingProps),s.child=i,i.return=s;t.sibling!==null;)t=t.sibling,i=i.sibling=_r(t,t.pendingProps),i.return=s;i.sibling=null}return s.child}function Ff(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&bu(t)))}function uN(t,s,i){switch(s.tag){case 3:Be(s,s.stateNode.containerInfo),la(s,Bt,t.memoizedState.cache),fi();break;case 27:case 5:jt(s);break;case 4:Be(s,s.stateNode.containerInfo);break;case 10:la(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,gf(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(da(s),s.flags|=128,null):(i&s.child.childLanes)!==0?zy(t,s,i):(da(s),t=jr(t,s,i),t!==null?t.sibling:null);da(s);break;case 19:var h=(t.flags&128)!==0;if(c=(i&s.childLanes)!==0,c||(cl(t,s,i,!1),c=(i&s.childLanes)!==0),h){if(c)return qy(t,s,i);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),L(Mt,Mt.current),c)break;return null;case 22:return s.lanes=0,Dy(t,s,i,s.pendingProps);case 24:la(s,Bt,t.memoizedState.cache)}return jr(t,s,i)}function By(t,s,i){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ft=!0;else{if(!Ff(t,i)&&(s.flags&128)===0)return Ft=!1,uN(t,s,i);Ft=(t.flags&131072)!==0}else Ft=!1,We&&(s.flags&1048576)!==0&&vp(s,So,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(t=yi(s.elementType),s.type=t,typeof t=="function")Kh(t)?(c=_i(t,c),s.tag=1,s=Ly(null,s,t,c,i)):(s.tag=0,s=Lf(null,s,t,c,i));else{if(t!=null){var h=t.$$typeof;if(h===me){s.tag=11,s=Ry(null,s,t,c,i);break e}else if(h===S){s.tag=14,s=Iy(null,s,t,c,i);break e}}throw s=Xe(t)||t,Error(a(306,s,""))}}return s;case 0:return Lf(t,s,s.type,s.pendingProps,i);case 1:return c=s.type,h=_i(c,s.pendingProps),Ly(t,s,c,h,i);case 3:e:{if(Be(s,s.stateNode.containerInfo),t===null)throw Error(a(387));c=s.pendingProps;var m=s.memoizedState;h=m.element,uf(t,s),Oo(s,c,null,i);var b=s.memoizedState;if(c=b.cache,la(s,Bt,c),c!==m.cache&&sf(s,[Bt],i,!0),Do(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Py(t,s,c,i);break e}else if(c!==h){h=as(Error(a(424)),s),jo(h),s=Py(t,s,c,i);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(vt=us(t.firstChild),an=s,We=!0,aa=null,os=!0,i=Dp(s,null,c,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(fi(),c===h){s=jr(t,s,i);break e}on(t,s,c,i)}s=s.child}return s;case 26:return Pu(t,s),t===null?(i=Jx(s.type,null,s.pendingProps,null))?s.memoizedState=i:We||(i=s.type,t=s.pendingProps,c=td(Ce.current).createElement(i),c[zt]=s,c[Zt]=t,cn(c,i,t),Ut(c),s.stateNode=c):s.memoizedState=Jx(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return jt(s),t===null&&We&&(c=s.stateNode=Xx(s.type,s.pendingProps,Ce.current),an=s,os=!0,h=vt,va(s.type)?(Nm=h,vt=us(c.firstChild)):vt=h),on(t,s,s.pendingProps.children,i),Pu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&We&&((h=c=vt)&&(c=UN(c,s.type,s.pendingProps,os),c!==null?(s.stateNode=c,an=s,vt=us(c.firstChild),os=!1,h=!0):h=!1),h||ia(s)),jt(s),h=s.type,m=s.pendingProps,b=t!==null?t.memoizedProps:null,c=m.children,xm(h,m)?c=null:b!==null&&xm(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=yf(t,s,tN,null,null,i),ec._currentValue=h),Pu(t,s),on(t,s,c,i),s.child;case 6:return t===null&&We&&((t=i=vt)&&(i=qN(i,s.pendingProps,os),i!==null?(s.stateNode=i,an=s,vt=null,t=!0):t=!1),t||ia(s)),null;case 13:return zy(t,s,i);case 4:return Be(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=bi(s,null,c,i):on(t,s,c,i),s.child;case 11:return Ry(t,s,s.type,s.pendingProps,i);case 7:return on(t,s,s.pendingProps,i),s.child;case 8:return on(t,s,s.pendingProps.children,i),s.child;case 12:return on(t,s,s.pendingProps.children,i),s.child;case 10:return c=s.pendingProps,la(s,s.type,c.value),on(t,s,c.children,i),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,gi(s),h=ln(h),c=c(h),s.flags|=1,on(t,s,c,i),s.child;case 14:return Iy(t,s,s.type,s.pendingProps,i);case 15:return ky(t,s,s.type,s.pendingProps,i);case 19:return qy(t,s,i);case 31:return cN(t,s,i);case 22:return Dy(t,s,i,s.pendingProps);case 24:return gi(s),c=ln(Bt),t===null?(h=lf(),h===null&&(h=yt,m=rf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=i),h=m),s.memoizedState={parent:c,cache:h},cf(s),la(s,Bt,h)):((t.lanes&i)!==0&&(uf(t,s),Oo(s,null,null,i),Do()),h=t.memoizedState,m=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),la(s,Bt,c)):(c=m.cache,la(s,Bt,c),c!==h.cache&&sf(s,[Bt],i,!0))),on(t,s,s.pendingProps.children,i),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Ar(t){t.flags|=4}function Gf(t,s,i,c,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(gx())t.flags|=8192;else throw xi=Nu,of}else t.flags&=-16777217}function Hy(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!rb(s))if(gx())t.flags|=8192;else throw xi=Nu,of}function Uu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?$c():536870912,t.lanes|=s,_l|=s)}function Uo(t,s){if(!We)switch(t.tailMode){case"hidden":s=t.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function _t(t){var s=t.alternate!==null&&t.alternate.child===t.child,i=0,c=0;if(s)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=i,s}function dN(t,s,i){var c=s.pendingProps;switch(Zh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(s),null;case 1:return _t(s),null;case 3:return i=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Er(Bt),we(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ol(s)?Ar(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ef())),_t(s),null;case 26:var h=s.type,m=s.memoizedState;return t===null?(Ar(s),m!==null?(_t(s),Hy(s,m)):(_t(s),Gf(s,h,null,c,i))):m?m!==t.memoizedState?(Ar(s),_t(s),Hy(s,m)):(_t(s),s.flags&=-16777217):(t=t.memoizedProps,t!==c&&Ar(s),_t(s),Gf(s,h,t,c,i)),null;case 27:if(Nn(s),i=Ce.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Ar(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return _t(s),null}t=W.current,ol(s)?wp(s):(t=Xx(h,c,i),s.stateNode=t,Ar(s))}return _t(s),null;case 5:if(Nn(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Ar(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return _t(s),null}if(m=W.current,ol(s))wp(s);else{var b=td(Ce.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(h,{is:c.is}):b.createElement(h)}}m[zt]=s,m[Zt]=c;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(cn(m,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ar(s)}}return _t(s),Gf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,i),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&Ar(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(t=Ce.current,ol(s)){if(t=s.stateNode,i=s.memoizedProps,c=null,h=an,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}t[zt]=s,t=!!(t.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||zx(t.nodeValue,i)),t||ia(s,!0)}else t=td(t).createTextNode(c),t[zt]=s,s.stateNode=t}return _t(s),null;case 31:if(i=s.memoizedState,t===null||t.memoizedState!==null){if(c=ol(s),i!==null){if(t===null){if(!c)throw Error(a(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[zt]=s}else fi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),t=!1}else i=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return s.flags&256?(Fn(s),s):(Fn(s),null);if((s.flags&128)!==0)throw Error(a(558))}return _t(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ol(s),c!==null&&c.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[zt]=s}else fi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),h=!1}else h=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Fn(s),s):(Fn(s),null)}return Fn(s),(s.flags&128)!==0?(s.lanes=i,s):(i=c!==null,t=t!==null&&t.memoizedState!==null,i&&(c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048)),i!==t&&i&&(s.child.flags|=8192),Uu(s,s.updateQueue),_t(s),null);case 4:return we(),t===null&&fm(s.stateNode.containerInfo),_t(s),null;case 10:return Er(s.type),_t(s),null;case 19:if(Z(Mt),c=s.memoizedState,c===null)return _t(s),null;if(h=(s.flags&128)!==0,m=c.rendering,m===null)if(h)Uo(c,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=ju(t),m!==null){for(s.flags|=128,Uo(c,!1),t=m.updateQueue,s.updateQueue=t,Uu(s,t),s.subtreeFlags=0,t=i,i=s.child;i!==null;)yp(i,t),i=i.sibling;return L(Mt,Mt.current&1|2),We&&wr(s,c.treeForkCount),s.child}t=t.sibling}c.tail!==null&&xt()>Gu&&(s.flags|=128,h=!0,Uo(c,!1),s.lanes=4194304)}else{if(!h)if(t=ju(m),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,Uu(s,t),Uo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!We)return _t(s),null}else 2*xt()-c.renderingStartTime>Gu&&i!==536870912&&(s.flags|=128,h=!0,Uo(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(t=c.last,t!==null?t.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=xt(),t.sibling=null,i=Mt.current,L(Mt,h?i&1|2:i&1),We&&wr(s,c.treeForkCount),t):(_t(s),null);case 22:case 23:return Fn(s),mf(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(i&536870912)!==0&&(s.flags&128)===0&&(_t(s),s.subtreeFlags&6&&(s.flags|=8192)):_t(s),i=s.updateQueue,i!==null&&Uu(s,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==i&&(s.flags|=2048),t!==null&&Z(pi),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),Er(Bt),_t(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function hN(t,s){switch(Zh(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Er(Bt),we(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Nn(s),null;case 31:if(s.memoizedState!==null){if(Fn(s),s.alternate===null)throw Error(a(340));fi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Fn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(a(340));fi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Z(Mt),null;case 4:return we(),null;case 10:return Er(s.type),null;case 22:case 23:return Fn(s),mf(),t!==null&&Z(pi),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Er(Bt),null;case 25:return null;default:return null}}function Fy(t,s){switch(Zh(s),s.tag){case 3:Er(Bt),we();break;case 26:case 27:case 5:Nn(s);break;case 4:we();break;case 31:s.memoizedState!==null&&Fn(s);break;case 13:Fn(s);break;case 19:Z(Mt);break;case 10:Er(s.type);break;case 22:case 23:Fn(s),mf(),t!==null&&Z(pi);break;case 24:Er(Bt)}}function qo(t,s){try{var i=s.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var h=c.next;i=h;do{if((i.tag&t)===t){c=void 0;var m=i.create,b=i.inst;c=m(),b.destroy=c}i=i.next}while(i!==h)}}catch(N){dt(s,s.return,N)}}function fa(t,s,i){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&t)===t){var b=c.inst,N=b.destroy;if(N!==void 0){b.destroy=void 0,h=s;var R=i,B=N;try{B()}catch(X){dt(h,R,X)}}}c=c.next}while(c!==m)}}catch(X){dt(s,s.return,X)}}function Gy(t){var s=t.updateQueue;if(s!==null){var i=t.stateNode;try{Mp(s,i)}catch(c){dt(t,t.return,c)}}}function $y(t,s,i){i.props=_i(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(c){dt(t,s,c)}}function Bo(t,s){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof i=="function"?t.refCleanup=i(c):i.current=c}}catch(h){dt(t,s,h)}}function tr(t,s){var i=t.ref,c=t.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(h){dt(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){dt(t,s,h)}else i.current=null}function Qy(t){var s=t.type,i=t.memoizedProps,c=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(h){dt(t,t.return,h)}}function $f(t,s,i){try{var c=t.stateNode;ON(c,t.type,i,s),c[Zt]=s}catch(h){dt(t,t.return,h)}}function Ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&va(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&va(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,s,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,s):(s=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.appendChild(t),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=vs));else if(c!==4&&(c===27&&va(t.type)&&(i=t.stateNode,s=null),t=t.child,t!==null))for(Kf(t,s,i),t=t.sibling;t!==null;)Kf(t,s,i),t=t.sibling}function qu(t,s,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?i.insertBefore(t,s):i.appendChild(t);else if(c!==4&&(c===27&&va(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(qu(t,s,i),t=t.sibling;t!==null;)qu(t,s,i),t=t.sibling}function Yy(t){var s=t.stateNode,i=t.memoizedProps;try{for(var c=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);cn(s,c,i),s[zt]=t,s[Zt]=i}catch(m){dt(t,t.return,m)}}var Cr=!1,Gt=!1,Yf=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,en=null;function fN(t,s){if(t=t.containerInfo,pm=od,t=op(t),qh(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var b=0,N=-1,R=-1,B=0,X=0,te=t,H=null;t:for(;;){for(var K;te!==i||h!==0&&te.nodeType!==3||(N=b+h),te!==m||c!==0&&te.nodeType!==3||(R=b+c),te.nodeType===3&&(b+=te.nodeValue.length),(K=te.firstChild)!==null;)H=te,te=K;for(;;){if(te===t)break t;if(H===i&&++B===h&&(N=b),H===m&&++X===c&&(R=b),(K=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=K}i=N===-1||R===-1?null:{start:N,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(ym={focusedElem:t,selectionRange:i},od=!1,en=s;en!==null;)if(s=en,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,en=t;else for(;en!==null;){switch(s=en,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,i=s,h=m.memoizedProps,m=m.memoizedState,c=i.stateNode;try{var be=_i(i.type,h);t=c.getSnapshotBeforeUpdate(be,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){dt(i,i.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,i=t.nodeType,i===9)vm(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=s.sibling,t!==null){t.return=s.return,en=t;break}en=s.return}}function Wy(t,s,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:Ir(t,i),c&4&&qo(5,i);break;case 1:if(Ir(t,i),c&4)if(t=i.stateNode,s===null)try{t.componentDidMount()}catch(b){dt(i,i.return,b)}else{var h=_i(i.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(b){dt(i,i.return,b)}}c&64&&Gy(i),c&512&&Bo(i,i.return);break;case 3:if(Ir(t,i),c&64&&(t=i.updateQueue,t!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}try{Mp(t,s)}catch(b){dt(i,i.return,b)}}break;case 27:s===null&&c&4&&Yy(i);case 26:case 5:Ir(t,i),s===null&&c&4&&Qy(i),c&512&&Bo(i,i.return);break;case 12:Ir(t,i);break;case 31:Ir(t,i),c&4&&ex(t,i);break;case 13:Ir(t,i),c&4&&tx(t,i),c&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=wN.bind(null,i),BN(t,i))));break;case 22:if(c=i.memoizedState!==null||Cr,!c){s=s!==null&&s.memoizedState!==null||Gt,h=Cr;var m=Gt;Cr=c,(Gt=s)&&!m?kr(t,i,(i.subtreeFlags&8772)!==0):Ir(t,i),Cr=h,Gt=m}break;case 30:break;default:Ir(t,i)}}function Zy(t){var s=t.alternate;s!==null&&(t.alternate=null,Zy(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Gi(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,An=!1;function Rr(t,s,i){for(i=i.child;i!==null;)Jy(t,s,i),i=i.sibling}function Jy(t,s,i){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(Ne,i)}catch{}switch(i.tag){case 26:Gt||tr(i,s),Rr(t,s,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Gt||tr(i,s);var c=Tt,h=An;va(i.type)&&(Tt=i.stateNode,An=!1),Rr(t,s,i),Wo(i.stateNode),Tt=c,An=h;break;case 5:Gt||tr(i,s);case 6:if(c=Tt,h=An,Tt=null,Rr(t,s,i),Tt=c,An=h,Tt!==null)if(An)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(i.stateNode)}catch(m){dt(i,s,m)}else try{Tt.removeChild(i.stateNode)}catch(m){dt(i,s,m)}break;case 18:Tt!==null&&(An?(t=Tt,Gx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Cl(t)):Gx(Tt,i.stateNode));break;case 4:c=Tt,h=An,Tt=i.stateNode.containerInfo,An=!0,Rr(t,s,i),Tt=c,An=h;break;case 0:case 11:case 14:case 15:fa(2,i,s),Gt||fa(4,i,s),Rr(t,s,i);break;case 1:Gt||(tr(i,s),c=i.stateNode,typeof c.componentWillUnmount=="function"&&$y(i,s,c)),Rr(t,s,i);break;case 21:Rr(t,s,i);break;case 22:Gt=(c=Gt)||i.memoizedState!==null,Rr(t,s,i),Gt=c;break;default:Rr(t,s,i)}}function ex(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cl(t)}catch(i){dt(s,s.return,i)}}}function tx(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(i){dt(s,s.return,i)}}function mN(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Xy),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Xy),s;default:throw Error(a(435,t.tag))}}function Bu(t,s){var i=mN(t);s.forEach(function(c){if(!i.has(c)){i.add(c);var h=NN.bind(null,t,c);c.then(h,h)}})}function Cn(t,s){var i=s.deletions;if(i!==null)for(var c=0;c<i.length;c++){var h=i[c],m=t,b=s,N=b;e:for(;N!==null;){switch(N.tag){case 27:if(va(N.type)){Tt=N.stateNode,An=!1;break e}break;case 5:Tt=N.stateNode,An=!1;break e;case 3:case 4:Tt=N.stateNode.containerInfo,An=!0;break e}N=N.return}if(Tt===null)throw Error(a(160));Jy(m,b,h),Tt=null,An=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)nx(s,t),s=s.sibling}var Ss=null;function nx(t,s){var i=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(s,t),Rn(t),c&4&&(fa(3,t,t.return),qo(3,t),fa(5,t,t.return));break;case 1:Cn(s,t),Rn(t),c&512&&(Gt||i===null||tr(i,i.return)),c&64&&Cr&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var h=Ss;if(Cn(s,t),Rn(t),c&512&&(Gt||i===null||tr(i,i.return)),c&4){var m=i!==null?i.memoizedState:null;if(c=t.memoizedState,i===null)if(c===null)if(t.stateNode===null){e:{c=t.type,i=t.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":m=h.getElementsByTagName("title")[0],(!m||m[qs]||m[zt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(c),h.head.insertBefore(m,h.querySelector("head > title"))),cn(m,c,i),m[zt]=t,Ut(m),c=m;break e;case"link":var b=nb("link","href",h).get(c+(i.href||""));if(b){for(var N=0;N<b.length;N++)if(m=b[N],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(N,1);break t}}m=h.createElement(c),cn(m,c,i),h.head.appendChild(m);break;case"meta":if(b=nb("meta","content",h).get(c+(i.content||""))){for(N=0;N<b.length;N++)if(m=b[N],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(N,1);break t}}m=h.createElement(c),cn(m,c,i),h.head.appendChild(m);break;default:throw Error(a(468,c))}m[zt]=t,Ut(m),c=m}t.stateNode=c}else sb(h,t.type,t.stateNode);else t.stateNode=tb(h,c,t.memoizedProps);else m!==c?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,c===null?sb(h,t.type,t.stateNode):tb(h,c,t.memoizedProps)):c===null&&t.stateNode!==null&&$f(t,t.memoizedProps,i.memoizedProps)}break;case 27:Cn(s,t),Rn(t),c&512&&(Gt||i===null||tr(i,i.return)),i!==null&&c&4&&$f(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Cn(s,t),Rn(t),c&512&&(Gt||i===null||tr(i,i.return)),t.flags&32){h=t.stateNode;try{jn(h,"")}catch(be){dt(t,t.return,be)}}c&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,i!==null?i.memoizedProps:h)),c&1024&&(Yf=!0);break;case 6:if(Cn(s,t),Rn(t),c&4){if(t.stateNode===null)throw Error(a(162));c=t.memoizedProps,i=t.stateNode;try{i.nodeValue=c}catch(be){dt(t,t.return,be)}}break;case 3:if(rd=null,h=Ss,Ss=nd(s.containerInfo),Cn(s,t),Ss=h,Rn(t),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Cl(s.containerInfo)}catch(be){dt(t,t.return,be)}Yf&&(Yf=!1,sx(t));break;case 4:c=Ss,Ss=nd(t.stateNode.containerInfo),Cn(s,t),Rn(t),Ss=c;break;case 12:Cn(s,t),Rn(t);break;case 31:Cn(s,t),Rn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Bu(t,c)));break;case 13:Cn(s,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Fu=xt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Bu(t,c)));break;case 22:h=t.memoizedState!==null;var R=i!==null&&i.memoizedState!==null,B=Cr,X=Gt;if(Cr=B||h,Gt=X||R,Cn(s,t),Gt=X,Cr=B,Rn(t),c&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(i===null||R||Cr||Gt||wi(t)),i=null,s=t;;){if(s.tag===5||s.tag===26){if(i===null){R=i=s;try{if(m=R.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{N=R.stateNode;var te=R.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;N.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(be){dt(R,R.return,be)}}}else if(s.tag===6){if(i===null){R=s;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(be){dt(R,R.return,be)}}}else if(s.tag===18){if(i===null){R=s;try{var K=R.stateNode;h?$x(K,!0):$x(R.stateNode,!1)}catch(be){dt(R,R.return,be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;i===s&&(i=null),s=s.return}i===s&&(i=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,Bu(t,i))));break;case 19:Cn(s,t),Rn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Bu(t,c)));break;case 30:break;case 21:break;default:Cn(s,t),Rn(t)}}function Rn(t){var s=t.flags;if(s&2){try{for(var i,c=t.return;c!==null;){if(Ky(c)){i=c;break}c=c.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var h=i.stateNode,m=Qf(t);qu(t,m,h);break;case 5:var b=i.stateNode;i.flags&32&&(jn(b,""),i.flags&=-33);var N=Qf(t);qu(t,N,b);break;case 3:case 4:var R=i.stateNode.containerInfo,B=Qf(t);Kf(t,B,R);break;default:throw Error(a(161))}}catch(X){dt(t,t.return,X)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function sx(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;sx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Ir(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Wy(t,s.alternate,s),s=s.sibling}function wi(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:fa(4,s,s.return),wi(s);break;case 1:tr(s,s.return);var i=s.stateNode;typeof i.componentWillUnmount=="function"&&$y(s,s.return,i),wi(s);break;case 27:Wo(s.stateNode);case 26:case 5:tr(s,s.return),wi(s);break;case 22:s.memoizedState===null&&wi(s);break;case 30:wi(s);break;default:wi(s)}t=t.sibling}}function kr(t,s,i){for(i=i&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=t,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:kr(h,m,i),qo(4,m);break;case 1:if(kr(h,m,i),c=m,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){dt(c,c.return,B)}if(c=m,h=c.updateQueue,h!==null){var N=c.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Op(R[h],N)}catch(B){dt(c,c.return,B)}}i&&b&64&&Gy(m),Bo(m,m.return);break;case 27:Yy(m);case 26:case 5:kr(h,m,i),i&&c===null&&b&4&&Qy(m),Bo(m,m.return);break;case 12:kr(h,m,i);break;case 31:kr(h,m,i),i&&b&4&&ex(h,m);break;case 13:kr(h,m,i),i&&b&4&&tx(h,m);break;case 22:m.memoizedState===null&&kr(h,m,i),Bo(m,m.return);break;case 30:break;default:kr(h,m,i)}s=s.sibling}}function Xf(t,s){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&Ao(i))}function Wf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Ao(t))}function js(t,s,i,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rx(t,s,i,c),s=s.sibling}function rx(t,s,i,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:js(t,s,i,c),h&2048&&qo(9,s);break;case 1:js(t,s,i,c);break;case 3:js(t,s,i,c),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Ao(t)));break;case 12:if(h&2048){js(t,s,i,c),t=s.stateNode;try{var m=s.memoizedProps,b=m.id,N=m.onPostCommit;typeof N=="function"&&N(b,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){dt(s,s.return,R)}}else js(t,s,i,c);break;case 31:js(t,s,i,c);break;case 13:js(t,s,i,c);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?js(t,s,i,c):Ho(t,s):m._visibility&2?js(t,s,i,c):(m._visibility|=2,xl(t,s,i,c,(s.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(b,s);break;case 24:js(t,s,i,c),h&2048&&Wf(s.alternate,s);break;default:js(t,s,i,c)}}function xl(t,s,i,c,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,b=s,N=i,R=c,B=b.flags;switch(b.tag){case 0:case 11:case 15:xl(m,b,N,R,h),qo(8,b);break;case 23:break;case 22:var X=b.stateNode;b.memoizedState!==null?X._visibility&2?xl(m,b,N,R,h):Ho(m,b):(X._visibility|=2,xl(m,b,N,R,h)),h&&B&2048&&Xf(b.alternate,b);break;case 24:xl(m,b,N,R,h),h&&B&2048&&Wf(b.alternate,b);break;default:xl(m,b,N,R,h)}s=s.sibling}}function Ho(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var i=t,c=s,h=c.flags;switch(c.tag){case 22:Ho(i,c),h&2048&&Xf(c.alternate,c);break;case 24:Ho(i,c),h&2048&&Wf(c.alternate,c);break;default:Ho(i,c)}s=s.sibling}}var Fo=8192;function bl(t,s,i){if(t.subtreeFlags&Fo)for(t=t.child;t!==null;)ax(t,s,i),t=t.sibling}function ax(t,s,i){switch(t.tag){case 26:bl(t,s,i),t.flags&Fo&&t.memoizedState!==null&&eE(i,Ss,t.memoizedState,t.memoizedProps);break;case 5:bl(t,s,i);break;case 3:case 4:var c=Ss;Ss=nd(t.stateNode.containerInfo),bl(t,s,i),Ss=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Fo,Fo=16777216,bl(t,s,i),Fo=c):bl(t,s,i));break;default:bl(t,s,i)}}function ix(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Go(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var c=s[i];en=c,ox(c,t)}ix(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lx(t),t=t.sibling}function lx(t){switch(t.tag){case 0:case 11:case 15:Go(t),t.flags&2048&&fa(9,t,t.return);break;case 3:Go(t);break;case 12:Go(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Hu(t)):Go(t);break;default:Go(t)}}function Hu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var c=s[i];en=c,ox(c,t)}ix(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:fa(8,s,s.return),Hu(s);break;case 22:i=s.stateNode,i._visibility&2&&(i._visibility&=-3,Hu(s));break;default:Hu(s)}t=t.sibling}}function ox(t,s){for(;en!==null;){var i=en;switch(i.tag){case 0:case 11:case 15:fa(8,i,s);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ao(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,en=c;else e:for(i=t;en!==null;){c=en;var h=c.sibling,m=c.return;if(Zy(c),c===i){en=null;break e}if(h!==null){h.return=m,en=h;break e}en=m}}}var gN={getCacheForType:function(t){var s=ln(Bt),i=s.data.get(t);return i===void 0&&(i=t(),s.data.set(t,i)),i},cacheSignal:function(){return ln(Bt).controller.signal}},pN=typeof WeakMap=="function"?WeakMap:Map,it=0,yt=null,He=null,Ge=0,ut=0,Gn=null,ma=!1,vl=!1,Zf=!1,Dr=0,It=0,ga=0,Ni=0,Jf=0,$n=0,_l=0,$o=null,In=null,em=!1,Fu=0,cx=0,Gu=1/0,$u=null,pa=null,Yt=0,ya=null,wl=null,Or=0,tm=0,nm=null,ux=null,Qo=0,sm=null;function Qn(){return(it&2)!==0&&Ge!==0?Ge&-Ge:Q.T!==null?cm():Qc()}function dx(){if($n===0)if((Ge&536870912)===0||We){var t=pt;pt<<=1,(pt&3932160)===0&&(pt=262144),$n=t}else $n=536870912;return t=Hn.current,t!==null&&(t.flags|=32),$n}function kn(t,s,i){(t===yt&&(ut===2||ut===9)||t.cancelPendingCommit!==null)&&(Nl(t,0),xa(t,Ge,$n,!1)),Wa(t,i),((it&2)===0||t!==yt)&&(t===yt&&((it&2)===0&&(Ni|=i),It===4&&xa(t,Ge,$n,!1)),nr(t))}function hx(t,s,i){if((it&6)!==0)throw Error(a(327));var c=!i&&(s&127)===0&&(s&t.expiredLanes)===0||ys(t,s),h=c?bN(t,s):am(t,s,!0),m=c;do{if(h===0){vl&&!c&&xa(t,s,0,!1);break}else{if(i=t.current.alternate,m&&!yN(i)){h=am(t,s,!1),m=!1;continue}if(h===2){if(m=s,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var N=t;h=$o;var R=N.current.memoizedState.isDehydrated;if(R&&(Nl(N,b).flags|=256),b=am(N,b,!1),b!==2){if(Zf&&!R){N.errorRecoveryDisabledLanes|=m,Ni|=m,h=4;break e}m=In,In=h,m!==null&&(In===null?In=m:In.push.apply(In,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){Nl(t,0),xa(t,s,0,!0);break}e:{switch(c=t,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:xa(c,s,$n,!ma);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(h=Fu+300-xt(),10<h)){if(xa(c,s,$n,!ma),Ps(c,0,!0)!==0)break e;Or=s,c.timeoutHandle=Hx(fx.bind(null,c,i,In,$u,em,s,$n,Ni,_l,ma,m,"Throttled",-0,0),h);break e}fx(c,i,In,$u,em,s,$n,Ni,_l,ma,m,null,-0,0)}}break}while(!0);nr(t)}function fx(t,s,i,c,h,m,b,N,R,B,X,te,H,K){if(t.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vs},ax(s,m,te);var be=(m&62914560)===m?Fu-xt():(m&4194048)===m?cx-xt():0;if(be=tE(te,be),be!==null){Or=m,t.cancelPendingCommit=be(_x.bind(null,t,s,m,i,c,h,b,N,R,X,te,null,H,K)),xa(t,m,b,!B);return}}_x(t,s,m,i,c,h,b,N,R)}function yN(t){for(var s=t;;){var i=s.tag;if((i===0||i===11||i===15)&&s.flags&16384&&(i=s.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var h=i[c],m=h.getSnapshot;h=h.value;try{if(!qn(m(),h))return!1}catch{return!1}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xa(t,s,i,c){s&=~Jf,s&=~Ni,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var h=s;0<h;){var m=31-je(h),b=1<<m;c[m]=-1,h&=~b}i!==0&&Za(t,i,s)}function Qu(){return(it&6)===0?(Ko(0),!1):!0}function rm(){if(He!==null){if(ut===0)var t=He.return;else t=He,Nr=mi=null,vf(t),fl=null,Ro=0,t=He;for(;t!==null;)Fy(t.alternate,t),t=t.return;He=null}}function Nl(t,s){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,LN(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Or=0,rm(),yt=t,He=i=_r(t.current,null),Ge=s,ut=0,Gn=null,ma=!1,vl=ys(t,s),Zf=!1,_l=$n=Jf=Ni=ga=It=0,In=$o=null,em=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var h=31-je(c),m=1<<h;s|=t[h],c&=~m}return Dr=s,mu(),i}function mx(t,s){Ue=null,Q.H=Po,s===hl||s===wu?(s=Rp(),ut=3):s===of?(s=Rp(),ut=4):ut=s===Vf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gn=s,He===null&&(It=1,Vu(t,as(s,t.current)))}function gx(){var t=Hn.current;return t===null?!0:(Ge&4194048)===Ge?cs===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===cs:!1}function px(){var t=Q.H;return Q.H=Po,t===null?Po:t}function yx(){var t=Q.A;return Q.A=gN,t}function Ku(){It=4,ma||(Ge&4194048)!==Ge&&Hn.current!==null||(vl=!0),(ga&134217727)===0&&(Ni&134217727)===0||yt===null||xa(yt,Ge,$n,!1)}function am(t,s,i){var c=it;it|=2;var h=px(),m=yx();(yt!==t||Ge!==s)&&($u=null,Nl(t,s)),s=!1;var b=It;e:do try{if(ut!==0&&He!==null){var N=He,R=Gn;switch(ut){case 8:rm(),b=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(s=!0);var B=ut;if(ut=0,Gn=null,El(t,N,R,B),i&&vl){b=0;break e}break;default:B=ut,ut=0,Gn=null,El(t,N,R,B)}}xN(),b=It;break}catch(X){mx(t,X)}while(!0);return s&&t.shellSuspendCounter++,Nr=mi=null,it=c,Q.H=h,Q.A=m,He===null&&(yt=null,Ge=0,mu()),b}function xN(){for(;He!==null;)xx(He)}function bN(t,s){var i=it;it|=2;var c=px(),h=yx();yt!==t||Ge!==s?($u=null,Gu=xt()+500,Nl(t,s)):vl=ys(t,s);e:do try{if(ut!==0&&He!==null){s=He;var m=Gn;t:switch(ut){case 1:ut=0,Gn=null,El(t,s,m,1);break;case 2:case 9:if(Ap(m)){ut=0,Gn=null,bx(s);break}s=function(){ut!==2&&ut!==9||yt!==t||(ut=7),nr(t)},m.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Ap(m)?(ut=0,Gn=null,bx(s)):(ut=0,Gn=null,El(t,s,m,7));break;case 5:var b=null;switch(He.tag){case 26:b=He.memoizedState;case 5:case 27:var N=He;if(b?rb(b):N.stateNode.complete){ut=0,Gn=null;var R=N.sibling;if(R!==null)He=R;else{var B=N.return;B!==null?(He=B,Yu(B)):He=null}break t}}ut=0,Gn=null,El(t,s,m,5);break;case 6:ut=0,Gn=null,El(t,s,m,6);break;case 8:rm(),It=6;break e;default:throw Error(a(462))}}vN();break}catch(X){mx(t,X)}while(!0);return Nr=mi=null,Q.H=c,Q.A=h,it=i,He!==null?0:(yt=null,Ge=0,mu(),It)}function vN(){for(;He!==null&&!Ln();)xx(He)}function xx(t){var s=By(t.alternate,t,Dr);t.memoizedProps=t.pendingProps,s===null?Yu(t):He=s}function bx(t){var s=t,i=s.alternate;switch(s.tag){case 15:case 0:s=Vy(i,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=Vy(i,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:vf(s);default:Fy(i,s),s=He=yp(s,Dr),s=By(i,s,Dr)}t.memoizedProps=t.pendingProps,s===null?Yu(t):He=s}function El(t,s,i,c){Nr=mi=null,vf(s),fl=null,Ro=0;var h=s.return;try{if(oN(t,h,s,i,Ge)){It=1,Vu(t,as(i,t.current)),He=null;return}}catch(m){if(h!==null)throw He=h,m;It=1,Vu(t,as(i,t.current)),He=null;return}s.flags&32768?(We||c===1?t=!0:vl||(Ge&536870912)!==0?t=!1:(ma=t=!0,(c===2||c===9||c===3||c===6)&&(c=Hn.current,c!==null&&c.tag===13&&(c.flags|=16384))),vx(s,t)):Yu(s)}function Yu(t){var s=t;do{if((s.flags&32768)!==0){vx(s,ma);return}t=s.return;var i=dN(s.alternate,s,Dr);if(i!==null){He=i;return}if(s=s.sibling,s!==null){He=s;return}He=s=t}while(s!==null);It===0&&(It=5)}function vx(t,s){do{var i=hN(t.alternate,t);if(i!==null){i.flags&=32767,He=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!s&&(t=t.sibling,t!==null)){He=t;return}He=t=i}while(t!==null);It=6,He=null}function _x(t,s,i,c,h,m,b,N,R){t.cancelPendingCommit=null;do Xu();while(Yt!==0);if((it&6)!==0)throw Error(a(327));if(s!==null){if(s===t.current)throw Error(a(177));if(m=s.lanes|s.childLanes,m|=$h,Lh(t,i,m,b,N,R),t===yt&&(He=yt=null,Ge=0),wl=s,ya=t,Or=i,tm=m,nm=h,ux=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,EN(Pt,function(){return Sx(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,h=ce.p,ce.p=2,b=it,it|=4;try{fN(t,s,i)}finally{it=b,ce.p=h,Q.T=c}}Yt=1,wx(),Nx(),Ex()}}function wx(){if(Yt===1){Yt=0;var t=ya,s=wl,i=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||i){i=Q.T,Q.T=null;var c=ce.p;ce.p=2;var h=it;it|=4;try{nx(s,t);var m=ym,b=op(t.containerInfo),N=m.focusedElem,R=m.selectionRange;if(b!==N&&N&&N.ownerDocument&&lp(N.ownerDocument.documentElement,N)){if(R!==null&&qh(N)){var B=R.start,X=R.end;if(X===void 0&&(X=B),"selectionStart"in N)N.selectionStart=B,N.selectionEnd=Math.min(X,N.value.length);else{var te=N.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var K=H.getSelection(),be=N.textContent.length,Ae=Math.min(R.start,be),gt=R.end===void 0?Ae:Math.min(R.end,be);!K.extend&&Ae>gt&&(b=gt,gt=Ae,Ae=b);var P=ip(N,Ae),O=ip(N,gt);if(P&&O&&(K.rangeCount!==1||K.anchorNode!==P.node||K.anchorOffset!==P.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var q=te.createRange();q.setStart(P.node,P.offset),K.removeAllRanges(),Ae>gt?(K.addRange(q),K.extend(O.node,O.offset)):(q.setEnd(O.node,O.offset),K.addRange(q))}}}}for(te=[],K=N;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<te.length;N++){var J=te[N];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}od=!!pm,ym=pm=null}finally{it=h,ce.p=c,Q.T=i}}t.current=s,Yt=2}}function Nx(){if(Yt===2){Yt=0;var t=ya,s=wl,i=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||i){i=Q.T,Q.T=null;var c=ce.p;ce.p=2;var h=it;it|=4;try{Wy(t,s.alternate,s)}finally{it=h,ce.p=c,Q.T=i}}Yt=3}}function Ex(){if(Yt===4||Yt===3){Yt=0,Tn();var t=ya,s=wl,i=Or,c=ux;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Yt=5:(Yt=0,wl=ya=null,Tx(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(pa=null),yr(i),s=s.stateNode,ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(Ne,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Q.T,h=ce.p,ce.p=2,Q.T=null;try{for(var m=t.onRecoverableError,b=0;b<c.length;b++){var N=c[b];m(N.value,{componentStack:N.stack})}}finally{Q.T=s,ce.p=h}}(Or&3)!==0&&Xu(),nr(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===sm?Qo++:(Qo=0,sm=t):Qo=0,Ko(0)}}function Tx(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Ao(s)))}function Xu(){return wx(),Nx(),Ex(),Sx()}function Sx(){if(Yt!==5)return!1;var t=ya,s=tm;tm=0;var i=yr(Or),c=Q.T,h=ce.p;try{ce.p=32>i?32:i,Q.T=null,i=nm,nm=null;var m=ya,b=Or;if(Yt=0,wl=ya=null,Or=0,(it&6)!==0)throw Error(a(331));var N=it;if(it|=4,lx(m.current),rx(m,m.current,b,i),it=N,Ko(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(Ne,m)}catch{}return!0}finally{ce.p=h,Q.T=c,Tx(t,s)}}function jx(t,s,i){s=as(i,s),s=Mf(t.stateNode,s,2),t=ua(t,s,2),t!==null&&(Wa(t,2),nr(t))}function dt(t,s,i){if(t.tag===3)jx(t,t,i);else for(;s!==null;){if(s.tag===3){jx(s,t,i);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(pa===null||!pa.has(c))){t=as(i,t),i=Ay(2),c=ua(s,i,2),c!==null&&(Cy(i,c,s,t),Wa(c,2),nr(c));break}}s=s.return}}function im(t,s,i){var c=t.pingCache;if(c===null){c=t.pingCache=new pN;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(i)||(Zf=!0,h.add(i),t=_N.bind(null,t,s,i),s.then(t,t))}function _N(t,s,i){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,yt===t&&(Ge&i)===i&&(It===4||It===3&&(Ge&62914560)===Ge&&300>xt()-Fu?(it&2)===0&&Nl(t,0):Jf|=i,_l===Ge&&(_l=0)),nr(t)}function Ax(t,s){s===0&&(s=$c()),t=di(t,s),t!==null&&(Wa(t,s),nr(t))}function wN(t){var s=t.memoizedState,i=0;s!==null&&(i=s.retryLane),Ax(t,i)}function NN(t,s){var i=0;switch(t.tag){case 31:case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),Ax(t,i)}function EN(t,s){return ke(t,s)}var Wu=null,Tl=null,lm=!1,Zu=!1,om=!1,ba=0;function nr(t){t!==Tl&&t.next===null&&(Tl===null?Wu=Tl=t:Tl=Tl.next=t),Zu=!0,lm||(lm=!0,SN())}function Ko(t,s){if(!om&&Zu){om=!0;do for(var i=!1,c=Wu;c!==null;){if(t!==0){var h=c.pendingLanes;if(h===0)var m=0;else{var b=c.suspendedLanes,N=c.pingedLanes;m=(1<<31-je(42|t)+1)-1,m&=h&~(b&~N),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,kx(c,m))}else m=Ge,m=Ps(c,c===yt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||ys(c,m)||(i=!0,kx(c,m));c=c.next}while(i);om=!1}}function TN(){Cx()}function Cx(){Zu=lm=!1;var t=0;ba!==0&&VN()&&(t=ba);for(var s=xt(),i=null,c=Wu;c!==null;){var h=c.next,m=Rx(c,s);m===0?(c.next=null,i===null?Wu=h:i.next=h,h===null&&(Tl=i)):(i=c,(t!==0||(m&3)!==0)&&(Zu=!0)),c=h}Yt!==0&&Yt!==5||Ko(t),ba!==0&&(ba=0)}function Rx(t,s){for(var i=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-je(m),N=1<<b,R=h[b];R===-1?((N&i)===0||(N&c)!==0)&&(h[b]=Vh(N,s)):R<=s&&(t.expiredLanes|=N),m&=~N}if(s=yt,i=Ge,i=Ps(t,t===s?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,i===0||t===s&&(ut===2||ut===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Nt(c),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||ys(t,i)){if(s=i&-i,s===t.callbackPriority)return s;switch(c!==null&&Nt(c),yr(i)){case 2:case 8:i=Ct;break;case 32:i=Pt;break;case 268435456:i=Kr;break;default:i=Pt}return c=Ix.bind(null,t),i=ke(i,c),t.callbackPriority=s,t.callbackNode=i,s}return c!==null&&c!==null&&Nt(c),t.callbackPriority=2,t.callbackNode=null,2}function Ix(t,s){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Xu()&&t.callbackNode!==i)return null;var c=Ge;return c=Ps(t,t===yt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(hx(t,c,s),Rx(t,xt()),t.callbackNode!=null&&t.callbackNode===i?Ix.bind(null,t):null)}function kx(t,s){if(Xu())return null;hx(t,s,!0)}function SN(){PN(function(){(it&6)!==0?ke(Ls,TN):Cx()})}function cm(){if(ba===0){var t=ul;t===0&&(t=Je,Je<<=1,(Je&261888)===0&&(Je=256)),ba=t}return ba}function Dx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yi(""+t)}function Ox(t,s){var i=s.ownerDocument.createElement("input");return i.name=s.name,i.value=s.value,t.id&&i.setAttribute("form",t.id),s.parentNode.insertBefore(i,s),t=new FormData(t),i.parentNode.removeChild(i),t}function jN(t,s,i,c,h){if(s==="submit"&&i&&i.stateNode===h){var m=Dx((h[Zt]||null).action),b=c.submitter;b&&(s=(s=b[Zt]||null)?Dx(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var N=new Ys("action","action",null,c,h);t.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ba!==0){var R=b?Ox(h,b):new FormData(h);Cf(i,{pending:!0,data:R,method:h.method,action:m},null,R)}}else typeof m=="function"&&(N.preventDefault(),R=b?Ox(h,b):new FormData(h),Cf(i,{pending:!0,data:R,method:h.method,action:m},m,R))},currentTarget:h}]})}}for(var um=0;um<Gh.length;um++){var dm=Gh[um],AN=dm.toLowerCase(),CN=dm[0].toUpperCase()+dm.slice(1);Ts(AN,"on"+CN)}Ts(dp,"onAnimationEnd"),Ts(hp,"onAnimationIteration"),Ts(fp,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(G2,"onTransitionRun"),Ts($2,"onTransitionStart"),Ts(Q2,"onTransitionCancel"),Ts(mp,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yo));function Mx(t,s){s=(s&4)!==0;for(var i=0;i<t.length;i++){var c=t[i],h=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var b=c.length-1;0<=b;b--){var N=c[b],R=N.instance,B=N.currentTarget;if(N=N.listener,R!==m&&h.isPropagationStopped())break e;m=N,h.currentTarget=B;try{m(h)}catch(X){fu(X)}h.currentTarget=null,m=R}else for(b=0;b<c.length;b++){if(N=c[b],R=N.instance,B=N.currentTarget,N=N.listener,R!==m&&h.isPropagationStopped())break e;m=N,h.currentTarget=B;try{m(h)}catch(X){fu(X)}h.currentTarget=null,m=R}}}}function Fe(t,s){var i=s[Fi];i===void 0&&(i=s[Fi]=new Set);var c=t+"__bubble";i.has(c)||(Vx(s,t,2,!1),i.add(c))}function hm(t,s,i){var c=0;s&&(c|=4),Vx(i,t,c,s)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function fm(t){if(!t[Ju]){t[Ju]=!0,io.forEach(function(i){i!=="selectionchange"&&(RN.has(i)||hm(i,!1,t),hm(i,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ju]||(s[Ju]=!0,hm("selectionchange",!1,s))}}function Vx(t,s,i,c){switch(db(s)){case 2:var h=rE;break;case 8:h=aE;break;default:h=Am}i=h.bind(null,s,i,t),h=void 0,!si||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(s,i,{capture:!0,passive:h}):t.addEventListener(s,i,!0):h!==void 0?t.addEventListener(s,i,{passive:h}):t.addEventListener(s,i,!1)}function mm(t,s,i,c,h){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var N=c.stateNode.containerInfo;if(N===h)break;if(b===4)for(b=c.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;N!==null;){if(b=Bs(N),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){c=m=b;continue e}N=N.parentNode}}c=c.return}ea(function(){var B=m,X=ts(i),te=[];e:{var H=gp.get(t);if(H!==void 0){var K=Ys,be=t;switch(t){case"keypress":if(ai(i)===0)break e;case"keydown":case"keyup":K=uu;break;case"focusin":be="focus",K=li;break;case"focusout":be="blur",K=li;break;case"beforeblur":case"afterblur":K=li;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=x;break;case dp:case hp:case fp:K=su;break;case mp:K=T;break;case"scroll":case"scrollend":K=bo;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=vr;break;case"toggle":case"beforetoggle":K=ze}var Ae=(s&4)!==0,gt=!Ae&&(t==="scroll"||t==="scrollend"),P=Ae?H!==null?H+"Capture":null:H;Ae=[];for(var O=B,q;O!==null;){var J=O;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||P===null||(J=_s(O,P),J!=null&&Ae.push(Xo(O,J,q))),gt)break;O=O.return}0<Ae.length&&(H=new K(H,be,null,i,X),te.push({event:H,listeners:Ae}))}}if((s&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",H&&i!==po&&(be=i.relatedTarget||i.fromElement)&&(Bs(be)||be[Us]))break e;if((K||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,K?(be=i.relatedTarget||i.toElement,K=B,be=be?Bs(be):null,be!==null&&(gt=u(be),Ae=be.tag,be!==gt||Ae!==5&&Ae!==27&&Ae!==6)&&(be=null)):(K=null,be=B),K!==be)){if(Ae=vo,J="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=vr,J="onPointerLeave",P="onPointerEnter",O="pointer"),gt=K==null?H:zn(K),q=be==null?H:zn(be),H=new Ae(J,O+"leave",K,i,X),H.target=gt,H.relatedTarget=q,J=null,Bs(X)===B&&(Ae=new Ae(P,O+"enter",be,i,X),Ae.target=q,Ae.relatedTarget=gt,J=Ae),gt=J,K&&be)t:{for(Ae=IN,P=K,O=be,q=0,J=P;J;J=Ae(J))q++;J=0;for(var Te=O;Te;Te=Ae(Te))J++;for(;0<q-J;)P=Ae(P),q--;for(;0<J-q;)O=Ae(O),J--;for(;q--;){if(P===O||O!==null&&P===O.alternate){Ae=P;break t}P=Ae(P),O=Ae(O)}Ae=null}else Ae=null;K!==null&&Lx(te,H,K,Ae,!1),be!==null&&gt!==null&&Lx(te,gt,be,Ae,!0)}}e:{if(H=B?zn(B):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var nt=ep;else if(Zg(H))if(tp)nt=B2;else{nt=U2;var _e=z2}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Ki(B.elementType)&&(nt=ep):nt=q2;if(nt&&(nt=nt(t,B))){Jg(te,nt,i,X);break e}_e&&_e(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&fo(H,"number",H.value)}switch(_e=B?zn(B):window,t){case"focusin":(Zg(_e)||_e.contentEditable==="true")&&(nl=_e,Bh=B,To=null);break;case"focusout":To=Bh=nl=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,cp(te,i,X);break;case"selectionchange":if(F2)break;case"keydown":case"keyup":cp(te,i,X)}var qe;if(at)e:{switch(t){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else tl?oi(t,i)&&($e="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&($e="onCompositionStart");$e&&(Zs&&i.locale!=="ko"&&(tl||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&tl&&(qe=xo()):(Ks=X,yo="value"in Ks?Ks.value:Ks.textContent,tl=!0)),_e=ed(B,$e),0<_e.length&&($e=new Ws($e,t,null,i,X),te.push({event:$e,listeners:_e}),qe?$e.data=qe:(qe=el(i),qe!==null&&($e.data=qe)))),(qe=ss?M2(t,i):V2(t,i))&&($e=ed(B,"onBeforeInput"),0<$e.length&&(_e=new Ws("onBeforeInput","beforeinput",null,i,X),te.push({event:_e,listeners:$e}),_e.data=qe)),jN(te,t,B,i,X)}Mx(te,s)})}function Xo(t,s,i){return{instance:t,listener:s,currentTarget:i}}function ed(t,s){for(var i=s+"Capture",c=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=_s(t,i),h!=null&&c.unshift(Xo(t,h,m)),h=_s(t,s),h!=null&&c.push(Xo(t,h,m))),t.tag===3)return c;t=t.return}return[]}function IN(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Lx(t,s,i,c,h){for(var m=s._reactName,b=[];i!==null&&i!==c;){var N=i,R=N.alternate,B=N.stateNode;if(N=N.tag,R!==null&&R===c)break;N!==5&&N!==26&&N!==27||B===null||(R=B,h?(B=_s(i,m),B!=null&&b.unshift(Xo(i,B,R))):h||(B=_s(i,m),B!=null&&b.push(Xo(i,B,R)))),i=i.return}b.length!==0&&t.push({event:s,listeners:b})}var kN=/\r\n?/g,DN=/\u0000|\uFFFD/g;function Px(t){return(typeof t=="string"?t:""+t).replace(kN,`
`).replace(DN,"")}function zx(t,s){return s=Px(s),Px(t)===s}function mt(t,s,i,c,h,m){switch(i){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||jn(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&jn(t,""+c);break;case"className":Un(t,"class",c);break;case"tabIndex":Un(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(t,i,c);break;case"style":go(t,c,m);break;case"data":if(s!=="object"){Un(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||i!=="href")){t.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(i);break}c=Yi(""+c),t.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(s!=="input"&&mt(t,s,"name",h.name,h,null),mt(t,s,"formEncType",h.formEncType,h,null),mt(t,s,"formMethod",h.formMethod,h,null),mt(t,s,"formTarget",h.formTarget,h,null)):(mt(t,s,"encType",h.encType,h,null),mt(t,s,"method",h.method,h,null),mt(t,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(i);break}c=Yi(""+c),t.setAttribute(i,c);break;case"onClick":c!=null&&(t.onclick=vs);break;case"onScroll":c!=null&&Fe("scroll",t);break;case"onScrollEnd":c!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(i=c.__html,i!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}i=Yi(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,""+c):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":c===!0?t.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,c):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(i,c):t.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(i):t.setAttribute(i,c);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),$i(t,"popover",c);break;case"xlinkActuate":qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":qt(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":qt(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":qt(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":qt(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":$i(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=eu.get(i)||i,$i(t,i,c))}}function gm(t,s,i,c,h,m){switch(i){case"style":go(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(i=c.__html,i!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"children":typeof c=="string"?jn(t,c):(typeof c=="number"||typeof c=="bigint")&&jn(t,""+c);break;case"onScroll":c!=null&&Fe("scroll",t);break;case"onScrollEnd":c!=null&&Fe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lo.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),s=i.slice(2,h?i.length-7:void 0),m=t[Zt]||null,m=m!=null?m[i]:null,typeof m=="function"&&t.removeEventListener(s,m,h),typeof c=="function")){typeof m!="function"&&m!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(s,c,h);break e}i in t?t[i]=c:c===!0?t.setAttribute(i,""):$i(t,i,c)}}}function cn(t,s,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var c=!1,h=!1,m;for(m in i)if(i.hasOwnProperty(m)){var b=i[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:mt(t,s,m,b,i,null)}}h&&mt(t,s,"srcSet",i.srcSet,i,null),c&&mt(t,s,"src",i.src,i,null);return;case"input":Fe("invalid",t);var N=m=b=h=null,R=null,B=null;for(c in i)if(i.hasOwnProperty(c)){var X=i[c];if(X!=null)switch(c){case"name":h=X;break;case"type":b=X;break;case"checked":R=X;break;case"defaultChecked":B=X;break;case"value":m=X;break;case"defaultValue":N=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,s));break;default:mt(t,s,c,X,i,null)}}Wc(t,m,N,R,B,b,h,!1);return;case"select":Fe("invalid",t),c=b=m=null;for(h in i)if(i.hasOwnProperty(h)&&(N=i[h],N!=null))switch(h){case"value":m=N;break;case"defaultValue":b=N;break;case"multiple":c=N;default:mt(t,s,h,N,i,null)}s=m,i=b,t.multiple=!!c,s!=null?Xr(t,!!c,s,!1):i!=null&&Xr(t,!!c,i,!0);return;case"textarea":Fe("invalid",t),m=h=c=null;for(b in i)if(i.hasOwnProperty(b)&&(N=i[b],N!=null))switch(b){case"value":c=N;break;case"defaultValue":h=N;break;case"children":m=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(91));break;default:mt(t,s,b,N,i,null)}Wr(t,c,h,m);return;case"option":for(R in i)if(i.hasOwnProperty(R)&&(c=i[R],c!=null))switch(R){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:mt(t,s,R,c,i,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(c=0;c<Yo.length;c++)Fe(Yo[c],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(c=i[B],c!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:mt(t,s,B,c,i,null)}return;default:if(Ki(s)){for(X in i)i.hasOwnProperty(X)&&(c=i[X],c!==void 0&&gm(t,s,X,c,i,void 0));return}}for(N in i)i.hasOwnProperty(N)&&(c=i[N],c!=null&&mt(t,s,N,c,i,null))}function ON(t,s,i,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,N=null,R=null,B=null,X=null;for(K in i){var te=i[K];if(i.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":R=te;default:c.hasOwnProperty(K)||mt(t,s,K,null,c,te)}}for(var H in c){var K=c[H];if(te=i[H],c.hasOwnProperty(H)&&(K!=null||te!=null))switch(H){case"type":m=K;break;case"name":h=K;break;case"checked":B=K;break;case"defaultChecked":X=K;break;case"value":b=K;break;case"defaultValue":N=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,s));break;default:K!==te&&mt(t,s,H,K,c,te)}}Qi(t,b,N,R,B,X,m,h);return;case"select":K=b=N=H=null;for(m in i)if(R=i[m],i.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":K=R;default:c.hasOwnProperty(m)||mt(t,s,m,null,c,R)}for(h in c)if(m=c[h],R=i[h],c.hasOwnProperty(h)&&(m!=null||R!=null))switch(h){case"value":H=m;break;case"defaultValue":N=m;break;case"multiple":b=m;default:m!==R&&mt(t,s,h,m,c,R)}s=N,i=b,c=K,H!=null?Xr(t,!!i,H,!1):!!c!=!!i&&(s!=null?Xr(t,!!i,s,!0):Xr(t,!!i,i?[]:"",!1));return;case"textarea":K=H=null;for(N in i)if(h=i[N],i.hasOwnProperty(N)&&h!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:mt(t,s,N,null,c,h)}for(b in c)if(h=c[b],m=i[b],c.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":H=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&mt(t,s,b,h,c,m)}Zc(t,H,K);return;case"option":for(var be in i)if(H=i[be],i.hasOwnProperty(be)&&H!=null&&!c.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:mt(t,s,be,null,c,H)}for(R in c)if(H=c[R],K=i[R],c.hasOwnProperty(R)&&H!==K&&(H!=null||K!=null))switch(R){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:mt(t,s,R,H,c,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in i)H=i[Ae],i.hasOwnProperty(Ae)&&H!=null&&!c.hasOwnProperty(Ae)&&mt(t,s,Ae,null,c,H);for(B in c)if(H=c[B],K=i[B],c.hasOwnProperty(B)&&H!==K&&(H!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,s));break;default:mt(t,s,B,H,c,K)}return;default:if(Ki(s)){for(var gt in i)H=i[gt],i.hasOwnProperty(gt)&&H!==void 0&&!c.hasOwnProperty(gt)&&gm(t,s,gt,void 0,c,H);for(X in c)H=c[X],K=i[X],!c.hasOwnProperty(X)||H===K||H===void 0&&K===void 0||gm(t,s,X,H,c,K);return}}for(var P in i)H=i[P],i.hasOwnProperty(P)&&H!=null&&!c.hasOwnProperty(P)&&mt(t,s,P,null,c,H);for(te in c)H=c[te],K=i[te],!c.hasOwnProperty(te)||H===K||H==null&&K==null||mt(t,s,te,H,c,K)}function Ux(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var h=i[c],m=h.transferSize,b=h.initiatorType,N=h.duration;if(m&&N&&Ux(b)){for(b=0,N=h.responseEnd,c+=1;c<i.length;c++){var R=i[c],B=R.startTime;if(B>N)break;var X=R.transferSize,te=R.initiatorType;X&&Ux(te)&&(R=R.responseEnd,b+=X*(R<N?1:(N-B)/(R-B)))}if(--c,s+=8*(m+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pm=null,ym=null;function td(t){return t.nodeType===9?t:t.ownerDocument}function qx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bx(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function xm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bm=null;function VN(){var t=window.event;return t&&t.type==="popstate"?t===bm?!1:(bm=t,!0):(bm=null,!1)}var Hx=typeof setTimeout=="function"?setTimeout:void 0,LN=typeof clearTimeout=="function"?clearTimeout:void 0,Fx=typeof Promise=="function"?Promise:void 0,PN=typeof queueMicrotask=="function"?queueMicrotask:typeof Fx<"u"?function(t){return Fx.resolve(null).then(t).catch(zN)}:Hx;function zN(t){setTimeout(function(){throw t})}function va(t){return t==="head"}function Gx(t,s){var i=s,c=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(c===0){t.removeChild(h),Cl(s);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")Wo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Wo(i);for(var m=i.firstChild;m;){var b=m.nextSibling,N=m.nodeName;m[qs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=b}}else i==="body"&&Wo(t.ownerDocument.body);i=h}while(i);Cl(s)}function $x(t,s){var i=t;t=0;do{var c=i.nextSibling;if(i.nodeType===1?s?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(s?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=c}while(i)}function vm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var i=s;switch(s=s.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":vm(i),Gi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function UN(t,s,i,c){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[qs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=us(t.nextSibling),t===null)break}return null}function qN(t,s,i){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=us(t.nextSibling),t===null))return null;return t}function Qx(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=us(t.nextSibling),t===null))return null;return t}function _m(t){return t.data==="$?"||t.data==="$~"}function wm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function BN(t,s){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||i.readyState!=="loading")s();else{var c=function(){s(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function us(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Nm=null;function Kx(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(s===0)return us(t.nextSibling);s--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||s++}t=t.nextSibling}return null}function Yx(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(s===0)return t;s--}else i!=="/$"&&i!=="/&"||s++}t=t.previousSibling}return null}function Xx(t,s,i){switch(s=td(i),t){case"html":if(t=s.documentElement,!t)throw Error(a(452));return t;case"head":if(t=s.head,!t)throw Error(a(453));return t;case"body":if(t=s.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Wo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Gi(t)}var ds=new Map,Wx=new Set;function nd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mr=ce.d;ce.d={f:HN,r:FN,D:GN,C:$N,L:QN,m:KN,X:XN,S:YN,M:WN};function HN(){var t=Mr.f(),s=Qu();return t||s}function FN(t){var s=es(t);s!==null&&s.tag===5&&s.type==="form"?my(s):Mr.r(t)}var Sl=typeof document>"u"?null:document;function Zx(t,s,i){var c=Sl;if(c&&typeof s=="string"&&s){var h=Sn(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Wx.has(h)||(Wx.add(h),t={rel:t,crossOrigin:i,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),cn(s,"link",t),Ut(s),c.head.appendChild(s)))}}function GN(t){Mr.D(t),Zx("dns-prefetch",t,null)}function $N(t,s){Mr.C(t,s),Zx("preconnect",t,s)}function QN(t,s,i){Mr.L(t,s,i);var c=Sl;if(c&&t&&s){var h='link[rel="preload"][as="'+Sn(s)+'"]';s==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+Sn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+Sn(i.imageSizes)+'"]')):h+='[href="'+Sn(t)+'"]';var m=h;switch(s){case"style":m=jl(t);break;case"script":m=Al(t)}ds.has(m)||(t=w({rel:"preload",href:s==="image"&&i&&i.imageSrcSet?void 0:t,as:s},i),ds.set(m,t),c.querySelector(h)!==null||s==="style"&&c.querySelector(Zo(m))||s==="script"&&c.querySelector(Jo(m))||(s=c.createElement("link"),cn(s,"link",t),Ut(s),c.head.appendChild(s)))}}function KN(t,s){Mr.m(t,s);var i=Sl;if(i&&t){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(t)+'"]',m=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Al(t)}if(!ds.has(m)&&(t=w({rel:"modulepreload",href:t},s),ds.set(m,t),i.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Jo(m)))return}c=i.createElement("link"),cn(c,"link",t),Ut(c),i.head.appendChild(c)}}}function YN(t,s,i){Mr.S(t,s,i);var c=Sl;if(c&&t){var h=Hs(c).hoistableStyles,m=jl(t);s=s||"default";var b=h.get(m);if(!b){var N={loading:0,preload:null};if(b=c.querySelector(Zo(m)))N.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":s},i),(i=ds.get(m))&&Em(t,i);var R=b=c.createElement("link");Ut(R),cn(R,"link",t),R._p=new Promise(function(B,X){R.onload=B,R.onerror=X}),R.addEventListener("load",function(){N.loading|=1}),R.addEventListener("error",function(){N.loading|=2}),N.loading|=4,sd(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:N},h.set(m,b)}}}function XN(t,s){Mr.X(t,s);var i=Sl;if(i&&t){var c=Hs(i).hoistableScripts,h=Al(t),m=c.get(h);m||(m=i.querySelector(Jo(h)),m||(t=w({src:t,async:!0},s),(s=ds.get(h))&&Tm(t,s),m=i.createElement("script"),Ut(m),cn(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function WN(t,s){Mr.M(t,s);var i=Sl;if(i&&t){var c=Hs(i).hoistableScripts,h=Al(t),m=c.get(h);m||(m=i.querySelector(Jo(h)),m||(t=w({src:t,async:!0,type:"module"},s),(s=ds.get(h))&&Tm(t,s),m=i.createElement("script"),Ut(m),cn(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function Jx(t,s,i,c){var h=(h=Ce.current)?nd(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(s=jl(i.href),i=Hs(h).hoistableStyles,c=i.get(s),c||(c={type:"style",instance:null,count:0,state:null},i.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=jl(i.href);var m=Hs(h).hoistableStyles,b=m.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=h.querySelector(Zo(t)))&&!m._p&&(b.instance=m,b.state.loading=5),ds.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ds.set(t,i),m||ZN(h,t,i,b.state))),s&&c===null)throw Error(a(528,""));return b}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=i.async,i=i.src,typeof i=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Al(i),i=Hs(h).hoistableScripts,c=i.get(s),c||(c={type:"script",instance:null,count:0,state:null},i.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function jl(t){return'href="'+Sn(t)+'"'}function Zo(t){return'link[rel="stylesheet"]['+t+"]"}function eb(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function ZN(t,s,i,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),cn(s,"link",i),Ut(s),t.head.appendChild(s))}function Al(t){return'[src="'+Sn(t)+'"]'}function Jo(t){return"script[async]"+t}function tb(t,s,i){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+Sn(i.href)+'"]');if(c)return s.instance=c,Ut(c),c;var h=w({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Ut(c),cn(c,"style",h),sd(c,i.precedence,t),s.instance=c;case"stylesheet":h=jl(i.href);var m=t.querySelector(Zo(h));if(m)return s.state.loading|=4,s.instance=m,Ut(m),m;c=eb(i),(h=ds.get(h))&&Em(c,h),m=(t.ownerDocument||t).createElement("link"),Ut(m);var b=m;return b._p=new Promise(function(N,R){b.onload=N,b.onerror=R}),cn(m,"link",c),s.state.loading|=4,sd(m,i.precedence,t),s.instance=m;case"script":return m=Al(i.src),(h=t.querySelector(Jo(m)))?(s.instance=h,Ut(h),h):(c=i,(h=ds.get(m))&&(c=w({},i),Tm(c,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ut(h),cn(h,"link",c),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,sd(c,i.precedence,t));return s.instance}function sd(t,s,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,m=h,b=0;b<c.length;b++){var N=c[b];if(N.dataset.precedence===s)m=N;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=i.nodeType===9?i.head:i,s.insertBefore(t,s.firstChild))}function Em(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Tm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var rd=null;function nb(t,s,i){if(rd===null){var c=new Map,h=rd=new Map;h.set(i,c)}else h=rd,c=h.get(i),c||(c=new Map,h.set(i,c));if(c.has(t))return c;for(c.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var m=i[h];if(!(m[qs]||m[zt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=t+b;var N=c.get(b);N?N.push(m):c.set(b,[m])}}return c}function sb(t,s,i){t=t.ownerDocument||t,t.head.insertBefore(i,s==="title"?t.querySelector("head > title"):null)}function JN(t,s,i){if(i===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function eE(t,s,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=jl(c.href),m=s.querySelector(Zo(h));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ad.bind(t),s.then(t,t)),i.state.loading|=4,i.instance=m,Ut(m);return}m=s.ownerDocument||s,c=eb(c),(h=ds.get(h))&&Em(c,h),m=m.createElement("link"),Ut(m);var b=m;b._p=new Promise(function(N,R){b.onload=N,b.onerror=R}),cn(m,"link",c),i.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,s),(s=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=ad.bind(t),s.addEventListener("load",i),s.addEventListener("error",i))}}var Sm=0;function tE(t,s){return t.stylesheets&&t.count===0&&ld(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var c=setTimeout(function(){if(t.stylesheets&&ld(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&Sm===0&&(Sm=62500*MN());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ld(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Sm?50:800)+s);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function ad(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var id=null;function ld(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,id=new Map,s.forEach(nE,t),id=null,ad.call(t))}function nE(t,s){if(!(s.state.loading&4)){var i=id.get(t);if(i)var c=i.get(null);else{i=new Map,id.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),c=b)}c&&i.set(null,c)}h=s.instance,b=h.getAttribute("data-precedence"),m=i.get(b)||c,m===c&&i.set(null,h),i.set(b,h),this.count++,c=ad.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var ec={$$typeof:ae,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function sE(t,s,i,c,h,m,b,N,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zs(0),this.hiddenUpdates=zs(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function ab(t,s,i,c,h,m,b,N,R,B,X,te){return t=new sE(t,s,i,b,R,B,X,te,N),s=1,m===!0&&(s|=24),m=Bn(3,null,null,s),t.current=m,m.stateNode=t,s=rf(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:i,cache:s},cf(m),t}function ib(t){return t?(t=al,t):al}function lb(t,s,i,c,h,m){h=ib(h),c.context===null?c.context=h:c.pendingContext=h,c=ca(s),c.payload={element:i},m=m===void 0?null:m,m!==null&&(c.callback=m),i=ua(t,c,s),i!==null&&(kn(i,t,s),ko(i,t,s))}function ob(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<s?i:s}}function jm(t,s){ob(t,s),(t=t.alternate)&&ob(t,s)}function cb(t){if(t.tag===13||t.tag===31){var s=di(t,67108864);s!==null&&kn(s,t,67108864),jm(t,67108864)}}function ub(t){if(t.tag===13||t.tag===31){var s=Qn();s=Ja(s);var i=di(t,s);i!==null&&kn(i,t,s),jm(t,s)}}var od=!0;function rE(t,s,i,c){var h=Q.T;Q.T=null;var m=ce.p;try{ce.p=2,Am(t,s,i,c)}finally{ce.p=m,Q.T=h}}function aE(t,s,i,c){var h=Q.T;Q.T=null;var m=ce.p;try{ce.p=8,Am(t,s,i,c)}finally{ce.p=m,Q.T=h}}function Am(t,s,i,c){if(od){var h=Cm(c);if(h===null)mm(t,s,c,cd,i),hb(t,c);else if(lE(h,t,s,i,c))c.stopPropagation();else if(hb(t,c),s&4&&-1<iE.indexOf(t)){for(;h!==null;){var m=es(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Jn(m.pendingLanes);if(b!==0){var N=m;for(N.pendingLanes|=2,N.entangledLanes|=2;b;){var R=1<<31-je(b);N.entanglements[1]|=R,b&=~R}nr(m),(it&6)===0&&(Gu=xt()+500,Ko(0))}}break;case 31:case 13:N=di(m,2),N!==null&&kn(N,m,2),Qu(),jm(m,2)}if(m=Cm(c),m===null&&mm(t,s,c,cd,i),m===h)break;h=m}h!==null&&c.stopPropagation()}else mm(t,s,c,null,i)}}function Cm(t){return t=ts(t),Rm(t)}var cd=null;function Rm(t){if(cd=null,t=Bs(t),t!==null){var s=u(t);if(s===null)t=null;else{var i=s.tag;if(i===13){if(t=f(s),t!==null)return t;t=null}else if(i===31){if(t=g(s),t!==null)return t;t=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return cd=t,null}function db(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pn()){case Ls:return 2;case Ct:return 8;case Pt:case ps:return 32;case Kr:return 268435456;default:return 32}default:return 32}}var Im=!1,_a=null,wa=null,Na=null,tc=new Map,nc=new Map,Ea=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hb(t,s){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":tc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(s.pointerId)}}function sc(t,s,i,c,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:i,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},s!==null&&(s=es(s),s!==null&&cb(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function lE(t,s,i,c,h){switch(s){case"focusin":return _a=sc(_a,t,s,i,c,h),!0;case"dragenter":return wa=sc(wa,t,s,i,c,h),!0;case"mouseover":return Na=sc(Na,t,s,i,c,h),!0;case"pointerover":var m=h.pointerId;return tc.set(m,sc(tc.get(m)||null,t,s,i,c,h)),!0;case"gotpointercapture":return m=h.pointerId,nc.set(m,sc(nc.get(m)||null,t,s,i,c,h)),!0}return!1}function fb(t){var s=Bs(t.target);if(s!==null){var i=u(s);if(i!==null){if(s=i.tag,s===13){if(s=f(i),s!==null){t.blockedOn=s,xs(t.priority,function(){ub(i)});return}}else if(s===31){if(s=g(i),s!==null){t.blockedOn=s,xs(t.priority,function(){ub(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ud(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var i=Cm(t.nativeEvent);if(i===null){i=t.nativeEvent;var c=new i.constructor(i.type,i);po=c,i.target.dispatchEvent(c),po=null}else return s=es(i),s!==null&&cb(s),t.blockedOn=i,!1;s.shift()}return!0}function mb(t,s,i){ud(t)&&i.delete(s)}function oE(){Im=!1,_a!==null&&ud(_a)&&(_a=null),wa!==null&&ud(wa)&&(wa=null),Na!==null&&ud(Na)&&(Na=null),tc.forEach(mb),nc.forEach(mb)}function dd(t,s){t.blockedOn===s&&(t.blockedOn=null,Im||(Im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,oE)))}var hd=null;function gb(t){hd!==t&&(hd=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hd===t&&(hd=null);for(var s=0;s<t.length;s+=3){var i=t[s],c=t[s+1],h=t[s+2];if(typeof c!="function"){if(Rm(c||i)===null)continue;break}var m=es(i);m!==null&&(t.splice(s,3),s-=3,Cf(m,{pending:!0,data:h,method:i.method,action:c},c,h))}}))}function Cl(t){function s(R){return dd(R,t)}_a!==null&&dd(_a,t),wa!==null&&dd(wa,t),Na!==null&&dd(Na,t),tc.forEach(s),nc.forEach(s);for(var i=0;i<Ea.length;i++){var c=Ea[i];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Ea.length&&(i=Ea[0],i.blockedOn===null);)fb(i),i.blockedOn===null&&Ea.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var h=i[c],m=i[c+1],b=h[Zt]||null;if(typeof m=="function")b||gb(i);else if(b){var N=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[Zt]||null)N=b.formAction;else if(Rm(h)!==null)continue}else N=b.action;typeof N=="function"?i[c+1]=N:(i.splice(c,3),c-=3),gb(i)}}}function pb(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function km(t){this._internalRoot=t}fd.prototype.render=km.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(a(409));var i=s.current,c=Qn();lb(i,c,t,s,null,null)},fd.prototype.unmount=km.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;lb(t.current,2,null,t,null,null),Qu(),s[Us]=null}};function fd(t){this._internalRoot=t}fd.prototype.unstable_scheduleHydration=function(t){if(t){var s=Qc();t={blockedOn:null,target:t,priority:s};for(var i=0;i<Ea.length&&s!==0&&s<Ea[i].priority;i++);Ea.splice(i,0,t),i===0&&fb(t)}};var yb=e.version;if(yb!=="19.2.0")throw Error(a(527,yb,"19.2.0"));ce.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(s),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var cE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Ne=md.inject(cE),ve=md}catch{}}return ac.createRoot=function(t,s){if(!o(t))throw Error(a(299));var i=!1,c="",h=Ey,m=Ty,b=Sy;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=ab(t,1,!1,null,null,i,c,null,h,m,b,pb),t[Us]=s.current,fm(t),new km(s)},ac.hydrateRoot=function(t,s,i){if(!o(t))throw Error(a(299));var c=!1,h="",m=Ey,b=Ty,N=Sy,R=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError),i.formState!==void 0&&(R=i.formState)),s=ab(t,1,!0,s,i??null,c,h,R,m,b,N,pb),s.context=ib(null),i=s.current,c=Qn(),c=Ja(c),h=ca(c),h.callback=null,ua(i,h,c),i=c,s.current.lanes=i,Wa(s,i),nr(s),t[Us]=s.current,fm(t),new fd(s)},ac.version="19.2.0",ac}var jb;function bE(){if(jb)return Mm.exports;jb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mm.exports=xE(),Mm.exports}var vE=bE();const _E=wv(vE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),Ab=r=>{const e=NE(r);return e.charAt(0).toUpperCase()+e.slice(1)},Ev=(...r)=>r.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),EE=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=F.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:f,...g},y)=>F.createElement("svg",{ref:y,...TE,width:e,height:e,stroke:r,strokeWidth:a?Number(n)*24/Number(e):n,className:Ev("lucide",o),...!u&&!EE(g)&&{"aria-hidden":"true"},...g},[...f.map(([p,_])=>F.createElement(p,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(r,e)=>{const n=F.forwardRef(({className:a,...o},u)=>F.createElement(SE,{ref:u,iconNode:e,className:Ev(`lucide-${wE(Ab(r))}`,`lucide-${r}`,a),...o}));return n.displayName=Ab(r),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],AE=fe("activity",jE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Id=fe("arrow-left",CE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nn=fe("arrow-right",RE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ri=fe("award",IE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wn=fe("book-open",kE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],OE=fe("book",DE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Tv=fe("briefcase",ME);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],l0=fe("calendar",VE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Sv=fe("chart-column",LE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ii=fe("chevron-down",PE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ja=fe("chevron-left",zE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zm=fe("chevron-right",UE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kd=fe("circle-alert",qE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Dc=fe("circle-check-big",BE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rr=fe("circle-check",HE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Dd=fe("circle-plus",FE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ki=fe("circle-question-mark",GE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],QE=fe("circle-user",$E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],YE=fe("circle-x",KE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],G0=fe("clock",XE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],jv=fe("cloud-upload",WE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Yl=fe("crown",ZE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],o0=fe("download",JE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c0=fe("eye",eT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],u0=fe("facebook",tT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],sT=fe("file-check",nT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],aT=fe("file-plus",rT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],lT=fe("file-search",iT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ql=fe("file-text",oT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],$0=fe("flag",cT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Od=fe("flame",uT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],ic=fe("folder-open",dT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],fT=fe("globe",hT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],La=fe("graduation-cap",mT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Md=fe("house",gT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],yT=fe("info",pT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Av=fe("languages",xT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Pa=fe("layers",bT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Cb=fe("layout-dashboard",vT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],wT=fe("link",_T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Rb=fe("list",NT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],sn=fe("loader-circle",ET);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],d0=fe("log-in",TT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ti=fe("lock",ST);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vd=fe("log-out",jT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],h0=fe("mail",AT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],f0=fe("map-pin",CT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],IT=fe("medal",RT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],DT=fe("menu",kT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ld=fe("message-circle",OT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],vc=fe("monitor",MT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],Cv=fe("move-right",VT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],PT=fe("octagon-alert",LT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ib=fe("palette",zT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],qT=fe("pen-line",UT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Q0=fe("pen-tool",BT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],FT=fe("percent",HT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],$T=fe("quote",GT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Rv=fe("refresh-cw",QT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Iv=fe("rotate-ccw",KT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Di=fe("save",YT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Pd=fe("school",XT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],za=fe("search",WT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],JT=fe("send",ZT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],t4=fe("share-2",e4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],s4=fe("shield-alert",n4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],a4=fe("shield-check",r4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],kv=fe("sparkles",i4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],m0=fe("square-pen",l4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ih=fe("star",o4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Dv=fe("tag",c4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],d4=fe("target",u4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],f4=fe("text-align-start",h4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Ov=fe("timer",m4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],g0=fe("trash-2",g4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],y4=fe("trending-up",p4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],b4=fe("triangle-alert",x4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ml=fe("trophy",v4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],w4=fe("type",_4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kn=fe("user",N4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],T4=fe("users",E4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ur=fe("x",S4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],K0=fe("zap",j4),A4=()=>{};var kb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},C4=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],g=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,g=f?r[o+1]:0,y=o+2<r.length,p=y?r[o+2]:0,_=u>>2,w=(u&3)<<4|g>>4;let A=(g&15)<<2|p>>6,M=p&63;y||(M=64,f||(A=64)),a.push(n[_],n[w],n[A],n[M])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Mv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):C4(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||g==null||p==null||w==null)throw new R4;const A=u<<2|g>>4;if(a.push(A),p!==64){const M=g<<4&240|p>>2;if(a.push(M),w!==64){const U=p<<6&192|w;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class R4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I4=function(r){const e=Mv(r);return Vv.encodeByteArray(e,!0)},zd=function(r){return I4(r).replace(/\./g,"")},Lv=function(r){try{return Vv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=()=>k4().__FIREBASE_DEFAULTS__,O4=()=>{if(typeof process>"u"||typeof kb>"u")return;const r=kb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},M4=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Lv(r[1]);return e&&JSON.parse(e)},lh=()=>{try{return A4()||D4()||O4()||M4()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Pv=r=>{var e,n;return(n=(e=lh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},V4=r=>{const e=Pv(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},zv=()=>{var r;return(r=lh())==null?void 0:r.config},Uv=r=>{var e;return(e=lh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[zd(JSON.stringify(n)),zd(JSON.stringify(f)),""].join(".")}const fc={};function z4(){const r={prod:[],emulator:[]};for(const e of Object.keys(fc))fc[e]?r.emulator.push(e):r.prod.push(e);return r}function U4(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Db=!1;function Bv(r,e){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||fc[r]===e||fc[r]||Db)return;fc[r]=e;function n(A){return`__firebase__banner__${A}`}const a="__firebase__banner",u=z4().prod.length>0;function f(){const A=document.getElementById(a);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Db=!0,f()},A}function _(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=U4(a),M=n("text"),U=document.getElementById(M)||document.createElement("span"),se=n("learnmore"),Y=document.getElementById(se)||document.createElement("a"),le=n("preprendIcon"),de=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ae=A.element;g(ae),_(Y,se);const me=p();y(de,le),ae.append(de,U,Y,me),document.body.appendChild(ae)}u?(U.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function B4(){var e;const r=(e=lh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hv(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function F4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G4(){const r=yn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $4(){return!B4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fv(){try{return typeof indexedDB=="object"}catch{return!1}}function Gv(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}function Q4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="FirebaseError";class Os extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=K4,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ui.prototype.create)}}class Ui{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Y4(u,a):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Os(o,g,a)}}function Y4(r,e){return r.replace(X4,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const X4=/\{\$([^}]+)}/g;function W4(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ua(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(Ob(u)&&Ob(f)){if(!Ua(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function Ob(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function lc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function oc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Z4(r,e){const n=new J4(r,e);return n.subscribe.bind(n)}class J4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");eS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Um),o.error===void 0&&(o.error=Um),o.complete===void 0&&(o.complete=Um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Um(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=1e3,nS=2,sS=14400*1e3,rS=.5;function Mb(r,e=tS,n=nS){const a=e*Math.pow(n,r),o=Math.round(rS*a*(Math.random()-.5)*2);return Math.min(sS,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(r){return r&&r._delegate?r._delegate:r}class Is{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new L4;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lS(e))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ei){return this.instances.has(e)}getOptions(e=Ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:iS(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ei){return this.component?this.component.multipleInstances?e:Ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iS(r){return r===Ei?void 0:r}function lS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qe||(Qe={}));const cS={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},uS=Qe.INFO,dS={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},hS=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=dS[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oh{constructor(e){this.name=e,this._logLevel=uS,this._logHandler=hS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const fS=(r,e)=>e.some(n=>r instanceof n);let Vb,Lb;function mS(){return Vb||(Vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gS(){return Lb||(Lb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $v=new WeakMap,p0=new WeakMap,Qv=new WeakMap,qm=new WeakMap,Y0=new WeakMap;function pS(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Da(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&$v.set(n,r)}).catch(()=>{}),Y0.set(e,r),e}function yS(r){if(p0.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});p0.set(r,e)}let y0={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return p0.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Qv.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function xS(r){y0=r(y0)}function bS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Bm(this),e,...n);return Qv.set(a,e.sort?e.sort():[e]),Da(a)}:gS().includes(r)?function(...e){return r.apply(Bm(this),e),Da($v.get(this))}:function(...e){return Da(r.apply(Bm(this),e))}}function vS(r){return typeof r=="function"?bS(r):(r instanceof IDBTransaction&&yS(r),fS(r,mS())?new Proxy(r,y0):r)}function Da(r){if(r instanceof IDBRequest)return pS(r);if(qm.has(r))return qm.get(r);const e=vS(r);return e!==r&&(qm.set(r,e),Y0.set(e,r)),e}const Bm=r=>Y0.get(r);function Kv(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),g=Da(f);return a&&f.addEventListener("upgradeneeded",y=>{a(Da(f.result),y.oldVersion,y.newVersion,Da(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const _S=["get","getKey","getAll","getAllKeys","count"],wS=["put","add","delete","clear"],Hm=new Map;function Pb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=wS.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||_S.includes(n)))return;const u=async function(f,...g){const y=this.transaction(f,o?"readwrite":"readonly");let p=y.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),o&&y.done]))[0]};return Hm.set(e,u),u}xS(r=>({...r,get:(e,n,a)=>Pb(e,n)||r.get(e,n,a),has:(e,n)=>!!Pb(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ES(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function ES(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const x0="@firebase/app",zb="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new oh("@firebase/app"),TS="@firebase/app-compat",SS="@firebase/analytics-compat",jS="@firebase/analytics",AS="@firebase/app-check-compat",CS="@firebase/app-check",RS="@firebase/auth",IS="@firebase/auth-compat",kS="@firebase/database",DS="@firebase/data-connect",OS="@firebase/database-compat",MS="@firebase/functions",VS="@firebase/functions-compat",LS="@firebase/installations",PS="@firebase/installations-compat",zS="@firebase/messaging",US="@firebase/messaging-compat",qS="@firebase/performance",BS="@firebase/performance-compat",HS="@firebase/remote-config",FS="@firebase/remote-config-compat",GS="@firebase/storage",$S="@firebase/storage-compat",QS="@firebase/firestore",KS="@firebase/ai",YS="@firebase/firestore-compat",XS="firebase",WS="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="[DEFAULT]",ZS={[x0]:"fire-core",[TS]:"fire-core-compat",[jS]:"fire-analytics",[SS]:"fire-analytics-compat",[CS]:"fire-app-check",[AS]:"fire-app-check-compat",[RS]:"fire-auth",[IS]:"fire-auth-compat",[kS]:"fire-rtdb",[DS]:"fire-data-connect",[OS]:"fire-rtdb-compat",[MS]:"fire-fn",[VS]:"fire-fn-compat",[LS]:"fire-iid",[PS]:"fire-iid-compat",[zS]:"fire-fcm",[US]:"fire-fcm-compat",[qS]:"fire-perf",[BS]:"fire-perf-compat",[HS]:"fire-rc",[FS]:"fire-rc-compat",[GS]:"fire-gcs",[$S]:"fire-gcs-compat",[QS]:"fire-fst",[YS]:"fire-fst-compat",[KS]:"fire-vertex","fire-js":"fire-js",[XS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Map,JS=new Map,v0=new Map;function Ub(r,e){try{r.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function dr(r){const e=r.name;if(v0.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;v0.set(e,r);for(const n of Ud.values())Ub(n,r);for(const n of JS.values())Ub(n,r);return!0}function qi(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function hs(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new Ui("app","Firebase",e5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=WS;function Yv(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:b0,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Oa.create("bad-app-name",{appName:String(o)});if(n||(n=zv()),!n)throw Oa.create("no-options");const u=Ud.get(o);if(u){if(Ua(n,u.options)&&Ua(a,u.config))return u;throw Oa.create("duplicate-app",{appName:o})}const f=new oS(o);for(const y of v0.values())f.addComponent(y);const g=new t5(n,a,f);return Ud.set(o,g),g}function X0(r=b0){const e=Ud.get(r);if(!e&&r===b0&&zv())return Yv();if(!e)throw Oa.create("no-app",{appName:r});return e}function ms(r,e,n){let a=ZS[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(f.join(" "));return}dr(new Is(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="firebase-heartbeat-database",s5=1,_c="firebase-heartbeat-store";let Fm=null;function Xv(){return Fm||(Fm=Kv(n5,s5,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(_c)}catch(n){console.warn(n)}}}}).catch(r=>{throw Oa.create("idb-open",{originalErrorMessage:r.message})})),Fm}async function r5(r){try{const n=(await Xv()).transaction(_c),a=await n.objectStore(_c).get(Wv(r));return await n.done,a}catch(e){if(e instanceof Os)qr.warn(e.message);else{const n=Oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qr.warn(n.message)}}}async function qb(r,e){try{const a=(await Xv()).transaction(_c,"readwrite");await a.objectStore(_c).put(e,Wv(r)),await a.done}catch(n){if(n instanceof Os)qr.warn(n.message);else{const a=Oa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qr.warn(a.message)}}}function Wv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=1024,i5=30;class l5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c5(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Bb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>i5){const f=u5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){qr.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bb(),{heartbeatsToSend:a,unsentEntries:o}=o5(this._heartbeatsCache.heartbeats),u=zd(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return qr.warn(n),""}}}function Bb(){return new Date().toISOString().substring(0,10)}function o5(r,e=a5){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Hb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Hb(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class c5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fv()?Gv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return qb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return qb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Hb(r){return zd(JSON.stringify({version:2,heartbeats:r})).length}function u5(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(r){dr(new Is("platform-logger",e=>new NS(e),"PRIVATE")),dr(new Is("heartbeat",e=>new l5(e),"PRIVATE")),ms(x0,zb,r),ms(x0,zb,"esm2020"),ms("fire-js","")}d5("");var h5="firebase",f5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(h5,f5,"app");function Zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m5=Zv,Jv=new Ui("auth","Firebase",Zv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new oh("@firebase/auth");function g5(r,...e){qd.logLevel<=Qe.WARN&&qd.warn(`Auth (${Wl}): ${r}`,...e)}function _d(r,...e){qd.logLevel<=Qe.ERROR&&qd.error(`Auth (${Wl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(r,...e){throw W0(r,...e)}function ar(r,...e){return W0(r,...e)}function e_(r,e,n){const a={...m5(),[e]:n};return new Ui("auth","Firebase",a).create(e,{appName:r.name})}function Pr(r){return e_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function W0(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return Jv.create(r,...e)}function Re(r,e,...n){if(!r)throw W0(e,...n)}function Vr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw _d(e),new Error(e)}function Br(r,e){r||Vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function p5(){return Fb()==="http:"||Fb()==="https:"}function Fb(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p5()||Hv()||"connection"in navigator)?navigator.onLine:!0}function x5(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=q4()||F4()}get(){return y5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r,e){Br(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_5=new Mc(3e4,6e4);function $r(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Qr(r,e,n,a,o={}){return n_(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const g=Oc({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:y,...u};return H4()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(p.credentials="include"),t_.fetch()(await s_(r,r.config.apiHost,n,g),p)})}async function n_(r,e,n){r._canInitEmulator=!1;const a={...b5,...e};try{const o=new N5(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw gd(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw gd(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw gd(r,"user-disabled",f);const _=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw e_(r,_,p);ks(r,_)}}catch(o){if(o instanceof Os)throw o;ks(r,"network-request-failed",{message:String(o)})}}async function Vc(r,e,n,a,o={}){const u=await Qr(r,e,n,a,o);return"mfaPendingCredential"in u&&ks(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function s_(r,e,n,a){const o=`${e}${n}?${a}`,u=r,f=u.config.emulator?Z0(r.config,o):`${r.config.apiScheme}://${o}`;return v5.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function w5(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ar(this.auth,"network-request-failed")),_5.get())})}}function gd(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=ar(r,e,a);return o.customData._tokenResponse=n,o}function Gb(r){return r!==void 0&&r.enterprise!==void 0}class E5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return w5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function T5(r,e){return Qr(r,"GET","/v2/recaptchaConfig",$r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(r,e){return Qr(r,"POST","/v1/accounts:delete",e)}async function Bd(r,e){return Qr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j5(r,e=!1){const n=Dt(r),a=await n.getIdToken(e),o=J0(a);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:mc(Gm(o.auth_time)),issuedAtTime:mc(Gm(o.iat)),expirationTime:mc(Gm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Gm(r){return Number(r)*1e3}function J0(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return _d("JWT malformed, contained fewer than 3 sections"),null;try{const o=Lv(n);return o?JSON.parse(o):(_d("Failed to decode base64 JWT payload"),null)}catch(o){return _d("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $b(r){const e=J0(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Os&&A5(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function A5({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mc(this.lastLoginAt),this.creationTime=mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(r){var w;const e=r.auth,n=await r.getIdToken(),a=await wc(r,Bd(e,{idToken:n}));Re(a==null?void 0:a.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=(w=o.providerUserInfo)!=null&&w.length?r_(o.providerUserInfo):[],f=I5(r.providerData,u),g=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),p=g?y:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new w0(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,_)}async function R5(r){const e=Dt(r);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I5(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function r_(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(r,e){const n=await n_(r,{},async()=>{const a=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await s_(r,o,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(y.credentials="include"),t_.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function D5(r,e){return Qr(r,"POST","/v2/accounts:revokeToken",$r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$b(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=$b(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await k5(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new Vl;return a&&(Re(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Re(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Re(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class As{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new C5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new w0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await wc(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j5(this,e)}reload(){return R5(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new As({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Hd(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hs(this.auth.app))return Promise.reject(Pr(this.auth));const e=await this.getIdToken();return await wc(this,S5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:M,providerData:U,stsTokenManager:se}=n;Re(w&&se,e,"internal-error");const Y=Vl.fromJSON(this.name,se);Re(typeof w=="string",e,"internal-error"),Sa(a,e.name),Sa(o,e.name),Re(typeof A=="boolean",e,"internal-error"),Re(typeof M=="boolean",e,"internal-error"),Sa(u,e.name),Sa(f,e.name),Sa(g,e.name),Sa(y,e.name),Sa(p,e.name),Sa(_,e.name);const le=new As({uid:w,auth:e,email:o,emailVerified:A,displayName:a,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:Y,createdAt:p,lastLoginAt:_});return U&&Array.isArray(U)&&(le.providerData=U.map(de=>({...de}))),y&&(le._redirectEventId=y),le}static async _fromIdTokenResponse(e,n,a=!1){const o=new Vl;o.updateFromServerResponse(n);const u=new As({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Hd(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?r_(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new Vl;g.updateFromIdToken(a);const y=new As({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new w0(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(y,p),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new Map;function Lr(r){Br(r instanceof Function,"Expected a class definition");let e=Qb.get(r);return e?(Br(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Qb.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}a_.type="NONE";const Kb=a_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(r,e,n){return`firebase:${r}:${e}:${n}`}class Ll{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=wd(this.userKey,o.apiKey,u),this.fullPersistenceKey=wd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bd(this.auth,{idToken:e}).catch(()=>{});return n?As._fromGetAccountInfoResponse(this.auth,n,e):null}return As._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Ll(Lr(Kb),e,a);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Lr(Kb);const f=wd(a,e.config.apiKey,e.name);let g=null;for(const p of n)try{const _=await p._get(f);if(_){let w;if(typeof _=="string"){const A=await Bd(e,{idToken:_}).catch(()=>{});if(!A)break;w=await As._fromGetAccountInfoResponse(e,A,_)}else w=As._fromJSON(e,_);p!==u&&(g=w),u=p;break}}catch{}const y=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ll(u,e,a):(u=y[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new Ll(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d_(e))return"Blackberry";if(h_(e))return"Webos";if(l_(e))return"Safari";if((e.includes("chrome/")||o_(e))&&!e.includes("edge/"))return"Chrome";if(u_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function i_(r=yn()){return/firefox\//i.test(r)}function l_(r=yn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o_(r=yn()){return/crios\//i.test(r)}function c_(r=yn()){return/iemobile/i.test(r)}function u_(r=yn()){return/android/i.test(r)}function d_(r=yn()){return/blackberry/i.test(r)}function h_(r=yn()){return/webos/i.test(r)}function eg(r=yn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function O5(r=yn()){var e;return eg(r)&&!!((e=window.navigator)!=null&&e.standalone)}function M5(){return G4()&&document.documentMode===10}function f_(r=yn()){return eg(r)||u_(r)||h_(r)||d_(r)||/windows phone/i.test(r)||c_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(r,e=[]){let n;switch(r){case"Browser":n=Yb(yn());break;case"Worker":n=`${Yb(yn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wl}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,g)=>{try{const y=e(u);f(y)}catch(y){g(y)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5(r,e={}){return Qr(r,"GET","/v2/passwordPolicy",$r(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=6;class z5{constructor(e){var a;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??P5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xb(this),this.idTokenSubscription=new Xb(this),this.beforeStateQueue=new V5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bd(this,{idToken:e}),a=await As._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(hs(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=a==null?void 0:a._redirectEventId,y=await this.tryRedirectSignIn(e);(!f||f===g)&&(y!=null&&y.user)&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(f){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hs(this.app))return Promise.reject(Pr(this));const n=e?Dt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hs(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hs(this.app)?Promise.reject(Pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L5(this),n=new z5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ui("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await D5(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var n;if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&g5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Qa(r){return Dt(r)}class Xb{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z4(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q5(r){ch=r}function g_(r){return ch.loadJS(r)}function B5(){return ch.recaptchaEnterpriseScript}function H5(){return ch.gapiScript}function F5(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class G5{constructor(){this.enterprise=new $5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Q5="recaptcha-enterprise",p_="NO_RECAPTCHA";class K5{constructor(e){this.type=Q5,this.auth=Qa(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{T5(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new E5(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(y=>{g(y)})})}function o(u,f,g){const y=window.grecaptcha;Gb(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(p_)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new G5().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(g=>{if(!n&&Gb(window.grecaptcha))o(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=B5();y.length!==0&&(y+=g),g_(y).then(()=>{o(g,u,f)}).catch(p=>{f(p)})}}).catch(g=>{f(g)})})}}async function Wb(r,e,n,a=!1,o=!1){const u=new K5(r);let f;if(o)f=p_;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Fd(r,e,n,a,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Wb(r,e,n,n==="getOobCode");return a(r,f)}else return a(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Wb(r,e,n,n==="getOobCode");return a(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(r,e){const n=qi(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ua(u,e??{}))return o;ks(o,"already-initialized")}return n.initialize({options:e})}function X5(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Lr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function W5(r,e,n){const a=Qa(r);Re(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=y_(e),{host:f,port:g}=Z5(e),y=g===null?"":`:${g}`,p={url:`${u}//${f}${y}/`},_=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Re(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Re(Ua(p,a.config.emulator)&&Ua(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,Xl(f)?(qv(`${u}//${f}${y}`),Bv("Auth",!0)):J5()}function y_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Z5(r){const e=y_(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Zb(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:Zb(f)}}}function Zb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function J5(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,n){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}async function ej(r,e){return Qr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj(r,e){return Vc(r,"POST","/v1/accounts:signInWithPassword",$r(r,e))}async function nj(r,e){return Qr(r,"POST","/v1/accounts:sendOobCode",$r(r,e))}async function sj(r,e){return nj(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(r,e){return Vc(r,"POST","/v1/accounts:signInWithEmailLink",$r(r,e))}async function aj(r,e){return Vc(r,"POST","/v1/accounts:signInWithEmailLink",$r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends tg{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Nc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Nc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fd(e,n,"signInWithPassword",tj);case"emailLink":return rj(e,{email:this._email,oobCode:this._password});default:ks(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fd(e,a,"signUpPassword",ej);case"emailLink":return aj(e,{idToken:n,email:this._email,oobCode:this._password});default:ks(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(r,e){return Vc(r,"POST","/v1/accounts:signInWithIdp",$r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="http://localhost";class Oi extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ks("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const f=new Oi(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Pl(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Pl(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pl(e,n)}buildRequest(){const e={requestUri:ij,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oj(r){const e=lc(oc(r)).link,n=e?lc(oc(e)).deep_link_id:null,a=lc(oc(r)).deep_link_id;return(a?lc(oc(a)).link:null)||a||n||e||r}class ng{constructor(e){const n=lc(oc(e)),a=n.apiKey??null,o=n.oobCode??null,u=lj(n.mode??null);Re(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=oj(e);try{return new ng(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.providerId=Zl.PROVIDER_ID}static credential(e,n){return Nc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=ng.parseLink(n);return Re(a,"argument-error"),Nc._fromEmailAndCode(e,a.code,a.tenantId)}}Zl.PROVIDER_ID="password";Zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends x_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Lc{constructor(){super("facebook.com")}static credential(e){return Oi._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oi._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ca.credential(n,a)}catch{return null}}}Ca.GOOGLE_SIGN_IN_METHOD="google.com";Ca.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Lc{constructor(){super("github.com")}static credential(e){return Oi._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.GITHUB_SIGN_IN_METHOD="github.com";Ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Lc{constructor(){super("twitter.com")}static credential(e,n){return Oi._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ia.credential(n,a)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(r,e){return Vc(r,"POST","/v1/accounts:signUp",$r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await As._fromIdTokenResponse(e,a,o),f=Jb(a);return new Mi({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=Jb(a);return new Mi({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function Jb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends Os{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Gd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Gd(e,n,a,o)}}function b_(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gd._fromErrorAndOperation(r,u,e,a):u})}async function uj(r,e,n=!1){const a=await wc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Mi._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dj(r,e,n=!1){const{auth:a}=r;if(hs(a.app))return Promise.reject(Pr(a));const o="reauthenticate";try{const u=await wc(r,b_(a,o,e,r),n);Re(u.idToken,a,"internal-error");const f=J0(u.idToken);Re(f,a,"internal-error");const{sub:g}=f;return Re(r.uid===g,a,"user-mismatch"),Mi._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ks(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v_(r,e,n=!1){if(hs(r.app))return Promise.reject(Pr(r));const a="signIn",o=await b_(r,a,e),u=await Mi._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function hj(r,e){return v_(Qa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __(r){const e=Qa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fj(r,e,n){const a=Qa(r);await Fd(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sj)}async function mj(r,e,n){if(hs(r.app))return Promise.reject(Pr(r));const a=Qa(r),f=await Fd(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cj).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&__(r),y}),g=await Mi._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(g.user),g}function gj(r,e,n){return hs(r.app)?Promise.reject(Pr(r)):hj(Dt(r),Zl.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&__(r),a})}function pj(r,e,n,a){return Dt(r).onIdTokenChanged(e,n,a)}function yj(r,e,n){return Dt(r).beforeAuthStateChanged(e,n)}function xj(r,e,n,a){return Dt(r).onAuthStateChanged(e,n,a)}function bj(r){return Dt(r).signOut()}const $d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=1e3,_j=10;class N_ extends w_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,y)=>{this.notifyListeners(f,y)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);M5()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_j):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},vj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}N_.type="LOCAL";const wj=N_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_ extends w_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E_.type="SESSION";const T_=E_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new uh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(f).map(async p=>p(n.origin,u)),y=await Nj(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,y)=>{const p=sg("",20);o.port1.start();const _=setTimeout(()=>{y(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(A.data.response);break;default:clearTimeout(_),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function Tj(r){ir().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function Sj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jj(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function Aj(){return S_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="firebaseLocalStorageDb",Cj=1,Qd="firebaseLocalStorage",A_="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dh(r,e){return r.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function Rj(){const r=indexedDB.deleteDatabase(j_);return new Pc(r).toPromise()}function N0(){const r=indexedDB.open(j_,Cj);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Qd,{keyPath:A_})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Qd)?e(a):(a.close(),await Rj(),e(await N0()))})})}async function e1(r,e,n){const a=dh(r,!0).put({[A_]:e,value:n});return new Pc(a).toPromise()}async function Ij(r,e){const n=dh(r,!1).get(e),a=await new Pc(n).toPromise();return a===void 0?null:a.value}function t1(r,e){const n=dh(r,!0).delete(e);return new Pc(n).toPromise()}const kj=800,Dj=3;class C_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await N0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>Dj)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(Aj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,a;if(this.activeServiceWorker=await Sj(),!this.activeServiceWorker)return;this.sender=new Ej(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await N0();return await e1(e,$d,"1"),await t1(e,$d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>e1(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>Ij(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=dh(o,!1).getAll();return new Pc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}C_.type="LOCAL";const Oj=C_;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(r,e){return e?Lr(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Vj(r){return v_(r.auth,new rg(r),r.bypassAuthState)}function Lj(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),dj(n,new rg(r),r.bypassAuthState)}async function Pj(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),uj(n,new rg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vj;case"linkViaPopup":case"linkViaRedirect":return Pj;case"reauthViaPopup":case"reauthViaRedirect":return Lj;default:ks(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new Mc(2e3,1e4);class Ol extends R_{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zj.get())};e()}}Ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="pendingRedirect",Nd=new Map;class qj extends R_{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const a=await Bj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bj(r,e){const n=Gj(e),a=Fj(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function Hj(r,e){Nd.set(r._key(),e)}function Fj(r){return Lr(r._redirectPersistence)}function Gj(r){return wd(Uj,r.config.apiKey,r.name)}async function $j(r,e,n=!1){if(hs(r.app))return Promise.reject(Pr(r));const a=Qa(r),o=Mj(a,e),f=await new qj(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=600*1e3;class Kj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!I_(e)){const o=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(ar(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qj&&this.cachedEventUids.clear(),this.cachedEventUids.has(n1(e))}saveEventToCache(e){this.cachedEventUids.add(n1(e)),this.lastProcessedEventTime=Date.now()}}function n1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function I_({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Yj(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(r,e={}){return Qr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zj=/^https?/;async function Jj(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Xj(r);for(const n of e)try{if(eA(n))return}catch{}ks(r,"unauthorized-domain")}function eA(r){const e=_0(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!Zj.test(n))return!1;if(Wj.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=new Mc(3e4,6e4);function s1(){const r=ir().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function nA(r){return new Promise((e,n)=>{var o,u,f;function a(){s1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s1(),n(ar(r,"network-request-failed"))},timeout:tA.get()})}if((u=(o=ir().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=ir().gapi)!=null&&f.load)a();else{const g=F5("iframefcb");return ir()[g]=()=>{gapi.load?a():n(ar(r,"network-request-failed"))},g_(`${H5()}?onload=${g}`).catch(y=>n(y))}}).catch(e=>{throw Ed=null,e})}let Ed=null;function sA(r){return Ed=Ed||nA(r),Ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new Mc(5e3,15e3),aA="__/auth/iframe",iA="emulator/auth/iframe",lA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cA(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Z0(e,iA):`https://${r.config.authDomain}/${aA}`,a={apiKey:e.apiKey,appName:r.name,v:Wl},o=oA.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Oc(a).slice(1)}`}async function uA(r){const e=await sA(r),n=ir().gapi;return Re(n,r,"internal-error"),e.open({where:document.body,url:cA(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lA,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=ar(r,"network-request-failed"),g=ir().setTimeout(()=>{u(f)},rA.get());function y(){ir().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hA=500,fA=600,mA="_blank",gA="http://localhost";class r1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pA(r,e,n,a=hA,o=fA){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...dA,width:a.toString(),height:o.toString(),top:u,left:f},p=yn().toLowerCase();n&&(g=o_(p)?mA:n),i_(p)&&(e=e||gA,y.scrollbars="yes");const _=Object.entries(y).reduce((A,[M,U])=>`${A}${M}=${U},`,"");if(O5(p)&&g!=="_self")return yA(e||"",g),new r1(null);const w=window.open(e||"",g,_);Re(w,r,"popup-blocked");try{w.focus()}catch{}return new r1(w)}function yA(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="__/auth/handler",bA="emulator/auth/handler",vA=encodeURIComponent("fac");async function a1(r,e,n,a,o,u){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Wl,eventId:o};if(e instanceof x_){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",W4(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))f[_]=w}if(e instanceof Lc){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(f.scopes=_.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const _ of Object.keys(g))g[_]===void 0&&delete g[_];const y=await r._getAppCheckToken(),p=y?`#${vA}=${encodeURIComponent(y)}`:"";return`${_A(r)}?${Oc(g).slice(1)}${p}`}function _A({config:r}){return r.emulator?Z0(r,bA):`https://${r.authDomain}/${xA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="webStorageSupport";class wA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T_,this._completeRedirectFn=$j,this._overrideRedirectResult=Hj}async _openPopup(e,n,a,o){var f;Br((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await a1(e,n,a,_0(),o);return pA(e,u,sg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await a1(e,n,a,_0(),o);return Tj(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Br(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await uA(e),a=new Kj(e);return n.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($m,{type:$m},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[$m];u!==void 0&&n(!!u),ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Jj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return f_()||l_()||eg()}}const NA=wA;var i1="@firebase/auth",l1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SA(r){dr(new Is("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=a.options;Re(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m_(r)},p=new U5(a,o,u,y);return X5(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),dr(new Is("auth-internal",e=>{const n=Qa(e.getProvider("auth").getImmediate());return(a=>new EA(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(i1,l1,TA(r)),ms(i1,l1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=300,AA=Uv("authIdTokenMaxAge")||jA;let o1=null;const CA=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>AA)return;const o=n==null?void 0:n.token;o1!==o&&(o1=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RA(r=X0()){const e=qi(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Y5(r,{popupRedirectResolver:NA,persistence:[Oj,wj,T_]}),a=Uv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=CA(u.toString());yj(n,f,()=>f(n.currentUser)),pj(n,g=>f(g))}}const o=Pv("auth");return o&&W5(n,`http://${o}`),n}function IA(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}q5({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=ar("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",IA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SA("Browser");var c1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ma,k_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function j(){}j.prototype=E.prototype,S.F=E.prototype,S.prototype=new j,S.prototype.constructor=S,S.D=function(k,I,V){for(var C=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)C[Xe-2]=arguments[Xe];return E.prototype[I].apply(k,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,E,j){j||(j=0);const k=Array(16);if(typeof E=="string")for(var I=0;I<16;++I)k[I]=E.charCodeAt(j++)|E.charCodeAt(j++)<<8|E.charCodeAt(j++)<<16|E.charCodeAt(j++)<<24;else for(I=0;I<16;++I)k[I]=E[j++]|E[j++]<<8|E[j++]<<16|E[j++]<<24;E=S.g[0],j=S.g[1],I=S.g[2];let V=S.g[3],C;C=E+(V^j&(I^V))+k[0]+3614090360&4294967295,E=j+(C<<7&4294967295|C>>>25),C=V+(I^E&(j^I))+k[1]+3905402710&4294967295,V=E+(C<<12&4294967295|C>>>20),C=I+(j^V&(E^j))+k[2]+606105819&4294967295,I=V+(C<<17&4294967295|C>>>15),C=j+(E^I&(V^E))+k[3]+3250441966&4294967295,j=I+(C<<22&4294967295|C>>>10),C=E+(V^j&(I^V))+k[4]+4118548399&4294967295,E=j+(C<<7&4294967295|C>>>25),C=V+(I^E&(j^I))+k[5]+1200080426&4294967295,V=E+(C<<12&4294967295|C>>>20),C=I+(j^V&(E^j))+k[6]+2821735955&4294967295,I=V+(C<<17&4294967295|C>>>15),C=j+(E^I&(V^E))+k[7]+4249261313&4294967295,j=I+(C<<22&4294967295|C>>>10),C=E+(V^j&(I^V))+k[8]+1770035416&4294967295,E=j+(C<<7&4294967295|C>>>25),C=V+(I^E&(j^I))+k[9]+2336552879&4294967295,V=E+(C<<12&4294967295|C>>>20),C=I+(j^V&(E^j))+k[10]+4294925233&4294967295,I=V+(C<<17&4294967295|C>>>15),C=j+(E^I&(V^E))+k[11]+2304563134&4294967295,j=I+(C<<22&4294967295|C>>>10),C=E+(V^j&(I^V))+k[12]+1804603682&4294967295,E=j+(C<<7&4294967295|C>>>25),C=V+(I^E&(j^I))+k[13]+4254626195&4294967295,V=E+(C<<12&4294967295|C>>>20),C=I+(j^V&(E^j))+k[14]+2792965006&4294967295,I=V+(C<<17&4294967295|C>>>15),C=j+(E^I&(V^E))+k[15]+1236535329&4294967295,j=I+(C<<22&4294967295|C>>>10),C=E+(I^V&(j^I))+k[1]+4129170786&4294967295,E=j+(C<<5&4294967295|C>>>27),C=V+(j^I&(E^j))+k[6]+3225465664&4294967295,V=E+(C<<9&4294967295|C>>>23),C=I+(E^j&(V^E))+k[11]+643717713&4294967295,I=V+(C<<14&4294967295|C>>>18),C=j+(V^E&(I^V))+k[0]+3921069994&4294967295,j=I+(C<<20&4294967295|C>>>12),C=E+(I^V&(j^I))+k[5]+3593408605&4294967295,E=j+(C<<5&4294967295|C>>>27),C=V+(j^I&(E^j))+k[10]+38016083&4294967295,V=E+(C<<9&4294967295|C>>>23),C=I+(E^j&(V^E))+k[15]+3634488961&4294967295,I=V+(C<<14&4294967295|C>>>18),C=j+(V^E&(I^V))+k[4]+3889429448&4294967295,j=I+(C<<20&4294967295|C>>>12),C=E+(I^V&(j^I))+k[9]+568446438&4294967295,E=j+(C<<5&4294967295|C>>>27),C=V+(j^I&(E^j))+k[14]+3275163606&4294967295,V=E+(C<<9&4294967295|C>>>23),C=I+(E^j&(V^E))+k[3]+4107603335&4294967295,I=V+(C<<14&4294967295|C>>>18),C=j+(V^E&(I^V))+k[8]+1163531501&4294967295,j=I+(C<<20&4294967295|C>>>12),C=E+(I^V&(j^I))+k[13]+2850285829&4294967295,E=j+(C<<5&4294967295|C>>>27),C=V+(j^I&(E^j))+k[2]+4243563512&4294967295,V=E+(C<<9&4294967295|C>>>23),C=I+(E^j&(V^E))+k[7]+1735328473&4294967295,I=V+(C<<14&4294967295|C>>>18),C=j+(V^E&(I^V))+k[12]+2368359562&4294967295,j=I+(C<<20&4294967295|C>>>12),C=E+(j^I^V)+k[5]+4294588738&4294967295,E=j+(C<<4&4294967295|C>>>28),C=V+(E^j^I)+k[8]+2272392833&4294967295,V=E+(C<<11&4294967295|C>>>21),C=I+(V^E^j)+k[11]+1839030562&4294967295,I=V+(C<<16&4294967295|C>>>16),C=j+(I^V^E)+k[14]+4259657740&4294967295,j=I+(C<<23&4294967295|C>>>9),C=E+(j^I^V)+k[1]+2763975236&4294967295,E=j+(C<<4&4294967295|C>>>28),C=V+(E^j^I)+k[4]+1272893353&4294967295,V=E+(C<<11&4294967295|C>>>21),C=I+(V^E^j)+k[7]+4139469664&4294967295,I=V+(C<<16&4294967295|C>>>16),C=j+(I^V^E)+k[10]+3200236656&4294967295,j=I+(C<<23&4294967295|C>>>9),C=E+(j^I^V)+k[13]+681279174&4294967295,E=j+(C<<4&4294967295|C>>>28),C=V+(E^j^I)+k[0]+3936430074&4294967295,V=E+(C<<11&4294967295|C>>>21),C=I+(V^E^j)+k[3]+3572445317&4294967295,I=V+(C<<16&4294967295|C>>>16),C=j+(I^V^E)+k[6]+76029189&4294967295,j=I+(C<<23&4294967295|C>>>9),C=E+(j^I^V)+k[9]+3654602809&4294967295,E=j+(C<<4&4294967295|C>>>28),C=V+(E^j^I)+k[12]+3873151461&4294967295,V=E+(C<<11&4294967295|C>>>21),C=I+(V^E^j)+k[15]+530742520&4294967295,I=V+(C<<16&4294967295|C>>>16),C=j+(I^V^E)+k[2]+3299628645&4294967295,j=I+(C<<23&4294967295|C>>>9),C=E+(I^(j|~V))+k[0]+4096336452&4294967295,E=j+(C<<6&4294967295|C>>>26),C=V+(j^(E|~I))+k[7]+1126891415&4294967295,V=E+(C<<10&4294967295|C>>>22),C=I+(E^(V|~j))+k[14]+2878612391&4294967295,I=V+(C<<15&4294967295|C>>>17),C=j+(V^(I|~E))+k[5]+4237533241&4294967295,j=I+(C<<21&4294967295|C>>>11),C=E+(I^(j|~V))+k[12]+1700485571&4294967295,E=j+(C<<6&4294967295|C>>>26),C=V+(j^(E|~I))+k[3]+2399980690&4294967295,V=E+(C<<10&4294967295|C>>>22),C=I+(E^(V|~j))+k[10]+4293915773&4294967295,I=V+(C<<15&4294967295|C>>>17),C=j+(V^(I|~E))+k[1]+2240044497&4294967295,j=I+(C<<21&4294967295|C>>>11),C=E+(I^(j|~V))+k[8]+1873313359&4294967295,E=j+(C<<6&4294967295|C>>>26),C=V+(j^(E|~I))+k[15]+4264355552&4294967295,V=E+(C<<10&4294967295|C>>>22),C=I+(E^(V|~j))+k[6]+2734768916&4294967295,I=V+(C<<15&4294967295|C>>>17),C=j+(V^(I|~E))+k[13]+1309151649&4294967295,j=I+(C<<21&4294967295|C>>>11),C=E+(I^(j|~V))+k[4]+4149444226&4294967295,E=j+(C<<6&4294967295|C>>>26),C=V+(j^(E|~I))+k[11]+3174756917&4294967295,V=E+(C<<10&4294967295|C>>>22),C=I+(E^(V|~j))+k[2]+718787259&4294967295,I=V+(C<<15&4294967295|C>>>17),C=j+(V^(I|~E))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+V&4294967295}a.prototype.v=function(S,E){E===void 0&&(E=S.length);const j=E-this.blockSize,k=this.C;let I=this.h,V=0;for(;V<E;){if(I==0)for(;V<=j;)o(this,S,V),V+=this.blockSize;if(typeof S=="string"){for(;V<E;)if(k[I++]=S.charCodeAt(V++),I==this.blockSize){o(this,k),I=0;break}}else for(;V<E;)if(k[I++]=S[V++],I==this.blockSize){o(this,k),I=0;break}}this.h=I,this.o+=E},a.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;E=this.o*8;for(var j=S.length-8;j<S.length;++j)S[j]=E&255,E/=256;for(this.v(S),S=Array(16),E=0,j=0;j<4;++j)for(let k=0;k<32;k+=8)S[E++]=this.g[j]>>>k&255;return S};function u(S,E){var j=g;return Object.prototype.hasOwnProperty.call(j,S)?j[S]:j[S]=E(S)}function f(S,E){this.h=E;const j=[];let k=!0;for(let I=S.length-1;I>=0;I--){const V=S[I]|0;k&&V==E||(j[I]=V,k=!1)}this.g=j}var g={};function y(S){return-128<=S&&S<128?u(S,function(E){return new f([E|0],E<0?-1:0)}):new f([S|0],S<0?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return w;if(S<0)return Y(p(-S));const E=[];let j=1;for(let k=0;S>=j;k++)E[k]=S/j|0,j*=4294967296;return new f(E,0)}function _(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return Y(_(S.substring(1),E));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=p(Math.pow(E,8));let k=w;for(let V=0;V<S.length;V+=8){var I=Math.min(8,S.length-V);const C=parseInt(S.substring(V,V+I),E);I<8?(I=p(Math.pow(E,I)),k=k.j(I).add(p(C))):(k=k.j(j),k=k.add(p(C)))}return k}var w=y(0),A=y(1),M=y(16777216);r=f.prototype,r.m=function(){if(se(this))return-Y(this).m();let S=0,E=1;for(let j=0;j<this.g.length;j++){const k=this.i(j);S+=(k>=0?k:4294967296+k)*E,E*=4294967296}return S},r.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(U(this))return"0";if(se(this))return"-"+Y(this).toString(S);const E=p(Math.pow(S,6));var j=this;let k="";for(;;){const I=me(j,E).g;j=le(j,I.j(E));let V=((j.g.length>0?j.g[0]:j.h)>>>0).toString(S);if(j=I,U(j))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},r.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function U(S){if(S.h!=0)return!1;for(let E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function se(S){return S.h==-1}r.l=function(S){return S=le(this,S),se(S)?-1:U(S)?0:1};function Y(S){const E=S.g.length,j=[];for(let k=0;k<E;k++)j[k]=~S.g[k];return new f(j,~S.h).add(A)}r.abs=function(){return se(this)?Y(this):this},r.add=function(S){const E=Math.max(this.g.length,S.g.length),j=[];let k=0;for(let I=0;I<=E;I++){let V=k+(this.i(I)&65535)+(S.i(I)&65535),C=(V>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);k=C>>>16,V&=65535,C&=65535,j[I]=C<<16|V}return new f(j,j[j.length-1]&-2147483648?-1:0)};function le(S,E){return S.add(Y(E))}r.j=function(S){if(U(this)||U(S))return w;if(se(this))return se(S)?Y(this).j(Y(S)):Y(Y(this).j(S));if(se(S))return Y(this.j(Y(S)));if(this.l(M)<0&&S.l(M)<0)return p(this.m()*S.m());const E=this.g.length+S.g.length,j=[];for(var k=0;k<2*E;k++)j[k]=0;for(k=0;k<this.g.length;k++)for(let I=0;I<S.g.length;I++){const V=this.i(k)>>>16,C=this.i(k)&65535,Xe=S.i(I)>>>16,tt=S.i(I)&65535;j[2*k+2*I]+=C*tt,de(j,2*k+2*I),j[2*k+2*I+1]+=V*tt,de(j,2*k+2*I+1),j[2*k+2*I+1]+=C*Xe,de(j,2*k+2*I+1),j[2*k+2*I+2]+=V*Xe,de(j,2*k+2*I+2)}for(S=0;S<E;S++)j[S]=j[2*S+1]<<16|j[2*S];for(S=E;S<2*E;S++)j[S]=0;return new f(j,0)};function de(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function ae(S,E){this.g=S,this.h=E}function me(S,E){if(U(E))throw Error("division by zero");if(U(S))return new ae(w,w);if(se(S))return E=me(Y(S),E),new ae(Y(E.g),Y(E.h));if(se(E))return E=me(S,Y(E)),new ae(Y(E.g),E.h);if(S.g.length>30){if(se(S)||se(E))throw Error("slowDivide_ only works with positive integers.");for(var j=A,k=E;k.l(S)<=0;)j=re(j),k=re(k);var I=$(j,1),V=$(k,1);for(k=$(k,2),j=$(j,2);!U(k);){var C=V.add(k);C.l(S)<=0&&(I=I.add(j),V=C),k=$(k,1),j=$(j,1)}return E=le(S,I.j(E)),new ae(I,E)}for(I=w;S.l(E)>=0;){for(j=Math.max(1,Math.floor(S.m()/E.m())),k=Math.ceil(Math.log(j)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=p(j),C=V.j(E);se(C)||C.l(S)>0;)j-=k,V=p(j),C=V.j(E);U(V)&&(V=A),I=I.add(V),S=le(S,C)}return new ae(I,S)}r.B=function(S){return me(this,S).h},r.and=function(S){const E=Math.max(this.g.length,S.g.length),j=[];for(let k=0;k<E;k++)j[k]=this.i(k)&S.i(k);return new f(j,this.h&S.h)},r.or=function(S){const E=Math.max(this.g.length,S.g.length),j=[];for(let k=0;k<E;k++)j[k]=this.i(k)|S.i(k);return new f(j,this.h|S.h)},r.xor=function(S){const E=Math.max(this.g.length,S.g.length),j=[];for(let k=0;k<E;k++)j[k]=this.i(k)^S.i(k);return new f(j,this.h^S.h)};function re(S){const E=S.g.length+1,j=[];for(let k=0;k<E;k++)j[k]=S.i(k)<<1|S.i(k-1)>>>31;return new f(j,S.h)}function $(S,E){const j=E>>5;E%=32;const k=S.g.length-j,I=[];for(let V=0;V<k;V++)I[V]=E>0?S.i(V+j)>>>E|S.i(V+j+1)<<32-E:S.i(V+j);return new f(I,S.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,k_=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=_,Ma=f}).apply(typeof c1<"u"?c1:typeof self<"u"?self:typeof window<"u"?window:{});var pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D_,cc,O_,Td,E0,M_,V_,L_;(function(){var r,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof pd=="object"&&pd];for(var x=0;x<d.length;++x){var v=d[x];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(d,x){if(x)e:{var v=a;d=d.split(".");for(var T=0;T<d.length-1;T++){var z=d[T];if(!(z in v))break e;v=v[z]}d=d[d.length-1],T=v[d],x=x(T),x!=T&&x!=null&&e(v,d,{configurable:!0,writable:!0,value:x})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(x){var v=[],T;for(T in x)Object.prototype.hasOwnProperty.call(x,T)&&v.push([T,x[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function y(d,x,v){return d.call.apply(d.bind,arguments)}function p(d,x,v){return p=y,p.apply(null,arguments)}function _(d,x){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),d.apply(this,T)}}function w(d,x){function v(){}v.prototype=x.prototype,d.Z=x.prototype,d.prototype=new v,d.prototype.constructor=d,d.Ob=function(T,z,G){for(var he=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)he[ze-2]=arguments[ze];return x.prototype[z].apply(T,he)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function M(d){const x=d.length;if(x>0){const v=Array(x);for(let T=0;T<x;T++)v[T]=d[T];return v}return[]}function U(d,x){for(let T=1;T<arguments.length;T++){const z=arguments[T];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=d.length||0;const G=z.length||0;d.length=v+G;for(let he=0;he<G;he++)d[v+he]=z[he]}else d.push(z)}}class se{constructor(x,v){this.i=x,this.j=v,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function Y(d){f.setTimeout(()=>{throw d},0)}function le(){var d=S;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class de{constructor(){this.h=this.g=null}add(x,v){const T=ae.get();T.set(x,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ae=new se(()=>new me,d=>d.reset());class me{constructor(){this.next=this.g=this.h=null}set(x,v){this.h=x,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let re,$=!1,S=new de,E=()=>{const d=Promise.resolve(void 0);re=()=>{d.then(j)}};function j(){for(var d;d=le();){try{d.h.call(d.g)}catch(v){Y(v)}var x=ae;x.j(d),x.h<100&&(x.h++,d.next=x.g,x.g=d)}$=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const v=()=>{};f.addEventListener("test",v,x),f.removeEventListener("test",v,x)}catch{}return d})();function C(d){return/^[\s\xa0]*$/.test(d)}function Xe(d,x){I.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,x)}w(Xe,I),Xe.prototype.init=function(d,x){const v=this.type=d.type,T=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget,x||(v=="mouseover"?x=d.fromElement:v=="mouseout"&&(x=d.toElement)),this.relatedTarget=x,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var tt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ce(d,x,v,T,z){this.listener=d,this.proxy=null,this.src=x,this.type=v,this.capture=!!T,this.ha=z,this.key=++Q,this.da=this.fa=!1}function xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ee(d,x,v){for(const T in d)x.call(v,d[T],T,d)}function Me(d,x){for(const v in d)x.call(void 0,d[v],v,d)}function D(d){const x={};for(const v in d)x[v]=d[v];return x}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,x){let v,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(v in T)d[v]=T[v];for(let G=0;G<Z.length;G++)v=Z[G],Object.prototype.hasOwnProperty.call(T,v)&&(d[v]=T[v])}}function W(d){this.src=d,this.g={},this.h=0}W.prototype.add=function(d,x,v,T,z){const G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);const he=Ce(d,x,T,z);return he>-1?(x=d[he],v||(x.fa=!1)):(x=new ce(x,this.src,G,!!T,z),x.fa=v,d.push(x)),x};function ge(d,x){const v=x.type;if(v in d.g){var T=d.g[v],z=Array.prototype.indexOf.call(T,x,void 0),G;(G=z>=0)&&Array.prototype.splice.call(T,z,1),G&&(xe(x),d.g[v].length==0&&(delete d.g[v],d.h--))}}function Ce(d,x,v,T){for(let z=0;z<d.length;++z){const G=d[z];if(!G.da&&G.listener==x&&G.capture==!!v&&G.ha==T)return z}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Be={};function we(d,x,v,T,z){if(Array.isArray(x)){for(let G=0;G<x.length;G++)we(d,x[G],v,T,z);return null}return v=oe(v),d&&d[tt]?d.J(x,v,g(T)?!!T.capture:!1,z):jt(d,x,v,!1,T,z)}function jt(d,x,v,T,z,G){if(!x)throw Error("Invalid event type");const he=g(z)?!!z.capture:!!z;let ze=En(d);if(ze||(d[Pe]=ze=new W(d)),v=ze.add(x,v,T,he,G),v.proxy)return v;if(T=Nn(),v.proxy=T,T.src=d,T.listener=v,d.addEventListener)V||(z=he),z===void 0&&(z=!1),d.addEventListener(x.toString(),T,z);else if(d.attachEvent)d.attachEvent(xn(x.toString()),T);else if(d.addListener&&d.removeListener)d.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Nn(){function d(v){return x.call(d.src,d.listener,v)}const x=Vn;return d}function Zn(d,x,v,T,z){if(Array.isArray(x))for(var G=0;G<x.length;G++)Zn(d,x[G],v,T,z);else T=g(T)?!!T.capture:!!T,v=oe(v),d&&d[tt]?(d=d.i,G=String(x).toString(),G in d.g&&(x=d.g[G],v=Ce(x,v,T,z),v>-1&&(xe(x[v]),Array.prototype.splice.call(x,v,1),x.length==0&&(delete d.g[G],d.h--)))):d&&(d=En(d))&&(x=d.g[x.toString()],d=-1,x&&(d=Ce(x,v,T,z)),(v=d>-1?x[d]:null)&&Ms(v))}function Ms(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[tt])ge(x.i,d);else{var v=d.type,T=d.proxy;x.removeEventListener?x.removeEventListener(v,T,d.capture):x.detachEvent?x.detachEvent(xn(v),T):x.addListener&&x.removeListener&&x.removeListener(T),(v=En(x))?(ge(v,d),v.h==0&&(v.src=null,x[Pe]=null)):xe(d)}}}function xn(d){return d in Be?Be[d]:Be[d]="on"+d}function Vn(d,x){if(d.da)d=!0;else{x=new Xe(x,this);const v=d.listener,T=d.ha||d.src;d.fa&&Ms(d),d=v.call(T,x)}return d}function En(d){return d=d[Pe],d instanceof W?d:null}var Vs="__closure_events_fn_"+(Math.random()*1e9>>>0);function oe(d){return typeof d=="function"?d:(d[Vs]||(d[Vs]=function(x){return d.handleEvent(x)}),d[Vs])}function De(){k.call(this),this.i=new W(this),this.M=this,this.G=null}w(De,k),De.prototype[tt]=!0,De.prototype.removeEventListener=function(d,x,v,T){Zn(this,d,x,v,T)};function ke(d,x){var v,T=d.G;if(T)for(v=[];T;T=T.G)v.push(T);if(d=d.M,T=x.type||x,typeof x=="string")x=new I(x,d);else if(x instanceof I)x.target=x.target||d;else{var z=x;x=new I(T,d),L(x,z)}z=!0;let G,he;if(v)for(he=v.length-1;he>=0;he--)G=x.g=v[he],z=Nt(G,T,!0,x)&&z;if(G=x.g=d,z=Nt(G,T,!0,x)&&z,z=Nt(G,T,!1,x)&&z,v)for(he=0;he<v.length;he++)G=x.g=v[he],z=Nt(G,T,!1,x)&&z}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var d=this.i;for(const x in d.g){const v=d.g[x];for(let T=0;T<v.length;T++)xe(v[T]);delete d.g[x],d.h--}}this.G=null},De.prototype.J=function(d,x,v,T){return this.i.add(String(d),x,!1,v,T)},De.prototype.K=function(d,x,v,T){return this.i.add(String(d),x,!0,v,T)};function Nt(d,x,v,T){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();let z=!0;for(let G=0;G<x.length;++G){const he=x[G];if(he&&!he.da&&he.capture==v){const ze=he.listener,Ot=he.ha||he.src;he.fa&&ge(d.i,he),z=ze.call(Ot,T)!==!1&&z}}return z&&!T.defaultPrevented}function Ln(d,x){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:f.setTimeout(d,x||0)}function Tn(d){d.g=Ln(()=>{d.g=null,d.i&&(d.i=!1,Tn(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class xt extends k{constructor(x,v){super(),this.m=x,this.l=v,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Tn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(d){k.call(this),this.h=d,this.g={}}w(Pn,k);var Ls=[];function Ct(d){Ee(d.g,function(x,v){this.g.hasOwnProperty(v)&&Ms(x)},d),d.g={}}Pn.prototype.N=function(){Pn.Z.N.call(this),Ct(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pt=f.JSON.stringify,ps=f.JSON.parse,Kr=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function pr(){}function ie(){}var Ne={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ve(){I.call(this,"d")}w(ve,I);function ue(){I.call(this,"c")}w(ue,I);var je={},Ze=null;function ot(){return Ze=Ze||new De}je.Ia="serverreachability";function Wt(d){I.call(this,je.Ia,d)}w(Wt,I);function Je(d){const x=ot();ke(x,new Wt(x))}je.STAT_EVENT="statevent";function pt(d,x){I.call(this,je.STAT_EVENT,d),this.stat=x}w(pt,I);function rt(d){const x=ot();ke(x,new pt(x,d))}je.Ja="timingevent";function Jn(d,x){I.call(this,je.Ja,d),this.size=x}w(Jn,I);function Ps(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},x)}function ys(){this.g=!0}ys.prototype.ua=function(){this.g=!1};function Vh(d,x,v,T,z,G){d.info(function(){if(d.g)if(G){var he="",ze=G.split("&");for(let at=0;at<ze.length;at++){var Ot=ze[at].split("=");if(Ot.length>1){const Et=Ot[0];Ot=Ot[1];const ss=Et.split("_");he=ss.length>=2&&ss[1]=="type"?he+(Et+"="+Ot+"&"):he+(Et+"=redacted&")}}}else he=null;else he=G;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+x+`
`+v+`
`+he})}function $c(d,x,v,T,z,G,he){d.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+x+`
`+v+`
`+G+" "+he})}function zs(d,x,v,T){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+Lh(d,v)+(T?" "+T:"")})}function Wa(d,x){d.info(function(){return"TIMEOUT: "+x})}ys.prototype.info=function(){};function Lh(d,x){if(!d.g)return x;if(!x)return null;try{const G=JSON.parse(x);if(G){for(d=0;d<G.length;d++)if(Array.isArray(G[d])){var v=G[d];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let he=1;he<T.length;he++)T[he]=""}}}}return Pt(G)}catch{return x}}var Za={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ao;function Ja(){}w(Ja,pr),Ja.prototype.g=function(){return new XMLHttpRequest},ao=new Ja;function yr(d){return encodeURIComponent(String(d))}function Qc(d){var x=1;d=d.split(":");const v=[];for(;x>0&&d.length;)v.push(d.shift()),x--;return d.length&&v.push(d.join(":")),v}function xs(d,x,v,T){this.j=d,this.i=x,this.l=v,this.S=T||1,this.V=new Pn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bs}function bs(){this.i=null,this.g="",this.h=!1}var zt={},Zt={};function Us(d,x,v){d.M=1,d.A=ei(qt(x)),d.u=v,d.R=!0,Fi(d,null)}function Fi(d,x){d.F=Date.now(),qs(d),d.B=qt(d.A);var v=d.B,T=d.S;Array.isArray(T)||(T=[String(T)]),Ki(v.i,"t",T),d.C=0,v=d.j.L,d.h=new bs,d.g=ou(d.j,v?x:null,!d.u),d.P>0&&(d.O=new xt(p(d.Y,d,d.g),d.P)),x=d.V,v=d.g,T=d.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ls[0]=z.toString()),z=Ls);for(let G=0;G<z.length;G++){const he=we(v,z[G],T||x.handleEvent,!1,x.h||x);if(!he)break;x.g[he.key]=he}x=d.J?D(d.J):{},d.u?(d.v||(d.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,x)):(d.v="GET",d.g.ea(d.B,d.v,null,x)),Je(),Vh(d.i,d.v,d.B,d.l,d.S,d.u)}xs.prototype.ba=function(d){d=d.target;const x=this.O;x&&ws(d)==3?x.j():this.Y(d)},xs.prototype.Y=function(d){try{if(d==this.g)e:{const ze=ws(this.g),Ot=this.g.ya(),at=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||ze!=4||Ot==7||(Ot==8||at<=0?Je(3):Je(2)),Bs(this);var x=this.g.ca();this.X=x;var v=Ph(this);if(this.o=x==200,$c(this.i,this.v,this.B,this.l,this.S,ze,x),this.o){if(this.U&&!this.L){t:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var G=T;break t}}G=null}if(d=G)zs(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hs(this,d);else{this.o=!1,this.m=3,rt(12),zn(this),es(this);break e}}if(this.R){d=!0;let Et;for(;!this.K&&this.C<v.length;)if(Et=Yc(this,v),Et==Zt){ze==4&&(this.m=4,rt(14),d=!1),zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==zt){this.m=4,rt(15),zs(this.i,this.l,v,"[Invalid Chunk]"),d=!1;break}else zs(this.i,this.l,Et,null),Hs(this,Et);if(Kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||v.length!=0||this.h.h||(this.m=1,rt(16),d=!1),this.o=this.o&&d,!d)zs(this.i,this.l,v,"[Invalid Chunked Response]"),zn(this),es(this);else if(v.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),_o(he),he.P=!0,rt(11))}}else zs(this.i,this.l,v,null),Hs(this,v);ze==4&&zn(this),this.o&&!this.K&&(ze==4?ru(this.j,this):(this.o=!1,qs(this)))}else br(this.g),x==400&&v.indexOf("Unknown SID")>0?(this.m=3,rt(12)):(this.m=0,rt(13)),zn(this),es(this)}}}catch{}finally{}};function Ph(d){if(!Kc(d))return d.g.la();const x=rn(d.g);if(x==="")return"";let v="";const T=x.length,z=ws(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return zn(d),es(d),"";d.h.i=new f.TextDecoder}for(let G=0;G<T;G++)d.h.h=!0,v+=d.h.i.decode(x[G],{stream:!(z&&G==T-1)});return x.length=0,d.h.g+=v,d.C=0,d.h.g}function Kc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Yc(d,x){var v=d.C,T=x.indexOf(`
`,v);return T==-1?Zt:(v=Number(x.substring(v,T)),isNaN(v)?zt:(T+=1,T+v>x.length?Zt:(x=x.slice(T,T+v),d.C=T+v,x)))}xs.prototype.cancel=function(){this.K=!0,zn(this)};function qs(d){d.T=Date.now()+d.H,Gi(d,d.H)}function Gi(d,x){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ps(p(d.aa,d),x)}function Bs(d){d.D&&(f.clearTimeout(d.D),d.D=null)}xs.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Wa(this.i,this.B),this.M!=2&&(Je(),rt(17)),zn(this),this.m=2,es(this)):Gi(this,this.T-d)};function es(d){d.j.I==0||d.K||ru(d.j,d)}function zn(d){Bs(d);var x=d.O;x&&typeof x.dispose=="function"&&x.dispose(),d.O=null,Ct(d.V),d.g&&(x=d.g,d.g=null,x.abort(),x.dispose())}function Hs(d,x){try{var v=d.j;if(v.I!=0&&(v.g==d||Gs(v.h,d))){if(!d.L&&Gs(v.h,d)&&v.I==3){try{var T=v.Ba.g.parse(x)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<d.F)Ji(v),na(v);else break e;li(v),rt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ps(p(v.Va,v),6e3));Fs(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ws(v,11)}else if((d.L||v.g==d)&&Ji(v),!C(x))for(z=v.Ba.g.parse(x),x=0;x<z.length;x++){let at=z[x];const Et=at[0];if(!(Et<=v.K))if(v.K=Et,at=at[1],v.I==2)if(at[0]=="c"){v.M=at[1],v.ba=at[2];const ss=at[3];ss!=null&&(v.ka=ss,v.j.info("VER="+v.ka));const Zs=at[4];Zs!=null&&(v.za=Zs,v.j.info("SVER="+v.za));const Ns=at[5];Ns!=null&&typeof Ns=="number"&&Ns>0&&(T=1.5*Ns,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Es=d.g;if(Es){const oi=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var G=T.h;G.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(oo(G,G.h),G.h=null))}if(T.G){const el=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(T.wa=el,ct(T.J,T.G,el))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-d.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var he=d;if(T.na=lu(T,T.L?T.ba:null,T.W),he.L){co(T.h,he);var ze=he,Ot=T.O;Ot&&(ze.H=Ot),ze.D&&(Bs(ze),qs(ze)),T.g=he}else nu(T);v.i.length>0&&Xs(v)}else at[0]!="stop"&&at[0]!="close"||Ws(v,7);else v.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Ws(v,7):bo(v):at[0]!="noop"&&v.l&&v.l.qa(at),v.A=0)}}Je(4)}catch{}}var Ut=class{constructor(d,x){this.g=d,this.map=x}};function io(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Fs(d){return d.h?1:d.g?d.g.size:0}function Gs(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function oo(d,x){d.g?d.g.add(x):d.h=x}function co(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}io.prototype.cancel=function(){if(this.i=uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function uo(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const v of d.g.values())x=x.concat(v.G);return x}return M(d.i)}var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $i(d,x){if(d){d=d.split("&");for(let v=0;v<d.length;v++){const T=d[v].indexOf("=");let z,G=null;T>=0?(z=d[v].substring(0,T),G=d[v].substring(T+1)):z=d[v],x(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Un(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;d instanceof Un?(this.l=d.l,Jt(this,d.j),this.o=d.o,this.g=d.g,Yr(this,d.u),this.h=d.h,ho(this,eu(d.i)),this.m=d.m):d&&(x=String(d).match(Xc))?(this.l=!1,Jt(this,x[1]||"",!0),this.o=$s(x[2]||""),this.g=$s(x[3]||"",!0),Yr(this,x[4]),this.h=$s(x[5]||"",!0),ho(this,x[6]||"",!0),this.m=$s(x[7]||"")):(this.l=!1,this.i=new Wr(null,this.l))}Un.prototype.toString=function(){const d=[];var x=this.j;x&&d.push(ti(x,Qi,!0),":");var v=this.g;return(v||x=="file")&&(d.push("//"),(x=this.o)&&d.push(ti(x,Qi,!0),"@"),d.push(yr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&d.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push(ti(v,v.charAt(0)=="/"?fo:Wc,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",ti(v,Zc)),d.join("")},Un.prototype.resolve=function(d){const x=qt(this);let v=!!d.j;v?Jt(x,d.j):v=!!d.o,v?x.o=d.o:v=!!d.g,v?x.g=d.g:v=d.u!=null;var T=d.h;if(v)Yr(x,d.u);else if(v=!!d.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=x.h.lastIndexOf("/");z!=-1&&(T=x.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let he=0;he<z.length;){const ze=z[he++];ze=="."?T&&he==z.length&&G.push(""):ze==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),T&&he==z.length&&G.push("")):(G.push(ze),T=!0)}T=G.join("/")}else T=z}return v?x.h=T:v=d.i.toString()!=="",v?ho(x,eu(d.i)):v=!!d.m,v&&(x.m=d.m),x};function qt(d){return new Un(d)}function Jt(d,x,v){d.j=v?$s(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function Yr(d,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);d.u=x}else d.u=null}function ho(d,x,v){x instanceof Wr?(d.i=x,Yi(d.i,d.l)):(v||(x=ti(x,Xr)),d.i=new Wr(x,d.l))}function ct(d,x,v){d.i.set(x,v)}function ei(d){return ct(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function $s(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ti(d,x,v){return typeof d=="string"?(d=encodeURI(d).replace(x,Sn),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Sn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Qi=/[#\/\?@]/g,Wc=/[#\?:]/g,fo=/[#\?]/g,Xr=/[#\?@]/g,Zc=/#/g;function Wr(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function jn(d){d.g||(d.g=new Map,d.h=0,d.i&&$i(d.i,function(x,v){d.add(decodeURIComponent(x.replace(/\+/g," ")),v)}))}r=Wr.prototype,r.add=function(d,x){jn(this),this.i=null,d=Zr(this,d);let v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(x),this.h+=1,this};function Jc(d,x){jn(d),x=Zr(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function mo(d,x){return jn(d),x=Zr(d,x),d.g.has(x)}r.forEach=function(d,x){jn(this),this.g.forEach(function(v,T){v.forEach(function(z){d.call(x,z,T,this)},this)},this)};function go(d,x){jn(d);let v=[];if(typeof x=="string")mo(d,x)&&(v=v.concat(d.g.get(Zr(d,x))));else for(d=Array.from(d.g.values()),x=0;x<d.length;x++)v=v.concat(d[x]);return v}r.set=function(d,x){return jn(this),this.i=null,d=Zr(this,d),mo(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},r.get=function(d,x){return d?(d=go(this,d),d.length>0?String(d[0]):x):x};function Ki(d,x,v){Jc(d,x),v.length>0&&(d.i=null,d.g.set(Zr(d,x),M(v)),d.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(let T=0;T<x.length;T++){var v=x[T];const z=yr(v);v=go(this,v);for(let G=0;G<v.length;G++){let he=z;v[G]!==""&&(he+="="+yr(v[G])),d.push(he)}}return this.i=d.join("&")};function eu(d){const x=new Wr;return x.i=d.i,d.g&&(x.g=new Map(d.g),x.h=d.h),x}function Zr(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function Yi(d,x){x&&!d.j&&(jn(d),d.i=null,d.g.forEach(function(v,T){const z=T.toLowerCase();T!=z&&(Jc(this,T),Ki(this,z,v))},d)),d.j=x}function vs(d,x){const v=new ys;if(f.Image){const T=new Image;T.onload=_(ts,v,"TestLoadImage: loaded",!0,x,T),T.onerror=_(ts,v,"TestLoadImage: error",!1,x,T),T.onabort=_(ts,v,"TestLoadImage: abort",!1,x,T),T.ontimeout=_(ts,v,"TestLoadImage: timeout",!1,x,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=d}else x(!1)}function po(d,x){const v=new ys,T=new AbortController,z=setTimeout(()=>{T.abort(),ts(v,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:T.signal}).then(G=>{clearTimeout(z),G.ok?ts(v,"TestPingServer: ok",!0,x):ts(v,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(z),ts(v,"TestPingServer: error",!1,x)})}function ts(d,x,v,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(v)}catch{}}function Jr(){this.g=new Kr}function Qs(d){this.i=d.Sb||null,this.h=d.ab||!1}w(Qs,pr),Qs.prototype.g=function(){return new ni(this.i,this.h)};function ni(d,x){De.call(this),this.H=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ni,De),r=ni.prototype,r.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=x,this.readyState=1,_s(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(x.body=d),(this.H||f).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xi(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xi(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?ea(this):_s(this),this.readyState==3&&Xi(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,ea(this))},r.Na=function(d){this.g&&(this.response=d,ea(this))},r.ga=function(){this.g&&ea(this)};function ea(d){d.readyState=4,d.l=null,d.j=null,d.B=null,_s(d)}r.setRequestHeader=function(d,x){this.A.append(d,x)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var v=x.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=x.next();return d.join(`\r
`)};function _s(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ns(d){let x="";return Ee(d,function(v,T){x+=T,x+=":",x+=v,x+=`\r
`}),x}function si(d,x,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=ns(v),typeof d=="string"?v!=null&&yr(v):ct(d,x,v))}function ht(d){De.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ht,De);var Ks=/^https?$/i,yo=["POST","PUT"];r=ht.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,x,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ao.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(G){ri(this,G);return}if(d=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)v.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const G of T.keys())v.set(G,T.get(G));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(yo,x,void 0)>=0)||T||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,he]of v)this.g.setRequestHeader(G,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(G){ri(this,G)}};function ri(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.o=5,xo(d),xr(d)}function xo(d){d.A||(d.A=!0,ke(d,"complete"),ke(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,ke(this,"complete"),ke(this,"abort"),xr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),ht.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ai(this):this.Xa())},r.Xa=function(){ai(this)};function ai(d){if(d.h&&typeof u<"u"){if(d.v&&ws(d)==4)setTimeout(d.Ca.bind(d),0);else if(ke(d,"readystatechange"),ws(d)==4){d.h=!1;try{const G=d.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var v;if(!(v=x)){var T;if(T=G===0){let he=String(d.D).match(Xc)[1]||null;!he&&f.self&&f.self.location&&(he=f.self.location.protocol.slice(0,-1)),T=!Ks.test(he?he.toLowerCase():"")}v=T}if(v)ke(d,"complete"),ke(d,"success");else{d.o=6;try{var z=ws(d)>2?d.g.statusText:""}catch{z=""}d.l=z+" ["+d.ca()+"]",xo(d)}}finally{xr(d)}}}}function xr(d,x){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const v=d.g;d.g=null,x||ke(d,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ws(d){return d.g?d.g.readyState:0}r.ca=function(){try{return ws(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),ps(x)}};function rn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function br(d){const x={};d=(d.g&&ws(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<d.length;T++){if(C(d[T]))continue;var v=Qc(d[T]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=x[z]||[];x[z]=G,G.push(v)}Me(x,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(d,x,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||x}function ta(d){this.za=0,this.i=[],this.j=new ys,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ys("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ys("baseRetryDelayMs",5e3,d),this.Za=Ys("retryDelaySeedMs",1e4,d),this.Ta=Ys("forwardChannelMaxRetries",2,d),this.va=Ys("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new io(d&&d.concurrentRequestLimit),this.Ba=new Jr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ta.prototype,r.ka=8,r.I=1,r.connect=function(d,x,v,T){rt(0),this.W=d,this.H=x||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=lu(this,null,this.W),Xs(this)};function bo(d){if(Wi(d),d.I==3){var x=d.V++,v=qt(d.J);if(ct(v,"SID",d.M),ct(v,"RID",x),ct(v,"TYPE","terminate"),ii(d,v),x=new xs(d,d.j,x),x.M=2,x.A=ei(qt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(x.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=x.A,v=!0),v||(x.g=ou(x.j,null),x.g.ea(x.A)),x.F=Date.now(),qs(x)}iu(d)}function na(d){d.g&&(_o(d),d.g.cancel(),d.g=null)}function Wi(d){na(d),d.v&&(f.clearTimeout(d.v),d.v=null),Ji(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function Xs(d){if(!lo(d.h)&&!d.m){d.m=!0;var x=d.Ea;re||E(),$||(re(),$=!0),S.add(x,d),d.D=0}}function Zi(d,x){return Fs(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=x.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ps(p(d.Ea,d,x),au(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const z=new xs(this,this.j,d);let G=this.o;if(this.U&&(G?(G=D(G),L(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var x=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(x+=T,x>4096){x=v;break e}if(x===4096||v===this.i.length-1){x=v+1;break e}}x=1e3}else x=1e3;x=tu(this,z,x),v=qt(this.J),ct(v,"RID",d),ct(v,"CVER",22),this.G&&ct(v,"X-HTTP-Session-Id",this.G),ii(this,v),G&&(this.R?x="headers="+yr(ns(G))+"&"+x:this.u&&si(v,this.u,G)),oo(this.h,z),this.Ra&&ct(v,"TYPE","init"),this.S?(ct(v,"$req",x),ct(v,"SID","null"),z.U=!0,Us(z,v,null)):Us(z,v,x),this.I=2}}else this.I==3&&(d?vo(this,d):this.i.length==0||lo(this.h)||vo(this))};function vo(d,x){var v;x?v=x.l:v=d.V++;const T=qt(d.J);ct(T,"SID",d.M),ct(T,"RID",v),ct(T,"AID",d.K),ii(d,T),d.u&&d.o&&si(T,d.u,d.o),v=new xs(d,d.j,v,d.D+1),d.u===null&&(v.J=d.o),x&&(d.i=x.G.concat(d.i)),x=tu(d,v,1e3),v.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),oo(d.h,v),Us(v,T,x)}function ii(d,x){d.H&&Ee(d.H,function(v,T){ct(x,T,v)}),d.l&&Ee({},function(v,T){ct(x,T,v)})}function tu(d,x,v){v=Math.min(d.i.length,v);const T=d.l?p(d.l.Ka,d.l,d):null;e:{var z=d.i;let ze=-1;for(;;){const Ot=["count="+v];ze==-1?v>0?(ze=z[0].g,Ot.push("ofs="+ze)):ze=0:Ot.push("ofs="+ze);let at=!0;for(let Et=0;Et<v;Et++){var G=z[Et].g;const ss=z[Et].map;if(G-=ze,G<0)ze=Math.max(0,z[Et].g-100),at=!1;else try{G="req"+G+"_"||"";try{var he=ss instanceof Map?ss:Object.entries(ss);for(const[Zs,Ns]of he){let Es=Ns;g(Ns)&&(Es=Pt(Ns)),Ot.push(G+Zs+"="+encodeURIComponent(Es))}}catch(Zs){throw Ot.push(G+"type="+encodeURIComponent("_badmap")),Zs}}catch{T&&T(ss)}}if(at){he=Ot.join("&");break e}}he=void 0}return d=d.i.splice(0,v),x.G=d,he}function nu(d){if(!d.g&&!d.v){d.Y=1;var x=d.Da;re||E(),$||(re(),$=!0),S.add(x,d),d.A=0}}function li(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ps(p(d.Da,d),au(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ps(p(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rt(10),na(this),su(this))};function _o(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function su(d){d.g=new xs(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var x=qt(d.na);ct(x,"RID","rpc"),ct(x,"SID",d.M),ct(x,"AID",d.K),ct(x,"CI",d.F?"0":"1"),!d.F&&d.ia&&ct(x,"TO",d.ia),ct(x,"TYPE","xmlhttp"),ii(d,x),d.u&&d.o&&si(x,d.u,d.o),d.O&&(d.g.H=d.O);var v=d.g;d=d.ba,v.M=1,v.A=ei(qt(x)),v.u=null,v.R=!0,Fi(v,d)}r.Va=function(){this.C!=null&&(this.C=null,na(this),li(this),rt(19))};function Ji(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function ru(d,x){var v=null;if(d.g==x){Ji(d),_o(d),d.g=null;var T=2}else if(Gs(d.h,x))v=x.G,co(d.h,x),T=1;else return;if(d.I!=0){if(x.o)if(T==1){v=x.u?x.u.length:0,x=Date.now()-x.F;var z=d.D;T=ot(),ke(T,new Jn(T,v)),Xs(d)}else nu(d);else if(z=x.m,z==3||z==0&&x.X>0||!(T==1&&Zi(d,x)||T==2&&li(d)))switch(v&&v.length>0&&(x=d.h,x.i=x.i.concat(v)),z){case 1:Ws(d,5);break;case 4:Ws(d,10);break;case 3:Ws(d,6);break;default:Ws(d,2)}}}function au(d,x){let v=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(v*=2),v*x}function Ws(d,x){if(d.j.info("Error code "+x),x==2){var v=p(d.bb,d),T=d.Ua;const z=!T;T=new Un(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Jt(T,"https"),ei(T),z?vs(T.toString(),v):po(T.toString(),v)}else rt(2);d.I=0,d.l&&d.l.pa(x),iu(d),Wi(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function iu(d){if(d.I=0,d.ja=[],d.l){const x=uo(d.h);(x.length!=0||d.i.length!=0)&&(U(d.ja,x),U(d.ja,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.oa()}}function lu(d,x,v){var T=v instanceof Un?qt(v):new Un(v);if(T.g!="")x&&(T.g=x+"."+T.g),Yr(T,T.u);else{var z=f.location;T=z.protocol,x=x?x+"."+z.hostname:z.hostname,z=+z.port;const G=new Un(null);T&&Jt(G,T),x&&(G.g=x),z&&Yr(G,z),v&&(G.h=v),T=G}return v=d.G,x=d.wa,v&&x&&ct(T,v,x),ct(T,"VER",d.ka),ii(d,T),T}function ou(d,x,v){if(x&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Aa&&!d.ma?new ht(new Qs({ab:v})):new ht(d.ma),x.Fa(d.L),x}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}r=cu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function sa(){}sa.prototype.g=function(d,x){return new bn(d,x)};function bn(d,x){De.call(this),this.g=new ta(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(d?d["X-WebChannel-Client-Profile"]=x.sa:d={"X-WebChannel-Client-Profile":x.sa}),this.g.U=d,(d=x&&x.Qb)&&!C(d)&&(this.g.u=d),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!C(x)&&(this.g.G=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new vr(this)}w(bn,De),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){bo(this.g)},bn.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.v&&(v={},v.__data__=Pt(d),d=v);x.i.push(new Ut(x.Ya++,d)),x.I==3&&Xs(x)},bn.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,bn.Z.N.call(this)};function uu(d){ve.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const v in x){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}w(uu,ve);function du(){ue.call(this),this.status=1}w(du,ue);function vr(d){this.g=d}w(vr,cu),vr.prototype.ra=function(){ke(this.g,"a")},vr.prototype.qa=function(d){ke(this.g,new uu(d))},vr.prototype.pa=function(d){ke(this.g,new du)},vr.prototype.oa=function(){ke(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,L_=function(){return new sa},V_=function(){return ot()},M_=je,E0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Za.NO_ERROR=0,Za.TIMEOUT=8,Za.HTTP_ERROR=6,Td=Za,ro.COMPLETE="complete",O_=ro,ie.EventType=Ne,Ne.OPEN="a",Ne.CLOSE="b",Ne.ERROR="c",Ne.MESSAGE="d",De.prototype.listen=De.prototype.J,cc=ie,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,D_=ht}).apply(typeof pd<"u"?pd:typeof self<"u"?self:typeof window<"u"?window:{});const u1="@firebase/firestore",d1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new oh("@firebase/firestore");function Rl(){return Vi.logLevel}function ye(r,...e){if(Vi.logLevel<=Qe.DEBUG){const n=e.map(ag);Vi.debug(`Firestore (${Jl}): ${r}`,...n)}}function Hr(r,...e){if(Vi.logLevel<=Qe.ERROR){const n=e.map(ag);Vi.error(`Firestore (${Jl}): ${r}`,...n)}}function Bl(r,...e){if(Vi.logLevel<=Qe.WARN){const n=e.map(ag);Vi.warn(`Firestore (${Jl}): ${r}`,...n)}}function ag(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,P_(r,a,n)}function P_(r,e,n){let a=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Hr(a),new Error(a)}function lt(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||P_(e,o,a)}function Le(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class DA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class OA{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let u=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(lt(typeof a.accessToken=="string",31837,{l:a}),new z_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class MA{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VA{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new MA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class h1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const a=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new h1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new h1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=PA(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ke(r,e){return r<e?-1:r>e?1:0}function T0(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return Qm(o)===Qm(u)?Ke(o,u):Qm(o)?1:-1}return Ke(r.length,e.length)}const zA=55296,UA=57343;function Qm(r){const e=r.charCodeAt(0);return e>=zA&&e<=UA}function Hl(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="__name__";class sr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ie(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sr?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=sr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ke(e.length,n.length)}static compareSegments(e,n){const a=sr.isNumericId(e),o=sr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?sr.extractNumericId(e).compare(sr.extractNumericId(n)):T0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ma.fromString(e.substring(4,e.length-2))}}class bt extends sr{construct(e,n,a){return new bt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new bt(n)}static emptyPath(){return new bt([])}}const qA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends sr{construct(e,n,a){return new dn(e,n,a)}static isValidIdentifier(e){return qA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f1}static keyField(){return new dn([f1])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new pe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new pe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(a+=g,o++):(u(),o++)}if(u(),f)throw new pe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(bt.fromString(e))}static fromName(e){return new Se(bt.fromString(e).popFirst(5))}static empty(){return new Se(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(r,e,n){if(!n)throw new pe(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function BA(r,e,n,a){if(e===!0&&a===!0)throw new pe(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function m1(r){if(!Se.isDocumentKey(r))throw new pe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function g1(r){if(Se.isDocumentKey(r))throw new pe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function q_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function hh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie(12329,{type:typeof r})}function Mn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hh(r);throw new pe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(r,e){const n={typeString:r};return e&&(n.value=e),n}function zc(r,e){if(!q_(r))throw new pe(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const f=r[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new pe(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=-62135596800,y1=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*y1);return new wt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<p1)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y1}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zc(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Kt("string",wt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new wt(0,0))}static max(){return new Oe(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=-1;function HA(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(a===1e9?new wt(n+1,0):new wt(n,a));return new qa(o,Se.empty(),e)}function FA(r){return new qa(r.readTime,r.key,Ec)}class qa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new qa(Oe.min(),Se.empty(),Ec)}static max(){return new qa(Oe.max(),Se.empty(),Ec)}}function GA(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(r.documentKey,e.documentKey),n!==0?n:Ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==$A)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,a)=>{n(e)}))}static reject(e){return new ne(((n,a)=>{a(e)}))}static waitFor(e){return new ne(((n,a)=>{let o=0,u=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&n()}),(y=>a(y)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const a of e)n=n.next((o=>o?ne.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new ne(((a,o)=>{const u=e.length,f=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next((_=>{f[p]=_,++g,g===u&&a(f)}),(_=>o(_)))}}))}static doWhile(e,n){return new ne(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function KA(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function to(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-1;function mh(r){return r==null}function Kd(r){return r===0&&1/r==-1/0}function YA(r){return typeof r=="number"&&Number.isInteger(r)&&!Kd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="";function XA(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=x1(e)),e=WA(r.get(n),e);return x1(e)}function WA(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case B_:n+="";break;default:n+=u}}return n}function x1(r){return r+B_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ka(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function H_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new un(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v1(this.data.getIterator())}getIteratorFrom(e){return new v1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class v1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new Xt(dn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new F_("Invalid base64 string: "+u):u}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const ZA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(r){if(lt(!!r,39018),typeof r=="string"){let e=0;const n=ZA.exec(r);if(lt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Lt(r.seconds),nanos:Lt(r.nanos)}}function Lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ha(r){return typeof r=="string"?hn.fromBase64String(r):hn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="server_timestamp",$_="__type__",Q_="__previous_value__",K_="__local_write_time__";function og(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[$_])==null?void 0:a.stringValue)===G_}function gh(r){const e=r.mapValue.fields[Q_];return og(e)?gh(e):e}function Tc(r){const e=Ba(r.mapValue.fields[K_].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,a,o,u,f,g,y,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=_}}const Yd="(default)";class Sc{constructor(e,n){this.projectId=e,this.database=n||Yd}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===Yd}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__type__",e3="__max__",xd={mapValue:{}},X_="__vector__",Xd="value";function Fa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?og(r)?4:n3(r)?9007199254740991:t3(r)?10:11:Ie(28295,{value:r})}function hr(r,e){if(r===e)return!0;const n=Fa(r);if(n!==Fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Tc(r).isEqual(Tc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ba(o.timestampValue),g=Ba(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ha(o.bytesValue).isEqual(Ha(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Lt(o.geoPointValue.latitude)===Lt(u.geoPointValue.latitude)&&Lt(o.geoPointValue.longitude)===Lt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Lt(o.integerValue)===Lt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Lt(o.doubleValue),g=Lt(u.doubleValue);return f===g?Kd(f)===Kd(g):isNaN(f)&&isNaN(g)}return!1})(r,e);case 9:return Hl(r.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(b1(f)!==b1(g))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(g[y]===void 0||!hr(f[y],g[y])))return!1;return!0})(r,e);default:return Ie(52216,{left:r})}}function jc(r,e){return(r.values||[]).find((n=>hr(n,e)))!==void 0}function Fl(r,e){if(r===e)return 0;const n=Fa(r),a=Fa(e);if(n!==a)return Ke(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=Lt(u.integerValue||u.doubleValue),y=Lt(f.integerValue||f.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return _1(r.timestampValue,e.timestampValue);case 4:return _1(Tc(r),Tc(e));case 5:return T0(r.stringValue,e.stringValue);case 6:return(function(u,f){const g=Ha(u),y=Ha(f);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),y=f.split("/");for(let p=0;p<g.length&&p<y.length;p++){const _=Ke(g[p],y[p]);if(_!==0)return _}return Ke(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=Ke(Lt(u.latitude),Lt(f.latitude));return g!==0?g:Ke(Lt(u.longitude),Lt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return w1(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var A,M,U,se;const g=u.fields||{},y=f.fields||{},p=(A=g[Xd])==null?void 0:A.arrayValue,_=(M=y[Xd])==null?void 0:M.arrayValue,w=Ke(((U=p==null?void 0:p.values)==null?void 0:U.length)||0,((se=_==null?void 0:_.values)==null?void 0:se.length)||0);return w!==0?w:w1(p,_)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===xd.mapValue&&f===xd.mapValue)return 0;if(u===xd.mapValue)return 1;if(f===xd.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=f.fields||{},_=Object.keys(p);y.sort(),_.sort();for(let w=0;w<y.length&&w<_.length;++w){const A=T0(y[w],_[w]);if(A!==0)return A;const M=Fl(g[y[w]],p[_[w]]);if(M!==0)return M}return Ke(y.length,_.length)})(r.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function _1(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ke(r,e);const n=Ba(r),a=Ba(e),o=Ke(n.seconds,a.seconds);return o!==0?o:Ke(n.nanos,a.nanos)}function w1(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Fl(n[o],a[o]);if(u)return u}return Ke(n.length,a.length)}function Gl(r){return S0(r)}function S0(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=Ba(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ha(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Se.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=S0(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${S0(n.fields[f])}`;return o+"}"})(r.mapValue):Ie(61005,{value:r})}function Sd(r){switch(Fa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(r);return e?16+Sd(e):16;case 5:return 2*r.stringValue.length;case 6:return Ha(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Sd(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Ka(a.fields,((u,f)=>{o+=u.length+Sd(f)})),o})(r.mapValue);default:throw Ie(13486,{value:r})}}function N1(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function j0(r){return!!r&&"integerValue"in r}function cg(r){return!!r&&"arrayValue"in r}function E1(r){return!!r&&"nullValue"in r}function T1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jd(r){return!!r&&"mapValue"in r}function t3(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[Y_])==null?void 0:a.stringValue)===X_}function gc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ka(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=gc(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gc(r.arrayValue.values[n]);return e}return{...r}}function n3(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===e3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!jd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gc(n)}setAll(e){let n=dn.emptyPath(),a={},o=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,a,o),a={},o=[],n=g.popLast()}f?a[g.lastSegment()]=gc(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());jd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];jd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Ka(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new On(gc(this.value))}}function W_(r){const e=[];return Ka(r.fields,((n,a)=>{const o=new dn([n]);if(jd(a)){const u=W_(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,a,o,u,f,g){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new pn(e,0,Oe.min(),Oe.min(),Oe.min(),On.empty(),0)}static newFoundDocument(e,n,a,o){return new pn(e,1,n,Oe.min(),a,o,0)}static newNoDocument(e,n){return new pn(e,2,n,Oe.min(),Oe.min(),On.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Oe.min(),Oe.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.position=e,this.inclusive=n}}function S1(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=Se.comparator(Se.fromName(f.referenceValue),n.key):a=Fl(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function j1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n="asc"){this.field=e,this.dir=n}}function s3(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{}class Qt extends Z_{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new a3(e,n,a):n==="array-contains"?new o3(e,a):n==="in"?new c3(e,a):n==="not-in"?new u3(e,a):n==="array-contains-any"?new d3(e,a):new Qt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new i3(e,a):new l3(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fl(n,this.value)):n!==null&&Fa(this.value)===Fa(n)&&this.matchesComparison(Fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ds extends Z_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ds(e,n)}matches(e){return J_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function J_(r){return r.op==="and"}function ew(r){return r3(r)&&J_(r)}function r3(r){for(const e of r.filters)if(e instanceof Ds)return!1;return!0}function A0(r){if(r instanceof Qt)return r.field.canonicalString()+r.op.toString()+Gl(r.value);if(ew(r))return r.filters.map((e=>A0(e))).join(",");{const e=r.filters.map((n=>A0(n))).join(",");return`${r.op}(${e})`}}function tw(r,e){return r instanceof Qt?(function(a,o){return o instanceof Qt&&a.op===o.op&&a.field.isEqual(o.field)&&hr(a.value,o.value)})(r,e):r instanceof Ds?(function(a,o){return o instanceof Ds&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,g)=>u&&tw(f,o.filters[g])),!0):!1})(r,e):void Ie(19439)}function nw(r){return r instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`})(r):r instanceof Ds?(function(n){return n.op.toString()+" {"+n.getFilters().map(nw).join(" ,")+"}"})(r):"Filter"}class a3 extends Qt{constructor(e,n,a){super(e,n,a),this.key=Se.fromName(a.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class i3 extends Qt{constructor(e,n){super(e,"in",n),this.keys=sw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l3 extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=sw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function sw(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((a=>Se.fromName(a.referenceValue)))}class o3 extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cg(n)&&jc(n.arrayValue,this.value)}}class c3 extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jc(this.value.arrayValue,n)}}class u3 extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jc(this.value.arrayValue,n)}}class d3 extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>jc(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n=null,a=[],o=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function A1(r,e=null,n=[],a=[],o=null,u=null,f=null){return new h3(r,e,n,a,o,u,f)}function ug(r){const e=Le(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>A0(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Gl(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Gl(a))).join(",")),e.Te=n}return e.Te}function dg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!s3(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!tw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!j1(r.startAt,e.startAt)&&j1(r.endAt,e.endAt)}function C0(r){return Se.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n=null,a=[],o=[],u=null,f="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function f3(r,e,n,a,o,u,f,g){return new no(r,e,n,a,o,u,f,g)}function ph(r){return new no(r)}function C1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rw(r){return r.collectionGroup!==null}function pc(r){const e=Le(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Xt(dn.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ac(u,a))})),n.has(dn.keyField().canonicalString())||e.Ie.push(new Ac(dn.keyField(),a))}return e.Ie}function lr(r){const e=Le(r);return e.Ee||(e.Ee=m3(e,pc(r))),e.Ee}function m3(r,e){if(r.limitType==="F")return A1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ac(o.field,u)}));const n=r.endAt?new Wd(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wd(r.startAt.position,r.startAt.inclusive):null;return A1(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function R0(r,e){const n=r.filters.concat([e]);return new no(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function I0(r,e,n){return new no(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function yh(r,e){return dg(lr(r),lr(e))&&r.limitType===e.limitType}function aw(r){return`${ug(lr(r))}|lt:${r.limitType}`}function Il(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>nw(o))).join(", ")}]`),mh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Gl(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Gl(o))).join(",")),`Target(${a})`})(lr(r))}; limitType=${r.limitType})`}function xh(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Se.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of pc(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(f,g,y){const p=S1(f,g,y);return f.inclusive?p<=0:p<0})(a.startAt,pc(a),o)||a.endAt&&!(function(f,g,y){const p=S1(f,g,y);return f.inclusive?p>=0:p>0})(a.endAt,pc(a),o))})(r,e)}function g3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iw(r){return(e,n)=>{let a=!1;for(const o of pc(r)){const u=p3(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function p3(r,e,n){const a=r.field.isKeyField()?Se.comparator(e.key,n.key):(function(u,f,g){const y=f.data.field(u),p=g.data.field(u);return y!==null&&p!==null?Fl(y,p):Ie(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ie(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return H_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new At(Se.comparator);function Fr(){return y3}const lw=new At(Se.comparator);function uc(...r){let e=lw;for(const n of r)e=e.insert(n.key,n);return e}function ow(r){let e=lw;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Si(){return yc()}function cw(){return yc()}function yc(){return new Bi((r=>r.toString()),((r,e)=>r.isEqual(e)))}const x3=new At(Se.comparator),b3=new Xt(Se.comparator);function Ye(...r){let e=b3;for(const n of r)e=e.add(n);return e}const v3=new Xt(Ke);function _3(){return v3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kd(e)?"-0":e}}function uw(r){return{integerValue:""+r}}function dw(r,e){return YA(e)?uw(e):hg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function w3(r,e,n){return r instanceof Cc?(function(o,u){const f={fields:{[$_]:{stringValue:G_},[K_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&og(u)&&(u=gh(u)),u&&(f.fields[Q_]=u),{mapValue:f}})(n,e):r instanceof Rc?fw(r,e):r instanceof Ic?mw(r,e):(function(o,u){const f=hw(o,u),g=R1(f)+R1(o.Ae);return j0(f)&&j0(o.Ae)?uw(g):hg(o.serializer,g)})(r,e)}function N3(r,e,n){return r instanceof Rc?fw(r,e):r instanceof Ic?mw(r,e):n}function hw(r,e){return r instanceof kc?(function(a){return j0(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Cc extends bh{}class Rc extends bh{constructor(e){super(),this.elements=e}}function fw(r,e){const n=gw(e);for(const a of r.elements)n.some((o=>hr(o,a)))||n.push(a);return{arrayValue:{values:n}}}class Ic extends bh{constructor(e){super(),this.elements=e}}function mw(r,e){let n=gw(e);for(const a of r.elements)n=n.filter((o=>!hr(o,a)));return{arrayValue:{values:n}}}class kc extends bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function R1(r){return Lt(r.integerValue||r.doubleValue)}function gw(r){return cg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n){this.field=e,this.transform=n}}function E3(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Rc&&o instanceof Rc||a instanceof Ic&&o instanceof Ic?Hl(a.elements,o.elements,hr):a instanceof kc&&o instanceof kc?hr(a.Ae,o.Ae):a instanceof Cc&&o instanceof Cc})(r.transform,e.transform)}class T3{constructor(e,n){this.version=e,this.transformResults=n}}class gs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class vh{}function yw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new fg(r.key,gs.none()):new Uc(r.key,r.data,gs.none());{const n=r.data,a=On.empty();let o=new Xt(dn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Ya(r.key,a,new Yn(o.toArray()),gs.none())}}function S3(r,e,n){r instanceof Uc?(function(o,u,f){const g=o.value.clone(),y=k1(o.fieldTransforms,u,f.transformResults);g.setAll(y),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):r instanceof Ya?(function(o,u,f){if(!Ad(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=k1(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(xw(o)),y.setAll(g),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function xc(r,e,n,a){return r instanceof Uc?(function(u,f,g,y){if(!Ad(u.precondition,f))return g;const p=u.value.clone(),_=D1(u.fieldTransforms,y,f);return p.setAll(_),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,a):r instanceof Ya?(function(u,f,g,y){if(!Ad(u.precondition,f))return g;const p=D1(u.fieldTransforms,y,f),_=f.data;return _.setAll(xw(u)),_.setAll(p),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,a):(function(u,f,g){return Ad(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,e,n)}function j3(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=hw(a.transform,o||null);u!=null&&(n===null&&(n=On.empty()),n.set(a.field,u))}return n||null}function I1(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Hl(a,o,((u,f)=>E3(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Uc extends vh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ya extends vh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xw(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function k1(r,e,n){const a=new Map;lt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,g=e.data.field(u.field);a.set(u.field,N3(f,g,n[o]))}return a}function D1(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,w3(u,f,e))}return a}class fg extends vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A3 extends vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&S3(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=xc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=xc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=cw();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(o.key)?null:g;const y=yw(f,g);y!==null&&a.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Oe.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,((n,a)=>I1(n,a)))&&Hl(this.baseMutations,e.baseMutations,((n,a)=>I1(n,a)))}}class mg{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){lt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return x3})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new mg(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,et;function k3(r){switch(r){case ee.OK:return Ie(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ie(15467,{code:r})}}function bw(r){if(r===void 0)return Hr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case $t.OK:return ee.OK;case $t.CANCELLED:return ee.CANCELLED;case $t.UNKNOWN:return ee.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ee.INTERNAL;case $t.UNAVAILABLE:return ee.UNAVAILABLE;case $t.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case $t.NOT_FOUND:return ee.NOT_FOUND;case $t.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case $t.ABORTED:return ee.ABORTED;case $t.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case $t.DATA_LOSS:return ee.DATA_LOSS;default:return Ie(39323,{code:r})}}(et=$t||($t={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=new Ma([4294967295,4294967295],0);function O1(r){const e=D3().encode(r),n=new k_;return n.update(e),new Uint8Array(n.digest())}function M1(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ma([n,a],0),new Ma([o,u],0)]}class gg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new dc(`Invalid padding: ${n}`);if(a<0)throw new dc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new dc(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new dc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ma.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Ma.fromNumber(a)));return o.compare(O3)===1&&(o=new Ma([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=O1(e),[a,o]=M1(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new gg(u,o,n);return a.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=O1(e),[a,o]=M1(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new _h(Oe.min(),o,new At(Ke),Fr(),Ye())}}class qc{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new qc(a,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class vw{constructor(e,n){this.targetId=e,this.Ce=n}}class _w{constructor(e,n,a=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class V1{constructor(){this.ve=0,this.Fe=L1(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),a=Ye();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ie(38017,{changeType:u})}})),new qc(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=L1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fr(),this.Je=bd(),this.He=bd(),this.Ye=new At(Ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(C0(u))if(a===0){const f=new Se(u.path);this.et(n,f,pn.newNoDocument(f,Oe.min()))}else lt(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const g=this.ut(e),y=g?this.ct(g,e,f):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,g;try{f=Ha(a).toUint8Array()}catch(y){if(y instanceof F_)return Bl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new gg(f,o,u)}catch(y){return Bl(y instanceof dc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&C0(g.target)){const y=new Se(g.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,pn.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let a=Ye();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new _h(e,n,this.Ye,this.je,a);return this.je=Fr(),this.Je=bd(),this.He=bd(),this.Ye=new At(Ke),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new V1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xt(Ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xt(Ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new V1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bd(){return new At(Se.comparator)}function L1(){return new At(Se.comparator)}const V3={asc:"ASCENDING",desc:"DESCENDING"},L3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P3={and:"AND",or:"OR"};class z3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function k0(r,e){return r.useProto3Json||mh(e)?e:{value:e}}function Zd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ww(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function U3(r,e){return Zd(r,e.toTimestamp())}function or(r){return lt(!!r,49232),Oe.fromTimestamp((function(n){const a=Ba(n);return new wt(a.seconds,a.nanos)})(r))}function pg(r,e){return D0(r,e).canonicalString()}function D0(r,e){const n=(function(o){return new bt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Nw(r){const e=bt.fromString(r);return lt(Aw(e),10190,{key:e.toString()}),e}function O0(r,e){return pg(r.databaseId,e.path)}function Km(r,e){const n=Nw(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Se(Tw(n))}function Ew(r,e){return pg(r.databaseId,e)}function q3(r){const e=Nw(r);return e.length===4?bt.emptyPath():Tw(e)}function M0(r){return new bt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Tw(r){return lt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function P1(r,e,n){return{name:O0(r,e),fields:n.value.mapValue.fields}}function B3(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,_){return p.useProto3Json?(lt(_===void 0||typeof _=="string",58123),hn.fromBase64String(_||"")):(lt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),hn.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(p){const _=p.code===void 0?ee.UNKNOWN:bw(p.code);return new pe(_,p.message||"")})(f);n=new _w(a,o,u,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Km(r,a.document.name),u=or(a.document.updateTime),f=a.document.createTime?or(a.document.createTime):Oe.min(),g=new On({mapValue:{fields:a.document.fields}}),y=pn.newFoundDocument(o,u,f,g),p=a.targetIds||[],_=a.removedTargetIds||[];n=new Cd(p,_,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Km(r,a.document),u=a.readTime?or(a.readTime):Oe.min(),f=pn.newNoDocument(o,u),g=a.removedTargetIds||[];n=new Cd([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Km(r,a.document),u=a.removedTargetIds||[];n=new Cd([],u,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new I3(o,u),g=a.targetId;n=new vw(g,f)}}return n}function H3(r,e){let n;if(e instanceof Uc)n={update:P1(r,e.key,e.value)};else if(e instanceof fg)n={delete:O0(r,e.key)};else if(e instanceof Ya)n={update:P1(r,e.key,e.data),updateMask:Z3(e.fieldMask)};else{if(!(e instanceof A3))return Ie(16599,{Vt:e.type});n={verify:O0(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,f){const g=f.transform;if(g instanceof Cc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Rc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ic)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof kc)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Ie(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:U3(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)})(r,e.precondition)),n}function F3(r,e){return r&&r.length>0?(lt(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?or(o.updateTime):or(u);return f.isEqual(Oe.min())&&(f=or(u)),new T3(f,o.transformResults||[])})(n,e)))):[]}function G3(r,e){return{documents:[Ew(r,e.path)]}}function $3(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=Ew(r,o);const u=(function(p){if(p.length!==0)return jw(Ds.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((_=>(function(A){return{field:kl(A.field),direction:Y3(A.dir)}})(_)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=k0(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function Q3(r){let e=q3(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){lt(a===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(w){const A=Sw(w);return A instanceof Ds&&ew(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((A=>(function(U){return new Ac(Dl(U.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(A)))})(n.orderBy));let g=null;n.limit&&(g=(function(w){let A;return A=typeof w=="object"?w.value:w,mh(A)?null:A})(n.limit));let y=null;n.startAt&&(y=(function(w){const A=!!w.before,M=w.values||[];return new Wd(M,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(w){const A=!w.before,M=w.values||[];return new Wd(M,A)})(n.endAt)),f3(e,o,f,u,g,"F",y,p)}function K3(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Sw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Dl(n.unaryFilter.field);return Qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Dl(n.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Dl(n.unaryFilter.field);return Qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Dl(n.unaryFilter.field);return Qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Qt.create(Dl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ds.create(n.compositeFilter.filters.map((a=>Sw(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(r):Ie(30097,{filter:r})}function Y3(r){return V3[r]}function X3(r){return L3[r]}function W3(r){return P3[r]}function kl(r){return{fieldPath:r.canonicalString()}}function Dl(r){return dn.fromServerFormat(r.fieldPath)}function jw(r){return r instanceof Qt?(function(n){if(n.op==="=="){if(T1(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NAN"}};if(E1(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T1(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NAN"}};if(E1(n.value))return{unaryFilter:{field:kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kl(n.field),op:X3(n.op),value:n.value}}})(r):r instanceof Ds?(function(n){const a=n.getFilters().map((o=>jw(o)));return a.length===1?a[0]:{compositeFilter:{op:W3(n.op),filters:a}}})(r):Ie(54877,{filter:r})}function Z3(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Aw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,a,o,u=Oe.min(),f=Oe.min(),g=hn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.yt=e}}function e6(r){const e=Q3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?I0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.Cn=new n6}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(qa.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(qa.min())}updateCollectionGroup(e,n,a){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class n6{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Xt(bt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Xt(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cw=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(Cw,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $l(0)}static cr(){return new $l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="LruGarbageCollector",s6=1048576;function q1([r,e],[n,a]){const o=Ke(r,n);return o===0?Ke(e,a):o}class r6{constructor(e){this.Ir=e,this.buffer=new Xt(q1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();q1(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a6{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(U1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){to(n)?ye(U1,"Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.Vr(3e5)}))}}class i6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(fh.ce);const a=new r6(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(z1)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,f,g,y,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(e,a,n)))).next((w=>(u=w,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(p=Date.now(),Rl()<=Qe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(p-y)+`ms
Total Duration: ${p-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function l6(r,e){return new i6(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.changes=new Bi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ne.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&xc(a.mutation,o,Yn.empty(),wt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Ye()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Ye()){const o=Si();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let f=uc();return u.forEach(((g,y)=>{f=f.insert(g,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=Si();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Ye())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,a,o){let u=Fr();const f=yc(),g=(function(){return yc()})();return n.forEach(((y,p)=>{const _=a.get(p.key);o.has(p.key)&&(_===void 0||_.mutation instanceof Ya)?u=u.insert(p.key,p):_!==void 0?(f.set(p.key,_.mutation.getFieldMask()),xc(_.mutation,p,_.mutation.getFieldMask(),wt.now())):f.set(p.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,_)=>f.set(p,_))),n.forEach(((p,_)=>g.set(p,new c6(_,f.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,n){const a=yc();let o=new At(((f,g)=>f-g)),u=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let _=a.get(y)||Yn.empty();_=g.applyToLocalView(p,_),a.set(y,_);const w=(o.get(g.batchId)||Ye()).add(y);o=o.insert(g.batchId,w)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,_=y.value,w=cw();_.forEach((A=>{if(!u.has(A)){const M=yw(n.get(A),a.get(A));M!==null&&w.set(A,M),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ne.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(f){return Se.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ne.resolve(Si());let g=Ec,y=u;return f.next((p=>ne.forEach(p,((_,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{y=y.insert(_,A)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,Ye()))).next((_=>({batchId:g,changes:ow(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((a=>{let o=uc();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=uc();return this.indexManager.getCollectionParents(e,u).next((g=>ne.forEach(g,(y=>{const p=(function(w,A){return new no(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next((_=>{_.forEach(((w,A)=>{f=f.insert(w,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((f=>{u.forEach(((y,p)=>{const _=p.getKey();f.get(_)===null&&(f=f.insert(_,pn.newInvalidDocument(_)))}));let g=uc();return f.forEach(((y,p)=>{const _=u.get(y);_!==void 0&&xc(_.mutation,p,Yn.empty(),wt.now()),xh(n,p)&&(g=g.insert(y,p))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:or(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:e6(o.bundledQuery),readTime:or(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.overlays=new At(Se.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Si();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),ne.resolve()}getOverlaysForCollection(e,n,a){const o=Si(),u=n.length+1,f=new Se(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>a&&o.set(y.getKey(),y)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new At(((p,_)=>p-_));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let _=u.get(p.largestBatchId);_===null&&(_=Si(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const g=Si(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,_)=>g.set(p,_))),!(g.size()>=o)););return ne.resolve(g)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new R3(n,a));let u=this.qr.get(n);u===void 0&&(u=Ye(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.Qr=new Xt(tn.$r),this.Ur=new Xt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new tn(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new tn(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new Se(new bt([])),a=new tn(n,e),o=new tn(n,e+1),u=[];return this.Ur.forEachInRange([a,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new bt([])),a=new tn(n,e),o=new tn(n,e+1);let u=Ye();return this.Ur.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new tn(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class tn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||Ke(e.Yr,n.Yr)}static Kr(e,n){return Ke(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(tn.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new C3(u,n,a,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new tn(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?lg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new tn(n,0),o=new tn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Xt(Ke);return n.forEach((o=>{const u=new tn(o,0),f=new tn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{a=a.add(g.Yr)}))})),ne.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Se.isDocumentKey(u)||(u=u.child(""));const f=new tn(new Se(u),0);let g=new Xt(Ke);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Yr)),!0)}),f),ne.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new tn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new tn(n,0),o=this.Zr.firstAfterOrEqual(a);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.ri=e,this.docs=(function(){return new At(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ne.resolve(a?a.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let a=Fr();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():pn.newInvalidDocument(o))})),ne.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Fr();const f=n.path,g=new Se(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:_}}=y.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||GA(FA(_),a)<=0||(o.has(_.key)||xh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ie(9500)}ii(e,n){return ne.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new p6(this)}getSize(e){return ne.resolve(this.size)}}class p6 extends o6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.persistence=e,this.si=new Bi((n=>ug(n)),dg),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new yg,this.targetCount=0,this.ai=$l.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $l(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return ne.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),ne.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return ne.resolve(a)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new f6,this.referenceDelegate=e(this),this.Pi=new y6(this),this.indexManager=new t6,this.remoteDocumentCache=(function(o){return new g6(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new J3(n),this.Ii=new d6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new m6(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ye("MemoryPersistence","Starting transaction:",e);const o=new x6(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class x6 extends QA{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.Ri=new yg,this.Vi=null}static mi(e){return new xg(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ne.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(a=>{const o=Se.fromPath(a);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Oe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jd{constructor(e,n){this.persistence=e,this.pi=new Bi((a=>XA(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=l6(this,n)}static mi(e,n){return new Jd(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((g=>{g||(a++,u.removeEntry(f,Oe.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sd(e.data.value)),n}br(e,n,a){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=Ye(),o=Ye();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bg(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $4()?8:KA(yn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new b6;return this.Ss(e,n,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>u.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(Rl()<=Qe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Rl()<=Qe.DEBUG&&ye("QueryEngine","Query:",Il(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Rl()<=Qe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(n))):ne.resolve())}ys(e,n){if(C1(n))return ne.resolve(null);let a=lr(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=I0(n,null,"F"),a=lr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=Ye(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const p=this.Ds(n,g);return this.Cs(n,p,f,y.readTime)?this.ys(e,I0(n,null,"F")):this.vs(e,p,n,y)}))))})))))}ws(e,n,a,o){return C1(n)||o.isEqual(Oe.min())?ne.resolve(null):this.ps.getDocuments(e,a).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,a,o)?ne.resolve(null):(Rl()<=Qe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Il(n)),this.vs(e,f,n,HA(o,Ec)).next((g=>g)))}))}Ds(e,n){let a=new Xt(iw(e));return n.forEach(((o,u)=>{xh(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Rl()<=Qe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Il(n)),this.ps.getDocumentsMatchingQuery(e,n,qa.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="LocalStore",_6=3e8;class w6{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new At(Ke),this.xs=new Bi((u=>ug(u)),dg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function N6(r,e,n,a){return new w6(r,e,n,a)}async function Iw(r,e){const n=Le(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],g=[];let y=Ye();for(const p of o){f.push(p.batchId);for(const _ of p.mutations)y=y.add(_.key)}for(const p of u){g.push(p.batchId);for(const _ of p.mutations)y=y.add(_.key)}return n.localDocuments.getDocuments(a,y).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:g})))}))}))}function E6(r,e){const n=Le(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,_){const w=p.batch,A=w.keys();let M=ne.resolve();return A.forEach((U=>{M=M.next((()=>_.getEntry(y,U))).next((se=>{const Y=p.docVersions.get(U);lt(Y!==null,48541),se.version.compareTo(Y)<0&&(w.applyToRemoteDocument(se,p),se.isValidDocument()&&(se.setReadTime(p.commitVersion),_.addEntry(se)))}))})),M.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Ye();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function kw(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function T6(r,e){const n=Le(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];e.targetChanges.forEach(((_,w)=>{const A=o.get(w);if(!A)return;g.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,w))));let M=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?M=M.withResumeToken(hn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,a)),o=o.insert(w,M),(function(se,Y,le){return se.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=_6?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(A,M,_)&&g.push(n.Pi.updateTargetData(u,M))}));let y=Fr(),p=Ye();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),g.push(S6(u,f,e.documentUpdates).next((_=>{y=_.ks,p=_.qs}))),!a.isEqual(Oe.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));g.push(_)}return ne.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.Ms=o,u)))}function S6(r,e,n){let a=Ye(),o=Ye();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let f=Fr();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Oe.min())?(e.removeEntry(g,y.readTime),f=f.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),f=f.insert(g,y)):ye(vg,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function j6(r,e){const n=Le(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=lg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function A6(r,e){const n=Le(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(a).next((f=>(o=new ka(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function V0(r,e,n){const a=Le(r),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!to(f))throw f;ye(vg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function B1(r,e,n){const a=Le(r);let o=Oe.min(),u=Ye();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,p,_){const w=Le(y),A=w.xs.get(_);return A!==void 0?ne.resolve(w.Ms.get(A)):w.Pi.getTargetData(p,_)})(a,f,lr(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,g.targetId).next((y=>{u=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,e,n?o:Oe.min(),n?u:Ye()))).next((g=>(C6(a,g3(e),g),{documents:g,Qs:u})))))}function C6(r,e,n){let a=r.Os.get(e)||Oe.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class H1{constructor(){this.activeTargetIds=_3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R6{constructor(){this.Mo=new H1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new H1,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="ConnectivityMonitor";class G1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(F1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(F1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd=null;function L0(){return vd===null?vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():vd++,"0x"+vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="RestConnection",k6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Yd?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const f=L0(),g=this.zo(e,n.toUriEncodedString());ye(Ym,`Sending RPC '${e}' ${f}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:p}=new URL(g),_=Xl(p);return this.Jo(e,g,y,a,_).then((w=>(ye(Ym,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw Bl(Ym,`RPC '${e}' ${f} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(e,n,a,o,u,f){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const a=k6[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class M6 extends D6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const f=L0();return new Promise(((g,y)=>{const p=new D_;p.setWithCredentials(!0),p.listenOnce(O_.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Td.NO_ERROR:const w=p.getResponseJson();ye(mn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),g(w);break;case Td.TIMEOUT:ye(mn,`RPC '${e}' ${f} timed out`),y(new pe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Td.HTTP_ERROR:const A=p.getStatus();if(ye(mn,`RPC '${e}' ${f} failed with status:`,A,"response text:",p.getResponseText()),A>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const U=M==null?void 0:M.error;if(U&&U.status&&U.message){const se=(function(le){const de=le.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(de)>=0?de:ee.UNKNOWN})(U.status);y(new pe(se,U.message))}else y(new pe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new pe(ee.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(mn,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(o);ye(mn,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",_,a,15)}))}T_(e,n,a){const o=L0(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=L_(),g=V_(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const _=u.join("");ye(mn,`Creating RPC '${e}' stream ${o}: ${_}`,y);const w=f.createWebChannel(_,y);this.I_(w);let A=!1,M=!1;const U=new O6({Yo:Y=>{M?ye(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(A||(ye(mn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ye(mn,`RPC '${e}' stream ${o} sending:`,Y),w.send(Y))},Zo:()=>w.close()}),se=(Y,le,de)=>{Y.listen(le,(ae=>{try{de(ae)}catch(me){setTimeout((()=>{throw me}),0)}}))};return se(w,cc.EventType.OPEN,(()=>{M||(ye(mn,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),se(w,cc.EventType.CLOSE,(()=>{M||(M=!0,ye(mn,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(w))})),se(w,cc.EventType.ERROR,(Y=>{M||(M=!0,Bl(mn,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),U.a_(new pe(ee.UNAVAILABLE,"The operation could not be completed")))})),se(w,cc.EventType.MESSAGE,(Y=>{var le;if(!M){const de=Y.data[0];lt(!!de,16349);const ae=de,me=(ae==null?void 0:ae.error)||((le=ae[0])==null?void 0:le.error);if(me){ye(mn,`RPC '${e}' stream ${o} received error:`,me);const re=me.status;let $=(function(j){const k=$t[j];if(k!==void 0)return bw(k)})(re),S=me.message;$===void 0&&($=ee.INTERNAL,S="Unknown error status: "+re+" with message "+me.message),M=!0,U.a_(new pe($,S)),w.close()}else ye(mn,`RPC '${e}' stream ${o} received:`,de),U.u_(de)}})),se(g,M_.STAT_EVENT,(Y=>{Y.stat===E0.PROXY?ye(mn,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===E0.NOPROXY&&ye(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r){return new z3(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="PersistentStream";class Ow{constructor(e,n,a,o,u,f,g,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Hr(n.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new pe(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye($1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ye($1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class V6 extends Ow{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=B3(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Oe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Oe.min():f.readTime?or(f.readTime):Oe.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=M0(this.serializer),n.addTarget=(function(u,f){let g;const y=f.target;if(g=C0(y)?{documents:G3(u,y)}:{query:$3(u,y).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=ww(u,f.resumeToken);const p=k0(u,f.expectedCount);p!==null&&(g.expectedCount=p)}else if(f.snapshotVersion.compareTo(Oe.min())>0){g.readTime=Zd(u,f.snapshotVersion.toTimestamp());const p=k0(u,f.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const a=K3(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=M0(this.serializer),n.removeTarget=e,this.q_(n)}}class L6 extends Ow{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=F3(e.writeResults,e.commitTime),a=or(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=M0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>H3(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{}class z6 extends P6{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,D0(n,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ee.UNKNOWN,u.toString())}))}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,D0(n,a),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class U6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hr(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="RemoteStore";class q6{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{Hi(this)&&(ye(Li,"Restarting streams for network reachability change."),await(async function(y){const p=Le(y);p.Ea.add(4),await Bc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Nh(p)})(this))}))})),this.Ra=new U6(a,o)}}async function Nh(r){if(Hi(r))for(const e of r.da)await e(!0)}async function Bc(r){for(const e of r.da)await e(!1)}function Mw(r,e){const n=Le(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Eg(n)?Ng(n):so(n).O_()&&wg(n,e))}function _g(r,e){const n=Le(r),a=so(n);n.Ia.delete(e),a.O_()&&Vw(n,e),n.Ia.size===0&&(a.O_()?a.L_():Hi(n)&&n.Ra.set("Unknown"))}function wg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(r).Y_(e)}function Vw(r,e){r.Va.Ue(e),so(r).Z_(e)}function Ng(r){r.Va=new M3({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),so(r).start(),r.Ra.ua()}function Eg(r){return Hi(r)&&!so(r).x_()&&r.Ia.size>0}function Hi(r){return Le(r).Ea.size===0}function Lw(r){r.Va=void 0}async function B6(r){r.Ra.set("Online")}async function H6(r){r.Ia.forEach(((e,n)=>{wg(r,e)}))}async function F6(r,e){Lw(r),Eg(r)?(r.Ra.ha(e),Ng(r)):r.Ra.set("Unknown")}async function G6(r,e,n){if(r.Ra.set("Online"),e instanceof _w&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(a){ye(Li,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await eh(r,a)}else if(e instanceof Cd?r.Va.Ze(e):e instanceof vw?r.Va.st(e):r.Va.tt(e),!n.isEqual(Oe.min()))try{const a=await kw(r.localStore);n.compareTo(a)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const _=u.Ia.get(p);_&&u.Ia.set(p,_.withResumeToken(y.resumeToken,f))}})),g.targetMismatches.forEach(((y,p)=>{const _=u.Ia.get(y);if(!_)return;u.Ia.set(y,_.withResumeToken(hn.EMPTY_BYTE_STRING,_.snapshotVersion)),Vw(u,y);const w=new ka(_.target,y,p,_.sequenceNumber);wg(u,w)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(a){ye(Li,"Failed to raise snapshot:",a),await eh(r,a)}}async function eh(r,e,n){if(!to(e))throw e;r.Ea.add(1),await Bc(r),r.Ra.set("Offline"),n||(n=()=>kw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ye(Li,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Nh(r)}))}function Pw(r,e){return e().catch((n=>eh(r,n,e)))}async function Eh(r){const e=Le(r),n=Ga(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lg;for(;$6(e);)try{const o=await j6(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,Q6(e,o)}catch(o){await eh(e,o)}zw(e)&&Uw(e)}function $6(r){return Hi(r)&&r.Ta.length<10}function Q6(r,e){r.Ta.push(e);const n=Ga(r);n.O_()&&n.X_&&n.ea(e.mutations)}function zw(r){return Hi(r)&&!Ga(r).x_()&&r.Ta.length>0}function Uw(r){Ga(r).start()}async function K6(r){Ga(r).ra()}async function Y6(r){const e=Ga(r);for(const n of r.Ta)e.ea(n.mutations)}async function X6(r,e,n){const a=r.Ta.shift(),o=mg.from(a,e,n);await Pw(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Eh(r)}async function W6(r,e){e&&Ga(r).X_&&await(async function(a,o){if((function(f){return k3(f)&&f!==ee.ABORTED})(o.code)){const u=a.Ta.shift();Ga(a).B_(),await Pw(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Eh(a)}})(r,e),zw(r)&&Uw(r)}async function Q1(r,e){const n=Le(r);n.asyncQueue.verifyOperationInProgress(),ye(Li,"RemoteStore received new credentials");const a=Hi(n);n.Ea.add(3),await Bc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nh(n)}async function Z6(r,e){const n=Le(r);e?(n.Ea.delete(2),await Nh(n)):e||(n.Ea.add(2),await Bc(n),n.Ra.set("Unknown"))}function so(r){return r.ma||(r.ma=(function(n,a,o){const u=Le(n);return u.sa(),new V6(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:B6.bind(null,r),t_:H6.bind(null,r),r_:F6.bind(null,r),H_:G6.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Eg(r)?Ng(r):r.Ra.set("Unknown")):(await r.ma.stop(),Lw(r))}))),r.ma}function Ga(r){return r.fa||(r.fa=(function(n,a,o){const u=Le(n);return u.sa(),new L6(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:K6.bind(null,r),r_:W6.bind(null,r),ta:Y6.bind(null,r),na:X6.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Eh(r)):(await r.fa.stop(),r.Ta.length>0&&(ye(Li,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,g=new Tg(e,n,f,o,u);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(r,e){if(Hr("AsyncQueue",`${e}: ${r}`),to(r))return new pe(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Se.comparator(n.key,a.key):(n,a)=>Se.comparator(n.key,a.key),this.keyedMap=uc(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new zl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.ga=new At(Se.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Ql{constructor(e,n,a,o,u,f,g,y,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new Ql(e,n,zl.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eC{constructor(){this.queries=Y1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Le(n),u=o.queries;o.queries=Y1(),u.forEach(((f,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new pe(ee.ABORTED,"Firestore shutting down"))}}function Y1(){return new Bi((r=>aw(r)),yh)}async function jg(r,e){const n=Le(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new J6,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=Sg(f,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Cg(n)}async function Ag(r,e){const n=Le(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function tC(r,e){const n=Le(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(a=!0);f.wa=o}}a&&Cg(n)}function nC(r,e,n){const a=Le(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function Cg(r){r.Ca.forEach((e=>{e.next()}))}var P0,X1;(X1=P0||(P0={})).Ma="default",X1.Cache="cache";class Rg{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ql(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==P0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.key=e}}class Bw{constructor(e){this.key=e}}class sC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=iw(e),this.tu=new zl(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new K1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,w)=>{const A=o.get(_),M=xh(this.query,w)?w:null,U=!!A&&this.mutatedKeys.has(A.key),se=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let Y=!1;A&&M?A.data.isEqual(M.data)?U!==se&&(a.track({type:3,doc:M}),Y=!0):this.su(A,M)||(a.track({type:2,doc:M}),Y=!0,(y&&this.eu(M,y)>0||p&&this.eu(M,p)<0)&&(g=!0)):!A&&M?(a.track({type:0,doc:M}),Y=!0):A&&!M&&(a.track({type:1,doc:A}),Y=!0,(y||p)&&(g=!0)),Y&&(M?(f=f.add(M),u=se?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{tu:f,iu:a,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,w)=>(function(M,U){const se=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:Y})}};return se(M)-se(U)})(_.type,w.type)||this.eu(_.doc,w.doc))),this.ou(a),o=o??!1;const g=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,f.length!==0||p?{snapshot:new Ql(this.query,e.tu,u,f,e.mutatedKeys,y===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new Bw(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new qw(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ig="SyncEngine";class rC{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class aC{constructor(e){this.key=e,this.hu=!1}}class iC{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Bi((g=>aw(g)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new At(Se.comparator),this.Au=new Map,this.Ru=new yg,this.Vu={},this.mu=new Map,this.fu=$l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lC(r,e,n=!0){const a=Kw(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Hw(a,e,n,!0),o}async function oC(r,e){const n=Kw(r);await Hw(n,e,!0,!1)}async function Hw(r,e,n,a){const o=await A6(r.localStore,lr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let g;return a&&(g=await cC(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Mw(r.remoteStore,o),g}async function cC(r,e,n,a,o){r.pu=(w,A,M)=>(async function(se,Y,le,de){let ae=Y.view.ru(le);ae.Cs&&(ae=await B1(se.localStore,Y.query,!1).then((({documents:S})=>Y.view.ru(S,ae))));const me=de&&de.targetChanges.get(Y.targetId),re=de&&de.targetMismatches.get(Y.targetId)!=null,$=Y.view.applyChanges(ae,se.isPrimaryClient,me,re);return Z1(se,Y.targetId,$.au),$.snapshot})(r,w,A,M);const u=await B1(r.localStore,e,!0),f=new sC(e,u.Qs),g=f.ru(u.documents),y=qc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),p=f.applyChanges(g,r.isPrimaryClient,y);Z1(r,n,p.au);const _=new rC(e,n,f);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function uC(r,e,n){const a=Le(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((f=>!yh(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await V0(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&_g(a.remoteStore,o.targetId),z0(a,o.targetId)})).catch(eo)):(z0(a,o.targetId),await V0(a.localStore,o.targetId,!0))}async function dC(r,e){const n=Le(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),_g(n.remoteStore,a.targetId))}async function hC(r,e,n){const a=bC(r);try{const o=await(function(f,g){const y=Le(f),p=wt.now(),_=g.reduce(((M,U)=>M.add(U.key)),Ye());let w,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let U=Fr(),se=Ye();return y.Ns.getEntries(M,_).next((Y=>{U=Y,U.forEach(((le,de)=>{de.isValidDocument()||(se=se.add(le))}))})).next((()=>y.localDocuments.getOverlayedDocuments(M,U))).next((Y=>{w=Y;const le=[];for(const de of g){const ae=j3(de,w.get(de.key).overlayedDocument);ae!=null&&le.push(new Ya(de.key,ae,W_(ae.value.mapValue),gs.exists(!0)))}return y.mutationQueue.addMutationBatch(M,p,le,g)})).next((Y=>{A=Y;const le=Y.applyToLocalDocumentSet(w,se);return y.documentOverlayCache.saveOverlays(M,Y.batchId,le)}))})).then((()=>({batchId:A.batchId,changes:ow(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,g,y){let p=f.Vu[f.currentUser.toKey()];p||(p=new At(Ke)),p=p.insert(g,y),f.Vu[f.currentUser.toKey()]=p})(a,o.batchId,n),await Hc(a,o.changes),await Eh(a.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");n.reject(u)}}async function Fw(r,e){const n=Le(r);try{const a=await T6(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?lt(f.hu,14607):o.removedDocuments.size>0&&(lt(f.hu,42227),f.hu=!1))})),await Hc(n,a,e)}catch(a){await eo(a)}}function W1(r,e,n){const a=Le(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const y=Le(f);y.onlineState=g;let p=!1;y.queries.forEach(((_,w)=>{for(const A of w.Sa)A.va(g)&&(p=!0)})),p&&Cg(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function fC(r,e,n){const a=Le(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let f=new At(Se.comparator);f=f.insert(u,pn.newNoDocument(u,Oe.min()));const g=Ye().add(u),y=new _h(Oe.min(),new Map,new At(Ke),f,g);await Fw(a,y),a.du=a.du.remove(u),a.Au.delete(e),kg(a)}else await V0(a.localStore,e,!1).then((()=>z0(a,e,n))).catch(eo)}async function mC(r,e){const n=Le(r),a=e.batch.batchId;try{const o=await E6(n.localStore,e);$w(n,a,null),Gw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Hc(n,o)}catch(o){await eo(o)}}async function gC(r,e,n){const a=Le(r);try{const o=await(function(f,g){const y=Le(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return y.mutationQueue.lookupMutationBatch(p,g).next((w=>(lt(w!==null,37113),_=w.keys(),y.mutationQueue.removeMutationBatch(p,w)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,_,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>y.localDocuments.getDocuments(p,_)))}))})(a.localStore,e);$w(a,e,n),Gw(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Hc(a,o)}catch(o){await eo(o)}}function Gw(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function $w(r,e,n){const a=Le(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function z0(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||Qw(r,a)}))}function Qw(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(_g(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),kg(r))}function Z1(r,e,n){for(const a of n)a instanceof qw?(r.Ru.addReference(a.key,e),pC(r,a)):a instanceof Bw?(ye(Ig,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||Qw(r,a.key)):Ie(19791,{wu:a})}function pC(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(ye(Ig,"New document in limbo: "+n),r.Eu.add(a),kg(r))}function kg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Se(bt.fromString(e)),a=r.fu.next();r.Au.set(a,new aC(n)),r.du=r.du.insert(n,a),Mw(r.remoteStore,new ka(lr(ph(n.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Hc(r,e,n){const a=Le(r),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{f.push(a.pu(y,e,n).then((p=>{var _;if((p||n)&&a.isPrimaryClient){const w=p?!p.fromCache:(_=n==null?void 0:n.targetChanges.get(y.targetId))==null?void 0:_.current;a.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(p){o.push(p);const w=bg.As(y.targetId,p);u.push(w)}})))})),await Promise.all(f),a.Pu.H_(o),await(async function(y,p){const _=Le(y);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ne.forEach(p,(A=>ne.forEach(A.Es,(M=>_.persistence.referenceDelegate.addReference(w,A.targetId,M))).next((()=>ne.forEach(A.ds,(M=>_.persistence.referenceDelegate.removeReference(w,A.targetId,M)))))))))}catch(w){if(!to(w))throw w;ye(vg,"Failed to update sequence numbers: "+w)}for(const w of p){const A=w.targetId;if(!w.fromCache){const M=_.Ms.get(A),U=M.snapshotVersion,se=M.withLastLimboFreeSnapshotVersion(U);_.Ms=_.Ms.insert(A,se)}}})(a.localStore,u))}async function yC(r,e){const n=Le(r);if(!n.currentUser.isEqual(e)){ye(Ig,"User change. New user:",e.toKey());const a=await Iw(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new pe(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Hc(n,a.Ls)}}function xC(r,e){const n=Le(r),a=n.Au.get(e);if(a&&a.hu)return Ye().add(a.key);{let o=Ye();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const g=n.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function Kw(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fC.bind(null,e),e.Pu.H_=tC.bind(null,e.eventManager),e.Pu.yu=nC.bind(null,e.eventManager),e}function bC(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gC.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return N6(this.persistence,new v6,e.initialUser,this.serializer)}Cu(e){return new Rw(xg.mi,this.serializer)}Du(e){return new R6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class vC extends th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof Jd,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new a6(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new Rw((a=>Jd.mi(a,n)),this.serializer)}}class U0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>W1(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=yC.bind(null,this.syncEngine),await Z6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eC})()}createDatastore(e){const n=wh(e.databaseInfo.databaseId),a=(function(u){return new M6(u)})(e.databaseInfo);return(function(u,f,g,y){return new z6(u,f,g,y)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,f,g){return new q6(a,o,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>W1(this.syncEngine,n,0)),(function(){return G1.v()?new G1:new I6})())}createSyncEngine(e,n){return(function(o,u,f,g,y,p,_){const w=new iC(o,u,f,g,y,p);return _&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Le(o);ye(Li,"RemoteStore shutting down."),u.Ea.add(5),await Bc(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}U0.provider={build:()=>new U0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="FirestoreClient";class _C{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{ye($a,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ye($a,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Sg(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Wm(r,e){r.asyncQueue.verifyOperationInProgress(),ye($a,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await Iw(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function J1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await wC(r);ye($a,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>Q1(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Q1(e.remoteStore,o))),r._onlineComponents=e}async function wC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye($a,"Using user provided OfflineComponentProvider");try{await Wm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Bl("Error using user provided cache. Falling back to memory cache: "+n),await Wm(r,new th)}}else ye($a,"Using default OfflineComponentProvider"),await Wm(r,new vC(void 0));return r._offlineComponents}async function Yw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye($a,"Using user provided OnlineComponentProvider"),await J1(r,r._uninitializedComponentsProvider._online)):(ye($a,"Using default OnlineComponentProvider"),await J1(r,new U0))),r._onlineComponents}function NC(r){return Yw(r).then((e=>e.syncEngine))}async function nh(r){const e=await Yw(r),n=e.eventManager;return n.onListen=lC.bind(null,e.syncEngine),n.onUnlisten=uC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dC.bind(null,e.syncEngine),n}function EC(r,e,n={}){const a=new zr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,y,p){const _=new Dg({next:A=>{_.Nu(),f.enqueueAndForget((()=>Ag(u,w)));const M=A.docs.has(g);!M&&A.fromCache?p.reject(new pe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&y&&y.source==="server"?p.reject(new pe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),w=new Rg(ph(g.path),_,{includeMetadataChanges:!0,qa:!0});return jg(u,w)})(await nh(r),r.asyncQueue,e,n,a))),a.promise}function TC(r,e,n={}){const a=new zr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,y,p){const _=new Dg({next:A=>{_.Nu(),f.enqueueAndForget((()=>Ag(u,w))),A.fromCache&&y.source==="server"?p.reject(new pe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),w=new Rg(g,_,{includeMetadataChanges:!0,qa:!0});return jg(u,w)})(await nh(r),r.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="firestore.googleapis.com",tv=!0;class nv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ww,this.ssl=tv}else this.host=e.host,this.ssl=e.ssl??tv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Cw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s6)throw new pe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xw(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new kA;switch(a.type){case"firstParty":return new VA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=ev.get(n);a&&(ye("ComponentProvider","Removing Datastore"),ev.delete(n),a.terminate())})(this),Promise.resolve()}}function SC(r,e,n,a={}){var p;r=Mn(r,Th);const o=Xl(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;o&&(qv(`https://${g}`),Bv("Firestore",!0)),u.host!==Ww&&u.host!==g&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:o,emulatorOptions:a};if(!Ua(y,f)&&(r._setSettings(y),a.mockUserToken)){let _,w;if(typeof a.mockUserToken=="string")_=a.mockUserToken,w=gn.MOCK_USER;else{_=P4(a.mockUserToken,(p=r._app)==null?void 0:p.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new pe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new gn(A)}r._authCredentials=new DA(new z_(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class kt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(zc(n,kt._jsonSchema))return new kt(e,a||null,new Se(bt.fromString(n.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Kt("string",kt._jsonSchemaVersion),referencePath:Kt("string")};class Va extends Xa{constructor(e,n,a){super(e,n,ph(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new Se(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function _n(r,e,...n){if(r=Dt(r),U_("collection","path",e),r instanceof Th){const a=bt.fromString(e,...n);return g1(a),new Va(r,null,a)}{if(!(r instanceof kt||r instanceof Va))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(bt.fromString(e,...n));return g1(a),new Va(r.firestore,null,a)}}function fr(r,e,...n){if(r=Dt(r),arguments.length===1&&(e=ig.newId()),U_("doc","path",e),r instanceof Th){const a=bt.fromString(e,...n);return m1(a),new kt(r,null,new Se(a))}{if(!(r instanceof kt||r instanceof Va))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(bt.fromString(e,...n));return m1(a),new kt(r.firestore,r instanceof Va?r.converter:null,new Se(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="AsyncQueue";class rv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dw(this,"async_queue_retry"),this._c=()=>{const a=Xm();a&&ye(sv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!to(e))throw e;ye(sv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Hr("INTERNAL UNHANDLED ERROR: ",av(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Tg.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function av(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Gr extends Th{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new rv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rv(e),this._firestoreClient=void 0,await e}}}function jC(r,e){const n=typeof r=="object"?r:X0(),a=typeof r=="string"?r:Yd,o=qi(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=V4("firestore");u&&SC(o,...u)}return o}function Sh(r){if(r._terminated)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AC(r),r._firestoreClient}function AC(r){var a,o,u;const e=r._freezeSettings(),n=(function(g,y,p,_){return new JA(g,y,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Xw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new _C(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fs(hn.fromBase64String(e))}catch(n){throw new pe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fs(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zc(e,fs._jsonSchema))return fs.fromBase64String(e.bytes)}}fs._jsonSchemaVersion="firestore/bytes/1.0",fs._jsonSchema={type:Kt("string",fs._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(zc(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:Kt("string",cr._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zc(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ur(e.vectorValues);throw new pe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:Kt("string",ur._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=/^__.*__$/;class RC{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}class Zw{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Ya(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Jw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:r})}}class Og{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Jw(this.Ac)&&CC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IC{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||wh(e)}Cc(e,n,a,o=!1){return new Og({Ac:e,methodName:n,Dc:a,path:dn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ah(r){const e=r._freezeSettings(),n=wh(r._databaseId);return new IC(r._databaseId,!!e.ignoreUndefinedProperties,n)}function e2(r,e,n,a,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Lg("Data must be an object, but it was:",f,a);const g=t2(a,f);let y,p;if(u.merge)y=new Yn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const w of u.mergeFields){const A=q0(e,w,n);if(!f.contains(A))throw new pe(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);s2(_,A)||_.push(A)}y=new Yn(_),p=f.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,p=f.fieldTransforms;return new RC(new On(g),y,p)}class Ch extends Fc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}class Mg extends Fc{_toFieldTransform(e){return new pw(e.path,new Cc)}isEqual(e){return e instanceof Mg}}class Vg extends Fc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new kc(e.serializer,dw(e.serializer,this.Fc));return new pw(e.path,n)}isEqual(e){return e instanceof Vg&&this.Fc===e.Fc}}function kC(r,e,n,a){const o=r.Cc(1,e,n);Lg("Data must be an object, but it was:",o,a);const u=[],f=On.empty();Ka(a,((y,p)=>{const _=Pg(e,y,n);p=Dt(p);const w=o.yc(_);if(p instanceof Ch)u.push(_);else{const A=Gc(p,w);A!=null&&(u.push(_),f.set(_,A))}}));const g=new Yn(u);return new Zw(f,g,o.fieldTransforms)}function DC(r,e,n,a,o,u){const f=r.Cc(1,e,n),g=[q0(e,a,n)],y=[o];if(u.length%2!=0)throw new pe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)g.push(q0(e,u[A])),y.push(u[A+1]);const p=[],_=On.empty();for(let A=g.length-1;A>=0;--A)if(!s2(p,g[A])){const M=g[A];let U=y[A];U=Dt(U);const se=f.yc(M);if(U instanceof Ch)p.push(M);else{const Y=Gc(U,se);Y!=null&&(p.push(M),_.set(M,Y))}}const w=new Yn(p);return new Zw(_,w,f.fieldTransforms)}function OC(r,e,n,a=!1){return Gc(n,r.Cc(a?4:3,e))}function Gc(r,e){if(n2(r=Dt(r)))return Lg("Unsupported field value:",e,r),t2(r,e);if(r instanceof Fc)return(function(a,o){if(!Jw(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let f=0;for(const g of a){let y=Gc(g,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=Dt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return dw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=wt.fromDate(a);return{timestampValue:Zd(o.serializer,u)}}if(a instanceof wt){const u=new wt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zd(o.serializer,u)}}if(a instanceof cr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof fs)return{bytesValue:ww(o.serializer,a._byteString)};if(a instanceof kt){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ur)return(function(f,g){return{mapValue:{fields:{[Y_]:{stringValue:X_},[Xd]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return hg(g.serializer,p)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${hh(a)}`)})(r,e)}function t2(r,e){const n={};return H_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(r,((a,o)=>{const u=Gc(o,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function n2(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof wt||r instanceof cr||r instanceof fs||r instanceof kt||r instanceof Fc||r instanceof ur)}function Lg(r,e,n){if(!n2(n)||!q_(n)){const a=hh(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function q0(r,e,n){if((e=Dt(e))instanceof jh)return e._internalPath;if(typeof e=="string")return Pg(r,e);throw sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const MC=new RegExp("[~\\*/\\[\\]]");function Pg(r,e,n){if(e.search(MC)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new jh(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function sh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${a}`),f&&(y+=` in document ${o}`),y+=")"),new pe(ee.INVALID_ARGUMENT,g+r+y)}function s2(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VC extends r2{data(){return super.data()}}function Rh(r,e){return typeof e=="string"?Pg(r,e):e instanceof jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class i2 extends zg{}function Cs(r,e,...n){let a=[];e instanceof zg&&a.push(e),a=a.concat(n),(function(u){const f=u.filter((y=>y instanceof Ug)).length,g=u.filter((y=>y instanceof Ih)).length;if(f>1||f>0&&g>0)throw new pe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Ih extends i2{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Ih(e,n,a)}_apply(e){const n=this._parse(e);return o2(e._query,n),new Xa(e.firestore,e.converter,R0(e._query,n))}_parse(e){const n=Ah(e.firestore);return(function(u,f,g,y,p,_,w){let A;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new pe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){ov(w,_);const U=[];for(const se of w)U.push(lv(y,u,se));A={arrayValue:{values:U}}}else A=lv(y,u,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||ov(w,_),A=OC(g,f,w,_==="in"||_==="not-in");return Qt.create(p,_,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rs(r,e,n){const a=e,o=Rh("where",r);return Ih._create(o,a,n)}class Ug extends zg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ug(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Ds.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const y of g)o2(f,y),f=R0(f,y)})(e._query,n),new Xa(e.firestore,e.converter,R0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qg extends i2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new pe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ac(u,f)})(e._query,this._field,this._direction);return new Xa(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new no(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function l2(r,e="asc"){const n=e,a=Rh("orderBy",r);return qg._create(a,n)}function lv(r,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new pe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rw(e)&&n.indexOf("/")!==-1)throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(bt.fromString(n));if(!Se.isDocumentKey(a))throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return N1(r,new Se(a))}if(n instanceof kt)return N1(r,n._key);throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(n)}.`)}function ov(r,e){if(!Array.isArray(r)||r.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o2(r,e){const n=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LC{convertValue(e,n="none"){switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ka(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){var a,o,u;const n=(u=(o=(a=e.fields)==null?void 0:a[Xd].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>Lt(f.doubleValue)));return new ur(n)}convertGeoPoint(e){return new cr(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=gh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=Ba(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=bt.fromString(e);lt(Aw(a),9688,{name:e});const o=new Sc(a.get(1),a.get(3)),u=new Se(a.popFirst(5));return o.isEqual(n)||Hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ai extends r2{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Rh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ai._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ai._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ai._jsonSchema={type:Kt("string",Ai._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Rd extends Ai{data(e={}){return super.data(e)}}class Ci{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new hc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Rd(this._firestore,this._userDataWriter,a.key,a,new hc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const y=new Rd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new hc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new Rd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new hc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,_=-1;return g.type!==0&&(p=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),_=f.indexOf(g.doc.key)),{type:PC(g.type),doc:y,oldIndex:p,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ci._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r){r=Mn(r,kt);const e=Mn(r.firestore,Gr);return EC(Sh(e),r._key).then((n=>d2(e,r,n)))}Ci._jsonSchemaVersion="firestore/querySnapshot/1.0",Ci._jsonSchema={type:Kt("string",Ci._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Bg extends LC{constructor(e){super(),this.firestore=e}convertBytes(e){return new fs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function mr(r){r=Mn(r,Xa);const e=Mn(r.firestore,Gr),n=Sh(e),a=new Bg(e);return a2(r._query),TC(n,r._query).then((o=>new Ci(e,a,r,o)))}function Hg(r,e,n){r=Mn(r,kt);const a=Mn(r.firestore,Gr),o=c2(r.converter,e,n);return Dh(a,[e2(Ah(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,gs.none())])}function Fg(r,e,n,...a){r=Mn(r,kt);const o=Mn(r.firestore,Gr),u=Ah(o);let f;return f=typeof(e=Dt(e))=="string"||e instanceof jh?DC(u,"updateDoc",r._key,e,n,a):kC(u,"updateDoc",r._key,e),Dh(o,[f.toMutation(r._key,gs.exists(!0))])}function zC(r){return Dh(Mn(r.firestore,Gr),[new fg(r._key,gs.none())])}function kh(r,e){const n=Mn(r.firestore,Gr),a=fr(r),o=c2(r.converter,e);return Dh(n,[e2(Ah(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,gs.exists(!1))]).then((()=>a))}function UC(r,...e){var y,p,_;r=Dt(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||iv(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(iv(e[a])){const w=e[a];e[a]=(y=w.next)==null?void 0:y.bind(w),e[a+1]=(p=w.error)==null?void 0:p.bind(w),e[a+2]=(_=w.complete)==null?void 0:_.bind(w)}let u,f,g;if(r instanceof kt)f=Mn(r.firestore,Gr),g=ph(r._key.path),u={next:w=>{e[a]&&e[a](d2(f,r,w))},error:e[a+1],complete:e[a+2]};else{const w=Mn(r,Xa);f=Mn(w.firestore,Gr),g=w._query;const A=new Bg(f);u={next:M=>{e[a]&&e[a](new Ci(f,A,w,M))},error:e[a+1],complete:e[a+2]},a2(r._query)}return(function(A,M,U,se){const Y=new Dg(se),le=new Rg(M,Y,U);return A.asyncQueue.enqueueAndForget((async()=>jg(await nh(A),le))),()=>{Y.Nu(),A.asyncQueue.enqueueAndForget((async()=>Ag(await nh(A),le)))}})(Sh(f),g,o,u)}function Dh(r,e){return(function(a,o){const u=new zr;return a.asyncQueue.enqueueAndForget((async()=>hC(await NC(a),o,u))),u.promise})(Sh(r),e)}function d2(r,e,n){const a=n.docs.get(e._key),o=new Bg(r);return new Ai(r,o,e._key,a,new hc(n.hasPendingWrites,n.fromCache),e.converter)}function Kl(){return new Mg("serverTimestamp")}function B0(r){return new Vg("increment",r)}(function(e,n=!0){(function(o){Jl=o})(Wl),dr(new Is("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),g=new Gr(new OA(a.getProvider("auth-internal")),new LA(f,a.getProvider("app-check-internal")),(function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(p.options.projectId,_)})(f,o),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),ms(u1,d1,e),ms(u1,d1,"esm2020")})();const h2="@firebase/installations",Gg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=1e4,m2=`w:${Gg}`,g2="FIS_v2",qC="https://firebaseinstallations.googleapis.com/v1",BC=3600*1e3,HC="installations",FC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pi=new Ui(HC,FC,GC);function p2(r){return r instanceof Os&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2({projectId:r}){return`${qC}/projects/${r}/installations`}function x2(r){return{token:r.token,requestStatus:2,expiresIn:QC(r.expiresIn),creationTime:Date.now()}}async function b2(r,e){const a=(await e.json()).error;return Pi.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function v2({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function $C(r,{refreshToken:e}){const n=v2(r);return n.append("Authorization",KC(e)),n}async function _2(r){const e=await r();return e.status>=500&&e.status<600?r():e}function QC(r){return Number(r.replace("s","000"))}function KC(r){return`${g2} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const a=y2(r),o=v2(r),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={fid:n,authVersion:g2,appId:r.appId,sdkVersion:m2},g={method:"POST",headers:o,body:JSON.stringify(f)},y=await _2(()=>fetch(a,g));if(y.ok){const p=await y.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:x2(p.authToken)}}else throw await b2("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=/^[cdef][\w-]{21}$/,H0="";function ZC(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=JC(r);return WC.test(n)?n:H0}catch{return H0}}function JC(r){return XC(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Map;function E2(r,e){const n=Oh(r);T2(n,e),eR(n,e)}function T2(r,e){const n=N2.get(r);if(n)for(const a of n)a(e)}function eR(r,e){const n=tR();n&&n.postMessage({key:r,fid:e}),nR()}let ji=null;function tR(){return!ji&&"BroadcastChannel"in self&&(ji=new BroadcastChannel("[Firebase] FID Change"),ji.onmessage=r=>{T2(r.data.key,r.data.fid)}),ji}function nR(){N2.size===0&&ji&&(ji.close(),ji=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebase-installations-database",rR=1,zi="firebase-installations-store";let Zm=null;function $g(){return Zm||(Zm=Kv(sR,rR,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(zi)}}})),Zm}async function rh(r,e){const n=Oh(r),o=(await $g()).transaction(zi,"readwrite"),u=o.objectStore(zi),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&E2(r,e.fid),e}async function S2(r){const e=Oh(r),a=(await $g()).transaction(zi,"readwrite");await a.objectStore(zi).delete(e),await a.done}async function Mh(r,e){const n=Oh(r),o=(await $g()).transaction(zi,"readwrite"),u=o.objectStore(zi),f=await u.get(n),g=e(f);return g===void 0?await u.delete(n):await u.put(g,n),await o.done,g&&(!f||f.fid!==g.fid)&&E2(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qg(r){let e;const n=await Mh(r.appConfig,a=>{const o=aR(a),u=iR(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===H0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function aR(r){const e=r||{fid:ZC(),registrationStatus:0};return j2(e)}function iR(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Pi.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=lR(r,n);return{installationEntry:n,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:oR(r)}:{installationEntry:e}}async function lR(r,e){try{const n=await YC(r,e);return rh(r.appConfig,n)}catch(n){throw p2(n)&&n.customData.serverCode===409?await S2(r.appConfig):await rh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function oR(r){let e=await cv(r.appConfig);for(;e.registrationStatus===1;)await w2(100),e=await cv(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:a}=await Qg(r);return a||n}return e}function cv(r){return Mh(r,e=>{if(!e)throw Pi.create("installation-not-found");return j2(e)})}function j2(r){return cR(r)?{fid:r.fid,registrationStatus:0}:r}function cR(r){return r.registrationStatus===1&&r.registrationTime+f2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR({appConfig:r,heartbeatServiceProvider:e},n){const a=dR(r,n),o=$C(r,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const f={installation:{sdkVersion:m2,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(f)},y=await _2(()=>fetch(a,g));if(y.ok){const p=await y.json();return x2(p)}else throw await b2("Generate Auth Token",y)}function dR(r,{fid:e}){return`${y2(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kg(r,e=!1){let n;const a=await Mh(r.appConfig,u=>{if(!A2(u))throw Pi.create("not-registered");const f=u.authToken;if(!e&&mR(f))return u;if(f.requestStatus===1)return n=hR(r,e),u;{if(!navigator.onLine)throw Pi.create("app-offline");const g=pR(u);return n=fR(r,g),g}});return n?await n:a.authToken}async function hR(r,e){let n=await uv(r.appConfig);for(;n.authToken.requestStatus===1;)await w2(100),n=await uv(r.appConfig);const a=n.authToken;return a.requestStatus===0?Kg(r,e):a}function uv(r){return Mh(r,e=>{if(!A2(e))throw Pi.create("not-registered");const n=e.authToken;return yR(n)?{...e,authToken:{requestStatus:0}}:e})}async function fR(r,e){try{const n=await uR(r,e),a={...e,authToken:n};return await rh(r.appConfig,a),n}catch(n){if(p2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await S2(r.appConfig);else{const a={...e,authToken:{requestStatus:0}};await rh(r.appConfig,a)}throw n}}function A2(r){return r!==void 0&&r.registrationStatus===2}function mR(r){return r.requestStatus===2&&!gR(r)}function gR(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+BC}function pR(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function yR(r){return r.requestStatus===1&&r.requestTime+f2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(r){const e=r,{installationEntry:n,registrationPromise:a}=await Qg(e);return a?a.catch(console.error):Kg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(r,e=!1){const n=r;return await vR(n),(await Kg(n,e)).token}async function vR(r){const{registrationPromise:e}=await Qg(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(r){if(!r||!r.options)throw Jm("App Configuration");if(!r.name)throw Jm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Jm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Jm(r){return Pi.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="installations",wR="installations-internal",NR=r=>{const e=r.getProvider("app").getImmediate(),n=_R(e),a=qi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},ER=r=>{const e=r.getProvider("app").getImmediate(),n=qi(e,C2).getImmediate();return{getId:()=>xR(n),getToken:o=>bR(n,o)}};function TR(){dr(new Is(C2,NR,"PUBLIC")),dr(new Is(wR,ER,"PRIVATE"))}TR();ms(h2,Gg);ms(h2,Gg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah="analytics",SR="firebase_id",jR="origin",AR=60*1e3,CR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new oh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xn=new Ui("analytics","Analytics",RR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(r){if(!r.startsWith(Yg)){const e=Xn.create("invalid-gtag-resource",{gtagURL:r});return wn.warn(e.message),""}return r}function R2(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function kR(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function DR(r,e){const n=kR("firebase-js-sdk-policy",{createScriptURL:IR}),a=document.createElement("script"),o=`${Yg}?l=${r}&id=${e}`;a.src=n?n==null?void 0:n.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function OR(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function MR(r,e,n,a,o,u){const f=a[o];try{if(f)await e[f];else{const y=(await R2(n)).find(p=>p.measurementId===o);y&&await e[y.appId]}}catch(g){wn.error(g)}r("config",o,u)}async function VR(r,e,n,a,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const g=await R2(n);for(const y of f){const p=g.find(w=>w.measurementId===y),_=p&&e[p.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",a,o||{})}catch(u){wn.error(u)}}function LR(r,e,n,a){async function o(u,...f){try{if(u==="event"){const[g,y]=f;await VR(r,e,n,g,y)}else if(u==="config"){const[g,y]=f;await MR(r,e,n,a,g,y)}else if(u==="consent"){const[g,y]=f;r("consent",g,y)}else if(u==="get"){const[g,y,p]=f;r("get",g,y,p)}else if(u==="set"){const[g]=f;r("set",g)}else r(u,...f)}catch(g){wn.error(g)}}return o}function PR(r,e,n,a,o){let u=function(...f){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=LR(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function zR(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Yg)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=30,qR=1e3;class BR{constructor(e={},n=qR){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const I2=new BR;function HR(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function FR(r){var f;const{appId:e,apiKey:n}=r,a={method:"GET",headers:HR(n)},o=CR.replace("{app-id}",e),u=await fetch(o,a);if(u.status!==200&&u.status!==304){let g="";try{const y=await u.json();(f=y.error)!=null&&f.message&&(g=y.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:g})}return u.json()}async function GR(r,e=I2,n){const{appId:a,apiKey:o,measurementId:u}=r.options;if(!a)throw Xn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:a};throw Xn.create("no-api-key")}const f=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new KR;return setTimeout(async()=>{g.abort()},AR),k2({appId:a,apiKey:o,measurementId:u},f,g,e)}async function k2(r,{throttleEndTimeMillis:e,backoffCount:n},a,o=I2){var g;const{appId:u,measurementId:f}=r;try{await $R(a,e)}catch(y){if(f)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:f};throw y}try{const y=await FR(r);return o.deleteThrottleMetadata(u),y}catch(y){const p=y;if(!QR(p)){if(o.deleteThrottleMetadata(u),f)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:f};throw y}const _=Number((g=p==null?void 0:p.customData)==null?void 0:g.httpStatus)===503?Mb(n,o.intervalMillis,UR):Mb(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+_,backoffCount:n+1};return o.setThrottleMetadata(u,w),wn.debug(`Calling attemptFetch again in ${_} millis`),k2(r,w,a,o)}}function $R(r,e){return new Promise((n,a)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),a(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function QR(r){if(!(r instanceof Os)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class KR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function YR(r,e,n,a,o){if(o&&o.global){r("event",n,a);return}else{const u=await e,f={...a,send_to:u};r("event",n,f)}}async function XR(r,e,n,a){if(a&&a.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(){if(Fv())try{await Gv()}catch(r){return wn.warn(Xn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return wn.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ZR(r,e,n,a,o,u,f){const g=GR(r);g.then(A=>{n[A.measurementId]=A.appId,r.options.measurementId&&A.measurementId!==r.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>wn.error(A)),e.push(g);const y=WR().then(A=>{if(A)return a.getId()}),[p,_]=await Promise.all([g,y]);zR(u)||DR(u,p.measurementId),o("js",new Date);const w=(f==null?void 0:f.config)??{};return w[jR]="firebase",w.update=!0,_!=null&&(w[SR]=_),o("config",p.measurementId,w),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.app=e}_delete(){return delete Ul[this.app.options.appId],Promise.resolve()}}let Ul={},dv=[];const hv={};let e0="dataLayer",eI="gtag",fv,Xg,mv=!1;function tI(){const r=[];if(Hv()&&r.push("This is a browser extension environment."),Q4()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),n=Xn.create("invalid-analytics-context",{errorInfo:e});wn.warn(n.message)}}function nI(r,e,n){tI();const a=r.options.appId;if(!a)throw Xn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xn.create("no-api-key");if(Ul[a]!=null)throw Xn.create("already-exists",{id:a});if(!mv){OR(e0);const{wrappedGtag:u,gtagCore:f}=PR(Ul,dv,hv,e0,eI);Xg=u,fv=f,mv=!0}return Ul[a]=ZR(r,dv,hv,e,fv,e0,n),new JR(r)}function sI(r=X0()){r=Dt(r);const e=qi(r,ah);return e.isInitialized()?e.getImmediate():rI(r)}function rI(r,e={}){const n=qi(r,ah);if(n.isInitialized()){const o=n.getImmediate();if(Ua(e,n.getOptions()))return o;throw Xn.create("already-initialized")}return n.initialize({options:e})}function aI(r,e,n){r=Dt(r),XR(Xg,Ul[r.app.options.appId],e,n).catch(a=>wn.error(a))}function iI(r,e,n,a){r=Dt(r),YR(Xg,Ul[r.app.options.appId],e,n,a).catch(o=>wn.error(o))}const gv="@firebase/analytics",pv="0.10.19";function lI(){dr(new Is(ah,(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return nI(a,o,n)},"PUBLIC")),dr(new Is("analytics-internal",r,"PRIVATE")),ms(gv,pv),ms(gv,pv,"esm2020");function r(e){try{const n=e.getProvider(ah).getImmediate();return{logEvent:(a,o,u)=>iI(n,a,o,u),setUserProperties:(a,o)=>aI(n,a,o)}}catch(n){throw Xn.create("interop-component-reg-failed",{reason:n})}}}lI();const oI={apiKey:"AIzaSyBFr--na-wJGHMdev7vUhPufAJHlyP3GNQ",authDomain:"school-9d3db.firebaseapp.com",projectId:"school-9d3db",storageBucket:"school-9d3db.firebasestorage.app",messagingSenderId:"429673694272",appId:"1:429673694272:web:43390c4fdfa5bce4744ba5",measurementId:"G-8YSDYV9VBN"},Wg=Yv(oI),bc=RA(Wg),St=jC(Wg);sI(Wg);const D2=F.createContext(void 0),cI=({children:r})=>{const[e,n]=F.useState(null),[a,o]=F.useState(!0),u=(y,p)=>{const _=`teacher-${p.split("@")[0]}`;let w="https://img.freepik.com/free-vector/teacher-standing-near-blackboard_23-2147517173.jpg";y.includes("")?w="https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P":y.includes("")&&(w="https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj"),n({uid:_,email:p,displayName:y,role:"teacher",avatar:w,gender:"male"}),localStorage.setItem("isTeacher","true"),localStorage.setItem("teacherName",y),localStorage.setItem("teacherEmail",p)},f=async()=>{try{(e==null?void 0:e.role)==="teacher"?(localStorage.removeItem("isTeacher"),localStorage.removeItem("teacherName"),localStorage.removeItem("teacherEmail"),n(null)):await bj(bc)}catch(y){console.error("Logout error",y)}},g=async y=>{if(e)try{let p={...y};if(y.firstName!==void 0||y.lastName!==void 0){const _=y.firstName!==void 0?y.firstName:e.firstName||"",w=y.lastName!==void 0?y.lastName:e.lastName||"";p.displayName=`${_} ${w}`.trim()}if(n(_=>_?{..._,...p}:null),e.role!=="teacher"){const _=fr(St,"users",e.uid);await Hg(_,p,{merge:!0})}}catch(p){throw console.error("Error updating profile:",p),p}};return F.useEffect(()=>{const y=localStorage.getItem("isTeacher")==="true";if(y){const _=localStorage.getItem("teacherName")||"",w=localStorage.getItem("teacherEmail")||"teacher@etqan.edu";u(_,w),o(!1);return}const p=xj(bc,async _=>{if(_)try{const w=fr(St,"users",_.uid),A=await u2(w);if(A.exists()){const M=A.data();(_.email==="q@gmail.com"||_.email==="yazan22@gmail.com")&&(M.totalXP=25e3,M.quizzesCompleted=500),n({uid:_.uid,email:_.email||"",displayName:M.displayName||`${M.firstName||""} ${M.lastName||""}`.trim()||"Student",firstName:M.firstName,lastName:M.lastName,age:M.age,role:M.role,grade:M.grade,phone:M.phone,address:M.address,school:M.school,gender:M.gender,avatar:M.avatar,profileBackground:M.profileBackground,genderChanged:M.genderChanged})}else n({uid:_.uid,email:_.email||"",displayName:"User",role:"student"})}catch(w){console.error("Error fetching user profile:",w)}else y||n(null);o(!1)});return()=>p()},[]),l.jsx(D2.Provider,{value:{user:e,loading:a,logout:f,setTeacherSession:u,updateUserProfile:g},children:!a&&r})},gr=()=>{const r=F.useContext(D2);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},uI=({onLoginClick:r,onNavigate:e,onLogoutClick:n})=>{const[a,o]=F.useState(!1),[u,f]=F.useState(!1),{user:g}=gr();F.useEffect(()=>{const p=()=>{window.scrollY>10?f(!0):f(!1)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const y=p=>{e(p),o(!1),window.scrollTo({top:0,behavior:"smooth"})};return l.jsxs("nav",{className:`w-full z-50 sticky top-0 transition-all duration-500 ${u?"bg-gray-950 shadow-lg":"bg-transparent shadow-none"}`,children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16 md:h-20",children:[l.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>y("HOME"),children:[l.jsx("div",{className:"p-1 bg-white/5 rounded-full group-hover:bg-white/10 transition-colors",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/13x8Gorb7y4H2qcQ1LVJtHY9-RoUhxg2z",alt:"  ",className:"w-10 h-10 md:w-12 md:h-12 rounded-full object-cover border-2 border-white/10 shadow-sm"})}),l.jsx("span",{className:"text-xl md:text-2xl font-black text-white tracking-tight drop-shadow-sm",children:""})]}),l.jsx("div",{className:"hidden md:flex items-center justify-center flex-1 px-4 lg:px-8",children:l.jsxs("div",{className:`flex items-center gap-1 px-2 py-1.5 rounded-full border transition-all duration-500 ${u?"bg-gray-900/50 border-white/5 backdrop-blur-sm":"bg-white/5 border-white/5 backdrop-blur-sm"}`,children:[l.jsxs("button",{onClick:()=>y("HOME"),className:"px-4 py-1.5 text-gray-200 font-bold rounded-full hover:bg-white/10 hover:text-white transition-all flex items-center gap-2 text-sm",children:[l.jsx(Md,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>y("QUIZZES"),className:"px-4 py-1.5 text-gray-200 font-bold rounded-full hover:bg-white/10 hover:text-white transition-all flex items-center gap-2 text-sm",children:[l.jsx(Wn,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>y("LESSONS_EXPLANATIONS"),className:"px-4 py-1.5 text-gray-200 font-bold rounded-full hover:bg-white/10 hover:text-white transition-all flex items-center gap-2 text-sm",children:[l.jsx(vc,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>y("CONTACT_TEACHER"),className:"px-4 py-1.5 text-gray-200 font-bold rounded-full hover:bg-white/10 hover:text-white transition-all flex items-center gap-2 text-sm",children:[l.jsx(Ld,{className:"w-4 h-4"}),""]})]})}),l.jsx("div",{className:"hidden md:flex items-center gap-3",children:g?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>y("PROFILE"),className:"flex items-center gap-2 text-white hover:bg-white/10 px-3 py-1.5 rounded-full transition-all font-bold border border-transparent hover:border-white/10",title:" ",children:[l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-white/10 flex items-center justify-center border border-white/20",children:g.avatar?l.jsx("img",{src:g.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):l.jsx(Kn,{className:"w-4 h-4"})}),l.jsx("span",{className:"text-sm font-bold max-w-[100px] truncate",children:g.displayName.split(" ")[0]})]}),g.role==="teacher"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>y("QUESTION_BANK"),className:"bg-white/10 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all border border-white/10",title:" ",children:l.jsx(Pa,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>y("TEACHER_DASHBOARD"),className:"bg-blue-600 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-blue-700 transition-all shadow-lg border border-blue-400/50",title:" ",children:l.jsx(Dd,{className:"w-5 h-5"})})]}),l.jsx("button",{onClick:n,className:"bg-red-500/10 text-red-300 w-10 h-10 rounded-full flex items-center justify-center hover:bg-red-600 hover:text-white transition-all border border-red-500/20",title:"",children:l.jsx(Vd,{className:"w-4 h-4"})})]}):l.jsxs("button",{onClick:r,className:"bg-gradient-to-r from-emerald-600 to-teal-700 text-white px-5 py-2 rounded-full font-bold hover:shadow-[0_0_15px_rgba(16,185,129,0.4)] transition-all shadow-md flex items-center gap-2 transform hover:scale-105 border border-emerald-500/30 text-sm",children:[l.jsx(d0,{className:"w-4 h-4"})," "]})}),l.jsx("div",{className:"md:hidden flex items-center gap-2",children:l.jsx("button",{onClick:()=>o(!a),className:"text-white hover:text-emerald-200 p-2 transition-colors",children:a?l.jsx(Ur,{className:"w-7 h-7"}):l.jsx(DT,{className:"w-7 h-7"})})})]})}),a&&l.jsx("div",{className:"md:hidden bg-gray-950/95 backdrop-blur-xl border-t border-white/10 shadow-xl absolute w-full z-50 animate-fade-in h-screen overflow-y-auto pb-20",children:l.jsxs("div",{className:"px-4 pt-2 pb-6 space-y-2",children:[g&&l.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-white/5 rounded-2xl border border-white/10 mt-4",children:[l.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center text-white font-bold text-lg overflow-hidden border border-white/20",children:g.avatar?l.jsx("img",{src:g.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):g.displayName.charAt(0)}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-bold text-white text-lg",children:g.displayName}),l.jsx("span",{className:"text-sm text-gray-400",children:g.email})]})]}),l.jsxs("button",{onClick:()=>y("HOME"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(Md,{className:"w-5 h-5 text-emerald-400"})," "]}),l.jsxs("button",{onClick:()=>y("QUIZZES"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(Wn,{className:"w-5 h-5 text-emerald-400"}),"  "]}),l.jsxs("button",{onClick:()=>y("LESSONS_EXPLANATIONS"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(vc,{className:"w-5 h-5 text-emerald-400"}),"  "]}),l.jsxs("button",{onClick:()=>y("CONTACT_TEACHER"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(Ld,{className:"w-5 h-5 text-emerald-400"}),"   "]}),l.jsxs("button",{onClick:()=>y("ABOUT_PLATFORM"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(yT,{className:"w-5 h-5 text-emerald-400"}),"  "]}),l.jsxs("button",{onClick:()=>y("SERVICES"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(Tv,{className:"w-5 h-5 text-emerald-400"})," "]}),g&&l.jsxs("button",{onClick:()=>y("PROFILE"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(QE,{className:"w-5 h-5 text-emerald-400"}),"  "]}),l.jsx("div",{className:"border-t border-white/10 my-2 pt-2"}),g?l.jsxs("div",{className:"space-y-3 mt-2",children:[g.role==="teacher"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>y("TEACHER_DASHBOARD"),className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold shadow-md flex items-center justify-center gap-2",children:[l.jsx(Dd,{className:"w-5 h-5"}),"  "]}),l.jsxs("button",{onClick:()=>y("QUESTION_BANK"),className:"w-full bg-gray-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[l.jsx(Pa,{className:"w-5 h-5"})," "]})]}),l.jsxs("button",{onClick:()=>{o(!1),n()},className:"w-full bg-red-900/20 text-red-400 border border-red-900/30 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-red-900/40",children:[l.jsx(Vd,{className:"w-5 h-5"})," "]})]}):l.jsxs("button",{onClick:()=>{o(!1),r()},className:"w-full mt-2 bg-gradient-to-r from-emerald-600 to-teal-700 text-white py-3 rounded-xl font-black text-lg shadow-lg flex items-center justify-center gap-2",children:[l.jsx(d0,{className:"w-6 h-6"})," "]})]})})]})},dI=({onStartQuiz:r,onLoginClick:e,onNavigate:n})=>{const{user:a}=gr(),[o,u]=F.useState(!1),f=()=>{u(!0),setTimeout(()=>u(!1),3e3)},g=()=>{a?n("QUIZZES"):f()},y=()=>{a?n("LESSONS"):f()},p=()=>{n("LESSONS_EXPLANATIONS")},_=()=>{n("CONTACT_TEACHER")};return l.jsxs("section",{className:"relative w-full min-h-[calc(100vh-80px)] flex items-center justify-center bg-transparent overflow-hidden animate-fade-in transition-colors duration-300",children:[o&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none px-4",children:l.jsxs("div",{className:"bg-red-900/90 border border-red-800 shadow-xl rounded-xl p-4 flex items-center gap-3 relative w-full max-w-md animate-fade-in-up pointer-events-auto backdrop-blur-md",children:[l.jsx("div",{className:"bg-red-800 p-2 rounded-full shrink-0",children:l.jsx(kd,{className:"w-6 h-6 text-red-200"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-bold text-white text-sm",children:"  "}),l.jsx("p",{className:"text-gray-300 text-xs mt-1",children:"        ."})]}),l.jsx("button",{onClick:()=>u(!1),className:"absolute top-2 left-2 text-gray-300 hover:text-white",children:l.jsx(Ur,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{u(!1),e()},className:"mr-auto bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors shrink-0",children:""})]})}),l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-0 w-full relative z-10 flex flex-col items-center text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-900/40 border border-emerald-800 px-4 py-2 rounded-full shadow-lg backdrop-blur-md",children:[l.jsx(ih,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),l.jsx("span",{className:"text-emerald-300 font-bold text-sm",children:"   "})]})}),l.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black text-white leading-[1.2] lg:leading-[1.15] mb-6 drop-shadow-lg",children:["  ",l.jsx("br",{}),l.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300 inline-block relative pb-2",children:[" ",l.jsx("svg",{className:"absolute w-full h-3 -bottom-1 right-0 text-emerald-900/50 -z-10",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:l.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]}),l.jsx("br",{}),"  "]}),l.jsxs("p",{className:"text-lg md:text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto mb-10",children:["         ",l.jsx("span",{className:"text-emerald-400 font-black text-2xl px-1 relative inline-block",children:"   "}),"."]}),l.jsxs("div",{className:"flex flex-col w-full max-w-md gap-3 justify-center",children:[l.jsxs("button",{onClick:g,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(Wn,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:" "})]}),l.jsx(ja,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),l.jsxs("button",{onClick:p,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(vc,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:" "})]}),l.jsx(ja,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),l.jsxs("button",{onClick:y,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(ql,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:" "})]}),l.jsx(ja,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),l.jsxs("button",{onClick:_,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(Ld,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:"  "})]}),l.jsx(ja,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),l.jsx("div",{className:"w-full mt-2",children:a?l.jsxs("button",{onClick:()=>n("PROFILE"),className:"w-full bg-gray-800/80 backdrop-blur-sm border-2 border-emerald-900 text-emerald-400 hover:bg-emerald-900/20 text-base font-bold py-3 px-5 rounded-xl transition-all flex items-center justify-center gap-3 shadow-sm hover:shadow-md",children:[l.jsx(Kn,{className:"w-5 h-5"})," "]}):l.jsxs("button",{onClick:e,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-orange-500/40 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-orange-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(d0,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:"  "})]}),l.jsx(ja,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]})})]})]})]})},t0=({className:r})=>l.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),n0=({className:r})=>l.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),hI=({className:r})=>l.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M12 2C6.48 2 2 6.03 2 11c0 2.87 1.56 5.47 4 7.1V22l3.57-1.96c.78.22 1.6.34 2.43.34 5.52 0 10-4.03 10-9s-4.48-9-10-9zm1.06 12.07l-2.6-2.78-5.07 2.78 5.58-5.93 2.62 2.78 5.05-2.78-5.58 5.93z"})}),yv=[{id:1,name:" ",text:"       .",platform:"whatsapp",time:"10:30 "},{id:2,name:" ",text:"       .",platform:"messenger",time:"11:15 "},{id:3,name:" ",text:"        .",platform:"telegram",time:"09:45 "},{id:4,name:" ",text:"      .",platform:"whatsapp",time:"02:20 "},{id:5,name:"  ",text:"        .",platform:"messenger",time:"04:10 "},{id:6,name:" ",text:"       .",platform:"telegram",time:"08:00 "},{id:7,name:" ",text:"        .",platform:"whatsapp",time:"01:30 "},{id:8,name:" ",text:"       .",platform:"messenger",time:"06:45 "},{id:9,name:" ",text:"       .",platform:"telegram",time:"03:15 "},{id:10,name:" ",text:"       .",platform:"whatsapp",time:"12:00 "},{id:11,name:" ",text:"        .",platform:"messenger",time:"07:30 "},{id:12,name:" ",text:"      .",platform:"telegram",time:"10:10 "},{id:13,name:" ",text:"         .",platform:"whatsapp",time:"05:50 "},{id:14,name:" ",text:"        .",platform:"messenger",time:"09:20 "},{id:15,name:" ",text:"        .",platform:"telegram",time:"08:45 "}],fI=({onNavigate:r})=>{const[e,n]=F.useState([0,1,2]),[a,o]=F.useState(!0);F.useEffect(()=>{const g=setInterval(()=>{o(!1),setTimeout(()=>{const y=[];for(;y.length<3;){const p=Math.floor(Math.random()*yv.length);y.includes(p)||y.push(p)}n(y),o(!0)},500)},5e3);return()=>clearInterval(g)},[]);const u=g=>{switch(g){case"whatsapp":return l.jsx(t0,{className:"w-5 h-5 text-white"});case"messenger":return l.jsx(hI,{className:"w-5 h-5 text-white"});case"telegram":return l.jsx(n0,{className:"w-5 h-5 text-white"});default:return null}},f=g=>{switch(g){case"whatsapp":return"bg-green-500";case"messenger":return"bg-blue-600";case"telegram":return"bg-sky-500";default:return"bg-gray-500"}};return l.jsx("section",{className:"py-20 relative overflow-hidden",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-black text-white mb-4 drop-shadow-md",children:" "}),l.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),l.jsx("p",{className:"mt-6 text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"                       ."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl p-8 rounded-[2.5rem] border border-white/10 hover:border-emerald-500/50 transition-all group flex flex-col h-full shadow-2xl",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[l.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-2xl overflow-hidden shrink-0 border-4 border-white/10 group-hover:border-emerald-500/30 group-hover:scale-105 transition-all",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"text-center sm:text-right flex-1",children:[l.jsx("h3",{className:"text-3xl font-black text-white mb-3",children:".   "}),l.jsx("p",{className:"text-emerald-400 font-bold text-xl mb-4 drop-shadow-sm",children:"  "}),l.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-300 font-medium bg-black/30 px-4 py-2 rounded-full inline-flex shadow-inner border border-white/5",children:[l.jsx(f0,{className:"w-5 h-5 text-emerald-500"}),"   - "]})]})]}),l.jsxs("div",{className:"mt-auto pt-6 border-t border-white/10",children:[l.jsx("p",{className:"text-sm font-bold text-gray-400 mb-4 text-center sm:text-right",children:" "}),l.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[l.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:l.jsx(u0,{className:"w-7 h-7"})}),l.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:l.jsx(t0,{className:"w-7 h-7"})}),l.jsx("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:l.jsx(n0,{className:"w-7 h-7"})})]})]})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl p-8 rounded-[2.5rem] border border-white/10 hover:border-blue-500/50 transition-all group flex flex-col h-full shadow-2xl",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[l.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-2xl overflow-hidden shrink-0 border-4 border-white/10 group-hover:border-blue-500/30 group-hover:scale-105 transition-all",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:".   ",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"text-center sm:text-right flex-1",children:[l.jsx("h3",{className:"text-3xl font-black text-white mb-3",children:".   "}),l.jsx("p",{className:"text-blue-400 font-bold text-xl mb-4 drop-shadow-sm",children:"  "}),l.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-300 font-medium bg-black/30 px-4 py-2 rounded-full inline-flex shadow-inner border border-white/5",children:[l.jsx(f0,{className:"w-5 h-5 text-blue-500"}),"   - "]})]})]}),l.jsxs("div",{className:"mt-auto pt-6 border-t border-white/10",children:[l.jsx("p",{className:"text-sm font-bold text-gray-400 mb-4 text-center sm:text-right",children:" "}),l.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[l.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:l.jsx(u0,{className:"w-7 h-7"})}),l.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:l.jsx(t0,{className:"w-7 h-7"})}),l.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:l.jsx(n0,{className:"w-7 h-7"})})]})]})]})]}),l.jsx("div",{className:"text-center mb-12",children:l.jsxs("button",{onClick:()=>r("TEACHER_CV"),className:"inline-flex items-center gap-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white text-xl font-bold px-10 py-5 rounded-full shadow-lg hover:shadow-[0_0_20px_rgba(16,185,129,0.4)] transition-all transform hover:-translate-y-1 border border-emerald-500/50",children:[l.jsx(Ri,{className:"w-6 h-6"}),"  ",l.jsx(Id,{className:"w-6 h-6"})]})}),l.jsxs("div",{className:"mb-0 pt-10 border-t border-white/10",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h2",{className:"text-3xl font-black text-white mb-4",children:"  "}),l.jsx("p",{className:"text-gray-400",children:"       "})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((g,y)=>{const p=yv[g];return l.jsx("div",{className:`transform transition-all duration-500 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 shadow-lg border border-white/5 relative h-full flex flex-col hover:border-white/20 hover:bg-white/10 transition-all",children:[l.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 bg-white/5 border-b border-r border-white/5 transform rotate-45"}),l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-900/50 flex items-center justify-center text-emerald-300 font-bold text-lg border border-emerald-500/20",children:p.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-white",children:p.name}),l.jsx("span",{className:"text-xs text-gray-500 font-medium",children:p.time})]})]}),l.jsx("div",{className:`w-8 h-8 rounded-full ${f(p.platform)} flex items-center justify-center shadow-md ring-2 ring-black/20`,children:u(p.platform)})]}),l.jsxs("p",{className:"text-gray-300 text-base leading-relaxed font-medium",children:['"',p.text,'"']})]})},`${p.id}-${y}`)})})]})]})})},mI=({isOpen:r,onClose:e})=>{const[n,a]=F.useState("ROLE_SELECTION"),[o,u]=F.useState(!1),[f,g]=F.useState(null),[y,p]=F.useState(null),{setTeacherSession:_}=gr(),[w,A]=F.useState(""),[M,U]=F.useState(""),[se,Y]=F.useState(""),[le,de]=F.useState(""),[ae,me]=F.useState(""),[re,$]=F.useState(""),[S,E]=F.useState(""),[j,k]=F.useState(""),[I,V]=F.useState(""),[C,Xe]=F.useState("male"),[tt,Q]=F.useState("");if(!r)return null;const ce=()=>{a("ROLE_SELECTION"),g(null),p(null),A(""),U(""),Y(""),de(""),me(""),$(""),E(""),k(""),V(""),Xe("male"),Q(""),u(!1)},xe=()=>{ce(),e()},Ee=we=>{we.preventDefault(),g(null),u(!0),setTimeout(()=>{w==="2001"?(_(".   ","yazan@etqan.edu"),p("   !"),setTimeout(()=>xe(),1500)):w==="2003"?(_(".   ","majd@etqan.edu"),p("    !"),setTimeout(()=>xe(),1500)):(g("   "),u(!1))},800)},Me=async we=>{we.preventDefault(),g(null),u(!0);try{await gj(bc,M.trim(),se),p("   !"),setTimeout(()=>xe(),1500)}catch(jt){console.error(jt),g("      "),u(!1)}},D=async we=>{we.preventDefault(),g(null),u(!0);try{const Nn=(await mj(bc,j.trim(),I)).user;await Hg(fr(St,"users",Nn.uid),{firstName:le,lastName:ae,age:re,grade:S,gender:C,avatar:"",profileBackground:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",email:j.trim(),role:"student",totalXP:0,quizzesCompleted:0,createdAt:new Date}),p("   !"),setTimeout(()=>xe(),1500)}catch(jt){console.error(jt),jt.code==="auth/email-already-in-use"?g("   "):jt.code==="auth/weak-password"?g("   "):g("    .    ."),u(!1)}},Z=async we=>{we.preventDefault(),g(null),u(!0);try{await fj(bc,tt.trim()),p("   !")}catch(jt){console.error(jt),jt.code==="auth/user-not-found"?g("    "):jt.code==="auth/invalid-email"?g("    "):jt.code==="auth/too-many-requests"?g("           ."):g("          .")}finally{u(!1)}},L=()=>{switch(n){case"TEACHER_LOGIN":return"    ...";case"STUDENT_LOGIN":return"  ...";case"STUDENT_SIGNUP":return"   ...";case"FORGOT_PASSWORD":return"   ...";default:return" ..."}},W=()=>l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800 dark:text-white",children:"   "}),l.jsxs("button",{onClick:()=>a("STUDENT_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all",children:[l.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900 p-3 rounded-full ml-4 group-hover:bg-emerald-200 dark:group-hover:bg-emerald-800 transition-colors",children:l.jsx(Kn,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),l.jsxs("div",{className:"text-right flex-1",children:[l.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"    "})]}),l.jsx(zm,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})]}),l.jsxs("button",{onClick:()=>a("TEACHER_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[l.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full ml-4 group-hover:bg-blue-200 dark:group-hover:bg-blue-800 transition-colors",children:l.jsx(La,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"text-right flex-1",children:[l.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"   "})]}),l.jsx(zm,{className:"w-5 h-5 text-gray-300 group-hover:text-blue-500"})]})]}),ge=()=>l.jsxs("form",{onSubmit:Ee,className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ti,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"     "})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),l.jsx("input",{type:"password",value:w,onChange:we=>A(we.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900 outline-none transition-all text-center text-lg tracking-widest bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0})]}),l.jsx("button",{type:"submit",className:"mt-4 w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 dark:shadow-none",children:""})]}),Ce=()=>l.jsxs("form",{onSubmit:Me,className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:" !   "})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"email",value:M,onChange:we=>U(we.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),l.jsx(h0,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"password",value:se,onChange:we=>Y(we.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0}),l.jsx(Ti,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]}),l.jsx("div",{className:"text-left",children:l.jsx("button",{type:"button",onClick:()=>a("FORGOT_PASSWORD"),className:"text-xs text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})})]}),l.jsx("button",{type:"submit",disabled:o,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["   "," ",l.jsx("button",{type:"button",onClick:()=>a("STUDENT_SIGNUP"),className:"text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})]})})]}),Pe=()=>l.jsxs("form",{onSubmit:D,className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"   "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"   "})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),l.jsx("input",{type:"text",value:le,onChange:we=>de(we.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),l.jsx("input",{type:"text",value:ae,onChange:we=>me(we.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),l.jsx("input",{type:"number",value:re,onChange:we=>$(we.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),l.jsxs("div",{className:"flex gap-2 h-[42px]",children:[l.jsx("button",{type:"button",onClick:()=>Xe("male"),className:`flex-1 rounded-lg text-sm font-bold transition-all border ${C==="male"?"bg-blue-100 dark:bg-blue-900 border-blue-500 text-blue-700 dark:text-blue-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""}),l.jsx("button",{type:"button",onClick:()=>Xe("female"),className:`flex-1 rounded-lg text-sm font-bold transition-all border ${C==="female"?"bg-pink-100 dark:bg-pink-900 border-pink-500 text-pink-700 dark:text-pink-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""})]})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 block mb-1",children:" :"}),l.jsx("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[5,6,7,8,9,10,11,12].map(we=>l.jsx("button",{type:"button",onClick:()=>E(we.toString()),className:`py-2 px-1 rounded-xl text-sm font-bold transition-all border ${S===we.toString()?"bg-emerald-600 text-white border-emerald-600 shadow-md scale-105":"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-100 dark:border-gray-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 hover:border-emerald-200"}`,children:we},we))}),l.jsx("button",{type:"button",onClick:()=>E("English Major - QOU"),className:`w-full py-2 rounded-xl text-sm font-bold transition-all border ${S==="English Major - QOU"?"bg-emerald-600 text-white border-emerald-600 shadow-md scale-[1.02]":"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-100 dark:border-gray-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 hover:border-emerald-200"}`,children:" (  /  )"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),l.jsx("input",{type:"email",value:j,onChange:we=>k(we.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),l.jsx("input",{type:"password",value:I,onChange:we=>V(we.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0,minLength:6})]}),l.jsx("button",{type:"submit",disabled:o,className:"mt-2 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),l.jsx("div",{className:"text-center mt-2",children:l.jsx("button",{type:"button",onClick:()=>a("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors",children:"    "})})]}),Be=()=>l.jsxs("form",{onSubmit:Z,className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:["     ",l.jsx("strong",{children:""}),"  "]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"email",value:tt,onChange:we=>Q(we.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),l.jsx(h0,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),l.jsx("button",{type:"submit",disabled:o,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:"  "}),l.jsx("div",{className:"text-center mt-4",children:l.jsxs("button",{type:"button",onClick:()=>a("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors flex items-center justify-center gap-1 mx-auto",children:[l.jsx(Id,{className:"w-4 h-4"}),"  "]})})]});return l.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:xe}),l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-md relative shadow-2xl overflow-hidden animate-fade-in-up p-6 min-h-[400px] flex flex-col border border-gray-100 dark:border-gray-800",children:[o&&!y&&l.jsxs("div",{className:"absolute inset-0 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm z-50 flex flex-col items-center justify-center animate-fade-in rounded-3xl",children:[l.jsxs("div",{className:"relative mb-6",children:[l.jsx("div",{className:"absolute inset-0 bg-emerald-200 dark:bg-emerald-900 rounded-full animate-ping opacity-30 duration-1000"}),l.jsx("div",{className:"relative w-20 h-20 bg-emerald-50 dark:bg-emerald-900/50 rounded-full flex items-center justify-center border border-emerald-100 dark:border-emerald-800 shadow-inner",children:l.jsx(sn,{className:"w-10 h-10 text-emerald-600 dark:text-emerald-400 animate-spin"})})]}),l.jsx("h4",{className:"text-lg font-black text-gray-800 dark:text-white mb-2 tracking-tight animate-pulse",children:L()}),l.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"   "})]}),l.jsx("button",{onClick:xe,disabled:o,className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 disabled:opacity-50",children:l.jsx(Ur,{className:"w-5 h-5"})}),n!=="ROLE_SELECTION"&&!y&&n!=="FORGOT_PASSWORD"&&l.jsxs("button",{onClick:()=>a("ROLE_SELECTION"),disabled:o,className:"absolute top-4 right-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 flex items-center gap-1 disabled:opacity-50",children:[l.jsx(zm,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-bold",children:""})]}),l.jsx("div",{className:"mt-6 flex-1 flex flex-col justify-center",children:y?l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center gap-4 animate-fade-in",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-2 animate-[bounce_1s_infinite]",children:l.jsx(Dc,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white leading-relaxed px-4 whitespace-pre-line",children:y}),n==="FORGOT_PASSWORD"&&l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-900 rounded-xl p-4 mx-4 text-sm text-yellow-800 dark:text-yellow-200 text-right shadow-sm mt-4",children:[l.jsxs("p",{className:"font-bold flex items-center gap-2 mb-2 text-yellow-900 dark:text-yellow-100",children:[l.jsx(kd,{className:"w-5 h-5"}),"  :"]}),l.jsxs("p",{className:"leading-relaxed",children:["         ",l.jsx("strong",{children:"    (Spam)"}),"  (Junk)."]})]}),l.jsx("button",{onClick:()=>{n==="FORGOT_PASSWORD"?(a("STUDENT_LOGIN"),p(null)):xe()},className:"mt-8 bg-emerald-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none transform hover:scale-105 duration-200",children:n==="FORGOT_PASSWORD"?"  ":""})]}):l.jsxs(l.Fragment,{children:[n==="ROLE_SELECTION"&&W(),n==="TEACHER_LOGIN"&&ge(),n==="STUDENT_LOGIN"&&Ce(),n==="STUDENT_SIGNUP"&&Pe(),n==="FORGOT_PASSWORD"&&Be(),f&&l.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 rounded-lg flex items-start gap-2 text-red-600 dark:text-red-400 text-sm animate-fade-in",children:[l.jsx(kd,{className:"w-5 h-5 shrink-0 mt-0.5"}),l.jsx("span",{className:"font-medium",children:f})]})]})})]})]})},gI=()=>{const{user:r}=gr(),[e,n]=F.useState(!1),[a,o]=F.useState(null),[u,f]=F.useState("MCQ"),[g,y]=F.useState({title:"",subject:"English",grade:"",category:"Language",description:"",duration:"30",questionDuration:""}),[p,_]=F.useState([]),[w,A]=F.useState(null),[M,U]=F.useState({question:"",options:["","","",""],correctAnswer:0,explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"}),[se,Y]=F.useState(""),[le,de]=F.useState(!1),[ae,me]=F.useState([]),[re,$]=F.useState(!1),[S,E]=F.useState(""),j=(L,W)=>{U(ge=>({...ge,[L]:W}))},k=(L,W)=>{const ge=[...M.options];ge[L]=W,U(Ce=>({...Ce,options:ge}))},I=()=>{if(!M.question.trim()){alert("   ");return}if((u==="MCQ"||u==="READING")&&M.options.some(ge=>!ge.trim())){alert("   ");return}if(u==="READING"&&!M.passageContent.trim()){alert("   ");return}if(u==="REORDER"&&!se.trim()){alert("    ");return}let L=[];if(u==="TF")L=["",""];else if(u==="REORDER"){if(L=se.split(" ").filter(ge=>ge.trim().length>0),L.length<2){alert("       ");return}}else L=M.options;const W={id:w||Date.now(),question:M.question,options:L,correctAnswer:M.correctAnswer,explanation:M.explanation||"",type:u};u==="READING"&&(W.passageContent=M.passageContent,W.generalInstruction=M.generalInstruction,W.passageFontSize=M.passageFontSize),w?(_(p.map(ge=>ge.id===w?W:ge)),A(null)):_([...p,W]),V()},V=()=>{U({question:"",options:["","","",""],correctAnswer:0,explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"}),Y(""),A(null),f("MCQ")},C=L=>{const W=p.find(ge=>ge.id===L);W&&(A(L),f(W.type||"MCQ"),W.type==="REORDER"?(Y(W.options.join(" ")),U({question:W.question,options:["","","",""],correctAnswer:W.correctAnswer,explanation:W.explanation||"",passageContent:W.passageContent||"",generalInstruction:W.generalInstruction||"",passageFontSize:W.passageFontSize||"md"})):(U({question:W.question,options:W.type==="TF"?["","","",""]:W.options.length>=4?W.options:[...W.options,...Array(4-W.options.length).fill("")],correctAnswer:W.correctAnswer,explanation:W.explanation||"",passageContent:W.passageContent||"",generalInstruction:W.generalInstruction||"",passageFontSize:W.passageFontSize||"md"}),Y("")),window.scrollTo({top:0,behavior:"smooth"}))},Xe=()=>{V()},tt=L=>{window.confirm("      ")&&(_(p.filter(W=>W.id!==L)),w===L&&V())},Q=async()=>{if(!g.title||!g.grade){alert("     ");return}if(p.length===0){alert("     ");return}n(!0);try{const L={title:g.title,subject:g.subject,grade:g.grade,category:g.category,questions:p,createdBy:(r==null?void 0:r.uid)||"teacher",teacherName:(r==null?void 0:r.displayName)||"",description:g.description||"",duration:parseInt(g.duration)||30,questionDuration:g.questionDuration?parseInt(g.questionDuration):void 0};if(a){const W=fr(St,"quizzes",a);await Fg(W,{...L,updatedAt:Kl()}),alert("    !")}else await kh(_n(St,"quizzes"),{...L,createdAt:Kl()}),alert("    !");y({title:"",subject:"English",grade:"",category:"Language",description:"",duration:"30",questionDuration:""}),_([]),o(null),V()}catch(L){console.error("Error saving quiz:",L),alert("   ")}finally{n(!1)}},ce=()=>{window.confirm("        .")&&(y({title:"",subject:"English",grade:"",category:"Language",description:"",duration:"30",questionDuration:""}),_([]),o(null),V())},xe=async()=>{$(!0);try{const L=Cs(_n(St,"quizzes"),l2("createdAt","desc")),W=await mr(L);me(W.docs.map(ge=>({id:ge.id,...ge.data()})))}catch(L){console.error(L)}$(!1)},Ee=()=>{xe(),de(!0)},Me=L=>{p.length>0&&!window.confirm("         .")||(o(L.id||null),y({title:L.title,subject:L.subject,grade:L.grade,category:L.category||"Language",description:L.description||"",duration:L.duration?L.duration.toString():"30",questionDuration:L.questionDuration?L.questionDuration.toString():""}),_(L.questions),de(!1),V(),window.scrollTo({top:0,behavior:"smooth"}))},D=ae.filter(L=>L.title.toLowerCase().includes(S.toLowerCase())||L.grade.includes(S)),Z=[{value:"sm",label:""},{value:"md",label:""},{value:"lg",label:""},{value:"xl",label:" "}];return l.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in transition-colors duration-300 text-gray-100",children:[l.jsx("div",{className:"bg-gray-950 pt-10 pb-28 px-4 border-b border-white/5 shadow-sm relative overflow-hidden",children:l.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"p-4 bg-blue-900/30 rounded-3xl shadow-inner border border-blue-800",children:l.jsx(Cb,{className:"w-10 h-10 text-blue-400"})}),l.jsxs("div",{className:"text-center md:text-right",children:[l.jsx("h1",{className:"text-3xl md:text-5xl font-black tracking-tight text-white mb-2",children:" "}),l.jsxs("p",{className:"text-blue-400 font-bold text-lg",children:["  ",r==null?void 0:r.displayName]})]})]}),l.jsxs("button",{onClick:Ee,className:"bg-emerald-600 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-emerald-700 transition-colors shadow-lg",children:[l.jsx(o0,{className:"w-5 h-5"}),"   "]})]})})}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-16 relative z-20",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsxs("div",{className:`bg-gray-900 rounded-[2rem] shadow-xl border p-6 md:p-8 transition-all ${a?"border-blue-500 ring-2 ring-blue-900":"border-gray-700"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-8 border-b border-gray-700 pb-4",children:[l.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-3",children:[l.jsx("div",{className:"bg-blue-900/30 p-2 rounded-lg",children:l.jsx(Wn,{className:"w-5 h-5 text-blue-400"})}),a?"  ":"  "]}),a&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-blue-900 text-blue-300 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:" "}),l.jsx("button",{onClick:ce,className:"text-red-500 hover:bg-red-900/20 px-2 rounded",children:l.jsx(Ur,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),l.jsx("input",{type:"text",value:g.title,onChange:L=>y({...g,title:L.target.value}),placeholder:":    - ",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 transition-all outline-none font-bold text-white placeholder-gray-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Q0,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),l.jsxs("select",{value:g.subject,onChange:L=>y({...g,subject:L.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"English",children:"English"}),l.jsx("option",{value:"Science",children:""}),l.jsx("option",{value:"Math",children:""})]})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"    "}),l.jsxs("div",{className:"relative",children:[l.jsx(La,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),l.jsxs("select",{value:g.grade,onChange:L=>y({...g,grade:L.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"",className:"text-gray-400",children:" "}),l.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(L=>l.jsxs("option",{value:L.toString(),children:[" ",L]},L))}),l.jsx("optgroup",{label:" ",children:l.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx(Ii,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"col-span-2 md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"  /  (Category)"}),l.jsxs("div",{className:"relative",children:[l.jsx(Dv,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),l.jsxs("select",{value:g.category,onChange:L=>y({...g,category:L.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"Language",children:"Language ()"}),l.jsx("option",{value:"Reading",children:"Reading ()"}),l.jsx("option",{value:"Writing",children:"Writing ()"}),l.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"}),l.jsx("option",{value:"General",children:"  (General Quiz)"})]}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx(Ii,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(G0,{className:"w-4 h-4 text-blue-600"}),"  ()"]}),l.jsx("input",{type:"number",min:"1",value:g.duration,onChange:L=>y({...g,duration:L.target.value}),placeholder:": 30",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 transition-all outline-none font-bold text-white"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(Ov,{className:"w-4 h-4 text-blue-600"}),"   ()"]}),l.jsx("input",{type:"number",min:"5",value:g.questionDuration,onChange:L=>y({...g,questionDuration:L.target.value}),placeholder:"   ",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 transition-all outline-none font-bold text-white"}),l.jsx("p",{className:"text-[10px] text-gray-500 mt-1 mr-1",children:":         ."})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"  ()"}),l.jsx("textarea",{value:g.description,onChange:L=>y({...g,description:L.target.value}),className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-medium text-white h-24 resize-none placeholder-gray-500",placeholder:"    ..."})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-xl border border-gray-700 p-6 md:p-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 border-b border-gray-700 pb-4",children:[l.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-3",children:[l.jsx("div",{className:"bg-blue-900/30 p-2 rounded-lg",children:l.jsx(Dd,{className:"w-5 h-5 text-blue-400"})}),w?" ":" "]}),l.jsxs("div",{className:"flex flex-wrap gap-2 bg-gray-800 p-1.5 rounded-xl self-start",children:[l.jsx("button",{onClick:()=>f("MCQ"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${u==="MCQ"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:"  "}),l.jsx("button",{onClick:()=>f("TF"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${u==="TF"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:"  "}),l.jsxs("button",{onClick:()=>f("READING"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${u==="READING"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:[l.jsx(ql,{className:"w-4 h-4"})," "]}),l.jsxs("button",{onClick:()=>f("REORDER"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${u==="REORDER"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:[l.jsx(Cv,{className:"w-4 h-4"})," "]})]})]}),l.jsxs("div",{className:"space-y-6",children:[u==="READING"&&l.jsxs("div",{className:"space-y-4 bg-blue-900/20 p-5 rounded-2xl border border-blue-800 mb-6",children:[l.jsxs("h4",{className:"font-bold text-blue-300 flex items-center gap-2 mb-2",children:[l.jsx(f4,{className:"w-5 h-5"})," "]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-blue-300 mb-1",children:"  (General Instruction)"}),l.jsx("input",{type:"text",value:M.generalInstruction,onChange:L=>j("generalInstruction",L.target.value),placeholder:": Read the following text then answer the question",className:"w-full px-4 py-3 rounded-xl border border-blue-700 focus:border-blue-500 outline-none bg-gray-800 text-sm font-medium"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-blue-300 mb-1",children:"  (Passage)"}),l.jsx("textarea",{value:M.passageContent,onChange:L=>j("passageContent",L.target.value),placeholder:"   ... ( Enter   )",className:"w-full px-4 py-3 rounded-xl border border-blue-700 focus:border-blue-500 outline-none bg-gray-800 text-sm font-medium h-40 resize-y whitespace-pre-wrap",style:{direction:"ltr",textAlign:"left"}}),l.jsx("p",{className:"text-[10px] text-blue-500 mt-1",children:"* :        ."})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-blue-300 mb-2 flex items-center gap-2",children:[l.jsx(w4,{className:"w-4 h-4"}),"   (  )"]}),l.jsx("div",{className:"flex gap-3",children:Z.map(L=>l.jsx("button",{onClick:()=>j("passageFontSize",L.value),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all border ${M.passageFontSize===L.value?"bg-blue-600 text-white border-blue-600":"bg-gray-800 text-gray-300 border-gray-600 hover:border-blue-400"}`,children:L.label},L.value))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:u==="READING"?"  ":u==="REORDER"?"/ ":" "}),l.jsxs("div",{className:"relative",children:[l.jsx(ki,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4"}),l.jsx("input",{type:"text",value:M.question,onChange:L=>j("question",L.target.value),placeholder:u==="REORDER"?": Rearrange the following sentence":"   ...",className:"w-full px-5 py-4 pr-12 rounded-2xl border-2 border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none font-bold text-lg text-white bg-gray-800 placeholder-gray-400 transition-all"})]})]}),u==="MCQ"||u==="READING"?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.options.map((L,W)=>l.jsxs("div",{className:`relative group transition-all duration-300 ${M.correctAnswer===W?"scale-[1.02]":""}`,children:[l.jsxs("label",{className:"flex items-center justify-between mb-2 px-1",children:[l.jsxs("span",{className:`text-xs font-bold ${M.correctAnswer===W?"text-blue-400":"text-gray-400"}`,children:[" ",W+1]}),l.jsx("button",{onClick:()=>j("correctAnswer",W),className:`text-[10px] px-2 py-1 rounded-md transition-colors font-bold ${M.correctAnswer===W?"bg-blue-900/30 text-blue-300":"bg-gray-700 text-gray-500 hover:bg-gray-600"}`,children:M.correctAnswer===W?" ":" "})]}),l.jsx("input",{type:"text",value:L,onChange:ge=>k(W,ge.target.value),placeholder:`  ${W+1}`,className:`w-full px-4 py-3 rounded-xl border-2 outline-none transition-all font-medium ${W===M.correctAnswer?"border-blue-500 bg-blue-900/20 text-white shadow-sm ring-2 ring-blue-900/30":"border-gray-600 bg-gray-700 focus:border-blue-400 text-gray-200"}`})]},W))}):u==="REORDER"?l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-1",children:"  (   )"}),l.jsx("input",{type:"text",dir:"ltr",value:se,onChange:L=>Y(L.target.value),placeholder:"e.g. The sun rises in the east",className:"w-full px-5 py-4 rounded-2xl border-2 border-emerald-800 focus:border-emerald-500 outline-none text-lg font-medium text-white bg-emerald-900/10 text-left"}),se&&l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:se.split(" ").filter(L=>L.trim()).map((L,W)=>l.jsx("span",{className:"bg-gray-700 px-3 py-1 rounded-lg text-sm font-bold text-gray-300",children:L},W))}),l.jsx("p",{className:"text-xs text-gray-500",children:"      ."})]}):l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:()=>j("correctAnswer",0),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${M.correctAnswer===0?"border-blue-500 bg-blue-900/30 text-blue-400 shadow-md":"border-gray-600 bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[M.correctAnswer===0&&l.jsx(rr,{className:"w-6 h-6"})," (True)"]}),l.jsxs("button",{onClick:()=>j("correctAnswer",1),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${M.correctAnswer===1?"border-red-500 bg-red-900/30 text-red-400 shadow-md":"border-gray-600 bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[M.correctAnswer===1&&l.jsx(rr,{className:"w-6 h-6"})," (False)"]})]}),l.jsxs("div",{className:"bg-yellow-900/10 p-4 rounded-2xl border border-yellow-900/30",children:[l.jsxs("label",{className:"block text-sm font-bold text-yellow-500 mb-2 flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"  ()"]}),l.jsx("textarea",{value:M.explanation,onChange:L=>j("explanation",L.target.value),placeholder:"        ...",className:"w-full px-4 py-3 rounded-xl border border-yellow-800/50 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-900/30 outline-none text-gray-200 bg-gray-800 h-20 resize-none placeholder-gray-400 text-sm"})]}),l.jsxs("div",{className:"flex gap-3",children:[w&&l.jsxs("button",{onClick:Xe,className:"flex-1 bg-gray-700 text-gray-300 py-4 rounded-2xl font-bold hover:bg-gray-600 transition-all flex items-center justify-center gap-2",children:[l.jsx(Iv,{className:"w-5 h-5"})," "]}),l.jsx("button",{onClick:I,className:`flex-1 bg-gray-800 text-white py-4 rounded-2xl font-bold hover:bg-gray-900 transition-all shadow-none flex items-center justify-center gap-2 transform hover:-translate-y-1 border border-gray-700 ${w?"bg-blue-600 hover:bg-blue-700 border-blue-600":""}`,children:w?l.jsxs(l.Fragment,{children:[l.jsx(Di,{className:"w-5 h-5"})," "]}):l.jsxs(l.Fragment,{children:[l.jsx(Dd,{className:"w-5 h-5"}),"  "]})})]})]})]})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"sticky top-24 space-y-6",children:[l.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-xl border border-gray-700 p-6",children:[l.jsxs("h3",{className:"text-lg font-black text-white mb-6 flex items-center gap-2",children:[l.jsx(Di,{className:"w-5 h-5 text-blue-400"})," "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-5 bg-gray-800 rounded-2xl border border-gray-600 flex flex-col gap-3",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400 font-medium",children:" "}),l.jsx("span",{className:"font-black text-white bg-gray-600 px-3 py-0.5 rounded-md shadow-sm",children:p.length})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400 font-medium",children:" "}),l.jsx("span",{className:"text-blue-400 font-bold bg-blue-900/30 px-2 py-0.5 rounded-md",children:g.category})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400 font-medium",children:" "}),l.jsxs("span",{className:"font-bold text-white",children:[g.duration," "]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400 font-medium",children:" "}),a?l.jsx("span",{className:"text-emerald-400 font-bold bg-emerald-900/30 px-2 py-0.5 rounded-md",children:""}):l.jsx("span",{className:"text-blue-400 font-bold bg-blue-900/30 px-2 py-0.5 rounded-md",children:""})]})]}),l.jsxs("button",{onClick:Q,disabled:e||p.length===0,className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all flex items-center justify-center gap-2 transform ${e||p.length===0?"bg-gray-600 cursor-not-allowed shadow-none":"bg-blue-600 hover:bg-blue-700 shadow-none hover:-translate-y-1"}`,children:[e?l.jsx(sn,{className:"w-5 h-5 animate-spin"}):a?l.jsx(Rv,{className:"w-5 h-5"}):l.jsx(rr,{className:"w-5 h-5"}),e?" ...":a?" ":"  "]})]})]}),p.length>0&&l.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-xl border border-gray-700 p-6 animate-fade-in-up",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"bg-blue-900/30 p-1.5 rounded-lg",children:l.jsx(Cb,{className:"w-4 h-4 text-blue-400"})}),"  (",p.length,")"]}),l.jsx("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 custom-scrollbar",children:p.map((L,W)=>l.jsxs("div",{className:`p-3 rounded-xl border transition-all group relative ${w===L.id?"bg-blue-900/20 border-blue-500 ring-1 ring-blue-500":"bg-gray-700/50 border-gray-600 hover:border-blue-300"}`,children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"bg-gray-600 text-gray-300 font-bold w-6 h-6 flex items-center justify-center rounded-lg text-xs shrink-0 shadow-sm",children:W+1}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-bold text-gray-200 text-sm line-clamp-2 mb-1.5",children:L.question}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:"text-[10px] bg-gray-600 text-gray-300 px-2 py-0.5 rounded border border-gray-500",children:L.type==="REORDER"?"":L.options.length===2?"/":L.passageContent?"":""})})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-600/50 justify-end",children:[l.jsxs("button",{onClick:()=>C(L.id),className:"flex items-center gap-1 text-xs font-bold text-blue-400 hover:bg-blue-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[l.jsx(m0,{className:"w-3.5 h-3.5"}),""]}),l.jsx("div",{className:"w-px h-3 bg-gray-600"}),l.jsxs("button",{onClick:()=>tt(L.id),className:"flex items-center gap-1 text-xs font-bold text-red-500 hover:bg-red-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[l.jsx(g0,{className:"w-3.5 h-3.5"}),""]})]})]},L.id))})]})]})})]})}),le&&l.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-3xl max-h-[85vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden",children:[l.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-6 flex justify-between items-center shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-emerald-900/30 p-2 rounded-xl",children:l.jsx(o0,{className:"w-6 h-6 text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-black text-white",children:" "}),l.jsx("p",{className:"text-sm text-gray-400",children:"    "})]})]}),l.jsx("button",{onClick:()=>de(!1),className:"p-2 hover:bg-gray-700 rounded-full transition-colors text-gray-400",children:l.jsx(Ur,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-4 bg-gray-800 border-b border-gray-700",children:l.jsxs("div",{className:"relative",children:[l.jsx(za,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-4 pointer-events-none"}),l.jsx("input",{type:"text",placeholder:"   ...",value:S,onChange:L=>E(L.target.value),className:"w-full px-12 py-3 rounded-xl border border-gray-700 focus:border-emerald-500 outline-none bg-gray-700 font-bold text-white transition-all"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-900 custom-scrollbar",children:re?l.jsx("div",{className:"flex justify-center py-10",children:l.jsx(sn,{className:"w-8 h-8 animate-spin text-emerald-600"})}):D.length===0?l.jsx("div",{className:"text-center py-10 text-gray-400",children:"   "}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:D.map(L=>l.jsxs("div",{onClick:()=>Me(L),className:"bg-gray-800 p-4 rounded-2xl border border-gray-700 cursor-pointer hover:border-emerald-500 hover:shadow-lg transition-all group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("span",{className:"bg-blue-900/30 text-blue-300 text-[10px] font-bold px-2 py-0.5 rounded-md",children:L.subject}),l.jsx("span",{className:"text-xs text-gray-400",children:L.grade})]}),l.jsx("h4",{className:"font-bold text-white mb-2 line-clamp-1 group-hover:text-emerald-400 transition-colors",children:L.title}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[l.jsx(ki,{className:"w-3 h-3"}),L.questions.length," "]})]},L.id))})})]})})]})},s0=[{minLevel:1,title:" ",color:"bg-gray-100 text-gray-600 border-gray-200",icon:$0},{minLevel:5,title:" ",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:Wn},{minLevel:10,title:" ",color:"bg-blue-100 text-blue-700 border-blue-200",icon:za},{minLevel:15,title:" ",color:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:Ri},{minLevel:20,title:" ",color:"bg-purple-100 text-purple-700 border-purple-200",icon:K0},{minLevel:30,title:" ",color:"bg-amber-100 text-amber-700 border-amber-200",icon:Yl}],pI=[{id:"first_step",title:" ",desc:"   ",icon:$0,color:"text-emerald-500",bg:"bg-emerald-500/10",condition:r=>r.quizzesCompleted>=1},{id:"perfect_score",title:" ",desc:"  100%  ",icon:ih,color:"text-yellow-500",bg:"bg-yellow-500/10",condition:r=>r.hasPerfectScore},{id:"dedicated",title:" ",desc:" 5 ",icon:Wn,color:"text-blue-500",bg:"bg-blue-500/10",condition:r=>r.quizzesCompleted>=5},{id:"expert",title:" ",desc:" 10 ",icon:Ml,color:"text-purple-500",bg:"bg-purple-500/10",condition:r=>r.quizzesCompleted>=10},{id:"high_level",title:" ",desc:"  5",icon:K0,color:"text-orange-500",bg:"bg-orange-500/10",condition:r=>r.level>=5},{id:"master",title:" ",desc:"  10",icon:Yl,color:"text-red-500",bg:"bg-red-500/10",condition:r=>r.level>=10}],yI=[{url:"https://lh3.googleusercontent.com/d/1ufUwP7M3wdxWBW60s2xdpZC6W7jfpXv4",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1AqS4xhkK53MwCO-LFRdmtYBQsYSH6vz1",minLevel:1},{url:"https://lh3.googleusercontent.com/d/198SBde0OI07puyVx53mi9MpZ7F-iKltI",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1E--pczIn4ZCSWpWYhKZutLX8lfhtmCrp",minLevel:5},{url:"https://lh3.googleusercontent.com/d/1ep_ggXFs0rCkGJ212WkY5DuRbLNkyLyr",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1siamCZMGjbXH6L9bop_dN1UPSSwfyIwc",minLevel:15},{url:"https://lh3.googleusercontent.com/d/1seg3JDYcNsDBtTY4gU9N5empajSAT_-E",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1QnacjkYXRr-N4yhmt44LubRxbRnzNgqH",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1h5uzg3mZaeaozqEkzwItA14xqDq7kbMb",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1qKn7YfQr7VaDPXB8EjUvlCW-qt3v5E0u",minLevel:15}],r0=[{id:"nature_1",url:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",name:" ",minLevel:1},{id:"nature_2",url:"https://lh3.googleusercontent.com/d/1tBjHedpcXQiEjXro--zG3iWDokgrDbgZ",name:" ",minLevel:5},{id:"nature_3",url:"https://lh3.googleusercontent.com/d/1Chp7z63_XfLlt4ZC0MRmKwNsSTlCWwOa",name:" ",minLevel:10},{id:"nature_4",url:"https://lh3.googleusercontent.com/d/12RHK_FCMJt8D24AB3UV7nHxbD50EF4MX",name:" ",minLevel:15},{id:"nature_5",url:"https://lh3.googleusercontent.com/d/1We4c8009ObQB9ZDrpQ8ssUuos4V_4b9w",name:" ",minLevel:20}],xI=({options:r,value:e,onChange:n,placeholder:a,disabled:o})=>{const[u,f]=F.useState(!1),g=F.useRef(null);F.useEffect(()=>{const p=_=>{g.current&&!g.current.contains(_.target)&&f(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const y=r.find(p=>p.value===e&&!p.isHeader);return l.jsxs("div",{className:`relative ${u?"z-50":"z-0"}`,ref:g,children:[l.jsxs("button",{type:"button",onClick:()=>!o&&f(!u),className:`w-full px-4 py-3 rounded-xl border flex justify-between items-center outline-none transition-all font-bold text-sm
            ${o?"bg-gray-950 border-gray-800 text-gray-600 cursor-not-allowed":u?"bg-gray-950 border-blue-500 ring-2 ring-blue-900 text-white shadow-lg":"bg-gray-950 border-gray-800 hover:border-blue-900 text-white shadow-inner"}
         `,children:[l.jsx("span",{className:`truncate ${y?"":"text-gray-600"}`,children:y?y.label:a}),l.jsx(Ii,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ${u?"rotate-180 text-blue-500":""}`})]}),u&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-900 border border-gray-700 rounded-xl shadow-xl max-h-60 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-50",children:r.map((p,_)=>{if(p.isHeader)return l.jsx("div",{className:"px-4 py-2 text-[10px] font-black text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-800/50 rounded-lg mb-1",children:p.label},_);const w=p.value===e;return l.jsxs("div",{onClick:()=>{n(p.value),f(!1)},className:`px-4 py-2.5 rounded-lg font-bold text-xs cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${w?"bg-blue-900/30 text-blue-400":"text-gray-300 hover:bg-gray-800"}
                   `,children:[p.label,w&&l.jsx(Dc,{className:"w-3 h-3"})]},_)})})]})},bI=({data:r})=>{if(!r||r.length===0)return l.jsx("div",{className:"h-40 flex items-center justify-center text-gray-500 bg-gray-800 rounded-xl border border-dashed border-gray-700",children:"     "});const e=100,n=300,a=100,o=r.map((f,g)=>{const y=g/(r.length-1||1)*n,p=e-f/a*e;return`${y},${p}`}).join(" "),u=`${o} ${n},${e} 0,${e}`;return l.jsxs("div",{className:"w-full h-48 bg-gray-800 rounded-xl p-4 border border-gray-700 relative overflow-hidden",children:[l.jsxs("svg",{viewBox:`0 0 ${n} ${e}`,className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:[l.jsx("line",{x1:"0",y1:"0",x2:n,y2:"0",stroke:"currentColor",className:"text-gray-700",strokeWidth:"1"}),l.jsx("line",{x1:"0",y1:e/2,x2:n,y2:e/2,stroke:"currentColor",className:"text-gray-700",strokeWidth:"1"}),l.jsx("line",{x1:"0",y1:e,x2:n,y2:e,stroke:"currentColor",className:"text-gray-700",strokeWidth:"1"}),l.jsx("defs",{children:l.jsxs("linearGradient",{id:"chartGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"rgba(16, 185, 129, 0.2)"}),l.jsx("stop",{offset:"100%",stopColor:"rgba(16, 185, 129, 0)"})]})}),l.jsx("path",{d:`M0,${e} ${u}`,fill:"url(#chartGradient)"}),l.jsx("polyline",{points:o,fill:"none",stroke:"#10b981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.map((f,g)=>{const y=g/(r.length-1||1)*n,p=e-f/a*e;return l.jsx("circle",{cx:y,cy:p,r:"3.5",fill:"white",stroke:"#10b981",strokeWidth:"2",className:"fill-gray-800"},g)})]}),l.jsx("div",{className:"absolute top-2 right-2 text-[10px] font-bold text-gray-500 bg-gray-700 px-2 py-1 rounded-full",children:" "})]})},vI=({onNavigate:r})=>{const{user:e,updateUserProfile:n}=gr(),[a,o]=F.useState(!1),[u,f]=F.useState(null),[g,y]=F.useState(!1),[p,_]=F.useState(!1),[w,A]=F.useState((e==null?void 0:e.avatar)||""),[M,U]=F.useState((e==null?void 0:e.profileBackground)||r0[0].url),[se,Y]=F.useState([]),[le,de]=F.useState(!0),[ae,me]=F.useState(0),[re,$]=F.useState(1),[S,E]=F.useState(s0[0]),[j,k]=F.useState({quizzesCompleted:0,hasPerfectScore:!1,level:1}),[I,V]=F.useState([]),[C,Xe]=F.useState(""),[tt,Q]=F.useState(!1),[ce,xe]=F.useState("50"),[Ee,Me]=F.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",age:(e==null?void 0:e.age)||"",grade:(e==null?void 0:e.grade)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",school:(e==null?void 0:e.school)||"",gender:(e==null?void 0:e.gender)||"male"});F.useEffect(()=>{e&&(Me(oe=>({...oe,firstName:e.firstName||oe.firstName,lastName:e.lastName||oe.lastName,gender:e.gender||oe.gender,grade:e.grade||oe.grade})),e.avatar&&A(e.avatar),e.profileBackground&&U(e.profileBackground))},[e]),F.useEffect(()=>{(async()=>{if(e){if(e.role==="teacher"){de(!1),Q(!0);try{const De=Cs(_n(St,"users"),Rs("role","==","student")),Nt=(await mr(De)).docs.map(Ln=>({id:Ln.id,...Ln.data()}));V(Nt)}catch(De){console.error("Error fetching students:",De)}finally{Q(!1)}return}try{const De=Cs(_n(St,"quiz_results"),Rs("userId","==",e.uid)),ke=await mr(De),Nt=[];let Ln=0,Tn=!1;ke.forEach(Ct=>{const Pt=Ct.data();Nt.push({id:Ct.id,...Ct.data()});let ps=10+Pt.percentage*2;Pt.passed&&(ps+=50),Pt.percentage===100&&(ps+=100,Tn=!0),Ln+=Math.round(ps)}),Nt.sort((Ct,Pt)=>{var pr,ie;const ps=((pr=Ct.createdAt)==null?void 0:pr.seconds)||0,Kr=((ie=Pt.createdAt)==null?void 0:ie.seconds)||0;return ps-Kr}),Y(Nt);let xt=Ln;try{const Ct=fr(St,"users",e.uid),Pt=await u2(Ct);Pt.exists()&&Pt.data().totalXP!==void 0?xt=Pt.data().totalXP:e.totalXP!==void 0&&(xt=e.totalXP)}catch{e.totalXP!==void 0&&(xt=e.totalXP)}me(xt);const Pn=Math.floor(xt/500)+1;$(Pn);const Ls=[...s0].reverse().find(Ct=>Pn>=Ct.minLevel)||s0[0];E(Ls),k({quizzesCompleted:Nt.length,hasPerfectScore:Tn,level:Pn})}catch(De){console.error(De)}finally{de(!1)}}})()},[e]);const D=async oe=>{oe.preventDefault(),o(!0),f(null);try{await n({...Ee}),f("   !"),setTimeout(()=>f(null),3e3)}catch(De){console.error(De),alert("   ")}finally{o(!1)}},Z=async()=>{o(!0);try{await n({avatar:w}),y(!1)}catch(oe){console.error(oe)}finally{o(!1)}},L=async()=>{o(!0);try{await n({profileBackground:M}),_(!1)}catch(oe){console.error(oe)}finally{o(!1)}},W=async(oe,De)=>{if(!oe)return;const ke=parseInt(ce);if(isNaN(ke)||ke<=0){alert("    ");return}if(window.confirm(`     ${ke}   ${De}`)){o(!0);try{const Nt=fr(St,"users",oe);await Fg(Nt,{totalXP:B0(ke)}),V(Ln=>Ln.map(Tn=>Tn.id===oe?{...Tn,totalXP:(Tn.totalXP||0)+ke}:Tn)),alert(`  ${ke} XP  ${De} !`)}catch(Nt){console.error(Nt),alert("    ")}finally{o(!1)}}},ge=I.filter(oe=>(oe.displayName||"").toLowerCase().includes(C.toLowerCase())||(oe.email||"").toLowerCase().includes(C.toLowerCase())),Ce=oe=>oe?oe.startsWith("http")?{backgroundImage:`url(${oe})`,backgroundSize:"cover",backgroundPosition:"center"}:{}:{backgroundImage:`url(${r0[0].url})`,backgroundSize:"cover",backgroundPosition:"center"},Pe=oe=>!oe||oe.startsWith("http")?"bg-no-repeat bg-center":oe,Be=se.slice(-10).map(oe=>oe.percentage),we=Be.length>0?Math.max(...Be):0,jt=Be.length>0?Math.min(...Be):0,Nn=Be.length>0?Math.round(Be.reduce((oe,De)=>oe+De,0)/Be.length):0,Zn=se.length,Ms=(re-1)*500,xn=Math.min(100,Math.max(0,(ae-Ms)/500*100)),Vn="w-full px-4 py-3 rounded-xl bg-gray-950 border border-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-900 outline-none font-bold text-white transition-all placeholder-gray-600 shadow-inner text-sm",En="w-full px-4 py-3 rounded-xl bg-gray-950 border border-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-900 outline-none font-bold text-white appearance-none cursor-pointer transition-all shadow-inner text-sm",Vs=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(oe=>({label:` ${oe}`,value:oe.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"  ",value:"English Major - QOU"}];return(e==null?void 0:e.role)==="teacher"?l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-12 p-2",children:[l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden border-4 border-gray-800 shadow-2xl bg-gray-700",children:e.avatar?l.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):l.jsx(Kn,{className:"w-full h-full p-4 text-gray-400"})}),l.jsx("div",{className:"absolute bottom-0 right-0 bg-emerald-500 text-white p-1.5 rounded-full border-4 border-gray-900 shadow-sm",children:l.jsx(rr,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"text-center md:text-right space-y-2",children:[l.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-white",children:[" ",e.displayName]}),l.jsxs("p",{className:"text-gray-400 font-medium text-lg flex items-center justify-center md:justify-start gap-2",children:[l.jsx(h0,{className:"w-4 h-4 text-blue-500"}),e.email]}),l.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-blue-900/30 text-blue-300 text-xs font-bold border border-blue-800",children:[l.jsx(La,{className:"w-3.5 h-3.5"})," "]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:[l.jsxs("button",{onClick:()=>r&&r("TEACHER_DASHBOARD"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-blue-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-900/20 text-blue-400 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-colors",children:l.jsx(aT,{className:"w-6 h-6"})}),l.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),l.jsxs("button",{onClick:()=>r&&r("QUESTION_BANK"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-purple-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-900/20 text-purple-400 flex items-center justify-center group-hover:bg-purple-600 group-hover:text-white transition-colors",children:l.jsx(Pa,{className:"w-6 h-6"})}),l.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),l.jsxs("button",{onClick:()=>r&&r("TEACHER_UPLOAD_FILES"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-emerald-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-900/20 text-emerald-400 flex items-center justify-center group-hover:bg-emerald-600 group-hover:text-white transition-colors",children:l.jsx(jv,{className:"w-6 h-6"})}),l.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),l.jsxs("button",{onClick:()=>r&&r("TEACHER_EXPLANATIONS"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-orange-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-900/20 text-orange-400 flex items-center justify-center group-hover:bg-orange-600 group-hover:text-white transition-colors",children:l.jsx(vc,{className:"w-6 h-6"})}),l.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-sm border border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"p-8 border-b border-gray-700 bg-gray-800/50",children:[l.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-2",children:[l.jsx(Ml,{className:"w-6 h-6 text-yellow-500"}),"  (XP)"]}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"      "})]}),l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"relative mb-6",children:[l.jsx(za,{className:"absolute top-3.5 right-4 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"   ...",value:C,onChange:oe=>Xe(oe.target.value),className:"w-full px-12 py-3 rounded-xl bg-gray-900 border border-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none font-bold text-white transition-all"})]}),l.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar p-1",children:tt?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(sn,{className:"w-8 h-8 animate-spin text-blue-500"})}):C===""?l.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"    ..."}):ge.length===0?l.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"    "}):ge.map(oe=>l.jsxs("div",{className:"flex items-center justify-between bg-gray-900/50 p-4 rounded-2xl border border-gray-700 hover:border-blue-700 transition-all",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden",children:oe.avatar?l.jsx("img",{src:oe.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):l.jsx(Kn,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-white text-sm",children:oe.displayName}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[l.jsxs("span",{className:"bg-yellow-500/10 text-yellow-400 px-1.5 rounded font-bold flex items-center gap-0.5",children:[l.jsx(Od,{className:"w-3 h-3"})," ",oe.totalXP||0]}),l.jsxs("span",{children:[" ",oe.email]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("select",{className:"bg-gray-800 border border-gray-700 text-gray-300 text-xs font-bold rounded-lg px-2 py-2 outline-none",value:ce,onChange:De=>xe(De.target.value),children:[l.jsx("option",{value:"10",children:"+10 XP"}),l.jsx("option",{value:"50",children:"+50 XP"}),l.jsx("option",{value:"100",children:"+100 XP"}),l.jsx("option",{value:"200",children:"+200 XP"}),l.jsx("option",{value:"500",children:"+500 XP"})]}),l.jsx("button",{onClick:()=>W(oe.id,oe.displayName),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg transition-colors shadow-lg shadow-blue-500/30",title:" ",children:l.jsx(JT,{className:"w-4 h-4"})})]})]},oe.id))})]})]})]}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up",children:[g&&l.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:l.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-sm max-h-[85vh] flex flex-col shadow-2xl border border-gray-700 overflow-hidden relative",children:[l.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center shrink-0",children:[l.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[l.jsx(Kn,{className:"w-5 h-5 text-purple-500"}),"  "]}),l.jsx("button",{onClick:()=>y(!1),className:"p-1.5 hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(Ur,{className:"w-5 h-5 text-gray-500"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:l.jsx("div",{className:"grid grid-cols-3 gap-3",children:yI.map((oe,De)=>{const ke=re<oe.minLevel;return l.jsxs("button",{onClick:()=>!ke&&A(oe.url),disabled:ke,className:`relative aspect-square rounded-xl overflow-hidden border-2 transition-all bg-gray-800 ${w===oe.url?"border-emerald-500 shadow-md ring-2 ring-emerald-900/30":"border-transparent hover:border-gray-600"} ${ke?"opacity-60 grayscale":"hover:scale-105 active:scale-95"}`,children:[l.jsx("img",{src:oe.url,alt:`Avatar ${De}`,className:"w-full h-full object-cover"}),ke&&l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 text-white backdrop-blur-[1px]",children:[l.jsx(Ti,{className:"w-4 h-4 mb-0.5"}),l.jsxs("span",{className:"text-[10px] font-bold",children:[" ",oe.minLevel]})]}),!ke&&w===oe.url&&l.jsx("div",{className:"absolute top-1 right-1 bg-emerald-500 text-white rounded-full p-0.5 shadow-sm",children:l.jsx(rr,{className:"w-3 h-3"})})]},De)})})}),l.jsx("div",{className:"p-4 border-t border-gray-800 shrink-0",children:l.jsxs("button",{onClick:Z,disabled:a,className:"w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:[a?l.jsx(sn,{className:"w-5 h-5 animate-spin"}):l.jsx(Di,{className:"w-5 h-5"}),"  "]})})]})}),p&&l.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:l.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-2xl max-h-[85vh] flex flex-col shadow-2xl border border-gray-700 overflow-hidden relative",children:[l.jsxs("div",{className:"p-5 border-b border-gray-800 flex justify-between items-center shrink-0",children:[l.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(Ib,{className:"w-6 h-6 text-emerald-500"}),"  "]}),l.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(Ur,{className:"w-6 h-6 text-gray-500"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar",children:l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r0.map((oe,De)=>{const ke=re<oe.minLevel,Nt=M===oe.url;return l.jsxs("button",{onClick:()=>!ke&&U(oe.url),disabled:ke,className:`relative h-28 rounded-2xl overflow-hidden border-4 transition-all duration-300 group ${Nt?"border-emerald-500 scale-[1.02] shadow-md":"border-transparent"} ${ke?"opacity-60 cursor-not-allowed grayscale":"hover:scale-[1.02] cursor-pointer"}`,children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${oe.url})`}}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:ke?l.jsxs("div",{className:"bg-black/60 px-3 py-1.5 rounded-lg backdrop-blur-sm flex items-center gap-1.5",children:[l.jsx(Ti,{className:"w-4 h-4 text-white"}),l.jsxs("span",{className:"text-xs text-white font-bold",children:[" ",oe.minLevel]})]}):Nt&&l.jsx(rr,{className:"w-8 h-8 text-white drop-shadow-md"})}),l.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-black/80 to-transparent p-2 text-center",children:l.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:oe.name})})]},De)})})}),l.jsxs("div",{className:"p-5 border-t border-gray-800 shrink-0 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>_(!1),className:"px-6 py-2.5 rounded-xl font-bold text-gray-500 hover:bg-gray-800 transition-colors",children:""}),l.jsx("button",{onClick:L,disabled:a,className:"bg-emerald-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center gap-2",children:a?l.jsx(sn,{className:"w-5 h-5 animate-spin"}):" "})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[l.jsx("div",{className:"lg:col-span-7 lg:order-1 space-y-8",children:l.jsxs("div",{className:"bg-gray-900 rounded-[3rem] shadow-xl overflow-hidden border border-gray-700 relative group",children:[l.jsxs("div",{className:`relative w-full h-48 md:h-64 transition-all duration-500 ${Pe(e==null?void 0:e.profileBackground)}`,style:Ce(e==null?void 0:e.profileBackground),children:[l.jsxs("button",{onClick:()=>_(!0),className:"absolute top-4 left-4 bg-black/30 hover:bg-black/50 text-white backdrop-blur-md px-4 py-2 rounded-full text-xs md:text-sm font-bold flex items-center gap-2 transition-all border border-white/20 z-20",children:[l.jsx(Ib,{className:"w-4 h-4"}),"  "]}),l.jsxs("div",{className:`absolute top-4 right-4 px-4 py-1.5 rounded-full text-xs font-black flex items-center gap-2 backdrop-blur-md shadow-lg border-2 z-10 ${S.color}`,children:[l.jsx(S.icon,{className:"w-4 h-4"})," ",S.title]}),l.jsx("div",{className:"absolute -bottom-12 md:-bottom-16 right-8 md:right-12 z-20",children:l.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>y(!0),children:[l.jsx("div",{className:"w-28 h-28 md:w-36 md:h-36 rounded-full border-[6px] border-gray-800 shadow-2xl overflow-hidden bg-gray-700 relative z-10 transition-transform transform group-hover:scale-105 flex items-center justify-center",children:e!=null&&e.avatar?l.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):l.jsx(Kn,{className:"w-16 h-16 text-gray-500"})}),l.jsx("div",{className:"absolute bottom-1 right-1 bg-emerald-500 text-white p-2 rounded-full border-4 border-gray-800 shadow-sm z-20 hover:bg-emerald-600 transition-colors",children:l.jsx(qT,{className:"w-4 h-4"})})]})})]}),l.jsxs("div",{className:"pt-16 md:pt-20 px-8 pb-8",children:[l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsx("h2",{className:"text-3xl font-black text-white mb-1",children:e==null?void 0:e.displayName}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm font-medium mb-6",children:[l.jsx("span",{children:e==null?void 0:e.email}),l.jsx("span",{className:"text-gray-300",children:""}),l.jsxs("span",{className:"text-emerald-400 font-bold flex items-center gap-1",children:[l.jsx(Ml,{className:"w-3 h-3"}),"  ",re]})]})]}),l.jsxs("form",{onSubmit:D,className:"space-y-6 border-t border-gray-700 pt-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-4",children:[l.jsx(Kn,{className:"w-5 h-5 text-blue-500"}),"  "]})}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),l.jsx("input",{type:"text",value:Ee.firstName,onChange:oe=>Me({...Ee,firstName:oe.target.value}),className:Vn})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),l.jsx("input",{type:"text",value:Ee.lastName,onChange:oe=>Me({...Ee,lastName:oe.target.value}),className:Vn})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:Ee.gender,onChange:oe=>Me({...Ee,gender:oe.target.value}),className:En,disabled:e==null?void 0:e.genderChanged,children:[l.jsx("option",{value:"male",children:""}),l.jsx("option",{value:"female",children:""})]}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx(Ii,{className:"w-4 h-4"})})]}),(e==null?void 0:e.genderChanged)&&l.jsxs("p",{className:"text-[10px] text-red-400 mt-1 mr-1 flex items-center gap-1",children:[l.jsx(Ti,{className:"w-3 h-3"}),"        "]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),l.jsx("input",{type:"text",value:Ee.phone,onChange:oe=>Me({...Ee,phone:oe.target.value}),className:Vn})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),l.jsx("input",{type:"text",value:Ee.address,onChange:oe=>Me({...Ee,address:oe.target.value}),className:Vn})]}),l.jsx("div",{className:"md:col-span-2 mt-2",children:l.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-4",children:[l.jsx(La,{className:"w-5 h-5 text-emerald-500"}),"  "]})}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),l.jsx("input",{type:"text",value:Ee.school,onChange:oe=>Me({...Ee,school:oe.target.value}),className:Vn})]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),l.jsx(xI,{options:Vs,value:Ee.grade,onChange:oe=>Me({...Ee,grade:oe}),placeholder:" "})]})]}),l.jsxs("div",{className:"flex items-center justify-end pt-4 gap-4",children:[u&&l.jsxs("span",{className:"text-green-600 font-bold text-sm animate-fade-in flex items-center gap-1",children:[l.jsx(rr,{className:"w-4 h-4"})," ",u]}),l.jsxs("button",{type:"submit",disabled:a,className:"bg-emerald-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-900/20 flex items-center gap-2",children:[a?l.jsx(sn,{className:"w-5 h-5 animate-spin"}):l.jsx(Di,{className:"w-5 h-5"}),"  "]})]})]})]})]})}),l.jsxs("div",{className:"lg:col-span-5 lg:order-2 space-y-6 mt-8 lg:mt-0",children:[l.jsxs("div",{className:"bg-gradient-to-br from-indigo-700 via-purple-700 to-fuchsia-700 rounded-[2.5rem] shadow-2xl p-6 text-white relative overflow-hidden border-4 border-gray-800 ring-4 ring-gray-900",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-500 opacity-20 rounded-full translate-y-1/2 -translate-x-1/2 blur-3xl"}),l.jsx("div",{className:"flex items-center justify-between mb-6 relative z-10",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-md opacity-50 rounded-full"}),l.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-300 to-orange-500 rounded-2xl shadow-lg relative border border-white/30",children:l.jsx(S.icon,{className:"w-8 h-8 text-white"})})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-3xl font-black tracking-tight",children:[" ",re]}),l.jsxs("p",{className:"text-indigo-100 text-sm font-medium flex items-center gap-1.5 mt-0.5 bg-black/20 px-3 py-1 rounded-full w-fit",children:[l.jsx(Od,{className:"w-3.5 h-3.5 text-orange-400 fill-orange-400"})," ",ae,"   (XP)"]})]})]})}),l.jsxs("div",{className:"relative mb-8",children:[l.jsxs("div",{className:"flex justify-between text-xs font-bold text-indigo-200 mb-1 px-1",children:[l.jsx("span",{children:S.title}),l.jsxs("span",{children:["  ",re+1]})]}),l.jsx("div",{className:"w-full bg-black/30 h-3.5 rounded-full relative overflow-hidden backdrop-blur-sm border border-white/10",children:l.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 h-full rounded-full transition-all duration-1000 ease-out relative shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${xn}%`},children:l.jsx("div",{className:"absolute inset-0 bg-white/30 w-full h-full animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite]"})})})]}),l.jsxs("div",{className:"bg-black/20 rounded-2xl p-5 backdrop-blur-md border border-white/10",children:[l.jsxs("h4",{className:"text-sm font-bold text-indigo-100 mb-2 flex items-center gap-2",children:[l.jsx(Yl,{className:"w-4 h-4 text-yellow-300"}),"  "]}),l.jsx("div",{className:"text-xl font-black text-white tracking-wide mb-1",children:S.title}),l.jsx("div",{className:"text-xs text-indigo-200",children:"     !"})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 p-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2 border-b border-gray-700 pb-3",children:[l.jsx("div",{className:"p-2 bg-yellow-900/30 rounded-lg",children:l.jsx(IT,{className:"w-5 h-5 text-yellow-400"})}),"  "]}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:pI.map((oe,De)=>{const ke=oe.condition(j);return l.jsxs("div",{className:`relative p-3 rounded-xl border flex flex-col items-center text-center transition-all ${ke?"bg-gray-700/50 border-gray-600 shadow-sm hover:shadow-md":"bg-gray-800/50 border-gray-700 opacity-60 grayscale"}`,children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-2 ${ke?oe.bg:"bg-gray-700"}`,children:l.jsx(oe.icon,{className:`w-6 h-6 ${ke?oe.color:"text-gray-400"}`})}),l.jsx("h4",{className:"font-bold text-xs text-gray-200 mb-1",children:oe.title}),l.jsx("p",{className:"text-[10px] text-gray-400 leading-tight",children:oe.desc}),!ke&&l.jsx("div",{className:"absolute inset-0 bg-gray-900/50 backdrop-blur-[1px] rounded-xl flex items-center justify-center",children:l.jsx(Ti,{className:"w-4 h-4 text-gray-400"})})]},De)})})]}),l.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 p-6 hover:shadow-md transition-shadow",children:[l.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:l.jsx(y4,{className:"w-5 h-5 text-emerald-400"})}),"   "]}),le?l.jsx("div",{className:"h-48 flex items-center justify-center",children:l.jsx(sn,{className:"w-6 h-6 animate-spin text-emerald-500"})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(bI,{data:Be}),l.jsxs("div",{className:"flex justify-between items-center bg-gray-700/50 p-4 rounded-xl border border-gray-700",children:[l.jsx("span",{className:"text-gray-300 text-sm font-bold",children:" "}),l.jsxs("span",{className:`font-black text-xl ${Nn>=90?"text-emerald-400":"text-blue-400"}`,children:[Nn,"%"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-xl border border-gray-700 flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-emerald-900/30 text-emerald-400",children:l.jsx(Ml,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),l.jsxs("div",{className:"font-black text-lg text-emerald-400",children:[we,"%"]})]})]}),l.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-xl border border-gray-700 flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-red-900/30 text-red-400",children:l.jsx(Sv,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),l.jsxs("div",{className:"font-black text-lg text-red-400",children:[jt,"%"]})]})]}),l.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-xl border border-gray-700 flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-blue-900/30 text-blue-400",children:l.jsx(sT,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:" "}),l.jsx("div",{className:"font-black text-lg text-blue-400",children:Zn})]})]}),l.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-xl border border-gray-700 flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-purple-900/30 text-purple-400",children:l.jsx(FT,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase",children:""}),l.jsxs("div",{className:"font-black text-lg text-purple-400",children:[Nn,"%"]})]})]})]})]})]})]})]})]})},_I=[{id:"All",label:" (All)"},{id:"Language",label:"Language ()"},{id:"Reading",label:"Reading ()"},{id:"Writing",label:"Writing ()"},{id:"Vocabulary",label:"Vocabulary ()"},{id:"General",label:"  (General Quiz)"}],a0=({options:r,value:e,onChange:n,placeholder:a,disabled:o})=>{const[u,f]=F.useState(!1),g=F.useRef(null);F.useEffect(()=>{const p=_=>{g.current&&!g.current.contains(_.target)&&f(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const y=r.find(p=>p.value===e&&!p.isHeader);return l.jsxs("div",{className:`relative ${u?"z-50":"z-0"}`,ref:g,children:[l.jsxs("button",{type:"button",onClick:()=>!o&&f(!u),className:`w-full px-5 py-4 rounded-2xl font-bold text-right border-2 flex justify-between items-center outline-none transition-all
            ${o?"bg-gray-800 border-gray-700 text-gray-400 cursor-not-allowed":u?"bg-gray-800 border-emerald-500 ring-4 ring-emerald-900/20 text-white shadow-lg":"bg-gray-800 border-transparent hover:border-emerald-700 text-white shadow-sm"}
         `,children:[l.jsx("span",{className:`truncate ${y?"":"text-gray-500"}`,children:y?y.label:a}),l.jsx(Ii,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${u?"rotate-180 text-emerald-500":""}`})]}),u&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 border border-gray-700 rounded-2xl shadow-xl max-h-72 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-50",children:[r.map((p,_)=>{if(p.isHeader)return l.jsx("div",{className:"px-4 py-2 text-xs font-black text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-700/50 rounded-lg mb-1",children:p.label},_);const w=p.value===e;return l.jsxs("div",{onClick:()=>{n(p.value),f(!1)},className:`px-4 py-3 rounded-xl font-bold text-sm cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${w?"bg-emerald-900/30 text-emerald-400":"text-gray-300 hover:bg-gray-700"}
                   `,children:[p.label,w&&l.jsx(Dc,{className:"w-4 h-4"})]},_)}),r.length===0&&l.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"   "})]})]})},wI=({onBack:r})=>{const{user:e}=gr(),[n,a]=F.useState("SELECTION"),[o,u]=F.useState(""),[f,g]=F.useState(""),[y,p]=F.useState("All"),[_,w]=F.useState([]),[A,M]=F.useState(!1),[U,se]=F.useState(null),[Y,le]=F.useState(0),[de,ae]=F.useState({}),[me,re]=F.useState(1800),[$,S]=F.useState(null),[E,j]=F.useState(!1),[k,I]=F.useState(0),[V,C]=F.useState({}),[Xe,tt]=F.useState(!1),[Q,ce]=F.useState(null),[xe,Ee]=F.useState(!1),[Me,D]=F.useState(!1),[Z,L]=F.useState(!1),[W,ge]=F.useState(0),[Ce,Pe]=F.useState(!1),[Be,we]=F.useState(null);F.useEffect(()=>{window.scrollTo(0,0)},[n]),F.useEffect(()=>{f?jt():w([])},[f]),F.useEffect(()=>{let ie;return n==="ACTIVE"&&me>0&&(ie=setInterval(()=>{re(Ne=>Ne<=1?(oe(),0):Ne-1)},1e3)),()=>clearInterval(ie)},[n,me]),F.useEffect(()=>{let ie;return n==="ACTIVE"&&(U!=null&&U.questionDuration)&&$!==null&&($>0?ie=setInterval(()=>{S(Ne=>Ne!==null&&Ne>0?Ne-1:0)},1e3):$===0&&Vs()),()=>clearInterval(ie)},[n,U,$]),F.useEffect(()=>{U!=null&&U.questionDuration?S(U.questionDuration):S(null)},[Y,U]),F.useEffect(()=>{if(n!=="ACTIVE")return;const ie=()=>{ge(je=>{const Ze=je+1;return Ze===1?D(!0):Ze>=2&&(D(!1),L(!0)),Ze})},Ne=()=>{document.hidden&&ie()},ve=je=>{(je.key==="PrintScreen"||je.ctrlKey&&je.key==="p"||je.metaKey&&je.shiftKey)&&(je.preventDefault(),ie())},ue=je=>je.preventDefault();return document.addEventListener("visibilitychange",Ne),document.addEventListener("keydown",ve),document.addEventListener("contextmenu",ue),document.addEventListener("copy",ue),document.addEventListener("paste",ue),document.addEventListener("cut",ue),document.addEventListener("selectstart",ue),()=>{document.removeEventListener("visibilitychange",Ne),document.removeEventListener("keydown",ve),document.removeEventListener("contextmenu",ue),document.removeEventListener("copy",ue),document.removeEventListener("paste",ue),document.removeEventListener("cut",ue),document.removeEventListener("selectstart",ue)}},[n]);const jt=async()=>{M(!0);try{const ie=Cs(_n(St,"quizzes"),Rs("grade","==",f)),Ne=await mr(ie),ve=[];Ne.forEach(ue=>{ve.push({id:ue.id,...ue.data()})}),w(ve)}catch(ie){console.error("Error fetching quizzes:",ie)}finally{M(!1)}},Nn=Array.from(new Set(_.map(ie=>ie.subject))),Zn=_.filter(ie=>{const Ne=o?ie.subject===o:!0,ve=y&&y!=="All"?ie.category===y:!0;return Ne&&ve}),Ms=ie=>{ce(ie),tt(!0)},xn=ie=>{if(!ie.questions||ie.questions.length===0){alert("      ");return}const ve=[...ie.questions].sort(()=>Math.random()-.5).map(ot=>{if(ot.type==="MCQ"||ot.type==="TF"){const Wt=ot.options.map((rt,Jn)=>({opt:rt,originalIndex:Jn}));Wt.sort(()=>Math.random()-.5);const Je=Wt.map(rt=>rt.opt),pt=Wt.findIndex(rt=>rt.originalIndex===ot.correctAnswer);return{...ot,options:Je,correctAnswer:pt}}return ot}),ue={...ie,questions:ve},je={};ve.forEach((ot,Wt)=>{if(ot.type==="REORDER"){const Je=ot.options.map((pt,rt)=>rt);for(let pt=Je.length-1;pt>0;pt--){const rt=Math.floor(Math.random()*(pt+1));[Je[pt],Je[rt]]=[Je[rt],Je[pt]]}je[Wt]=Je}}),C(je),se(ue),le(0),ae({});const Ze=ie.duration?ie.duration*60:1800;re(Ze),I(0),ge(0),L(!1),tt(!1),ce(null),a("ACTIVE")},Vn=()=>{Q&&xn(Q)},En=ie=>{ae(Ne=>({...Ne,[Y]:ie}))},Vs=()=>{U&&(S(null),Y<U.questions.length-1?le(ie=>ie+1):oe())},oe=async()=>{if(!U||!e){a("RESULT");return}j(!0);const ie=ke(),Ne=Math.round(ie/U.questions.length*100);let ve=0;try{const ue=Cs(_n(St,"quiz_results"),Rs("userId","==",e.uid),Rs("quizId","==",U.id));(await mr(ue)).empty?ve=ie*30:ve=ie*1}catch(ue){console.error("Error checking previous attempts:",ue),ve=ie*1}I(ve);try{await kh(_n(St,"quiz_results"),{userId:e.uid,userName:e.displayName,quizId:U.id||"unknown",quizTitle:U.title,subject:U.subject,score:ie,totalQuestions:U.questions.length,percentage:Ne,passed:Ne>=50,earnedXP:ve,createdAt:Kl()});const ue=fr(St,"users",e.uid);await Hg(ue,{totalXP:B0(ve),quizzesCompleted:B0(1),lastQuizDate:Kl(),role:"student",email:e.email,displayName:e.displayName},{merge:!0})}catch(ue){console.error("Error saving quiz result:",ue)}finally{j(!1),a("RESULT")}},De=ie=>{const Ne=Math.floor(ie/60),ve=ie%60;return`${Ne}:${ve<10?"0":""}${ve}`},ke=()=>{if(!U)return 0;let ie=0;return U.questions.forEach((Ne,ve)=>{if(Ne.type==="REORDER"){const ue=de[ve];if(ue&&ue.length===Ne.options.length){let je=!0;for(let Ze=0;Ze<Ne.options.length;Ze++)if(ue[Ze]!==Ze){je=!1;break}je&&ie++}}else de[ve]===Ne.correctAnswer&&ie++}),ie},Nt=()=>{Ee(!0)},Ln=()=>{Ee(!1),a("SELECTION")},Tn=()=>{L(!1),a("SELECTION")},xt=ie=>{we(ie),Pe(!0)},Pn=()=>{if(Pe(!1),Be==="REVIEW")a("REVIEW");else if(Be==="RETAKE"){const ie=_.find(Ne=>Ne.id===(U==null?void 0:U.id));ie?xn(ie):a("SELECTION")}else Be==="LIST"?a("SELECTION"):Be==="HOME"&&r();we(null)},Ls=(ie,Ne)=>{const ve=de[Y]||[];En(Ne?[...ve,ie]:ve.filter(ue=>ue!==ie))},Ct=({title:ie,message:Ne,onConfirm:ve,onCancel:ue,icon:je=ki,confirmText:Ze="",cancelText:ot="",confirmColor:Wt="emerald"})=>l.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md transition-opacity",onClick:ue}),l.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-8 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-white/10 shadow-2xl shadow-black/50",children:[l.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 ${Wt==="red"?"bg-red-500/20":"bg-emerald-500/20"}`,children:l.jsx(je,{className:`w-10 h-10 ${Wt==="red"?"text-red-500":"text-emerald-500"}`})}),l.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:ie}),l.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:Ne}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:ve,className:`flex-1 py-3.5 rounded-xl font-bold text-white transition-all transform hover:scale-105 active:scale-95 shadow-lg ${Wt==="red"?"bg-gradient-to-r from-red-600 to-pink-600 shadow-red-900/30":"bg-gradient-to-r from-emerald-500 to-teal-600 shadow-emerald-900/30"}`,children:Ze}),l.jsx("button",{onClick:ue,className:"flex-1 bg-gray-800 text-gray-300 py-3.5 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-gray-700",children:ot})]})]})]}),Pt=()=>{const ie=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(ue=>({label:` ${ue}`,value:ue.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"   -   ",value:"English Major - QOU"}],Ne=[{label:"  ",value:""},...Nn.map(ue=>({label:String(ue),value:String(ue)}))],ve=_I.map(ue=>({label:ue.label,value:ue.id}));return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 animate-fade-in",children:[l.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(156, 163, 175, 0.5);
          border-radius: 20px;
        }
      `}),l.jsxs("div",{className:"mb-8 text-center",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white mb-2",children:" "}),l.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"       "})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-6",children:[l.jsxs("div",{className:"lg:col-span-7 bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 relative z-30",children:[l.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:l.jsx(La,{className:"w-5 h-5 text-emerald-400"})}),"     "]}),l.jsx(a0,{options:ie,value:f,onChange:ue=>{g(ue),u(""),p("All")},placeholder:"--    --"})]}),l.jsxs("div",{className:"lg:col-span-5 bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 relative z-20",children:[l.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:l.jsx(Wn,{className:"w-5 h-5 text-emerald-400"})})," "]}),l.jsx(a0,{options:Ne,value:o,onChange:u,placeholder:f?" ":"   ",disabled:!f})]})]}),f&&l.jsx("div",{className:"mb-10 animate-fade-in relative z-10",children:l.jsxs("div",{className:"bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700",children:[l.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:l.jsx(Dv,{className:"w-5 h-5 text-emerald-400"})}),"  ()"]}),l.jsx(a0,{options:ve,value:y,onChange:p,placeholder:"  "})]})}),f&&l.jsxs("div",{className:"space-y-6 animate-fade-in-up relative z-0",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-100 border-r-4 border-emerald-500 pr-3 flex items-center gap-2",children:[l.jsx(Rb,{className:"w-5 h-5"})," "]}),A?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx(sn,{className:"w-8 h-8 animate-spin text-emerald-400"})}):_.length===0?l.jsxs("div",{className:"bg-gray-900 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-700",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(za,{className:"w-8 h-8 text-gray-500"})}),l.jsx("p",{className:"text-gray-400 font-medium",children:"      "})]}):Zn.length===0?l.jsxs("div",{className:"bg-gray-900 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-700",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(za,{className:"w-8 h-8 text-gray-500"})}),l.jsx("p",{className:"text-gray-400 font-medium",children:"     "})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Zn.map(ue=>l.jsxs("div",{className:"bg-gray-900 rounded-2xl shadow-sm border border-gray-700 p-5 hover:shadow-md hover:border-emerald-600 transition-all group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"bg-emerald-900/50 text-emerald-300 text-[10px] font-bold px-2 py-1 rounded-md w-fit",children:ue.subject}),ue.category&&l.jsx("span",{className:"bg-blue-900/50 text-blue-300 text-[10px] font-bold px-2 py-1 rounded-md w-fit border border-blue-800",children:ue.category==="General"?"General Quiz":ue.category})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsxs("span",{className:"text-gray-500 text-xs",children:[ue.questions.length," "]}),l.jsx("span",{className:"text-gray-500 text-xs bg-gray-800 px-1.5 py-0.5 rounded",children:ue.duration?`${ue.duration} `:"30 "})]})]}),l.jsx("h4",{className:"text-base font-bold text-white mb-2 line-clamp-2",children:ue.title}),l.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-xs mb-5",children:[l.jsx(Pd,{className:"w-3 h-3"}),l.jsx("span",{children:ue.grade==="English Major - QOU"?"  ":` ${ue.grade}`})]}),l.jsxs("button",{onClick:()=>Ms(ue),className:"w-full bg-emerald-900/30 text-emerald-400 border border-emerald-800 py-2.5 rounded-xl font-bold text-sm group-hover:bg-emerald-600 group-hover:text-white transition-all flex items-center justify-center gap-2",children:[" ",l.jsx(Id,{className:"w-4 h-4"})]})]},ue.id))})]}),Xe&&l.jsx(Ct,{title:"  ",message:`   ${Q==null?void 0:Q.title} `,onConfirm:Vn,onCancel:()=>tt(!1),confirmText:" ",cancelText:"",icon:ki})]})},ps=()=>{if(!U||!U.questions||!U.questions[Y])return l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 gap-4",children:[l.jsx("div",{className:"text-red-500 font-bold text-lg",children:"    "}),l.jsx("button",{onClick:()=>a("SELECTION"),className:"text-blue-400 underline",children:" "})]});const ie=U.questions[Y],Ne=ie.type==="REORDER";let ve=!1;if(Ne){const Je=de[Y];ve=Je!==void 0&&Je.length===ie.options.length}else ve=de[Y]!==void 0;const ue=Y===U.questions.length-1,je=U.subject.toLowerCase().includes("english")||U.subject.includes("")||U.subject.includes(""),Ze=je?"ltr":"rtl",ot=je?"text-left":"text-right",Wt={sm:"text-sm leading-relaxed",md:"text-base leading-relaxed",lg:"text-xl leading-loose",xl:"text-2xl leading-loose"}[ie.passageFontSize||"md"];return l.jsxs("div",{className:"fixed inset-0 z-[9999] bg-gray-950 overflow-y-auto select-none",onContextMenu:Je=>Je.preventDefault(),style:{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTouchCallout:"none"},children:[Z&&l.jsx(Ct,{title:"   ",message:"      .   .",onConfirm:Tn,onCancel:()=>{},confirmText:"",cancelText:"",icon:s4,confirmColor:"red"}),Me&&!Z&&l.jsx(Ct,{title:" !",message:"     .   .",onConfirm:()=>D(!1),onCancel:()=>{},confirmText:"",cancelText:"",icon:b4,confirmColor:"red"}),xe&&l.jsx(Ct,{title:" ",message:"       .",onConfirm:Ln,onCancel:()=>Ee(!1),confirmText:" ",cancelText:"",icon:Vd,confirmColor:"red"}),l.jsxs("div",{className:"bg-gray-950/80 backdrop-blur-md border-b border-gray-700 sticky top-0 z-50 shadow-sm",children:[l.jsxs("div",{className:"max-w-4xl mx-auto px-3 h-16 flex justify-between items-center",children:[l.jsxs("button",{onClick:Nt,className:"flex items-center gap-2 text-red-500 hover:bg-red-900/20 px-3 py-1.5 rounded-lg transition-colors font-bold text-sm",children:[l.jsx(Vd,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:""})]}),l.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-1",children:l.jsxs("div",{className:`flex items-center gap-2 px-4 py-1.5 rounded-full font-mono font-bold text-base shadow-inner border border-gray-600 ${me<300?"bg-red-900/50 text-red-200 animate-pulse":"bg-gray-700 text-emerald-400"}`,children:[l.jsx(G0,{className:"w-4 h-4"}),De(me)]})}),l.jsxs("div",{className:"text-xs font-bold text-gray-400",children:[Y+1," / ",U.questions.length]})]}),l.jsx("div",{className:"w-full bg-gray-700 h-1",children:l.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-500 ease-out",style:{width:`${(Y+1)/U.questions.length*100}%`}})})]}),$!==null&&U.questionDuration&&l.jsxs("div",{className:"max-w-3xl mx-auto px-4 mt-4",children:[l.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full transition-all duration-1000 linear ${$<10?"bg-red-500":"bg-blue-500"}`,style:{width:`${$/U.questionDuration*100}%`}})}),l.jsxs("div",{className:"text-center mt-1 text-xs font-bold text-gray-500",children:[" : ",$," "]})]}),l.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 overflow-hidden animate-fade-in-up",dir:Ze,children:[l.jsxs("div",{className:"bg-gray-800/50 border-b border-gray-700 p-4 flex items-center justify-between",children:[l.jsx("h2",{className:"font-bold text-gray-200 text-sm md:text-base",children:U.title}),l.jsx("div",{className:"bg-gray-700 p-1.5 rounded-lg shadow-sm",children:Ne?l.jsx(Cv,{className:"w-4 h-4 text-emerald-500"}):l.jsx(Ti,{className:"w-4 h-4 text-gray-300"})})]}),l.jsxs("div",{className:"p-6 md:p-8",children:[ie.passageContent&&l.jsxs("div",{className:"mb-8",children:[ie.generalInstruction&&l.jsx("div",{className:`text-gray-400 font-bold mb-3 text-sm bg-gray-800/50 px-4 py-2.5 rounded-xl border-l-4 border-emerald-500 ${ot}`,children:ie.generalInstruction}),l.jsx("div",{className:`bg-blue-900/20 p-5 rounded-2xl border border-blue-800 ${ot}`,children:l.jsx("div",{className:`text-gray-200 whitespace-pre-wrap font-medium ${Wt}`,children:ie.passageContent})})]}),l.jsx("h3",{className:`text-lg md:text-2xl font-black text-white leading-relaxed mb-8 ${ot}`,children:ie.question}),Ne?l.jsxs("div",{className:"space-y-6",dir:"ltr",children:[l.jsxs("div",{className:"min-h-[120px] p-4 bg-gray-950/50 rounded-2xl border-2 border-dashed border-gray-600 flex flex-wrap gap-2 items-start content-start transition-all",children:[(de[Y]||[]).map((Je,pt)=>l.jsx("button",{onClick:()=>Ls(Je,!1),className:"bg-emerald-600 text-white px-4 py-2 rounded-xl font-bold shadow-md hover:bg-red-500 transition-colors animate-fade-in",children:ie.options[Je]},`ans-${pt}`)),(!de[Y]||de[Y].length===0)&&l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm font-medium italic",children:"      "})]}),l.jsx("div",{className:"flex flex-wrap gap-3 justify-center bg-gray-900 p-4 rounded-2xl border border-gray-700",children:(V[Y]||[]).filter(Je=>!(de[Y]||[]).includes(Je)).map((Je,pt)=>l.jsx("button",{onClick:()=>Ls(Je,!0),className:"bg-gray-800 border-2 border-gray-700 text-gray-200 px-4 py-2 rounded-xl font-bold shadow-sm hover:border-emerald-500 hover:text-emerald-400 transition-all transform hover:scale-105 active:scale-95",children:ie.options[Je]},`bank-${pt}`))}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:()=>En([]),className:"text-xs font-bold text-gray-400 hover:text-red-500 flex items-center gap-1",children:[l.jsx(Iv,{className:"w-3 h-3"})," "]})})]}):l.jsx("div",{className:"space-y-3",children:ie.options.map((Je,pt)=>l.jsxs("button",{onClick:()=>En(pt),className:`w-full ${ot} p-4 rounded-xl border-2 transition-all flex items-center justify-between group hover:scale-[1.01] active:scale-[0.99] duration-200 ${de[Y]===pt?"border-emerald-500 bg-emerald-900/30 shadow-md ring-2 ring-emerald-900":"border-gray-700 bg-gray-900 hover:bg-gray-800 hover:border-gray-600 shadow-sm"}`,children:[l.jsx("span",{className:`text-base font-bold ${de[Y]===pt?"text-emerald-300":"text-gray-300"}`,children:Je}),l.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 ml-2 transition-colors ${de[Y]===pt?"border-emerald-600 bg-emerald-600":"border-gray-600 group-hover:border-emerald-400"}`,children:de[Y]===pt&&l.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]},pt))})]})]}),l.jsx("div",{className:"mt-8 flex justify-end",children:l.jsx("button",{onClick:Vs,disabled:!ve||E,className:`w-full sm:w-auto px-10 py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-2 shadow-xl transition-all ${!ve||E?"bg-gray-700 text-gray-500 cursor-not-allowed shadow-none":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-emerald-500/20 active:scale-95"}`,children:E?l.jsxs(l.Fragment,{children:["  ",l.jsx(sn,{className:"w-5 h-5 animate-spin"})]}):l.jsxs(l.Fragment,{children:[ue?" ":" ",Ze==="rtl"?l.jsx(Id,{className:"w-5 h-5"}):l.jsx(nn,{className:"w-5 h-5"})]})})})]})]})},Kr=()=>{if(!U)return null;const ie=ke(),Ne=U.questions.length,ve=Math.round(ie/Ne*100);let ue="text-red-500",je="from-red-500 to-pink-600",Ze=YE;ve>=90?(ue="text-emerald-500",je="from-emerald-400 to-teal-600",Ze=Yl):ve>=75?(ue="text-blue-500",je="from-blue-400 to-indigo-600",Ze=Ri):ve>=50&&(ue="text-yellow-500",je="from-yellow-400 to-orange-500",Ze=Dc);const ot=Ze;return l.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center p-4 animate-fade-in",children:l.jsxs("div",{className:"w-full max-w-md bg-gray-900 rounded-[2.5rem] shadow-2xl overflow-hidden relative border border-gray-700",children:[l.jsxs("div",{className:`relative pt-12 pb-16 px-6 text-center bg-gradient-to-br ${je}`,children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"w-24 h-24 mx-auto bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center mb-4 shadow-lg ring-4 ring-white/10",children:l.jsx(ot,{className:"w-12 h-12 text-white"})}),l.jsx("h2",{className:"text-3xl font-black text-white mb-1",children:ve>=90?"!":ve>=50?"!":" "}),l.jsx("p",{className:"text-white/90 font-medium text-sm mb-6",children:U.title}),l.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-6 py-2 rounded-full border border-white/20 shadow-lg",children:[l.jsx(Od,{className:"w-5 h-5 text-yellow-300 fill-yellow-300 animate-pulse"}),l.jsxs("span",{className:"font-black text-white text-lg",children:["+",k," XP"]})]})]}),l.jsx("div",{className:"absolute -bottom-1 left-0 w-full overflow-hidden leading-[0]",children:l.jsx("svg",{className:"relative block w-[calc(100%+1.3px)] h-[50px]","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:l.jsx("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z",className:"fill-gray-900"})})})]}),l.jsxs("div",{className:"px-6 pb-8 -mt-6 relative z-10",children:[l.jsxs("div",{className:"bg-gray-900 rounded-2xl shadow-lg border border-gray-700 p-6 text-center mb-6 transform -translate-y-4",children:[l.jsx("div",{className:"text-sm text-gray-400 font-bold uppercase tracking-wider mb-2",children:" "}),l.jsx("div",{className:"flex justify-center items-baseline gap-1",children:l.jsxs("span",{className:`text-6xl font-black ${ue}`,children:[ve,"%"]})}),l.jsxs("div",{className:"text-gray-400 font-medium mt-1 text-sm",children:[ie,"     ",Ne]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[l.jsxs("div",{className:"bg-emerald-900/20 p-4 rounded-2xl border border-emerald-800 text-center",children:[l.jsx("div",{className:"text-emerald-400 font-black text-2xl mb-1",children:ie}),l.jsx("div",{className:"text-xs text-gray-400 font-bold",children:" "})]}),l.jsxs("div",{className:"bg-red-900/20 p-4 rounded-2xl border border-red-800 text-center",children:[l.jsx("div",{className:"text-red-400 font-black text-2xl mb-1",children:Ne-ie}),l.jsx("div",{className:"text-xs text-gray-400 font-bold",children:" "})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>xt("REVIEW"),className:"w-full py-4 bg-white text-gray-900 font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95",children:[l.jsx(c0,{className:"w-5 h-5"}),"  "]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>xt("RETAKE"),className:"py-3 bg-emerald-600 text-white font-bold rounded-2xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-sm",children:[l.jsx(Rv,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>xt("LIST"),className:"py-3 bg-gray-800 text-white font-bold rounded-2xl hover:bg-gray-700 transition-colors flex items-center justify-center gap-2 text-sm border border-gray-700",children:[l.jsx(Rb,{className:"w-4 h-4"})," "]})]}),l.jsxs("button",{onClick:()=>xt("HOME"),className:"w-full py-3 text-gray-400 hover:text-gray-200 font-bold text-sm transition-colors flex items-center justify-center gap-2",children:[l.jsx(Md,{className:"w-4 h-4"}),"  "]})]})]})]})})},pr=()=>l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in text-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[l.jsx(c0,{className:"w-5 h-5 text-emerald-400"})," "]}),l.jsxs("button",{onClick:()=>a("RESULT"),className:"text-gray-400 hover:text-white font-medium flex items-center gap-1 text-sm",children:[l.jsx(nn,{className:"w-4 h-4"})," "]})]}),l.jsx("div",{className:"space-y-6",children:U==null?void 0:U.questions.map((ie,Ne)=>{const ve=ie.type==="REORDER";let ue=!1,je=null;if(ve){const Ze=de[Ne];Ze?(je=Ze.map(ot=>ie.options[ot]).join(" "),ue=Ze.length===ie.options.length&&Ze.every((ot,Wt)=>ot===Wt)):(je="  ",ue=!1)}else{const Ze=de[Ne];ue=Ze===ie.correctAnswer,je=Ze!==void 0?ie.options[Ze]:"  "}return l.jsxs("div",{className:`bg-gray-900 rounded-2xl shadow-sm border p-5 ${ue?"border-gray-700":"border-red-900/50"}`,children:[l.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[l.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shrink-0 mt-0.5 ${ue?"bg-emerald-900 text-emerald-300":"bg-red-900 text-red-300"}`,children:Ne+1}),l.jsx("h3",{className:"text-base font-bold text-white leading-relaxed",children:ie.question})]}),l.jsxs("div",{className:`p-3 rounded-xl border text-sm ${ue?"bg-emerald-900/20 border-emerald-500":"bg-red-900/20 border-red-500"}`,children:[l.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:":"}),l.jsx("span",{className:"font-bold",children:je})]}),!ue&&l.jsxs("div",{className:"mt-2 p-3 rounded-xl border bg-gray-800 border-gray-700 text-sm",children:[l.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:" :"}),l.jsx("span",{className:"font-bold text-emerald-400",children:ve?ie.options.join(" "):ie.options[ie.correctAnswer]})]})]},ie.id)})})]});return l.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 text-gray-100",children:[n==="SELECTION"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-4 px-4 sticky top-0 z-30",children:l.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(nn,{className:"w-6 h-6 text-gray-300"})}),l.jsx("span",{className:"font-bold text-white",children:" "})]})}),Pt()]}),n==="ACTIVE"&&ps(),n==="RESULT"&&Kr(),n==="REVIEW"&&pr(),Ce&&l.jsx(Ct,{title:"  ",message:Be==="REVIEW"?"   ":Be==="RETAKE"?"     ":Be==="LIST"?"    ":"    ",onConfirm:Pn,onCancel:()=>Pe(!1),confirmText:"",cancelText:"",icon:PT})]})},NI=({className:r})=>l.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),EI=({className:r})=>l.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),TI=({onBack:r})=>{const e=[{name:".   ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",title:"  ",school:"  ",location:" ",color:"emerald",bio:"         .              .",skills:["  ","  "],social:{facebook:"#",whatsapp:"https://wa.me/972568401548",telegram:"https://t.me/yazan1342"}},{name:".   ",image:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",title:"  ",school:"  ",location:" ",color:"blue",bio:"       .                .",skills:[" "],social:{facebook:"#",whatsapp:"#",telegram:"#"}}];return l.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[l.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsx("div",{className:"max-w-6xl mx-auto flex items-center gap-4",children:l.jsxs("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors flex items-center gap-2 text-gray-300 hover:text-white font-bold",children:[l.jsx(nn,{className:"w-6 h-6"})," "]})})}),l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h1",{className:"text-4xl font-black text-white mb-4",children:"  "}),l.jsx("p",{className:"text-xl text-gray-400",children:"       "})]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:e.map((n,a)=>l.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-lg border border-white/5 flex flex-col hover:shadow-2xl transition-all duration-300 p-8 hover:border-emerald-500/20",children:[l.jsx("div",{className:"flex justify-center mb-8",children:l.jsx("div",{className:"w-48 h-48 rounded-full p-1 bg-gray-800 shadow-md border border-white/5",children:l.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full rounded-full object-cover"})})}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:n.name}),l.jsx("p",{className:`text-${n.color}-400 font-bold text-lg mb-4`,children:n.title}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-gray-400 text-sm font-medium",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Tv,{className:"w-4 h-4"}),n.school]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(f0,{className:"w-4 h-4"}),n.location]})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"mb-8 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[l.jsx(ih,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),l.jsx("h3",{className:"font-bold text-white",children:" "})]}),l.jsx("p",{className:"text-gray-300 leading-relaxed text-sm",children:n.bio})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center justify-center gap-2",children:[l.jsx(Ri,{className:`w-5 h-5 text-${n.color}-400`})," "]}),l.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:n.skills.map((o,u)=>l.jsx("span",{className:`bg-${n.color}-900/20 text-${n.color}-300 px-4 py-2 rounded-xl text-sm font-bold border border-${n.color}-900/30`,children:o},u))})]})]}),l.jsx("div",{className:"pt-6 border-t border-white/5",children:l.jsxs("div",{className:"flex justify-center gap-4",children:[l.jsx("a",{href:n.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-blue-900/20 text-blue-400 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all border border-blue-900/30",children:l.jsx(u0,{className:"w-5 h-5"})}),l.jsx("a",{href:n.social.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-900/20 text-green-400 flex items-center justify-center hover:bg-green-600 hover:text-white transition-all border border-green-900/30",children:l.jsx(NI,{className:"w-5 h-5"})}),l.jsx("a",{href:n.social.telegram,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-sky-900/20 text-sky-400 flex items-center justify-center hover:bg-sky-600 hover:text-white transition-all border border-sky-900/30",children:l.jsx(EI,{className:"w-5 h-5"})})]})})]},a))})]})]})},SI=({onBack:r})=>l.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[l.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:l.jsxs("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors flex items-center gap-2 text-gray-300 hover:text-white font-bold",children:[l.jsx(nn,{className:"w-6 h-6"})," "]})})}),l.jsx("div",{className:"relative bg-emerald-900/20 py-20 overflow-hidden border-b border-white/5",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10 text-center",children:[l.jsx("span",{className:"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30 px-4 py-1 rounded-full text-sm font-medium mb-6 inline-block backdrop-blur-sm",children:"    "}),l.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight",children:["   ",l.jsx("br",{}),"   "]}),l.jsx("p",{className:"text-gray-300 text-xl max-w-2xl mx-auto leading-relaxed",children:"                    ."})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-20",children:[l.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-sm border border-white/5 hover:shadow-lg transition-all hover:bg-gray-800",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:l.jsx(c0,{className:"w-8 h-8 text-blue-400"})}),l.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:""}),l.jsx("p",{className:"text-gray-400 leading-relaxed text-lg",children:"                   ."})]}),l.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-sm border border-white/5 hover:shadow-lg transition-all hover:bg-gray-800",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-900/30 rounded-2xl flex items-center justify-center mb-6 border border-emerald-500/20",children:l.jsx(d4,{className:"w-8 h-8 text-emerald-400"})}),l.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:""}),l.jsx("p",{className:"text-gray-400 leading-relaxed text-lg",children:"                  ."})]})]}),l.jsxs("div",{className:"mb-20",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-black text-white mb-4",children:"   "}),l.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:a4,title:" ",desc:"       ."},{icon:fT,title:" ",desc:"           ."},{icon:Sv,title:" ",desc:"         ."},{icon:T4,title:" ",desc:"          ."}].map((e,n)=>l.jsxs("div",{className:"bg-gray-900 p-6 rounded-2xl border border-white/5 text-center hover:border-emerald-500/30 transition-all group hover:-translate-y-1",children:[l.jsx("div",{className:"w-14 h-14 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-emerald-900/30 transition-colors border border-white/5",children:l.jsx(e.icon,{className:"w-7 h-7 text-gray-300 group-hover:text-emerald-400"})}),l.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:e.title}),l.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:e.desc})]},n))})]})]})]}),jI=({onBack:r})=>l.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in flex flex-col transition-colors duration-300 text-gray-100",children:[l.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:l.jsxs("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors flex items-center gap-2 text-gray-300 hover:text-white font-bold",children:[l.jsx(nn,{className:"w-6 h-6"})," "]})})}),l.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:l.jsxs("div",{className:"bg-gray-900 p-12 rounded-3xl shadow-xl border border-white/5 max-w-md w-full flex flex-col items-center transform hover:scale-105 transition-transform duration-300",children:[l.jsx("div",{className:"w-24 h-24 bg-emerald-900/20 rounded-full flex items-center justify-center mb-6 animate-bounce border border-emerald-500/20",children:l.jsx(G0,{className:"w-12 h-12 text-emerald-400"})}),l.jsx("h1",{className:"text-4xl font-black text-white mb-3",children:""}),l.jsx("p",{className:"text-gray-400 text-lg font-medium",children:"        "})]})})]}),xv=({options:r,value:e,onChange:n,placeholder:a,disabled:o})=>{const[u,f]=F.useState(!1),g=F.useRef(null);F.useEffect(()=>{const p=_=>{g.current&&!g.current.contains(_.target)&&f(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const y=r.find(p=>p.value===e&&!p.isHeader);return l.jsxs("div",{className:`relative ${u?"z-50":"z-0"}`,ref:g,children:[l.jsxs("button",{type:"button",onClick:()=>!o&&f(!u),className:`w-full px-5 py-4 rounded-2xl font-bold text-right border-2 flex justify-between items-center outline-none transition-all
            ${o?"bg-gray-800 border-gray-700 text-gray-400 cursor-not-allowed":u?"bg-gray-800 border-emerald-500 ring-4 ring-emerald-900/20 text-white shadow-lg":"bg-gray-700 border-transparent hover:border-emerald-700 text-white shadow-sm"}
         `,children:[l.jsx("span",{className:`truncate ${y?"":"text-gray-500"}`,children:y?y.label:a}),l.jsx(Ii,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${u?"rotate-180 text-emerald-500":""}`})]}),u&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 border border-gray-700 rounded-2xl shadow-xl max-h-72 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-50",children:[r.map((p,_)=>{if(p.isHeader)return l.jsx("div",{className:"px-4 py-2 text-xs font-black text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-700/50 rounded-lg mb-1",children:p.label},_);const w=p.value===e;return l.jsxs("div",{onClick:()=>{n(p.value),f(!1)},className:`px-4 py-3 rounded-xl font-bold text-sm cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${w?"bg-emerald-900/30 text-emerald-400":"text-gray-300 hover:bg-gray-700"}
                   `,children:[p.label,w&&l.jsx(Dc,{className:"w-4 h-4"})]},_)}),r.length===0&&l.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"   "})]})]})},AI=({onBack:r})=>{const[e,n]=F.useState(""),[a,o]=F.useState(""),[u,f]=F.useState("SELECTION"),[g,y]=F.useState(["handouts"]),[p,_]=F.useState([]),[w,A]=F.useState(!1);F.useEffect(()=>{u==="CONTENT"&&a&&e&&M()},[u,a,e]);const M=async()=>{A(!0);try{const re=Cs(_n(St,"study_materials"),Rs("grade","==",a),Rs("subject","==",e)),$=await mr(re),S=[];$.forEach(E=>{S.push({id:E.id,...E.data()})}),S.sort((E,j)=>{var V,C;const k=((V=E.createdAt)==null?void 0:V.seconds)||0;return(((C=j.createdAt)==null?void 0:C.seconds)||0)-k}),_(S)}catch(re){console.error("Error fetching materials:",re)}finally{A(!1)}},U=()=>{e&&a&&f("CONTENT")},se=re=>{y($=>$.includes(re)?$.filter(S=>S!==re):[...$,re])},Y=()=>{const re=p.filter(E=>E.category==="handouts"),$=p.filter(E=>E.category==="worksheets"),S=p.filter(E=>E.category==="exams");return[{id:"handouts",title:" ",files:re},{id:"worksheets",title:" ",files:$},{id:"exams",title:" ",files:S}]},le=re=>re?(re.toDate?re.toDate():new Date(re.seconds*1e3)).toLocaleDateString("ar-EG"):"",de=Y(),ae=()=>{const re=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(S=>({label:` ${S}`,value:S.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"   -   ",value:"English Major - QOU"}],$=[{label:"  (English)",value:"English"},{label:"",value:"Math"},{label:"",value:"Science"}];return l.jsxs("div",{className:"w-full animate-fade-in pb-20 bg-gray-950 min-h-screen text-gray-100",children:[l.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(156, 163, 175, 0.5);
          border-radius: 20px;
        }
      `}),l.jsxs("div",{className:"relative pt-32 pb-56 px-4 overflow-hidden rounded-b-[3.5rem] shadow-2xl shadow-gray-900/50 mb-20 border-b border-white/5",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1gSDH-0a3cWa8m8APr5qXGkKxINXZcSid",alt:"Background",className:"w-full h-full object-cover object-center scale-105 opacity-50"}),l.jsx("div",{className:"absolute inset-0 bg-emerald-900/80 mix-blend-multiply"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-transparent to-gray-950/90"})]}),l.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[l.jsx("div",{className:"inline-flex items-center justify-center p-5 bg-white/10 backdrop-blur-md rounded-3xl mb-6 border border-white/20 shadow-inner ring-1 ring-white/30 animate-fade-in-up",children:l.jsx(ic,{className:"w-10 h-10 text-white drop-shadow-md"})}),l.jsx("h2",{className:"text-5xl md:text-7xl font-black text-white mb-6 tracking-tight drop-shadow-2xl animate-fade-in-up delay-100",children:"  "}),l.jsx("p",{className:"text-white/95 text-xl md:text-2xl max-w-3xl mx-auto font-medium leading-relaxed drop-shadow-lg mb-8 animate-fade-in-up delay-200",children:"         PDF.      ."})]})]}),l.jsx("div",{className:"max-w-4xl mx-auto px-6 -mt-40 relative z-20 animate-fade-in-up delay-300",children:l.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-2xl border border-white/5 p-8 md:p-12 backdrop-blur-xl",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[l.jsxs("div",{className:"group relative z-20",children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-3 flex items-center gap-2 group-hover:text-emerald-400 transition-colors",children:[l.jsx("div",{className:"p-2 bg-emerald-900/20 rounded-lg group-hover:bg-emerald-900/40 transition-colors",children:l.jsx(Wn,{className:"w-5 h-5 text-emerald-400"})})," "]}),l.jsx(xv,{options:$,value:e,onChange:n,placeholder:" "})]}),l.jsxs("div",{className:"group relative z-10",children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-3 flex items-center gap-2 group-hover:text-teal-400 transition-colors",children:[l.jsx("div",{className:"p-2 bg-teal-900/20 rounded-lg group-hover:bg-teal-900/40 transition-colors",children:l.jsx(La,{className:"w-5 h-5 text-teal-400"})})," "]}),l.jsx(xv,{options:re,value:a,onChange:o,placeholder:" "})]})]}),l.jsxs("button",{onClick:U,disabled:!e||!a,className:`w-full py-5 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all shadow-lg ${!e||!a?"bg-gray-700 text-gray-500 cursor-not-allowed shadow-none":"bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 hover:shadow-emerald-900/50 hover:-translate-y-1"}`,children:[l.jsx(za,{className:"w-6 h-6"})," "]})]})})]})},me=()=>l.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8 animate-fade-in-up min-h-screen",children:[l.jsxs("div",{className:"text-center mb-8 bg-gray-900 p-6 rounded-3xl shadow-sm border border-white/5 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-teal-500"}),l.jsx("div",{className:"w-16 h-16 bg-emerald-900/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(ql,{className:"w-8 h-8 text-emerald-400"})}),l.jsxs("h2",{className:"text-2xl font-black text-white mb-2",children:[" ",e]}),l.jsxs("p",{className:"text-gray-400 font-medium text-sm md:text-base",children:["        ",l.jsx("span",{className:"font-bold text-emerald-400",children:a==="English Major - QOU"?"  ":a})]})]}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("button",{onClick:()=>f("SELECTION"),className:"flex items-center gap-2 bg-gray-800 text-gray-200 px-5 py-3 rounded-xl font-bold shadow-sm border border-gray-700 hover:border-emerald-600 hover:text-emerald-400 transition-all hover:-translate-y-0.5",children:[l.jsx(nn,{className:"w-5 h-5"})," "]}),l.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs font-bold text-gray-400 bg-gray-800 px-3 py-1.5 rounded-lg border border-gray-700",children:[l.jsx(ic,{className:"w-3.5 h-3.5"}),de.reduce((re,$)=>re+$.files.length,0)," "]})]}),w?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[l.jsx(sn,{className:"w-10 h-10 animate-spin text-emerald-400"}),l.jsx("p",{className:"text-gray-400 font-bold",children:"  ..."})]}):l.jsx("div",{className:"space-y-4",children:de.map(re=>{const $=g.includes(re.id);return l.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[l.jsxs("button",{onClick:()=>se(re.id),className:`w-full flex items-center justify-between p-5 transition-colors ${$?"bg-gray-700/30":"hover:bg-gray-700/30"}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`p-2.5 rounded-xl ${$?"bg-emerald-900/30 text-emerald-400":"bg-gray-700 text-gray-400"}`,children:l.jsx(ic,{className:"w-6 h-6"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"font-bold text-base text-white block",children:re.title}),l.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:[re.files.length," "]})]})]}),l.jsx("div",{className:`transition-transform duration-300 ${$?"rotate-180":""}`,children:l.jsx(Ii,{className:"w-5 h-5 text-gray-400"})})]}),$&&l.jsx("div",{className:"bg-gray-900 border-t border-gray-700",children:re.files.length===0?l.jsxs("div",{className:"p-8 text-center flex flex-col items-center justify-center text-gray-400",children:[l.jsx(ic,{className:"w-10 h-10 mb-2 opacity-20"}),l.jsx("p",{className:"text-sm font-medium",children:"       "})]}):l.jsx("div",{className:"divide-y divide-gray-700/50",children:re.files.map((S,E)=>l.jsxs("div",{onClick:()=>S.url&&window.open(S.url,"_blank"),className:"flex items-center justify-between p-4 hover:bg-emerald-900/10 transition-colors group cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-900/20 flex items-center justify-center shrink-0 text-red-500",children:l.jsx(ql,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[l.jsx("span",{className:"text-sm font-bold text-gray-200 group-hover:text-emerald-300 transition-colors whitespace-normal break-words",children:S.title}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-0.5",children:[l.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded",children:S.size}),l.jsx("span",{children:""}),l.jsx("span",{children:le(S.createdAt)})]})]})]}),l.jsx("button",{className:"p-2.5 rounded-full bg-gray-700 text-gray-400 group-hover:bg-emerald-900/30 group-hover:text-emerald-400 transition-all shrink-0 ml-3",children:l.jsx(o0,{className:"w-5 h-5"})})]},E))})})]},re.id)})}),l.jsxs("div",{className:"mt-8 flex items-center gap-3 justify-center text-xs text-gray-400 bg-gray-800 p-4 rounded-2xl border border-dashed border-gray-700",children:[l.jsx(kd,{className:"w-4 h-4 text-emerald-500 shrink-0"}),l.jsx("span",{children:"      PDF  "})]})]});return l.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 transition-colors duration-300",children:[l.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:l.jsxs("button",{onClick:r,className:"p-2 hover:bg-gray-700 rounded-full transition-colors group flex items-center gap-2",children:[l.jsx(nn,{className:"w-6 h-6 text-gray-400 group-hover:text-emerald-400 transition-colors"}),l.jsx("span",{className:"font-bold text-gray-300 group-hover:text-emerald-400 transition-colors hidden sm:inline",children:""})]})})}),u==="SELECTION"?ae():me()]})},bv=({className:r})=>l.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),vv=({className:r})=>l.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),CI=({onBack:r})=>{const e=n=>{let a="";switch(n){case"message":a="       .";break;case"question":a="       ...";break;case"review":a="      .";break;case"inquiry":a="    .";break;default:a="  ."}const o=`https://wa.me/972568401548?text=${encodeURIComponent(a)}`;window.open(o,"_blank")};return l.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in pb-20 transition-colors duration-300 text-gray-100",children:[l.jsxs("div",{className:"relative pt-32 pb-48 px-4 overflow-hidden rounded-b-[3.5rem] shadow-2xl shadow-gray-900/50 mb-16 bg-gray-900 border-b border-white/5",children:[l.jsx("div",{className:"absolute top-6 left-6 z-30 md:top-10 md:left-10",children:l.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-white/10 backdrop-blur-md text-white px-5 py-2.5 rounded-full font-bold hover:bg-white/20 transition-all border border-white/20 shadow-lg group",children:[l.jsx(nn,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),l.jsx("span",{className:"hidden sm:inline",children:" "})]})}),l.jsxs("div",{className:"absolute inset-0 z-0 bg-gray-900",children:[l.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover opacity-80",poster:"https://images.unsplash.com/photo-1524178232363-1fb2b075b655?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",children:[l.jsx("source",{src:"https://drive.google.com/uc?export=download&id=1gfQre4TEqHyomoSblHjn-abxK_cduc8t",type:"video/mp4"}),l.jsx("source",{src:"https://assets.mixkit.co/videos/preview/mixkit-online-learning-man-student-on-laptop-4612-large.mp4",type:"video/mp4"})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/70 via-emerald-900/40 to-gray-900/90"})]}),l.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto text-white",children:[l.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-6 leading-tight animate-fade-in-up delay-100 drop-shadow-2xl text-emerald-400",children:"  "}),l.jsx("p",{className:"text-xl md:text-2xl text-emerald-200 font-bold max-w-2xl mx-auto leading-relaxed animate-fade-in-up delay-200 drop-shadow-lg",children:"  .             ."})]})]}),l.jsxs("div",{className:"max-w-5xl mx-auto px-4 -mt-32 relative z-20",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[l.jsxs("button",{onClick:()=>e("message"),className:"group bg-gray-900 p-6 rounded-[2rem] shadow-xl border border-gray-700 hover:border-emerald-500 transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-400 to-teal-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-900/20 rounded-2xl flex items-center justify-center text-emerald-400 group-hover:scale-110 transition-transform duration-300",children:l.jsx(Ld,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"text-xl font-black text-white mb-1 group-hover:text-emerald-400 transition-colors",children:" "}),l.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"   "})]})]})]}),l.jsxs("button",{onClick:()=>e("question"),className:"group bg-gray-900 p-6 rounded-[2rem] shadow-xl border border-gray-700 hover:border-blue-500 transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-400 to-indigo-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-900/20 rounded-2xl flex items-center justify-center text-blue-400 group-hover:scale-110 transition-transform duration-300",children:l.jsx(ki,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"text-xl font-black text-white mb-1 group-hover:text-blue-400 transition-colors",children:" "}),l.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"    "})]})]})]}),l.jsxs("button",{onClick:()=>e("review"),className:"group bg-gray-900 p-6 rounded-[2rem] shadow-xl border border-gray-700 hover:border-purple-500 transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-400 to-pink-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:"w-16 h-16 bg-purple-900/20 rounded-2xl flex items-center justify-center text-purple-400 group-hover:scale-110 transition-transform duration-300",children:l.jsx(lT,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"text-xl font-black text-white mb-1 group-hover:text-purple-400 transition-colors",children:" "}),l.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"    "})]})]})]}),l.jsxs("button",{onClick:()=>e("inquiry"),className:"group bg-gray-900 p-6 rounded-[2rem] shadow-xl border border-gray-700 hover:border-orange-500 transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-orange-400 to-amber-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:"w-16 h-16 bg-orange-900/20 rounded-2xl flex items-center justify-center text-orange-400 group-hover:scale-110 transition-transform duration-300",children:l.jsx(Pd,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"text-xl font-black text-white mb-1 group-hover:text-orange-400 transition-colors",children:" "}),l.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"    "})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-2xl border border-gray-700 flex flex-col items-center text-center relative overflow-hidden group hover:shadow-xl transition-shadow",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-900/20 rounded-full blur-3xl opacity-50 -mr-10 -mt-10 pointer-events-none"}),l.jsxs("div",{className:"relative shrink-0 mb-6",children:[l.jsx("div",{className:"w-56 h-56 md:w-72 md:h-72 rounded-full p-2 bg-gradient-to-br from-emerald-400 to-teal-600 shadow-lg",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full rounded-full object-cover border-4 border-gray-800 bg-gray-700"})}),l.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gray-800 p-2 rounded-full shadow-md",children:l.jsx("div",{className:"bg-green-500 w-5 h-5 rounded-full border-2 border-gray-800 animate-pulse"})})]}),l.jsxs("div",{className:"z-10",children:[l.jsx("span",{className:"text-emerald-400 font-bold tracking-wider uppercase text-sm mb-2 block",children:" "}),l.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:".   "}),l.jsx("p",{className:"text-gray-400 mb-8 font-medium text-base",children:"     ."}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[l.jsxs("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#25D366] hover:bg-[#20BD5C] text-white px-6 py-3 rounded-xl font-bold text-sm transition-all shadow-md hover:-translate-y-1",children:[l.jsx(bv,{className:"w-5 h-5"}),""]}),l.jsxs("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#0088cc] hover:bg-[#0077b5] text-white px-6 py-3 rounded-xl font-bold text-sm transition-all shadow-md hover:-translate-y-1",children:[l.jsx(vv,{className:"w-5 h-5"}),""]})]})]})]}),l.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-2xl border border-gray-700 flex flex-col items-center text-center relative overflow-hidden group hover:shadow-xl transition-shadow",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-900/20 rounded-full blur-3xl opacity-50 -mr-10 -mt-10 pointer-events-none"}),l.jsxs("div",{className:"relative shrink-0 mb-6",children:[l.jsx("div",{className:"w-56 h-56 md:w-72 md:h-72 rounded-full p-2 bg-gradient-to-br from-blue-400 to-indigo-600 shadow-lg",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:".   ",className:"w-full h-full rounded-full object-cover border-4 border-gray-800 bg-gray-700"})}),l.jsx("div",{className:"absolute -bottom-1 -right-1 bg-gray-800 p-2 rounded-full shadow-md",children:l.jsx("div",{className:"bg-green-500 w-5 h-5 rounded-full border-2 border-gray-800 animate-pulse"})})]}),l.jsxs("div",{className:"z-10",children:[l.jsx("span",{className:"text-blue-400 font-bold tracking-wider uppercase text-sm mb-2 block",children:" "}),l.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:".   "}),l.jsx("p",{className:"text-gray-400 mb-8 font-medium text-base",children:"      ."}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[l.jsxs("button",{className:"flex items-center gap-2 bg-[#25D366] hover:bg-[#20BD5C] text-white px-6 py-3 rounded-xl font-bold text-sm transition-all shadow-md hover:-translate-y-1 opacity-80 cursor-not-allowed",disabled:!0,children:[l.jsx(bv,{className:"w-5 h-5"}),""]}),l.jsxs("button",{className:"flex items-center gap-2 bg-[#0088cc] hover:bg-[#0077b5] text-white px-6 py-3 rounded-xl font-bold text-sm transition-all shadow-md hover:-translate-y-1 opacity-80 cursor-not-allowed",disabled:!0,children:[l.jsx(vv,{className:"w-5 h-5"}),""]})]})]})]})]})]})]})},_v=[{minLevel:1,title:" ",icon:$0},{minLevel:5,title:" ",icon:Wn},{minLevel:10,title:"",icon:za},{minLevel:15,title:" ",icon:Ri},{minLevel:20,title:"",icon:K0},{minLevel:30,title:"",icon:Yl}],RI=({onLoginClick:r})=>{const[e,n]=F.useState([]),[a,o]=F.useState(!0),{user:u}=gr(),[f,g]=F.useState(0),[y,p]=F.useState(null),[_,w]=F.useState(null),[A,M]=F.useState(!1);F.useEffect(()=>{const me=Cs(_n(St,"users"),Rs("role","==","student")),re=UC(me,S=>{const E=[];S.forEach(j=>{const k=j.data();E.push({uid:j.id,...k})}),E.sort((j,k)=>(Number(k.totalXP)||0)-(Number(j.totalXP)||0)),n(E.slice(0,10)),o(!1)},S=>{console.error("Error fetching leaderboard:",S),o(!1)});return(async()=>{try{const S=Cs(_n(St,"quizzes")),E=await mr(S);g(E.size)}catch(S){console.error("Error fetching quizzes count:",S)}})(),()=>re()},[]);const U=async me=>{p(me),M(!0),w(null);try{const re=Cs(_n(St,"quiz_results"),Rs("userId","==",me.uid)),$=await mr(re);let S=0,E=0;$.forEach(k=>{const I=k.data();I.percentage!==void 0&&(S+=I.percentage,E++)});const j=E>0?Math.round(S/E):0;w({average:j,totalQuizzes:E})}catch(re){console.error("Error fetching student stats",re)}finally{M(!1)}},se=me=>{switch(me){case 0:return"bg-gradient-to-b from-yellow-400 to-yellow-600 text-white shadow-lg shadow-yellow-500/30 border border-yellow-300 scale-110";case 1:return"bg-gradient-to-b from-slate-300 to-slate-500 text-white shadow-md border border-slate-300";case 2:return"bg-gradient-to-b from-orange-400 to-orange-600 text-white shadow-md border border-orange-300";case 9:return"bg-gray-800 text-gray-400 border border-gray-700";default:return"bg-gray-700 text-gray-200 border border-gray-600"}},Y=me=>l.jsx("span",{className:"font-black text-sm font-mono",children:me+1}),le=me=>{const re=Math.floor(me/500)+1,$=[..._v].reverse().find(S=>re>=S.minLevel)||_v[0];return{level:re,rank:$}},de=e.reduce((me,re)=>me+(re.quizzesCompleted||0),0),ae=de*8;return l.jsxs("section",{className:"py-12 md:py-16 relative overflow-hidden",children:[y&&l.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>p(null)}),l.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] w-full max-w-md relative shadow-2xl animate-fade-in-up overflow-hidden border border-white/10",children:[l.jsx("button",{onClick:()=>p(null),className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full text-white z-20 transition-colors backdrop-blur-sm",children:l.jsx(Ur,{className:"w-5 h-5"})}),l.jsx("div",{className:"h-32 bg-gray-800 relative"}),l.jsxs("div",{className:"px-8 pb-8 -mt-16 relative z-10 text-center",children:[l.jsx("div",{className:"w-32 h-32 mx-auto rounded-full p-1.5 bg-gray-900 shadow-2xl mb-4 ring-4 ring-gray-800",children:l.jsx("div",{className:"w-full h-full rounded-full overflow-hidden border-4 border-gray-700 bg-gray-800",children:y.avatar?l.jsx("img",{src:y.avatar,alt:y.displayName,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:l.jsx(Kn,{className:"w-12 h-12 text-gray-500"})})})}),l.jsx("h3",{className:"text-2xl font-black text-white mb-1",children:y.displayName}),l.jsxs("p",{className:"text-gray-400 font-medium text-sm flex items-center justify-center gap-1 mb-6",children:[l.jsx(Pd,{className:"w-4 h-4"}),y.school||" "]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[l.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-2xl border border-white/5",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[Nv.createElement(le(y.totalXP||0).rank.icon,{className:"w-5 h-5 text-indigo-400"}),l.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase",children:""})]}),l.jsx("div",{className:"font-black text-white text-sm",children:le(y.totalXP||0).rank.title}),l.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:[" ",le(y.totalXP||0).level]})]}),l.jsx("div",{className:"bg-gray-800/50 p-4 rounded-2xl border border-white/5",children:A?l.jsx("div",{className:"flex justify-center py-2",children:l.jsx(sn,{className:"w-5 h-5 animate-spin text-emerald-500"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[l.jsx(ih,{className:"w-5 h-5 text-emerald-400 fill-emerald-400"}),l.jsx("span",{className:"text-xs font-bold text-emerald-400 uppercase",children:" "})]}),l.jsxs("div",{className:"font-black text-white text-xl",children:[(_==null?void 0:_.average)||0,"%"]}),l.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:[(_==null?void 0:_.totalQuizzes)||0," "]})]})})]}),l.jsxs("div",{className:"bg-gray-800/30 border border-white/10 border-dashed rounded-xl p-5 relative",children:[l.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gray-800 text-yellow-500 px-3 py-1 rounded-full text-[10px] font-bold shadow-sm flex items-center gap-1 border border-white/10",children:[l.jsx(Ri,{className:"w-3 h-3"})," "]}),l.jsxs("p",{className:"text-sm text-gray-300 leading-relaxed font-medium mt-2 mb-6",children:["     / ",l.jsx("span",{className:"font-bold text-white underline decoration-yellow-600",children:y.displayName}),"      /   ."]}),l.jsxs("div",{className:"flex justify-around items-center pt-4 border-t border-white/10",children:[l.jsxs("div",{className:"text-center relative group",children:[l.jsx("div",{className:"text-[10px] text-gray-500 mb-1 font-medium",children:" "}),l.jsx("div",{className:"font-serif font-bold text-white text-sm italic mb-1",children:".   "}),l.jsx("div",{className:"font-['Great_Vibes'] text-xl text-emerald-500/80 absolute -bottom-3 left-1/2 -translate-x-1/2 -rotate-6 whitespace-nowrap pointer-events-none",children:"Yazan. A.K"})]}),l.jsxs("div",{className:"text-center relative group",children:[l.jsx("div",{className:"text-[10px] text-gray-500 mb-1 font-medium",children:" "}),l.jsx("div",{className:"font-serif font-bold text-white text-sm italic mb-1",children:".   "}),l.jsx("div",{className:"font-['Great_Vibes'] text-xl text-blue-500/80 absolute -bottom-3 left-1/2 -translate-x-1/2 -rotate-6 whitespace-nowrap pointer-events-none",children:"Majd Al-Hajj"})]})]})]})]})]})]}),l.jsxs("div",{className:"max-w-4xl mx-auto px-4 mb-24 relative z-10",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-white/5 backdrop-blur-md rounded-3xl shadow-lg border border-white/10 mb-5 transform -rotate-3 hover:rotate-0 transition-transform duration-300",children:l.jsx(Ml,{className:"w-8 h-8 text-indigo-400"})}),l.jsx("h2",{className:"text-4xl font-black text-white mb-3 tracking-tight drop-shadow-lg",children:" "}),l.jsx("p",{className:"text-gray-400 text-base font-medium max-w-md mx-auto",children:"        "})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-2xl rounded-[2.5rem] border border-white/10 shadow-2xl p-4 md:p-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-2/3 h-1 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-50 blur-sm"}),a?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-indigo-900 rounded-full blur-xl opacity-50 animate-pulse"}),l.jsx(sn,{className:"w-12 h-12 animate-spin text-indigo-400 relative z-10"})]}),l.jsx("p",{className:"text-gray-400 font-bold mt-6 text-sm animate-pulse",children:"  ..."})]}):e.length===0?l.jsxs("div",{className:"text-center py-20",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6 border-4 border-gray-700 shadow-xl",children:l.jsx(Ri,{className:"w-10 h-10 text-gray-500"})}),l.jsx("h3",{className:"text-2xl font-black text-gray-300 mb-3",children:"  "}),l.jsx("p",{className:"text-gray-500 font-medium mb-8 text-sm",children:"       !"}),!u&&l.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-8 py-3.5 rounded-2xl font-bold text-sm hover:bg-indigo-700 transition-all hover:shadow-[0_0_20px_rgba(99,102,241,0.4)] transform hover:-translate-y-1",children:[l.jsx(kv,{className:"w-4 h-4"}),"  "]})]}):l.jsx("div",{className:"space-y-3",children:e.map((me,re)=>l.jsxs("div",{onClick:()=>U(me),className:`flex items-center p-3 rounded-2xl transition-all duration-300 cursor-pointer group border ${(u==null?void 0:u.uid)===me.uid?"bg-indigo-900/30 border-indigo-500/50 shadow-[0_0_15px_rgba(99,102,241,0.2)] z-10 relative":"bg-white/5 border-white/5 hover:bg-white/10 hover:border-white/20"}`,children:[l.jsx("div",{className:"w-10 flex justify-center shrink-0",children:l.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shadow-sm transition-transform group-hover:scale-110 ${se(re)}`,children:Y(re)})}),l.jsxs("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full overflow-hidden border-2 shadow-sm shrink-0 mx-3 border-gray-700 group-hover:border-white/30 transition-colors bg-gray-800 relative",children:[me.avatar?l.jsx("img",{src:me.avatar,alt:me.displayName,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(Kn,{className:"w-5 h-5 text-gray-500"})}),re===0&&l.jsx("div",{className:"absolute -top-2 -right-2 text-yellow-500 drop-shadow-sm",children:l.jsx(Yl,{className:"w-4 h-4 fill-yellow-500"})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:`font-bold text-sm md:text-base truncate group-hover:text-indigo-300 transition-colors ${(u==null?void 0:u.uid)===me.uid?"text-indigo-300":re===0?"text-yellow-200":"text-white"}`,children:me.displayName}),l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-500 mt-0.5",children:[l.jsx(Pd,{className:"w-3 h-3 shrink-0"}),l.jsx("span",{className:"truncate max-w-[120px] md:max-w-xs",children:me.school||" "})]})]}),l.jsx("div",{className:"shrink-0 pl-2",children:l.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg border shrink-0 transition-all ${re===0?"bg-yellow-500/10 border-yellow-500/20":"bg-black/20 border-white/5 group-hover:bg-indigo-900/20"}`,children:[l.jsx("span",{className:`font-black text-xs md:text-sm ${re===0?"text-yellow-200":"text-white"}`,children:me.totalXP||0}),l.jsx(Od,{className:`w-3 h-3 md:w-3.5 md:h-3.5 ${re===0?"text-yellow-400 fill-yellow-400":re<3?"text-orange-500 fill-orange-500":"text-gray-600"}`})]})})]},me.uid))})]})]}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 mb-24 relative z-10",children:l.jsxs("div",{className:"relative overflow-hidden rounded-[3rem] bg-white/[0.02] backdrop-blur-sm shadow-xl border border-white/5 group",children:[l.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 bg-indigo-900 rounded-full blur-[120px] opacity-5 group-hover:opacity-10 transition-opacity duration-1000"}),l.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-96 h-96 bg-emerald-900 rounded-full blur-[120px] opacity-5 group-hover:opacity-10 transition-opacity duration-1000"}),l.jsx("div",{className:"relative z-10 p-8 md:p-12",children:l.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-12",children:[l.jsxs("div",{className:"text-center lg:text-right max-w-lg",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 text-emerald-400 text-sm font-bold mb-6 backdrop-blur-sm shadow-sm",children:[l.jsx(AE,{className:"w-4 h-4"}),l.jsx("span",{children:" "})]}),l.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-white mb-6 leading-tight",children:[" ",l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400",children:""}),"  !"]}),l.jsx("p",{className:"text-gray-400 text-lg leading-relaxed font-medium",children:"              ."})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-5 w-full lg:w-auto",children:[l.jsxs("div",{className:"bg-white/[0.03] border border-white/5 p-6 rounded-3xl text-center hover:bg-white/[0.05] transition-all hover:-translate-y-1 group/stat",children:[l.jsx("div",{className:"inline-flex p-3 bg-emerald-500/10 rounded-2xl mb-3 text-emerald-400 group-hover/stat:text-emerald-300 transition-colors",children:l.jsx(Pa,{className:"w-7 h-7"})}),l.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:f.toLocaleString()}),l.jsx("div",{className:"text-[10px] md:text-xs font-bold text-emerald-300/60 uppercase tracking-wider",children:" "})]}),l.jsxs("div",{className:"bg-white/[0.03] border border-white/5 p-6 rounded-3xl text-center hover:bg-white/[0.05] transition-all hover:-translate-y-1 group/stat",children:[l.jsx("div",{className:"inline-flex p-3 bg-amber-500/10 rounded-2xl mb-3 text-amber-400 group-hover/stat:text-amber-300 transition-colors",children:l.jsx(Ml,{className:"w-7 h-7"})}),l.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:de.toLocaleString()}),l.jsx("div",{className:"text-[10px] md:text-xs font-bold text-amber-300/60 uppercase tracking-wider",children:" "})]}),l.jsxs("div",{className:"bg-white/[0.03] border border-white/5 p-6 rounded-3xl text-center hover:bg-white/[0.05] transition-all hover:-translate-y-1 group/stat",children:[l.jsx("div",{className:"inline-flex p-3 bg-rose-500/10 rounded-2xl mb-3 text-rose-400 group-hover/stat:text-rose-300 transition-colors",children:l.jsx(Ov,{className:"w-7 h-7"})}),l.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:ae.toLocaleString()}),l.jsx("div",{className:"text-[10px] md:text-xs font-bold text-rose-300/60 uppercase tracking-wider",children:" "})]})]})]})})]})})]})},II=({onBack:r})=>{const[e,n]=F.useState([]),[a,o]=F.useState(!0),[u,f]=F.useState(""),[g,y]=F.useState(null),[p,_]=F.useState(!1);F.useEffect(()=>{w()},[]);const w=async()=>{o(!0);try{const $=Cs(_n(St,"quizzes"),l2("createdAt","desc")),E=(await mr($)).docs.map(j=>({id:j.id,...j.data()}));n(E)}catch($){console.error("Error fetching quizzes:",$)}finally{o(!1)}},A=$=>{y({category:"Language",...$})},M=async($,S)=>{if($.stopPropagation(),!S){alert(":   ");return}if(window.confirm("  "))try{await zC(fr(St,"quizzes",S)),n(E=>E.filter(j=>j.id!==S))}catch(E){console.error("Error deleting quiz:",E),alert("   : "+E.message)}},U=($,S)=>{g&&y({...g,[$]:S})},se=($,S,E)=>{if(!g)return;const j=[...g.questions];j[$]={...j[$],[S]:E},y({...g,questions:j})},Y=($,S,E)=>{if(!g)return;const j=[...g.questions],k=[...j[$].options];k[S]=E,j[$]={...j[$],options:k},y({...g,questions:j})},le=$=>{if(g&&window.confirm("      ")){const S=g.questions.filter((E,j)=>j!==$);y({...g,questions:S})}},de=async()=>{if(!(!g||!g.id)){if(g.questions.length===0){alert("     !");return}_(!0);try{const $=fr(St,"quizzes",g.id);await Fg($,{title:g.title,subject:g.subject,grade:g.grade,category:g.category,questions:g.questions}),n(S=>S.map(E=>E.id===g.id?g:E)),y(null),alert("   ")}catch($){console.error("Error updating quiz:",$),alert("   ")}finally{_(!1)}}},ae=e.filter($=>$.title.toLowerCase().includes(u.toLowerCase())||$.teacherName&&$.teacherName.toLowerCase().includes(u.toLowerCase())),me=$=>$?($.toDate?$.toDate():new Date($.seconds*1e3)).toLocaleDateString("ar-EG"):"",re="w-full p-3 rounded-xl border-2 border-gray-600 focus:border-blue-400 outline-none font-bold text-white bg-gray-700 shadow-sm transition-colors placeholder-gray-400";return l.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in relative transition-colors duration-300 text-gray-100",children:[l.jsx("style",{children:`
        .custom-scrollbar {
          scrollbar-width: thin;
          scrollbar-color: #475569 transparent;
        }
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
          height: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #475569;
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),l.jsx("div",{className:"bg-gray-950 border-b border-white/5 pt-8 pb-20 px-4 shadow-sm relative overflow-hidden",children:l.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("button",{onClick:r,className:"bg-gray-800 hover:bg-gray-700 p-2 rounded-full transition-colors",children:l.jsx(nn,{className:"w-5 h-5 text-gray-300"})}),l.jsx("span",{className:"font-bold text-gray-400",children:" "})]}),l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end justify-between gap-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-black text-white mb-2 tracking-tight",children:"  "}),l.jsx("p",{className:"text-gray-400 font-medium",children:"      "})]}),l.jsxs("div",{className:"w-full md:w-auto bg-gray-800 p-2 rounded-2xl shadow-lg border border-gray-600 flex items-center gap-2",children:[l.jsx(za,{className:"w-5 h-5 text-gray-300 mr-2"}),l.jsx("input",{type:"text",placeholder:"    ...",value:u,onChange:$=>f($.target.value),className:"w-full md:w-64 outline-none text-sm font-bold text-gray-200 placeholder-gray-500 bg-transparent"})]})]})]})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-12 relative z-20",children:a?l.jsx("div",{className:"flex justify-center items-center py-20",children:l.jsx(sn,{className:"w-10 h-10 animate-spin text-blue-400"})}):ae.length===0?l.jsxs("div",{className:"bg-gray-800 rounded-3xl shadow-sm border border-white/5 p-12 text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Pa,{className:"w-8 h-8 text-gray-500"})}),l.jsx("h3",{className:"text-xl font-bold text-white",children:"  "}),l.jsx("p",{className:"text-gray-400 mt-1",children:"       ."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ae.map($=>l.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm hover:shadow-xl transition-all duration-300 border border-white/5 overflow-hidden group flex flex-col",children:[l.jsxs("div",{className:"p-6 flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("span",{className:"bg-blue-900/30 text-blue-300 px-3 py-1 rounded-lg text-xs font-bold",children:$.subject}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>A($),className:"bg-emerald-900/20 text-emerald-400 p-1.5 rounded-lg hover:bg-emerald-900/40 transition-colors",title:" ",children:l.jsx(m0,{className:"w-4 h-4"})}),l.jsx("button",{onClick:S=>M(S,$.id),className:"bg-red-900/20 text-red-400 p-1.5 rounded-lg hover:bg-red-900/40 transition-colors",title:" ",children:l.jsx(g0,{className:"w-4 h-4"})})]})]}),l.jsx("h3",{className:"text-xl font-black text-white mb-2 line-clamp-2 group-hover:text-blue-400 transition-colors",children:$.title}),$.category&&l.jsx("span",{className:"inline-block mb-4 bg-amber-900/20 text-amber-400 text-[10px] font-bold px-2 py-1 rounded-md border border-amber-800/50",children:$.category}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-6",children:[l.jsxs("span",{className:"bg-gray-700 px-2 py-0.5 rounded border border-gray-600 font-bold",children:[" ",$.grade]}),l.jsx("span",{className:"text-gray-600",children:"|"}),l.jsxs("span",{className:"bg-gray-700/50 text-gray-400 px-2 py-0.5 rounded-lg text-xs font-bold flex items-center gap-1",children:[l.jsx(l0,{className:"w-3 h-3"}),me($.createdAt)]})]})]}),l.jsxs("div",{className:"bg-gray-900/50 p-4 border-t border-white/5 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-full border border-gray-600 flex items-center justify-center shadow-sm text-gray-300",children:l.jsx(Kn,{className:"w-4 h-4"})}),l.jsx("p",{className:"text-sm font-bold text-gray-300",children:$.teacherName||""})]}),l.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-gray-400 bg-gray-700 px-2 py-1 rounded-md border border-gray-600",children:[l.jsx(ki,{className:"w-3 h-3"}),$.questions.length," "]})]})]},$.id))})}),g&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden border border-gray-700",children:[l.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-6 flex justify-between items-center shrink-0 sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-emerald-900/30 p-2 rounded-xl",children:l.jsx(m0,{className:"w-6 h-6 text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-black text-white",children:" "}),l.jsx("p",{className:"text-sm text-gray-400",children:"     "})]})]}),l.jsx("button",{onClick:()=>y(null),className:"p-2 hover:bg-gray-700 rounded-full transition-colors text-gray-400",children:l.jsx(Ur,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-900 custom-scrollbar",children:[l.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-700 mb-8",children:[l.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[l.jsx(Pa,{className:"w-5 h-5 text-blue-400"})," "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:" "}),l.jsx("input",{type:"text",value:g.title,onChange:$=>U("title",$.target.value),className:re})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:""}),l.jsx("input",{type:"text",value:g.subject,onChange:$=>U("subject",$.target.value),className:re})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:""}),l.jsx("select",{value:g.grade,onChange:$=>U("grade",$.target.value),className:re,children:[5,6,7,8,9,10,11,12].map($=>l.jsxs("option",{value:$,children:[" ",$]},$))})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"  (Category)"}),l.jsxs("select",{value:g.category||"Language",onChange:$=>U("category",$.target.value),className:re,children:[l.jsx("option",{value:"Language",children:"Language ()"}),l.jsx("option",{value:"Reading",children:"Reading ()"}),l.jsx("option",{value:"Writing",children:"Writing ()"}),l.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"})]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"font-bold text-white flex items-center justify-between",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(ki,{className:"w-5 h-5 text-blue-400"})," (",g.questions.length,")"]}),l.jsx("span",{className:"text-xs bg-yellow-900/30 text-yellow-300 px-2 py-1 rounded-lg",children:"*        "})]}),g.questions.map(($,S)=>l.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-700 relative group",children:[l.jsx("button",{onClick:()=>le(S),className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-red-900/20 hover:text-red-400 rounded-lg transition-colors",title:" ",children:l.jsx(g0,{className:"w-5 h-5"})}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-400 mb-1.5",children:["  ",S+1]}),l.jsx("input",{type:"text",dir:"ltr",value:$.question,onChange:E=>se(S,"question",E.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-600 focus:border-emerald-500 outline-none font-bold text-white bg-gray-700 shadow-sm text-lg transition-colors placeholder-gray-400 text-left"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:$.options.map((E,j)=>l.jsxs("div",{className:"relative",children:[l.jsxs("label",{className:"flex items-center justify-between text-xs font-bold text-gray-400 mb-1 px-1",children:[l.jsxs("span",{children:[" ",j+1]}),l.jsxs("button",{onClick:()=>se(S,"correctAnswer",j),className:`flex items-center gap-1 px-2 py-0.5 rounded cursor-pointer transition-colors ${$.correctAnswer===j?"bg-emerald-900/30 text-emerald-400":"bg-gray-700 text-gray-500 hover:bg-gray-600"}`,children:[$.correctAnswer===j?l.jsx(rr,{className:"w-3 h-3"}):l.jsx("div",{className:"w-3 h-3 border border-gray-400 rounded-full"}),$.correctAnswer===j?" ":" "]})]}),l.jsx("input",{type:"text",dir:"ltr",value:E,onChange:k=>Y(S,j,k.target.value),className:`w-full p-3 rounded-xl border-2 outline-none font-bold transition-colors shadow-sm text-left ${$.correctAnswer===j?"border-emerald-500 bg-emerald-900/20 text-emerald-300":"border-gray-600 focus:border-blue-400 text-white bg-gray-700"}`})]},j))}),l.jsxs("div",{className:"bg-yellow-900/20 p-4 rounded-xl border border-yellow-800",children:[l.jsx("label",{className:"block text-xs font-bold text-yellow-200 mb-1",children:" "}),l.jsx("textarea",{value:$.explanation||"",onChange:E=>se(S,"explanation",E.target.value),className:"w-full p-3 rounded-lg border border-yellow-700 focus:border-yellow-500 outline-none text-gray-200 bg-gray-800 text-sm h-20 resize-none shadow-sm custom-scrollbar text-left",placeholder:"  ...",dir:"ltr"})]})]},S))]})]}),l.jsxs("div",{className:"p-6 bg-gray-800 border-t border-gray-700 flex justify-end gap-3 shrink-0 sticky bottom-0 z-10",children:[l.jsx("button",{onClick:()=>y(null),className:"px-6 py-3 rounded-xl font-bold text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:""}),l.jsxs("button",{onClick:de,disabled:p,className:"px-8 py-3 rounded-xl font-bold text-white bg-emerald-600 hover:bg-emerald-700 transition-colors flex items-center gap-2 shadow-lg shadow-none",children:[p?l.jsx(sn,{className:"w-5 h-5 animate-spin"}):l.jsx(Di,{className:"w-5 h-5"})," "]})]})]})})]})},kI=[{id:"grammar",title:" (Grammar)",icon:Pa,desc:"   ",color:"bg-blue-900/20 text-blue-400"},{id:"reading",title:" (Reading)",icon:Wn,desc:"    ",color:"bg-emerald-900/20 text-emerald-400"},{id:"vocabulary",title:" (Vocabulary)",icon:Av,desc:"   ",color:"bg-purple-900/20 text-purple-400"},{id:"writing",title:" (Writing)",icon:Q0,desc:"   ",color:"bg-orange-900/20 text-orange-400"}],DI=({onBack:r})=>{const[e,n]=F.useState("INTRO"),[a,o]=F.useState(""),[u,f]=F.useState(null),[g,y]=F.useState([]),[p,_]=F.useState(!1),[w,A]=F.useState(null);F.useEffect(()=>{window.scrollTo(0,0)},[e]);const M=()=>n("GRADES"),U=E=>{o(E),n("CATEGORIES")},se=E=>{f(E),n("TOPICS")},Y=E=>{A(E),n("DETAILS")};F.useEffect(()=>{e==="TOPICS"&&a&&u&&le()},[e,a,u]);const le=async()=>{_(!0);try{const E=Cs(_n(St,"explanations"),Rs("grade","==",a),Rs("category","==",u==null?void 0:u.id)),j=await mr(E),k=[];j.forEach(I=>{k.push({id:I.id,...I.data()})}),k.sort((I,V)=>{var tt,Q;const C=((tt=I.createdAt)==null?void 0:tt.seconds)||0;return(((Q=V.createdAt)==null?void 0:Q.seconds)||0)-C}),y(k)}catch(E){console.error("Error fetching explanations:",E)}finally{_(!1)}},de=E=>E?(E.toDate?E.toDate():new Date(E.seconds*1e3)).toLocaleDateString("ar-EG"):"",ae=()=>l.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in flex flex-col relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",poster:"https://images.unsplash.com/photo-1497633762265-9d179a990aa6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",className:"w-full h-full object-cover",children:l.jsx("source",{src:"https://drive.google.com/uc?export=download&id=1wHw0wEWltdWfMqblwZLRgLKZ_ah3lCKm",type:"video/mp4"})}),l.jsx("div",{className:"absolute inset-0 bg-gray-950/70"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-transparent to-gray-950/80"})]}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center flex-1 px-6 text-center pt-10",children:[l.jsx("span",{className:"inline-block px-6 py-2 rounded-full bg-white/10 backdrop-blur-md text-emerald-300 font-bold text-sm mb-6 border border-white/20 shadow-lg animate-fade-in-up",children:"  "}),l.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white mb-6 leading-tight drop-shadow-2xl animate-fade-in-up delay-100",children:[" ",l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-400",children:" "})]}),l.jsx("p",{className:"text-gray-200 text-lg md:text-2xl max-w-2xl mx-auto mb-12 leading-relaxed font-medium drop-shadow-md animate-fade-in-up delay-200",children:"         ."}),l.jsxs("button",{onClick:M,className:"w-full md:w-auto bg-white text-gray-900 text-xl font-black px-12 py-5 rounded-2xl hover:scale-105 hover:bg-emerald-50 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)] flex items-center justify-center gap-3 animate-fade-in-up delay-300",children:[" ",l.jsx(nn,{className:"w-6 h-6"})]})]}),l.jsx("div",{className:"p-6 text-center relative z-10",children:l.jsxs("button",{onClick:r,className:"text-white/70 font-bold hover:text-white transition-colors flex items-center justify-center gap-2 mx-auto",children:[l.jsx(Md,{className:"w-4 h-4"})," "]})})]}),me=()=>l.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[l.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:()=>n("INTRO"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(nn,{className:"w-6 h-6 text-gray-300"})}),l.jsx("h2",{className:"text-xl font-black text-white",children:"  "})]})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[[5,6,7,8,9,10,11,12].map(E=>l.jsxs("button",{onClick:()=>U(E.toString()),className:"bg-gray-900 p-6 rounded-2xl shadow-sm border border-gray-700 hover:border-emerald-500 hover:shadow-none hover:-translate-y-1 transition-all group flex flex-col items-center gap-3",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-700 flex items-center justify-center group-hover:bg-emerald-500 transition-colors",children:l.jsx("span",{className:"font-black text-2xl text-gray-300 group-hover:text-white",children:E})}),l.jsxs("span",{className:"font-bold text-gray-300 group-hover:text-emerald-400",children:[" ",E]})]},E)),l.jsxs("button",{onClick:()=>U("English Major - QOU"),className:"col-span-2 md:col-span-3 lg:col-span-4 bg-gradient-to-r from-emerald-600 to-teal-600 p-6 rounded-2xl shadow-lg text-white hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-3 rounded-xl",children:l.jsx(La,{className:"w-8 h-8 text-white"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"block font-black text-lg",children:"  "}),l.jsx("span",{className:"text-emerald-100 text-sm",children:"  "})]})]})]})})]}),re=()=>l.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[l.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:()=>n("GRADES"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(nn,{className:"w-6 h-6 text-gray-300"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-black text-white",children:"   "}),l.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-900/30 px-2 py-0.5 rounded",children:a==="English Major - QOU"?"":` ${a}`})]})]})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:kI.map(E=>l.jsx("button",{onClick:()=>se(E),className:"bg-gray-900 rounded-3xl p-6 shadow-sm border border-gray-700 hover:shadow-xl hover:border-emerald-800 transition-all group text-right relative overflow-hidden",children:l.jsxs("div",{className:"flex items-start gap-5 relative z-10",children:[l.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center shrink-0 ${E.color} group-hover:scale-110 transition-transform`,children:l.jsx(E.icon,{className:"w-8 h-8"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-black text-white mb-2",children:E.title}),l.jsx("p",{className:"text-gray-400 text-sm font-medium",children:E.desc})]}),l.jsx("div",{className:"absolute top-1/2 -left-4 -translate-y-1/2 bg-gray-700 p-2 rounded-full opacity-0 group-hover:opacity-100 group-hover:translate-x-2 transition-all",children:l.jsx(ja,{className:"w-5 h-5 text-gray-400"})})]})},E.id))})})]}),$=()=>l.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[l.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:()=>n("CATEGORIES"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(nn,{className:"w-6 h-6 text-gray-300"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h2",{className:"text-lg font-black text-white",children:u==null?void 0:u.title}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[l.jsx("span",{className:"font-bold",children:" "}),l.jsx("span",{children:""}),l.jsx("span",{children:a==="English Major - QOU"?"":` ${a}`})]})]})]})}),l.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8",children:p?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx(sn,{className:"w-8 h-8 animate-spin text-emerald-400"})}):g.length===0?l.jsx("div",{className:"flex flex-col items-center justify-center text-center",children:l.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-sm border border-gray-700 max-w-md w-full",children:[l.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:"   "}),l.jsxs("p",{className:"text-gray-400 font-medium leading-relaxed mb-6",children:["      ",l.jsx("span",{className:"text-emerald-600 font-bold",children:u==null?void 0:u.title}),"    ."]}),l.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs font-bold text-gray-400 bg-gray-700 py-2 px-4 rounded-full",children:[l.jsx(OE,{className:"w-4 h-4"}),"     "]})]})}):l.jsx("div",{className:"grid grid-cols-1 gap-4",children:g.map(E=>l.jsxs("button",{onClick:()=>Y(E),className:"bg-gray-900 p-5 rounded-2xl shadow-sm border border-gray-700 hover:border-emerald-700 hover:shadow-md transition-all group text-right flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-3 rounded-xl bg-gray-700 group-hover:bg-emerald-900/20 transition-colors",children:l.jsx(ql,{className:"w-6 h-6 text-gray-500 group-hover:text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-1 group-hover:text-emerald-400 transition-colors",children:E.title}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 font-medium",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(l0,{className:"w-3 h-3"}),de(E.createdAt)]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Kn,{className:"w-3 h-3"}),E.teacherName]})]})]})]}),l.jsx(ja,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500 group-hover:-translate-x-1 transition-all"})]},E.id))})})]}),S=()=>w?l.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[l.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:()=>n("TOPICS"),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(nn,{className:"w-6 h-6 text-gray-300"})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("h2",{className:"text-lg font-black text-white truncate",children:w.title})})]})}),l.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"p-6 md:p-8",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6 text-sm text-gray-400 border-b border-gray-700 pb-4",children:[l.jsx("span",{className:"bg-gray-700 px-2 py-1 rounded font-bold",children:a==="English Major - QOU"?"":` ${a}`}),l.jsx(ja,{className:"w-4 h-4"}),l.jsx("span",{className:"bg-gray-700 px-2 py-1 rounded font-bold",children:u==null?void 0:u.title})]}),l.jsx("h1",{className:"text-2xl md:text-3xl font-black text-white mb-6 leading-relaxed",children:w.title}),l.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-200 whitespace-pre-wrap leading-loose text-lg",children:w.content})]}),l.jsxs("div",{className:"bg-gray-900/50 p-4 border-t border-gray-700 flex justify-between items-center text-sm text-gray-400",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Kn,{className:"w-4 h-4"}),l.jsxs("span",{children:[": ",l.jsx("span",{className:"font-bold",children:w.teacherName})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(l0,{className:"w-4 h-4"}),l.jsx("span",{children:de(w.createdAt)})]})]})]})})]}):null;return l.jsxs(l.Fragment,{children:[e==="INTRO"&&ae(),e==="GRADES"&&me(),e==="CATEGORIES"&&re(),e==="TOPICS"&&$(),e==="DETAILS"&&S()]})},OI=[{id:"grammar",title:" (Grammar)",icon:Pa},{id:"reading",title:" (Reading)",icon:Wn},{id:"vocabulary",title:" (Vocabulary)",icon:Av},{id:"writing",title:" (Writing)",icon:Q0}],MI=({onBack:r,onNavigate:e})=>{const{user:n}=gr(),[a,o]=F.useState(""),[u,f]=F.useState(""),[g,y]=F.useState(""),[p,_]=F.useState(""),[w,A]=F.useState(!1),[M,U]=F.useState(!1),se=async()=>{if(!a||!u||!g||!p){alert("    ");return}A(!0);try{await kh(_n(St,"explanations"),{grade:a,category:u,subject:"English",title:g,content:p,teacherName:(n==null?void 0:n.displayName)||"",teacherId:n==null?void 0:n.uid,createdAt:Kl()}),U(!0),setTimeout(()=>{U(!1),y(""),_("")},2e3)}catch(le){console.error("Error saving explanation:",le),alert("   ")}finally{A(!1)}},Y=()=>{r?r():e("HOME")};return l.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[l.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsxs("button",{onClick:Y,className:"p-2 hover:bg-white/10 rounded-full transition-colors flex items-center gap-2 text-gray-300 hover:text-white font-bold",children:[l.jsx(nn,{className:"w-6 h-6"}),""]}),l.jsxs("h1",{className:"text-xl font-black text-white flex items-center gap-2",children:[l.jsx(vc,{className:"w-6 h-6 text-purple-400"}),"  "]})]})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8",children:M?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-fade-in",children:[l.jsx("div",{className:"w-20 h-20 bg-green-900 rounded-full flex items-center justify-center mb-4 border border-green-500/20",children:l.jsx(rr,{className:"w-10 h-10 text-green-400"})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"  !"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"      ."}),l.jsx("button",{onClick:()=>U(!1),className:"bg-gray-800 text-gray-300 px-6 py-2 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-white/5",children:"  "})]}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:"1.   "}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[[5,6,7,8,9,10,11,12].map(le=>l.jsxs("button",{onClick:()=>o(le.toString()),className:`py-3 rounded-xl font-bold transition-all border-2 ${a===le.toString()?"bg-purple-600 text-white border-purple-600 shadow-lg":"bg-gray-800 text-gray-300 border-gray-700 hover:border-purple-500/50"}`,children:[" ",le]},le)),l.jsx("button",{onClick:()=>o("English Major - QOU"),className:`col-span-2 sm:col-span-4 py-3 rounded-xl font-bold transition-all border-2 ${a==="English Major - QOU"?"bg-purple-600 text-white border-purple-600 shadow-lg":"bg-gray-800 text-gray-300 border-gray-700 hover:border-purple-500/50"}`,children:"  "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:"2.   ()"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:OI.map(le=>l.jsxs("button",{onClick:()=>f(le.id),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all text-right ${u===le.id?"bg-purple-900/20 border-purple-500 text-purple-300":"bg-gray-800 border-gray-700 text-gray-300 hover:border-purple-500/50"}`,children:[l.jsx("div",{className:`p-2 rounded-lg ${u===le.id?"bg-purple-800":"bg-gray-700"}`,children:l.jsx(le.icon,{className:"w-5 h-5"})}),l.jsx("span",{className:"font-bold",children:le.title})]},le.id))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"  / "}),l.jsx("input",{type:"text",value:g,onChange:le=>y(le.target.value),placeholder:":   Present Simple",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-purple-500 outline-none font-bold text-white bg-gray-800 transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),l.jsx("textarea",{value:p,onChange:le=>_(le.target.value),placeholder:"  ...",className:"w-full h-64 px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-purple-500 outline-none font-medium text-white bg-gray-800 transition-all resize-none leading-relaxed"}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"          ."})]})]}),l.jsx("div",{className:"pt-4 border-t border-white/5 flex justify-end",children:l.jsxs("button",{onClick:se,disabled:w,className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl font-bold shadow-lg transition-all flex items-center gap-2 transform hover:-translate-y-1",children:[w?l.jsx(sn,{className:"w-5 h-5 animate-spin"}):l.jsx(Di,{className:"w-5 h-5"}),"  "]})})]})})})]})},VI=[{id:"handouts",title:" ",icon:ql,color:"text-blue-400",bg:"bg-blue-900/20"},{id:"worksheets",title:" ",icon:ic,color:"text-emerald-400",bg:"bg-emerald-900/20"},{id:"exams",title:"  ",icon:Wn,color:"text-purple-400",bg:"bg-purple-900/20"}],LI=[{id:"English",title:"  (English)"},{id:"Math",title:""},{id:"Science",title:""}],PI=({onBack:r,onNavigate:e})=>{const{user:n}=gr(),[a,o]=F.useState(""),[u,f]=F.useState(""),[g,y]=F.useState(""),[p,_]=F.useState(""),[w,A]=F.useState(""),[M,U]=F.useState(!1),[se,Y]=F.useState(!1),le=async()=>{if(!a||!u||!g||!p||!w){alert("    ");return}if(!w.startsWith("http")){alert("        http  https");return}U(!0);try{await kh(_n(St,"study_materials"),{grade:a,subject:u,category:g,title:p,url:w,size:"Drive Link",teacherName:(n==null?void 0:n.displayName)||"",teacherId:n==null?void 0:n.uid,createdAt:Kl()}),Y(!0),setTimeout(()=>{Y(!1),_(""),A("")},2e3)}catch(ae){console.error("Error saving file:",ae),alert("   ")}finally{U(!1)}},de=()=>{r?r():e("PROFILE")};return l.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[l.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsxs("button",{onClick:de,className:"p-2 hover:bg-white/10 rounded-full transition-colors flex items-center gap-2 text-gray-300 hover:text-white font-bold",children:[l.jsx(nn,{className:"w-6 h-6"}),""]}),l.jsxs("h1",{className:"text-xl font-black text-white flex items-center gap-2",children:[l.jsx(jv,{className:"w-6 h-6 text-blue-400"}),"   (Drive)"]})]})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8",children:se?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-fade-in",children:[l.jsx("div",{className:"w-20 h-20 bg-green-900 rounded-full flex items-center justify-center mb-4 border border-green-500/20",children:l.jsx(rr,{className:"w-10 h-10 text-green-400"})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"  !"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"       ."}),l.jsx("button",{onClick:()=>Y(!1),className:"bg-gray-800 text-gray-300 px-6 py-2 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-white/5",children:"  "})]}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-3 flex items-center gap-2",children:[l.jsx(La,{className:"w-4 h-4 text-blue-500"})," "]}),l.jsxs("select",{value:a,onChange:ae=>o(ae.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 bg-gray-800 focus:border-blue-500 outline-none font-bold text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"",children:" "}),[5,6,7,8,9,10,11,12].map(ae=>l.jsxs("option",{value:ae.toString(),children:[" ",ae]},ae)),l.jsx("option",{value:"English Major - QOU",children:"  "})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-3 flex items-center gap-2",children:[l.jsx(Wn,{className:"w-4 h-4 text-blue-500"}),""]}),l.jsxs("select",{value:u,onChange:ae=>f(ae.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 bg-gray-800 focus:border-blue-500 outline-none font-bold text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"",children:" "}),LI.map(ae=>l.jsx("option",{value:ae.id,children:ae.title},ae.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:"  ()"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:VI.map(ae=>l.jsxs("button",{onClick:()=>y(ae.id),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all text-center h-full ${g===ae.id?"bg-blue-900/30 border-blue-500 text-blue-300 ring-1 ring-blue-500":"bg-gray-800 border-gray-700 text-gray-300 hover:border-blue-500/50"}`,children:[l.jsx("div",{className:`p-2 rounded-lg ${ae.bg}`,children:l.jsx(ae.icon,{className:`w-6 h-6 ${ae.color}`})}),l.jsx("span",{className:"font-bold text-sm",children:ae.title})]},ae.id))})]}),l.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),l.jsx("input",{type:"text",value:p,onChange:ae=>_(ae.target.value),placeholder:":    -  ",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-blue-500 outline-none font-bold text-white bg-gray-800 transition-all"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(wT,{className:"w-4 h-4 text-blue-500"}),"  (Google Drive Link)"]}),l.jsx("input",{type:"url",value:w,onChange:ae=>A(ae.target.value),placeholder:"https://drive.google.com/file/d/...",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-blue-500 outline-none font-medium text-blue-400 bg-gray-800 transition-all text-left",dir:"ltr"}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'    " " (Anyone with the link)    .'})]})]}),l.jsx("div",{className:"pt-4 flex justify-end",children:l.jsxs("button",{onClick:le,disabled:M,className:"w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white px-10 py-3 rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 transform hover:-translate-y-1",children:[M?l.jsx(sn,{className:"w-5 h-5 animate-spin"}):l.jsx(Di,{className:"w-5 h-5"}),"  "]})})]})})})]})},i0=[{text:"            .",author:" ",color:"from-emerald-400 to-teal-500",bg:"bg-emerald-500"},{text:"               .",author:"",color:"from-blue-400 to-indigo-500",bg:"bg-blue-500"},{text:"        .",author:" ",color:"from-yellow-400 to-amber-500",bg:"bg-amber-500"},{text:"     .",author:" ",color:"from-rose-400 to-pink-500",bg:"bg-rose-500"},{text:"          .",author:" ",color:"from-purple-400 to-violet-500",bg:"bg-purple-500"},{text:"     .",author:" ",color:"from-cyan-400 to-sky-500",bg:"bg-cyan-500"},{text:"     .",author:" ",color:"from-red-400 to-orange-500",bg:"bg-red-500"},{text:"     .",author:" ",color:"from-orange-400 to-yellow-500",bg:"bg-orange-500"},{text:"     .",author:" ",color:"from-teal-400 to-emerald-500",bg:"bg-teal-500"},{text:"    .",author:" ",color:"from-indigo-400 to-blue-500",bg:"bg-indigo-500"}],zI=()=>{const[r,e]=F.useState(0),[n,a]=F.useState(!0);F.useEffect(()=>{const f=setInterval(()=>{a(!1),setTimeout(()=>{e(g=>(g+1)%i0.length),a(!0)},500)},1e4);return()=>clearInterval(f)},[]);const o=i0[r],u=()=>{navigator.clipboard.writeText(`"${o.text}" - ${o.author}`),alert("  !")};return l.jsxs("div",{className:"py-20 bg-gradient-to-b from-slate-900 to-gray-950 relative overflow-hidden border-t border-gray-800",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute top-10 left-1/4 w-1 h-1 bg-white rounded-full animate-[ping_3s_infinite]"}),l.jsx("div",{className:"absolute bottom-20 right-1/3 w-1.5 h-1.5 bg-yellow-400 rounded-full animate-[ping_5s_infinite]"}),l.jsx("div",{className:"absolute top-1/2 left-10 w-2 h-2 bg-blue-400 rounded-full animate-[bounce_4s_infinite] opacity-20"}),l.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] rounded-full bg-gradient-to-r ${o.color} blur-[150px] opacity-10 transition-colors duration-1000`})]}),l.jsx("div",{className:"max-w-4xl mx-auto px-6 relative z-10",children:l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-[3rem] p-8 md:p-12 text-center relative group hover:bg-white/10 transition-all duration-500 shadow-2xl",children:[l.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2",children:l.jsx("div",{className:`w-12 h-12 rounded-2xl bg-gradient-to-br ${o.color} flex items-center justify-center shadow-lg transform rotate-3 group-hover:rotate-0 transition-transform`,children:l.jsx($T,{className:"w-6 h-6 text-white fill-white"})})}),l.jsxs("div",{className:`transition-all duration-500 ease-in-out transform ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[l.jsxs("h2",{className:`text-2xl md:text-4xl font-black leading-relaxed tracking-wide bg-clip-text text-transparent bg-gradient-to-r ${o.color} mb-6 drop-shadow-sm`,children:['"',o.text,'"']}),l.jsxs("p",{className:"text-gray-400 font-bold text-lg flex items-center justify-center gap-2",children:[l.jsx("span",{className:`w-8 h-0.5 bg-gradient-to-r ${o.color} rounded-full`}),o.author,l.jsx("span",{className:`w-8 h-0.5 bg-gradient-to-r ${o.color} rounded-full`})]})]}),l.jsx("button",{onClick:u,className:"absolute top-6 right-6 p-2 text-gray-500 hover:text-white hover:bg-white/10 rounded-full transition-colors opacity-0 group-hover:opacity-100",title:" ",children:l.jsx(t4,{className:"w-5 h-5"})}),l.jsx("div",{className:"flex justify-center gap-2 mt-10",children:i0.map((f,g)=>l.jsx("button",{onClick:()=>{a(!1),setTimeout(()=>{e(g),a(!0)},300)},className:`h-1.5 rounded-full transition-all duration-700 ${g===r?`w-8 ${f.bg}`:"w-1.5 bg-gray-700 hover:bg-gray-500"}`},g))})]})}),l.jsx("div",{className:"absolute bottom-0 left-0 w-full h-48 bg-gradient-to-b from-transparent via-gray-950/90 to-gray-950 z-20 pointer-events-none"})]})},UI=()=>l.jsx("section",{className:"relative w-full overflow-hidden bg-gray-950",children:l.jsxs("div",{className:"w-full h-[650px] md:h-[900px] relative group",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("img",{src:"https://lh3.googleusercontent.com/d/11PvY6sdTvurXqkNuWjoEpYTcM8FUHOB0",alt:".    -  ",className:"w-full h-full object-cover object-top transition-transform duration-1000 group-hover:scale-105"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-gray-900/40 to-transparent"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-950/90 via-transparent to-gray-950/90"})]}),l.jsx("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-24 flex flex-col items-center text-center z-20",children:l.jsxs("div",{className:"max-w-5xl mx-auto transform translate-y-0 transition-all duration-700",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-5xl md:text-8xl font-black text-white mb-6 drop-shadow-2xl tracking-tight",children:".   "}),l.jsx("div",{className:"h-2 w-40 bg-emerald-500 rounded-full mx-auto mb-8 shadow-[0_0_20px_rgba(16,185,129,0.6)]"}),l.jsx("p",{className:"text-2xl md:text-4xl text-emerald-400 font-bold drop-shadow-lg tracking-wide",children:"   "})]}),l.jsx("div",{className:"relative",children:l.jsx("p",{className:"text-gray-200 text-xl md:text-3xl leading-loose font-medium relative z-10 px-4 max-w-4xl mx-auto drop-shadow-md",children:"          .              ."})})]})})]})}),qI=({onLoginClick:r})=>l.jsxs("section",{className:"py-32 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950 to-emerald-950"}),l.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')]"}),l.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-emerald-500/50 to-transparent"}),l.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative z-10 text-center",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-sm font-bold mb-8 animate-pulse",children:[l.jsx(kv,{className:"w-4 h-4"}),l.jsx("span",{children:"  "})]}),l.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white mb-8 leading-tight tracking-tight drop-shadow-2xl",children:["  ",l.jsx("br",{}),l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400",children:" "})]}),l.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto mb-12 leading-relaxed font-medium",children:"      .         ."}),l.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:l.jsxs("button",{onClick:r,className:"w-full sm:w-auto bg-white text-emerald-950 px-10 py-5 rounded-2xl font-black text-xl hover:bg-emerald-50 transition-all shadow-[0_0_40px_rgba(255,255,255,0.2)] hover:shadow-[0_0_60px_rgba(16,185,129,0.4)] transform hover:-translate-y-1 flex items-center justify-center gap-3",children:["  ",l.jsx(nn,{className:"w-6 h-6"})]})})]})]});function BI(){const[r,e]=F.useState("HOME"),[n,a]=F.useState(!1),[o,u]=F.useState(!1),f=F.useRef({}),g=F.useRef(!1),{logout:y}=gr();F.useEffect(()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0),window.history.replaceState({view:"HOME"},"","");const w=A=>{A.state&&A.state.view?(g.current=!0,e(A.state.view)):(g.current=!0,e("HOME"))};return window.addEventListener("popstate",w),()=>window.removeEventListener("popstate",w)},[]),F.useEffect(()=>{if(g.current){const w=f.current[r]||0;setTimeout(()=>window.scrollTo(0,w),0)}else window.scrollTo(0,0)},[r]);const p=w=>{w!==r&&(f.current[r]=window.scrollY,g.current=!1,window.history.pushState({view:w},"",""),e(w))},_=async()=>{u(!0),setTimeout(async()=>{await y(),u(!1),p("HOME")},1e3)};return l.jsxs("div",{className:"min-h-screen flex flex-col relative transition-colors duration-500 bg-gray-950 text-gray-100 selection:bg-emerald-500/30",children:[l.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[600px] h-[600px] bg-indigo-900/10 rounded-full blur-[120px] animate-pulse"}),l.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-emerald-900/10 rounded-full blur-[120px] animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-[40%] left-[30%] w-[300px] h-[300px] bg-purple-900/5 rounded-full blur-[100px] animate-pulse delay-2000"}),l.jsx("div",{className:"absolute inset-0 opacity-[0.02] bg-[url('https://www.transparenttextures.com/patterns/noise.png')]"})]}),o&&l.jsx("div",{className:"fixed inset-0 z-[200] bg-emerald-900/90 backdrop-blur-sm flex items-center justify-center animate-fade-in",children:l.jsx("div",{className:"text-white text-2xl font-bold animate-bounce",children:"  ..."})}),l.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[l.jsx(uI,{onLoginClick:()=>a(!0),onNavigate:p,onLogoutClick:_}),l.jsxs("main",{className:"flex-grow",children:[r==="HOME"&&l.jsxs(l.Fragment,{children:[l.jsx(dI,{onStartQuiz:()=>p("QUIZZES"),onLoginClick:()=>a(!0),onNavigate:p}),l.jsx(fI,{onNavigate:p}),l.jsx(RI,{onLoginClick:()=>a(!0)}),l.jsx(zI,{}),l.jsx(UI,{}),l.jsx(qI,{onLoginClick:()=>a(!0)})]}),r==="ABOUT_PLATFORM"&&l.jsx(SI,{onBack:()=>p("HOME")}),r==="SERVICES"&&l.jsx(jI,{onBack:()=>p("HOME")}),r==="TEACHER_CV"&&l.jsx(TI,{onBack:()=>p("HOME")}),r==="PROFILE"&&l.jsx(vI,{onNavigate:p}),r==="TEACHER_DASHBOARD"&&l.jsx(gI,{}),r==="QUESTION_BANK"&&l.jsx(II,{onBack:()=>p("HOME")}),r==="TEACHER_EXPLANATIONS"&&l.jsx(MI,{onNavigate:p,onBack:()=>p("PROFILE")}),r==="TEACHER_UPLOAD_FILES"&&l.jsx(PI,{onNavigate:p,onBack:()=>p("PROFILE")}),r==="QUIZZES"&&l.jsx(wI,{onBack:()=>p("HOME")}),r==="LESSONS"&&l.jsx(AI,{onBack:()=>p("HOME")}),r==="LESSONS_EXPLANATIONS"&&l.jsx(DI,{onBack:()=>p("HOME")}),r==="CONTACT_TEACHER"&&l.jsx(CI,{onBack:()=>p("HOME")})]}),l.jsx(mI,{isOpen:n,onClose:()=>a(!1)}),l.jsx("footer",{className:"bg-gray-950 border-t border-white/5 py-12 relative z-20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[l.jsx("div",{className:"w-10 h-10 bg-white/5 rounded-full flex items-center justify-center border border-white/10",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/13x8Gorb7y4H2qcQ1LVJtHY9-RoUhxg2z",alt:"Logo",className:"w-6 h-6 rounded-full"})}),l.jsx("span",{className:"text-xl font-black text-white",children:" "})]}),l.jsxs("p",{className:"text-gray-500 text-sm",children:[" ",new Date().getFullYear(),"   .     ."]})]})})]})]})}const O2=document.getElementById("root");if(!O2)throw new Error("Could not find root element to mount to");const HI=_E.createRoot(O2);HI.render(l.jsx(Nv.StrictMode,{children:l.jsx(cI,{children:l.jsx(BI,{})})}));
