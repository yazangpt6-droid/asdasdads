(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function S_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var nm={exports:{}},Io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function pw(){if(S1)return Io;S1=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:i,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Io.Fragment=e,Io.jsx=n,Io.jsxs=n,Io}var N1;function yw(){return N1||(N1=1,nm.exports=pw()),nm.exports}var f=yw(),sm={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function vw(){if(I1)return Te;I1=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),S=Symbol.iterator;function Q(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,W={};function ge(j,z,te){this.props=j,this.context=z,this.refs=W,this.updater=te||G}ge.prototype.isReactComponent={},ge.prototype.setState=function(j,z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,z,"setState")},ge.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function ae(){}ae.prototype=ge.prototype;function fe(j,z,te){this.props=j,this.context=z,this.refs=W,this.updater=te||G}var Ce=fe.prototype=new ae;Ce.constructor=fe,J(Ce,ge.prototype),Ce.isPureReactComponent=!0;var De=Array.isArray;function Ie(){}var C={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function N(j,z,te){var ie=te.ref;return{$$typeof:i,type:j,key:z,ref:ie!==void 0?ie:null,props:te}}function O(j,z){return N(j.type,z,j.props)}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function k(j){var z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(te){return z[te]})}var I=/\/+/g;function ze(j,z){return typeof j=="object"&&j!==null&&j.key!=null?k(""+j.key):z.toString(36)}function He(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Ie,Ie):(j.status="pending",j.then(function(z){j.status==="pending"&&(j.status="fulfilled",j.value=z)},function(z){j.status==="pending"&&(j.status="rejected",j.reason=z)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function F(j,z,te,ie,pe){var be=typeof j;(be==="undefined"||be==="boolean")&&(j=null);var je=!1;if(j===null)je=!0;else switch(be){case"bigint":case"string":case"number":je=!0;break;case"object":switch(j.$$typeof){case i:case e:je=!0;break;case E:return je=j._init,F(je(j._payload),z,te,ie,pe)}}if(je)return pe=pe(j),je=ie===""?"."+ze(j,0):ie,De(pe)?(te="",je!=null&&(te=je.replace(I,"$&/")+"/"),F(pe,z,te,"",function(dr){return dr})):pe!=null&&(D(pe)&&(pe=O(pe,te+(pe.key==null||j&&j.key===pe.key?"":(""+pe.key).replace(I,"$&/")+"/")+je)),z.push(pe)),1;je=0;var lt=ie===""?".":ie+":";if(De(j))for(var ot=0;ot<j.length;ot++)ie=j[ot],be=lt+ze(ie,ot),je+=F(ie,z,te,be,pe);else if(ot=Q(j),typeof ot=="function")for(j=ot.call(j),ot=0;!(ie=j.next()).done;)ie=ie.value,be=lt+ze(ie,ot++),je+=F(ie,z,te,be,pe);else if(be==="object"){if(typeof j.then=="function")return F(He(j),z,te,ie,pe);throw z=String(j),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return je}function ne(j,z,te){if(j==null)return j;var ie=[],pe=0;return F(j,ie,"","",function(be){return z.call(te,be,pe++)}),ie}function me(j){if(j._status===-1){var z=j._result;z=z(),z.then(function(te){(j._status===0||j._status===-1)&&(j._status=1,j._result=te)},function(te){(j._status===0||j._status===-1)&&(j._status=2,j._result=te)}),j._status===-1&&(j._status=0,j._result=z)}if(j._status===1)return j._result.default;throw j._result}var ee=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},he={map:ne,forEach:function(j,z,te){ne(j,function(){z.apply(this,arguments)},te)},count:function(j){var z=0;return ne(j,function(){z++}),z},toArray:function(j){return ne(j,function(z){return z})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Te.Activity=A,Te.Children=he,Te.Component=ge,Te.Fragment=n,Te.Profiler=l,Te.PureComponent=fe,Te.StrictMode=r,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Te.__COMPILER_RUNTIME={__proto__:null,c:function(j){return C.H.useMemoCache(j)}},Te.cache=function(j){return function(){return j.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(j,z,te){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ie=J({},j.props),pe=j.key;if(z!=null)for(be in z.key!==void 0&&(pe=""+z.key),z)!T.call(z,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&z.ref===void 0||(ie[be]=z[be]);var be=arguments.length-2;if(be===1)ie.children=te;else if(1<be){for(var je=Array(be),lt=0;lt<be;lt++)je[lt]=arguments[lt+2];ie.children=je}return N(j.type,pe,ie)},Te.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Te.createElement=function(j,z,te){var ie,pe={},be=null;if(z!=null)for(ie in z.key!==void 0&&(be=""+z.key),z)T.call(z,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=z[ie]);var je=arguments.length-2;if(je===1)pe.children=te;else if(1<je){for(var lt=Array(je),ot=0;ot<je;ot++)lt[ot]=arguments[ot+2];pe.children=lt}if(j&&j.defaultProps)for(ie in je=j.defaultProps,je)pe[ie]===void 0&&(pe[ie]=je[ie]);return N(j,be,pe)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(j){return{$$typeof:g,render:j}},Te.isValidElement=D,Te.lazy=function(j){return{$$typeof:E,_payload:{_status:-1,_result:j},_init:me}},Te.memo=function(j,z){return{$$typeof:v,type:j,compare:z===void 0?null:z}},Te.startTransition=function(j){var z=C.T,te={};C.T=te;try{var ie=j(),pe=C.S;pe!==null&&pe(te,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ie,ee)}catch(be){ee(be)}finally{z!==null&&te.types!==null&&(z.types=te.types),C.T=z}},Te.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Te.use=function(j){return C.H.use(j)},Te.useActionState=function(j,z,te){return C.H.useActionState(j,z,te)},Te.useCallback=function(j,z){return C.H.useCallback(j,z)},Te.useContext=function(j){return C.H.useContext(j)},Te.useDebugValue=function(){},Te.useDeferredValue=function(j,z){return C.H.useDeferredValue(j,z)},Te.useEffect=function(j,z){return C.H.useEffect(j,z)},Te.useEffectEvent=function(j){return C.H.useEffectEvent(j)},Te.useId=function(){return C.H.useId()},Te.useImperativeHandle=function(j,z,te){return C.H.useImperativeHandle(j,z,te)},Te.useInsertionEffect=function(j,z){return C.H.useInsertionEffect(j,z)},Te.useLayoutEffect=function(j,z){return C.H.useLayoutEffect(j,z)},Te.useMemo=function(j,z){return C.H.useMemo(j,z)},Te.useOptimistic=function(j,z){return C.H.useOptimistic(j,z)},Te.useReducer=function(j,z,te){return C.H.useReducer(j,z,te)},Te.useRef=function(j){return C.H.useRef(j)},Te.useState=function(j){return C.H.useState(j)},Te.useSyncExternalStore=function(j,z,te){return C.H.useSyncExternalStore(j,z,te)},Te.useTransition=function(){return C.H.useTransition()},Te.version="19.2.0",Te}var R1;function rg(){return R1||(R1=1,sm.exports=vw()),sm.exports}var oe=rg();const _w=S_(oe);var im={exports:{}},Ro={},rm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function bw(){return C1||(C1=1,(function(i){function e(F,ne){var me=F.length;F.push(ne);e:for(;0<me;){var ee=me-1>>>1,he=F[ee];if(0<l(he,ne))F[ee]=ne,F[me]=he,me=ee;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ne=F[0],me=F.pop();if(me!==ne){F[0]=me;e:for(var ee=0,he=F.length,j=he>>>1;ee<j;){var z=2*(ee+1)-1,te=F[z],ie=z+1,pe=F[ie];if(0>l(te,me))ie<he&&0>l(pe,te)?(F[ee]=pe,F[ie]=me,ee=ie):(F[ee]=te,F[z]=me,ee=z);else if(ie<he&&0>l(pe,me))F[ee]=pe,F[ie]=me,ee=ie;else break e}}return ne}function l(F,ne){var me=F.sortIndex-ne.sortIndex;return me!==0?me:F.id-ne.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();i.unstable_now=function(){return d.now()-g}}var y=[],v=[],E=1,A=null,S=3,Q=!1,G=!1,J=!1,W=!1,ge=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function Ce(F){for(var ne=n(v);ne!==null;){if(ne.callback===null)r(v);else if(ne.startTime<=F)r(v),ne.sortIndex=ne.expirationTime,e(y,ne);else break;ne=n(v)}}function De(F){if(J=!1,Ce(F),!G)if(n(y)!==null)G=!0,Ie||(Ie=!0,k());else{var ne=n(v);ne!==null&&He(De,ne.startTime-F)}}var Ie=!1,C=-1,T=5,N=-1;function O(){return W?!0:!(i.unstable_now()-N<T)}function D(){if(W=!1,Ie){var F=i.unstable_now();N=F;var ne=!0;try{e:{G=!1,J&&(J=!1,ae(C),C=-1),Q=!0;var me=S;try{t:{for(Ce(F),A=n(y);A!==null&&!(A.expirationTime>F&&O());){var ee=A.callback;if(typeof ee=="function"){A.callback=null,S=A.priorityLevel;var he=ee(A.expirationTime<=F);if(F=i.unstable_now(),typeof he=="function"){A.callback=he,Ce(F),ne=!0;break t}A===n(y)&&r(y),Ce(F)}else r(y);A=n(y)}if(A!==null)ne=!0;else{var j=n(v);j!==null&&He(De,j.startTime-F),ne=!1}}break e}finally{A=null,S=me,Q=!1}ne=void 0}}finally{ne?k():Ie=!1}}}var k;if(typeof fe=="function")k=function(){fe(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ze=I.port2;I.port1.onmessage=D,k=function(){ze.postMessage(null)}}else k=function(){ge(D,0)};function He(F,ne){C=ge(function(){F(i.unstable_now())},ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(F){switch(S){case 1:case 2:case 3:var ne=3;break;default:ne=S}var me=S;S=ne;try{return F()}finally{S=me}},i.unstable_requestPaint=function(){W=!0},i.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var me=S;S=F;try{return ne()}finally{S=me}},i.unstable_scheduleCallback=function(F,ne,me){var ee=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ee+me:ee):me=ee,F){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=me+he,F={id:E++,callback:ne,priorityLevel:F,startTime:me,expirationTime:he,sortIndex:-1},me>ee?(F.sortIndex=me,e(v,F),n(y)===null&&F===n(v)&&(J?(ae(C),C=-1):J=!0,He(De,me-ee))):(F.sortIndex=he,e(y,F),G||Q||(G=!0,Ie||(Ie=!0,k()))),F},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(F){var ne=S;return function(){var me=S;S=ne;try{return F.apply(this,arguments)}finally{S=me}}}})(am)),am}var j1;function xw(){return j1||(j1=1,rm.exports=bw()),rm.exports}var lm={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function Ew(){if(D1)return $t;D1=1;var i=rg();function e(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:v,implementation:E}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(y,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(y,v,null,E)},$t.flushSync=function(y){var v=d.T,E=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=v,r.p=E,r.d.f()}},$t.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},$t.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},$t.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var E=v.as,A=g(E,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,Q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:Q}):E==="script"&&r.d.X(y,{crossOrigin:A,integrity:S,fetchPriority:Q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},$t.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=g(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},$t.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,A=g(E,v.crossOrigin);r.d.L(y,E,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},$t.preloadModule=function(y,v){if(typeof y=="string")if(v){var E=g(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},$t.requestFormReset=function(y){r.d.r(y)},$t.unstable_batchedUpdates=function(y,v){return y(v)},$t.useFormState=function(y,v,E){return d.H.useFormState(y,v,E)},$t.useFormStatus=function(){return d.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var M1;function ww(){if(M1)return lm.exports;M1=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),lm.exports=Ew(),lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function Tw(){if(O1)return Ro;O1=1;var i=xw(),e=rg(),n=ww();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function v(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,o=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return y(h),t;if(m===o)return y(h),s;m=m.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=m;else{for(var _=!1,x=h.child;x;){if(x===a){_=!0,a=h,o=m;break}if(x===o){_=!0,o=h,a=m;break}x=x.sibling}if(!_){for(x=m.child;x;){if(x===a){_=!0,a=m,o=h;break}if(x===o){_=!0,o=m,a=h;break}x=x.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function E(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=E(t),s!==null)return s;t=t.sibling}return null}var A=Object.assign,S=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case ge:return"Profiler";case W:return"StrictMode";case De:return"Suspense";case Ie:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case fe:return t.displayName||"Context";case ae:return(t._context.displayName||"Context")+".Consumer";case Ce:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return s=t.displayName||null,s!==null?s:ze(t.type)||"Memo";case T:s=t._payload,t=t._init;try{return ze(t(s))}catch{}}return null}var He=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ee=[],he=-1;function j(t){return{current:t}}function z(t){0>he||(t.current=ee[he],ee[he]=null,he--)}function te(t,s){he++,ee[he]=t.current,t.current=s}var ie=j(null),pe=j(null),be=j(null),je=j(null);function lt(t,s){switch(te(be,s),te(pe,t),te(ie,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?$y(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=$y(s),t=Xy(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(ie),te(ie,t)}function ot(){z(ie),z(pe),z(be)}function dr(t){t.memoizedState!==null&&te(je,t);var s=ie.current,a=Xy(s,t.type);s!==a&&(te(pe,t),te(ie,a))}function la(t){pe.current===t&&(z(ie),z(pe)),je.current===t&&(z(je),To._currentValue=me)}var oa,ca;function rs(t){if(oa===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);oa=s&&s[1]||"",ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+t+ca}var wl=!1;function fr(t,s){if(!t||wl)return"";wl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var q=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){q=H}t.call($.prototype)}}else{try{throw Error()}catch(H){q=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),_=m[0],x=m[1];if(_&&x){var R=_.split(`
`),U=x.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===U.length)for(o=R.length-1,h=U.length-1;1<=o&&0<=h&&R[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==U[h]){var K=`
`+R[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{wl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?rs(a):""}function Tl(t,s){switch(t.tag){case 26:case 27:case 5:return rs(t.type);case 16:return rs("Lazy");case 13:return t.child!==s&&s!==null?rs("Suspense Fallback"):rs("Suspense");case 19:return rs("SuspenseList");case 0:case 15:return fr(t.type,!1);case 11:return fr(t.type.render,!1);case 1:return fr(t.type,!0);case 31:return rs("Activity");default:return""}}function Al(t){try{var s="",a=null;do s+=Tl(t,a),a=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var xt=Object.prototype.hasOwnProperty,Mt=i.unstable_scheduleCallback,ui=i.unstable_cancelCallback,sd=i.unstable_shouldYield,fc=i.unstable_requestPaint,en=i.unstable_now,mr=i.unstable_getCurrentPriorityLevel,Sl=i.unstable_ImmediatePriority,Nl=i.unstable_UserBlockingPriority,hi=i.unstable_NormalPriority,id=i.unstable_LowPriority,mc=i.unstable_IdlePriority,gc=i.log,pc=i.unstable_setDisableYieldValue,qn=null,zt=null;function An(t){if(typeof gc=="function"&&pc(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(qn,t)}catch{}}var mt=Math.clz32?Math.clz32:vc,yc=Math.log,ua=Math.LN2;function vc(t){return t>>>=0,t===0?32:31-(yc(t)/ua|0)|0}var as=256,gr=262144,Et=4194304;function ls(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function os(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var x=o&134217727;return x!==0?(o=x&~m,o!==0?h=ls(o):(_&=x,_!==0?h=ls(_):a||(a=x&~t,a!==0&&(h=ls(a))))):(x=o&~m,x!==0?h=ls(x):_!==0?h=ls(_):a||(a=o&~t,a!==0&&(h=ls(a)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:h}function Bn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function rd(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _c(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function cs(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function pr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ad(t,s,a,o,h,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,R=t.expirationTimes,U=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-mt(a),$=1<<K;x[K]=0,R[K]=-1;var q=U[K];if(q!==null)for(U[K]=null,K=0;K<q.length;K++){var H=q[K];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&yr(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~s))}function yr(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-mt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Il(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-mt(a),h=1<<o;h&s|t[o]&s&&(t[o]|=s),a&=~h}}function Rl(t,s){var a=s&-s;return a=(a&42)!==0?1:vr(a),(a&(t.suspendedLanes|s))!==0?0:a}function vr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ls(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bc(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:_1(t.type))}function Hn(t,s){var a=ne.p;try{return ne.p=t,s()}finally{ne.p=a}}var Fn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Fn,Vt="__reactProps$"+Fn,us="__reactContainer$"+Fn,ha="__reactEvents$"+Fn,ld="__reactListeners$"+Fn,xc="__reactHandles$"+Fn,Ec="__reactResources$"+Fn,hs="__reactMarker$"+Fn;function da(t){delete t[wt],delete t[Vt],delete t[ha],delete t[ld],delete t[xc]}function ds(t){var s=t[wt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[us]||a[wt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=s1(t);t!==null;){if(a=t[wt])return a;t=s1(t)}return s}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[wt]||t[us]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function mn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function fs(t){var s=t[Ec];return s||(s=t[Ec]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(t){t[hs]=!0}var Cl=new Set,jl={};function ms(t,s){gs(t,s),gs(t+"Capture",s)}function gs(t,s){for(jl[t]=s,t=0;t<s.length;t++)Cl.add(s[t])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},Ol={};function wc(t){return xt.call(Ol,t)?!0:xt.call(Ml,t)?!1:Dl.test(t)?Ol[t]=!0:(Ml[t]=!0,!1)}function fa(t,s,a){if(wc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function gn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function At(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function di(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function kl(t,s,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function $e(t){if(!t._valueTracker){var s=di(t)?"checked":"value";t._valueTracker=kl(t,s,""+t[s])}}function _r(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=di(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var br=/[\n"\\]/g;function rn(t){return t.replace(br,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ma(t,s,a,o,h,m,_,x){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Lt(s)):t.value!==""+Lt(s)&&(t.value=""+Lt(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?Vl(t,_,Lt(s)):a!=null?Vl(t,_,Lt(a)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Lt(x):t.removeAttribute("name")}function Tc(t,s,a,o,h,m,_,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){$e(t);return}a=a!=null?""+Lt(a):"",s=s!=null?""+Lt(s):a,x||s===t.value||(t.value=s),t.defaultValue=s}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=x?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function Vl(t,s,a){s==="number"&&ps(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function fi(t,s,a,o){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Ac(t,s,a){if(s!=null&&(s=""+Lt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Lt(a):""}function mi(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(r(92));if(He(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=Lt(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),$e(t)}function an(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||Sc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Pl(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in s)o=s[h],s.hasOwnProperty(h)&&a[h]!==o&&Ll(t,h,o)}else for(var m in s)s.hasOwnProperty(m)&&Ll(t,m,s[m])}function ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return gi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Ul=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pi=null,ys=null;function xr(t){var s=Sn(t);if(s&&(t=s.stateNode)){var a=t[Vt]||null;e:switch(t=s.stateNode,s.type){case"input":if(ma(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var h=o[Vt]||null;if(!h)throw Error(r(90));ma(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&_r(o)}break e;case"textarea":Ac(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&fi(t,!!a.multiple,s,!1)}}}var ya=!1;function yi(t,s,a){if(ya)return t(s,a);ya=!0;try{var o=t(s);return o}finally{if(ya=!1,(pi!==null||ys!==null)&&(bu(),pi&&(s=pi,t=ys,ys=pi=null,xr(s),t)))for(s=0;s<t.length;s++)xr(t[s])}}function Qn(t,s){var a=t.stateNode;if(a===null)return null;var o=a[Vt]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(In)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Er=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Er=!1}var vs=null,zl=null,wr=null;function ql(){if(wr)return wr;var t,s=zl,a=s.length,o,h="value"in vs?vs.value:vs.textContent,m=h.length;for(t=0;t<a&&s[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&s[a-o]===h[m-o];o++);return wr=h.slice(t,1<o?1-o:void 0)}function Tr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ps(){return!0}function Kn(){return!1}function qt(t){function s(a,o,h,m,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ps:Kn,this.isPropagationStopped=Kn,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),s}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=qt(Us),vi=A({},Us,{view:0,detail:0}),Bl=qt(vi),_i,va,bs,_a=A({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bs&&(bs&&t.type==="mousemove"?(_i=t.screenX-bs.screenX,va=t.screenY-bs.screenY):va=_i=0,bs=t),_i)},movementY:function(t){return"movementY"in t?t.movementY:va}}),Hl=qt(_a),Ar=A({},_a,{dataTransfer:0}),Ic=qt(Ar),Rc=A({},vi,{relatedTarget:0}),Sr=qt(Rc),Fl=A({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),Cc=qt(Fl),ba=A({},Us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jc=qt(ba),Dc=A({},Us,{data:0}),xs=qt(Dc),Mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=kc[t])?!!s[t]:!1}function bi(){return Vc}var tn=A({},vi,{key:function(t){if(t.key){var s=Mc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bi,charCode:function(t){return t.type==="keypress"?Tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lc=qt(tn),Pc=A({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zs=qt(Pc),u=A({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bi}),p=qt(u),b=A({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=qt(b),L=A({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=qt(L),se=A({},Us,{newState:0,oldState:0}),Se=qt(se),gt=[9,13,27,32],Qe=In&&"CompositionEvent"in window,ct=null;In&&"documentMode"in document&&(ct=document.documentMode);var Rn=In&&"TextEvent"in window&&!ct,Es=In&&(!Qe||ct&&8<ct&&11>=ct),Yn=" ",$n=!1;function Nr(t,s){switch(t){case"keyup":return gt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function z2(t,s){switch(t){case"compositionend":return xa(s);case"keypress":return s.which!==32?null:($n=!0,Yn);case"textInput":return t=s.data,t===Yn&&$n?null:t;default:return null}}function q2(t,s){if(Ea)return t==="compositionend"||!Qe&&Nr(t,s)?(t=ql(),wr=zl=vs=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Es&&s.locale!=="ko"?null:s.data;default:return null}}var B2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!B2[t.type]:s==="textarea"}function lp(t,s,a,o){pi?ys?ys.push(o):ys=[o]:pi=o,s=Nu(s,"onChange"),0<s.length&&(a=new _s("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var Gl=null,Ql=null;function H2(t){Hy(t,0)}function Uc(t){var s=mn(t);if(_r(s))return t}function op(t,s){if(t==="change")return s}var cp=!1;if(In){var od;if(In){var cd="oninput"in document;if(!cd){var up=document.createElement("div");up.setAttribute("oninput","return;"),cd=typeof up.oninput=="function"}od=cd}else od=!1;cp=od&&(!document.documentMode||9<document.documentMode)}function hp(){Gl&&(Gl.detachEvent("onpropertychange",dp),Ql=Gl=null)}function dp(t){if(t.propertyName==="value"&&Uc(Ql)){var s=[];lp(s,Ql,t,Nn(t)),yi(H2,s)}}function F2(t,s,a){t==="focusin"?(hp(),Gl=s,Ql=a,Gl.attachEvent("onpropertychange",dp)):t==="focusout"&&hp()}function G2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uc(Ql)}function Q2(t,s){if(t==="click")return Uc(s)}function K2(t,s){if(t==="input"||t==="change")return Uc(s)}function Y2(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var pn=typeof Object.is=="function"?Object.is:Y2;function Kl(t,s){if(pn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!xt.call(s,h)||!pn(t[h],s[h]))return!1}return!0}function fp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mp(t,s){var a=fp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fp(a)}}function gp(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?gp(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function pp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=ps(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=ps(t.document)}return s}function ud(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var $2=In&&"documentMode"in document&&11>=document.documentMode,wa=null,hd=null,Yl=null,dd=!1;function yp(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dd||wa==null||wa!==ps(o)||(o=wa,"selectionStart"in o&&ud(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yl&&Kl(Yl,o)||(Yl=o,o=Nu(hd,"onSelect"),0<o.length&&(s=new _s("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=wa)))}function Ir(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ta={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},fd={},vp={};In&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Rr(t){if(fd[t])return fd[t];if(!Ta[t])return t;var s=Ta[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in vp)return fd[t]=s[a];return t}var _p=Rr("animationend"),bp=Rr("animationiteration"),xp=Rr("animationstart"),X2=Rr("transitionrun"),Z2=Rr("transitionstart"),J2=Rr("transitioncancel"),Ep=Rr("transitionend"),wp=new Map,md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");md.push("scrollEnd");function Xn(t,s){wp.set(t,s),ms(s,[t])}var zc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],Aa=0,gd=0;function qc(){for(var t=Aa,s=gd=Aa=0;s<t;){var a=Cn[s];Cn[s++]=null;var o=Cn[s];Cn[s++]=null;var h=Cn[s];Cn[s++]=null;var m=Cn[s];if(Cn[s++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}m!==0&&Tp(a,h,m)}}function Bc(t,s,a,o){Cn[Aa++]=t,Cn[Aa++]=s,Cn[Aa++]=a,Cn[Aa++]=o,gd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function pd(t,s,a,o){return Bc(t,s,a,o),Hc(t)}function Cr(t,s){return Bc(t,null,null,s),Hc(t)}function Tp(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&s!==null&&(h=31-mt(a),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[s]:o.push(s),s.lane=a|536870912),m):null}function Hc(t){if(50<yo)throw yo=0,Sf=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Sa={};function W2(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,s,a,o){return new W2(t,s,a,o)}function yd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qs(t,s){var a=t.alternate;return a===null?(a=yn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ap(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Fc(t,s,a,o,h,m){var _=0;if(o=t,typeof t=="function")yd(t)&&(_=1);else if(typeof t=="string")_=iw(t,a,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=yn(31,a,s,h),t.elementType=N,t.lanes=m,t;case J:return jr(a.children,h,m,s);case W:_=8,h|=24;break;case ge:return t=yn(12,a,s,h|2),t.elementType=ge,t.lanes=m,t;case De:return t=yn(13,a,s,h),t.elementType=De,t.lanes=m,t;case Ie:return t=yn(19,a,s,h),t.elementType=Ie,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:_=10;break e;case ae:_=9;break e;case Ce:_=11;break e;case C:_=14;break e;case T:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return s=yn(_,a,s,h),s.elementType=t,s.type=o,s.lanes=m,s}function jr(t,s,a,o){return t=yn(7,t,o,s),t.lanes=a,t}function vd(t,s,a){return t=yn(6,t,null,s),t.lanes=a,t}function Sp(t){var s=yn(18,null,null,0);return s.stateNode=t,s}function _d(t,s,a){return s=yn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Np=new WeakMap;function jn(t,s){if(typeof t=="object"&&t!==null){var a=Np.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Al(s)},Np.set(t,s),s)}return{value:t,source:s,stack:Al(s)}}var Na=[],Ia=0,Gc=null,$l=0,Dn=[],Mn=0,xi=null,ws=1,Ts="";function Bs(t,s){Na[Ia++]=$l,Na[Ia++]=Gc,Gc=t,$l=s}function Ip(t,s,a){Dn[Mn++]=ws,Dn[Mn++]=Ts,Dn[Mn++]=xi,xi=t;var o=ws;t=Ts;var h=32-mt(o)-1;o&=~(1<<h),a+=1;var m=32-mt(s)+h;if(30<m){var _=h-h%5;m=(o&(1<<_)-1).toString(32),o>>=_,h-=_,ws=1<<32-mt(s)+h|a<<h|o,Ts=m+t}else ws=1<<m|a<<h|o,Ts=t}function bd(t){t.return!==null&&(Bs(t,1),Ip(t,1,0))}function xd(t){for(;t===Gc;)Gc=Na[--Ia],Na[Ia]=null,$l=Na[--Ia],Na[Ia]=null;for(;t===xi;)xi=Dn[--Mn],Dn[Mn]=null,Ts=Dn[--Mn],Dn[Mn]=null,ws=Dn[--Mn],Dn[Mn]=null}function Rp(t,s){Dn[Mn++]=ws,Dn[Mn++]=Ts,Dn[Mn++]=xi,ws=s.id,Ts=s.overflow,xi=t}var Bt=null,it=null,qe=!1,Ei=null,On=!1,Ed=Error(r(519));function wi(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl(jn(s,t)),Ed}function Cp(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[wt]=t,s[Vt]=o,a){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<_o.length;a++)Oe(_o[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),Tc(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),mi(s,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||Ky(s.textContent,a)?(o.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),o.onScroll!=null&&Oe("scroll",s),o.onScrollEnd!=null&&Oe("scrollend",s),o.onClick!=null&&(s.onclick=Gn),s=!0):s=!1,s||wi(t,!0)}function jp(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Bt=Bt.return}}function Ra(t){if(t!==Bt)return!1;if(!qe)return jp(t),qe=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qf(t.type,t.memoizedProps)),a=!a),a&&it&&wi(t),jp(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=n1(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));it=n1(t)}else s===27?(s=it,Li(t.type)?(t=Qf,Qf=null,it=t):it=s):it=Bt?Vn(t.stateNode.nextSibling):null;return!0}function Dr(){it=Bt=null,qe=!1}function wd(){var t=Ei;return t!==null&&(un===null?un=t:un.push.apply(un,t),Ei=null),t}function Xl(t){Ei===null?Ei=[t]:Ei.push(t)}var Td=j(null),Mr=null,Hs=null;function Ti(t,s,a){te(Td,s._currentValue),s._currentValue=a}function Fs(t){t._currentValue=Td.current,z(Td)}function Ad(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function Sd(t,s,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var _=h.child;m=m.firstContext;e:for(;m!==null;){var x=m;m=h;for(var R=0;R<s.length;R++)if(x.context===s[R]){m.lanes|=a,x=m.alternate,x!==null&&(x.lanes|=a),Ad(m.return,a,t),o||(_=null);break e}m=x.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Ad(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ca(t,s,a,o){t=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var x=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(x):t=[x])}}else if(h===je.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(To):t=[To])}h=h.return}t!==null&&Sd(s,t,a,o),s.flags|=262144}function Qc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Or(t){Mr=t,Hs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Dp(Mr,t)}function Kc(t,s){return Mr===null&&Or(t),Dp(t,s)}function Dp(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Hs===null){if(t===null)throw Error(r(308));Hs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Hs=Hs.next=s;return a}var eE=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},tE=i.unstable_scheduleCallback,nE=i.unstable_NormalPriority,St={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new eE,data:new Map,refCount:0}}function Zl(t){t.refCount--,t.refCount===0&&tE(nE,function(){t.controller.abort()})}var Jl=null,Id=0,ja=0,Da=null;function sE(t,s){if(Jl===null){var a=Jl=[];Id=0,ja=Df(),Da={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Id++,s.then(Mp,Mp),s}function Mp(){if(--Id===0&&Jl!==null){Da!==null&&(Da.status="fulfilled");var t=Jl;Jl=null,ja=0,Da=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function iE(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Op=F.S;F.S=function(t,s){yy=en(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&sE(t,s),Op!==null&&Op(t,s)};var kr=j(null);function Rd(){var t=kr.current;return t!==null?t:nt.pooledCache}function Yc(t,s){s===null?te(kr,kr.current):te(kr,s.pool)}function kp(){var t=Rd();return t===null?null:{parent:St._currentValue,pool:t}}var Ma=Error(r(460)),Cd=Error(r(474)),$c=Error(r(542)),Xc={then:function(){}};function Vp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Lp(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Gn,Gn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Up(t),t;default:if(typeof s.status=="string")s.then(Gn,Gn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=o}},function(o){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Up(t),t}throw Lr=s,Ma}}function Vr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Lr=a,Ma):a}}var Lr=null;function Pp(){if(Lr===null)throw Error(r(459));var t=Lr;return Lr=null,t}function Up(t){if(t===Ma||t===$c)throw Error(r(483))}var Oa=null,Wl=0;function Zc(t){var s=Wl;return Wl+=1,Oa===null&&(Oa=[]),Lp(Oa,t,s)}function eo(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Jc(t,s){throw s.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function zp(t){function s(V,M){if(t){var P=V.deletions;P===null?(V.deletions=[M],V.flags|=16):P.push(M)}}function a(V,M){if(!t)return null;for(;M!==null;)s(V,M),M=M.sibling;return null}function o(V){for(var M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function h(V,M){return V=qs(V,M),V.index=0,V.sibling=null,V}function m(V,M,P){return V.index=P,t?(P=V.alternate,P!==null?(P=P.index,P<M?(V.flags|=67108866,M):P):(V.flags|=67108866,M)):(V.flags|=1048576,M)}function _(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function x(V,M,P,Y){return M===null||M.tag!==6?(M=vd(P,V.mode,Y),M.return=V,M):(M=h(M,P),M.return=V,M)}function R(V,M,P,Y){var ye=P.type;return ye===J?K(V,M,P.props.children,Y,P.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===T&&Vr(ye)===M.type)?(M=h(M,P.props),eo(M,P),M.return=V,M):(M=Fc(P.type,P.key,P.props,null,V.mode,Y),eo(M,P),M.return=V,M)}function U(V,M,P,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=_d(P,V.mode,Y),M.return=V,M):(M=h(M,P.children||[]),M.return=V,M)}function K(V,M,P,Y,ye){return M===null||M.tag!==7?(M=jr(P,V.mode,Y,ye),M.return=V,M):(M=h(M,P),M.return=V,M)}function $(V,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=vd(""+M,V.mode,P),M.return=V,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Q:return P=Fc(M.type,M.key,M.props,null,V.mode,P),eo(P,M),P.return=V,P;case G:return M=_d(M,V.mode,P),M.return=V,M;case T:return M=Vr(M),$(V,M,P)}if(He(M)||k(M))return M=jr(M,V.mode,P,null),M.return=V,M;if(typeof M.then=="function")return $(V,Zc(M),P);if(M.$$typeof===fe)return $(V,Kc(V,M),P);Jc(V,M)}return null}function q(V,M,P,Y){var ye=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:x(V,M,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ye?R(V,M,P,Y):null;case G:return P.key===ye?U(V,M,P,Y):null;case T:return P=Vr(P),q(V,M,P,Y)}if(He(P)||k(P))return ye!==null?null:K(V,M,P,Y,null);if(typeof P.then=="function")return q(V,M,Zc(P),Y);if(P.$$typeof===fe)return q(V,M,Kc(V,P),Y);Jc(V,P)}return null}function H(V,M,P,Y,ye){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(P)||null,x(M,V,""+Y,ye);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return V=V.get(Y.key===null?P:Y.key)||null,R(M,V,Y,ye);case G:return V=V.get(Y.key===null?P:Y.key)||null,U(M,V,Y,ye);case T:return Y=Vr(Y),H(V,M,P,Y,ye)}if(He(Y)||k(Y))return V=V.get(P)||null,K(M,V,Y,ye,null);if(typeof Y.then=="function")return H(V,M,P,Zc(Y),ye);if(Y.$$typeof===fe)return H(V,M,P,Kc(M,Y),ye);Jc(M,Y)}return null}function ce(V,M,P,Y){for(var ye=null,Fe=null,de=M,Re=M=0,Ve=null;de!==null&&Re<P.length;Re++){de.index>Re?(Ve=de,de=null):Ve=de.sibling;var Ge=q(V,de,P[Re],Y);if(Ge===null){de===null&&(de=Ve);break}t&&de&&Ge.alternate===null&&s(V,de),M=m(Ge,M,Re),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge,de=Ve}if(Re===P.length)return a(V,de),qe&&Bs(V,Re),ye;if(de===null){for(;Re<P.length;Re++)de=$(V,P[Re],Y),de!==null&&(M=m(de,M,Re),Fe===null?ye=de:Fe.sibling=de,Fe=de);return qe&&Bs(V,Re),ye}for(de=o(de);Re<P.length;Re++)Ve=H(de,V,Re,P[Re],Y),Ve!==null&&(t&&Ve.alternate!==null&&de.delete(Ve.key===null?Re:Ve.key),M=m(Ve,M,Re),Fe===null?ye=Ve:Fe.sibling=Ve,Fe=Ve);return t&&de.forEach(function(Bi){return s(V,Bi)}),qe&&Bs(V,Re),ye}function _e(V,M,P,Y){if(P==null)throw Error(r(151));for(var ye=null,Fe=null,de=M,Re=M=0,Ve=null,Ge=P.next();de!==null&&!Ge.done;Re++,Ge=P.next()){de.index>Re?(Ve=de,de=null):Ve=de.sibling;var Bi=q(V,de,Ge.value,Y);if(Bi===null){de===null&&(de=Ve);break}t&&de&&Bi.alternate===null&&s(V,de),M=m(Bi,M,Re),Fe===null?ye=Bi:Fe.sibling=Bi,Fe=Bi,de=Ve}if(Ge.done)return a(V,de),qe&&Bs(V,Re),ye;if(de===null){for(;!Ge.done;Re++,Ge=P.next())Ge=$(V,Ge.value,Y),Ge!==null&&(M=m(Ge,M,Re),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return qe&&Bs(V,Re),ye}for(de=o(de);!Ge.done;Re++,Ge=P.next())Ge=H(de,V,Re,Ge.value,Y),Ge!==null&&(t&&Ge.alternate!==null&&de.delete(Ge.key===null?Re:Ge.key),M=m(Ge,M,Re),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return t&&de.forEach(function(gw){return s(V,gw)}),qe&&Bs(V,Re),ye}function tt(V,M,P,Y){if(typeof P=="object"&&P!==null&&P.type===J&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:e:{for(var ye=P.key;M!==null;){if(M.key===ye){if(ye=P.type,ye===J){if(M.tag===7){a(V,M.sibling),Y=h(M,P.props.children),Y.return=V,V=Y;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===T&&Vr(ye)===M.type){a(V,M.sibling),Y=h(M,P.props),eo(Y,P),Y.return=V,V=Y;break e}a(V,M);break}else s(V,M);M=M.sibling}P.type===J?(Y=jr(P.props.children,V.mode,Y,P.key),Y.return=V,V=Y):(Y=Fc(P.type,P.key,P.props,null,V.mode,Y),eo(Y,P),Y.return=V,V=Y)}return _(V);case G:e:{for(ye=P.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(V,M.sibling),Y=h(M,P.children||[]),Y.return=V,V=Y;break e}else{a(V,M);break}else s(V,M);M=M.sibling}Y=_d(P,V.mode,Y),Y.return=V,V=Y}return _(V);case T:return P=Vr(P),tt(V,M,P,Y)}if(He(P))return ce(V,M,P,Y);if(k(P)){if(ye=k(P),typeof ye!="function")throw Error(r(150));return P=ye.call(P),_e(V,M,P,Y)}if(typeof P.then=="function")return tt(V,M,Zc(P),Y);if(P.$$typeof===fe)return tt(V,M,Kc(V,P),Y);Jc(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(a(V,M.sibling),Y=h(M,P),Y.return=V,V=Y):(a(V,M),Y=vd(P,V.mode,Y),Y.return=V,V=Y),_(V)):a(V,M)}return function(V,M,P,Y){try{Wl=0;var ye=tt(V,M,P,Y);return Oa=null,ye}catch(de){if(de===Ma||de===$c)throw de;var Fe=yn(29,de,null,V.mode);return Fe.lanes=Y,Fe.return=V,Fe}finally{}}}var Pr=zp(!0),qp=zp(!1),Ai=!1;function jd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Si(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ni(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ke&2)!==0){var h=o.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),o.pending=s,s=Hc(t),Tp(t,null,a),s}return Bc(t,o,s,a),Hc(t)}function to(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Il(t,a)}}function Md(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Od=!1;function no(){if(Od){var t=Da;if(t!==null)throw t}}function so(t,s,a,o){Od=!1;var h=t.updateQueue;Ai=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var R=x,U=R.next;R.next=null,_===null?m=U:_.next=U,_=R;var K=t.alternate;K!==null&&(K=K.updateQueue,x=K.lastBaseUpdate,x!==_&&(x===null?K.firstBaseUpdate=U:x.next=U,K.lastBaseUpdate=R))}if(m!==null){var $=h.baseState;_=0,K=U=R=null,x=m;do{var q=x.lane&-536870913,H=q!==x.lane;if(H?(ke&q)===q:(o&q)===q){q!==0&&q===ja&&(Od=!0),K!==null&&(K=K.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ce=t,_e=x;q=s;var tt=a;switch(_e.tag){case 1:if(ce=_e.payload,typeof ce=="function"){$=ce.call(tt,$,q);break e}$=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=_e.payload,q=typeof ce=="function"?ce.call(tt,$,q):ce,q==null)break e;$=A({},$,q);break e;case 2:Ai=!0}}q=x.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},K===null?(U=K=H,R=$):K=K.next=H,_|=q;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;H=x,x=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(R=$),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=K,m===null&&(h.shared.lanes=0),Di|=_,t.lanes=_,t.memoizedState=$}}function Bp(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Hp(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Bp(a[t],s)}var ka=j(null),Wc=j(0);function Fp(t,s){t=Ws,te(Wc,t),te(ka,s),Ws=t|s.baseLanes}function kd(){te(Wc,Ws),te(ka,ka.current)}function Vd(){Ws=Wc.current,z(ka),z(Wc)}var vn=j(null),kn=null;function Ii(t){var s=t.alternate;te(pt,pt.current&1),te(vn,t),kn===null&&(s===null||ka.current!==null||s.memoizedState!==null)&&(kn=t)}function Ld(t){te(pt,pt.current),te(vn,t),kn===null&&(kn=t)}function Gp(t){t.tag===22?(te(pt,pt.current),te(vn,t),kn===null&&(kn=t)):Ri()}function Ri(){te(pt,pt.current),te(vn,vn.current)}function _n(t){z(vn),kn===t&&(kn=null),z(pt)}var pt=j(0);function eu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ff(a)||Gf(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Gs=0,Ne=null,We=null,Nt=null,tu=!1,Va=!1,Ur=!1,nu=0,io=0,La=null,rE=0;function dt(){throw Error(r(321))}function Pd(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!pn(t[a],s[a]))return!1;return!0}function Ud(t,s,a,o,h,m){return Gs=m,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=t===null||t.memoizedState===null?I0:ef,Ur=!1,m=a(o,h),Ur=!1,Va&&(m=Kp(s,a,o,h)),Qp(t),m}function Qp(t){F.H=lo;var s=We!==null&&We.next!==null;if(Gs=0,Nt=We=Ne=null,tu=!1,io=0,La=null,s)throw Error(r(300));t===null||It||(t=t.dependencies,t!==null&&Qc(t)&&(It=!0))}function Kp(t,s,a,o){Ne=t;var h=0;do{if(Va&&(La=null),io=0,Va=!1,25<=h)throw Error(r(301));if(h+=1,Nt=We=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=R0,m=s(a,o)}while(Va);return m}function aE(){var t=F.H,s=t.useState()[0];return s=typeof s.then=="function"?ro(s):s,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ne.flags|=1024),s}function zd(){var t=nu!==0;return nu=0,t}function qd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Bd(t){if(tu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}tu=!1}Gs=0,Nt=We=Ne=null,Va=!1,io=nu=0,La=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ne.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function yt(){if(We===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var s=Nt===null?Ne.memoizedState:Nt.next;if(s!==null)Nt=s,We=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Nt===null?Ne.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ro(t){var s=io;return io+=1,La===null&&(La=[]),t=Lp(La,t,s),s=Ne,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?I0:ef),t}function iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ro(t);if(t.$$typeof===fe)return Ht(t)}throw Error(r(438,String(t)))}function Hd(t){var s=null,a=Ne.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=su(),Ne.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=O;return s.index++,a}function Qs(t,s){return typeof s=="function"?s(t):s}function ru(t){var s=yt();return Fd(s,We,t)}function Fd(t,s,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}s.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{s=h.next;var x=_=null,R=null,U=s,K=!1;do{var $=U.lane&-536870913;if($!==U.lane?(ke&$)===$:(Gs&$)===$){var q=U.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),$===ja&&(K=!0);else if((Gs&q)===q){U=U.next,q===ja&&(K=!0);continue}else $={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(x=R=$,_=m):R=R.next=$,Ne.lanes|=q,Di|=q;$=U.action,Ur&&a(m,$),m=U.hasEagerState?U.eagerState:a(m,$)}else q={lane:$,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(x=R=q,_=m):R=R.next=q,Ne.lanes|=$,Di|=$;U=U.next}while(U!==null&&U!==s);if(R===null?_=m:R.next=x,!pn(m,t.memoizedState)&&(It=!0,K&&(a=Da,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=R,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Gd(t){var s=yt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do m=t(m,_.action),_=_.next;while(_!==h);pn(m,s.memoizedState)||(It=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,o]}function Yp(t,s,a){var o=Ne,h=yt(),m=qe;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!pn((We||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,Yd(Zp.bind(null,o,h,t),[t]),h.getSnapshot!==s||_||Nt!==null&&Nt.memoizedState.tag&1){if(o.flags|=2048,Pa(9,{destroy:void 0},Xp.bind(null,o,h,a,s),null),nt===null)throw Error(r(349));m||(Gs&127)!==0||$p(o,s,a)}return a}function $p(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ne.updateQueue,s===null?(s=su(),Ne.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Xp(t,s,a,o){s.value=a,s.getSnapshot=o,Jp(s)&&Wp(t)}function Zp(t,s,a){return a(function(){Jp(s)&&Wp(t)})}function Jp(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!pn(t,a)}catch{return!0}}function Wp(t){var s=Cr(t,2);s!==null&&hn(s,t,2)}function Qd(t){var s=nn();if(typeof t=="function"){var a=t;if(t=a(),Ur){An(!0);try{a()}finally{An(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:t},s}function e0(t,s,a,o){return t.baseState=a,Fd(t,We,typeof o=="function"?o:Qs)}function lE(t,s,a,o,h){if(ou(t))throw Error(r(485));if(t=s.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};F.T!==null?a(!0):m.isTransition=!1,o(m),a=s.pending,a===null?(m.next=s.pending=m,t0(s,m)):(m.next=a.next,s.pending=a.next=m)}}function t0(t,s){var a=s.action,o=s.payload,h=t.state;if(s.isTransition){var m=F.T,_={};F.T=_;try{var x=a(h,o),R=F.S;R!==null&&R(_,x),n0(t,s,x)}catch(U){Kd(t,s,U)}finally{m!==null&&_.types!==null&&(m.types=_.types),F.T=m}}else try{m=a(h,o),n0(t,s,m)}catch(U){Kd(t,s,U)}}function n0(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){s0(t,s,o)},function(o){return Kd(t,s,o)}):s0(t,s,a)}function s0(t,s,a){s.status="fulfilled",s.value=a,i0(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,t0(t,a)))}function Kd(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,i0(s),s=s.next;while(s!==o)}t.action=null}function i0(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function r0(t,s){return s}function a0(t,s){if(qe){var a=nt.formState;if(a!==null){e:{var o=Ne;if(qe){if(it){t:{for(var h=it,m=On;h.nodeType!==8;){if(!m){h=null;break t}if(h=Vn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){it=Vn(h.nextSibling),o=h.data==="F!";break e}}wi(o)}o=!1}o&&(s=a[0])}}return a=nn(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r0,lastRenderedState:s},a.queue=o,a=A0.bind(null,Ne,o),o.dispatch=a,o=Qd(!1),m=Wd.bind(null,Ne,!1,o.queue),o=nn(),h={state:s,dispatch:null,action:t,pending:null},o.queue=h,a=lE.bind(null,Ne,h,m,a),h.dispatch=a,o.memoizedState=t,[s,a,!1]}function l0(t){var s=yt();return o0(s,We,t)}function o0(t,s,a){if(s=Fd(t,s,r0)[0],t=ru(Qs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=ro(s)}catch(_){throw _===Ma?$c:_}else o=s;s=yt();var h=s.queue,m=h.dispatch;return a!==s.memoizedState&&(Ne.flags|=2048,Pa(9,{destroy:void 0},oE.bind(null,h,a),null)),[o,m,t]}function oE(t,s){t.action=s}function c0(t){var s=yt(),a=We;if(a!==null)return o0(s,a,t);yt(),s=s.memoizedState,a=yt();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function Pa(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=su(),Ne.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function u0(){return yt().memoizedState}function au(t,s,a,o){var h=nn();Ne.flags|=t,h.memoizedState=Pa(1|s,{destroy:void 0},a,o===void 0?null:o)}function lu(t,s,a,o){var h=yt();o=o===void 0?null:o;var m=h.memoizedState.inst;We!==null&&o!==null&&Pd(o,We.memoizedState.deps)?h.memoizedState=Pa(s,m,a,o):(Ne.flags|=t,h.memoizedState=Pa(1|s,m,a,o))}function h0(t,s){au(8390656,8,t,s)}function Yd(t,s){lu(2048,8,t,s)}function cE(t){Ne.flags|=4;var s=Ne.updateQueue;if(s===null)s=su(),Ne.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function d0(t){var s=yt().memoizedState;return cE({ref:s,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function f0(t,s){return lu(4,2,t,s)}function m0(t,s){return lu(4,4,t,s)}function g0(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function p0(t,s,a){a=a!=null?a.concat([t]):null,lu(4,4,g0.bind(null,s,t),a)}function $d(){}function y0(t,s){var a=yt();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&Pd(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function v0(t,s){var a=yt();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&Pd(s,o[1]))return o[0];if(o=t(),Ur){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,s],o}function Xd(t,s,a){return a===void 0||(Gs&1073741824)!==0&&(ke&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=_y(),Ne.lanes|=t,Di|=t,a)}function _0(t,s,a,o){return pn(a,s)?a:ka.current!==null?(t=Xd(t,a,o),pn(t,s)||(It=!0),t):(Gs&42)===0||(Gs&1073741824)!==0&&(ke&261930)===0?(It=!0,t.memoizedState=a):(t=_y(),Ne.lanes|=t,Di|=t,s)}function b0(t,s,a,o,h){var m=ne.p;ne.p=m!==0&&8>m?m:8;var _=F.T,x={};F.T=x,Wd(t,!1,s,a);try{var R=h(),U=F.S;if(U!==null&&U(x,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=iE(R,o);ao(t,s,K,En(t))}else ao(t,s,o,En(t))}catch($){ao(t,s,{then:function(){},status:"rejected",reason:$},En())}finally{ne.p=m,_!==null&&x.types!==null&&(_.types=x.types),F.T=_}}function uE(){}function Zd(t,s,a,o){if(t.tag!==5)throw Error(r(476));var h=x0(t).queue;b0(t,h,s,me,a===null?uE:function(){return E0(t),a(o)})}function x0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:me},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function E0(t){var s=x0(t);s.next===null&&(s=t.alternate.memoizedState),ao(t,s.next.queue,{},En())}function Jd(){return Ht(To)}function w0(){return yt().memoizedState}function T0(){return yt().memoizedState}function hE(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=En();t=Si(a);var o=Ni(s,t,a);o!==null&&(hn(o,s,a),to(o,s,a)),s={cache:Nd()},t.payload=s;return}s=s.return}}function dE(t,s,a){var o=En();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ou(t)?S0(s,a):(a=pd(t,s,a,o),a!==null&&(hn(a,t,o),N0(a,s,o)))}function A0(t,s,a){var o=En();ao(t,s,a,o)}function ao(t,s,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ou(t))S0(s,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,x=m(_,a);if(h.hasEagerState=!0,h.eagerState=x,pn(x,_))return Bc(t,s,h,0),nt===null&&qc(),!1}catch{}finally{}if(a=pd(t,s,h,o),a!==null)return hn(a,t,o),N0(a,s,o),!0}return!1}function Wd(t,s,a,o){if(o={lane:2,revertLane:Df(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ou(t)){if(s)throw Error(r(479))}else s=pd(t,a,o,2),s!==null&&hn(s,t,2)}function ou(t){var s=t.alternate;return t===Ne||s!==null&&s===Ne}function S0(t,s){Va=tu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function N0(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Il(t,a)}}var lo={readContext:Ht,use:iu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};lo.useEffectEvent=dt;var I0={readContext:Ht,use:iu,useCallback:function(t,s){return nn().memoizedState=[t,s===void 0?null:s],t},useContext:Ht,useEffect:h0,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,au(4194308,4,g0.bind(null,s,t),a)},useLayoutEffect:function(t,s){return au(4194308,4,t,s)},useInsertionEffect:function(t,s){au(4,2,t,s)},useMemo:function(t,s){var a=nn();s=s===void 0?null:s;var o=t();if(Ur){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=nn();if(a!==void 0){var h=a(s);if(Ur){An(!0);try{a(s)}finally{An(!1)}}}else h=s;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=dE.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var s=nn();return t={current:t},s.memoizedState=t},useState:function(t){t=Qd(t);var s=t.queue,a=A0.bind(null,Ne,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:$d,useDeferredValue:function(t,s){var a=nn();return Xd(a,t,s)},useTransition:function(){var t=Qd(!1);return t=b0.bind(null,Ne,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=Ne,h=nn();if(qe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),nt===null)throw Error(r(349));(ke&127)!==0||$p(o,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,h0(Zp.bind(null,o,m,t),[t]),o.flags|=2048,Pa(9,{destroy:void 0},Xp.bind(null,o,m,a,s),null),a},useId:function(){var t=nn(),s=nt.identifierPrefix;if(qe){var a=Ts,o=ws;a=(o&~(1<<32-mt(o)-1)).toString(32)+a,s="_"+s+"R_"+a,a=nu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=rE++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Jd,useFormState:a0,useActionState:a0,useOptimistic:function(t){var s=nn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Wd.bind(null,Ne,!0,a),a.dispatch=s,[t,s]},useMemoCache:Hd,useCacheRefresh:function(){return nn().memoizedState=hE.bind(null,Ne)},useEffectEvent:function(t){var s=nn(),a={impl:t};return s.memoizedState=a,function(){if((Ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ef={readContext:Ht,use:iu,useCallback:y0,useContext:Ht,useEffect:Yd,useImperativeHandle:p0,useInsertionEffect:f0,useLayoutEffect:m0,useMemo:v0,useReducer:ru,useRef:u0,useState:function(){return ru(Qs)},useDebugValue:$d,useDeferredValue:function(t,s){var a=yt();return _0(a,We.memoizedState,t,s)},useTransition:function(){var t=ru(Qs)[0],s=yt().memoizedState;return[typeof t=="boolean"?t:ro(t),s]},useSyncExternalStore:Yp,useId:w0,useHostTransitionStatus:Jd,useFormState:l0,useActionState:l0,useOptimistic:function(t,s){var a=yt();return e0(a,We,t,s)},useMemoCache:Hd,useCacheRefresh:T0};ef.useEffectEvent=d0;var R0={readContext:Ht,use:iu,useCallback:y0,useContext:Ht,useEffect:Yd,useImperativeHandle:p0,useInsertionEffect:f0,useLayoutEffect:m0,useMemo:v0,useReducer:Gd,useRef:u0,useState:function(){return Gd(Qs)},useDebugValue:$d,useDeferredValue:function(t,s){var a=yt();return We===null?Xd(a,t,s):_0(a,We.memoizedState,t,s)},useTransition:function(){var t=Gd(Qs)[0],s=yt().memoizedState;return[typeof t=="boolean"?t:ro(t),s]},useSyncExternalStore:Yp,useId:w0,useHostTransitionStatus:Jd,useFormState:c0,useActionState:c0,useOptimistic:function(t,s){var a=yt();return We!==null?e0(a,We,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:T0};R0.useEffectEvent=d0;function tf(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:A({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nf={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=En(),h=Si(o);h.payload=s,a!=null&&(h.callback=a),s=Ni(t,h,o),s!==null&&(hn(s,t,o),to(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=En(),h=Si(o);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=Ni(t,h,o),s!==null&&(hn(s,t,o),to(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=En(),o=Si(a);o.tag=2,s!=null&&(o.callback=s),s=Ni(t,o,a),s!==null&&(hn(s,t,a),to(s,t,a))}};function C0(t,s,a,o,h,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,_):s.prototype&&s.prototype.isPureReactComponent?!Kl(a,o)||!Kl(h,m):!0}function j0(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&nf.enqueueReplaceState(s,s.state,null)}function zr(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function D0(t){zc(t)}function M0(t){console.error(t)}function O0(t){zc(t)}function cu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function k0(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sf(t,s,a){return a=Si(a),a.tag=3,a.payload={element:null},a.callback=function(){cu(t,s)},a}function V0(t){return t=Si(t),t.tag=3,t}function L0(t,s,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){k0(s,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){k0(s,a,o),typeof h!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})})}function fE(t,s,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&Ca(s,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?xu():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Xc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),Rf(t,o,h)),!1;case 22:return a.flags|=65536,o===Xc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),Rf(t,o,h)),!1}throw Error(r(435,a.tag))}return Rf(t,o,h),xu(),!1}if(qe)return s=vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,o!==Ed&&(t=Error(r(422),{cause:o}),Xl(jn(t,a)))):(o!==Ed&&(s=Error(r(423),{cause:o}),Xl(jn(s,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=jn(o,a),h=sf(t.stateNode,o,h),Md(t,h),ft!==4&&(ft=2)),!1;var m=Error(r(520),{cause:o});if(m=jn(m,a),po===null?po=[m]:po.push(m),ft!==4&&(ft=2),s===null)return!0;o=jn(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sf(a.stateNode,o,t),Md(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Mi===null||!Mi.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=V0(h),L0(h,t,a,o),Md(a,h),!1}a=a.return}while(a!==null);return!1}var rf=Error(r(461)),It=!1;function Ft(t,s,a,o){s.child=t===null?qp(s,null,a,o):Pr(s,t.child,a,o)}function P0(t,s,a,o,h){a=a.render;var m=s.ref;if("ref"in o){var _={};for(var x in o)x!=="ref"&&(_[x]=o[x])}else _=o;return Or(s),o=Ud(t,s,a,_,m,h),x=zd(),t!==null&&!It?(qd(t,s,h),Ks(t,s,h)):(qe&&x&&bd(s),s.flags|=1,Ft(t,s,o,h),s.child)}function U0(t,s,a,o,h){if(t===null){var m=a.type;return typeof m=="function"&&!yd(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,z0(t,s,m,o,h)):(t=Fc(a.type,null,o,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!ff(t,h)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Kl,a(_,o)&&t.ref===s.ref)return Ks(t,s,h)}return s.flags|=1,t=qs(m,o),t.ref=s.ref,t.return=s,s.child=t}function z0(t,s,a,o,h){if(t!==null){var m=t.memoizedProps;if(Kl(m,o)&&t.ref===s.ref)if(It=!1,s.pendingProps=o=m,ff(t,h))(t.flags&131072)!==0&&(It=!0);else return s.lanes=t.lanes,Ks(t,s,h)}return af(t,s,a,o,h)}function q0(t,s,a,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=s.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,s.child=null;return B0(t,s,m,a,o)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yc(s,m!==null?m.cachePool:null),m!==null?Fp(s,m):kd(),Gp(s);else return o=s.lanes=536870912,B0(t,s,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(Yc(s,m.cachePool),Fp(s,m),Ri(),s.memoizedState=null):(t!==null&&Yc(s,null),kd(),Ri());return Ft(t,s,h,a),s.child}function oo(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function B0(t,s,a,o,h){var m=Rd();return m=m===null?null:{parent:St._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&Yc(s,null),kd(),Gp(s),t!==null&&Ca(t,s,o,!0),s.childLanes=h,null}function uu(t,s){return s=du({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function H0(t,s,a){return Pr(s,t.child,null,a),t=uu(s,s.pendingProps),t.flags|=2,_n(s),s.memoizedState=null,t}function mE(t,s,a){var o=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(qe){if(o.mode==="hidden")return t=uu(s,o),s.lanes=536870912,oo(null,t);if(Ld(s),(t=it)?(t=t1(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:xi!==null?{id:ws,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},a=Sp(t),a.return=s,s.child=a,Bt=s,it=null)):t=null,t===null)throw wi(s);return s.lanes=536870912,null}return uu(s,o)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(Ld(s),h)if(s.flags&256)s.flags&=-257,s=H0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(It||Ca(t,s,a,!1),h=(a&t.childLanes)!==0,It||h){if(o=nt,o!==null&&(_=Rl(o,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,Cr(t,_),hn(o,t,_),rf;xu(),s=H0(t,s,a)}else t=m.treeContext,it=Vn(_.nextSibling),Bt=s,qe=!0,Ei=null,On=!1,t!==null&&Rp(s,t),s=uu(s,o),s.flags|=4096;return s}return t=qs(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function hu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function af(t,s,a,o,h){return Or(s),a=Ud(t,s,a,o,void 0,h),o=zd(),t!==null&&!It?(qd(t,s,h),Ks(t,s,h)):(qe&&o&&bd(s),s.flags|=1,Ft(t,s,a,h),s.child)}function F0(t,s,a,o,h,m){return Or(s),s.updateQueue=null,a=Kp(s,o,a,h),Qp(t),o=zd(),t!==null&&!It?(qd(t,s,m),Ks(t,s,m)):(qe&&o&&bd(s),s.flags|=1,Ft(t,s,a,m),s.child)}function G0(t,s,a,o,h){if(Or(s),s.stateNode===null){var m=Sa,_=a.contextType;typeof _=="object"&&_!==null&&(m=Ht(_)),m=new a(o,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=nf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=o,m.state=s.memoizedState,m.refs={},jd(s),_=a.contextType,m.context=typeof _=="object"&&_!==null?Ht(_):Sa,m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(tf(s,a,_,o),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&nf.enqueueReplaceState(m,m.state,null),so(s,o,m,h),no(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){m=s.stateNode;var x=s.memoizedProps,R=zr(a,x);m.props=R;var U=m.context,K=a.contextType;_=Sa,typeof K=="object"&&K!==null&&(_=Ht(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,K||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||U!==_)&&j0(s,m,o,_),Ai=!1;var q=s.memoizedState;m.state=q,so(s,o,m,h),no(),U=s.memoizedState,x||q!==U||Ai?(typeof $=="function"&&(tf(s,a,$,o),U=s.memoizedState),(R=Ai||C0(s,a,R,o,q,U,_))?(K||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=U),m.props=o,m.state=U,m.context=_,o=R):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{m=s.stateNode,Dd(t,s),_=s.memoizedProps,K=zr(a,_),m.props=K,$=s.pendingProps,q=m.context,U=a.contextType,R=Sa,typeof U=="object"&&U!==null&&(R=Ht(U)),x=a.getDerivedStateFromProps,(U=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==$||q!==R)&&j0(s,m,o,R),Ai=!1,q=s.memoizedState,m.state=q,so(s,o,m,h),no();var H=s.memoizedState;_!==$||q!==H||Ai||t!==null&&t.dependencies!==null&&Qc(t.dependencies)?(typeof x=="function"&&(tf(s,a,x,o),H=s.memoizedState),(K=Ai||C0(s,a,K,o,q,H,R)||t!==null&&t.dependencies!==null&&Qc(t.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,H,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,H,R)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=H),m.props=o,m.state=H,m.context=R,o=K):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),o=!1)}return m=o,hu(t,s),o=(s.flags&128)!==0,m||o?(m=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&o?(s.child=Pr(s,t.child,null,h),s.child=Pr(s,null,a,h)):Ft(t,s,a,h),s.memoizedState=m.state,t=s.child):t=Ks(t,s,h),t}function Q0(t,s,a,o){return Dr(),s.flags|=256,Ft(t,s,a,o),s.child}var lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(t){return{baseLanes:t,cachePool:kp()}}function cf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=xn),t}function K0(t,s,a){var o=s.pendingProps,h=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if(qe){if(h?Ii(s):Ri(),(t=it)?(t=t1(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:xi!==null?{id:ws,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},a=Sp(t),a.return=s,s.child=a,Bt=s,it=null)):t=null,t===null)throw wi(s);return Gf(t)?s.lanes=32:s.lanes=536870912,null}var x=o.children;return o=o.fallback,h?(Ri(),h=s.mode,x=du({mode:"hidden",children:x},h),o=jr(o,h,a,null),x.return=s,o.return=s,x.sibling=o,s.child=x,o=s.child,o.memoizedState=of(a),o.childLanes=cf(t,_,a),s.memoizedState=lf,oo(null,o)):(Ii(s),uf(s,x))}var R=t.memoizedState;if(R!==null&&(x=R.dehydrated,x!==null)){if(m)s.flags&256?(Ii(s),s.flags&=-257,s=hf(t,s,a)):s.memoizedState!==null?(Ri(),s.child=t.child,s.flags|=128,s=null):(Ri(),x=o.fallback,h=s.mode,o=du({mode:"visible",children:o.children},h),x=jr(x,h,a,null),x.flags|=2,o.return=s,x.return=s,o.sibling=x,s.child=o,Pr(s,t.child,null,a),o=s.child,o.memoizedState=of(a),o.childLanes=cf(t,_,a),s.memoizedState=lf,s=oo(null,o));else if(Ii(s),Gf(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var U=_.dgst;_=U,o=Error(r(419)),o.stack="",o.digest=_,Xl({value:o,source:null,stack:null}),s=hf(t,s,a)}else if(It||Ca(t,s,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=nt,_!==null&&(o=Rl(_,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,Cr(t,o),hn(_,t,o),rf;Ff(x)||xu(),s=hf(t,s,a)}else Ff(x)?(s.flags|=192,s.child=t.child,s=null):(t=R.treeContext,it=Vn(x.nextSibling),Bt=s,qe=!0,Ei=null,On=!1,t!==null&&Rp(s,t),s=uf(s,o.children),s.flags|=4096);return s}return h?(Ri(),x=o.fallback,h=s.mode,R=t.child,U=R.sibling,o=qs(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,U!==null?x=qs(U,x):(x=jr(x,h,a,null),x.flags|=2),x.return=s,o.return=s,o.sibling=x,s.child=o,oo(null,o),o=s.child,x=t.child.memoizedState,x===null?x=of(a):(h=x.cachePool,h!==null?(R=St._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=kp(),x={baseLanes:x.baseLanes|a,cachePool:h}),o.memoizedState=x,o.childLanes=cf(t,_,a),s.memoizedState=lf,oo(t.child,o)):(Ii(s),a=t.child,t=a.sibling,a=qs(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function uf(t,s){return s=du({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function du(t,s){return t=yn(22,t,null,s),t.lanes=0,t}function hf(t,s,a){return Pr(s,t.child,null,a),t=uf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Y0(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Ad(t.return,s,a)}function df(t,s,a,o,h,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=m)}function $0(t,s,a){var o=s.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var _=pt.current,x=(_&2)!==0;if(x?(_=_&1|2,s.flags|=128):_&=1,te(pt,_),Ft(t,s,o,a),o=qe?$l:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y0(t,a,s);else if(t.tag===19)Y0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&eu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),df(s,!1,h,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&eu(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}df(s,!0,a,null,m,o);break;case"together":df(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function Ks(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Di|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Ca(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=qs(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=qs(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function ff(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Qc(t)))}function gE(t,s,a){switch(s.tag){case 3:lt(s,s.stateNode.containerInfo),Ti(s,St,t.memoizedState.cache),Dr();break;case 27:case 5:dr(s);break;case 4:lt(s,s.stateNode.containerInfo);break;case 10:Ti(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ld(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Ii(s),s.flags|=128,null):(a&s.child.childLanes)!==0?K0(t,s,a):(Ii(s),t=Ks(t,s,a),t!==null?t.sibling:null);Ii(s);break;case 19:var h=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(Ca(t,s,a,!1),o=(a&s.childLanes)!==0),h){if(o)return $0(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(pt,pt.current),o)break;return null;case 22:return s.lanes=0,q0(t,s,a,s.pendingProps);case 24:Ti(s,St,t.memoizedState.cache)}return Ks(t,s,a)}function X0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)It=!0;else{if(!ff(t,a)&&(s.flags&128)===0)return It=!1,gE(t,s,a);It=(t.flags&131072)!==0}else It=!1,qe&&(s.flags&1048576)!==0&&Ip(s,$l,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=Vr(s.elementType),s.type=t,typeof t=="function")yd(t)?(o=zr(t,o),s.tag=1,s=G0(null,s,t,o,a)):(s.tag=0,s=af(null,s,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ce){s.tag=11,s=P0(null,s,t,o,a);break e}else if(h===C){s.tag=14,s=U0(null,s,t,o,a);break e}}throw s=ze(t)||t,Error(r(306,s,""))}}return s;case 0:return af(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,h=zr(o,s.pendingProps),G0(t,s,o,h,a);case 3:e:{if(lt(s,s.stateNode.containerInfo),t===null)throw Error(r(387));o=s.pendingProps;var m=s.memoizedState;h=m.element,Dd(t,s),so(s,o,null,a);var _=s.memoizedState;if(o=_.cache,Ti(s,St,o),o!==m.cache&&Sd(s,[St],a,!0),no(),o=_.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Q0(t,s,o,a);break e}else if(o!==h){h=jn(Error(r(424)),s),Xl(h),s=Q0(t,s,o,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Vn(t.firstChild),Bt=s,qe=!0,Ei=null,On=!0,a=qp(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Dr(),o===h){s=Ks(t,s,a);break e}Ft(t,s,o,a)}s=s.child}return s;case 26:return hu(t,s),t===null?(a=l1(s.type,null,s.pendingProps,null))?s.memoizedState=a:qe||(a=s.type,t=s.pendingProps,o=Iu(be.current).createElement(a),o[wt]=s,o[Vt]=t,Gt(o,a,t),Tt(o),s.stateNode=o):s.memoizedState=l1(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return dr(s),t===null&&qe&&(o=s.stateNode=i1(s.type,s.pendingProps,be.current),Bt=s,On=!0,h=it,Li(s.type)?(Qf=h,it=Vn(o.firstChild)):it=h),Ft(t,s,s.pendingProps.children,a),hu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&qe&&((h=o=it)&&(o=GE(o,s.type,s.pendingProps,On),o!==null?(s.stateNode=o,Bt=s,it=Vn(o.firstChild),On=!1,h=!0):h=!1),h||wi(s)),dr(s),h=s.type,m=s.pendingProps,_=t!==null?t.memoizedProps:null,o=m.children,qf(h,m)?o=null:_!==null&&qf(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=Ud(t,s,aE,null,null,a),To._currentValue=h),hu(t,s),Ft(t,s,o,a),s.child;case 6:return t===null&&qe&&((t=a=it)&&(a=QE(a,s.pendingProps,On),a!==null?(s.stateNode=a,Bt=s,it=null,t=!0):t=!1),t||wi(s)),null;case 13:return K0(t,s,a);case 4:return lt(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=Pr(s,null,o,a):Ft(t,s,o,a),s.child;case 11:return P0(t,s,s.type,s.pendingProps,a);case 7:return Ft(t,s,s.pendingProps,a),s.child;case 8:return Ft(t,s,s.pendingProps.children,a),s.child;case 12:return Ft(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,Ti(s,s.type,o.value),Ft(t,s,o.children,a),s.child;case 9:return h=s.type._context,o=s.pendingProps.children,Or(s),h=Ht(h),o=o(h),s.flags|=1,Ft(t,s,o,a),s.child;case 14:return U0(t,s,s.type,s.pendingProps,a);case 15:return z0(t,s,s.type,s.pendingProps,a);case 19:return $0(t,s,a);case 31:return mE(t,s,a);case 22:return q0(t,s,a,s.pendingProps);case 24:return Or(s),o=Ht(St),t===null?(h=Rd(),h===null&&(h=nt,m=Nd(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),s.memoizedState={parent:o,cache:h},jd(s),Ti(s,St,h)):((t.lanes&a)!==0&&(Dd(t,s),so(s,null,null,a),no()),h=t.memoizedState,m=s.memoizedState,h.parent!==o?(h={parent:o,cache:o},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Ti(s,St,o)):(o=m.cache,Ti(s,St,o),o!==h.cache&&Sd(s,[St],a,!0))),Ft(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ys(t){t.flags|=4}function mf(t,s,a,o,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(wy())t.flags|=8192;else throw Lr=Xc,Cd}else t.flags&=-16777217}function Z0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!d1(s))if(wy())t.flags|=8192;else throw Lr=Xc,Cd}function fu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?_c():536870912,t.lanes|=s,Ba|=s)}function co(t,s){if(!qe)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function pE(t,s,a){var o=s.pendingProps;switch(xd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return rt(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Fs(St),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ra(s)?Ys(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,wd())),rt(s),null;case 26:var h=s.type,m=s.memoizedState;return t===null?(Ys(s),m!==null?(rt(s),Z0(s,m)):(rt(s),mf(s,h,null,o,a))):m?m!==t.memoizedState?(Ys(s),rt(s),Z0(s,m)):(rt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ys(s),rt(s),mf(s,h,t,o,a)),null;case 27:if(la(s),a=be.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Ys(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return rt(s),null}t=ie.current,Ra(s)?Cp(s):(t=i1(h,o,a),s.stateNode=t,Ys(s))}return rt(s),null;case 5:if(la(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Ys(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return rt(s),null}if(m=ie.current,Ra(s))Cp(s);else{var _=Iu(be.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}m[wt]=s,m[Vt]=o;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;e:switch(Gt(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ys(s)}}return rt(s),mf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&Ys(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(r(166));if(t=be.current,Ra(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[wt]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Ky(t.nodeValue,a)),t||wi(s,!0)}else t=Iu(t).createTextNode(o),t[wt]=s,s.stateNode=t}return rt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(o=Ra(s),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[wt]=s}else Dr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),t=!1}else a=wd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(_n(s),s):(_n(s),null);if((s.flags&128)!==0)throw Error(r(558))}return rt(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ra(s),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[wt]=s}else Dr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),h=!1}else h=wd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(_n(s),s):(_n(s),null)}return _n(s),(s.flags&128)!==0?(s.lanes=a,s):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=s.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),fu(s,s.updateQueue),rt(s),null);case 4:return ot(),t===null&&Vf(s.stateNode.containerInfo),rt(s),null;case 10:return Fs(s.type),rt(s),null;case 19:if(z(pt),o=s.memoizedState,o===null)return rt(s),null;if(h=(s.flags&128)!==0,m=o.rendering,m===null)if(h)co(o,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=eu(t),m!==null){for(s.flags|=128,co(o,!1),t=m.updateQueue,s.updateQueue=t,fu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Ap(a,t),a=a.sibling;return te(pt,pt.current&1|2),qe&&Bs(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&en()>vu&&(s.flags|=128,h=!0,co(o,!1),s.lanes=4194304)}else{if(!h)if(t=eu(m),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,fu(s,t),co(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!qe)return rt(s),null}else 2*en()-o.renderingStartTime>vu&&a!==536870912&&(s.flags|=128,h=!0,co(o,!1),s.lanes=4194304);o.isBackwards?(m.sibling=s.child,s.child=m):(t=o.last,t!==null?t.sibling=m:s.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,a=pt.current,te(pt,h?a&1|2:a&1),qe&&Bs(s,o.treeForkCount),t):(rt(s),null);case 22:case 23:return _n(s),Vd(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),a=s.updateQueue,a!==null&&fu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&z(kr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Fs(St),rt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function yE(t,s){switch(xd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Fs(St),ot(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return la(s),null;case 31:if(s.memoizedState!==null){if(_n(s),s.alternate===null)throw Error(r(340));Dr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(_n(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Dr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return z(pt),null;case 4:return ot(),null;case 10:return Fs(s.type),null;case 22:case 23:return _n(s),Vd(),t!==null&&z(kr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Fs(St),null;case 25:return null;default:return null}}function J0(t,s){switch(xd(s),s.tag){case 3:Fs(St),ot();break;case 26:case 27:case 5:la(s);break;case 4:ot();break;case 31:s.memoizedState!==null&&_n(s);break;case 13:_n(s);break;case 19:z(pt);break;case 10:Fs(s.type);break;case 22:case 23:_n(s),Vd(),t!==null&&z(kr);break;case 24:Fs(St)}}function uo(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var m=a.create,_=a.inst;o=m(),_.destroy=o}a=a.next}while(a!==h)}}catch(x){Ze(s,s.return,x)}}function Ci(t,s,a){try{var o=s.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var _=o.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,h=s;var R=a,U=x;try{U()}catch(K){Ze(h,R,K)}}}o=o.next}while(o!==m)}}catch(K){Ze(s,s.return,K)}}function W0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Hp(s,a)}catch(o){Ze(t,t.return,o)}}}function ey(t,s,a){a.props=zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ze(t,s,o)}}function ho(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ze(t,s,h)}}function As(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ze(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,s,h)}else a.current=null}function ty(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function gf(t,s,a){try{var o=t.stateNode;UE(o,t.type,a,s),o[Vt]=s}catch(h){Ze(t,t.return,h)}}function ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Li(t.type)||t.tag===4}function pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Li(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yf(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Gn));else if(o!==4&&(o===27&&Li(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(yf(t,s,a),t=t.sibling;t!==null;)yf(t,s,a),t=t.sibling}function mu(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&Li(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mu(t,s,a),t=t.sibling;t!==null;)mu(t,s,a),t=t.sibling}function sy(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Gt(s,o,a),s[wt]=t,s[Vt]=a}catch(m){Ze(t,t.return,m)}}var $s=!1,Rt=!1,vf=!1,iy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function vE(t,s){if(t=t.containerInfo,Uf=ku,t=pp(t),ud(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,x=-1,R=-1,U=0,K=0,$=t,q=null;t:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(x=_+h),$!==m||o!==0&&$.nodeType!==3||(R=_+o),$.nodeType===3&&(_+=$.nodeValue.length),(H=$.firstChild)!==null;)q=$,$=H;for(;;){if($===t)break t;if(q===a&&++U===h&&(x=_),q===m&&++K===o&&(R=_),(H=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=H}a=x===-1||R===-1?null:{start:x,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(zf={focusedElem:t,selectionRange:a},ku=!1,Pt=s;Pt!==null;)if(s=Pt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Pt=t;else for(;Pt!==null;){switch(s=Pt,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var ce=zr(a.type,h);t=o.getSnapshotBeforeUpdate(ce,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Hf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Pt=t;break}Pt=s.return}}function ry(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Zs(t,a),o&4&&uo(5,a);break;case 1:if(Zs(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var h=zr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}o&64&&W0(a),o&512&&ho(a,a.return);break;case 3:if(Zs(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Hp(t,s)}catch(_){Ze(a,a.return,_)}}break;case 27:s===null&&o&4&&sy(a);case 26:case 5:Zs(t,a),s===null&&o&4&&ty(a),o&512&&ho(a,a.return);break;case 12:Zs(t,a);break;case 31:Zs(t,a),o&4&&oy(t,a);break;case 13:Zs(t,a),o&4&&cy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=NE.bind(null,a),KE(t,a))));break;case 22:if(o=a.memoizedState!==null||$s,!o){s=s!==null&&s.memoizedState!==null||Rt,h=$s;var m=Rt;$s=o,(Rt=s)&&!m?Js(t,a,(a.subtreeFlags&8772)!==0):Zs(t,a),$s=h,Rt=m}break;case 30:break;default:Zs(t,a)}}function ay(t){var s=t.alternate;s!==null&&(t.alternate=null,ay(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&da(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,ln=!1;function Xs(t,s,a){for(a=a.child;a!==null;)ly(t,s,a),a=a.sibling}function ly(t,s,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Rt||As(a,s),Xs(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||As(a,s);var o=ut,h=ln;Li(a.type)&&(ut=a.stateNode,ln=!1),Xs(t,s,a),xo(a.stateNode),ut=o,ln=h;break;case 5:Rt||As(a,s);case 6:if(o=ut,h=ln,ut=null,Xs(t,s,a),ut=o,ln=h,ut!==null)if(ln)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(m){Ze(a,s,m)}else try{ut.removeChild(a.stateNode)}catch(m){Ze(a,s,m)}break;case 18:ut!==null&&(ln?(t=ut,Wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xa(t)):Wy(ut,a.stateNode));break;case 4:o=ut,h=ln,ut=a.stateNode.containerInfo,ln=!0,Xs(t,s,a),ut=o,ln=h;break;case 0:case 11:case 14:case 15:Ci(2,a,s),Rt||Ci(4,a,s),Xs(t,s,a);break;case 1:Rt||(As(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ey(a,s,o)),Xs(t,s,a);break;case 21:Xs(t,s,a);break;case 22:Rt=(o=Rt)||a.memoizedState!==null,Xs(t,s,a),Rt=o;break;default:Xs(t,s,a)}}function oy(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(a){Ze(s,s.return,a)}}}function cy(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(a){Ze(s,s.return,a)}}function _E(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new iy),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new iy),s;default:throw Error(r(435,t.tag))}}function gu(t,s){var a=_E(t);s.forEach(function(o){if(!a.has(o)){a.add(o);var h=IE.bind(null,t,o);o.then(h,h)}})}function on(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=t,_=s,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(Li(x.type)){ut=x.stateNode,ln=!1;break e}break;case 5:ut=x.stateNode,ln=!1;break e;case 3:case 4:ut=x.stateNode.containerInfo,ln=!0;break e}x=x.return}if(ut===null)throw Error(r(160));ly(m,_,h),ut=null,ln=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)uy(s,t),s=s.sibling}var Zn=null;function uy(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(s,t),cn(t),o&4&&(Ci(3,t,t.return),uo(3,t),Ci(5,t,t.return));break;case 1:on(s,t),cn(t),o&512&&(Rt||a===null||As(a,a.return)),o&64&&$s&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(on(s,t),cn(t),o&512&&(Rt||a===null||As(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[hs]||m[wt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Gt(m,o,a),m[wt]=t,Tt(m),o=m;break e;case"link":var _=u1("link","href",h).get(o+(a.href||""));if(_){for(var x=0;x<_.length;x++)if(m=_[x],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(x,1);break t}}m=h.createElement(o),Gt(m,o,a),h.head.appendChild(m);break;case"meta":if(_=u1("meta","content",h).get(o+(a.content||""))){for(x=0;x<_.length;x++)if(m=_[x],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(x,1);break t}}m=h.createElement(o),Gt(m,o,a),h.head.appendChild(m);break;default:throw Error(r(468,o))}m[wt]=t,Tt(m),o=m}t.stateNode=o}else h1(h,t.type,t.stateNode);else t.stateNode=c1(h,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?h1(h,t.type,t.stateNode):c1(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&gf(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(s,t),cn(t),o&512&&(Rt||a===null||As(a,a.return)),a!==null&&o&4&&gf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(s,t),cn(t),o&512&&(Rt||a===null||As(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(ce){Ze(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,gf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(vf=!0);break;case 6:if(on(s,t),cn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ce){Ze(t,t.return,ce)}}break;case 3:if(ju=null,h=Zn,Zn=Ru(s.containerInfo),on(s,t),Zn=h,cn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(s.containerInfo)}catch(ce){Ze(t,t.return,ce)}vf&&(vf=!1,hy(t));break;case 4:o=Zn,Zn=Ru(t.stateNode.containerInfo),on(s,t),cn(t),Zn=o;break;case 12:on(s,t),cn(t);break;case 31:on(s,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gu(t,o)));break;case 13:on(s,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yu=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gu(t,o)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,U=$s,K=Rt;if($s=U||h,Rt=K||R,on(s,t),Rt=K,$s=U,cn(t),o&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||R||$s||Rt||qr(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){R=a=s;try{if(m=R.stateNode,h)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=R.stateNode;var $=R.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;x.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){Ze(R,R.return,ce)}}}else if(s.tag===6){if(a===null){R=s;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ce){Ze(R,R.return,ce)}}}else if(s.tag===18){if(a===null){R=s;try{var H=R.stateNode;h?e1(H,!0):e1(R.stateNode,!1)}catch(ce){Ze(R,R.return,ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,gu(t,a))));break;case 19:on(s,t),cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gu(t,o)));break;case 30:break;case 21:break;default:on(s,t),cn(t)}}function cn(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(ny(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,m=pf(t);mu(t,m,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var x=pf(t);mu(t,x,_);break;case 3:case 4:var R=a.stateNode.containerInfo,U=pf(t);yf(t,U,R);break;default:throw Error(r(161))}}catch(K){Ze(t,t.return,K)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;hy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Zs(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ry(t,s.alternate,s),s=s.sibling}function qr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ci(4,s,s.return),qr(s);break;case 1:As(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&ey(s,s.return,a),qr(s);break;case 27:xo(s.stateNode);case 26:case 5:As(s,s.return),qr(s);break;case 22:s.memoizedState===null&&qr(s);break;case 30:qr(s);break;default:qr(s)}t=t.sibling}}function Js(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,h=t,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:Js(h,m,a),uo(4,m);break;case 1:if(Js(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Ze(o,o.return,U)}if(o=m,h=o.updateQueue,h!==null){var x=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Bp(R[h],x)}catch(U){Ze(o,o.return,U)}}a&&_&64&&W0(m),ho(m,m.return);break;case 27:sy(m);case 26:case 5:Js(h,m,a),a&&o===null&&_&4&&ty(m),ho(m,m.return);break;case 12:Js(h,m,a);break;case 31:Js(h,m,a),a&&_&4&&oy(h,m);break;case 13:Js(h,m,a),a&&_&4&&cy(h,m);break;case 22:m.memoizedState===null&&Js(h,m,a),ho(m,m.return);break;case 30:break;default:Js(h,m,a)}s=s.sibling}}function _f(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Zl(a))}function bf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Zl(t))}function Jn(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dy(t,s,a,o),s=s.sibling}function dy(t,s,a,o){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Jn(t,s,a,o),h&2048&&uo(9,s);break;case 1:Jn(t,s,a,o);break;case 3:Jn(t,s,a,o),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Zl(t)));break;case 12:if(h&2048){Jn(t,s,a,o),t=s.stateNode;try{var m=s.memoizedProps,_=m.id,x=m.onPostCommit;typeof x=="function"&&x(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ze(s,s.return,R)}}else Jn(t,s,a,o);break;case 31:Jn(t,s,a,o);break;case 13:Jn(t,s,a,o);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?Jn(t,s,a,o):fo(t,s):m._visibility&2?Jn(t,s,a,o):(m._visibility|=2,Ua(t,s,a,o,(s.subtreeFlags&10256)!==0||!1)),h&2048&&_f(_,s);break;case 24:Jn(t,s,a,o),h&2048&&bf(s.alternate,s);break;default:Jn(t,s,a,o)}}function Ua(t,s,a,o,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,_=s,x=a,R=o,U=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(m,_,x,R,h),uo(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ua(m,_,x,R,h):fo(m,_):(K._visibility|=2,Ua(m,_,x,R,h)),h&&U&2048&&_f(_.alternate,_);break;case 24:Ua(m,_,x,R,h),h&&U&2048&&bf(_.alternate,_);break;default:Ua(m,_,x,R,h)}s=s.sibling}}function fo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,h=o.flags;switch(o.tag){case 22:fo(a,o),h&2048&&_f(o.alternate,o);break;case 24:fo(a,o),h&2048&&bf(o.alternate,o);break;default:fo(a,o)}s=s.sibling}}var mo=8192;function za(t,s,a){if(t.subtreeFlags&mo)for(t=t.child;t!==null;)fy(t,s,a),t=t.sibling}function fy(t,s,a){switch(t.tag){case 26:za(t,s,a),t.flags&mo&&t.memoizedState!==null&&rw(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:za(t,s,a);break;case 3:case 4:var o=Zn;Zn=Ru(t.stateNode.containerInfo),za(t,s,a),Zn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=mo,mo=16777216,za(t,s,a),mo=o):za(t,s,a));break;default:za(t,s,a)}}function my(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function go(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];Pt=o,py(o,t)}my(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gy(t),t=t.sibling}function gy(t){switch(t.tag){case 0:case 11:case 15:go(t),t.flags&2048&&Ci(9,t,t.return);break;case 3:go(t);break;case 12:go(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,pu(t)):go(t);break;default:go(t)}}function pu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];Pt=o,py(o,t)}my(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ci(8,s,s.return),pu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,pu(s));break;default:pu(s)}t=t.sibling}}function py(t,s){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Ci(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Zl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pt=o;else e:for(a=t;Pt!==null;){o=Pt;var h=o.sibling,m=o.return;if(ay(o),o===a){Pt=null;break e}if(h!==null){h.return=m,Pt=h;break e}Pt=m}}}var bE={getCacheForType:function(t){var s=Ht(St),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},xE=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,Me=null,ke=0,Xe=0,bn=null,ji=!1,qa=!1,xf=!1,Ws=0,ft=0,Di=0,Br=0,Ef=0,xn=0,Ba=0,po=null,un=null,wf=!1,yu=0,yy=0,vu=1/0,_u=null,Mi=null,Ot=0,Oi=null,Ha=null,ei=0,Tf=0,Af=null,vy=null,yo=0,Sf=null;function En(){return(Ke&2)!==0&&ke!==0?ke&-ke:F.T!==null?Df():bc()}function _y(){if(xn===0)if((ke&536870912)===0||qe){var t=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),xn=t}else xn=536870912;return t=vn.current,t!==null&&(t.flags|=32),xn}function hn(t,s,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),ki(t,ke,xn,!1)),pr(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(Br|=a),ft===4&&ki(t,ke,xn,!1)),Ss(t))}function by(t,s,a){if((Ke&6)!==0)throw Error(r(327));var o=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Bn(t,s),h=o?TE(t,s):If(t,s,!0),m=o;do{if(h===0){qa&&!o&&ki(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!EE(a)){h=If(t,s,!1),m=!1;continue}if(h===2){if(m=s,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var x=t;h=po;var R=x.current.memoizedState.isDehydrated;if(R&&(Fa(x,_).flags|=256),_=If(x,_,!1),_!==2){if(xf&&!R){x.errorRecoveryDisabledLanes|=m,Br|=m,h=4;break e}m=un,un=h,m!==null&&(un===null?un=m:un.push.apply(un,m))}h=_}if(m=!1,h!==2)continue}}if(h===1){Fa(t,0),ki(t,s,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ki(o,s,xn,!ji);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=yu+300-en(),10<h)){if(ki(o,s,xn,!ji),os(o,0,!0)!==0)break e;ei=s,o.timeoutHandle=Zy(xy.bind(null,o,a,un,_u,wf,s,xn,Br,Ba,ji,m,"Throttled",-0,0),h);break e}xy(o,a,un,_u,wf,s,xn,Br,Ba,ji,m,null,-0,0)}}break}while(!0);Ss(t)}function xy(t,s,a,o,h,m,_,x,R,U,K,$,q,H){if(t.timeoutHandle=-1,$=s.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},fy(s,m,$);var ce=(m&62914560)===m?yu-en():(m&4194048)===m?yy-en():0;if(ce=aw($,ce),ce!==null){ei=m,t.cancelPendingCommit=ce(Ry.bind(null,t,s,m,a,o,h,_,x,R,K,$,null,q,H)),ki(t,m,_,!U);return}}Ry(t,s,m,a,o,h,_,x,R)}function EE(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!pn(m(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ki(t,s,a,o){s&=~Ef,s&=~Br,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var h=s;0<h;){var m=31-mt(h),_=1<<m;o[m]=-1,h&=~_}a!==0&&yr(t,a,s)}function bu(){return(Ke&6)===0?(vo(0),!1):!0}function Nf(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,Hs=Mr=null,Bd(t),Oa=null,Wl=0,t=Me;for(;t!==null;)J0(t.alternate,t),t=t.return;Me=null}}function Fa(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,BE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ei=0,Nf(),nt=t,Me=a=qs(t.current,null),ke=s,Xe=0,bn=null,ji=!1,qa=Bn(t,s),xf=!1,Ba=xn=Ef=Br=Di=ft=0,un=po=null,wf=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var h=31-mt(o),m=1<<h;s|=t[h],o&=~m}return Ws=s,qc(),a}function Ey(t,s){Ne=null,F.H=lo,s===Ma||s===$c?(s=Pp(),Xe=3):s===Cd?(s=Pp(),Xe=4):Xe=s===rf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,bn=s,Me===null&&(ft=1,cu(t,jn(s,t.current)))}function wy(){var t=vn.current;return t===null?!0:(ke&4194048)===ke?kn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===kn:!1}function Ty(){var t=F.H;return F.H=lo,t===null?lo:t}function Ay(){var t=F.A;return F.A=bE,t}function xu(){ft=4,ji||(ke&4194048)!==ke&&vn.current!==null||(qa=!0),(Di&134217727)===0&&(Br&134217727)===0||nt===null||ki(nt,ke,xn,!1)}function If(t,s,a){var o=Ke;Ke|=2;var h=Ty(),m=Ay();(nt!==t||ke!==s)&&(_u=null,Fa(t,s)),s=!1;var _=ft;e:do try{if(Xe!==0&&Me!==null){var x=Me,R=bn;switch(Xe){case 8:Nf(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(s=!0);var U=Xe;if(Xe=0,bn=null,Ga(t,x,R,U),a&&qa){_=0;break e}break;default:U=Xe,Xe=0,bn=null,Ga(t,x,R,U)}}wE(),_=ft;break}catch(K){Ey(t,K)}while(!0);return s&&t.shellSuspendCounter++,Hs=Mr=null,Ke=o,F.H=h,F.A=m,Me===null&&(nt=null,ke=0,qc()),_}function wE(){for(;Me!==null;)Sy(Me)}function TE(t,s){var a=Ke;Ke|=2;var o=Ty(),h=Ay();nt!==t||ke!==s?(_u=null,vu=en()+500,Fa(t,s)):qa=Bn(t,s);e:do try{if(Xe!==0&&Me!==null){s=Me;var m=bn;t:switch(Xe){case 1:Xe=0,bn=null,Ga(t,s,m,1);break;case 2:case 9:if(Vp(m)){Xe=0,bn=null,Ny(s);break}s=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Ss(t)},m.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Vp(m)?(Xe=0,bn=null,Ny(s)):(Xe=0,bn=null,Ga(t,s,m,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var x=Me;if(_?d1(_):x.stateNode.complete){Xe=0,bn=null;var R=x.sibling;if(R!==null)Me=R;else{var U=x.return;U!==null?(Me=U,Eu(U)):Me=null}break t}}Xe=0,bn=null,Ga(t,s,m,5);break;case 6:Xe=0,bn=null,Ga(t,s,m,6);break;case 8:Nf(),ft=6;break e;default:throw Error(r(462))}}AE();break}catch(K){Ey(t,K)}while(!0);return Hs=Mr=null,F.H=o,F.A=h,Ke=a,Me!==null?0:(nt=null,ke=0,qc(),ft)}function AE(){for(;Me!==null&&!sd();)Sy(Me)}function Sy(t){var s=X0(t.alternate,t,Ws);t.memoizedProps=t.pendingProps,s===null?Eu(t):Me=s}function Ny(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=F0(a,s,s.pendingProps,s.type,void 0,ke);break;case 11:s=F0(a,s,s.pendingProps,s.type.render,s.ref,ke);break;case 5:Bd(s);default:J0(a,s),s=Me=Ap(s,Ws),s=X0(a,s,Ws)}t.memoizedProps=t.pendingProps,s===null?Eu(t):Me=s}function Ga(t,s,a,o){Hs=Mr=null,Bd(s),Oa=null,Wl=0;var h=s.return;try{if(fE(t,h,s,a,ke)){ft=1,cu(t,jn(a,t.current)),Me=null;return}}catch(m){if(h!==null)throw Me=h,m;ft=1,cu(t,jn(a,t.current)),Me=null;return}s.flags&32768?(qe||o===1?t=!0:qa||(ke&536870912)!==0?t=!1:(ji=t=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Iy(s,t)):Eu(s)}function Eu(t){var s=t;do{if((s.flags&32768)!==0){Iy(s,ji);return}t=s.return;var a=pE(s.alternate,s,Ws);if(a!==null){Me=a;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=t}while(s!==null);ft===0&&(ft=5)}function Iy(t,s){do{var a=yE(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);ft=6,Me=null}function Ry(t,s,a,o,h,m,_,x,R){t.cancelPendingCommit=null;do wu();while(Ot!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=gd,ad(t,a,m,_,x,R),t===nt&&(Me=nt=null,ke=0),Ha=s,Oi=t,ei=a,Tf=m,Af=h,vy=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,RE(hi,function(){return Oy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=ne.p,ne.p=2,_=Ke,Ke|=4;try{vE(t,s,a)}finally{Ke=_,ne.p=h,F.T=o}}Ot=1,Cy(),jy(),Dy()}}function Cy(){if(Ot===1){Ot=0;var t=Oi,s=Ha,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=ne.p;ne.p=2;var h=Ke;Ke|=4;try{uy(s,t);var m=zf,_=pp(t.containerInfo),x=m.focusedElem,R=m.selectionRange;if(_!==x&&x&&x.ownerDocument&&gp(x.ownerDocument.documentElement,x)){if(R!==null&&ud(x)){var U=R.start,K=R.end;if(K===void 0&&(K=U),"selectionStart"in x)x.selectionStart=U,x.selectionEnd=Math.min(K,x.value.length);else{var $=x.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var H=q.getSelection(),ce=x.textContent.length,_e=Math.min(R.start,ce),tt=R.end===void 0?_e:Math.min(R.end,ce);!H.extend&&_e>tt&&(_=tt,tt=_e,_e=_);var V=mp(x,_e),M=mp(x,tt);if(V&&M&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var P=$.createRange();P.setStart(V.node,V.offset),H.removeAllRanges(),_e>tt?(H.addRange(P),H.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),H.addRange(P))}}}}for($=[],H=x;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<$.length;x++){var Y=$[x];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}ku=!!Uf,zf=Uf=null}finally{Ke=h,ne.p=o,F.T=a}}t.current=s,Ot=2}}function jy(){if(Ot===2){Ot=0;var t=Oi,s=Ha,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=ne.p;ne.p=2;var h=Ke;Ke|=4;try{ry(t,s.alternate,s)}finally{Ke=h,ne.p=o,F.T=a}}Ot=3}}function Dy(){if(Ot===4||Ot===3){Ot=0,fc();var t=Oi,s=Ha,a=ei,o=vy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ot=5:(Ot=0,Ha=Oi=null,My(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Mi=null),Ls(a),s=s.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(qn,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=F.T,h=ne.p,ne.p=2,F.T=null;try{for(var m=t.onRecoverableError,_=0;_<o.length;_++){var x=o[_];m(x.value,{componentStack:x.stack})}}finally{F.T=s,ne.p=h}}(ei&3)!==0&&wu(),Ss(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Sf?yo++:(yo=0,Sf=t):yo=0,vo(0)}}function My(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Zl(s)))}function wu(){return Cy(),jy(),Dy(),Oy()}function Oy(){if(Ot!==5)return!1;var t=Oi,s=Tf;Tf=0;var a=Ls(ei),o=F.T,h=ne.p;try{ne.p=32>a?32:a,F.T=null,a=Af,Af=null;var m=Oi,_=ei;if(Ot=0,Ha=Oi=null,ei=0,(Ke&6)!==0)throw Error(r(331));var x=Ke;if(Ke|=4,gy(m.current),dy(m,m.current,_,a),Ke=x,vo(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(qn,m)}catch{}return!0}finally{ne.p=h,F.T=o,My(t,s)}}function ky(t,s,a){s=jn(a,s),s=sf(t.stateNode,s,2),t=Ni(t,s,2),t!==null&&(pr(t,2),Ss(t))}function Ze(t,s,a){if(t.tag===3)ky(t,t,a);else for(;s!==null;){if(s.tag===3){ky(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Mi===null||!Mi.has(o))){t=jn(a,t),a=V0(2),o=Ni(s,a,2),o!==null&&(L0(a,o,s,t),pr(o,2),Ss(o));break}}s=s.return}}function Rf(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new xE;var h=new Set;o.set(s,h)}else h=o.get(s),h===void 0&&(h=new Set,o.set(s,h));h.has(a)||(xf=!0,h.add(a),t=SE.bind(null,t,s,a),s.then(t,t))}function SE(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(ke&a)===a&&(ft===4||ft===3&&(ke&62914560)===ke&&300>en()-yu?(Ke&2)===0&&Fa(t,0):Ef|=a,Ba===ke&&(Ba=0)),Ss(t)}function Vy(t,s){s===0&&(s=_c()),t=Cr(t,s),t!==null&&(pr(t,s),Ss(t))}function NE(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),Vy(t,a)}function IE(t,s){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(s),Vy(t,a)}function RE(t,s){return Mt(t,s)}var Tu=null,Qa=null,Cf=!1,Au=!1,jf=!1,Vi=0;function Ss(t){t!==Qa&&t.next===null&&(Qa===null?Tu=Qa=t:Qa=Qa.next=t),Au=!0,Cf||(Cf=!0,jE())}function vo(t,s){if(!jf&&Au){jf=!0;do for(var a=!1,o=Tu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var _=o.suspendedLanes,x=o.pingedLanes;m=(1<<31-mt(42|t)+1)-1,m&=h&~(_&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,zy(o,m))}else m=ke,m=os(o,o===nt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Bn(o,m)||(a=!0,zy(o,m));o=o.next}while(a);jf=!1}}function CE(){Ly()}function Ly(){Au=Cf=!1;var t=0;Vi!==0&&qE()&&(t=Vi);for(var s=en(),a=null,o=Tu;o!==null;){var h=o.next,m=Py(o,s);m===0?(o.next=null,a===null?Tu=h:a.next=h,h===null&&(Qa=a)):(a=o,(t!==0||(m&3)!==0)&&(Au=!0)),o=h}Ot!==0&&Ot!==5||vo(t),Vi!==0&&(Vi=0)}function Py(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-mt(m),x=1<<_,R=h[_];R===-1?((x&a)===0||(x&o)!==0)&&(h[_]=rd(x,s)):R<=s&&(t.expiredLanes|=x),m&=~x}if(s=nt,a=ke,a=os(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ui(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&ui(o),Ls(a)){case 2:case 8:a=Nl;break;case 32:a=hi;break;case 268435456:a=mc;break;default:a=hi}return o=Uy.bind(null,t),a=Mt(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&ui(o),t.callbackPriority=2,t.callbackNode=null,2}function Uy(t,s){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wu()&&t.callbackNode!==a)return null;var o=ke;return o=os(t,t===nt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(by(t,o,s),Py(t,en()),t.callbackNode!=null&&t.callbackNode===a?Uy.bind(null,t):null)}function zy(t,s){if(wu())return null;by(t,s,!0)}function jE(){HE(function(){(Ke&6)!==0?Mt(Sl,CE):Ly()})}function Df(){if(Vi===0){var t=ja;t===0&&(t=as,as<<=1,(as&261888)===0&&(as=256)),Vi=t}return Vi}function qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function By(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function DE(t,s,a,o,h){if(s==="submit"&&a&&a.stateNode===h){var m=qy((h[Vt]||null).action),_=o.submitter;_&&(s=(s=_[Vt]||null)?qy(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var x=new _s("action","action",null,o,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vi!==0){var R=_?By(h,_):new FormData(h);Zd(a,{pending:!0,data:R,method:h.method,action:m},null,R)}}else typeof m=="function"&&(x.preventDefault(),R=_?By(h,_):new FormData(h),Zd(a,{pending:!0,data:R,method:h.method,action:m},m,R))},currentTarget:h}]})}}for(var Mf=0;Mf<md.length;Mf++){var Of=md[Mf],ME=Of.toLowerCase(),OE=Of[0].toUpperCase()+Of.slice(1);Xn(ME,"on"+OE)}Xn(_p,"onAnimationEnd"),Xn(bp,"onAnimationIteration"),Xn(xp,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(X2,"onTransitionRun"),Xn(Z2,"onTransitionStart"),Xn(J2,"onTransitionCancel"),Xn(Ep,"onTransitionEnd"),gs("onMouseEnter",["mouseout","mouseover"]),gs("onMouseLeave",["mouseout","mouseover"]),gs("onPointerEnter",["pointerout","pointerover"]),gs("onPointerLeave",["pointerout","pointerover"]),ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ms("onBeforeInput",["compositionend","keypress","textInput","paste"]),ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function Hy(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var m=void 0;if(s)for(var _=o.length-1;0<=_;_--){var x=o[_],R=x.instance,U=x.currentTarget;if(x=x.listener,R!==m&&h.isPropagationStopped())break e;m=x,h.currentTarget=U;try{m(h)}catch(K){zc(K)}h.currentTarget=null,m=R}else for(_=0;_<o.length;_++){if(x=o[_],R=x.instance,U=x.currentTarget,x=x.listener,R!==m&&h.isPropagationStopped())break e;m=x,h.currentTarget=U;try{m(h)}catch(K){zc(K)}h.currentTarget=null,m=R}}}}function Oe(t,s){var a=s[ha];a===void 0&&(a=s[ha]=new Set);var o=t+"__bubble";a.has(o)||(Fy(s,t,2,!1),a.add(o))}function kf(t,s,a){var o=0;s&&(o|=4),Fy(a,t,o,s)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Vf(t){if(!t[Su]){t[Su]=!0,Cl.forEach(function(a){a!=="selectionchange"&&(kE.has(a)||kf(a,!1,t),kf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Su]||(s[Su]=!0,kf("selectionchange",!1,s))}}function Fy(t,s,a,o){switch(_1(s)){case 2:var h=cw;break;case 8:h=uw;break;default:h=Zf}a=h.bind(null,s,a,t),h=void 0,!Er||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function Lf(t,s,a,o,h){var m=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var x=o.stateNode.containerInfo;if(x===h)break;if(_===4)for(_=o.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;x!==null;){if(_=ds(x),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){o=m=_;continue e}x=x.parentNode}}o=o.return}yi(function(){var U=m,K=Nn(a),$=[];e:{var q=wp.get(t);if(q!==void 0){var H=_s,ce=t;switch(t){case"keypress":if(Tr(a)===0)break e;case"keydown":case"keyup":H=Lc;break;case"focusin":ce="focus",H=Sr;break;case"focusout":ce="blur",H=Sr;break;case"beforeblur":case"afterblur":H=Sr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case _p:case bp:case xp:H=Cc;break;case Ep:H=w;break;case"scroll":case"scrollend":H=Bl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=zs;break;case"toggle":case"beforetoggle":H=Se}var _e=(s&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),V=_e?q!==null?q+"Capture":null:q;_e=[];for(var M=U,P;M!==null;){var Y=M;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||V===null||(Y=Qn(M,V),Y!=null&&_e.push(bo(M,Y,P))),tt)break;M=M.return}0<_e.length&&(q=new H(q,ce,null,a,K),$.push({event:q,listeners:_e}))}}if((s&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==Ul&&(ce=a.relatedTarget||a.fromElement)&&(ds(ce)||ce[us]))break e;if((H||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,H?(ce=a.relatedTarget||a.toElement,H=U,ce=ce?ds(ce):null,ce!==null&&(tt=c(ce),_e=ce.tag,ce!==tt||_e!==5&&_e!==27&&_e!==6)&&(ce=null)):(H=null,ce=U),H!==ce)){if(_e=Hl,Y="onMouseLeave",V="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=zs,Y="onPointerLeave",V="onPointerEnter",M="pointer"),tt=H==null?q:mn(H),P=ce==null?q:mn(ce),q=new _e(Y,M+"leave",H,a,K),q.target=tt,q.relatedTarget=P,Y=null,ds(K)===U&&(_e=new _e(V,M+"enter",ce,a,K),_e.target=P,_e.relatedTarget=tt,Y=_e),tt=Y,H&&ce)t:{for(_e=VE,V=H,M=ce,P=0,Y=V;Y;Y=_e(Y))P++;Y=0;for(var ye=M;ye;ye=_e(ye))Y++;for(;0<P-Y;)V=_e(V),P--;for(;0<Y-P;)M=_e(M),Y--;for(;P--;){if(V===M||M!==null&&V===M.alternate){_e=V;break t}V=_e(V),M=_e(M)}_e=null}else _e=null;H!==null&&Gy($,q,H,_e,!1),ce!==null&&tt!==null&&Gy($,tt,ce,_e,!0)}}e:{if(q=U?mn(U):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var Fe=op;else if(ap(q))if(cp)Fe=K2;else{Fe=G2;var de=F2}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&ga(U.elementType)&&(Fe=op):Fe=Q2;if(Fe&&(Fe=Fe(t,U))){lp($,Fe,a,K);break e}de&&de(t,q,U),t==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&Vl(q,"number",q.value)}switch(de=U?mn(U):window,t){case"focusin":(ap(de)||de.contentEditable==="true")&&(wa=de,hd=U,Yl=null);break;case"focusout":Yl=hd=wa=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,yp($,a,K);break;case"selectionchange":if($2)break;case"keydown":case"keyup":yp($,a,K)}var Re;if(Qe)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Ea?Nr(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(Es&&a.locale!=="ko"&&(Ea||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Ea&&(Re=ql()):(vs=K,zl="value"in vs?vs.value:vs.textContent,Ea=!0)),de=Nu(U,Ve),0<de.length&&(Ve=new xs(Ve,t,null,a,K),$.push({event:Ve,listeners:de}),Re?Ve.data=Re:(Re=xa(a),Re!==null&&(Ve.data=Re)))),(Re=Rn?z2(t,a):q2(t,a))&&(Ve=Nu(U,"onBeforeInput"),0<Ve.length&&(de=new xs("onBeforeInput","beforeinput",null,a,K),$.push({event:de,listeners:Ve}),de.data=Re)),DE($,t,U,a,K)}Hy($,s)})}function bo(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Nu(t,s){for(var a=s+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Qn(t,a),h!=null&&o.unshift(bo(t,h,m)),h=Qn(t,s),h!=null&&o.push(bo(t,h,m))),t.tag===3)return o;t=t.return}return[]}function VE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gy(t,s,a,o,h){for(var m=s._reactName,_=[];a!==null&&a!==o;){var x=a,R=x.alternate,U=x.stateNode;if(x=x.tag,R!==null&&R===o)break;x!==5&&x!==26&&x!==27||U===null||(R=U,h?(U=Qn(a,m),U!=null&&_.unshift(bo(a,U,R))):h||(U=Qn(a,m),U!=null&&_.push(bo(a,U,R)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var LE=/\r\n?/g,PE=/\u0000|\uFFFD/g;function Qy(t){return(typeof t=="string"?t:""+t).replace(LE,`
`).replace(PE,"")}function Ky(t,s){return s=Qy(s),Qy(t)===s}function et(t,s,a,o,h,m){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||an(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&an(t,""+o);break;case"className":gn(t,"class",o);break;case"tabIndex":gn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,o);break;case"style":Pl(t,o,m);break;case"data":if(s!=="object"){gn(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=pa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&et(t,s,"name",h.name,h,null),et(t,s,"formEncType",h.formEncType,h,null),et(t,s,"formMethod",h.formMethod,h,null),et(t,s,"formTarget",h.formTarget,h,null)):(et(t,s,"encType",h.encType,h,null),et(t,s,"method",h.method,h,null),et(t,s,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=pa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=pa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),fa(t,"popover",o);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nc.get(a)||a,fa(t,a,o))}}function Pf(t,s,a,o,h,m){switch(a){case"style":Pl(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?an(t,o):(typeof o=="number"||typeof o=="bigint")&&an(t,""+o);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),m=t[Vt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):fa(t,a,o)}}}function Gt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(t,s,m,_,a,null)}}h&&et(t,s,"srcSet",a.srcSet,a,null),o&&et(t,s,"src",a.src,a,null);return;case"input":Oe("invalid",t);var x=m=_=h=null,R=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":_=K;break;case"checked":R=K;break;case"defaultChecked":U=K;break;case"value":m=K;break;case"defaultValue":x=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:et(t,s,o,K,a,null)}}Tc(t,m,x,R,U,_,h,!1);return;case"select":Oe("invalid",t),o=_=m=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":m=x;break;case"defaultValue":_=x;break;case"multiple":o=x;default:et(t,s,h,x,a,null)}s=m,a=_,t.multiple=!!o,s!=null?fi(t,!!o,s,!1):a!=null&&fi(t,!!o,a,!0);return;case"textarea":Oe("invalid",t),m=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(x=a[_],x!=null))switch(_){case"value":o=x;break;case"defaultValue":h=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:et(t,s,_,x,a,null)}mi(t,o,h,m);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:et(t,s,R,o,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(o=0;o<_o.length;o++)Oe(_o[o],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(t,s,U,o,a,null)}return;default:if(ga(s)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&Pf(t,s,K,o,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(o=a[x],o!=null&&et(t,s,x,o,a,null))}function UE(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,_=null,x=null,R=null,U=null,K=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=$;default:o.hasOwnProperty(H)||et(t,s,H,null,o,$)}}for(var q in o){var H=o[q];if($=a[q],o.hasOwnProperty(q)&&(H!=null||$!=null))switch(q){case"type":m=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":K=H;break;case"value":_=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:H!==$&&et(t,s,q,H,o,$)}}ma(t,_,x,R,U,K,m,h);return;case"select":H=_=x=q=null;for(m in a)if(R=a[m],a.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(m)||et(t,s,m,null,o,R)}for(h in o)if(m=o[h],R=a[h],o.hasOwnProperty(h)&&(m!=null||R!=null))switch(h){case"value":q=m;break;case"defaultValue":x=m;break;case"multiple":_=m;default:m!==R&&et(t,s,h,m,o,R)}s=x,a=_,o=H,q!=null?fi(t,!!a,q,!1):!!o!=!!a&&(s!=null?fi(t,!!a,s,!0):fi(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!o.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:et(t,s,x,null,o,h)}for(_ in o)if(h=o[_],m=a[_],o.hasOwnProperty(_)&&(h!=null||m!=null))switch(_){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==m&&et(t,s,_,h,o,m)}Ac(t,q,H);return;case"option":for(var ce in a)if(q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!o.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:et(t,s,ce,null,o,q)}for(R in o)if(q=o[R],H=a[R],o.hasOwnProperty(R)&&q!==H&&(q!=null||H!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:et(t,s,R,q,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)q=a[_e],a.hasOwnProperty(_e)&&q!=null&&!o.hasOwnProperty(_e)&&et(t,s,_e,null,o,q);for(U in o)if(q=o[U],H=a[U],o.hasOwnProperty(U)&&q!==H&&(q!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:et(t,s,U,q,o,H)}return;default:if(ga(s)){for(var tt in a)q=a[tt],a.hasOwnProperty(tt)&&q!==void 0&&!o.hasOwnProperty(tt)&&Pf(t,s,tt,void 0,o,q);for(K in o)q=o[K],H=a[K],!o.hasOwnProperty(K)||q===H||q===void 0&&H===void 0||Pf(t,s,K,q,o,H);return}}for(var V in a)q=a[V],a.hasOwnProperty(V)&&q!=null&&!o.hasOwnProperty(V)&&et(t,s,V,null,o,q);for($ in o)q=o[$],H=a[$],!o.hasOwnProperty($)||q===H||q==null&&H==null||et(t,s,$,q,o,H)}function Yy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],m=h.transferSize,_=h.initiatorType,x=h.duration;if(m&&x&&Yy(_)){for(_=0,x=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],U=R.startTime;if(U>x)break;var K=R.transferSize,$=R.initiatorType;K&&Yy($)&&(R=R.responseEnd,_+=K*(R<x?1:(x-U)/(R-U)))}if(--o,s+=8*(m+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Uf=null,zf=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function $y(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function qf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bf=null;function qE(){var t=window.event;return t&&t.type==="popstate"?t===Bf?!1:(Bf=t,!0):(Bf=null,!1)}var Zy=typeof setTimeout=="function"?setTimeout:void 0,BE=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,HE=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(t){return Jy.resolve(null).then(t).catch(FE)}:Zy;function FE(t){setTimeout(function(){throw t})}function Li(t){return t==="head"}function Wy(t,s){var a=s,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Xa(s);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")xo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,xo(a);for(var m=a.firstChild;m;){var _=m.nextSibling,x=m.nodeName;m[hs]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&xo(t.ownerDocument.body);a=h}while(a);Xa(s)}function e1(t,s){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Hf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hf(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function GE(t,s,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[hs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function QE(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function t1(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Vn(t.nextSibling),t===null))return null;return t}function Ff(t){return t.data==="$?"||t.data==="$~"}function Gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function KE(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Vn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Qf=null;function n1(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Vn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function s1(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function i1(t,s,a){switch(s=Iu(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function xo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);da(t)}var Ln=new Map,r1=new Set;function Ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ti=ne.d;ne.d={f:YE,r:$E,D:XE,C:ZE,L:JE,m:WE,X:tw,S:ew,M:nw};function YE(){var t=ti.f(),s=bu();return t||s}function $E(t){var s=Sn(t);s!==null&&s.tag===5&&s.type==="form"?E0(s):ti.r(t)}var Ka=typeof document>"u"?null:document;function a1(t,s,a){var o=Ka;if(o&&typeof s=="string"&&s){var h=rn(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),r1.has(h)||(r1.add(h),t={rel:t,crossOrigin:a,href:s},o.querySelector(h)===null&&(s=o.createElement("link"),Gt(s,"link",t),Tt(s),o.head.appendChild(s)))}}function XE(t){ti.D(t),a1("dns-prefetch",t,null)}function ZE(t,s){ti.C(t,s),a1("preconnect",t,s)}function JE(t,s,a){ti.L(t,s,a);var o=Ka;if(o&&t&&s){var h='link[rel="preload"][as="'+rn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var m=h;switch(s){case"style":m=Ya(t);break;case"script":m=$a(t)}Ln.has(m)||(t=A({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Ln.set(m,t),o.querySelector(h)!==null||s==="style"&&o.querySelector(Eo(m))||s==="script"&&o.querySelector(wo(m))||(s=o.createElement("link"),Gt(s,"link",t),Tt(s),o.head.appendChild(s)))}}function WE(t,s){ti.m(t,s);var a=Ka;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=$a(t)}if(!Ln.has(m)&&(t=A({rel:"modulepreload",href:t},s),Ln.set(m,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wo(m)))return}o=a.createElement("link"),Gt(o,"link",t),Tt(o),a.head.appendChild(o)}}}function ew(t,s,a){ti.S(t,s,a);var o=Ka;if(o&&t){var h=fs(o).hoistableStyles,m=Ya(t);s=s||"default";var _=h.get(m);if(!_){var x={loading:0,preload:null};if(_=o.querySelector(Eo(m)))x.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Ln.get(m))&&Kf(t,a);var R=_=o.createElement("link");Tt(R),Gt(R,"link",t),R._p=new Promise(function(U,K){R.onload=U,R.onerror=K}),R.addEventListener("load",function(){x.loading|=1}),R.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Cu(_,s,o)}_={type:"stylesheet",instance:_,count:1,state:x},h.set(m,_)}}}function tw(t,s){ti.X(t,s);var a=Ka;if(a&&t){var o=fs(a).hoistableScripts,h=$a(t),m=o.get(h);m||(m=a.querySelector(wo(h)),m||(t=A({src:t,async:!0},s),(s=Ln.get(h))&&Yf(t,s),m=a.createElement("script"),Tt(m),Gt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function nw(t,s){ti.M(t,s);var a=Ka;if(a&&t){var o=fs(a).hoistableScripts,h=$a(t),m=o.get(h);m||(m=a.querySelector(wo(h)),m||(t=A({src:t,async:!0,type:"module"},s),(s=Ln.get(h))&&Yf(t,s),m=a.createElement("script"),Tt(m),Gt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function l1(t,s,a,o){var h=(h=be.current)?Ru(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ya(a.href),a=fs(h).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var m=fs(h).hoistableStyles,_=m.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=h.querySelector(Eo(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),m||sw(h,t,a,_.state))),s&&o===null)throw Error(r(528,""));return _}if(s&&o!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=$a(a),a=fs(h).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ya(t){return'href="'+rn(t)+'"'}function Eo(t){return'link[rel="stylesheet"]['+t+"]"}function o1(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function sw(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Gt(s,"link",a),Tt(s),t.head.appendChild(s))}function $a(t){return'[src="'+rn(t)+'"]'}function wo(t){return"script[async]"+t}function c1(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return s.instance=o,Tt(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Tt(o),Gt(o,"style",h),Cu(o,a.precedence,t),s.instance=o;case"stylesheet":h=Ya(a.href);var m=t.querySelector(Eo(h));if(m)return s.state.loading|=4,s.instance=m,Tt(m),m;o=o1(a),(h=Ln.get(h))&&Kf(o,h),m=(t.ownerDocument||t).createElement("link"),Tt(m);var _=m;return _._p=new Promise(function(x,R){_.onload=x,_.onerror=R}),Gt(m,"link",o),s.state.loading|=4,Cu(m,a.precedence,t),s.instance=m;case"script":return m=$a(a.src),(h=t.querySelector(wo(m)))?(s.instance=h,Tt(h),h):(o=a,(h=Ln.get(m))&&(o=A({},a),Yf(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Gt(h,"link",o),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,Cu(o,a.precedence,t));return s.instance}function Cu(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,_=0;_<o.length;_++){var x=o[_];if(x.dataset.precedence===s)m=x;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Kf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Yf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var ju=null;function u1(t,s,a){if(ju===null){var o=new Map,h=ju=new Map;h.set(a,o)}else h=ju,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[hs]||m[wt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=t+_;var x=o.get(_);x?x.push(m):o.set(_,[m])}}return o}function h1(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function iw(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function d1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rw(t,s,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ya(o.href),m=s.querySelector(Eo(h));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Du.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,Tt(m);return}m=s.ownerDocument||s,o=o1(o),(h=Ln.get(h))&&Kf(o,h),m=m.createElement("link"),Tt(m);var _=m;_._p=new Promise(function(x,R){_.onload=x,_.onerror=R}),Gt(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Du.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var $f=0;function aw(t,s){return t.stylesheets&&t.count===0&&Ou(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Ou(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&$f===0&&($f=62500*zE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ou(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>$f?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Du(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ou(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mu=null;function Ou(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mu=new Map,s.forEach(lw,t),Mu=null,Du.call(t))}function lw(t,s){if(!(s.state.loading&4)){var a=Mu.get(t);if(a)var o=a.get(null);else{a=new Map,Mu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var _=h[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=s.instance,_=h.getAttribute("data-precedence"),m=a.get(_)||o,m===o&&a.set(null,h),a.set(_,h),this.count++,o=Du.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var To={$$typeof:fe,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function ow(t,s,a,o,h,m,_,x,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cs(0),this.hiddenUpdates=cs(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function f1(t,s,a,o,h,m,_,x,R,U,K,$){return t=new ow(t,s,a,_,R,U,K,$,x),s=1,m===!0&&(s|=24),m=yn(3,null,null,s),t.current=m,m.stateNode=t,s=Nd(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:s},jd(m),t}function m1(t){return t?(t=Sa,t):Sa}function g1(t,s,a,o,h,m){h=m1(h),o.context===null?o.context=h:o.pendingContext=h,o=Si(s),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Ni(t,o,s),a!==null&&(hn(a,t,s),to(a,t,s))}function p1(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Xf(t,s){p1(t,s),(t=t.alternate)&&p1(t,s)}function y1(t){if(t.tag===13||t.tag===31){var s=Cr(t,67108864);s!==null&&hn(s,t,67108864),Xf(t,67108864)}}function v1(t){if(t.tag===13||t.tag===31){var s=En();s=vr(s);var a=Cr(t,s);a!==null&&hn(a,t,s),Xf(t,s)}}var ku=!0;function cw(t,s,a,o){var h=F.T;F.T=null;var m=ne.p;try{ne.p=2,Zf(t,s,a,o)}finally{ne.p=m,F.T=h}}function uw(t,s,a,o){var h=F.T;F.T=null;var m=ne.p;try{ne.p=8,Zf(t,s,a,o)}finally{ne.p=m,F.T=h}}function Zf(t,s,a,o){if(ku){var h=Jf(o);if(h===null)Lf(t,s,o,Vu,a),b1(t,o);else if(dw(h,t,s,a,o))o.stopPropagation();else if(b1(t,o),s&4&&-1<hw.indexOf(t)){for(;h!==null;){var m=Sn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=ls(m.pendingLanes);if(_!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var R=1<<31-mt(_);x.entanglements[1]|=R,_&=~R}Ss(m),(Ke&6)===0&&(vu=en()+500,vo(0))}}break;case 31:case 13:x=Cr(m,2),x!==null&&hn(x,m,2),bu(),Xf(m,2)}if(m=Jf(o),m===null&&Lf(t,s,o,Vu,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else Lf(t,s,o,null,a)}}function Jf(t){return t=Nn(t),Wf(t)}var Vu=null;function Wf(t){if(Vu=null,t=ds(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=g(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Vu=t,null}function _1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case Sl:return 2;case Nl:return 8;case hi:case id:return 32;case mc:return 268435456;default:return 32}default:return 32}}var em=!1,Pi=null,Ui=null,zi=null,Ao=new Map,So=new Map,qi=[],hw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b1(t,s){switch(t){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Ao.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(s.pointerId)}}function No(t,s,a,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Sn(s),s!==null&&y1(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function dw(t,s,a,o,h){switch(s){case"focusin":return Pi=No(Pi,t,s,a,o,h),!0;case"dragenter":return Ui=No(Ui,t,s,a,o,h),!0;case"mouseover":return zi=No(zi,t,s,a,o,h),!0;case"pointerover":var m=h.pointerId;return Ao.set(m,No(Ao.get(m)||null,t,s,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,So.set(m,No(So.get(m)||null,t,s,a,o,h)),!0}return!1}function x1(t){var s=ds(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,Hn(t.priority,function(){v1(a)});return}}else if(s===31){if(s=g(a),s!==null){t.blockedOn=s,Hn(t.priority,function(){v1(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Jf(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ul=o,a.target.dispatchEvent(o),Ul=null}else return s=Sn(a),s!==null&&y1(s),t.blockedOn=a,!1;s.shift()}return!0}function E1(t,s,a){Lu(t)&&a.delete(s)}function fw(){em=!1,Pi!==null&&Lu(Pi)&&(Pi=null),Ui!==null&&Lu(Ui)&&(Ui=null),zi!==null&&Lu(zi)&&(zi=null),Ao.forEach(E1),So.forEach(E1)}function Pu(t,s){t.blockedOn===s&&(t.blockedOn=null,em||(em=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fw)))}var Uu=null;function w1(t){Uu!==t&&(Uu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Uu===t&&(Uu=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],h=t[s+2];if(typeof o!="function"){if(Wf(o||a)===null)continue;break}var m=Sn(a);m!==null&&(t.splice(s,3),s-=3,Zd(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Xa(t){function s(R){return Pu(R,t)}Pi!==null&&Pu(Pi,t),Ui!==null&&Pu(Ui,t),zi!==null&&Pu(zi,t),Ao.forEach(s),So.forEach(s);for(var a=0;a<qi.length;a++){var o=qi[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<qi.length&&(a=qi[0],a.blockedOn===null);)x1(a),a.blockedOn===null&&qi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],_=h[Vt]||null;if(typeof m=="function")_||w1(a);else if(_){var x=null;if(m&&m.hasAttribute("formAction")){if(h=m,_=m[Vt]||null)x=_.formAction;else if(Wf(h)!==null)continue}else x=_.action;typeof x=="function"?a[o+1]=x:(a.splice(o,3),o-=3),w1(a)}}}function T1(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function tm(t){this._internalRoot=t}zu.prototype.render=tm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,o=En();g1(a,o,t,s,null,null)},zu.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;g1(t.current,2,null,t,null,null),bu(),s[us]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var s=bc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<qi.length&&s!==0&&s<qi[a].priority;a++);qi.splice(a,0,t),a===0&&x1(t)}};var A1=e.version;if(A1!=="19.2.0")throw Error(r(527,A1,"19.2.0"));ne.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(s),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var mw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{qn=qu.inject(mw),zt=qu}catch{}}return Ro.createRoot=function(t,s){if(!l(t))throw Error(r(299));var a=!1,o="",h=D0,m=M0,_=O0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=f1(t,1,!1,null,null,a,o,null,h,m,_,T1),t[us]=s.current,Vf(t),new tm(s)},Ro.hydrateRoot=function(t,s,a){if(!l(t))throw Error(r(299));var o=!1,h="",m=D0,_=M0,x=O0,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),s=f1(t,1,!0,s,a??null,o,h,R,m,_,x,T1),s.context=m1(null),a=s.current,o=En(),o=vr(o),h=Si(o),h.callback=null,Ni(a,h,o),a=o,s.current.lanes=a,pr(s,a),Ss(s),t[us]=s.current,Vf(t),new zu(s)},Ro.version="19.2.0",Ro}var k1;function Aw(){if(k1)return im.exports;k1=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),im.exports=Tw(),im.exports}var Sw=Aw();const Nw=S_(Sw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rw=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),V1=i=>{const e=Rw(i);return e.charAt(0).toUpperCase()+e.slice(1)},N_=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Cw=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=oe.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},y)=>oe.createElement("svg",{ref:y,...jw,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:N_("lucide",l),...!c&&!Cw(g)&&{"aria-hidden":"true"},...g},[...d.map(([v,E])=>oe.createElement(v,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(i,e)=>{const n=oe.forwardRef(({className:r,...l},c)=>oe.createElement(Dw,{ref:c,iconNode:e,className:N_(`lucide-${Iw(V1(i))}`,`lucide-${i}`,r),...l}));return n.displayName=V1(i),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Sm=ue("arrow-left",Mw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],er=ue("arrow-right",Ow);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ag=ue("award",kw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Kr=ue("book-open",Vw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],I_=ue("briefcase",Lw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Uw=ue("building-2",Pw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qw=ue("calendar",zw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Hw=ue("chart-column",Bw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Gw=ue("chart-pie",Fw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Vo=ue("chevron-left",Qw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],om=ue("chevron-right",Kw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],R_=ue("circle-alert",Yw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lg=ue("circle-check-big",$w);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zw=ue("circle-check",Xw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ih=ue("circle-plus",Jw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],C_=ue("circle-question-mark",Ww);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],tT=ue("circle-user",eT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sT=ue("circle-x",nT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],j_=ue("clock",iT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],aT=ue("crown",rT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nm=ue("eye",lT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Im=ue("facebook",oT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],uT=ue("file-check",cT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],dT=ue("file-search",hT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mT=ue("file-text",fT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],pT=ue("file",gT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],vT=ue("flag",yT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],bT=ue("globe",_T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ec=ue("graduation-cap",xT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wT=ue("info",ET);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],AT=ue("layout-dashboard",TT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],NT=ue("library",ST);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],L1=ue("list",IT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$i=ue("loader-circle",RT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],P1=ue("log-in",CT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],U1=ue("lock",jT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rm=ue("log-out",DT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],OT=ue("mail",MT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rh=ue("map-pin",kT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],LT=ue("medal",VT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],UT=ue("menu",PT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ah=ue("message-circle",zT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],BT=ue("monitor-play",qT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],FT=ue("panels-top-left",HT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],QT=ue("pen-tool",GT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],YT=ue("phone",KT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],XT=ue("play",$T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],JT=ue("refresh-cw",ZT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],D_=ue("save",WT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],tA=ue("school",eA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Cm=ue("search",nA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],iA=ue("shield-alert",sA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],aA=ue("shield-check",rA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oA=ue("square-check-big",lA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],og=ue("star",cA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],M_=ue("target",uA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dA=ue("trash-2",hA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],mA=ue("trending-up",fA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],pA=ue("trophy",gA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vA=ue("user-plus",yA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jh=ue("user",_A);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xA=ue("users",bA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ho=ue("video",EA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],O_=ue("x",wA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],AA=ue("zap",TA),SA=()=>{};var z1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},NA=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const l=i[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[n++],d=i[n++],g=i[n++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],d=i[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},V_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const c=i[l],d=l+1<i.length,g=d?i[l+1]:0,y=l+2<i.length,v=y?i[l+2]:0,E=c>>2,A=(c&3)<<4|g>>4;let S=(g&15)<<2|v>>6,Q=v&63;y||(Q=64,d||(S=64)),r.push(n[E],n[A],n[S],n[Q])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(k_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):NA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const c=n[i.charAt(l++)],g=l<i.length?n[i.charAt(l)]:0;++l;const v=l<i.length?n[i.charAt(l)]:64;++l;const A=l<i.length?n[i.charAt(l)]:64;if(++l,c==null||g==null||v==null||A==null)throw new IA;const S=c<<2|g>>4;if(r.push(S),v!==64){const Q=g<<4&240|v>>2;if(r.push(Q),A!==64){const G=v<<6&192|A;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class IA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RA=function(i){const e=k_(i);return V_.encodeByteArray(e,!0)},lh=function(i){return RA(i).replace(/\./g,"")},L_=function(i){try{return V_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=()=>CA().__FIREBASE_DEFAULTS__,DA=()=>{if(typeof process>"u"||typeof z1>"u")return;const i=z1.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},MA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&L_(i[1]);return e&&JSON.parse(e)},Dh=()=>{try{return SA()||jA()||DA()||MA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},P_=i=>{var e,n;return(n=(e=Dh())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},OA=i=>{const e=P_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},U_=()=>{var i;return(i=Dh())==null?void 0:i.config},z_=i=>{var e;return(e=Dh())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q_(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[lh(JSON.stringify(n)),lh(JSON.stringify(d)),""].join(".")}const Lo={};function LA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Lo))Lo[e]?i.emulator.push(e):i.prod.push(e);return i}function PA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let q1=!1;function B_(i,e){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||Lo[i]===e||Lo[i]||q1)return;Lo[i]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=LA().prod.length>0;function d(){const S=document.getElementById(r);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,Q){S.setAttribute("width","24"),S.setAttribute("id",Q),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function v(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{q1=!0,d()},S}function E(S,Q){S.setAttribute("id",Q),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=PA(r),Q=n("text"),G=document.getElementById(Q)||document.createElement("span"),J=n("learnmore"),W=document.getElementById(J)||document.createElement("a"),ge=n("preprendIcon"),ae=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const fe=S.element;g(fe),E(W,J);const Ce=v();y(ae,ge),fe.append(ae,G,W,Ce),document.body.appendChild(fe)}c?(G.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function zA(){var e;const i=(e=Dh())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H_(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HA(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function FA(){return!zA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F_(){try{return typeof indexedDB=="object"}catch{return!1}}function G_(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}function GA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="FirebaseError";class is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QA,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?KA(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new is(l,g,r)}}function KA(i,e){return i.replace(YA,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const YA=/\{\$([^}]+)}/g;function $A(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function tr(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=i[l],d=e[l];if(B1(c)&&B1(d)){if(!tr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function B1(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Co(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function jo(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function XA(i,e){const n=new ZA(i,e);return n.subscribe.bind(n)}class ZA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JA(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=cm),l.error===void 0&&(l.error=cm),l.complete===void 0&&(l.complete=cm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JA(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function cm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=1e3,eS=2,tS=14400*1e3,nS=.5;function H1(i,e=WA,n=eS){const r=e*Math.pow(n,i),l=Math.round(nS*r*(Math.random()-.5)*2);return Math.min(tS,r+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(i){return i&&i._delegate?i._delegate:i}class ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rS(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iS(i){return i===Hr?void 0:i}function rS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const lS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},oS=Le.INFO,cS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},uS=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),l=cS[e];if(l)console[l](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mh{constructor(e){this.name=e,this._logLevel=oS,this._logHandler=uS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const hS=(i,e)=>e.some(n=>i instanceof n);let F1,G1;function dS(){return F1||(F1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fS(){return G1||(G1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q_=new WeakMap,jm=new WeakMap,K_=new WeakMap,um=new WeakMap,cg=new WeakMap;function mS(i){const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(Xi(i.result)),l()},d=()=>{r(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Q_.set(n,i)}).catch(()=>{}),cg.set(e,i),e}function gS(i){if(jm.has(i))return;const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});jm.set(i,e)}let Dm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return jm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||K_.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function pS(i){Dm=i(Dm)}function yS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(hm(this),e,...n);return K_.set(r,e.sort?e.sort():[e]),Xi(r)}:fS().includes(i)?function(...e){return i.apply(hm(this),e),Xi(Q_.get(this))}:function(...e){return Xi(i.apply(hm(this),e))}}function vS(i){return typeof i=="function"?yS(i):(i instanceof IDBTransaction&&gS(i),hS(i,dS())?new Proxy(i,Dm):i)}function Xi(i){if(i instanceof IDBRequest)return mS(i);if(um.has(i))return um.get(i);const e=vS(i);return e!==i&&(um.set(i,e),cg.set(e,i)),e}const hm=i=>cg.get(i);function Y_(i,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(i,e),g=Xi(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Xi(d.result),y.oldVersion,y.newVersion,Xi(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const _S=["get","getKey","getAll","getAllKeys","count"],bS=["put","add","delete","clear"],dm=new Map;function Q1(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=bS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||_S.includes(n)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[n](...g),l&&y.done]))[0]};return dm.set(e,c),c}pS(i=>({...i,get:(e,n,r)=>Q1(e,n)||i.get(e,n,r),has:(e,n)=>!!Q1(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ES(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ES(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mm="@firebase/app",K1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Mh("@firebase/app"),wS="@firebase/app-compat",TS="@firebase/analytics-compat",AS="@firebase/analytics",SS="@firebase/app-check-compat",NS="@firebase/app-check",IS="@firebase/auth",RS="@firebase/auth-compat",CS="@firebase/database",jS="@firebase/data-connect",DS="@firebase/database-compat",MS="@firebase/functions",OS="@firebase/functions-compat",kS="@firebase/installations",VS="@firebase/installations-compat",LS="@firebase/messaging",PS="@firebase/messaging-compat",US="@firebase/performance",zS="@firebase/performance-compat",qS="@firebase/remote-config",BS="@firebase/remote-config-compat",HS="@firebase/storage",FS="@firebase/storage-compat",GS="@firebase/firestore",QS="@firebase/ai",KS="@firebase/firestore-compat",YS="firebase",$S="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",XS={[Mm]:"fire-core",[wS]:"fire-core-compat",[AS]:"fire-analytics",[TS]:"fire-analytics-compat",[NS]:"fire-app-check",[SS]:"fire-app-check-compat",[IS]:"fire-auth",[RS]:"fire-auth-compat",[CS]:"fire-rtdb",[jS]:"fire-data-connect",[DS]:"fire-rtdb-compat",[MS]:"fire-fn",[OS]:"fire-fn-compat",[kS]:"fire-iid",[VS]:"fire-iid-compat",[LS]:"fire-fcm",[PS]:"fire-fcm-compat",[US]:"fire-perf",[zS]:"fire-perf-compat",[qS]:"fire-rc",[BS]:"fire-rc-compat",[HS]:"fire-gcs",[FS]:"fire-gcs-compat",[GS]:"fire-fst",[KS]:"fire-fst-compat",[QS]:"fire-vertex","fire-js":"fire-js",[YS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,ZS=new Map,km=new Map;function Y1(i,e){try{i.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Os(i){const e=i.name;if(km.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,i);for(const n of oh.values())Y1(n,i);for(const n of ZS.values())Y1(n,i);return!0}function na(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Pn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new ta("app","Firebase",JS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=$S;function $_(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Om,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Zi.create("bad-app-name",{appName:String(l)});if(n||(n=U_()),!n)throw Zi.create("no-options");const c=oh.get(l);if(c){if(tr(n,c.options)&&tr(r,c.config))return c;throw Zi.create("duplicate-app",{appName:l})}const d=new aS(l);for(const y of km.values())d.addComponent(y);const g=new WS(n,r,d);return oh.set(l,g),g}function ug(i=Om){const e=oh.get(i);if(!e&&i===Om&&U_())return $_();if(!e)throw Zi.create("no-app",{appName:i});return e}function zn(i,e,n){let r=XS[i]??i;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(d.join(" "));return}Os(new ts(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="firebase-heartbeat-database",tN=1,Fo="firebase-heartbeat-store";let fm=null;function X_(){return fm||(fm=Y_(eN,tN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Fo)}catch(n){console.warn(n)}}}}).catch(i=>{throw Zi.create("idb-open",{originalErrorMessage:i.message})})),fm}async function nN(i){try{const n=(await X_()).transaction(Fo),r=await n.objectStore(Fo).get(Z_(i));return await n.done,r}catch(e){if(e instanceof is)ai.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(n.message)}}}async function $1(i,e){try{const r=(await X_()).transaction(Fo,"readwrite");await r.objectStore(Fo).put(e,Z_(i)),await r.done}catch(n){if(n instanceof is)ai.warn(n.message);else{const r=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ai.warn(r.message)}}}function Z_(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=1024,iN=30;class rN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=X1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>iN){const d=oN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X1(),{heartbeatsToSend:r,unsentEntries:l}=aN(this._heartbeatsCache.heartbeats),c=lh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ai.warn(n),""}}}function X1(){return new Date().toISOString().substring(0,10)}function aN(i,e=sN){const n=[];let r=i.slice();for(const l of i){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Z1(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Z1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F_()?G_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Z1(i){return lh(JSON.stringify({version:2,heartbeats:i})).length}function oN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(i){Os(new ts("platform-logger",e=>new xS(e),"PRIVATE")),Os(new ts("heartbeat",e=>new rN(e),"PRIVATE")),zn(Mm,K1,i),zn(Mm,K1,"esm2020"),zn("fire-js","")}cN("");var uN="firebase",hN="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(uN,hN,"app");function J_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dN=J_,W_=new ta("auth","Firebase",J_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Mh("@firebase/auth");function fN(i,...e){ch.logLevel<=Le.WARN&&ch.warn(`Auth (${gl}): ${i}`,...e)}function Yu(i,...e){ch.logLevel<=Le.ERROR&&ch.error(`Auth (${gl}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(i,...e){throw hg(i,...e)}function Is(i,...e){return hg(i,...e)}function eb(i,e,n){const r={...dN(),[e]:n};return new ta("auth","Firebase",r).create(e,{appName:i.name})}function ii(i){return eb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hg(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return W_.create(i,...e)}function xe(i,e,...n){if(!i)throw hg(e,...n)}function ni(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Yu(e),new Error(e)}function li(i,e){i||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function mN(){return J1()==="http:"||J1()==="https:"}function J1(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mN()||H_()||"connection"in navigator)?navigator.onLine:!0}function pN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=UA()||BA()}get(){return gN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i,e){li(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_N=new nc(3e4,6e4);function or(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function cr(i,e,n,r,l={}){return nb(i,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=tc({key:i.config.apiKey,...d}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const v={method:e,headers:y,...c};return qA()||(v.referrerPolicy="no-referrer"),i.emulatorConfig&&ml(i.emulatorConfig.host)&&(v.credentials="include"),tb.fetch()(await sb(i,i.config.apiHost,n,g),v)})}async function nb(i,e,n){i._canInitEmulator=!1;const r={...yN,...e};try{const l=new xN(i),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Bu(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,v]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bu(i,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Bu(i,"email-already-in-use",d);if(y==="USER_DISABLED")throw Bu(i,"user-disabled",d);const E=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw eb(i,E,v);ns(i,E)}}catch(l){if(l instanceof is)throw l;ns(i,"network-request-failed",{message:String(l)})}}async function sc(i,e,n,r,l={}){const c=await cr(i,e,n,r,l);return"mfaPendingCredential"in c&&ns(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function sb(i,e,n,r){const l=`${e}${n}?${r}`,c=i,d=c.config.emulator?dg(i.config,l):`${i.config.apiScheme}://${l}`;return vN.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function bN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Is(this.auth,"network-request-failed")),_N.get())})}}function Bu(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Is(i,e,r);return l.customData._tokenResponse=n,l}function W1(i){return i!==void 0&&i.enterprise!==void 0}class EN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wN(i,e){return cr(i,"GET","/v2/recaptchaConfig",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(i,e){return cr(i,"POST","/v1/accounts:delete",e)}async function uh(i,e){return cr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AN(i,e=!1){const n=bt(i),r=await n.getIdToken(e),l=fg(r);xe(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:r,authTime:Po(mm(l.auth_time)),issuedAtTime:Po(mm(l.iat)),expirationTime:Po(mm(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function mm(i){return Number(i)*1e3}function fg(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return Yu("JWT malformed, contained fewer than 3 sections"),null;try{const l=L_(n);return l?JSON.parse(l):(Yu("Failed to decode base64 JWT payload"),null)}catch(l){return Yu("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function ev(i){const e=fg(i);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof is&&SN(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function SN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(i){var A;const e=i.auth,n=await i.getIdToken(),r=await Go(i,uh(e,{idToken:n}));xe(r==null?void 0:r.users.length,e,"internal-error");const l=r.users[0];i._notifyReloadListener(l);const c=(A=l.providerUserInfo)!=null&&A.length?ib(l.providerUserInfo):[],d=RN(i.providerData,c),g=i.isAnonymous,y=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),v=g?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Lm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(i,E)}async function IN(i){const e=bt(i);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RN(i,e){return[...i.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function ib(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(i,e){const n=await nb(i,{},async()=>{const r=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,d=await sb(i,l,"/v1/token",`key=${c}`),g=await i._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return i.emulatorConfig&&ml(i.emulatorConfig.host)&&(y.credentials="include"),tb.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jN(i,e){return cr(i,"POST","/v2/accounts:revokeToken",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ev(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=ev(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await CN(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new nl;return r&&(xe(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(xe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(xe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(i,e){xe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new NN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Lm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Go(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AN(this,e)}reload(){return IN(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await Go(this,TN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,v=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:S,isAnonymous:Q,providerData:G,stsTokenManager:J}=n;xe(A&&J,e,"internal-error");const W=nl.fromJSON(this.name,J);xe(typeof A=="string",e,"internal-error"),Hi(r,e.name),Hi(l,e.name),xe(typeof S=="boolean",e,"internal-error"),xe(typeof Q=="boolean",e,"internal-error"),Hi(c,e.name),Hi(d,e.name),Hi(g,e.name),Hi(y,e.name),Hi(v,e.name),Hi(E,e.name);const ge=new Wn({uid:A,auth:e,email:l,emailVerified:S,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:v,lastLoginAt:E});return G&&Array.isArray(G)&&(ge.providerData=G.map(ae=>({...ae}))),y&&(ge._redirectEventId=y),ge}static async _fromIdTokenResponse(e,n,r=!1){const l=new nl;l.updateFromServerResponse(n);const c=new Wn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await hh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];xe(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?ib(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new nl;g.updateFromIdToken(r);const y=new Wn({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Lm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=new Map;function si(i){li(i instanceof Function,"Expected a class definition");let e=tv.get(i);return e?(li(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,tv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rb.type="NONE";const nv=rb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(i,e,n){return`firebase:${i}:${e}:${n}`}class sl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=$u(this.userKey,l.apiKey,c),this.fullPersistenceKey=$u("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uh(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new sl(si(nv),e,r);const l=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||si(nv);const d=$u(r,e.config.apiKey,e.name);let g=null;for(const v of n)try{const E=await v._get(d);if(E){let A;if(typeof E=="string"){const S=await uh(e,{idToken:E}).catch(()=>{});if(!S)break;A=await Wn._fromGetAccountInfoResponse(e,S,E)}else A=Wn._fromJSON(e,E);v!==c&&(g=A),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new sl(c,e,r):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new sl(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ab(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hb(e))return"Blackberry";if(db(e))return"Webos";if(lb(e))return"Safari";if((e.includes("chrome/")||ob(e))&&!e.includes("edge/"))return"Chrome";if(ub(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ab(i=Wt()){return/firefox\//i.test(i)}function lb(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ob(i=Wt()){return/crios\//i.test(i)}function cb(i=Wt()){return/iemobile/i.test(i)}function ub(i=Wt()){return/android/i.test(i)}function hb(i=Wt()){return/blackberry/i.test(i)}function db(i=Wt()){return/webos/i.test(i)}function mg(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function DN(i=Wt()){var e;return mg(i)&&!!((e=window.navigator)!=null&&e.standalone)}function MN(){return HA()&&document.documentMode===10}function fb(i=Wt()){return mg(i)||ub(i)||db(i)||hb(i)||/windows phone/i.test(i)||cb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(i,e=[]){let n;switch(i){case"Browser":n=sv(Wt());break;case"Worker":n=`${sv(Wt())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(i,e={}){return cr(i,"GET","/v2/passwordPolicy",or(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=6;class LN{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??VN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iv(this),this.idTokenSubscription=new iv(this),this.beforeStateQueue=new ON(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var r,l,c;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uh(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Pn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,g=r==null?void 0:r._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===g)&&(y!=null&&y.user)&&(r=y.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(d){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(ii(this));const n=e?bt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kN(this),n=new LN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&fN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function sa(i){return bt(i)}class iv{constructor(e){this.auth=e,this.observer=null,this.addObserver=XA(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UN(i){Oh=i}function gb(i){return Oh.loadJS(i)}function zN(){return Oh.recaptchaEnterpriseScript}function qN(){return Oh.gapiScript}function BN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class HN{constructor(){this.enterprise=new FN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GN="recaptcha-enterprise",pb="NO_RECAPTCHA";class QN{constructor(e){this.type=GN,this.auth=sa(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{wN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new EN(y);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(y=>{g(y)})})}function l(c,d,g){const y=window.grecaptcha;W1(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(pb)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HN().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(g=>{if(!n&&W1(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=zN();y.length!==0&&(y+=g),gb(y).then(()=>{l(g,c,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function rv(i,e,n,r=!1,l=!1){const c=new QN(i);let d;if(l)d=pb;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,v=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Pm(i,e,n,r,l){var c;if((c=i._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await rv(i,e,n,n==="getOobCode");return r(i,d)}else return r(i,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await rv(i,e,n,n==="getOobCode");return r(i,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(i,e){const n=na(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(tr(c,e??{}))return l;ns(l,"already-initialized")}return n.initialize({options:e})}function YN(i,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $N(i,e,n){const r=sa(i);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=yb(e),{host:d,port:g}=XN(e),y=g===null?"":`:${g}`,v={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(tr(v,r.config.emulator)&&tr(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,ml(d)?(q_(`${c}//${d}${y}`),B_("Auth",!0)):ZN()}function yb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function XN(i){const e=yb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:av(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:av(d)}}}function av(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function ZN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function JN(i,e){return cr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(i,e){return sc(i,"POST","/v1/accounts:signInWithPassword",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(i,e){return sc(i,"POST","/v1/accounts:signInWithEmailLink",or(i,e))}async function t4(i,e){return sc(i,"POST","/v1/accounts:signInWithEmailLink",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends gg{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Qo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,n,"signInWithPassword",WN);case"emailLink":return e4(e,{email:this._email,oobCode:this._password});default:ns(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,r,"signUpPassword",JN);case"emailLink":return t4(e,{idToken:n,email:this._email,oobCode:this._password});default:ns(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(i,e){return sc(i,"POST","/v1/accounts:signInWithIdp",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="http://localhost";class Yr extends gg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ns("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new Yr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return il(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,il(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,il(e,n)}buildRequest(){const e={requestUri:n4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i4(i){const e=Co(jo(i)).link,n=e?Co(jo(e)).deep_link_id:null,r=Co(jo(i)).deep_link_id;return(r?Co(jo(r)).link:null)||r||n||e||i}class pg{constructor(e){const n=Co(jo(e)),r=n.apiKey??null,l=n.oobCode??null,c=s4(n.mode??null);xe(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=i4(e);try{return new pg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,n){return Qo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pg.parseLink(n);return xe(r,"argument-error"),Qo._fromEmailAndCode(e,r.code,r.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends vb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends ic{constructor(){super("facebook.com")}static credential(e){return Yr._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yr._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends ic{constructor(){super("github.com")}static credential(e){return Yr._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends ic{constructor(){super("twitter.com")}static credential(e,n){return Yr._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(i,e){return sc(i,"POST","/v1/accounts:signUp",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await Wn._fromIdTokenResponse(e,r,l),d=lv(r);return new $r({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=lv(r);return new $r({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function lv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends is{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new dh(e,n,r,l)}}function _b(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(i,c,e,r):c})}async function a4(i,e,n=!1){const r=await Go(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return $r._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(i,e,n=!1){const{auth:r}=i;if(Pn(r.app))return Promise.reject(ii(r));const l="reauthenticate";try{const c=await Go(i,_b(r,l,e,i),n);xe(c.idToken,r,"internal-error");const d=fg(c.idToken);xe(d,r,"internal-error");const{sub:g}=d;return xe(i.uid===g,r,"user-mismatch"),$r._forOperation(i,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ns(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(i,e,n=!1){if(Pn(i.app))return Promise.reject(ii(i));const r="signIn",l=await _b(i,r,e),c=await $r._fromIdTokenResponse(i,r,l);return n||await i._updateCurrentUser(c.user),c}async function o4(i,e){return bb(sa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(i){const e=sa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c4(i,e,n){if(Pn(i.app))return Promise.reject(ii(i));const r=sa(i),d=await Pm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r4).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&xb(i),y}),g=await $r._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function u4(i,e,n){return Pn(i.app)?Promise.reject(ii(i)):o4(bt(i),pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xb(i),r})}function h4(i,e,n,r){return bt(i).onIdTokenChanged(e,n,r)}function d4(i,e,n){return bt(i).beforeAuthStateChanged(e,n)}function f4(i,e,n,r){return bt(i).onAuthStateChanged(e,n,r)}function m4(i){return bt(i).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=1e3,p4=10;class wb extends Eb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);MN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,p4):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},g4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wb.type="LOCAL";const y4=wb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends Eb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tb.type="SESSION";const Ab=Tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new kh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async v=>v(n.origin,c)),y=await v4(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const v=yg("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const S=A;if(S.data.eventId===v)switch(S.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(S.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(){return window}function b4(i){Rs().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){return typeof Rs().WorkerGlobalScope<"u"&&typeof Rs().importScripts=="function"}async function x4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E4(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function w4(){return Sb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="firebaseLocalStorageDb",T4=1,mh="firebaseLocalStorage",Ib="fbase_key";class rc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(i,e){return i.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function A4(){const i=indexedDB.deleteDatabase(Nb);return new rc(i).toPromise()}function Um(){const i=indexedDB.open(Nb,T4);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(mh,{keyPath:Ib})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),await A4(),e(await Um()))})})}async function ov(i,e,n){const r=Vh(i,!0).put({[Ib]:e,value:n});return new rc(r).toPromise()}async function S4(i,e){const n=Vh(i,!1).get(e),r=await new rc(n).toPromise();return r===void 0?null:r.value}function cv(i,e){const n=Vh(i,!0).delete(e);return new rc(n).toPromise()}const N4=800,I4=3;class Rb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>I4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(w4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await x4(),!this.activeServiceWorker)return;this.sender=new _4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await ov(e,fh,"1"),await cv(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ov(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>S4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Vh(l,!1).getAll();return new rc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rb.type="LOCAL";const R4=Rb;new nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(i,e){return e?si(e):(xe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends gg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function j4(i){return bb(i.auth,new vg(i),i.bypassAuthState)}function D4(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),l4(n,new vg(i),i.bypassAuthState)}async function M4(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),a4(n,new vg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j4;case"linkViaPopup":case"linkViaRedirect":return M4;case"reauthViaPopup":case"reauthViaRedirect":return D4;default:ns(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new nc(2e3,1e4);class tl extends Cb{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O4.get())};e()}}tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="pendingRedirect",Xu=new Map;class V4 extends Cb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xu.get(this.auth._key());if(!e){try{const r=await L4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xu.set(this.auth._key(),e)}return this.bypassAuthState||Xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L4(i,e){const n=z4(e),r=U4(i);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function P4(i,e){Xu.set(i._key(),e)}function U4(i){return si(i._redirectPersistence)}function z4(i){return $u(k4,i.config.apiKey,i.name)}async function q4(i,e,n=!1){if(Pn(i.app))return Promise.reject(ii(i));const r=sa(i),l=C4(r,e),d=await new V4(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=600*1e3;class H4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jb(e)){const l=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Is(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B4&&this.cachedEventUids.clear(),this.cachedEventUids.has(uv(e))}saveEventToCache(e){this.cachedEventUids.add(uv(e)),this.lastProcessedEventTime=Date.now()}}function uv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function jb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F4(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(i,e={}){return cr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K4=/^https?/;async function Y4(i){if(i.config.emulator)return;const{authorizedDomains:e}=await G4(i);for(const n of e)try{if($4(n))return}catch{}ns(i,"unauthorized-domain")}function $4(i){const e=Vm(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!K4.test(n))return!1;if(Q4.test(i))return r===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new nc(3e4,6e4);function hv(){const i=Rs().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Z4(i){return new Promise((e,n)=>{var l,c,d;function r(){hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hv(),n(Is(i,"network-request-failed"))},timeout:X4.get()})}if((c=(l=Rs().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=Rs().gapi)!=null&&d.load)r();else{const g=BN("iframefcb");return Rs()[g]=()=>{gapi.load?r():n(Is(i,"network-request-failed"))},gb(`${qN()}?onload=${g}`).catch(y=>n(y))}}).catch(e=>{throw Zu=null,e})}let Zu=null;function J4(i){return Zu=Zu||Z4(i),Zu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=new nc(5e3,15e3),e6="__/auth/iframe",t6="emulator/auth/iframe",n6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i6(i){const e=i.config;xe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?dg(e,t6):`https://${i.config.authDomain}/${e6}`,r={apiKey:e.apiKey,appName:i.name,v:gl},l=s6.get(i.config.apiHost);l&&(r.eid=l);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${tc(r).slice(1)}`}async function r6(i){const e=await J4(i),n=Rs().gapi;return xe(n,i,"internal-error"),e.open({where:document.body,url:i6(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n6,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Is(i,"network-request-failed"),g=Rs().setTimeout(()=>{c(d)},W4.get());function y(){Rs().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l6=500,o6=600,c6="_blank",u6="http://localhost";class dv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h6(i,e,n,r=l6,l=o6){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...a6,width:r.toString(),height:l.toString(),top:c,left:d},v=Wt().toLowerCase();n&&(g=ob(v)?c6:n),ab(v)&&(e=e||u6,y.scrollbars="yes");const E=Object.entries(y).reduce((S,[Q,G])=>`${S}${Q}=${G},`,"");if(DN(v)&&g!=="_self")return d6(e||"",g),new dv(null);const A=window.open(e||"",g,E);xe(A,i,"popup-blocked");try{A.focus()}catch{}return new dv(A)}function d6(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="__/auth/handler",m6="emulator/auth/handler",g6=encodeURIComponent("fac");async function fv(i,e,n,r,l,c){xe(i.config.authDomain,i,"auth-domain-config-required"),xe(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:gl,eventId:l};if(e instanceof vb){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",$A(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(e instanceof ic){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}i.tenantId&&(d.tid=i.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const y=await i._getAppCheckToken(),v=y?`#${g6}=${encodeURIComponent(y)}`:"";return`${p6(i)}?${tc(g).slice(1)}${v}`}function p6({config:i}){return i.emulator?dg(i,m6):`https://${i.authDomain}/${f6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class y6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ab,this._completeRedirectFn=q4,this._overrideRedirectResult=P4}async _openPopup(e,n,r,l){var d;li((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await fv(e,n,r,Vm(),l);return h6(e,c,yg())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await fv(e,n,r,Vm(),l);return b4(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(li(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await r6(e),r=new H4(e);return n.register("authEvent",l=>(xe(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gm,{type:gm},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[gm];c!==void 0&&n(!!c),ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fb()||lb()||mg()}}const v6=y6;var mv="@firebase/auth",gv="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x6(i){Os(new ts("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;xe(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mb(i)},v=new PN(r,l,c,y);return YN(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Os(new ts("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(r=>new _6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(mv,gv,b6(i)),zn(mv,gv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=300,w6=z_("authIdTokenMaxAge")||E6;let pv=null;const T6=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>w6)return;const l=n==null?void 0:n.token;pv!==l&&(pv=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function A6(i=ug()){const e=na(i,"auth");if(e.isInitialized())return e.getImmediate();const n=KN(i,{popupRedirectResolver:v6,persistence:[R4,y4,Ab]}),r=z_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=T6(c.toString());d4(n,d,()=>d(n.currentUser)),h4(n,g=>d(g))}}const l=P_("auth");return l&&$N(n,`http://${l}`),n}function S6(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}UN({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=l=>{const c=Is("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",S6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x6("Browser");var yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,Db;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function N(){}N.prototype=T.prototype,C.F=T.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(O,D,k){for(var I=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)I[ze-2]=arguments[ze];return T.prototype[D].apply(O,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,T,N){N||(N=0);const O=Array(16);if(typeof T=="string")for(var D=0;D<16;++D)O[D]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(D=0;D<16;++D)O[D]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=C.g[0],N=C.g[1],D=C.g[2];let k=C.g[3],I;I=T+(k^N&(D^k))+O[0]+3614090360&4294967295,T=N+(I<<7&4294967295|I>>>25),I=k+(D^T&(N^D))+O[1]+3905402710&4294967295,k=T+(I<<12&4294967295|I>>>20),I=D+(N^k&(T^N))+O[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=N+(T^D&(k^T))+O[3]+3250441966&4294967295,N=D+(I<<22&4294967295|I>>>10),I=T+(k^N&(D^k))+O[4]+4118548399&4294967295,T=N+(I<<7&4294967295|I>>>25),I=k+(D^T&(N^D))+O[5]+1200080426&4294967295,k=T+(I<<12&4294967295|I>>>20),I=D+(N^k&(T^N))+O[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=N+(T^D&(k^T))+O[7]+4249261313&4294967295,N=D+(I<<22&4294967295|I>>>10),I=T+(k^N&(D^k))+O[8]+1770035416&4294967295,T=N+(I<<7&4294967295|I>>>25),I=k+(D^T&(N^D))+O[9]+2336552879&4294967295,k=T+(I<<12&4294967295|I>>>20),I=D+(N^k&(T^N))+O[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=N+(T^D&(k^T))+O[11]+2304563134&4294967295,N=D+(I<<22&4294967295|I>>>10),I=T+(k^N&(D^k))+O[12]+1804603682&4294967295,T=N+(I<<7&4294967295|I>>>25),I=k+(D^T&(N^D))+O[13]+4254626195&4294967295,k=T+(I<<12&4294967295|I>>>20),I=D+(N^k&(T^N))+O[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=N+(T^D&(k^T))+O[15]+1236535329&4294967295,N=D+(I<<22&4294967295|I>>>10),I=T+(D^k&(N^D))+O[1]+4129170786&4294967295,T=N+(I<<5&4294967295|I>>>27),I=k+(N^D&(T^N))+O[6]+3225465664&4294967295,k=T+(I<<9&4294967295|I>>>23),I=D+(T^N&(k^T))+O[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=N+(k^T&(D^k))+O[0]+3921069994&4294967295,N=D+(I<<20&4294967295|I>>>12),I=T+(D^k&(N^D))+O[5]+3593408605&4294967295,T=N+(I<<5&4294967295|I>>>27),I=k+(N^D&(T^N))+O[10]+38016083&4294967295,k=T+(I<<9&4294967295|I>>>23),I=D+(T^N&(k^T))+O[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=N+(k^T&(D^k))+O[4]+3889429448&4294967295,N=D+(I<<20&4294967295|I>>>12),I=T+(D^k&(N^D))+O[9]+568446438&4294967295,T=N+(I<<5&4294967295|I>>>27),I=k+(N^D&(T^N))+O[14]+3275163606&4294967295,k=T+(I<<9&4294967295|I>>>23),I=D+(T^N&(k^T))+O[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=N+(k^T&(D^k))+O[8]+1163531501&4294967295,N=D+(I<<20&4294967295|I>>>12),I=T+(D^k&(N^D))+O[13]+2850285829&4294967295,T=N+(I<<5&4294967295|I>>>27),I=k+(N^D&(T^N))+O[2]+4243563512&4294967295,k=T+(I<<9&4294967295|I>>>23),I=D+(T^N&(k^T))+O[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=N+(k^T&(D^k))+O[12]+2368359562&4294967295,N=D+(I<<20&4294967295|I>>>12),I=T+(N^D^k)+O[5]+4294588738&4294967295,T=N+(I<<4&4294967295|I>>>28),I=k+(T^N^D)+O[8]+2272392833&4294967295,k=T+(I<<11&4294967295|I>>>21),I=D+(k^T^N)+O[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=N+(D^k^T)+O[14]+4259657740&4294967295,N=D+(I<<23&4294967295|I>>>9),I=T+(N^D^k)+O[1]+2763975236&4294967295,T=N+(I<<4&4294967295|I>>>28),I=k+(T^N^D)+O[4]+1272893353&4294967295,k=T+(I<<11&4294967295|I>>>21),I=D+(k^T^N)+O[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=N+(D^k^T)+O[10]+3200236656&4294967295,N=D+(I<<23&4294967295|I>>>9),I=T+(N^D^k)+O[13]+681279174&4294967295,T=N+(I<<4&4294967295|I>>>28),I=k+(T^N^D)+O[0]+3936430074&4294967295,k=T+(I<<11&4294967295|I>>>21),I=D+(k^T^N)+O[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=N+(D^k^T)+O[6]+76029189&4294967295,N=D+(I<<23&4294967295|I>>>9),I=T+(N^D^k)+O[9]+3654602809&4294967295,T=N+(I<<4&4294967295|I>>>28),I=k+(T^N^D)+O[12]+3873151461&4294967295,k=T+(I<<11&4294967295|I>>>21),I=D+(k^T^N)+O[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=N+(D^k^T)+O[2]+3299628645&4294967295,N=D+(I<<23&4294967295|I>>>9),I=T+(D^(N|~k))+O[0]+4096336452&4294967295,T=N+(I<<6&4294967295|I>>>26),I=k+(N^(T|~D))+O[7]+1126891415&4294967295,k=T+(I<<10&4294967295|I>>>22),I=D+(T^(k|~N))+O[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=N+(k^(D|~T))+O[5]+4237533241&4294967295,N=D+(I<<21&4294967295|I>>>11),I=T+(D^(N|~k))+O[12]+1700485571&4294967295,T=N+(I<<6&4294967295|I>>>26),I=k+(N^(T|~D))+O[3]+2399980690&4294967295,k=T+(I<<10&4294967295|I>>>22),I=D+(T^(k|~N))+O[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=N+(k^(D|~T))+O[1]+2240044497&4294967295,N=D+(I<<21&4294967295|I>>>11),I=T+(D^(N|~k))+O[8]+1873313359&4294967295,T=N+(I<<6&4294967295|I>>>26),I=k+(N^(T|~D))+O[15]+4264355552&4294967295,k=T+(I<<10&4294967295|I>>>22),I=D+(T^(k|~N))+O[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=N+(k^(D|~T))+O[13]+1309151649&4294967295,N=D+(I<<21&4294967295|I>>>11),I=T+(D^(N|~k))+O[4]+4149444226&4294967295,T=N+(I<<6&4294967295|I>>>26),I=k+(N^(T|~D))+O[11]+3174756917&4294967295,k=T+(I<<10&4294967295|I>>>22),I=D+(T^(k|~N))+O[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=N+(k^(D|~T))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.v=function(C,T){T===void 0&&(T=C.length);const N=T-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<T;){if(D==0)for(;k<=N;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<T;)if(O[D++]=C.charCodeAt(k++),D==this.blockSize){l(this,O),D=0;break}}else for(;k<T;)if(O[D++]=C[k++],D==this.blockSize){l(this,O),D=0;break}}this.h=D,this.o+=T},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;T=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=T&255,T/=256;for(this.v(C),C=Array(16),T=0,N=0;N<4;++N)for(let O=0;O<32;O+=8)C[T++]=this.g[N]>>>O&255;return C};function c(C,T){var N=g;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=T(C)}function d(C,T){this.h=T;const N=[];let O=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;O&&k==T||(N[D]=k,O=!1)}this.g=N}var g={};function y(C){return-128<=C&&C<128?c(C,function(T){return new d([T|0],T<0?-1:0)}):new d([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return W(v(-C));const T=[];let N=1;for(let O=0;C>=N;O++)T[O]=C/N|0,N*=4294967296;return new d(T,0)}function E(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return W(E(C.substring(1),T));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(T,8));let O=A;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const I=parseInt(C.substring(k,k+D),T);D<8?(D=v(Math.pow(T,D)),O=O.j(D).add(v(I))):(O=O.j(N),O=O.add(v(I)))}return O}var A=y(0),S=y(1),Q=y(16777216);i=d.prototype,i.m=function(){if(J(this))return-W(this).m();let C=0,T=1;for(let N=0;N<this.g.length;N++){const O=this.i(N);C+=(O>=0?O:4294967296+O)*T,T*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(G(this))return"0";if(J(this))return"-"+W(this).toString(C);const T=v(Math.pow(C,6));var N=this;let O="";for(;;){const D=Ce(N,T).g;N=ge(N,D.j(T));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=D,G(N))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function G(C){if(C.h!=0)return!1;for(let T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function J(C){return C.h==-1}i.l=function(C){return C=ge(this,C),J(C)?-1:G(C)?0:1};function W(C){const T=C.g.length,N=[];for(let O=0;O<T;O++)N[O]=~C.g[O];return new d(N,~C.h).add(S)}i.abs=function(){return J(this)?W(this):this},i.add=function(C){const T=Math.max(this.g.length,C.g.length),N=[];let O=0;for(let D=0;D<=T;D++){let k=O+(this.i(D)&65535)+(C.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);O=I>>>16,k&=65535,I&=65535,N[D]=I<<16|k}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ge(C,T){return C.add(W(T))}i.j=function(C){if(G(this)||G(C))return A;if(J(this))return J(C)?W(this).j(W(C)):W(W(this).j(C));if(J(C))return W(this.j(W(C)));if(this.l(Q)<0&&C.l(Q)<0)return v(this.m()*C.m());const T=this.g.length+C.g.length,N=[];for(var O=0;O<2*T;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<C.g.length;D++){const k=this.i(O)>>>16,I=this.i(O)&65535,ze=C.i(D)>>>16,He=C.i(D)&65535;N[2*O+2*D]+=I*He,ae(N,2*O+2*D),N[2*O+2*D+1]+=k*He,ae(N,2*O+2*D+1),N[2*O+2*D+1]+=I*ze,ae(N,2*O+2*D+1),N[2*O+2*D+2]+=k*ze,ae(N,2*O+2*D+2)}for(C=0;C<T;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=T;C<2*T;C++)N[C]=0;return new d(N,0)};function ae(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function fe(C,T){this.g=C,this.h=T}function Ce(C,T){if(G(T))throw Error("division by zero");if(G(C))return new fe(A,A);if(J(C))return T=Ce(W(C),T),new fe(W(T.g),W(T.h));if(J(T))return T=Ce(C,W(T)),new fe(W(T.g),T.h);if(C.g.length>30){if(J(C)||J(T))throw Error("slowDivide_ only works with positive integers.");for(var N=S,O=T;O.l(C)<=0;)N=De(N),O=De(O);var D=Ie(N,1),k=Ie(O,1);for(O=Ie(O,2),N=Ie(N,2);!G(O);){var I=k.add(O);I.l(C)<=0&&(D=D.add(N),k=I),O=Ie(O,1),N=Ie(N,1)}return T=ge(C,D.j(T)),new fe(D,T)}for(D=A;C.l(T)>=0;){for(N=Math.max(1,Math.floor(C.m()/T.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=v(N),I=k.j(T);J(I)||I.l(C)>0;)N-=O,k=v(N),I=k.j(T);G(k)&&(k=S),D=D.add(k),C=ge(C,I)}return new fe(D,C)}i.B=function(C){return Ce(this,C).h},i.and=function(C){const T=Math.max(this.g.length,C.g.length),N=[];for(let O=0;O<T;O++)N[O]=this.i(O)&C.i(O);return new d(N,this.h&C.h)},i.or=function(C){const T=Math.max(this.g.length,C.g.length),N=[];for(let O=0;O<T;O++)N[O]=this.i(O)|C.i(O);return new d(N,this.h|C.h)},i.xor=function(C){const T=Math.max(this.g.length,C.g.length),N=[];for(let O=0;O<T;O++)N[O]=this.i(O)^C.i(O);return new d(N,this.h^C.h)};function De(C){const T=C.g.length+1,N=[];for(let O=0;O<T;O++)N[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(N,C.h)}function Ie(C,T){const N=T>>5;T%=32;const O=C.g.length-N,D=[];for(let k=0;k<O;k++)D[k]=T>0?C.i(k+N)>>>T|C.i(k+N+1)<<32-T:C.i(k+N);return new d(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Db=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=E,Ji=d}).apply(typeof yv<"u"?yv:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mb,Do,Ob,Ju,zm,kb,Vb,Lb;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var p=0;p<u.length;++p){var b=u[p];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function l(u,p){if(p)e:{var b=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var L=u[w];if(!(L in b))break e;b=b[L]}u=u[u.length-1],w=b[u],p=p(w),p!=w&&p!=null&&e(b,u,{configurable:!0,writable:!0,value:p})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(p){var b=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&b.push([w,p[w]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function y(u,p,b){return u.call.apply(u.bind,arguments)}function v(u,p,b){return v=y,v.apply(null,arguments)}function E(u,p){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function A(u,p){function b(){}b.prototype=p.prototype,u.Z=p.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(w,L,B){for(var se=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)se[Se-2]=arguments[Se];return p.prototype[L].apply(w,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const p=u.length;if(p>0){const b=Array(p);for(let w=0;w<p;w++)b[w]=u[w];return b}return[]}function G(u,p){for(let w=1;w<arguments.length;w++){const L=arguments[w];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=u.length||0;const B=L.length||0;u.length=b+B;for(let se=0;se<B;se++)u[b+se]=L[se]}else u.push(L)}}class J{constructor(p,b){this.i=p,this.j=b,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function W(u){d.setTimeout(()=>{throw u},0)}function ge(){var u=C;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ae{constructor(){this.h=this.g=null}add(p,b){const w=fe.get();w.set(p,b),this.h?this.h.next=w:this.g=w,this.h=w}}var fe=new J(()=>new Ce,u=>u.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(p,b){this.h=p,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let De,Ie=!1,C=new ae,T=()=>{const u=Promise.resolve(void 0);De=()=>{u.then(N)}};function N(){for(var u;u=ge();){try{u.h.call(u.g)}catch(b){W(b)}var p=fe;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}Ie=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,p),d.removeEventListener("test",b,p)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function ze(u,p){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}A(ze,D),ze.prototype.init=function(u,p){const b=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(b=="mouseover"?p=u.fromElement:b=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var He="closure_listenable_"+(Math.random()*1e6|0),F=0;function ne(u,p,b,w,L){this.listener=u,this.proxy=null,this.src=p,this.type=b,this.capture=!!w,this.ha=L,this.key=++F,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ee(u,p,b){for(const w in u)p.call(b,u[w],w,u)}function he(u,p){for(const b in u)p.call(void 0,u[b],b,u)}function j(u){const p={};for(const b in u)p[b]=u[b];return p}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,p){let b,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(b in w)u[b]=w[b];for(let B=0;B<z.length;B++)b=z[B],Object.prototype.hasOwnProperty.call(w,b)&&(u[b]=w[b])}}function ie(u){this.src=u,this.g={},this.h=0}ie.prototype.add=function(u,p,b,w,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const se=be(u,p,w,L);return se>-1?(p=u[se],b||(p.fa=!1)):(p=new ne(p,this.src,B,!!w,L),p.fa=b,u.push(p)),p};function pe(u,p){const b=p.type;if(b in u.g){var w=u.g[b],L=Array.prototype.indexOf.call(w,p,void 0),B;(B=L>=0)&&Array.prototype.splice.call(w,L,1),B&&(me(p),u.g[b].length==0&&(delete u.g[b],u.h--))}}function be(u,p,b,w){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==p&&B.capture==!!b&&B.ha==w)return L}return-1}var je="closure_lm_"+(Math.random()*1e6|0),lt={};function ot(u,p,b,w,L){if(Array.isArray(p)){for(let B=0;B<p.length;B++)ot(u,p[B],b,w,L);return null}return b=Al(b),u&&u[He]?u.J(p,b,g(w)?!!w.capture:!1,L):dr(u,p,b,!1,w,L)}function dr(u,p,b,w,L,B){if(!p)throw Error("Invalid event type");const se=g(L)?!!L.capture:!!L;let Se=fr(u);if(Se||(u[je]=Se=new ie(u)),b=Se.add(p,b,w,se,B),b.proxy)return b;if(w=la(),b.proxy=w,w.src=u,w.listener=b,u.addEventListener)k||(L=se),L===void 0&&(L=!1),u.addEventListener(p.toString(),w,L);else if(u.attachEvent)u.attachEvent(rs(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function la(){function u(b){return p.call(u.src,u.listener,b)}const p=wl;return u}function oa(u,p,b,w,L){if(Array.isArray(p))for(var B=0;B<p.length;B++)oa(u,p[B],b,w,L);else w=g(w)?!!w.capture:!!w,b=Al(b),u&&u[He]?(u=u.i,B=String(p).toString(),B in u.g&&(p=u.g[B],b=be(p,b,w,L),b>-1&&(me(p[b]),Array.prototype.splice.call(p,b,1),p.length==0&&(delete u.g[B],u.h--)))):u&&(u=fr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=be(p,b,w,L)),(b=u>-1?p[u]:null)&&ca(b))}function ca(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[He])pe(p.i,u);else{var b=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(b,w,u.capture):p.detachEvent?p.detachEvent(rs(b),w):p.addListener&&p.removeListener&&p.removeListener(w),(b=fr(p))?(pe(b,u),b.h==0&&(b.src=null,p[je]=null)):me(u)}}}function rs(u){return u in lt?lt[u]:lt[u]="on"+u}function wl(u,p){if(u.da)u=!0;else{p=new ze(p,this);const b=u.listener,w=u.ha||u.src;u.fa&&ca(u),u=b.call(w,p)}return u}function fr(u){return u=u[je],u instanceof ie?u:null}var Tl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Al(u){return typeof u=="function"?u:(u[Tl]||(u[Tl]=function(p){return u.handleEvent(p)}),u[Tl])}function xt(){O.call(this),this.i=new ie(this),this.M=this,this.G=null}A(xt,O),xt.prototype[He]=!0,xt.prototype.removeEventListener=function(u,p,b,w){oa(this,u,p,b,w)};function Mt(u,p){var b,w=u.G;if(w)for(b=[];w;w=w.G)b.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new D(p,u);else if(p instanceof D)p.target=p.target||u;else{var L=p;p=new D(w,u),te(p,L)}L=!0;let B,se;if(b)for(se=b.length-1;se>=0;se--)B=p.g=b[se],L=ui(B,w,!0,p)&&L;if(B=p.g=u,L=ui(B,w,!0,p)&&L,L=ui(B,w,!1,p)&&L,b)for(se=0;se<b.length;se++)B=p.g=b[se],L=ui(B,w,!1,p)&&L}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const b=u.g[p];for(let w=0;w<b.length;w++)me(b[w]);delete u.g[p],u.h--}}this.G=null},xt.prototype.J=function(u,p,b,w){return this.i.add(String(u),p,!1,b,w)},xt.prototype.K=function(u,p,b,w){return this.i.add(String(u),p,!0,b,w)};function ui(u,p,b,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let B=0;B<p.length;++B){const se=p[B];if(se&&!se.da&&se.capture==b){const Se=se.listener,gt=se.ha||se.src;se.fa&&pe(u.i,se),L=Se.call(gt,w)!==!1&&L}}return L&&!w.defaultPrevented}function sd(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(u,p||0)}function fc(u){u.g=sd(()=>{u.g=null,u.i&&(u.i=!1,fc(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class en extends O{constructor(p,b){super(),this.m=p,this.l=b,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:fc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(u){O.call(this),this.h=u,this.g={}}A(mr,O);var Sl=[];function Nl(u){ee(u.g,function(p,b){this.g.hasOwnProperty(b)&&ca(p)},u),u.g={}}mr.prototype.N=function(){mr.Z.N.call(this),Nl(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=d.JSON.stringify,id=d.JSON.parse,mc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function gc(){}function pc(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}A(zt,D);function An(){D.call(this,"c")}A(An,D);var mt={},yc=null;function ua(){return yc=yc||new xt}mt.Ia="serverreachability";function vc(u){D.call(this,mt.Ia,u)}A(vc,D);function as(u){const p=ua();Mt(p,new vc(p))}mt.STAT_EVENT="statevent";function gr(u,p){D.call(this,mt.STAT_EVENT,u),this.stat=p}A(gr,D);function Et(u){const p=ua();Mt(p,new gr(p,u))}mt.Ja="timingevent";function ls(u,p){D.call(this,mt.Ja,u),this.size=p}A(ls,D);function os(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function rd(u,p,b,w,L,B){u.info(function(){if(u.g)if(B){var se="",Se=B.split("&");for(let Qe=0;Qe<Se.length;Qe++){var gt=Se[Qe].split("=");if(gt.length>1){const ct=gt[0];gt=gt[1];const Rn=ct.split("_");se=Rn.length>=2&&Rn[1]=="type"?se+(ct+"="+gt+"&"):se+(ct+"=redacted&")}}}else se=null;else se=B;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+p+`
`+b+`
`+se})}function _c(u,p,b,w,L,B,se){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+p+`
`+b+`
`+B+" "+se})}function cs(u,p,b,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ad(u,b)+(w?" "+w:"")})}function pr(u,p){u.info(function(){return"TIMEOUT: "+p})}Bn.prototype.info=function(){};function ad(u,p){if(!u.g)return p;if(!p)return null;try{const B=JSON.parse(p);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var b=B[u];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return hi(B)}catch{return p}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function vr(){}A(vr,gc),vr.prototype.g=function(){return new XMLHttpRequest},Rl=new vr;function Ls(u){return encodeURIComponent(String(u))}function bc(u){var p=1;u=u.split(":");const b=[];for(;p>0&&u.length;)b.push(u.shift()),p--;return u.length&&b.push(u.join(":")),b}function Hn(u,p,b,w){this.j=u,this.i=p,this.l=b,this.S=w||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var wt={},Vt={};function us(u,p,b){u.M=1,u.A=_r(At(p)),u.u=b,u.R=!0,ha(u,null)}function ha(u,p){u.F=Date.now(),hs(u),u.B=At(u.A);var b=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),ga(b.i,"t",w),u.C=0,b=u.j.L,u.h=new Fn,u.g=kc(u.j,b?p:null,!u.u),u.P>0&&(u.O=new en(v(u.Y,u,u.g),u.P)),p=u.V,b=u.g,w=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Sl[0]=L.toString()),L=Sl);for(let B=0;B<L.length;B++){const se=ot(b,L[B],w||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=u.J?j(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),as(),rd(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const p=this.O;p&&Kn(u)==3?p.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)e:{const Se=Kn(this.g),gt=this.g.ya(),Qe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Se!=4||gt==7||(gt==8||Qe<=0?as(3):as(2)),ds(this);var p=this.g.ca();this.X=p;var b=ld(this);if(this.o=p==200,_c(this.i,this.v,this.B,this.l,this.S,Se,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var B=w;break t}}B=null}if(u=B)cs(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fs(this,u);else{this.o=!1,this.m=3,Et(12),mn(this),Sn(this);break e}}if(this.R){u=!0;let ct;for(;!this.K&&this.C<b.length;)if(ct=Ec(this,b),ct==Vt){Se==4&&(this.m=4,Et(14),u=!1),cs(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==wt){this.m=4,Et(15),cs(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else cs(this.i,this.l,ct,null),fs(this,ct);if(xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||b.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)cs(this.i,this.l,b,"[Invalid Chunked Response]"),mn(this),Sn(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Fl(se),se.P=!0,Et(11))}}else cs(this.i,this.l,b,null),fs(this,b);Se==4&&mn(this),this.o&&!this.K&&(Se==4?jc(this.j,this):(this.o=!1,hs(this)))}else Us(this.g),p==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),mn(this),Sn(this)}}}catch{}finally{}};function ld(u){if(!xc(u))return u.g.la();const p=qt(u.g);if(p==="")return"";let b="";const w=p.length,L=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<w;B++)u.h.h=!0,b+=u.h.i.decode(p[B],{stream:!(L&&B==w-1)});return p.length=0,u.h.g+=b,u.C=0,u.h.g}function xc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ec(u,p){var b=u.C,w=p.indexOf(`
`,b);return w==-1?Vt:(b=Number(p.substring(b,w)),isNaN(b)?wt:(w+=1,w+b>p.length?Vt:(p=p.slice(w,w+b),u.C=w+b,p)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function hs(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=os(v(u.aa,u),p)}function ds(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(as(),Et(17)),mn(this),this.m=2,Sn(this)):da(this,this.T-u)};function Sn(u){u.j.I==0||u.K||jc(u.j,u)}function mn(u){ds(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Nl(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function fs(u,p){try{var b=u.j;if(b.I!=0&&(b.g==u||gs(b.h,u))){if(!u.L&&gs(b.h,u)&&b.I==3){try{var w=b.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)ba(b),_i(b);else break e;Sr(b),Et(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=os(v(b.Va,b),6e3));ms(b.h)<=1&&b.ta&&(b.ta=void 0)}else xs(b,11)}else if((u.L||b.g==u)&&ba(b),!I(p))for(L=b.Ba.g.parse(p),p=0;p<L.length;p++){let Qe=L[p];const ct=Qe[0];if(!(ct<=b.K))if(b.K=ct,Qe=Qe[1],b.I==2)if(Qe[0]=="c"){b.M=Qe[1],b.ba=Qe[2];const Rn=Qe[3];Rn!=null&&(b.ka=Rn,b.j.info("VER="+b.ka));const Es=Qe[4];Es!=null&&(b.za=Es,b.j.info("SVER="+b.za));const Yn=Qe[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(w=1.5*Yn,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const $n=u.g;if($n){const Nr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var B=w.h;B.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Dl(B,B.h),B.h=null))}if(w.G){const xa=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(w.wa=xa,$e(w.J,w.G,xa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var se=u;if(w.na=Oc(w,w.L?w.ba:null,w.W),se.L){Ml(w.h,se);var Se=se,gt=w.O;gt&&(Se.H=gt),Se.D&&(ds(Se),hs(Se)),w.g=se}else Rc(w);b.i.length>0&&bs(b)}else Qe[0]!="stop"&&Qe[0]!="close"||xs(b,7);else b.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?xs(b,7):Bl(b):Qe[0]!="noop"&&b.l&&b.l.qa(Qe),b.A=0)}}as(4)}catch{}}var Tt=class{constructor(u,p){this.g=u,this.map=p}};function Cl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ms(u){return u.h?1:u.g?u.g.size:0}function gs(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Dl(u,p){u.g?u.g.add(p):u.h=p}function Ml(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Cl.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ol(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const b of u.g.values())p=p.concat(b.G);return p}return Q(u.i)}var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,p){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const w=u[b].indexOf("=");let L,B=null;w>=0?(L=u[b].substring(0,w),B=u[b].substring(w+1)):L=u[b],p(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof gn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,di(this,u.u),this.h=u.h,kl(this,Nc(u.i)),this.m=u.m):u&&(p=String(u).match(wc))?(this.l=!1,Lt(this,p[1]||"",!0),this.o=ps(p[2]||""),this.g=ps(p[3]||"",!0),di(this,p[4]),this.h=ps(p[5]||"",!0),kl(this,p[6]||"",!0),this.m=ps(p[7]||"")):(this.l=!1,this.i=new mi(null,this.l))}gn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(br(p,ma,!0),":");var b=this.g;return(b||p=="file")&&(u.push("//"),(p=this.o)&&u.push(br(p,ma,!0),"@"),u.push(Ls(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(br(b,b.charAt(0)=="/"?Vl:Tc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",br(b,Ac)),u.join("")},gn.prototype.resolve=function(u){const p=At(this);let b=!!u.j;b?Lt(p,u.j):b=!!u.o,b?p.o=u.o:b=!!u.g,b?p.g=u.g:b=u.u!=null;var w=u.h;if(b)di(p,u.u);else if(b=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=p.h.lastIndexOf("/");L!=-1&&(w=p.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let se=0;se<L.length;){const Se=L[se++];Se=="."?w&&se==L.length&&B.push(""):Se==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),w&&se==L.length&&B.push("")):(B.push(Se),w=!0)}w=B.join("/")}else w=L}return b?p.h=w:b=u.i.toString()!=="",b?kl(p,Nc(u.i)):b=!!u.m,b&&(p.m=u.m),p};function At(u){return new gn(u)}function Lt(u,p,b){u.j=b?ps(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function di(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function kl(u,p,b){p instanceof mi?(u.i=p,pa(u.i,u.l)):(b||(p=br(p,fi)),u.i=new mi(p,u.l))}function $e(u,p,b){u.i.set(p,b)}function _r(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ps(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function br(u,p,b){return typeof u=="string"?(u=encodeURI(u).replace(p,rn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ma=/[#\/\?@]/g,Tc=/[#\?:]/g,Vl=/[#\?]/g,fi=/[#\?@]/g,Ac=/#/g;function mi(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(p,b){u.add(decodeURIComponent(p.replace(/\+/g," ")),b)}))}i=mi.prototype,i.add=function(u,p){an(this),this.i=null,u=gi(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(p),this.h+=1,this};function Sc(u,p){an(u),p=gi(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ll(u,p){return an(u),p=gi(u,p),u.g.has(p)}i.forEach=function(u,p){an(this),this.g.forEach(function(b,w){b.forEach(function(L){u.call(p,L,w,this)},this)},this)};function Pl(u,p){an(u);let b=[];if(typeof p=="string")Ll(u,p)&&(b=b.concat(u.g.get(gi(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)b=b.concat(u[p]);return b}i.set=function(u,p){return an(this),this.i=null,u=gi(this,u),Ll(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},i.get=function(u,p){return u?(u=Pl(this,u),u.length>0?String(u[0]):p):p};function ga(u,p,b){Sc(u,p),b.length>0&&(u.i=null,u.g.set(gi(u,p),Q(b)),u.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var b=p[w];const L=Ls(b);b=Pl(this,b);for(let B=0;B<b.length;B++){let se=L;b[B]!==""&&(se+="="+Ls(b[B])),u.push(se)}}return this.i=u.join("&")};function Nc(u){const p=new mi;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function gi(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function pa(u,p){p&&!u.j&&(an(u),u.i=null,u.g.forEach(function(b,w){const L=w.toLowerCase();w!=L&&(Sc(this,w),ga(this,L,b))},u)),u.j=p}function Gn(u,p){const b=new Bn;if(d.Image){const w=new Image;w.onload=E(Nn,b,"TestLoadImage: loaded",!0,p,w),w.onerror=E(Nn,b,"TestLoadImage: error",!1,p,w),w.onabort=E(Nn,b,"TestLoadImage: abort",!1,p,w),w.ontimeout=E(Nn,b,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function Ul(u,p){const b=new Bn,w=new AbortController,L=setTimeout(()=>{w.abort(),Nn(b,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(B=>{clearTimeout(L),B.ok?Nn(b,"TestPingServer: ok",!0,p):Nn(b,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Nn(b,"TestPingServer: error",!1,p)})}function Nn(u,p,b,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(b)}catch{}}function pi(){this.g=new mc}function ys(u){this.i=u.Sb||null,this.h=u.ab||!1}A(ys,gc),ys.prototype.g=function(){return new xr(this.i,this.h)};function xr(u,p){xt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(xr,xt),i=xr.prototype,i.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,Qn(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?yi(this):Qn(this),this.readyState==3&&ya(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,yi(this))},i.Na=function(u){this.g&&(this.response=u,yi(this))},i.ga=function(){this.g&&yi(this)};function yi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}i.setRequestHeader=function(u,p){this.A.append(u,p)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var b=p.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=p.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let p="";return ee(u,function(b,w){p+=w,p+=":",p+=b,p+=`\r
`}),p}function Er(u,p,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=In(b),typeof u=="string"?b!=null&&Ls(b):$e(u,p,b))}function Je(u){xt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Je,xt);var vs=/^https?$/i,zl=["POST","PUT"];i=Je.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,p,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=S(v(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(B){wr(this,B);return}if(u=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)b.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const B of w.keys())b.set(B,w.get(B));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(zl,p,void 0)>=0)||w||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,se]of b)this.g.setRequestHeader(B,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){wr(this,B)}};function wr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,ql(u),Ps(u)}function ql(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Mt(this,"complete"),Mt(this,"abort"),Ps(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ps(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Tr(this):this.Xa())},i.Xa=function(){Tr(this)};function Tr(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Mt(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var b;if(!(b=p)){var w;if(w=B===0){let se=String(u.D).match(wc)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),w=!vs.test(se?se.toLowerCase():"")}b=w}if(b)Mt(u,"complete"),Mt(u,"success");else{u.o=6;try{var L=Kn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",ql(u)}}finally{Ps(u)}}}}function Ps(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,p||Mt(u,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}i.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),id(p)}};function qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Us(u){const p={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(I(u[w]))continue;var b=bc(u[w]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=p[L]||[];p[L]=B,B.push(b)}he(p,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(u,p,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||p}function vi(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_s("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_s("baseRetryDelayMs",5e3,u),this.Za=_s("retryDelaySeedMs",1e4,u),this.Ta=_s("forwardChannelMaxRetries",2,u),this.va=_s("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(u&&u.concurrentRequestLimit),this.Ba=new pi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=vi.prototype,i.ka=8,i.I=1,i.connect=function(u,p,b,w){Et(0),this.W=u,this.H=p||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Oc(this,null,this.W),bs(this)};function Bl(u){if(va(u),u.I==3){var p=u.V++,b=At(u.J);if($e(b,"SID",u.M),$e(b,"RID",p),$e(b,"TYPE","terminate"),Ar(u,b),p=new Hn(u,u.j,p),p.M=2,p.A=_r(At(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=p.A,b=!0),b||(p.g=kc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),hs(p)}Mc(u)}function _i(u){u.g&&(Fl(u),u.g.cancel(),u.g=null)}function va(u){_i(u),u.v&&(d.clearTimeout(u.v),u.v=null),ba(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function bs(u){if(!jl(u.h)&&!u.m){u.m=!0;var p=u.Ea;De||T(),Ie||(De(),Ie=!0),C.add(p,u),u.D=0}}function _a(u,p){return ms(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=os(v(u.Ea,u,p),Dc(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Hn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=j(B),te(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var p=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=b;break e}if(p===4096||b===this.i.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=Ic(this,L,p),b=At(this.J),$e(b,"RID",u),$e(b,"CVER",22),this.G&&$e(b,"X-HTTP-Session-Id",this.G),Ar(this,b),B&&(this.R?p="headers="+Ls(In(B))+"&"+p:this.u&&Er(b,this.u,B)),Dl(this.h,L),this.Ra&&$e(b,"TYPE","init"),this.S?($e(b,"$req",p),$e(b,"SID","null"),L.U=!0,us(L,b,null)):us(L,b,p),this.I=2}}else this.I==3&&(u?Hl(this,u):this.i.length==0||jl(this.h)||Hl(this))};function Hl(u,p){var b;p?b=p.l:b=u.V++;const w=At(u.J);$e(w,"SID",u.M),$e(w,"RID",b),$e(w,"AID",u.K),Ar(u,w),u.u&&u.o&&Er(w,u.u,u.o),b=new Hn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Ic(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Dl(u.h,b),us(b,w,p)}function Ar(u,p){u.H&&ee(u.H,function(b,w){$e(p,w,b)}),u.l&&ee({},function(b,w){$e(p,w,b)})}function Ic(u,p,b){b=Math.min(u.i.length,b);const w=u.l?v(u.l.Ka,u.l,u):null;e:{var L=u.i;let Se=-1;for(;;){const gt=["count="+b];Se==-1?b>0?(Se=L[0].g,gt.push("ofs="+Se)):Se=0:gt.push("ofs="+Se);let Qe=!0;for(let ct=0;ct<b;ct++){var B=L[ct].g;const Rn=L[ct].map;if(B-=Se,B<0)Se=Math.max(0,L[ct].g-100),Qe=!1;else try{B="req"+B+"_"||"";try{var se=Rn instanceof Map?Rn:Object.entries(Rn);for(const[Es,Yn]of se){let $n=Yn;g(Yn)&&($n=hi(Yn)),gt.push(B+Es+"="+encodeURIComponent($n))}}catch(Es){throw gt.push(B+"type="+encodeURIComponent("_badmap")),Es}}catch{w&&w(Rn)}}if(Qe){se=gt.join("&");break e}}se=void 0}return u=u.i.splice(0,b),p.G=u,se}function Rc(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;De||T(),Ie||(De(),Ie=!0),C.add(p,u),u.A=0}}function Sr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=os(v(u.Da,u),Dc(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=os(v(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),_i(this),Cc(this))};function Fl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Cc(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=At(u.na);$e(p,"RID","rpc"),$e(p,"SID",u.M),$e(p,"AID",u.K),$e(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(p,"TO",u.ia),$e(p,"TYPE","xmlhttp"),Ar(u,p),u.u&&u.o&&Er(p,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=_r(At(p)),b.u=null,b.R=!0,ha(b,u)}i.Va=function(){this.C!=null&&(this.C=null,_i(this),Sr(this),Et(19))};function ba(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function jc(u,p){var b=null;if(u.g==p){ba(u),Fl(u),u.g=null;var w=2}else if(gs(u.h,p))b=p.G,Ml(u.h,p),w=1;else return;if(u.I!=0){if(p.o)if(w==1){b=p.u?p.u.length:0,p=Date.now()-p.F;var L=u.D;w=ua(),Mt(w,new ls(w,b)),bs(u)}else Rc(u);else if(L=p.m,L==3||L==0&&p.X>0||!(w==1&&_a(u,p)||w==2&&Sr(u)))switch(b&&b.length>0&&(p=u.h,p.i=p.i.concat(b)),L){case 1:xs(u,5);break;case 4:xs(u,10);break;case 3:xs(u,6);break;default:xs(u,2)}}}function Dc(u,p){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*p}function xs(u,p){if(u.j.info("Error code "+p),p==2){var b=v(u.bb,u),w=u.Ua;const L=!w;w=new gn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(w,"https"),_r(w),L?Gn(w.toString(),b):Ul(w.toString(),b)}else Et(2);u.I=0,u.l&&u.l.pa(p),Mc(u),va(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Mc(u){if(u.I=0,u.ja=[],u.l){const p=Ol(u.h);(p.length!=0||u.i.length!=0)&&(G(u.ja,p),G(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Oc(u,p,b){var w=b instanceof gn?At(b):new gn(b);if(w.g!="")p&&(w.g=p+"."+w.g),di(w,w.u);else{var L=d.location;w=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const B=new gn(null);w&&Lt(B,w),p&&(B.g=p),L&&di(B,L),b&&(B.h=b),w=B}return b=u.G,p=u.wa,b&&p&&$e(w,b,p),$e(w,"VER",u.ka),Ar(u,w),w}function kc(u,p,b){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new Je(new ys({ab:b})):new Je(u.ma),p.Fa(u.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vc(){}i=Vc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function bi(){}bi.prototype.g=function(u,p){return new tn(u,p)};function tn(u,p){xt.call(this),this.g=new vi(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!I(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new zs(this)}A(tn,xt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Bl(this.g)},tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=hi(u),u=b);p.i.push(new Tt(p.Ya++,u)),p.I==3&&bs(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,tn.Z.N.call(this)};function Lc(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const b in p){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}A(Lc,zt);function Pc(){An.call(this),this.status=1}A(Pc,An);function zs(u){this.g=u}A(zs,Vc),zs.prototype.ra=function(){Mt(this.g,"a")},zs.prototype.qa=function(u){Mt(this.g,new Lc(u))},zs.prototype.pa=function(u){Mt(this.g,new Pc)},zs.prototype.oa=function(){Mt(this.g,"b")},bi.prototype.createWebChannel=bi.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Lb=function(){return new bi},Vb=function(){return ua()},kb=mt,zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Ju=yr,Il.COMPLETE="complete",Ob=Il,pc.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Do=pc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Mb=Je}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const vv="@firebase/firestore",_v="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Mh("@firebase/firestore");function Za(){return Xr.logLevel}function le(i,...e){if(Xr.logLevel<=Le.DEBUG){const n=e.map(_g);Xr.debug(`Firestore (${yl}): ${i}`,...n)}}function oi(i,...e){if(Xr.logLevel<=Le.ERROR){const n=e.map(_g);Xr.error(`Firestore (${yl}): ${i}`,...n)}}function ol(i,...e){if(Xr.logLevel<=Le.WARN){const n=e.map(_g);Xr.warn(`Firestore (${yl}): ${i}`,...n)}}function _g(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Pb(i,r,n)}function Pb(i,e,n){let r=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw oi(r),new Error(r)}function Ye(i,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,i||Pb(e,l,r)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class I6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class R6{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let c=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ri,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ri)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new Ub(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class C6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new C6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=M6(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function Pe(i,e){return i<e?-1:i>e?1:0}function qm(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const l=i.charAt(r),c=e.charAt(r);if(l!==c)return pm(l)===pm(c)?Pe(l,c):pm(l)?1:-1}return Pe(i.length,e.length)}const O6=55296,k6=57343;function pm(i){const e=i.charCodeAt(0);return e>=O6&&e<=k6}function cl(i,e,n){return i.length===e.length&&i.every(((r,l)=>n(r,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="__name__";class Ns{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ns.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=Ns.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Pe(e.length,n.length)}static compareSegments(e,n){const r=Ns.isNumericId(e),l=Ns.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ns.extractNumericId(e).compare(Ns.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class st extends Ns{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const V6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ns{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return V6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xv}static keyField(){return new Kt([xv])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new re(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new re(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new re(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(i,e,n){if(!n)throw new re(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function L6(i,e,n,r){if(e===!0&&r===!0)throw new re(X.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Ev(i){if(!ve.isDocumentKey(i))throw new re(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function wv(i){if(ve.isDocumentKey(i))throw new re(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function qb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Lh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function ks(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new re(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(i);throw new re(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function ac(i,e){if(!qb(i))throw new re(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const d=i[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new re(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=-62135596800,Av=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Av);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Tv)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Av}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ac(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Tv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Dt("string",at._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new at(0,0))}static max(){return new we(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=-1;function P6(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,l=we.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new nr(l,ve.empty(),e)}function U6(i){return new nr(i.readTime,i.key,Ko)}class nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nr(we.min(),ve.empty(),Ko)}static max(){return new nr(we.max(),ve.empty(),Ko)}}function z6(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==q6)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,r)=>{n(e)}))}static reject(e){return new Z(((n,r)=>{r(e)}))}static waitFor(e){return new Z(((n,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&n()}),(y=>r(y)))})),d=!0,c===l&&n()}))}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next((l=>l?Z.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new Z(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const v=y;n(e[v]).next((E=>{d[v]=E,++g,g===c&&r(d)}),(E=>l(E)))}}))}static doWhile(e,n){return new Z(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function H6(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg=-1;function Uh(i){return i==null}function gh(i){return i===0&&1/i==-1/0}function F6(i){return typeof i=="number"&&Number.isInteger(i)&&!gh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="";function G6(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Sv(e)),e=Q6(i.get(n),e);return Sv(e)}function Q6(i,e){let n=e;const r=i.length;for(let l=0;l<r;l++){const c=i.charAt(l);switch(c){case"\0":n+="";break;case Bb:n+="";break;default:n+=c}}return n}function Sv(i){return i+Bb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ur(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Hb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=l??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new Qt(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(e){return new Iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class Iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new kt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Fb("Invalid base64 string: "+c):c}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const K6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const n=K6.exec(i);if(Ye(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ir(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="server_timestamp",Qb="__type__",Kb="__previous_value__",Yb="__local_write_time__";function Eg(i){var n,r;return((r=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[Qb])==null?void 0:r.stringValue)===Gb}function zh(i){const e=i.mapValue.fields[Kb];return Eg(e)?zh(e):e}function Yo(i){const e=sr(i.mapValue.fields[Yb].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n,r,l,c,d,g,y,v,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=E}}const ph="(default)";class $o{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new $o("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof $o&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="__type__",$6="__max__",Gu={mapValue:{}},Xb="__vector__",yh="value";function rr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Eg(i)?4:Z6(i)?9007199254740991:X6(i)?10:11:Ee(28295,{value:i})}function Vs(i,e){if(i===e)return!0;const n=rr(i);if(n!==rr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Yo(i).isEqual(Yo(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=sr(l.timestampValue),g=sr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return ir(l.bytesValue).isEqual(ir(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return vt(l.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(l.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return vt(l.integerValue)===vt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=vt(l.doubleValue),g=vt(c.doubleValue);return d===g?gh(d)===gh(g):isNaN(d)&&isNaN(g)}return!1})(i,e);case 9:return cl(i.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Nv(d)!==Nv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Vs(d[y],g[y])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function Xo(i,e){return(i.values||[]).find((n=>Vs(n,e)))!==void 0}function ul(i,e){if(i===e)return 0;const n=rr(i),r=rr(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=vt(c.integerValue||c.doubleValue),y=vt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(i,e);case 3:return Rv(i.timestampValue,e.timestampValue);case 4:return Rv(Yo(i),Yo(e));case 5:return qm(i.stringValue,e.stringValue);case 6:return(function(c,d){const g=ir(c),y=ir(d);return g.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const E=Pe(g[v],y[v]);if(E!==0)return E}return Pe(g.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Pe(vt(c.latitude),vt(d.latitude));return g!==0?g:Pe(vt(c.longitude),vt(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Cv(i.arrayValue,e.arrayValue);case 10:return(function(c,d){var S,Q,G,J;const g=c.fields||{},y=d.fields||{},v=(S=g[yh])==null?void 0:S.arrayValue,E=(Q=y[yh])==null?void 0:Q.arrayValue,A=Pe(((G=v==null?void 0:v.values)==null?void 0:G.length)||0,((J=E==null?void 0:E.values)==null?void 0:J.length)||0);return A!==0?A:Cv(v,E)})(i.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Gu.mapValue&&d===Gu.mapValue)return 0;if(c===Gu.mapValue)return 1;if(d===Gu.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),v=d.fields||{},E=Object.keys(v);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const S=qm(y[A],E[A]);if(S!==0)return S;const Q=ul(g[y[A]],v[E[A]]);if(Q!==0)return Q}return Pe(y.length,E.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Rv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=sr(i),r=sr(e),l=Pe(n.seconds,r.seconds);return l!==0?l:Pe(n.nanos,r.nanos)}function Cv(i,e){const n=i.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=ul(n[l],r[l]);if(c)return c}return Pe(n.length,r.length)}function hl(i){return Bm(i)}function Bm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=sr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ir(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ve.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Bm(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Bm(n.fields[d])}`;return l+"}"})(i.mapValue):Ee(61005,{value:i})}function Wu(i){switch(rr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(i);return e?16+Wu(e):16;case 5:return 2*i.stringValue.length;case 6:return ir(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Wu(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let l=0;return ur(r.fields,((c,d)=>{l+=c.length+Wu(d)})),l})(i.mapValue);default:throw Ee(13486,{value:i})}}function jv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Hm(i){return!!i&&"integerValue"in i}function wg(i){return!!i&&"arrayValue"in i}function Dv(i){return!!i&&"nullValue"in i}function Mv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function eh(i){return!!i&&"mapValue"in i}function X6(i){var n,r;return((r=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[$b])==null?void 0:r.stringValue)===Xb}function Uo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ur(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Uo(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uo(i.arrayValue.values[n]);return e}return{...i}}function Z6(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===$6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uo(n)}setAll(e){let n=Kt.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=g.popLast()}d?r[g.lastSegment()]=Uo(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];eh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){ur(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new fn(Uo(this.value))}}function Zb(i){const e=[];return ur(i.fields,((n,r)=>{const l=new Kt([n]);if(eh(r)){const c=Zb(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,l,c,d,g){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Jt(e,0,we.min(),we.min(),we.min(),fn.empty(),0)}static newFoundDocument(e,n,r,l){return new Jt(e,1,n,we.min(),r,l,0)}static newNoDocument(e,n){return new Jt(e,2,n,we.min(),we.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,we.min(),we.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.position=e,this.inclusive=n}}function Ov(i,e,n){let r=0;for(let l=0;l<i.position.length;l++){const c=e[l],d=i.position[l];if(c.field.isKeyField()?r=ve.comparator(ve.fromName(d.referenceValue),n.key):r=ul(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function kv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Vs(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function J6(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{}class jt extends Jb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eI(e,n,r):n==="array-contains"?new sI(e,r):n==="in"?new iI(e,r):n==="not-in"?new rI(e,r):n==="array-contains-any"?new aI(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tI(e,r):new nI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ul(n,this.value)):n!==null&&rr(this.value)===rr(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends Jb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ss(e,n)}matches(e){return Wb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wb(i){return i.op==="and"}function ex(i){return W6(i)&&Wb(i)}function W6(i){for(const e of i.filters)if(e instanceof ss)return!1;return!0}function Fm(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+hl(i.value);if(ex(i))return i.filters.map((e=>Fm(e))).join(",");{const e=i.filters.map((n=>Fm(n))).join(",");return`${i.op}(${e})`}}function tx(i,e){return i instanceof jt?(function(r,l){return l instanceof jt&&r.op===l.op&&r.field.isEqual(l.field)&&Vs(r.value,l.value)})(i,e):i instanceof ss?(function(r,l){return l instanceof ss&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&tx(d,l.filters[g])),!0):!1})(i,e):void Ee(19439)}function nx(i){return i instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`})(i):i instanceof ss?(function(n){return n.op.toString()+" {"+n.getFilters().map(nx).join(" ,")+"}"})(i):"Filter"}class eI extends jt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class tI extends jt{constructor(e,n){super(e,"in",n),this.keys=sx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class nI extends jt{constructor(e,n){super(e,"not-in",n),this.keys=sx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function sx(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ve.fromName(r.referenceValue)))}class sI extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wg(n)&&Xo(n.arrayValue,this.value)}}class iI extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xo(this.value.arrayValue,n)}}class rI extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xo(this.value.arrayValue,n)}}class aI extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Xo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Vv(i,e=null,n=[],r=[],l=null,c=null,d=null){return new lI(i,e,n,r,l,c,d)}function Tg(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Fm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>hl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>hl(r))).join(",")),e.Te=n}return e.Te}function Ag(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!J6(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!tx(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!kv(i.startAt,e.startAt)&&kv(i.endAt,e.endAt)}function Gm(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n=null,r=[],l=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oI(i,e,n,r,l,c,d,g){return new lc(i,e,n,r,l,c,d,g)}function Sg(i){return new lc(i)}function Lv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ix(i){return i.collectionGroup!==null}function zo(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new kt(Kt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new _h(c,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new _h(Kt.keyField(),r))}return e.Ie}function Cs(i){const e=Ae(i);return e.Ee||(e.Ee=cI(e,zo(i))),e.Ee}function cI(i,e){if(i.limitType==="F")return Vv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new _h(l.field,c)}));const n=i.endAt?new vh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new vh(i.startAt.position,i.startAt.inclusive):null;return Vv(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function Qm(i,e){const n=i.filters.concat([e]);return new lc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Km(i,e,n){return new lc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function qh(i,e){return Ag(Cs(i),Cs(e))&&i.limitType===e.limitType}function rx(i){return`${Tg(Cs(i))}|lt:${i.limitType}`}function Ja(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>nx(l))).join(", ")}]`),Uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>hl(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>hl(l))).join(",")),`Target(${r})`})(Cs(i))}; limitType=${i.limitType})`}function Bh(i,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ve.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,l){for(const c of zo(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const v=Ov(d,g,y);return d.inclusive?v<=0:v<0})(r.startAt,zo(r),l)||r.endAt&&!(function(d,g,y){const v=Ov(d,g,y);return d.inclusive?v>=0:v>0})(r.endAt,zo(r),l))})(i,e)}function uI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ax(i){return(e,n)=>{let r=!1;for(const l of zo(i)){const c=hI(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function hI(i,e,n){const r=i.field.isKeyField()?ve.comparator(e.key,n.key):(function(c,d,g){const y=d.data.field(c),v=g.data.field(c);return y!==null&&v!==null?ul(y,v):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ur(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return Hb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new ht(ve.comparator);function ci(){return dI}const lx=new ht(ve.comparator);function Mo(...i){let e=lx;for(const n of i)e=e.insert(n.key,n);return e}function ox(i){let e=lx;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Fr(){return qo()}function cx(){return qo()}function qo(){return new ia((i=>i.toString()),((i,e)=>i.isEqual(e)))}const fI=new ht(ve.comparator),mI=new kt(ve.comparator);function Ue(...i){let e=mI;for(const n of i)e=e.add(n);return e}const gI=new kt(Pe);function pI(){return gI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function ux(i){return{integerValue:""+i}}function yI(i,e){return F6(e)?ux(e):Ng(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function vI(i,e,n){return i instanceof Zo?(function(l,c){const d={fields:{[Qb]:{stringValue:Gb},[Yb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Eg(c)&&(c=zh(c)),c&&(d.fields[Kb]=c),{mapValue:d}})(n,e):i instanceof Jo?dx(i,e):i instanceof Wo?fx(i,e):(function(l,c){const d=hx(l,c),g=Pv(d)+Pv(l.Ae);return Hm(d)&&Hm(l.Ae)?ux(g):Ng(l.serializer,g)})(i,e)}function _I(i,e,n){return i instanceof Jo?dx(i,e):i instanceof Wo?fx(i,e):n}function hx(i,e){return i instanceof bh?(function(r){return Hm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Zo extends Hh{}class Jo extends Hh{constructor(e){super(),this.elements=e}}function dx(i,e){const n=mx(e);for(const r of i.elements)n.some((l=>Vs(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Wo extends Hh{constructor(e){super(),this.elements=e}}function fx(i,e){let n=mx(e);for(const r of i.elements)n=n.filter((l=>!Vs(l,r)));return{arrayValue:{values:n}}}class bh extends Hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Pv(i){return vt(i.integerValue||i.doubleValue)}function mx(i){return wg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.field=e,this.transform=n}}function xI(i,e){return i.field.isEqual(e.field)&&(function(r,l){return r instanceof Jo&&l instanceof Jo||r instanceof Wo&&l instanceof Wo?cl(r.elements,l.elements,Vs):r instanceof bh&&l instanceof bh?Vs(r.Ae,l.Ae):r instanceof Zo&&l instanceof Zo})(i.transform,e.transform)}class EI{constructor(e,n){this.version=e,this.transformResults=n}}class es{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Fh{}function gx(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new yx(i.key,es.none()):new oc(i.key,i.data,es.none());{const n=i.data,r=fn.empty();let l=new kt(Kt.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new hr(i.key,r,new wn(l.toArray()),es.none())}}function wI(i,e,n){i instanceof oc?(function(l,c,d){const g=l.value.clone(),y=zv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,n):i instanceof hr?(function(l,c,d){if(!th(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=zv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(px(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(i,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Bo(i,e,n,r){return i instanceof oc?(function(c,d,g,y){if(!th(c.precondition,d))return g;const v=c.value.clone(),E=qv(c.fieldTransforms,y,d);return v.setAll(E),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(i,e,n,r):i instanceof hr?(function(c,d,g,y){if(!th(c.precondition,d))return g;const v=qv(c.fieldTransforms,y,d),E=d.data;return E.setAll(px(c)),E.setAll(v),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(i,e,n,r):(function(c,d,g){return th(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(i,e,n)}function TI(i,e){let n=null;for(const r of i.fieldTransforms){const l=e.data.field(r.field),c=hx(r.transform,l||null);c!=null&&(n===null&&(n=fn.empty()),n.set(r.field,c))}return n||null}function Uv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&cl(r,l,((c,d)=>xI(c,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class oc extends Fh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hr extends Fh{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function px(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function zv(i,e,n){const r=new Map;Ye(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let l=0;l<n.length;l++){const c=i[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,_I(d,g,n[l]))}return r}function qv(i,e,n){const r=new Map;for(const l of i){const c=l.transform,d=n.data.field(l.field);r.set(l.field,vI(c,d,e))}return r}class yx extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AI extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&wI(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cx();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const y=gx(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,((n,r)=>Uv(n,r)))&&cl(this.baseMutations,e.baseMutations,((n,r)=>Uv(n,r)))}}class Ig{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return fI})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Ig(e,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Be;function RI(i){switch(i){case X.OK:return Ee(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function vx(i){if(i===void 0)return oi("GRPC error has no .code"),X.UNKNOWN;switch(i){case Ct.OK:return X.OK;case Ct.CANCELLED:return X.CANCELLED;case Ct.UNKNOWN:return X.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return X.INTERNAL;case Ct.UNAVAILABLE:return X.UNAVAILABLE;case Ct.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ct.NOT_FOUND:return X.NOT_FOUND;case Ct.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ct.ABORTED:return X.ABORTED;case Ct.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ct.DATA_LOSS:return X.DATA_LOSS;default:return Ee(39323,{code:i})}}(Be=Ct||(Ct={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Ji([4294967295,4294967295],0);function Bv(i){const e=CI().encode(i),n=new Db;return n.update(e),new Uint8Array(n.digest())}function Hv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ji([n,r],0),new Ji([l,c],0)]}class Rg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oo(`Invalid padding: ${n}`);if(r<0)throw new Oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ji.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(Ji.fromNumber(r)));return l.compare(jI)===1&&(l=new Ji([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Bv(e),[r,l]=Hv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Rg(c,l,n);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=Bv(e),[r,l]=Hv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gh(we.min(),l,new ht(Pe),ci(),Ue())}}class cc{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cc(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class _x{constructor(e,n){this.targetId=e,this.Ce=n}}class bx{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class Fv{constructor(){this.ve=0,this.Fe=Gv(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Ee(38017,{changeType:c})}})),new cc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Gv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ci(),this.Je=Qu(),this.He=Qu(),this.Ye=new ht(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Gm(c))if(r===0){const d=new ve(c.path);this.et(n,d,Jt.newNoDocument(d,we.min()))}else Ye(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=ir(r).toUint8Array()}catch(y){if(y instanceof Fb)return ol("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Rg(d,l,c)}catch(y){return ol(y instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Gm(g.target)){const y=new ve(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Jt.newNoDocument(y,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let r=Ue();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Gh(e,n,this.Ye,this.je,r);return this.je=ci(),this.Je=Qu(),this.He=Qu(),this.Ye=new ht(Pe),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Fv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Fv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qu(){return new ht(ve.comparator)}function Gv(){return new ht(ve.comparator)}const MI={asc:"ASCENDING",desc:"DESCENDING"},OI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kI={and:"AND",or:"OR"};class VI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ym(i,e){return i.useProto3Json||Uh(e)?e:{value:e}}function xh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xx(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function LI(i,e){return xh(i,e.toTimestamp())}function js(i){return Ye(!!i,49232),we.fromTimestamp((function(n){const r=sr(n);return new at(r.seconds,r.nanos)})(i))}function Cg(i,e){return $m(i,e).canonicalString()}function $m(i,e){const n=(function(l){return new st(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?n:n.child(e)}function Ex(i){const e=st.fromString(i);return Ye(Nx(e),10190,{key:e.toString()}),e}function Xm(i,e){return Cg(i.databaseId,e.path)}function ym(i,e){const n=Ex(e);if(n.get(1)!==i.databaseId.projectId)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(Tx(n))}function wx(i,e){return Cg(i.databaseId,e)}function PI(i){const e=Ex(i);return e.length===4?st.emptyPath():Tx(e)}function Zm(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Tx(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Qv(i,e,n){return{name:Xm(i,e),fields:n.value.mapValue.fields}}function UI(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ee(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(v,E){return v.useProto3Json?(Ye(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(v){const E=v.code===void 0?X.UNKNOWN:vx(v.code);return new re(E,v.message||"")})(d);n=new bx(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=ym(i,r.document.name),c=js(r.document.updateTime),d=r.document.createTime?js(r.document.createTime):we.min(),g=new fn({mapValue:{fields:r.document.fields}}),y=Jt.newFoundDocument(l,c,d,g),v=r.targetIds||[],E=r.removedTargetIds||[];n=new nh(v,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=ym(i,r.document),c=r.readTime?js(r.readTime):we.min(),d=Jt.newNoDocument(l,c),g=r.removedTargetIds||[];n=new nh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=ym(i,r.document),c=r.removedTargetIds||[];n=new nh([],c,l,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new II(l,c),g=r.targetId;n=new _x(g,d)}}return n}function zI(i,e){let n;if(e instanceof oc)n={update:Qv(i,e.key,e.value)};else if(e instanceof yx)n={delete:Xm(i,e.key)};else if(e instanceof hr)n={update:Qv(i,e.key,e.data),updateMask:$I(e.fieldMask)};else{if(!(e instanceof AI))return Ee(16599,{Vt:e.type});n={verify:Xm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof Zo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Jo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Wo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof bh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:LI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(i,e.precondition)),n}function qI(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((n=>(function(l,c){let d=l.updateTime?js(l.updateTime):js(c);return d.isEqual(we.min())&&(d=js(c)),new EI(d,l.transformResults||[])})(n,e)))):[]}function BI(i,e){return{documents:[wx(i,e.path)]}}function HI(i,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wx(i,l);const c=(function(v){if(v.length!==0)return Sx(ss.create(v,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((E=>(function(S){return{field:Wa(S.field),direction:QI(S.dir)}})(E)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Ym(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:l}}function FI(i){let e=PI(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ye(r===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(A){const S=Ax(A);return S instanceof ss&&ex(S)?S.getFilters():[S]})(n.where));let d=[];n.orderBy&&(d=(function(A){return A.map((S=>(function(G){return new _h(el(G.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(S)))})(n.orderBy));let g=null;n.limit&&(g=(function(A){let S;return S=typeof A=="object"?A.value:A,Uh(S)?null:S})(n.limit));let y=null;n.startAt&&(y=(function(A){const S=!!A.before,Q=A.values||[];return new vh(Q,S)})(n.startAt));let v=null;return n.endAt&&(v=(function(A){const S=!A.before,Q=A.values||[];return new vh(Q,S)})(n.endAt)),oI(e,l,d,c,g,"F",y,v)}function GI(i,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ax(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=el(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=el(n.unaryFilter.field);return jt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=el(n.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=el(n.unaryFilter.field);return jt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return jt.create(el(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ss.create(n.compositeFilter.filters.map((r=>Ax(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function QI(i){return MI[i]}function KI(i){return OI[i]}function YI(i){return kI[i]}function Wa(i){return{fieldPath:i.canonicalString()}}function el(i){return Kt.fromServerFormat(i.fieldPath)}function Sx(i){return i instanceof jt?(function(n){if(n.op==="=="){if(Mv(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(Dv(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mv(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(Dv(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:KI(n.op),value:n.value}}})(i):i instanceof ss?(function(n){const r=n.getFilters().map((l=>Sx(l)));return r.length===1?r[0]:{compositeFilter:{op:YI(n.op),filters:r}}})(i):Ee(54877,{filter:i})}function $I(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Nx(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r,l,c=we.min(),d=we.min(),g=Yt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.yt=e}}function ZI(i){const e=FI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.Cn=new WI}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(nr.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class WI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new kt(st.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new kt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ix=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(Ix,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new dl(0)}static cr(){return new dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="LruGarbageCollector",eR=1048576;function $v([i,e],[n,r]){const l=Pe(i,n);return l===0?Pe(e,r):l}class tR{constructor(e){this.Ir=e,this.buffer=new kt($v),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$v(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(Yv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_l(n)?le(Yv,"Ignoring IndexedDB error during garbage collection: ",n):await vl(n)}await this.Vr(3e5)}))}}class sR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Ph.ce);const r=new tR(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Kv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,c,d,g,y,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(r=A,g=Date.now(),this.removeTargets(e,r,n)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(v=Date.now(),Za()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(v-y)+`ms
Total Duration: ${v-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function iR(i,e){return new sR(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.changes=new ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Bo(r.mutation,l,wn.empty(),at.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ue()){const l=Fr();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let d=Mo();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=Fr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ue())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,r,l){let c=ci();const d=qo(),g=(function(){return qo()})();return n.forEach(((y,v)=>{const E=r.get(v.key);l.has(v.key)&&(E===void 0||E.mutation instanceof hr)?c=c.insert(v.key,v):E!==void 0?(d.set(v.key,E.mutation.getFieldMask()),Bo(E.mutation,v,E.mutation.getFieldMask(),at.now())):d.set(v.key,wn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((v,E)=>d.set(v,E))),n.forEach(((v,E)=>g.set(v,new aR(E,d.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=qo();let l=new ht(((d,g)=>d-g)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const v=n.get(y);if(v===null)return;let E=r.get(y)||wn.empty();E=g.applyToLocalView(v,E),r.set(y,E);const A=(l.get(g.batchId)||Ue()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,E=y.value,A=cx();E.forEach((S=>{if(!c.has(S)){const Q=gx(n.get(S),r.get(S));Q!==null&&A.set(S,Q),c=c.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,A))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ix(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):Z.resolve(Fr());let g=Ko,y=c;return d.next((v=>Z.forEach(v,((E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{y=y.insert(E,S)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,y,v,Ue()))).next((E=>({batchId:g,changes:ox(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((r=>{let l=Mo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let d=Mo();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(y=>{const v=(function(A,S){return new lc(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,r,l).next((E=>{E.forEach(((A,S)=>{d=d.insert(A,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((d=>{c.forEach(((y,v)=>{const E=v.getKey();d.get(E)===null&&(d=d.insert(E,Jt.newInvalidDocument(E)))}));let g=Mo();return d.forEach(((y,v)=>{const E=c.get(y);E!==void 0&&Bo(E.mutation,v,wn.empty(),at.now()),Bh(n,v)&&(g=g.insert(y,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:js(l.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:ZI(l.bundledQuery),readTime:js(l.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.overlays=new ht(ve.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fr();return Z.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.St(e,n,c)})),Z.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const l=Fr(),c=n.length+1,d=new ve(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new ht(((v,E)=>v-E));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let E=c.get(v.largestBatchId);E===null&&(E=Fr(),c=c.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const g=Fr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,E)=>g.set(v,E))),!(g.size()>=l)););return Z.resolve(g)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new NI(n,r));let c=this.qr.get(n);c===void 0&&(c=Ue(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.Qr=new kt(Ut.$r),this.Ur=new kt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ve(new st([])),r=new Ut(n,e),l=new Ut(n,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new st([])),r=new Ut(n,e),l=new Ut(n,e+1);let c=Ue();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Ut.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new SI(c,n,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ut(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?xg:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),l=new Ut(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Pe);return n.forEach((l=>{const c=new Ut(l,0),d=new Ut(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;ve.isDocumentKey(c)||(c=c.child(""));const d=new Ut(new ve(c),0);let g=new kt(Pe);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(n.mutations,(l=>{const c=new Ut(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ut(n,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.ri=e,this.docs=(function(){return new ht(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=ci();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Jt.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=ci();const d=n.path,g=new ve(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:E}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||z6(U6(E),r)<=0||(l.has(E.key)||Bh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,n,r,l){Ee(9500)}ii(e,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new fR(this)}getSize(e){return Z.resolve(this.size)}}class fR extends rR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.persistence=e,this.si=new ia((n=>Tg(n)),Ag),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new jg,this.targetCount=0,this.ai=dl.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new uR,this.referenceDelegate=e(this),this.Pi=new mR(this),this.indexManager=new JI,this.remoteDocumentCache=(function(l){return new dR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new XI(n),this.Ii=new oR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new hR(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const l=new gR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class gR extends B6{constructor(e){super(),this.currentSequenceNumber=e}}class Dg{constructor(e){this.persistence=e,this.Ri=new jg,this.Vi=null}static mi(e){return new Dg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=ve.fromPath(r);return this.gi(e,l).next((c=>{c||n.removeEntry(l,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.pi=new ia((r=>G6(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=iR(this,n)}static mi(e,n){return new Eh(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?Z.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((g=>{g||(r++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wu(e.data.value)),n}br(e,n,r){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Ue(),l=Ue();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Mg(e,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FA()?8:H6(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new pR;return this.Ss(e,n,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,n,d,g.size)}))})).next((()=>c.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(Za()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Za()<=Le.DEBUG&&le("QueryEngine","Query:",Ja(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Za()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cs(n))):Z.resolve())}ys(e,n){if(Lv(n))return Z.resolve(null);let r=Cs(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Km(n,null,"F"),r=Cs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ue(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const v=this.Ds(n,g);return this.Cs(n,v,d,y.readTime)?this.ys(e,Km(n,null,"F")):this.vs(e,v,n,y)}))))})))))}ws(e,n,r,l){return Lv(n)||l.isEqual(we.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,r,l)?Z.resolve(null):(Za()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ja(n)),this.vs(e,d,n,P6(l,Ko)).next((g=>g)))}))}Ds(e,n){let r=new kt(ax(e));return n.forEach(((l,c)=>{Bh(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,r){return Za()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ps.getDocumentsMatchingQuery(e,n,nr.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="LocalStore",vR=3e8;class _R{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ht(Pe),this.xs=new ia((c=>Tg(c)),Ag),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function bR(i,e,n,r){return new _R(i,e,n,r)}async function Cx(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let y=Ue();for(const v of l){d.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}for(const v of c){g.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(r,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function xR(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,v,E){const A=v.batch,S=A.keys();let Q=Z.resolve();return S.forEach((G=>{Q=Q.next((()=>E.getEntry(y,G))).next((J=>{const W=v.docVersions.get(G);Ye(W!==null,48541),J.version.compareTo(W)<0&&(A.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),E.addEntry(J)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=Ue();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function jx(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ER(i,e){const n=Ae(i),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((E,A)=>{const S=l.get(A);if(!S)return;g.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,A))));let Q=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?Q=Q.withResumeToken(Yt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(E.resumeToken,r)),l=l.insert(A,Q),(function(J,W,ge){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=vR?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0})(S,Q,E)&&g.push(n.Pi.updateTargetData(c,Q))}));let y=ci(),v=Ue();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(wR(c,d,e.documentUpdates).next((E=>{y=E.ks,v=E.qs}))),!r.isEqual(we.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((A=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(E)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(n.Ms=l,c)))}function wR(i,e,n){let r=Ue(),l=Ue();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let d=ci();return n.forEach(((g,y)=>{const v=c.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(we.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):le(Og,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function TR(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=xg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function AR(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((c=>c?(l=c,Z.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new Yi(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Jm(i,e,n){const r=Ae(i),l=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_l(d))throw d;le(Og,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function Xv(i,e,n){const r=Ae(i);let l=we.min(),c=Ue();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,E){const A=Ae(y),S=A.xs.get(E);return S!==void 0?Z.resolve(A.Ms.get(S)):A.Pi.getTargetData(v,E)})(r,d,Cs(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,n?l:we.min(),n?c:Ue()))).next((g=>(SR(r,uI(e),g),{documents:g,Qs:c})))))}function SR(i,e,n){let r=i.Os.get(e)||we.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Os.set(e,r)}class Zv{constructor(){this.activeTargetIds=pI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NR{constructor(){this.Mo=new Zv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Zv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="ConnectivityMonitor";class Wv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(Jv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(Jv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function Wm(){return Ku===null?Ku=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="RestConnection",RR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===ph?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,c){const d=Wm(),g=this.zo(e,n.toUriEncodedString());le(vm,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:v}=new URL(g),E=ml(v);return this.Jo(e,g,y,r,E).then((A=>(le(vm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw ol(vm,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(e,n,r,l,c,d){return this.Go(e,n,r,l,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const r=RR[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class DR extends CR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,c){const d=Wm();return new Promise(((g,y)=>{const v=new Mb;v.setWithCredentials(!0),v.listenOnce(Ob.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Ju.NO_ERROR:const A=v.getResponseJson();le(Xt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Ju.TIMEOUT:le(Xt,`RPC '${e}' ${d} timed out`),y(new re(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const S=v.getStatus();if(le(Xt,`RPC '${e}' ${d} failed with status:`,S,"response text:",v.getResponseText()),S>0){let Q=v.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const G=Q==null?void 0:Q.error;if(G&&G.status&&G.message){const J=(function(ge){const ae=ge.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ae)>=0?ae:X.UNKNOWN})(G.status);y(new re(J,G.message))}else y(new re(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new re(X.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{le(Xt,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(l);le(Xt,`RPC '${e}' ${d} sending request:`,l),v.send(n,"POST",E,r,15)}))}T_(e,n,r){const l=Wm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Lb(),g=Vb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const E=c.join("");le(Xt,`Creating RPC '${e}' stream ${l}: ${E}`,y);const A=d.createWebChannel(E,y);this.I_(A);let S=!1,Q=!1;const G=new jR({Yo:W=>{Q?le(Xt,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(S||(le(Xt,`Opening RPC '${e}' stream ${l} transport.`),A.open(),S=!0),le(Xt,`RPC '${e}' stream ${l} sending:`,W),A.send(W))},Zo:()=>A.close()}),J=(W,ge,ae)=>{W.listen(ge,(fe=>{try{ae(fe)}catch(Ce){setTimeout((()=>{throw Ce}),0)}}))};return J(A,Do.EventType.OPEN,(()=>{Q||(le(Xt,`RPC '${e}' stream ${l} transport opened.`),G.o_())})),J(A,Do.EventType.CLOSE,(()=>{Q||(Q=!0,le(Xt,`RPC '${e}' stream ${l} transport closed`),G.a_(),this.E_(A))})),J(A,Do.EventType.ERROR,(W=>{Q||(Q=!0,ol(Xt,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),G.a_(new re(X.UNAVAILABLE,"The operation could not be completed")))})),J(A,Do.EventType.MESSAGE,(W=>{var ge;if(!Q){const ae=W.data[0];Ye(!!ae,16349);const fe=ae,Ce=(fe==null?void 0:fe.error)||((ge=fe[0])==null?void 0:ge.error);if(Ce){le(Xt,`RPC '${e}' stream ${l} received error:`,Ce);const De=Ce.status;let Ie=(function(N){const O=Ct[N];if(O!==void 0)return vx(O)})(De),C=Ce.message;Ie===void 0&&(Ie=X.INTERNAL,C="Unknown error status: "+De+" with message "+Ce.message),Q=!0,G.a_(new re(Ie,C)),A.close()}else le(Xt,`RPC '${e}' stream ${l} received:`,ae),G.u_(ae)}})),J(g,kb.STAT_EVENT,(W=>{W.stat===zm.PROXY?le(Xt,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===zm.NOPROXY&&le(Xt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(i){return new VI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="PersistentStream";class Mx{constructor(e,n,r,l,c,d,g,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new re(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(e_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(e_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MR extends Mx{constructor(e,n,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?js(d.readTime):we.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Zm(this.serializer),n.addTarget=(function(c,d){let g;const y=d.target;if(g=Gm(y)?{documents:BI(c,y)}:{query:HI(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=xx(c,d.resumeToken);const v=Ym(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(we.min())>0){g.readTime=xh(c,d.snapshotVersion.toTimestamp());const v=Ym(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const r=GI(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.q_(n)}}class OR extends Mx{constructor(e,n,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qI(e.writeResults,e.commitTime),r=js(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Zm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>zI(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{}class VR extends kR{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,$m(n,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new re(X.UNKNOWN,c.toString())}))}Ho(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,$m(n,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new re(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oi(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="RemoteStore";class PR{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ra(this)&&(le(Zr,"Restarting streams for network reachability change."),await(async function(y){const v=Ae(y);v.Ea.add(4),await uc(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Kh(v)})(this))}))})),this.Ra=new LR(r,l)}}async function Kh(i){if(ra(i))for(const e of i.da)await e(!0)}async function uc(i){for(const e of i.da)await e(!1)}function Ox(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pg(n)?Lg(n):bl(n).O_()&&Vg(n,e))}function kg(i,e){const n=Ae(i),r=bl(n);n.Ia.delete(e),r.O_()&&kx(n,e),n.Ia.size===0&&(r.O_()?r.L_():ra(n)&&n.Ra.set("Unknown"))}function Vg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bl(i).Y_(e)}function kx(i,e){i.Va.Ue(e),bl(i).Z_(e)}function Lg(i){i.Va=new DI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),bl(i).start(),i.Ra.ua()}function Pg(i){return ra(i)&&!bl(i).x_()&&i.Ia.size>0}function ra(i){return Ae(i).Ea.size===0}function Vx(i){i.Va=void 0}async function UR(i){i.Ra.set("Online")}async function zR(i){i.Ia.forEach(((e,n)=>{Vg(i,e)}))}async function qR(i,e){Vx(i),Pg(i)?(i.Ra.ha(e),Lg(i)):i.Ra.set("Unknown")}async function BR(i,e,n){if(i.Ra.set("Online"),e instanceof bx&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(i,e)}catch(r){le(Zr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(i,r)}else if(e instanceof nh?i.Va.Ze(e):e instanceof _x?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const r=await jx(i.localStore);n.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(v);E&&c.Ia.set(v,E.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,v)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),kx(c,y);const A=new Yi(E.target,y,v,E.sequenceNumber);Vg(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(i,n)}catch(r){le(Zr,"Failed to raise snapshot:",r),await wh(i,r)}}async function wh(i,e,n){if(!_l(e))throw e;i.Ea.add(1),await uc(i),i.Ra.set("Offline"),n||(n=()=>jx(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{le(Zr,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Kh(i)}))}function Lx(i,e){return e().catch((n=>wh(i,n,e)))}async function Yh(i){const e=Ae(i),n=ar(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xg;for(;HR(e);)try{const l=await TR(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,FR(e,l)}catch(l){await wh(e,l)}Px(e)&&Ux(e)}function HR(i){return ra(i)&&i.Ta.length<10}function FR(i,e){i.Ta.push(e);const n=ar(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Px(i){return ra(i)&&!ar(i).x_()&&i.Ta.length>0}function Ux(i){ar(i).start()}async function GR(i){ar(i).ra()}async function QR(i){const e=ar(i);for(const n of i.Ta)e.ea(n.mutations)}async function KR(i,e,n){const r=i.Ta.shift(),l=Ig.from(r,e,n);await Lx(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await Yh(i)}async function YR(i,e){e&&ar(i).X_&&await(async function(r,l){if((function(d){return RI(d)&&d!==X.ABORTED})(l.code)){const c=r.Ta.shift();ar(r).B_(),await Lx(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Yh(r)}})(i,e),Px(i)&&Ux(i)}async function t_(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),le(Zr,"RemoteStore received new credentials");const r=ra(n);n.Ea.add(3),await uc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kh(n)}async function $R(i,e){const n=Ae(i);e?(n.Ea.delete(2),await Kh(n)):e||(n.Ea.add(2),await uc(n),n.Ra.set("Unknown"))}function bl(i){return i.ma||(i.ma=(function(n,r,l){const c=Ae(n);return c.sa(),new MR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:UR.bind(null,i),t_:zR.bind(null,i),r_:qR.bind(null,i),H_:BR.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Pg(i)?Lg(i):i.Ra.set("Unknown")):(await i.ma.stop(),Vx(i))}))),i.ma}function ar(i){return i.fa||(i.fa=(function(n,r,l){const c=Ae(n);return c.sa(),new OR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:GR.bind(null,i),r_:YR.bind(null,i),ta:QR.bind(null,i),na:KR.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Yh(i)):(await i.fa.stop(),i.Ta.length>0&&(le(Zr,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const d=Date.now()+r,g=new Ug(e,n,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(i,e){if(oi("AsyncQueue",`${e}: ${i}`),_l(i))return new re(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{static emptySet(e){return new rl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Mo(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.ga=new ht(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class fl{constructor(e,n,r,l,c,d,g,y,v){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,r,l,c){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new fl(e,n,rl.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZR{constructor(){this.queries=s_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Ae(n),c=l.queries;l.queries=s_(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new re(X.ABORTED,"Firestore shutting down"))}}function s_(){return new ia((i=>rx(i)),qh)}async function zx(i,e){const n=Ae(i);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new XR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=zg(d,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&qg(n)}async function qx(i,e){const n=Ae(i),r=e.query;let l=3;const c=n.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JR(i,e){const n=Ae(i);let r=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&qg(n)}function WR(i,e,n){const r=Ae(i),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(e)}function qg(i){i.Ca.forEach((e=>{e.next()}))}var eg,i_;(i_=eg||(eg={})).Ma="default",i_.Cache="cache";class Bx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.key=e}}class Fx{constructor(e){this.key=e}}class eC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=ax(e),this.tu=new rl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new n_,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,A)=>{const S=l.get(E),Q=Bh(this.query,A)?A:null,G=!!S&&this.mutatedKeys.has(S.key),J=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let W=!1;S&&Q?S.data.isEqual(Q.data)?G!==J&&(r.track({type:3,doc:Q}),W=!0):this.su(S,Q)||(r.track({type:2,doc:Q}),W=!0,(y&&this.eu(Q,y)>0||v&&this.eu(Q,v)<0)&&(g=!0)):!S&&Q?(r.track({type:0,doc:Q}),W=!0):S&&!Q&&(r.track({type:1,doc:S}),W=!0,(y||v)&&(g=!0)),W&&(Q?(d=d.add(Q),c=J?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,A)=>(function(Q,G){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:W})}};return J(Q)-J(G)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new fl(this.query,e.tu,c,d,e.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new n_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Fx(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Hx(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bg="SyncEngine";class tC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nC{constructor(e){this.key=e,this.hu=!1}}class sC{constructor(e,n,r,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ia((g=>rx(g)),qh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ve.comparator),this.Au=new Map,this.Ru=new jg,this.Vu={},this.mu=new Map,this.fu=dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iC(i,e,n=!0){const r=Xx(i);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Gx(r,e,n,!0),l}async function rC(i,e){const n=Xx(i);await Gx(n,e,!0,!1)}async function Gx(i,e,n,r){const l=await AR(i.localStore,Cs(e)),c=l.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let g;return r&&(g=await aC(i,e,c,d==="current",l.resumeToken)),i.isPrimaryClient&&n&&Ox(i.remoteStore,l),g}async function aC(i,e,n,r,l){i.pu=(A,S,Q)=>(async function(J,W,ge,ae){let fe=W.view.ru(ge);fe.Cs&&(fe=await Xv(J.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,fe))));const Ce=ae&&ae.targetChanges.get(W.targetId),De=ae&&ae.targetMismatches.get(W.targetId)!=null,Ie=W.view.applyChanges(fe,J.isPrimaryClient,Ce,De);return a_(J,W.targetId,Ie.au),Ie.snapshot})(i,A,S,Q);const c=await Xv(i.localStore,e,!0),d=new eC(e,c.Qs),g=d.ru(c.documents),y=cc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",l),v=d.applyChanges(g,i.isPrimaryClient,y);a_(i,n,v.au);const E=new tC(e,n,d);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),v.snapshot}async function lC(i,e,n){const r=Ae(i),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!qh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Jm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&kg(r.remoteStore,l.targetId),tg(r,l.targetId)})).catch(vl)):(tg(r,l.targetId),await Jm(r.localStore,l.targetId,!0))}async function oC(i,e){const n=Ae(i),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kg(n.remoteStore,r.targetId))}async function cC(i,e,n){const r=pC(i);try{const l=await(function(d,g){const y=Ae(d),v=at.now(),E=g.reduce(((Q,G)=>Q.add(G.key)),Ue());let A,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let G=ci(),J=Ue();return y.Ns.getEntries(Q,E).next((W=>{G=W,G.forEach(((ge,ae)=>{ae.isValidDocument()||(J=J.add(ge))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Q,G))).next((W=>{A=W;const ge=[];for(const ae of g){const fe=TI(ae,A.get(ae.key).overlayedDocument);fe!=null&&ge.push(new hr(ae.key,fe,Zb(fe.value.mapValue),es.exists(!0)))}return y.mutationQueue.addMutationBatch(Q,v,ge,g)})).next((W=>{S=W;const ge=W.applyToLocalDocumentSet(A,J);return y.documentOverlayCache.saveOverlays(Q,W.batchId,ge)}))})).then((()=>({batchId:S.batchId,changes:ox(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new ht(Pe)),v=v.insert(g,y),d.Vu[d.currentUser.toKey()]=v})(r,l.batchId,n),await hc(r,l.changes),await Yh(r.remoteStore)}catch(l){const c=zg(l,"Failed to persist write");n.reject(c)}}async function Qx(i,e){const n=Ae(i);try{const r=await ER(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(Ye(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ye(d.hu,14607):l.removedDocuments.size>0&&(Ye(d.hu,42227),d.hu=!1))})),await hc(n,r,e)}catch(r){await vl(r)}}function r_(i,e,n){const r=Ae(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Ae(d);y.onlineState=g;let v=!1;y.queries.forEach(((E,A)=>{for(const S of A.Sa)S.va(g)&&(v=!0)})),v&&qg(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uC(i,e,n){const r=Ae(i);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new ht(ve.comparator);d=d.insert(c,Jt.newNoDocument(c,we.min()));const g=Ue().add(c),y=new Gh(we.min(),new Map,new ht(Pe),d,g);await Qx(r,y),r.du=r.du.remove(c),r.Au.delete(e),Hg(r)}else await Jm(r.localStore,e,!1).then((()=>tg(r,e,n))).catch(vl)}async function hC(i,e){const n=Ae(i),r=e.batch.batchId;try{const l=await xR(n.localStore,e);Yx(n,r,null),Kx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hc(n,l)}catch(l){await vl(l)}}async function dC(i,e,n){const r=Ae(i);try{const l=await(function(d,g){const y=Ae(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return y.mutationQueue.lookupMutationBatch(v,g).next((A=>(Ye(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(v,A)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,E,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>y.localDocuments.getDocuments(v,E)))}))})(r.localStore,e);Yx(r,e,n),Kx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hc(r,l)}catch(l){await vl(l)}}function Kx(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Yx(i,e,n){const r=Ae(i);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function tg(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||$x(i,r)}))}function $x(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(kg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Hg(i))}function a_(i,e,n){for(const r of n)r instanceof Hx?(i.Ru.addReference(r.key,e),fC(i,r)):r instanceof Fx?(le(Bg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||$x(i,r.key)):Ee(19791,{wu:r})}function fC(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(le(Bg,"New document in limbo: "+n),i.Eu.add(r),Hg(i))}function Hg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ve(st.fromString(e)),r=i.fu.next();i.Au.set(r,new nC(n)),i.du=i.du.insert(n,r),Ox(i.remoteStore,new Yi(Cs(Sg(n.path)),r,"TargetPurposeLimboResolution",Ph.ce))}}async function hc(i,e,n){const r=Ae(i),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,n).then((v=>{var E;if((v||n)&&r.isPrimaryClient){const A=v?!v.fromCache:(E=n==null?void 0:n.targetChanges.get(y.targetId))==null?void 0:E.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(v){l.push(v);const A=Mg.As(y.targetId,v);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,v){const E=Ae(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(v,(S=>Z.forEach(S.Es,(Q=>E.persistence.referenceDelegate.addReference(A,S.targetId,Q))).next((()=>Z.forEach(S.ds,(Q=>E.persistence.referenceDelegate.removeReference(A,S.targetId,Q)))))))))}catch(A){if(!_l(A))throw A;le(Og,"Failed to update sequence numbers: "+A)}for(const A of v){const S=A.targetId;if(!A.fromCache){const Q=E.Ms.get(S),G=Q.snapshotVersion,J=Q.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(S,J)}}})(r.localStore,c))}async function mC(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){le(Bg,"User change. New user:",e.toKey());const r=await Cx(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new re(X.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hc(n,r.Ls)}}function gC(i,e){const n=Ae(i),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let l=Ue();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function Xx(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uC.bind(null,e),e.Pu.H_=JR.bind(null,e.eventManager),e.Pu.yu=WR.bind(null,e.eventManager),e}function pC(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dC.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bR(this.persistence,new yR,e.initialUser,this.serializer)}Cu(e){return new Rx(Dg.mi,this.serializer)}Du(e){return new NR}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class yC extends Th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Rx((r=>Eh.mi(r,n)),this.serializer)}}class ng{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mC.bind(null,this.syncEngine),await $R(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZR})()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),r=(function(c){return new DR(c)})(e.databaseInfo);return(function(c,d,g,y){return new VR(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,d,g){return new PR(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>r_(this.syncEngine,n,0)),(function(){return Wv.v()?new Wv:new IR})())}createSyncEngine(e,n){return(function(l,c,d,g,y,v,E){const A=new sC(l,c,d,g,y,v);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const c=Ae(l);le(Zr,"RemoteStore shutting down."),c.Ea.add(5),await uc(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ng.provider={build:()=>new ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="FirestoreClient";class vC{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Zt.UNAUTHENTICATED,this.clientId=bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{le(lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(le(lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function bm(i,e){i.asyncQueue.verifyOperationInProgress(),le(lr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async l=>{r.isEqual(l)||(await Cx(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function l_(i,e){i.asyncQueue.verifyOperationInProgress();const n=await _C(i);le(lr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>t_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,l)=>t_(e.remoteStore,l))),i._onlineComponents=e}async function _C(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(lr,"Using user provided OfflineComponentProvider");try{await bm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ol("Error using user provided cache. Falling back to memory cache: "+n),await bm(i,new Th)}}else le(lr,"Using default OfflineComponentProvider"),await bm(i,new yC(void 0));return i._offlineComponents}async function Jx(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(lr,"Using user provided OnlineComponentProvider"),await l_(i,i._uninitializedComponentsProvider._online)):(le(lr,"Using default OnlineComponentProvider"),await l_(i,new ng))),i._onlineComponents}function bC(i){return Jx(i).then((e=>e.syncEngine))}async function Wx(i){const e=await Jx(i),n=e.eventManager;return n.onListen=iC.bind(null,e.syncEngine),n.onUnlisten=lC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oC.bind(null,e.syncEngine),n}function xC(i,e,n={}){const r=new ri;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,v){const E=new Zx({next:S=>{E.Nu(),d.enqueueAndForget((()=>qx(c,A)));const Q=S.docs.has(g);!Q&&S.fromCache?v.reject(new re(X.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&S.fromCache&&y&&y.source==="server"?v.reject(new re(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(S)},error:S=>v.reject(S)}),A=new Bx(Sg(g.path),E,{includeMetadataChanges:!0,qa:!0});return zx(c,A)})(await Wx(i),i.asyncQueue,e,n,r))),r.promise}function EC(i,e,n={}){const r=new ri;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,v){const E=new Zx({next:S=>{E.Nu(),d.enqueueAndForget((()=>qx(c,A))),S.fromCache&&y.source==="server"?v.reject(new re(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(S)},error:S=>v.reject(S)}),A=new Bx(g,E,{includeMetadataChanges:!0,qa:!0});return zx(c,A)})(await Wx(i),i.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firestore.googleapis.com",c_=!0;class u_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t2,this.ssl=c_}else this.host=e.host,this.ssl=e.ssl??c_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ix;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eR)throw new re(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e2(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new N6;switch(r.type){case"firstParty":return new j6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=o_.get(n);r&&(le("ComponentProvider","Removing Datastore"),o_.delete(n),r.terminate())})(this),Promise.resolve()}}function wC(i,e,n,r={}){var v;i=ks(i,$h);const l=ml(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},g=`${e}:${n}`;l&&(q_(`https://${g}`),B_("Firestore",!0)),c.host!==t2&&c.host!==g&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:r};if(!tr(y,d)&&(i._setSettings(y),r.mockUserToken)){let E,A;if(typeof r.mockUserToken=="string")E=r.mockUserToken,A=Zt.MOCK_USER;else{E=VA(r.mockUserToken,(v=i._app)==null?void 0:v.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new re(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Zt(S)}i._authCredentials=new I6(new Ub(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xl(this.firestore,e,this._query)}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ac(n,_t._jsonSchema))return new _t(e,r||null,new ve(st.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Dt("string",_t._jsonSchemaVersion),referencePath:Dt("string")};class Wi extends xl{constructor(e,n,r){super(e,n,Sg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new ve(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function Ah(i,e,...n){if(i=bt(i),zb("collection","path",e),i instanceof $h){const r=st.fromString(e,...n);return wv(r),new Wi(i,null,r)}{if(!(i instanceof _t||i instanceof Wi))throw new re(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(st.fromString(e,...n));return wv(r),new Wi(i.firestore,null,r)}}function Sh(i,e,...n){if(i=bt(i),arguments.length===1&&(e=bg.newId()),zb("doc","path",e),i instanceof $h){const r=st.fromString(e,...n);return Ev(r),new _t(i,null,new ve(r))}{if(!(i instanceof _t||i instanceof Wi))throw new re(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(st.fromString(e,...n));return Ev(r),new _t(i.firestore,i instanceof Wi?i.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="AsyncQueue";class d_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dx(this,"async_queue_retry"),this._c=()=>{const r=_m();r&&le(h_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=_m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ri;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;le(h_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,oi("INTERNAL UNHANDLED ERROR: ",f_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Ug.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:f_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function f_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class El extends $h{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new d_,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new d_(e),this._firestoreClient=void 0,await e}}}function TC(i,e){const n=typeof i=="object"?i:ug(),r=typeof i=="string"?i:ph,l=na(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=OA("firestore");c&&wC(l,...c)}return l}function Fg(i){if(i._terminated)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||AC(i),i._firestoreClient}function AC(i){var r,l,c;const e=i._freezeSettings(),n=(function(g,y,v,E){return new Y6(g,y,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,e2(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(i._databaseId,((r=i._app)==null?void 0:r.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new vC(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Yt.fromBase64String(e))}catch(n){throw new re(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ac(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Dt("string",Un._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ds._jsonSchemaVersion}}static fromJSON(e){if(ac(e,Ds._jsonSchema))return new Ds(e.latitude,e.longitude)}}Ds._jsonSchemaVersion="firestore/geoPoint/1.0",Ds._jsonSchema={type:Dt("string",Ds._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ac(e,Ms._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ms(e.vectorValues);throw new re(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ms._jsonSchemaVersion="firestore/vectorValue/1.0",Ms._jsonSchema={type:Dt("string",Ms._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=/^__.*__$/;class NC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new oc(e,this.data,n,this.fieldTransforms)}}class n2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function s2(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Gg{constructor(e,n,r,l,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(s2(this.Ac)&&SC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qh(e)}Cc(e,n,r,l=!1){return new Gg({Ac:e,methodName:n,Dc:r,path:Kt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jh(i){const e=i._freezeSettings(),n=Qh(i._databaseId);return new IC(i._databaseId,!!e.ignoreUndefinedProperties,n)}function i2(i,e,n,r,l,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,e,n,l);Kg("Data must be an object, but it was:",d,r);const g=r2(r,d);let y,v;if(c.merge)y=new wn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const S=sg(e,A,n);if(!d.contains(S))throw new re(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);l2(E,S)||E.push(S)}y=new wn(E),v=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,v=d.fieldTransforms;return new NC(new fn(g),y,v)}class Wh extends Zh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}class Qg extends Zh{_toFieldTransform(e){return new bI(e.path,new Zo)}isEqual(e){return e instanceof Qg}}function RC(i,e,n,r){const l=i.Cc(1,e,n);Kg("Data must be an object, but it was:",l,r);const c=[],d=fn.empty();ur(r,((y,v)=>{const E=Yg(e,y,n);v=bt(v);const A=l.yc(E);if(v instanceof Wh)c.push(E);else{const S=dc(v,A);S!=null&&(c.push(E),d.set(E,S))}}));const g=new wn(c);return new n2(d,g,l.fieldTransforms)}function CC(i,e,n,r,l,c){const d=i.Cc(1,e,n),g=[sg(e,r,n)],y=[l];if(c.length%2!=0)throw new re(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)g.push(sg(e,c[S])),y.push(c[S+1]);const v=[],E=fn.empty();for(let S=g.length-1;S>=0;--S)if(!l2(v,g[S])){const Q=g[S];let G=y[S];G=bt(G);const J=d.yc(Q);if(G instanceof Wh)v.push(Q);else{const W=dc(G,J);W!=null&&(v.push(Q),E.set(Q,W))}}const A=new wn(v);return new n2(E,A,d.fieldTransforms)}function jC(i,e,n,r=!1){return dc(n,i.Cc(r?4:3,e))}function dc(i,e){if(a2(i=bt(i)))return Kg("Unsupported field value:",e,i),r2(i,e);if(i instanceof Zh)return(function(r,l){if(!s2(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let y=dc(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(i,e)}return(function(r,l){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=at.fromDate(r);return{timestampValue:xh(l.serializer,c)}}if(r instanceof at){const c=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(l.serializer,c)}}if(r instanceof Ds)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:xx(l.serializer,r._byteString)};if(r instanceof _t){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Cg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ms)return(function(d,g){return{mapValue:{fields:{[$b]:{stringValue:Xb},[yh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return Ng(g.serializer,v)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Lh(r)}`)})(i,e)}function r2(i,e){const n={};return Hb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ur(i,((r,l)=>{const c=dc(l,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function a2(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof Ds||i instanceof Un||i instanceof _t||i instanceof Zh||i instanceof Ms)}function Kg(i,e,n){if(!a2(n)||!qb(n)){const r=Lh(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function sg(i,e,n){if((e=bt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Yg(i,e);throw Nh("Field path arguments must be of type string or ",i,!1,void 0,n)}const DC=new RegExp("[~\\*/\\[\\]]");function Yg(i,e,n){if(e.search(DC)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Nh(i,e,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new re(X.INVALID_ARGUMENT,g+i+y)}function l2(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MC extends o2{data(){return super.data()}}function $g(i,e){return typeof e=="string"?Yg(i,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new re(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xg{}class kC extends Xg{}function c2(i,e,...n){let r=[];e instanceof Xg&&r.push(e),r=r.concat(n),(function(c){const d=c.filter((y=>y instanceof Zg)).length,g=c.filter((y=>y instanceof ed)).length;if(d>1||d>0&&g>0)throw new re(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)i=l._apply(i);return i}class ed extends kC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ed(e,n,r)}_apply(e){const n=this._parse(e);return h2(e._query,n),new xl(e.firestore,e.converter,Qm(e._query,n))}_parse(e){const n=Jh(e.firestore);return(function(c,d,g,y,v,E,A){let S;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new re(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){g_(A,E);const G=[];for(const J of A)G.push(m_(y,c,J));S={arrayValue:{values:G}}}else S=m_(y,c,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||g_(A,E),S=jC(g,d,A,E==="in"||E==="not-in");return jt.create(v,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function u2(i,e,n){const r=e,l=$g("where",i);return ed._create(l,r,n)}class Zg extends Xg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ss.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)h2(d,y),d=Qm(d,y)})(e._query,n),new xl(e.firestore,e.converter,Qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function m_(i,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new re(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ix(e)&&n.indexOf("/")!==-1)throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!ve.isDocumentKey(r))throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jv(i,new ve(r))}if(n instanceof _t)return jv(i,n._key);throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function g_(i,e){if(!Array.isArray(i)||i.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h2(i,e){const n=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VC{convertValue(e,n="none"){switch(rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ur(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){var r,l,c;const n=(c=(l=(r=e.fields)==null?void 0:r[yh].arrayValue)==null?void 0:l.values)==null?void 0:c.map((d=>vt(d.doubleValue)));return new Ms(n)}convertGeoPoint(e){return new Ds(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const n=sr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ye(Nx(r),9688,{name:e});const l=new $o(r.get(1),r.get(3)),c=new ve(r.popFirst(5));return l.isEqual(n)||oi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class ko{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qr extends o2{constructor(e,n,r,l,c,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($g("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:Dt("string",Qr._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class sh extends Qr{data(e={}){return super.data(e)}}class al{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new ko(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sh(this._firestore,this._userDataWriter,r.key,r,new ko(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new sh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ko(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new sh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ko(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,E=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:LC(g.type),doc:y,oldIndex:v,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(i){i=ks(i,_t);const e=ks(i.firestore,El);return xC(Fg(e),i._key).then((n=>qC(e,i,n)))}al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:Dt("string",al._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class f2 extends VC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function m2(i){i=ks(i,xl);const e=ks(i.firestore,El),n=Fg(e),r=new f2(e);return OC(i._query),EC(n,i._query).then((l=>new al(e,r,i,l)))}function UC(i,e,n){i=ks(i,_t);const r=ks(i.firestore,El),l=d2(i.converter,e);return Jg(r,[i2(Jh(r),"setDoc",i._key,l,i.converter!==null,n).toMutation(i._key,es.none())])}function zC(i,e,n,...r){i=ks(i,_t);const l=ks(i.firestore,El),c=Jh(l);let d;return d=typeof(e=bt(e))=="string"||e instanceof Xh?CC(c,"updateDoc",i._key,e,n,r):RC(c,"updateDoc",i._key,e),Jg(l,[d.toMutation(i._key,es.exists(!0))])}function g2(i,e){const n=ks(i.firestore,El),r=Sh(i),l=d2(i.converter,e);return Jg(n,[i2(Jh(i.firestore),"addDoc",r._key,l,i.converter!==null,{}).toMutation(r._key,es.exists(!1))]).then((()=>r))}function Jg(i,e){return(function(r,l){const c=new ri;return r.asyncQueue.enqueueAndForget((async()=>cC(await bC(r),l,c))),c.promise})(Fg(i),e)}function qC(i,e,n){const r=n.docs.get(e._key),l=new f2(i);return new Qr(i,l,e._key,r,new ko(n.hasPendingWrites,n.fromCache),e.converter)}function p2(){return new Qg("serverTimestamp")}(function(e,n=!0){(function(l){yl=l})(gl),Os(new ts("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new El(new R6(r.getProvider("auth-internal")),new D6(d,r.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new re(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(v.options.projectId,E)})(d,l),d);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),zn(vv,_v,e),zn(vv,_v,"esm2020")})();const y2="@firebase/installations",Wg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=1e4,_2=`w:${Wg}`,b2="FIS_v2",BC="https://firebaseinstallations.googleapis.com/v1",HC=3600*1e3,FC="installations",GC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Jr=new ta(FC,GC,QC);function x2(i){return i instanceof is&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2({projectId:i}){return`${BC}/projects/${i}/installations`}function w2(i){return{token:i.token,requestStatus:2,expiresIn:YC(i.expiresIn),creationTime:Date.now()}}async function T2(i,e){const r=(await e.json()).error;return Jr.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function A2({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function KC(i,{refreshToken:e}){const n=A2(i);return n.append("Authorization",$C(e)),n}async function S2(i){const e=await i();return e.status>=500&&e.status<600?i():e}function YC(i){return Number(i.replace("s","000"))}function $C(i){return`${b2} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const r=E2(i),l=A2(i),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&l.append("x-firebase-client",v)}const d={fid:n,authVersion:b2,appId:i.appId,sdkVersion:_2},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await S2(()=>fetch(r,g));if(y.ok){const v=await y.json();return{fid:v.fid||n,registrationStatus:2,refreshToken:v.refreshToken,authToken:w2(v.authToken)}}else throw await T2("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/^[cdef][\w-]{21}$/,ig="";function WC(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=e5(i);return JC.test(n)?n:ig}catch{return ig}}function e5(i){return ZC(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new Map;function R2(i,e){const n=td(i);C2(n,e),t5(n,e)}function C2(i,e){const n=I2.get(i);if(n)for(const r of n)r(e)}function t5(i,e){const n=n5();n&&n.postMessage({key:i,fid:e}),s5()}let Gr=null;function n5(){return!Gr&&"BroadcastChannel"in self&&(Gr=new BroadcastChannel("[Firebase] FID Change"),Gr.onmessage=i=>{C2(i.data.key,i.data.fid)}),Gr}function s5(){I2.size===0&&Gr&&(Gr.close(),Gr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="firebase-installations-database",r5=1,Wr="firebase-installations-store";let xm=null;function ep(){return xm||(xm=Y_(i5,r5,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Wr)}}})),xm}async function Ih(i,e){const n=td(i),l=(await ep()).transaction(Wr,"readwrite"),c=l.objectStore(Wr),d=await c.get(n);return await c.put(e,n),await l.done,(!d||d.fid!==e.fid)&&R2(i,e.fid),e}async function j2(i){const e=td(i),r=(await ep()).transaction(Wr,"readwrite");await r.objectStore(Wr).delete(e),await r.done}async function nd(i,e){const n=td(i),l=(await ep()).transaction(Wr,"readwrite"),c=l.objectStore(Wr),d=await c.get(n),g=e(d);return g===void 0?await c.delete(n):await c.put(g,n),await l.done,g&&(!d||d.fid!==g.fid)&&R2(i,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(i){let e;const n=await nd(i.appConfig,r=>{const l=a5(r),c=l5(i,l);return e=c.registrationPromise,c.installationEntry});return n.fid===ig?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function a5(i){const e=i||{fid:WC(),registrationStatus:0};return D2(e)}function l5(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Jr.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=o5(i,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:c5(i)}:{installationEntry:e}}async function o5(i,e){try{const n=await XC(i,e);return Ih(i.appConfig,n)}catch(n){throw x2(n)&&n.customData.serverCode===409?await j2(i.appConfig):await Ih(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function c5(i){let e=await p_(i.appConfig);for(;e.registrationStatus===1;)await N2(100),e=await p_(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await tp(i);return r||n}return e}function p_(i){return nd(i,e=>{if(!e)throw Jr.create("installation-not-found");return D2(e)})}function D2(i){return u5(i)?{fid:i.fid,registrationStatus:0}:i}function u5(i){return i.registrationStatus===1&&i.registrationTime+v2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5({appConfig:i,heartbeatServiceProvider:e},n){const r=d5(i,n),l=KC(i,n),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&l.append("x-firebase-client",v)}const d={installation:{sdkVersion:_2,appId:i.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await S2(()=>fetch(r,g));if(y.ok){const v=await y.json();return w2(v)}else throw await T2("Generate Auth Token",y)}function d5(i,{fid:e}){return`${E2(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(i,e=!1){let n;const r=await nd(i.appConfig,c=>{if(!M2(c))throw Jr.create("not-registered");const d=c.authToken;if(!e&&g5(d))return c;if(d.requestStatus===1)return n=f5(i,e),c;{if(!navigator.onLine)throw Jr.create("app-offline");const g=y5(c);return n=m5(i,g),g}});return n?await n:r.authToken}async function f5(i,e){let n=await y_(i.appConfig);for(;n.authToken.requestStatus===1;)await N2(100),n=await y_(i.appConfig);const r=n.authToken;return r.requestStatus===0?np(i,e):r}function y_(i){return nd(i,e=>{if(!M2(e))throw Jr.create("not-registered");const n=e.authToken;return v5(n)?{...e,authToken:{requestStatus:0}}:e})}async function m5(i,e){try{const n=await h5(i,e),r={...e,authToken:n};return await Ih(i.appConfig,r),n}catch(n){if(x2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await j2(i.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Ih(i.appConfig,r)}throw n}}function M2(i){return i!==void 0&&i.registrationStatus===2}function g5(i){return i.requestStatus===2&&!p5(i)}function p5(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+HC}function y5(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function v5(i){return i.requestStatus===1&&i.requestTime+v2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(i){const e=i,{installationEntry:n,registrationPromise:r}=await tp(e);return r?r.catch(console.error):np(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(i,e=!1){const n=i;return await x5(n),(await np(n,e)).token}async function x5(i){const{registrationPromise:e}=await tp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(i){if(!i||!i.options)throw Em("App Configuration");if(!i.name)throw Em("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Em(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Em(i){return Jr.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="installations",w5="installations-internal",T5=i=>{const e=i.getProvider("app").getImmediate(),n=E5(e),r=na(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},A5=i=>{const e=i.getProvider("app").getImmediate(),n=na(e,O2).getImmediate();return{getId:()=>_5(n),getToken:l=>b5(n,l)}};function S5(){Os(new ts(O2,T5,"PUBLIC")),Os(new ts(w5,A5,"PRIVATE"))}S5();zn(y2,Wg);zn(y2,Wg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="analytics",N5="firebase_id",I5="origin",R5=60*1e3,C5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new Mh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new ta("analytics","Analytics",j5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(i){if(!i.startsWith(sp)){const e=Tn.create("invalid-gtag-resource",{gtagURL:i});return sn.warn(e.message),""}return i}function k2(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function M5(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function O5(i,e){const n=M5("firebase-js-sdk-policy",{createScriptURL:D5}),r=document.createElement("script"),l=`${sp}?l=${i}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function k5(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function V5(i,e,n,r,l,c){const d=r[l];try{if(d)await e[d];else{const y=(await k2(n)).find(v=>v.measurementId===l);y&&await e[y.appId]}}catch(g){sn.error(g)}i("config",l,c)}async function L5(i,e,n,r,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await k2(n);for(const y of d){const v=g.find(A=>A.measurementId===y),E=v&&e[v.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",r,l||{})}catch(c){sn.error(c)}}function P5(i,e,n,r){async function l(c,...d){try{if(c==="event"){const[g,y]=d;await L5(i,e,n,g,y)}else if(c==="config"){const[g,y]=d;await V5(i,e,n,r,g,y)}else if(c==="consent"){const[g,y]=d;i("consent",g,y)}else if(c==="get"){const[g,y,v]=d;i("get",g,y,v)}else if(c==="set"){const[g]=d;i("set",g)}else i(c,...d)}catch(g){sn.error(g)}}return l}function U5(i,e,n,r,l){let c=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=P5(c,i,e,n),{gtagCore:c,wrappedGtag:window[l]}}function z5(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(sp)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=30,B5=1e3;class H5{constructor(e={},n=B5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const V2=new H5;function F5(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function G5(i){var d;const{appId:e,apiKey:n}=i,r={method:"GET",headers:F5(n)},l=C5.replace("{app-id}",e),c=await fetch(l,r);if(c.status!==200&&c.status!==304){let g="";try{const y=await c.json();(d=y.error)!=null&&d.message&&(g=y.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:g})}return c.json()}async function Q5(i,e=V2,n){const{appId:r,apiKey:l,measurementId:c}=i.options;if(!r)throw Tn.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:r};throw Tn.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new $5;return setTimeout(async()=>{g.abort()},R5),L2({appId:r,apiKey:l,measurementId:c},d,g,e)}async function L2(i,{throttleEndTimeMillis:e,backoffCount:n},r,l=V2){var g;const{appId:c,measurementId:d}=i;try{await K5(r,e)}catch(y){if(d)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:c,measurementId:d};throw y}try{const y=await G5(i);return l.deleteThrottleMetadata(c),y}catch(y){const v=y;if(!Y5(v)){if(l.deleteThrottleMetadata(c),d)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:c,measurementId:d};throw y}const E=Number((g=v==null?void 0:v.customData)==null?void 0:g.httpStatus)===503?H1(n,l.intervalMillis,q5):H1(n,l.intervalMillis),A={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return l.setThrottleMetadata(c,A),sn.debug(`Calling attemptFetch again in ${E} millis`),L2(i,A,r,l)}}function K5(i,e){return new Promise((n,r)=>{const l=Math.max(e-Date.now(),0),c=setTimeout(n,l);i.addEventListener(()=>{clearTimeout(c),r(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Y5(i){if(!(i instanceof is)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class $5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function X5(i,e,n,r,l){if(l&&l.global){i("event",n,r);return}else{const c=await e,d={...r,send_to:c};i("event",n,d)}}async function Z5(i,e,n,r){if(r&&r.global){const l={};for(const c of Object.keys(n))l[`user_properties.${c}`]=n[c];return i("set",l),Promise.resolve()}else{const l=await e;i("config",l,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(){if(F_())try{await G_()}catch(i){return sn.warn(Tn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return sn.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function W5(i,e,n,r,l,c,d){const g=Q5(i);g.then(S=>{n[S.measurementId]=S.appId,i.options.measurementId&&S.measurementId!==i.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>sn.error(S)),e.push(g);const y=J5().then(S=>{if(S)return r.getId()}),[v,E]=await Promise.all([g,y]);z5(c)||O5(c,v.measurementId),l("js",new Date);const A=(d==null?void 0:d.config)??{};return A[I5]="firebase",A.update=!0,E!=null&&(A[N5]=E),l("config",v.measurementId,A),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.app=e}_delete(){return delete ll[this.app.options.appId],Promise.resolve()}}let ll={},v_=[];const __={};let wm="dataLayer",t3="gtag",b_,ip,x_=!1;function n3(){const i=[];if(H_()&&i.push("This is a browser extension environment."),GA()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,l)=>`(${l+1}) ${r}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});sn.warn(n.message)}}function s3(i,e,n){n3();const r=i.options.appId;if(!r)throw Tn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(ll[r]!=null)throw Tn.create("already-exists",{id:r});if(!x_){k5(wm);const{wrappedGtag:c,gtagCore:d}=U5(ll,v_,__,wm,t3);ip=c,b_=d,x_=!0}return ll[r]=W5(i,v_,__,e,b_,wm,n),new e3(i)}function i3(i=ug()){i=bt(i);const e=na(i,Rh);return e.isInitialized()?e.getImmediate():r3(i)}function r3(i,e={}){const n=na(i,Rh);if(n.isInitialized()){const l=n.getImmediate();if(tr(e,n.getOptions()))return l;throw Tn.create("already-initialized")}return n.initialize({options:e})}function a3(i,e,n){i=bt(i),Z5(ip,ll[i.app.options.appId],e,n).catch(r=>sn.error(r))}function l3(i,e,n,r){i=bt(i),X5(ip,ll[i.app.options.appId],e,n,r).catch(l=>sn.error(l))}const E_="@firebase/analytics",w_="0.10.19";function o3(){Os(new ts(Rh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return s3(r,l,n)},"PUBLIC")),Os(new ts("analytics-internal",i,"PRIVATE")),zn(E_,w_),zn(E_,w_,"esm2020");function i(e){try{const n=e.getProvider(Rh).getImmediate();return{logEvent:(r,l,c)=>l3(n,r,l,c),setUserProperties:(r,l)=>a3(n,r,l)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}}}o3();const c3={apiKey:"AIzaSyBFr--na-wJGHMdev7vUhPufAJHlyP3GNQ",authDomain:"school-9d3db.firebaseapp.com",projectId:"school-9d3db",storageBucket:"school-9d3db.firebasestorage.app",messagingSenderId:"429673694272",appId:"1:429673694272:web:43390c4fdfa5bce4744ba5",measurementId:"G-8YSDYV9VBN"},rp=$_(c3),Ch=A6(rp),ea=TC(rp);i3(rp);const P2=oe.createContext(void 0),u3=({children:i})=>{const[e,n]=oe.useState(null),[r,l]=oe.useState(!0),c=()=>{n({uid:"teacher-admin-id",email:"teacher@etqan.edu",displayName:"",role:"teacher"}),localStorage.setItem("isTeacher","true")},d=async()=>{try{(e==null?void 0:e.role)==="teacher"?(localStorage.removeItem("isTeacher"),n(null)):await m4(Ch)}catch(y){console.error("Logout error",y)}},g=async y=>{if(e)try{if(n(v=>v?{...v,...y}:null),e.role!=="teacher"){const v=Sh(ea,"users",e.uid);await zC(v,y)}}catch(v){throw console.error("Error updating profile:",v),v}};return oe.useEffect(()=>{if(localStorage.getItem("isTeacher")==="true"){c(),l(!1);return}const y=f4(Ch,async v=>{if(v)try{const E=Sh(ea,"users",v.uid),A=await PC(E);if(A.exists()){const S=A.data();n({uid:v.uid,email:v.email||"",displayName:`${S.firstName} ${S.lastName}`,firstName:S.firstName,lastName:S.lastName,age:S.age,role:S.role,grade:S.grade,phone:S.phone,address:S.address,school:S.school})}else n({uid:v.uid,email:v.email||"",displayName:"User",role:"student"})}catch(E){console.error("Error fetching user profile:",E)}else localStorage.getItem("isTeacher")!=="true"&&n(null);l(!1)});return()=>y()},[]),f.jsx(P2.Provider,{value:{user:e,loading:r,logout:d,setTeacherSession:c,updateUserProfile:g},children:!r&&i})},aa=()=>{const i=oe.useContext(P2);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i},h3=({onLoginClick:i,onNavigate:e,onLogoutClick:n})=>{const[r,l]=oe.useState(!1),[c,d]=oe.useState(!1),{user:g}=aa();oe.useEffect(()=>{const v=()=>{window.scrollY>10?d(!0):d(!1)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]);const y=v=>{e(v),l(!1)};return f.jsxs("nav",{className:`w-full z-50 sticky top-0 transition-all duration-500 ${c?"bg-emerald-700/95 backdrop-blur-md shadow-lg":"bg-emerald-600 shadow-md"}`,children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-20",children:[f.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>y("HOME"),children:[f.jsx("div",{className:"p-1 bg-white/10 rounded-full group-hover:bg-white/20 transition-colors",children:f.jsx("img",{src:"https://lh3.googleusercontent.com/d/13x8Gorb7y4H2qcQ1LVJtHY9-RoUhxg2z",alt:"  ",className:"w-12 h-12 rounded-full object-cover border-2 border-white/30 shadow-sm"})}),f.jsx("span",{className:"text-2xl font-black text-white tracking-tight drop-shadow-sm",children:""})]}),f.jsx("div",{className:"hidden md:flex items-center justify-center flex-1 px-8",children:f.jsxs("div",{className:"flex items-center gap-1 bg-black/10 px-2 py-1.5 rounded-full border border-white/10 backdrop-blur-sm shadow-inner",children:[f.jsx("button",{onClick:()=>y("HOME"),className:"px-6 py-2 text-white font-bold rounded-full hover:bg-white/20 transition-all",children:""}),f.jsx("div",{className:"w-px h-5 bg-white/20 mx-1"}),f.jsxs("button",{onClick:()=>y("LESSONS"),className:"px-6 py-2 text-white font-bold rounded-full hover:bg-white/20 transition-all flex items-center gap-2",children:[f.jsx(Ho,{className:"w-4 h-4"}),""]})]})}),f.jsx("div",{className:"hidden md:flex items-center gap-3",children:g?f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>y("PROFILE"),className:"flex items-center gap-2 text-white hover:bg-white/15 px-4 py-2.5 rounded-full transition-all font-bold",children:[f.jsx(tT,{className:"w-5 h-5"}),f.jsx("span",{children:" "})]}),f.jsxs("div",{className:"flex items-center gap-2 text-white bg-white/10 px-3 py-1.5 rounded-full border border-white/10 mr-2",children:[f.jsx(jh,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-bold",children:g.displayName}),g.role==="teacher"&&f.jsx("span",{className:"text-xs bg-emerald-400 text-emerald-900 px-2 py-0.5 rounded-full",children:""})]}),g.role==="teacher"&&f.jsx("button",{onClick:()=>y("TEACHER_DASHBOARD"),className:"bg-blue-500 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-blue-600 transition-all shadow-lg border border-blue-400/50",title:" ",children:f.jsx(ih,{className:"w-5 h-5"})}),f.jsx("button",{onClick:n,className:"bg-red-500/80 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-red-600 transition-all border border-red-400/30",title:"",children:f.jsx(Rm,{className:"w-4 h-4"})})]}):f.jsxs("button",{onClick:i,className:"bg-white text-emerald-700 px-6 py-2.5 rounded-full font-bold hover:bg-emerald-50 transition-all shadow-lg flex items-center gap-2 transform hover:scale-105",children:[f.jsx(P1,{className:"w-4 h-4"})," "]})}),f.jsx("div",{className:"md:hidden flex items-center",children:f.jsx("button",{onClick:()=>l(!r),className:"text-white hover:text-emerald-100 p-2 transition-colors",children:r?f.jsx(O_,{className:"w-8 h-8"}):f.jsx(UT,{className:"w-8 h-8"})})})]})}),r&&f.jsx("div",{className:"md:hidden bg-white border-t border-gray-100 shadow-xl absolute w-full z-50 animate-fade-in",children:f.jsxs("div",{className:"px-4 pt-2 pb-6 space-y-2",children:[g&&f.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-emerald-50 rounded-2xl border border-emerald-100",children:[f.jsx("div",{className:"w-10 h-10 bg-emerald-200 rounded-full flex items-center justify-center text-emerald-800 font-bold text-lg",children:g.displayName.charAt(0)}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-bold text-gray-900",children:g.displayName}),f.jsx("span",{className:"text-xs text-gray-500",children:g.email})]})]}),f.jsx("button",{onClick:()=>y("HOME"),className:"block w-full text-right px-4 py-3 font-bold text-gray-700 hover:bg-emerald-50 rounded-xl transition-colors",children:""}),f.jsxs("button",{onClick:()=>y("LESSONS"),className:"block w-full text-right px-4 py-3 font-bold text-gray-700 hover:bg-emerald-50 rounded-xl transition-colors flex items-center gap-2",children:[f.jsx(Ho,{className:"w-5 h-5 text-emerald-600"}),"  "]}),f.jsxs("button",{onClick:()=>y("CONTACT_TEACHER"),className:"block w-full text-right px-4 py-3 font-bold text-gray-700 hover:bg-emerald-50 rounded-xl transition-colors flex items-center gap-2",children:[f.jsx(ah,{className:"w-5 h-5 text-emerald-600"}),"   "]}),f.jsxs("button",{onClick:()=>y("ABOUT_PLATFORM"),className:"block w-full text-right px-4 py-3 font-bold text-gray-700 hover:bg-emerald-50 rounded-xl transition-colors flex items-center gap-2",children:[f.jsx(wT,{className:"w-5 h-5 text-emerald-600"}),"  "]}),f.jsxs("button",{onClick:()=>y("SERVICES"),className:"block w-full text-right px-4 py-3 font-bold text-gray-700 hover:bg-emerald-50 rounded-xl transition-colors flex items-center gap-2",children:[f.jsx(I_,{className:"w-5 h-5 text-emerald-600"})," "]}),g&&f.jsx("button",{onClick:()=>y("PROFILE"),className:"block w-full text-right px-4 py-3 font-bold text-gray-700 hover:bg-emerald-50 rounded-xl transition-colors",children:" "}),f.jsx("div",{className:"border-t border-gray-100 my-2 pt-2"}),g?f.jsxs("div",{className:"space-y-3 mt-2",children:[g.role==="teacher"&&f.jsxs("button",{onClick:()=>y("TEACHER_DASHBOARD"),className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold shadow-md flex items-center justify-center gap-2",children:[f.jsx(ih,{className:"w-5 h-5"}),"  "]}),f.jsxs("button",{onClick:()=>{l(!1),n()},className:"w-full bg-red-50 text-red-600 border border-red-100 py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[f.jsx(Rm,{className:"w-5 h-5"})," "]})]}):f.jsxs("button",{onClick:()=>{l(!1),i()},className:"w-full mt-2 bg-emerald-600 text-white py-3 rounded-xl font-bold shadow-md flex items-center justify-center gap-2",children:[f.jsx(P1,{className:"w-5 h-5"})," "]})]})})]})},d3=({onStartQuiz:i,onLoginClick:e,onNavigate:n})=>{const{user:r}=aa(),l=()=>{r?n("QUIZZES"):(alert("       "),e())},c=()=>{r?n("LESSONS"):(alert("       "),e())},d=()=>{n("CONTACT_TEACHER")};return f.jsxs("section",{className:"relative w-full min-h-[calc(100vh-80px)] flex items-center justify-center bg-grid-pattern overflow-hidden animate-fade-in",children:[f.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-emerald-100 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-100 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-8 left-20 w-96 h-96 bg-yellow-100 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"}),f.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-0 w-full relative z-10 flex flex-col items-center text-center",children:[f.jsx("div",{className:"flex justify-center mb-6",children:f.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-50 border border-emerald-100 px-4 py-2 rounded-full shadow-sm",children:[f.jsx(og,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),f.jsx("span",{className:"text-emerald-800 font-bold text-sm",children:"   "})]})}),f.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black text-gray-900 leading-[1.2] lg:leading-[1.15] mb-6",children:["  ",f.jsx("br",{}),f.jsxs("span",{className:"text-emerald-600 inline-block relative",children:[" ",f.jsx("svg",{className:"absolute w-full h-3 -bottom-1 right-0 text-emerald-200 -z-10",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:f.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]}),f.jsx("br",{}),"  "]}),f.jsxs("p",{className:"text-lg md:text-xl text-gray-600 leading-relaxed max-w-2xl mx-auto mb-10",children:["          ",f.jsx("span",{className:"text-emerald-600 font-black text-2xl px-1 relative inline-block",children:"   "}),"."]}),f.jsxs("div",{className:"flex flex-col w-full max-w-md gap-4 justify-center",children:[f.jsxs("button",{onClick:l,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-emerald-200/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[f.jsx(Kr,{className:"w-6 h-6"})," ",f.jsx(Vo,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),f.jsxs("button",{onClick:c,className:"w-full bg-blue-500 hover:bg-blue-600 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-blue-200/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[f.jsx(Ho,{className:"w-6 h-6"})," ",f.jsx(Vo,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),f.jsxs("button",{onClick:d,className:"w-full bg-teal-500 hover:bg-teal-600 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-teal-200/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[f.jsx(ah,{className:"w-6 h-6"}),"  ",f.jsx(Vo,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[r&&f.jsxs("button",{onClick:()=>n("PROFILE"),className:"flex-1 bg-white border-2 border-emerald-100 text-emerald-600 hover:bg-emerald-50 text-lg font-bold px-8 py-4 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-sm",children:[f.jsx(jh,{className:"w-5 h-5"})," "]}),!r&&f.jsxs("button",{onClick:e,className:"flex-1 bg-white border-2 border-emerald-100 text-emerald-600 hover:bg-emerald-50 text-lg font-bold px-8 py-4 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-sm",children:[f.jsx(XT,{className:"w-5 h-5 fill-emerald-600 text-emerald-600"})," "]})]})]})]})]})},Tm=({className:i})=>f.jsx("svg",{viewBox:"0 0 24 24",className:i,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),Am=({className:i})=>f.jsx("svg",{viewBox:"0 0 24 24",className:i,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),f3=({className:i})=>f.jsx("svg",{viewBox:"0 0 24 24",className:i,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M12 2C6.48 2 2 6.03 2 11c0 2.87 1.56 5.47 4 7.1V22l3.57-1.96c.78.22 1.6.34 2.43.34 5.52 0 10-4.03 10-9s-4.48-9-10-9zm1.06 12.07l-2.6-2.78-5.07 2.78 5.58-5.93 2.62 2.78 5.05-2.78-5.58 5.93z"})}),T_=[{id:1,name:" ",text:"       .",platform:"whatsapp",time:"10:30 "},{id:2,name:" ",text:"       .",platform:"messenger",time:"11:15 "},{id:3,name:" ",text:"        .",platform:"telegram",time:"09:45 "},{id:4,name:" ",text:"      .",platform:"whatsapp",time:"02:20 "},{id:5,name:"  ",text:"        .",platform:"messenger",time:"04:10 "},{id:6,name:" ",text:"       .",platform:"telegram",time:"08:00 "},{id:7,name:" ",text:"        .",platform:"whatsapp",time:"01:30 "},{id:8,name:" ",text:"       .",platform:"messenger",time:"06:45 "},{id:9,name:" ",text:"       .",platform:"telegram",time:"03:15 "},{id:10,name:" ",text:"       .",platform:"whatsapp",time:"12:00 "},{id:11,name:" ",text:"        .",platform:"messenger",time:"07:30 "},{id:12,name:" ",text:"      .",platform:"telegram",time:"10:10 "},{id:13,name:" ",text:"         .",platform:"whatsapp",time:"05:50 "},{id:14,name:" ",text:"        .",platform:"messenger",time:"09:20 "},{id:15,name:" ",text:"        .",platform:"telegram",time:"08:45 "}],m3=[{icon:vA,title:" ",desc:"        .",color:"bg-blue-100 text-blue-600"},{icon:Kr,title:" ",desc:"        .",color:"bg-emerald-100 text-emerald-600"},{icon:oA,title:" ",desc:"       .",color:"bg-yellow-100 text-yellow-600"},{icon:Gw,title:" ",desc:"        .",color:"bg-purple-100 text-purple-600"}],g3=({onNavigate:i})=>{const[e,n]=oe.useState([0,1,2]),[r,l]=oe.useState(!0);oe.useEffect(()=>{const g=setInterval(()=>{l(!1),setTimeout(()=>{const y=[];for(;y.length<3;){const v=Math.floor(Math.random()*T_.length);y.includes(v)||y.push(v)}n(y),l(!0)},500)},5e3);return()=>clearInterval(g)},[]);const c=g=>{switch(g){case"whatsapp":return f.jsx(Tm,{className:"w-5 h-5 text-white"});case"messenger":return f.jsx(f3,{className:"w-5 h-5 text-white"});case"telegram":return f.jsx(Am,{className:"w-5 h-5 text-white"});default:return null}},d=g=>{switch(g){case"whatsapp":return"bg-green-500";case"messenger":return"bg-blue-600";case"telegram":return"bg-sky-500";default:return"bg-gray-500"}};return f.jsxs("section",{className:"py-20 bg-slate-50 relative overflow-hidden bg-grid-pattern",children:[f.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-emerald-100 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),f.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-100 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),f.jsx("div",{className:"absolute -bottom-8 left-20 w-96 h-96 bg-yellow-100 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-4",children:" "}),f.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),f.jsx("p",{className:"mt-6 text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"                          ."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[f.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-8 rounded-3xl border border-slate-100 hover:border-emerald-200 transition-all group flex flex-col h-full shadow-lg hover:shadow-xl",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[f.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-xl overflow-hidden shrink-0 border-4 border-white group-hover:scale-105 transition-transform",children:f.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"text-center sm:text-right flex-1",children:[f.jsx("h3",{className:"text-3xl font-black text-gray-900 mb-3",children:".   "}),f.jsx("p",{className:"text-emerald-600 font-bold text-xl mb-4",children:"  "}),f.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-600 font-medium bg-white px-4 py-2 rounded-full inline-flex shadow-sm border border-gray-100",children:[f.jsx(rh,{className:"w-5 h-5 text-emerald-500"}),"   - "]})]})]}),f.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200",children:[f.jsx("p",{className:"text-sm font-bold text-gray-700 mb-4 text-center sm:text-right",children:" "}),f.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[f.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white",children:f.jsx(Im,{className:"w-7 h-7"})}),f.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white",children:f.jsx(Tm,{className:"w-7 h-7"})}),f.jsx("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white",children:f.jsx(Am,{className:"w-7 h-7"})})]})]})]}),f.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-8 rounded-3xl border border-slate-100 hover:border-emerald-200 transition-all group flex flex-col h-full shadow-lg hover:shadow-xl",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[f.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-xl overflow-hidden shrink-0 border-4 border-white group-hover:scale-105 transition-transform",children:f.jsx("img",{src:"https://lh3.googleusercontent.com/d/1kAAQQ-PDdvK4dw6bq9sCr3umcuamh73t",alt:".   ",className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"text-center sm:text-right flex-1",children:[f.jsx("h3",{className:"text-3xl font-black text-gray-900 mb-3",children:".   "}),f.jsx("p",{className:"text-blue-700 font-bold text-xl mb-4",children:"  "}),f.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-500 font-medium bg-white px-4 py-2 rounded-full inline-flex shadow-sm border border-gray-100",children:[f.jsx(rh,{className:"w-5 h-5 text-blue-500"}),"   - "]})]})]}),f.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200",children:[f.jsx("p",{className:"text-sm font-bold text-gray-700 mb-4 text-center sm:text-right",children:" "}),f.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[f.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white",children:f.jsx(Im,{className:"w-7 h-7"})}),f.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white",children:f.jsx(Tm,{className:"w-7 h-7"})}),f.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white",children:f.jsx(Am,{className:"w-7 h-7"})})]})]})]})]}),f.jsx("div",{className:"text-center mb-12",children:f.jsxs("button",{onClick:()=>i("TEACHER_CV"),className:"inline-flex items-center gap-3 bg-emerald-600 text-white text-xl font-bold px-10 py-5 rounded-full shadow-lg hover:bg-emerald-700 hover:shadow-emerald-200 transition-all transform hover:-translate-y-1",children:[f.jsx(ag,{className:"w-6 h-6"}),"  ",f.jsx(Sm,{className:"w-6 h-6"})]})}),f.jsxs("div",{className:"mb-0 pt-10 border-t border-gray-100",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-4",children:"  "}),f.jsx("p",{className:"text-gray-500",children:"       "})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((g,y)=>{const v=T_[g];return f.jsx("div",{className:`transform transition-all duration-500 ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:f.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-sm border border-gray-100 relative h-full flex flex-col hover:shadow-md transition-shadow",children:[f.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 bg-white border-b border-r border-gray-100 transform rotate-45"}),f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-700 font-bold text-lg",children:v.name.charAt(0)}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-gray-900",children:v.name}),f.jsx("span",{className:"text-xs text-gray-400 font-medium",children:v.time})]})]}),f.jsx("div",{className:`w-8 h-8 rounded-full ${d(v.platform)} flex items-center justify-center shadow-sm`,children:c(v.platform)})]}),f.jsxs("p",{className:"text-gray-700 text-base leading-relaxed font-medium",children:['"',v.text,'"']})]})},`${v.id}-${y}`)})})]}),f.jsxs("div",{className:"mb-0 pt-20 mt-12 border-t border-gray-200",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-4",children:" "}),f.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),f.jsx("p",{className:"mt-6 text-lg text-gray-600",children:"     "})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative",children:[f.jsx("div",{className:"hidden lg:block absolute top-12 left-0 w-full h-0.5 bg-gray-200 -z-10 transform -translate-y-1/2"}),m3.map((g,y)=>f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 text-center relative group hover:-translate-y-2 transition-transform duration-300",children:[f.jsx("div",{className:"absolute -top-4 right-6 w-8 h-8 bg-gray-900 text-white rounded-full flex items-center justify-center font-bold text-sm shadow-md z-10 border-2 border-white",children:y+1}),f.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-gray-50 group-hover:border-emerald-100 transition-colors relative z-0",children:f.jsx("div",{className:`w-16 h-16 ${g.color} rounded-full flex items-center justify-center`,children:f.jsx(g.icon,{className:"w-8 h-8"})})}),f.jsx("h3",{className:"font-black text-xl mb-3 text-gray-900",children:g.title}),f.jsx("p",{className:"text-gray-500 text-sm leading-relaxed font-medium px-2",children:g.desc})]},y))]})]})]})]})},p3=({isOpen:i,onClose:e})=>{const[n,r]=oe.useState("ROLE_SELECTION"),[l,c]=oe.useState(!1),[d,g]=oe.useState(null),[y,v]=oe.useState(null),{setTeacherSession:E}=aa(),[A,S]=oe.useState(""),[Q,G]=oe.useState(""),[J,W]=oe.useState(""),[ge,ae]=oe.useState(""),[fe,Ce]=oe.useState(""),[De,Ie]=oe.useState(""),[C,T]=oe.useState(""),[N,O]=oe.useState(""),[D,k]=oe.useState("");if(!i)return null;const I=()=>{r("ROLE_SELECTION"),g(null),v(null),S(""),G(""),W(""),ae(""),Ce(""),Ie(""),T(""),O(""),k("")},ze=()=>{I(),e()},He=z=>{z.preventDefault(),g(null),A==="2001"?(E(),v("    !"),setTimeout(()=>ze(),1500)):g("   ")},F=async z=>{z.preventDefault(),g(null),c(!0);try{await u4(Ch,Q,J),v("   !"),setTimeout(()=>ze(),1500)}catch(te){console.error(te),g("      ")}finally{c(!1)}},ne=async z=>{z.preventDefault(),g(null),c(!0);try{const ie=(await c4(Ch,N,D)).user;await UC(Sh(ea,"users",ie.uid),{firstName:ge,lastName:fe,age:De,grade:C,email:N,role:"student",createdAt:new Date}),v("   !"),setTimeout(()=>ze(),1500)}catch(te){console.error(te),te.code==="auth/email-already-in-use"?g("   "):te.code==="auth/weak-password"?g("   "):g("    .    .")}finally{c(!1)}},me=()=>f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800",children:"   "}),f.jsxs("button",{onClick:()=>r("STUDENT_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 rounded-2xl hover:border-emerald-500 hover:bg-emerald-50 transition-all",children:[f.jsx("div",{className:"bg-emerald-100 p-3 rounded-full ml-4 group-hover:bg-emerald-200 transition-colors",children:f.jsx(jh,{className:"w-8 h-8 text-emerald-600"})}),f.jsxs("div",{className:"text-right flex-1",children:[f.jsx("div",{className:"font-bold text-lg text-gray-900",children:" "}),f.jsx("div",{className:"text-sm text-gray-500",children:"    "})]}),f.jsx(om,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})]}),f.jsxs("button",{onClick:()=>r("TEACHER_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 rounded-2xl hover:border-blue-500 hover:bg-blue-50 transition-all",children:[f.jsx("div",{className:"bg-blue-100 p-3 rounded-full ml-4 group-hover:bg-blue-200 transition-colors",children:f.jsx(ec,{className:"w-8 h-8 text-blue-600"})}),f.jsxs("div",{className:"text-right flex-1",children:[f.jsx("div",{className:"font-bold text-lg text-gray-900",children:" "}),f.jsx("div",{className:"text-sm text-gray-500",children:"   "})]}),f.jsx(om,{className:"w-5 h-5 text-gray-300 group-hover:text-blue-500"})]})]}),ee=()=>f.jsxs("form",{onSubmit:He,className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(U1,{className:"w-8 h-8 text-blue-600"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:" "}),f.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"     "})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),f.jsx("input",{type:"password",value:A,onChange:z=>S(z.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all text-center text-lg tracking-widest bg-white text-black placeholder-gray-500",placeholder:"",required:!0})]}),f.jsx("button",{type:"submit",className:"mt-4 w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200",children:""})]}),he=()=>f.jsxs("form",{onSubmit:F,className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),f.jsx("p",{className:"text-gray-500 text-sm mt-1",children:" !   "})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"email",value:Q,onChange:z=>G(z.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 outline-none transition-all bg-white text-black placeholder-gray-500",placeholder:"student@example.com",required:!0}),f.jsx(OT,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"password",value:J,onChange:z=>W(z.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 outline-none transition-all bg-white text-black placeholder-gray-500",placeholder:"",required:!0}),f.jsx(U1,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),f.jsx("button",{type:"submit",disabled:l,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 flex items-center justify-center gap-2",children:l?f.jsx($i,{className:"w-5 h-5 animate-spin"}):" "}),f.jsx("div",{className:"mt-4 text-center",children:f.jsxs("p",{className:"text-gray-600 text-sm",children:["   "," ",f.jsx("button",{type:"button",onClick:()=>r("STUDENT_SIGNUP"),className:"text-emerald-600 font-bold hover:underline",children:"  "})]})})]}),j=()=>f.jsxs("form",{onSubmit:ne,className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"text-center mb-4",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"   "}),f.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"   "})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),f.jsx("input",{type:"text",value:ge,onChange:z=>ae(z.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black placeholder-gray-500",required:!0})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),f.jsx("input",{type:"text",value:fe,onChange:z=>Ce(z.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black placeholder-gray-500",required:!0})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),f.jsx("input",{type:"number",value:De,onChange:z=>Ie(z.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black placeholder-gray-500",required:!0})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),f.jsxs("select",{value:C,onChange:z=>T(z.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black",required:!0,children:[f.jsx("option",{value:"",children:" "}),f.jsx("option",{value:"5",children:""}),f.jsx("option",{value:"6",children:""}),f.jsx("option",{value:"7",children:""}),f.jsx("option",{value:"8",children:""}),f.jsx("option",{value:"9",children:""}),f.jsx("option",{value:"10",children:""}),f.jsx("option",{value:"11",children:" "}),f.jsx("option",{value:"12",children:" "})]})]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),f.jsx("input",{type:"email",value:N,onChange:z=>O(z.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black placeholder-gray-500",required:!0})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),f.jsx("input",{type:"password",value:D,onChange:z=>k(z.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black placeholder-gray-500",required:!0,minLength:6})]}),f.jsx("button",{type:"submit",disabled:l,className:"mt-2 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 flex items-center justify-center gap-2",children:l?f.jsx($i,{className:"w-5 h-5 animate-spin"}):" "}),f.jsx("div",{className:"text-center mt-2",children:f.jsx("button",{type:"button",onClick:()=>r("STUDENT_LOGIN"),className:"text-sm text-gray-500 hover:text-emerald-600 transition-colors",children:"    "})})]});return f.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[f.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:ze}),f.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md relative shadow-2xl overflow-hidden animate-fade-in-up p-6",children:[f.jsx("button",{onClick:ze,className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors z-10",children:f.jsx(O_,{className:"w-5 h-5"})}),n!=="ROLE_SELECTION"&&!y&&f.jsxs("button",{onClick:()=>r("ROLE_SELECTION"),className:"absolute top-4 right-4 p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors z-10 flex items-center gap-1",children:[f.jsx(om,{className:"w-5 h-5"}),f.jsx("span",{className:"text-xs font-bold",children:""})]}),f.jsx("div",{className:"mt-6",children:y?f.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:f.jsx(lg,{className:"w-8 h-8 text-green-600"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800",children:y})]}):f.jsxs(f.Fragment,{children:[n==="ROLE_SELECTION"&&me(),n==="TEACHER_LOGIN"&&ee(),n==="STUDENT_LOGIN"&&he(),n==="STUDENT_SIGNUP"&&j(),d&&f.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-100 rounded-lg flex items-center gap-2 text-red-600 text-sm",children:[f.jsx(R_,{className:"w-4 h-4 shrink-0"}),f.jsx("span",{children:d})]})]})})]})]})},y3=()=>{const{user:i}=aa(),[e,n]=oe.useState(!1),[r,l]=oe.useState({title:"",subject:"",grade:"",description:""}),[c,d]=oe.useState([]),[g,y]=oe.useState({question:"",options:["","","",""],correctAnswer:0,explanation:""}),v=(G,J)=>{y(W=>({...W,[G]:J}))},E=(G,J)=>{const W=[...g.options];W[G]=J,y(ge=>({...ge,options:W}))},A=()=>{if(!g.question.trim()||g.options.some(J=>!J.trim())){alert("    ");return}const G={id:Date.now(),question:g.question,options:g.options,correctAnswer:g.correctAnswer,explanation:g.explanation};d([...c,G]),y({question:"",options:["","","",""],correctAnswer:0,explanation:""})},S=G=>{d(c.filter(J=>J.id!==G))},Q=async()=>{if(!r.title||!r.subject||!r.grade){alert("    ");return}if(c.length===0){alert("     ");return}n(!0);try{const G={title:r.title,subject:r.subject,grade:r.grade,questions:c,createdBy:(i==null?void 0:i.uid)||"teacher",createdAt:p2()};await g2(Ah(ea,"quizzes"),G),alert("    !"),l({title:"",subject:"",grade:"",description:""}),d([])}catch(G){console.error("Error saving quiz:",G),alert("   ")}finally{n(!1)}};return f.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 font-sans animate-fade-in",children:[f.jsxs("div",{className:"bg-white pt-12 pb-24 px-4 relative overflow-hidden border-b border-gray-200",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-60"}),f.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-emerald-100 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-blob"}),f.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-100 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-blob animation-delay-2000"}),f.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx("div",{className:"p-3 bg-emerald-50 rounded-2xl shadow-sm border border-emerald-100",children:f.jsx(AT,{className:"w-8 h-8 text-emerald-600"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-black tracking-tight text-gray-900",children:"  "}),f.jsx("p",{className:"text-gray-500 mt-2 font-medium text-lg",children:"      "})]})]})})]}),f.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-16 relative z-20",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 p-6 md:p-8",children:[f.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2 border-b border-gray-100 pb-4",children:[f.jsx(Kr,{className:"w-6 h-6 text-emerald-600"}),"  "]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),f.jsx("input",{type:"text",value:r.title,onChange:G=>l({...r,title:G.target.value}),placeholder:":    - ",className:"w-full px-4 py-3 rounded-xl bg-white border border-gray-300 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-100 transition-all outline-none font-bold text-black placeholder-gray-400"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx(QT,{className:"w-4 h-4 text-gray-400 absolute top-3.5 right-3"}),f.jsx("input",{type:"text",value:r.subject,onChange:G=>l({...r,subject:G.target.value}),placeholder:": ",className:"w-full px-4 py-3 pr-10 rounded-xl bg-white border border-gray-300 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none transition-all text-black placeholder-gray-400"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx(ec,{className:"w-4 h-4 text-gray-400 absolute top-3.5 right-3"}),f.jsxs("select",{value:r.grade,onChange:G=>l({...r,grade:G.target.value}),className:"w-full px-4 py-3 pr-10 rounded-xl bg-white border border-gray-300 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none transition-all text-black appearance-none",children:[f.jsx("option",{value:"",children:" "}),f.jsx("option",{value:"5",children:""}),f.jsx("option",{value:"6",children:""}),f.jsx("option",{value:"7",children:""}),f.jsx("option",{value:"8",children:""}),f.jsx("option",{value:"9",children:""}),f.jsx("option",{value:"10",children:""}),f.jsx("option",{value:"11",children:" "}),f.jsx("option",{value:"12",children:" "})]})]})]})]}),f.jsxs("div",{className:"mt-6",children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  ()"}),f.jsx("textarea",{value:r.description,onChange:G=>l({...r,description:G.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white border border-gray-300 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none transition-all text-black h-24 resize-none placeholder-gray-400",placeholder:"   ..."})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 p-6 md:p-8",children:[f.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2 border-b border-gray-100 pb-4",children:[f.jsx(ih,{className:"w-6 h-6 text-emerald-600"})," "]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx(C_,{className:"w-4 h-4 text-gray-400 absolute top-3.5 right-3"}),f.jsx("input",{type:"text",value:g.question,onChange:G=>v("question",G.target.value),placeholder:"   ...",className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-300 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none font-bold text-lg text-black bg-white placeholder-gray-400"})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.options.map((G,J)=>f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2 flex justify-between",children:[f.jsxs("span",{children:[" ",J+1]}),f.jsx("button",{onClick:()=>v("correctAnswer",J),className:`text-xs px-2 py-0.5 rounded-full transition-colors ${g.correctAnswer===J?"bg-emerald-100 text-emerald-700 font-bold":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:g.correctAnswer===J?" ":"  "})]}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute top-3.5 right-3 text-gray-400 text-xs font-bold",children:J+1}),f.jsx("input",{type:"text",value:G,onChange:W=>E(J,W.target.value),placeholder:` ${J+1}`,className:`w-full px-4 py-3 pr-8 rounded-xl border focus:ring-2 outline-none transition-all ${J===g.correctAnswer?"border-emerald-500 bg-emerald-50 focus:ring-emerald-200 text-black font-bold":"border-gray-300 bg-white focus:border-emerald-500 focus:ring-emerald-100 text-black placeholder-gray-400"}`})]})]},J))}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  (   )"}),f.jsx("textarea",{value:g.explanation,onChange:G=>v("explanation",G.target.value),placeholder:"     ...",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none text-black bg-white h-24 resize-none placeholder-gray-400"})]}),f.jsxs("button",{onClick:A,className:"w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 flex items-center justify-center gap-2",children:[f.jsx(ih,{className:"w-5 h-5"}),"  "]})]})]})]}),f.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 p-6 sticky top-24",children:[f.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[f.jsx(D_,{className:"w-5 h-5 text-emerald-600"})," "]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100",children:[f.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[f.jsx("span",{className:"text-gray-600",children:" "}),f.jsx("span",{className:"font-bold text-gray-900",children:c.length})]}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600",children:""}),f.jsx("span",{className:"text-emerald-600 font-bold",children:""})]})]}),f.jsxs("button",{onClick:Q,disabled:e||c.length===0,className:`w-full py-4 rounded-xl font-bold text-white shadow-lg transition-all flex items-center justify-center gap-2 ${e||c.length===0?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 shadow-emerald-200"}`,children:[e?f.jsx($i,{className:"w-5 h-5 animate-spin"}):f.jsx(Zw,{className:"w-5 h-5"}),e?" ...":"  "]})]})]}),c.length>0&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h3",{className:"text-lg font-bold text-gray-900 px-2",children:["  (",c.length,")"]}),c.map((G,J)=>f.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm group hover:border-emerald-300 transition-all",children:f.jsxs("div",{className:"flex justify-between items-start gap-2",children:[f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"bg-emerald-100 text-emerald-700 font-bold w-6 h-6 flex items-center justify-center rounded-full text-xs shrink-0 mt-0.5",children:J+1}),f.jsx("p",{className:"font-bold text-gray-800 text-sm line-clamp-2",children:G.question})]}),f.jsx("button",{onClick:()=>S(G.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:f.jsx(dA,{className:"w-4 h-4"})})]})},G.id))]})]})]})})]})},v3=({data:i})=>{if(!i||i.length===0)return f.jsx("div",{className:"h-40 flex items-center justify-center text-gray-400 bg-gray-50 rounded-xl border border-dashed",children:"     "});const e=100,n=300,r=100,l=i.map((d,g)=>{const y=g/(i.length-1||1)*n,v=e-d/r*e;return`${y},${v}`}).join(" "),c=`${l} ${n},${e} 0,${e}`;return f.jsxs("div",{className:"w-full h-48 bg-white rounded-xl p-4 border border-gray-100 relative overflow-hidden",children:[f.jsxs("svg",{viewBox:`0 0 ${n} ${e}`,className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:[f.jsx("line",{x1:"0",y1:"0",x2:n,y2:"0",stroke:"#e5e7eb",strokeWidth:"0.5"}),f.jsx("line",{x1:"0",y1:e/2,x2:n,y2:e/2,stroke:"#e5e7eb",strokeWidth:"0.5"}),f.jsx("line",{x1:"0",y1:e,x2:n,y2:e,stroke:"#e5e7eb",strokeWidth:"0.5"}),f.jsx("defs",{children:f.jsxs("linearGradient",{id:"chartGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"rgba(16, 185, 129, 0.2)"}),f.jsx("stop",{offset:"100%",stopColor:"rgba(16, 185, 129, 0)"})]})}),f.jsx("path",{d:`M0,${e} ${c}`,fill:"url(#chartGradient)"}),f.jsx("polyline",{points:l,fill:"none",stroke:"#10b981",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.map((d,g)=>{const y=g/(i.length-1||1)*n,v=e-d/r*e;return f.jsx("circle",{cx:y,cy:v,r:"3",fill:"white",stroke:"#10b981",strokeWidth:"2"},g)})]}),f.jsx("div",{className:"absolute top-2 right-2 text-xs font-bold text-gray-400",children:" "})]})},A_=[{id:"first_step",icon:vT,title:" ",desc:"   ",color:"bg-blue-100 text-blue-600",condition:i=>i.length>=1},{id:"high_five",icon:og,title:"",desc:" 5 ",color:"bg-yellow-100 text-yellow-600",condition:i=>i.length>=5},{id:"sniper",icon:M_,title:"",desc:"    100%",color:"bg-red-100 text-red-600",condition:i=>i.some(e=>e.percentage===100)},{id:"expert",icon:AA,title:"",desc:"   1000  ",color:"bg-purple-100 text-purple-600",condition:(i,e)=>e>=1e3},{id:"master",icon:aT,title:"",desc:"  5",color:"bg-emerald-100 text-emerald-600",condition:(i,e)=>Math.floor(e/500)+1>=5}],_3=()=>{const{user:i,updateUserProfile:e}=aa(),[n,r]=oe.useState(!1),[l,c]=oe.useState(null),[d,g]=oe.useState([]),[y,v]=oe.useState(!0),[E,A]=oe.useState(0),[S,Q]=oe.useState(1),[G,J]=oe.useState(500),[W,ge]=oe.useState([]),[ae,fe]=oe.useState({firstName:(i==null?void 0:i.firstName)||"",lastName:(i==null?void 0:i.lastName)||"",age:(i==null?void 0:i.age)||"",grade:(i==null?void 0:i.grade)||"",phone:(i==null?void 0:i.phone)||"",address:(i==null?void 0:i.address)||"",school:(i==null?void 0:i.school)||""});oe.useEffect(()=>{(async()=>{if(i)try{const N=c2(Ah(ea,"quiz_results"),u2("userId","==",i.uid)),O=await m2(N),D=[];let k=0;O.forEach(He=>{const F=He.data();D.push({id:He.id,...F});let ne=10+F.percentage*2;F.passed&&(ne+=50),F.percentage===100&&(ne+=100),k+=Math.round(ne)}),D.sort((He,F)=>{var ee,he;const ne=((ee=He.createdAt)==null?void 0:ee.seconds)||0,me=((he=F.createdAt)==null?void 0:he.seconds)||0;return ne-me}),g(D),A(k);const I=Math.floor(k/500)+1;Q(I),J(I*500);const ze=A_.filter(He=>He.condition(D,k)).map(He=>He.id);ge(ze)}catch(N){console.error("Error fetching progress:",N)}finally{v(!1)}})()},[i]);const Ce=async T=>{T.preventDefault(),r(!0),c(null);try{await e(ae),c("   !"),setTimeout(()=>c(null),3e3)}catch(N){console.error(N),alert("   ")}finally{r(!1)}},De=d.map(T=>T.percentage),Ie=(S-1)*500,C=Math.min(100,Math.max(0,(E-Ie)/500*100));return f.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[f.jsx("div",{className:"lg:col-span-7 space-y-8",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100",children:[f.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 h-32 relative",children:f.jsx("div",{className:"absolute -bottom-12 right-8",children:f.jsx("div",{className:"w-24 h-24 bg-white p-1 rounded-full shadow-lg",children:f.jsx("div",{className:"w-full h-full bg-emerald-100 rounded-full flex items-center justify-center",children:f.jsx(jh,{className:"w-10 h-10 text-emerald-600"})})})})}),f.jsxs("div",{className:"pt-16 pb-8 px-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i==null?void 0:i.displayName}),f.jsx("p",{className:"text-gray-500",children:i==null?void 0:i.email})]}),f.jsxs("form",{onSubmit:Ce,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 border-b pb-2",children:" "}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),f.jsx("input",{type:"text",value:ae.firstName,onChange:T=>fe({...ae,firstName:T.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),f.jsx("input",{type:"text",value:ae.lastName,onChange:T=>fe({...ae,lastName:T.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black"})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-2",children:[f.jsx(qw,{className:"w-4 h-4 text-emerald-600"}),""]}),f.jsx("input",{type:"number",value:ae.age,onChange:T=>fe({...ae,age:T.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-2",children:[f.jsx(YT,{className:"w-4 h-4 text-emerald-600"})," "]}),f.jsx("input",{type:"tel",value:ae.phone,onChange:T=>fe({...ae,phone:T.target.value}),placeholder:"05xxxxxxxx",className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-2",children:[f.jsx(rh,{className:"w-4 h-4 text-emerald-600"})," "]}),f.jsx("input",{type:"text",value:ae.address,onChange:T=>fe({...ae,address:T.target.value}),placeholder:" / ",className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 border-b pb-2",children:" "}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-2",children:[f.jsx(Kr,{className:"w-4 h-4 text-emerald-600"})," "]}),f.jsxs("select",{value:ae.grade,onChange:T=>fe({...ae,grade:T.target.value}),className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black",children:[f.jsx("option",{value:"",children:" "}),f.jsx("option",{value:"5",children:""}),f.jsx("option",{value:"6",children:""}),f.jsx("option",{value:"7",children:""}),f.jsx("option",{value:"8",children:""}),f.jsx("option",{value:"9",children:""}),f.jsx("option",{value:"10",children:""}),f.jsx("option",{value:"11",children:" "}),f.jsx("option",{value:"12",children:" "})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-2",children:[f.jsx(Uw,{className:"w-4 h-4 text-emerald-600"})," "]}),f.jsx("input",{type:"text",value:ae.school,onChange:T=>fe({...ae,school:T.target.value}),placeholder:" ",className:"w-full px-4 py-2 rounded-xl border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black"})]})]})]}),f.jsxs("div",{className:"flex items-center justify-end pt-6 border-t border-gray-50 gap-4",children:[l&&f.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium animate-fade-in",children:[f.jsx(lg,{className:"w-5 h-5"}),l]}),f.jsx("button",{type:"submit",disabled:n,className:"bg-emerald-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 flex items-center gap-2",children:n?f.jsx($i,{className:"w-5 h-5 animate-spin"}):f.jsxs(f.Fragment,{children:[f.jsx(D_,{className:"w-5 h-5"}),"  "]})})]})]})]})]})}),f.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[f.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-3xl shadow-2xl p-6 text-white relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),f.jsxs("div",{className:"flex items-center justify-between mb-6 relative z-10",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-sm",children:f.jsx(pA,{className:"w-8 h-8 text-yellow-300"})}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-2xl font-black",children:[" ",S]}),f.jsxs("p",{className:"text-indigo-100 text-sm font-medium",children:[E,"  "]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:"text-xs text-indigo-200 uppercase tracking-wider font-bold",children:""}),f.jsxs("p",{className:"font-bold",children:[G," XP"]})]})]}),f.jsx("div",{className:"w-full bg-black/20 h-4 rounded-full mb-8 relative overflow-hidden",children:f.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 h-full rounded-full transition-all duration-1000 ease-out relative",style:{width:`${C}%`},children:f.jsx("div",{className:"absolute inset-0 bg-white/30 w-full h-full animate-pulse"})})}),f.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 backdrop-blur-sm",children:[f.jsxs("h4",{className:"text-sm font-bold text-indigo-100 mb-3 flex items-center gap-2",children:[f.jsx(LT,{className:"w-4 h-4"})," "]}),f.jsx("div",{className:"grid grid-cols-5 gap-2",children:A_.map(T=>{const N=W.includes(T.id);return f.jsxs("div",{className:"group relative flex flex-col items-center justify-center",children:[f.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${N?"bg-white text-yellow-500 shadow-lg scale-100":"bg-black/20 text-gray-400 grayscale scale-90"}`,children:f.jsx(T.icon,{className:"w-5 h-5"})}),f.jsxs("div",{className:"absolute bottom-full mb-2 hidden group-hover:block w-32 bg-gray-900 text-white text-xs p-2 rounded-lg text-center z-20 shadow-xl pointer-events-none",children:[f.jsx("div",{className:"font-bold mb-1",children:T.title}),f.jsx("div",{className:"text-gray-300 text-[10px]",children:T.desc}),!N&&f.jsx("div",{className:"text-red-300 mt-1 text-[10px]",children:""})]})]},T.id)})})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-6",children:[f.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[f.jsx(mA,{className:"w-5 h-5 text-emerald-600"})," "]}),y?f.jsx("div",{className:"h-48 flex items-center justify-center",children:f.jsx($i,{className:"w-6 h-6 animate-spin text-emerald-500"})}):f.jsxs("div",{className:"space-y-4",children:[f.jsx(v3,{data:De}),f.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-xl",children:[f.jsx("span",{className:"text-gray-600 text-sm",children:" "}),f.jsxs("span",{className:`font-bold text-lg ${De.length>0&&De.reduce((T,N)=>T+N,0)/De.length>=90?"text-emerald-600":"text-blue-600"}`,children:[De.length>0?Math.round(De.reduce((T,N)=>T+N,0)/De.length):0,"%"]})]})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-6 max-h-[400px] overflow-y-auto",children:[f.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2 sticky top-0 bg-white pb-2 border-b",children:[f.jsx(uT,{className:"w-5 h-5 text-blue-600"})," "]}),y?f.jsx("div",{className:"flex justify-center py-8",children:f.jsx($i,{className:"w-6 h-6 animate-spin text-blue-500"})}):d.length===0?f.jsxs("div",{className:"text-center py-8 text-gray-400 flex flex-col items-center gap-2",children:[f.jsx(R_,{className:"w-8 h-8 opacity-50"}),f.jsx("p",{children:"     "})]}):f.jsx("div",{className:"space-y-3",children:[...d].reverse().map(T=>f.jsxs("div",{className:"p-3 rounded-xl border border-gray-100 hover:border-blue-200 hover:bg-blue-50 transition-all group",children:[f.jsxs("div",{className:"flex justify-between items-start mb-1",children:[f.jsx("span",{className:"font-bold text-gray-800 text-sm line-clamp-1",children:T.quizTitle}),f.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold ${T.passed?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:T.passed?"+50 XP":"+10 XP"})]}),f.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[f.jsx("span",{children:T.subject}),f.jsxs("span",{className:"font-bold text-gray-900 text-sm group-hover:text-blue-600",children:[T.percentage,"%"]})]})]},T.id))})]})]})]})})},b3=({onBack:i})=>{const{user:e}=aa(),[n,r]=oe.useState("SELECTION"),[l,c]=oe.useState(""),[d,g]=oe.useState(""),[y,v]=oe.useState([]),[E,A]=oe.useState(!1),[S,Q]=oe.useState(null),[G,J]=oe.useState(0),[W,ge]=oe.useState({}),[ae,fe]=oe.useState(1800),[Ce,De]=oe.useState(!1);oe.useEffect(()=>{d?Ie():v([])},[d]),oe.useEffect(()=>{let ee;return n==="ACTIVE"&&ae>0&&(ee=setInterval(()=>{fe(he=>he<=1?(k(),0):he-1)},1e3)),()=>clearInterval(ee)},[n,ae]),oe.useEffect(()=>{const ee=he=>{n==="ACTIVE"&&he.preventDefault()};return document.addEventListener("contextmenu",ee),()=>document.removeEventListener("contextmenu",ee)},[n]);const Ie=async()=>{A(!0);try{const ee=c2(Ah(ea,"quizzes"),u2("grade","==",d)),he=await m2(ee),j=[];he.forEach(z=>{j.push({id:z.id,...z.data()})}),v(j)}catch(ee){console.error("Error fetching quizzes:",ee)}finally{A(!1)}},C=Array.from(new Set(y.map(ee=>ee.subject))),T=l?y.filter(ee=>ee.subject===l):y,N=ee=>{if(!ee.questions||ee.questions.length===0){alert("      ");return}Q(ee),J(0),ge({}),fe(1800),r("ACTIVE")},O=ee=>{ge(he=>({...he,[G]:ee}))},D=()=>{S&&(G<S.questions.length-1?J(ee=>ee+1):k())},k=async()=>{if(!S||!e){r("RESULT");return}De(!0);const ee=ze(),he=Math.round(ee/S.questions.length*100);try{await g2(Ah(ea,"quiz_results"),{userId:e.uid,userName:e.displayName,quizId:S.id||"unknown",quizTitle:S.title,subject:S.subject,score:ee,totalQuestions:S.questions.length,percentage:he,passed:he>=50,createdAt:p2()})}catch(j){console.error("Error saving quiz result:",j)}finally{De(!1),r("RESULT")}},I=ee=>{const he=Math.floor(ee/60),j=ee%60;return`${he}:${j<10?"0":""}${j}`},ze=()=>{if(!S)return 0;let ee=0;return S.questions.forEach((he,j)=>{W[j]===he.correctAnswer&&ee++}),ee},He=()=>f.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12 animate-fade-in",children:[f.jsxs("div",{className:"mb-8 text-center",children:[f.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:" "}),f.jsx("p",{className:"text-gray-500 text-lg",children:"      "})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200",children:[f.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[f.jsx(ec,{className:"w-5 h-5 text-emerald-600"})," "]}),f.jsxs("select",{value:d,onChange:ee=>{g(ee.target.value),c("")},className:"w-full px-4 py-3 rounded-xl bg-white text-black border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none transition-all text-lg font-bold shadow-sm appearance-none",style:{color:"black"},children:[f.jsx("option",{value:"",className:"text-gray-500",children:" "}),[5,6,7,8,9,10,11,12].map(ee=>f.jsxs("option",{value:ee,className:"text-black",style:{color:"black"},children:[" ",ee]},ee))]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200",children:[f.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2",children:[f.jsx(Kr,{className:"w-5 h-5 text-emerald-600"})," "]}),f.jsxs("select",{value:l,onChange:ee=>c(ee.target.value),disabled:!d,className:`w-full px-4 py-3 rounded-xl bg-white border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none transition-all text-lg font-bold shadow-sm appearance-none ${d?"":"opacity-50 cursor-not-allowed"}`,style:{color:"black"},children:[f.jsx("option",{value:"",className:"text-black",style:{color:"black"},children:" "}),C.map((ee,he)=>f.jsx("option",{value:ee,className:"text-black",style:{color:"black"},children:ee},he))]})]})]}),d&&f.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[f.jsxs("h3",{className:"text-xl font-bold text-gray-900 border-r-4 border-emerald-500 pr-3 flex items-center gap-2",children:[f.jsx(L1,{className:"w-5 h-5"})," "]}),E?f.jsx("div",{className:"flex justify-center py-12",children:f.jsx($i,{className:"w-8 h-8 animate-spin text-emerald-600"})}):y.length===0?f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(Cm,{className:"w-8 h-8 text-gray-400"})}),f.jsx("p",{className:"text-gray-500 font-medium",children:"      "})]}):T.length===0?f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(Cm,{className:"w-8 h-8 text-gray-400"})}),f.jsx("p",{className:"text-gray-500 font-medium",children:"     "})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(ee=>f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md hover:border-emerald-300 transition-all group",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx("span",{className:"bg-emerald-100 text-emerald-700 text-xs font-bold px-3 py-1 rounded-full",children:ee.subject}),f.jsxs("span",{className:"text-gray-400 text-sm",children:[ee.questions.length," "]})]}),f.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:ee.title}),f.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:[" ",ee.grade]}),f.jsxs("button",{onClick:()=>N(ee),className:"w-full bg-emerald-50 text-emerald-700 border border-emerald-200 py-3 rounded-xl font-bold group-hover:bg-emerald-600 group-hover:text-white transition-all flex items-center justify-center gap-2",children:[" ",f.jsx(Sm,{className:"w-4 h-4"})]})]},ee.id))})]})]}),F=()=>{if(!S||!S.questions||!S.questions[G])return f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 gap-4",children:[f.jsx("div",{className:"text-red-500 font-bold text-xl",children:"    "}),f.jsx("button",{onClick:()=>r("SELECTION"),className:"text-blue-600 underline",children:" "})]});const ee=S.questions[G],he=W[G]!==void 0,j=G===S.questions.length-1,z=S.subject.toLowerCase().includes("english")||S.subject.includes("")||S.subject.includes(""),te=z?"ltr":"rtl",ie=z?"text-left":"text-right";return f.jsxs("div",{className:"min-h-screen bg-gray-50 select-none",onContextMenu:pe=>pe.preventDefault(),children:[f.jsxs("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:[f.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-20 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[f.jsxs("button",{onClick:()=>r("SELECTION"),className:"flex items-center gap-2 text-red-600 hover:bg-red-50 px-4 py-2 rounded-lg transition-colors border border-red-100 hover:border-red-200 bg-white shadow-sm",title:" ",children:[f.jsx(Rm,{className:"w-5 h-5"}),f.jsx("span",{className:"font-bold text-sm",children:" "})]}),f.jsx("div",{className:"h-8 w-px bg-gray-200 hidden md:block"}),f.jsxs("div",{children:[f.jsx("h2",{className:"font-bold text-black text-lg truncate max-w-[200px] md:max-w-none",children:S.title}),f.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:f.jsxs("span",{children:[" ",G+1,"  ",S.questions.length]})})]})]}),f.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full font-mono font-bold text-lg ${ae<300?"bg-red-100 text-red-600 animate-pulse":"bg-emerald-100 text-emerald-700"}`,children:[f.jsx(j_,{className:"w-5 h-5"}),I(ae)]})]}),f.jsx("div",{className:"w-full bg-gray-200 h-1.5",children:f.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-500 ease-out",style:{width:`${(G+1)/S.questions.length*100}%`}})})]}),f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 pb-24",children:[f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 p-6 md:p-10 animate-fade-in-up",dir:te,children:[f.jsx("h3",{className:`text-2xl md:text-3xl font-bold text-black leading-relaxed mb-8 ${ie}`,style:{color:"black"},children:ee.question}),f.jsx("div",{className:"space-y-4",children:ee.options.map((pe,be)=>f.jsxs("button",{onClick:()=>O(be),className:`w-full ${ie} p-5 rounded-2xl border-2 transition-all flex items-center justify-between group ${W[G]===be?"border-emerald-500 bg-emerald-50 shadow-md":"border-gray-100 bg-white hover:bg-gray-50 hover:border-emerald-200"}`,children:[f.jsx("span",{className:`text-lg font-medium ${W[G]===be?"text-emerald-900":"text-black"}`,children:pe}),f.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 ${W[G]===be?"border-emerald-600 bg-emerald-600":"border-gray-300 group-hover:border-emerald-400"}`,children:W[G]===be&&f.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]},be))})]}),f.jsx("div",{className:"mt-8 flex justify-end",children:f.jsx("button",{onClick:D,disabled:!he||Ce,className:`px-8 py-4 rounded-xl font-bold text-lg flex items-center gap-2 shadow-lg transition-all ${!he||Ce?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-emerald-200 transform hover:-translate-y-1"}`,children:Ce?f.jsxs(f.Fragment,{children:["  ",f.jsx($i,{className:"w-5 h-5 animate-spin"})]}):f.jsxs(f.Fragment,{children:[j?" ":" ",f.jsx(Sm,{className:"w-5 h-5"})]})})}),f.jsxs("div",{className:"mt-12 bg-yellow-50 border border-yellow-200 rounded-xl p-4 flex items-center justify-center gap-3 text-sm text-yellow-800 animate-fade-in",children:[f.jsx(iA,{className:"w-6 h-6 shrink-0"}),f.jsxs("div",{children:[f.jsx("span",{className:"font-bold block mb-1",children:" :"}),"  :     .       ."]})]})]})]})},ne=()=>{if(!S)return null;const ee=ze(),he=ee/S.questions.length*100;return f.jsx("div",{className:"max-w-3xl mx-auto px-4 py-12 animate-fade-in-up",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border border-gray-100 overflow-hidden",children:[f.jsxs("div",{className:"bg-emerald-600 p-8 text-center text-white relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-grid-pattern opacity-20"}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:f.jsx(ag,{className:"w-12 h-12 text-white"})}),f.jsx("h2",{className:"text-3xl font-black mb-2",children:" "}),f.jsx("p",{className:"text-emerald-100 text-lg",children:S.title})]})]}),f.jsxs("div",{className:"p-8 md:p-12 text-center",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("span",{className:`text-6xl font-black ${he>=50?"text-emerald-600":"text-red-500"}`,children:ee}),f.jsxs("span",{className:"text-gray-400 text-4xl font-bold",children:["/ ",S.questions.length]})]}),f.jsx("p",{className:"text-gray-600 text-lg mb-10",children:he>=90?"!   .":he>=75?" !  .":he>=50?"   .":"    ."}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("button",{onClick:()=>r("REVIEW"),className:"py-4 px-6 bg-blue-50 text-blue-700 font-bold rounded-xl hover:bg-blue-100 transition-colors flex items-center justify-center gap-2",children:[f.jsx(Nm,{className:"w-5 h-5"})," "]}),f.jsxs("button",{onClick:()=>N(S),className:"py-4 px-6 bg-emerald-50 text-emerald-700 font-bold rounded-xl hover:bg-emerald-100 transition-colors flex items-center justify-center gap-2",children:[f.jsx(JT,{className:"w-5 h-5"})," "]}),f.jsxs("button",{onClick:()=>r("SELECTION"),className:"py-4 px-6 bg-gray-100 text-gray-700 font-bold rounded-xl hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[f.jsx(L1,{className:"w-5 h-5"})," "]})]})]})]})})},me=()=>{if(!S)return null;const ee=S.subject.toLowerCase().includes("english")||S.subject.includes("")||S.subject.includes(""),he=ee?"ltr":"rtl",j=ee?"text-left":"text-right";return f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 animate-fade-in",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[f.jsx(Nm,{className:"w-6 h-6 text-emerald-600"})," "]}),f.jsxs("button",{onClick:()=>r("RESULT"),className:"text-gray-500 hover:text-gray-900 font-medium flex items-center gap-1",children:[f.jsx(er,{className:"w-4 h-4"})," "]})]}),f.jsx("div",{className:"space-y-8",children:S.questions.map((z,te)=>{const ie=W[te],pe=ie===z.correctAnswer;return f.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border-2 p-6 md:p-8 ${pe?"border-gray-100":"border-red-100"}`,dir:he,children:[f.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[f.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold shrink-0 ${pe?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:te+1}),f.jsx("h3",{className:`text-xl font-bold text-gray-900 leading-relaxed ${j}`,children:z.question})]}),f.jsx("div",{className:"space-y-3 mb-6",children:z.options.map((be,je)=>{let lt="p-4 rounded-xl border flex items-center justify-between ";return je===z.correctAnswer?lt+="bg-emerald-50 border-emerald-500 text-emerald-900 font-bold":je===ie&&!pe?lt+="bg-red-50 border-red-500 text-red-900 font-medium opacity-75":lt+="bg-white border-gray-200 text-gray-500 opacity-60",f.jsxs("div",{className:lt,children:[f.jsx("span",{className:j,children:be}),je===z.correctAnswer&&f.jsx(lg,{className:"w-5 h-5 text-emerald-600"}),je===ie&&!pe&&f.jsx(sT,{className:"w-5 h-5 text-red-600"})]},je)})}),z.explanation&&f.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl text-blue-900 text-sm leading-relaxed flex items-start gap-3",dir:"rtl",children:[f.jsx("div",{className:"bg-blue-100 p-1 rounded-full mt-0.5 shrink-0",children:f.jsx(Kr,{className:"w-4 h-4 text-blue-600"})}),f.jsxs("div",{className:"w-full",children:[f.jsx("span",{className:"font-bold block mb-1 text-right",children:" :"}),f.jsx("div",{className:j,dir:he,children:z.explanation})]})]})]},z.id)})})]})};return f.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",children:[n==="SELECTION"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-white border-b border-gray-200 py-4 px-4 sticky top-0 z-30",children:f.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:[f.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:f.jsx(er,{className:"w-6 h-6 text-gray-600"})}),f.jsx("span",{className:"font-bold text-gray-900",children:" "})]})}),He()]}),n==="ACTIVE"&&F(),n==="RESULT"&&ne(),n==="REVIEW"&&me()]})},x3=({className:i})=>f.jsx("svg",{viewBox:"0 0 24 24",className:i,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),E3=({className:i})=>f.jsx("svg",{viewBox:"0 0 24 24",className:i,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),w3=({onBack:i})=>{const e=[{name:".   ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",title:"  ",school:"  ",location:" ",color:"emerald",bio:"         .              .",skills:["  ","  "," ","  "],social:{facebook:"#",whatsapp:"https://wa.me/972568401548",telegram:"https://t.me/yazan1342"}},{name:".   ",image:"https://lh3.googleusercontent.com/d/1kAAQQ-PDdvK4dw6bq9sCr3umcuamh73t",title:"  ",school:"  ",location:" ",color:"blue",bio:"       .                .",skills:[" "," "," ","  "],social:{facebook:"#",whatsapp:"#",telegram:"#"}}];return f.jsxs("div",{className:"min-h-screen bg-slate-50 animate-fade-in",children:[f.jsx("div",{className:"bg-white border-b border-gray-200 py-6 px-4 sticky top-0 z-30 shadow-sm",children:f.jsx("div",{className:"max-w-6xl mx-auto flex items-center gap-4",children:f.jsxs("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-full transition-colors flex items-center gap-2 text-gray-600 font-bold",children:[f.jsx(er,{className:"w-6 h-6"})," "]})})}),f.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-4",children:"  "}),f.jsx("p",{className:"text-xl text-gray-600",children:"       "})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map((n,r)=>f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100 flex flex-col h-full hover:shadow-2xl transition-shadow duration-300",children:[f.jsx("div",{className:`bg-${n.color}-600 h-32 relative`,children:f.jsx("div",{className:"absolute -bottom-12 right-8",children:f.jsx("div",{className:"w-24 h-24 bg-white p-1 rounded-2xl shadow-lg transform rotate-3",children:f.jsx("div",{className:`w-full h-full bg-${n.color}-50 rounded-xl flex items-center justify-center overflow-hidden`,children:f.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})})})})}),f.jsxs("div",{className:"pt-16 pb-8 px-8 flex-1 flex flex-col",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-1",children:n.name}),f.jsx("p",{className:`text-${n.color}-600 font-bold text-lg mb-4`,children:n.title}),f.jsxs("div",{className:"flex flex-col gap-2 text-gray-500 text-sm mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(I_,{className:"w-4 h-4"}),n.school]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(rh,{className:"w-4 h-4"}),n.location]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("h3",{className:"font-bold text-gray-900 mb-2 flex items-center gap-2",children:[f.jsx(og,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"})," "]}),f.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.bio})]})]}),f.jsxs("div",{className:"mt-auto",children:[f.jsxs("div",{className:"mb-6",children:[f.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[f.jsx(ag,{className:`w-5 h-5 text-${n.color}-600`})," "]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((l,c)=>f.jsx("span",{className:`bg-${n.color}-50 text-${n.color}-700 px-3 py-1 rounded-lg text-sm font-medium`,children:l},c))})]}),f.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[f.jsx("h3",{className:"font-bold text-gray-900 mb-4 text-sm",children:" "}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("a",{href:n.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:f.jsx(Im,{className:"w-5 h-5"})}),f.jsx("a",{href:n.social.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-50 text-green-600 flex items-center justify-center hover:bg-green-600 hover:text-white transition-all",children:f.jsx(x3,{className:"w-5 h-5"})}),f.jsx("a",{href:n.social.telegram,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-sky-50 text-sky-600 flex items-center justify-center hover:bg-sky-600 hover:text-white transition-all",children:f.jsx(E3,{className:"w-5 h-5"})})]})]})]})]})]},r))})]})]})},T3=({onBack:i})=>f.jsxs("div",{className:"min-h-screen bg-slate-50 animate-fade-in",children:[f.jsx("div",{className:"bg-white border-b border-gray-200 py-6 px-4 sticky top-0 z-30 shadow-sm",children:f.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:f.jsxs("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-full transition-colors flex items-center gap-2 text-gray-600 font-bold",children:[f.jsx(er,{className:"w-6 h-6"})," "]})})}),f.jsxs("div",{className:"relative bg-emerald-600 py-20 overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-20"}),f.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-white opacity-10 rounded-full translate-y-1/2 -translate-x-1/2 blur-3xl"}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10 text-center",children:[f.jsx("span",{className:"bg-emerald-500/50 text-white px-4 py-1 rounded-full text-sm font-medium mb-6 inline-block backdrop-blur-sm",children:"    "}),f.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight",children:["   ",f.jsx("br",{}),"   "]}),f.jsx("p",{className:"text-emerald-100 text-xl max-w-2xl mx-auto leading-relaxed",children:"                    ."})]})]}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-20",children:[f.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 hover:shadow-lg transition-all",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mb-6",children:f.jsx(Nm,{className:"w-8 h-8 text-blue-600"})}),f.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:""}),f.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:"                   ."})]}),f.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 hover:shadow-lg transition-all",children:[f.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-2xl flex items-center justify-center mb-6",children:f.jsx(M_,{className:"w-8 h-8 text-emerald-600"})}),f.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:""}),f.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:"                  ."})]})]}),f.jsxs("div",{className:"mb-20",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-4",children:"   "}),f.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:aA,title:" ",desc:"       ."},{icon:bT,title:" ",desc:"           ."},{icon:Hw,title:" ",desc:"         ."},{icon:xA,title:" ",desc:"          ."}].map((e,n)=>f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 text-center hover:border-emerald-300 transition-all group",children:[f.jsx("div",{className:"w-14 h-14 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-emerald-100 transition-colors",children:f.jsx(e.icon,{className:"w-7 h-7 text-gray-600 group-hover:text-emerald-600"})}),f.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2",children:e.title}),f.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:e.desc})]},n))})]})]})]}),A3=({onBack:i})=>f.jsxs("div",{className:"min-h-screen bg-slate-50 animate-fade-in flex flex-col",children:[f.jsx("div",{className:"bg-white border-b border-gray-200 py-6 px-4 sticky top-0 z-30 shadow-sm",children:f.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:f.jsxs("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-full transition-colors flex items-center gap-2 text-gray-600 font-bold",children:[f.jsx(er,{className:"w-6 h-6"})," "]})})}),f.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:f.jsxs("div",{className:"bg-white p-12 rounded-3xl shadow-xl shadow-gray-100/50 border border-gray-100 max-w-md w-full flex flex-col items-center transform hover:scale-105 transition-transform duration-300",children:[f.jsx("div",{className:"w-24 h-24 bg-emerald-50 rounded-full flex items-center justify-center mb-6 animate-bounce",children:f.jsx(j_,{className:"w-12 h-12 text-emerald-600"})}),f.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-3",children:""}),f.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"        "})]})})]}),S3=({onBack:i})=>{const[e,n]=oe.useState(""),[r,l]=oe.useState(""),[c,d]=oe.useState("SELECTION"),[g,y]=oe.useState("VIDEO"),v=()=>{e&&r&&d("CONTENT")},E=()=>f.jsxs("div",{className:"w-full animate-fade-in pb-12",children:[f.jsxs("div",{className:"relative bg-blue-600 py-20 px-4 overflow-hidden rounded-b-[3rem] shadow-xl shadow-blue-200 mb-12",children:[f.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white via-transparent to-transparent"}),f.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-white opacity-10 rounded-full -translate-x-10 -translate-y-10 blur-2xl"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-blue-400 opacity-20 rounded-full translate-x-10 translate-y-10 blur-3xl"}),f.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[f.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-blue-500/30 backdrop-blur-md rounded-2xl mb-6 border border-blue-400/30",children:f.jsx(BT,{className:"w-8 h-8 text-white"})}),f.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-4 tracking-tight",children:"  "}),f.jsx("p",{className:"text-blue-100 text-lg md:text-xl max-w-2xl mx-auto font-medium leading-relaxed",children:"  ..         "})]})]}),f.jsx("div",{className:"max-w-4xl mx-auto px-4 -mt-20 relative z-20 mb-16",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-blue-100 p-8 md:p-10",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[f.jsxs("div",{className:"group",children:[f.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2 group-hover:text-blue-600 transition-colors",children:[f.jsx("div",{className:"p-2 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition-colors",children:f.jsx(Kr,{className:"w-5 h-5 text-blue-600"})})," "]}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{value:e,onChange:S=>n(S.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 border-2 border-transparent hover:border-blue-200 focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-100 outline-none transition-all text-lg font-bold text-gray-800 appearance-none cursor-pointer",children:[f.jsx("option",{value:"",className:"text-gray-400",children:" "}),f.jsx("option",{value:"English",className:"text-gray-800",children:"  (English)"})]}),f.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:f.jsx(Vo,{className:"w-5 h-5 -rotate-90"})})]})]}),f.jsxs("div",{className:"group",children:[f.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2 group-hover:text-blue-600 transition-colors",children:[f.jsx("div",{className:"p-2 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition-colors",children:f.jsx(ec,{className:"w-5 h-5 text-blue-600"})})," "]}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{value:r,onChange:S=>l(S.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 border-2 border-transparent hover:border-blue-200 focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-100 outline-none transition-all text-lg font-bold text-gray-800 appearance-none cursor-pointer",children:[f.jsx("option",{value:"",className:"text-gray-400",children:" "}),[5,6,7,8,9,10,11,12].map(S=>f.jsxs("option",{value:S,className:"text-gray-800",children:[" ",S]},S))]}),f.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:f.jsx(Vo,{className:"w-5 h-5 -rotate-90"})})]})]})]}),f.jsxs("button",{onClick:v,disabled:!e||!r,className:`w-full py-5 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all shadow-lg ${!e||!r?"bg-gray-100 text-gray-400 cursor-not-allowed shadow-none":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 hover:shadow-blue-300 hover:-translate-y-1"}`,children:[f.jsx(Cm,{className:"w-6 h-6"}),"  "]})]})})]}),A=()=>f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 animate-fade-in-up",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2 font-medium",children:[f.jsx("span",{className:"cursor-pointer hover:text-blue-600",onClick:()=>d("SELECTION"),children:""}),f.jsx("span",{className:"text-gray-300",children:"/"}),f.jsx("span",{className:"text-blue-600",children:e})]}),f.jsxs("h2",{className:"text-3xl font-black text-gray-900 flex items-center gap-3",children:[e,f.jsxs("span",{className:"text-lg font-bold bg-blue-50 text-blue-600 px-3 py-1 rounded-full border border-blue-100",children:[" ",r]})]})]}),f.jsxs("button",{onClick:()=>d("SELECTION"),className:"bg-white border border-gray-200 text-gray-600 hover:text-blue-600 hover:border-blue-200 px-5 py-2.5 rounded-xl font-bold text-sm transition-all flex items-center gap-2 w-fit shadow-sm",children:[f.jsx(er,{className:"w-4 h-4"})," "]})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl shadow-blue-100/50 border border-white overflow-hidden min-h-[600px] flex flex-col",children:[f.jsxs("div",{className:"flex border-b border-gray-100 p-2 bg-gray-50/50 gap-2",children:[f.jsxs("button",{onClick:()=>y("VIDEO"),className:`flex-1 py-3 rounded-xl font-bold text-center flex items-center justify-center gap-2 transition-all duration-300 ${g==="VIDEO"?"bg-blue-600 text-white shadow-md shadow-blue-200":"text-gray-500 hover:bg-white hover:text-blue-600"}`,children:[f.jsx(Ho,{className:"w-5 h-5"})," "]}),f.jsxs("button",{onClick:()=>y("SUMMARY"),className:`flex-1 py-3 rounded-xl font-bold text-center flex items-center justify-center gap-2 transition-all duration-300 ${g==="SUMMARY"?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"text-gray-500 hover:bg-white hover:text-indigo-600"}`,children:[f.jsx(mT,{className:"w-5 h-5"}),""]}),f.jsxs("button",{onClick:()=>y("PDF"),className:`flex-1 py-3 rounded-xl font-bold text-center flex items-center justify-center gap-2 transition-all duration-300 ${g==="PDF"?"bg-sky-600 text-white shadow-md shadow-sky-200":"text-gray-500 hover:bg-white hover:text-sky-600"}`,children:[f.jsx(pT,{className:"w-5 h-5"})," PDF"]})]}),f.jsxs("div",{className:"flex-1 p-8 md:p-16 bg-gradient-to-b from-white to-gray-50 flex flex-col items-center justify-center text-center animate-fade-in",children:[f.jsxs("div",{className:"w-32 h-32 mb-6 relative",children:[f.jsx("div",{className:"absolute inset-0 bg-blue-100 rounded-full animate-ping opacity-20"}),f.jsxs("div",{className:"relative w-full h-full bg-white rounded-full shadow-lg border-4 border-blue-50 flex items-center justify-center",children:[g==="VIDEO"&&f.jsx(Ho,{className:"w-14 h-14 text-blue-500"}),g==="SUMMARY"&&f.jsx(FT,{className:"w-14 h-14 text-indigo-500"}),g==="PDF"&&f.jsx(NT,{className:"w-14 h-14 text-sky-500"})]})]}),f.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3",children:"    "}),f.jsxs("p",{className:"text-gray-500 max-w-md text-lg leading-relaxed",children:["     ",g==="VIDEO"?" ":g==="SUMMARY"?" ":"  PDF","  .     !"]})]})]})]});return f.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",children:[f.jsx("div",{className:"bg-white/80 backdrop-blur-md border-b border-blue-100 py-4 px-4 sticky top-0 z-30 shadow-sm",children:f.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:[f.jsx("button",{onClick:i,className:"p-2 hover:bg-blue-50 rounded-full transition-colors group",children:f.jsx(er,{className:"w-6 h-6 text-gray-500 group-hover:text-blue-600 transition-colors"})}),f.jsx("span",{className:"font-bold text-gray-800 text-lg",children:" "})]})}),c==="SELECTION"?E():A()]})},N3=({className:i})=>f.jsx("svg",{viewBox:"0 0 24 24",className:i,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),I3=({className:i})=>f.jsx("svg",{viewBox:"0 0 24 24",className:i,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),R3=({onBack:i})=>{const e=n=>{let r="";switch(n){case"message":r="       .";break;case"question":r="       ...";break;case"review":r="      .";break;case"inquiry":r="    .";break;default:r="  ."}const l=`https://wa.me/972568401548?text=${encodeURIComponent(r)}`;window.open(l,"_blank")};return f.jsxs("div",{className:"min-h-screen bg-slate-50 animate-fade-in pb-20",children:[f.jsx("div",{className:"bg-white border-b border-emerald-100 py-6 px-4 sticky top-0 z-30 shadow-sm",children:f.jsx("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:f.jsxs("button",{onClick:i,className:"p-2 hover:bg-emerald-50 rounded-full transition-colors flex items-center gap-2 text-gray-600 font-bold group",children:[f.jsx(er,{className:"w-6 h-6 group-hover:text-emerald-600"})," "]})})}),f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-4",children:"  "}),f.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),f.jsx("p",{className:"mt-6 text-xl text-gray-600 max-w-2xl mx-auto",children:"     .         ."})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-emerald-100 overflow-hidden transform hover:shadow-2xl transition-all duration-300",children:[f.jsxs("div",{className:"bg-emerald-600 p-8 text-white text-center relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-20"}),f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-2xl"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white opacity-10 rounded-full translate-y-1/2 -translate-x-1/2 blur-2xl"}),f.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white/10 backdrop-blur-sm rounded-2xl mb-4 border border-white/20",children:f.jsx(ah,{className:"w-10 h-10 text-white"})}),f.jsx("h3",{className:"text-3xl font-black mb-2 relative z-10",children:"   "}),f.jsx("p",{className:"text-emerald-100 opacity-90 relative z-10 font-medium text-lg",children:"      "})]}),f.jsxs("div",{className:"p-8 md:p-12",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-12",children:[f.jsxs("button",{onClick:()=>e("message"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 hover:bg-emerald-100 transition-all group border-2 border-emerald-100 hover:border-emerald-200 hover:-translate-y-2 duration-300",children:[f.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 border border-emerald-100",children:f.jsx(ah,{className:"w-8 h-8"})}),f.jsxs("div",{children:[f.jsx("span",{className:"font-bold text-gray-900 text-lg block mb-1",children:" "}),f.jsx("span",{className:"text-gray-500 text-sm",children:"  "})]})]}),f.jsxs("button",{onClick:()=>e("question"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 hover:bg-emerald-100 transition-all group border-2 border-emerald-100 hover:border-emerald-200 hover:-translate-y-2 duration-300",children:[f.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 border border-emerald-100",children:f.jsx(C_,{className:"w-8 h-8"})}),f.jsxs("div",{children:[f.jsx("span",{className:"font-bold text-gray-900 text-lg block mb-1",children:" "}),f.jsx("span",{className:"text-gray-500 text-sm",children:"   "})]})]}),f.jsxs("button",{onClick:()=>e("review"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 hover:bg-emerald-100 transition-all group border-2 border-emerald-100 hover:border-emerald-200 hover:-translate-y-2 duration-300",children:[f.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 border border-emerald-100",children:f.jsx(dT,{className:"w-8 h-8"})}),f.jsxs("div",{children:[f.jsx("span",{className:"font-bold text-gray-900 text-lg block mb-1",children:" "}),f.jsx("span",{className:"text-gray-500 text-sm",children:"   "})]})]}),f.jsxs("button",{onClick:()=>e("inquiry"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 hover:bg-emerald-100 transition-all group border-2 border-emerald-100 hover:border-emerald-200 hover:-translate-y-2 duration-300",children:[f.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 border border-emerald-100",children:f.jsx(tA,{className:"w-8 h-8"})}),f.jsxs("div",{children:[f.jsx("span",{className:"font-bold text-gray-900 text-lg block mb-1",children:" "}),f.jsx("span",{className:"text-gray-500 text-sm",children:"   "})]})]})]}),f.jsxs("div",{className:"border-t-2 border-gray-100 pt-10",children:[f.jsx("h4",{className:"text-center text-gray-500 font-bold mb-6 uppercase tracking-wide text-sm",children:" "}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 bg-gradient-to-br from-gray-50 to-white p-8 rounded-3xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[f.jsxs("div",{className:"relative shrink-0 group cursor-pointer",children:[f.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-full blur-lg opacity-20 group-hover:opacity-40 transition-opacity"}),f.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-28 h-28 rounded-full object-cover border-4 border-white shadow-lg relative z-10"}),f.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-emerald-500 border-4 border-white rounded-full z-20"})]}),f.jsxs("div",{className:"text-center md:text-right flex-1",children:[f.jsx("h4",{className:"font-black text-2xl text-gray-900 mb-2",children:".   "}),f.jsxs("p",{className:"text-emerald-600 font-bold text-base mb-6 flex items-center justify-center md:justify-start gap-2 bg-emerald-50 w-fit mx-auto md:mx-0 px-4 py-1 rounded-full",children:[f.jsx(ec,{className:"w-5 h-5"}),"    "]}),f.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4",children:[f.jsxs("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#25D366] text-white px-6 py-3 rounded-xl font-bold text-sm hover:shadow-lg hover:scale-105 transition-all shadow-green-200",children:[f.jsx(N3,{className:"w-5 h-5"}),"  "]}),f.jsxs("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#0088cc] text-white px-6 py-3 rounded-xl font-bold text-sm hover:shadow-lg hover:scale-105 transition-all shadow-sky-200",children:[f.jsx(I3,{className:"w-5 h-5"}),"  "]})]})]})]})]})]})]})]})]})};function C3(){const[i,e]=oe.useState("HOME"),[n,r]=oe.useState(!1),[l,c]=oe.useState(!1),{logout:d}=aa();oe.useEffect(()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0)},[]),oe.useEffect(()=>{window.scrollTo(0,0)},[i]);const g=async()=>{c(!0),setTimeout(async()=>{await d(),c(!1),e("HOME")},1e3)};return f.jsxs("div",{className:"min-h-screen flex flex-col relative transition-colors duration-500 bg-slate-50",children:[l&&f.jsx("div",{className:"fixed inset-0 z-[200] bg-emerald-600 flex items-center justify-center animate-fade-in",children:f.jsx("div",{className:"text-white text-2xl font-bold animate-bounce",children:"  ..."})}),f.jsx(h3,{onLoginClick:()=>r(!0),onNavigate:y=>e(y),onLogoutClick:g}),f.jsxs("main",{className:"flex-grow",children:[i==="HOME"&&f.jsxs(f.Fragment,{children:[f.jsx(d3,{onStartQuiz:()=>e("QUIZZES"),onLoginClick:()=>r(!0),onNavigate:e}),f.jsx(g3,{onNavigate:e})]}),i==="ABOUT_PLATFORM"&&f.jsx(T3,{onBack:()=>e("HOME")}),i==="SERVICES"&&f.jsx(A3,{onBack:()=>e("HOME")}),i==="TEACHER_CV"&&f.jsx(w3,{onBack:()=>e("HOME")}),i==="PROFILE"&&f.jsx(_3,{}),i==="TEACHER_DASHBOARD"&&f.jsx(y3,{}),i==="QUIZZES"&&f.jsx(b3,{onBack:()=>e("HOME")}),i==="LESSONS"&&f.jsx(S3,{onBack:()=>e("HOME")}),i==="CONTACT_TEACHER"&&f.jsx(R3,{onBack:()=>e("HOME")})]}),f.jsx(p3,{isOpen:n,onClose:()=>r(!1)}),f.jsx("footer",{className:"bg-white py-8 border-t border-gray-100",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-400 text-sm",children:[" ",new Date().getFullYear(),"   .   ."]})})]})}const U2=document.getElementById("root");if(!U2)throw new Error("Could not find root element to mount to");const j3=Nw.createRoot(U2);j3.render(f.jsx(_w.StrictMode,{children:f.jsx(u3,{children:f.jsx(C3,{})})}));
