(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var uX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ky={exports:{}},d0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vB;function oU(){if(vB)return d0;vB=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,i){var l=null;if(i!==void 0&&(l=""+i),s.key!==void 0&&(l=""+s.key),"key"in s){i={};for(var u in s)u!=="key"&&(i[u]=s[u])}else i=s;return s=i.ref,{$$typeof:n,type:r,key:l,ref:s!==void 0?s:null,props:i}}return d0.Fragment=e,d0.jsx=t,d0.jsxs=t,d0}var BB;function lU(){return BB||(BB=1,Ky.exports=oU()),Ky.exports}var o=lU(),zy={exports:{}},sr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CB;function cU(){if(CB)return sr;CB=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),B=Symbol.iterator;function C(Y){return Y===null||typeof Y!="object"?null:(Y=B&&Y[B]||Y["@@iterator"],typeof Y=="function"?Y:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,P={};function F(Y,Q,M){this.props=Y,this.context=Q,this.refs=P,this.updater=M||U}F.prototype.isReactComponent={},F.prototype.setState=function(Y,Q){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,Q,"setState")},F.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function H(){}H.prototype=F.prototype;function K(Y,Q,M){this.props=Y,this.context=Q,this.refs=P,this.updater=M||U}var Ae=K.prototype=new H;Ae.constructor=K,E(Ae,F.prototype),Ae.isPureReactComponent=!0;var ae=Array.isArray;function se(){}var j={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function O(Y,Q,M){var z=M.ref;return{$$typeof:n,type:Y,key:Q,ref:z!==void 0?z:null,props:M}}function q(Y,Q){return O(Y.type,Q,Y.props)}function I(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function k(Y){var Q={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(M){return Q[M]})}var D=/\/+/g;function J(Y,Q){return typeof Y=="object"&&Y!==null&&Y.key!=null?k(""+Y.key):Q.toString(36)}function pe(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(se,se):(Y.status="pending",Y.then(function(Q){Y.status==="pending"&&(Y.status="fulfilled",Y.value=Q)},function(Q){Y.status==="pending"&&(Y.status="rejected",Y.reason=Q)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function te(Y,Q,M,z,re){var ue=typeof Y;(ue==="undefined"||ue==="boolean")&&(Y=null);var me=!1;if(Y===null)me=!0;else switch(ue){case"bigint":case"string":case"number":me=!0;break;case"object":switch(Y.$$typeof){case n:case e:me=!0;break;case p:return me=Y._init,te(me(Y._payload),Q,M,z,re)}}if(me)return re=re(Y),me=z===""?"."+J(Y,0):z,ae(re)?(M="",me!=null&&(M=me.replace(D,"$&/")+"/"),te(re,Q,M,"",function(Oe){return Oe})):re!=null&&(I(re)&&(re=q(re,M+(re.key==null||Y&&Y.key===re.key?"":(""+re.key).replace(D,"$&/")+"/")+me)),Q.push(re)),1;me=0;var Ne=z===""?".":z+":";if(ae(Y))for(var de=0;de<Y.length;de++)z=Y[de],ue=Ne+J(z,de),me+=te(z,Q,M,ue,re);else if(de=C(Y),typeof de=="function")for(Y=de.call(Y),de=0;!(z=Y.next()).done;)z=z.value,ue=Ne+J(z,de++),me+=te(z,Q,M,ue,re);else if(ue==="object"){if(typeof Y.then=="function")return te(pe(Y),Q,M,z,re);throw Q=String(Y),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return me}function ce(Y,Q,M){if(Y==null)return Y;var z=[],re=0;return te(Y,z,"","",function(ue){return Q.call(M,ue,re++)}),z}function ne(Y){if(Y._status===-1){var Q=Y._result;Q=Q(),Q.then(function(M){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=M)},function(M){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=M)}),Y._status===-1&&(Y._status=0,Y._result=Q)}if(Y._status===1)return Y._result.default;throw Y._result}var he=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},we={map:ce,forEach:function(Y,Q,M){ce(Y,function(){Q.apply(this,arguments)},M)},count:function(Y){var Q=0;return ce(Y,function(){Q++}),Q},toArray:function(Y){return ce(Y,function(Q){return Q})||[]},only:function(Y){if(!I(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return sr.Activity=x,sr.Children=we,sr.Component=F,sr.Fragment=t,sr.Profiler=s,sr.PureComponent=K,sr.StrictMode=r,sr.Suspense=h,sr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,sr.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return j.H.useMemoCache(Y)}},sr.cache=function(Y){return function(){return Y.apply(null,arguments)}},sr.cacheSignal=function(){return null},sr.cloneElement=function(Y,Q,M){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var z=E({},Y.props),re=Y.key;if(Q!=null)for(ue in Q.key!==void 0&&(re=""+Q.key),Q)!S.call(Q,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&Q.ref===void 0||(z[ue]=Q[ue]);var ue=arguments.length-2;if(ue===1)z.children=M;else if(1<ue){for(var me=Array(ue),Ne=0;Ne<ue;Ne++)me[Ne]=arguments[Ne+2];z.children=me}return O(Y.type,re,z)},sr.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:i,_context:Y},Y},sr.createElement=function(Y,Q,M){var z,re={},ue=null;if(Q!=null)for(z in Q.key!==void 0&&(ue=""+Q.key),Q)S.call(Q,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(re[z]=Q[z]);var me=arguments.length-2;if(me===1)re.children=M;else if(1<me){for(var Ne=Array(me),de=0;de<me;de++)Ne[de]=arguments[de+2];re.children=Ne}if(Y&&Y.defaultProps)for(z in me=Y.defaultProps,me)re[z]===void 0&&(re[z]=me[z]);return O(Y,ue,re)},sr.createRef=function(){return{current:null}},sr.forwardRef=function(Y){return{$$typeof:u,render:Y}},sr.isValidElement=I,sr.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:ne}},sr.memo=function(Y,Q){return{$$typeof:g,type:Y,compare:Q===void 0?null:Q}},sr.startTransition=function(Y){var Q=j.T,M={};j.T=M;try{var z=Y(),re=j.S;re!==null&&re(M,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(se,he)}catch(ue){he(ue)}finally{Q!==null&&M.types!==null&&(Q.types=M.types),j.T=Q}},sr.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},sr.use=function(Y){return j.H.use(Y)},sr.useActionState=function(Y,Q,M){return j.H.useActionState(Y,Q,M)},sr.useCallback=function(Y,Q){return j.H.useCallback(Y,Q)},sr.useContext=function(Y){return j.H.useContext(Y)},sr.useDebugValue=function(){},sr.useDeferredValue=function(Y,Q){return j.H.useDeferredValue(Y,Q)},sr.useEffect=function(Y,Q){return j.H.useEffect(Y,Q)},sr.useEffectEvent=function(Y){return j.H.useEffectEvent(Y)},sr.useId=function(){return j.H.useId()},sr.useImperativeHandle=function(Y,Q,M){return j.H.useImperativeHandle(Y,Q,M)},sr.useInsertionEffect=function(Y,Q){return j.H.useInsertionEffect(Y,Q)},sr.useLayoutEffect=function(Y,Q){return j.H.useLayoutEffect(Y,Q)},sr.useMemo=function(Y,Q){return j.H.useMemo(Y,Q)},sr.useOptimistic=function(Y,Q){return j.H.useOptimistic(Y,Q)},sr.useReducer=function(Y,Q,M){return j.H.useReducer(Y,Q,M)},sr.useRef=function(Y){return j.H.useRef(Y)},sr.useState=function(Y){return j.H.useState(Y)},sr.useSyncExternalStore=function(Y,Q,M){return j.H.useSyncExternalStore(Y,Q,M)},sr.useTransition=function(){return j.H.useTransition()},sr.version="19.2.0",sr}var NB;function Cw(){return NB||(NB=1,zy.exports=cU()),zy.exports}var fe=Cw();const vE=wE(fe);var qy={exports:{}},h0={},Gy={exports:{}},Xy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _B;function uU(){return _B||(_B=1,(function(n){function e(te,ce){var ne=te.length;te.push(ce);e:for(;0<ne;){var he=ne-1>>>1,we=te[he];if(0<s(we,ce))te[he]=ce,te[ne]=we,ne=he;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ce=te[0],ne=te.pop();if(ne!==ce){te[0]=ne;e:for(var he=0,we=te.length,Y=we>>>1;he<Y;){var Q=2*(he+1)-1,M=te[Q],z=Q+1,re=te[z];if(0>s(M,ne))z<we&&0>s(re,M)?(te[he]=re,te[z]=ne,he=z):(te[he]=M,te[Q]=ne,he=Q);else if(z<we&&0>s(re,ne))te[he]=re,te[z]=ne,he=z;else break e}}return ce}function s(te,ce){var ne=te.sortIndex-ce.sortIndex;return ne!==0?ne:te.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],g=[],p=1,x=null,B=3,C=!1,U=!1,E=!1,P=!1,F=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Ae(te){for(var ce=t(g);ce!==null;){if(ce.callback===null)r(g);else if(ce.startTime<=te)r(g),ce.sortIndex=ce.expirationTime,e(h,ce);else break;ce=t(g)}}function ae(te){if(E=!1,Ae(te),!U)if(t(h)!==null)U=!0,se||(se=!0,k());else{var ce=t(g);ce!==null&&pe(ae,ce.startTime-te)}}var se=!1,j=-1,S=5,O=-1;function q(){return P?!0:!(n.unstable_now()-O<S)}function I(){if(P=!1,se){var te=n.unstable_now();O=te;var ce=!0;try{e:{U=!1,E&&(E=!1,H(j),j=-1),C=!0;var ne=B;try{t:{for(Ae(te),x=t(h);x!==null&&!(x.expirationTime>te&&q());){var he=x.callback;if(typeof he=="function"){x.callback=null,B=x.priorityLevel;var we=he(x.expirationTime<=te);if(te=n.unstable_now(),typeof we=="function"){x.callback=we,Ae(te),ce=!0;break t}x===t(h)&&r(h),Ae(te)}else r(h);x=t(h)}if(x!==null)ce=!0;else{var Y=t(g);Y!==null&&pe(ae,Y.startTime-te),ce=!1}}break e}finally{x=null,B=ne,C=!1}ce=void 0}}finally{ce?k():se=!1}}}var k;if(typeof K=="function")k=function(){K(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,J=D.port2;D.port1.onmessage=I,k=function(){J.postMessage(null)}}else k=function(){F(I,0)};function pe(te,ce){j=F(function(){te(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return B},n.unstable_next=function(te){switch(B){case 1:case 2:case 3:var ce=3;break;default:ce=B}var ne=B;B=ce;try{return te()}finally{B=ne}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ne=B;B=te;try{return ce()}finally{B=ne}},n.unstable_scheduleCallback=function(te,ce,ne){var he=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?he+ne:he):ne=he,te){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ne+we,te={id:p++,callback:ce,priorityLevel:te,startTime:ne,expirationTime:we,sortIndex:-1},ne>he?(te.sortIndex=ne,e(g,te),t(h)===null&&te===t(g)&&(E?(H(j),j=-1):E=!0,pe(ae,ne-he))):(te.sortIndex=we,e(h,te),U||C||(U=!0,se||(se=!0,k()))),te},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(te){var ce=B;return function(){var ne=B;B=ce;try{return te.apply(this,arguments)}finally{B=ne}}}})(Xy)),Xy}var EB;function dU(){return EB||(EB=1,Gy.exports=uU()),Gy.exports}var Yy={exports:{}},Ca={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SB;function hU(){if(SB)return Ca;SB=1;var n=Cw();function e(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(h,g,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:h,containerInfo:g,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ca.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ca.createPortal=function(h,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return i(h,g,null,p)},Ca.flushSync=function(h){var g=l.T,p=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=g,r.p=p,r.d.f()}},Ca.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(h,g))},Ca.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Ca.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var p=g.as,x=u(p,g.crossOrigin),B=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?r.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:B,fetchPriority:C}):p==="script"&&r.d.X(h,{crossOrigin:x,integrity:B,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ca.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=u(g.as,g.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(h)},Ca.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,x=u(p,g.crossOrigin);r.d.L(h,p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ca.preloadModule=function(h,g){if(typeof h=="string")if(g){var p=u(g.as,g.crossOrigin);r.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(h)},Ca.requestFormReset=function(h){r.d.r(h)},Ca.unstable_batchedUpdates=function(h,g){return h(g)},Ca.useFormState=function(h,g,p){return l.H.useFormState(h,g,p)},Ca.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ca.version="19.2.0",Ca}var IB;function fU(){if(IB)return Yy.exports;IB=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yy.exports=hU(),Yy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TB;function gU(){if(TB)return h0;TB=1;var n=dU(),e=Cw(),t=fU();function r(a){var A="https://react.dev/errors/"+a;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)A+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function i(a){var A=a,c=a;if(a.alternate)for(;A.return;)A=A.return;else{a=A;do A=a,(A.flags&4098)!==0&&(c=A.return),a=A.return;while(a)}return A.tag===3?c:null}function l(a){if(a.tag===13){var A=a.memoizedState;if(A===null&&(a=a.alternate,a!==null&&(A=a.memoizedState)),A!==null)return A.dehydrated}return null}function u(a){if(a.tag===31){var A=a.memoizedState;if(A===null&&(a=a.alternate,a!==null&&(A=a.memoizedState)),A!==null)return A.dehydrated}return null}function h(a){if(i(a)!==a)throw Error(r(188))}function g(a){var A=a.alternate;if(!A){if(A=i(a),A===null)throw Error(r(188));return A!==a?null:a}for(var c=a,f=A;;){var b=c.return;if(b===null)break;var v=b.alternate;if(v===null){if(f=b.return,f!==null){c=f;continue}break}if(b.child===v.child){for(v=b.child;v;){if(v===c)return h(b),a;if(v===f)return h(b),A;v=v.sibling}throw Error(r(188))}if(c.return!==f.return)c=b,f=v;else{for(var R=!1,W=b.child;W;){if(W===c){R=!0,c=b,f=v;break}if(W===f){R=!0,f=b,c=v;break}W=W.sibling}if(!R){for(W=v.child;W;){if(W===c){R=!0,c=v,f=b;break}if(W===f){R=!0,f=v,c=b;break}W=W.sibling}if(!R)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:A}function p(a){var A=a.tag;if(A===5||A===26||A===27||A===6)return a;for(a=a.child;a!==null;){if(A=p(a),A!==null)return A;a=a.sibling}return null}var x=Object.assign,B=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function k(a){return a===null||typeof a!="object"?null:(a=I&&a[I]||a["@@iterator"],typeof a=="function"?a:null)}var D=Symbol.for("react.client.reference");function J(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===D?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case F:return"Profiler";case P:return"StrictMode";case ae:return"Suspense";case se:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case U:return"Portal";case K:return a.displayName||"Context";case H:return(a._context.displayName||"Context")+".Consumer";case Ae:var A=a.render;return a=a.displayName,a||(a=A.displayName||A.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return A=a.displayName||null,A!==null?A:J(a.type)||"Memo";case S:A=a._payload,a=a._init;try{return J(a(A))}catch{}}return null}var pe=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},he=[],we=-1;function Y(a){return{current:a}}function Q(a){0>we||(a.current=he[we],he[we]=null,we--)}function M(a,A){we++,he[we]=a.current,a.current=A}var z=Y(null),re=Y(null),ue=Y(null),me=Y(null);function Ne(a,A){switch(M(ue,A),M(re,a),M(z,null),A.nodeType){case 9:case 11:a=(a=A.documentElement)&&(a=a.namespaceURI)?z4(a):0;break;default:if(a=A.tagName,A=A.namespaceURI)A=z4(A),a=q4(A,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Q(z),M(z,a)}function de(){Q(z),Q(re),Q(ue)}function Oe(a){a.memoizedState!==null&&M(me,a);var A=z.current,c=q4(A,a.type);A!==c&&(M(re,a),M(z,c))}function Re(a){re.current===a&&(Q(z),Q(re)),me.current===a&&(Q(me),o0._currentValue=ne)}var et,tt;function mt(a){if(et===void 0)try{throw Error()}catch(c){var A=c.stack.trim().match(/\n( *(at )?)/);et=A&&A[1]||"",tt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+a+tt}var Ee=!1;function oe(a,A){if(!a||Ee)return"";Ee=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(A){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(Le){var Fe=Le}Reflect.construct(a,[],Xe)}else{try{Xe.call()}catch(Le){Fe=Le}a.call(Xe.prototype)}}else{try{throw Error()}catch(Le){Fe=Le}(Xe=a())&&typeof Xe.catch=="function"&&Xe.catch(function(){})}}catch(Le){if(Le&&Fe&&typeof Le.stack=="string")return[Le.stack,Fe.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),R=v[0],W=v[1];if(R&&W){var ge=R.split(`
`),Ue=W.split(`
`);for(b=f=0;f<ge.length&&!ge[f].includes("DetermineComponentFrameRoot");)f++;for(;b<Ue.length&&!Ue[b].includes("DetermineComponentFrameRoot");)b++;if(f===ge.length||b===Ue.length)for(f=ge.length-1,b=Ue.length-1;1<=f&&0<=b&&ge[f]!==Ue[b];)b--;for(;1<=f&&0<=b;f--,b--)if(ge[f]!==Ue[b]){if(f!==1||b!==1)do if(f--,b--,0>b||ge[f]!==Ue[b]){var Me=`
`+ge[f].replace(" at new "," at ");return a.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",a.displayName)),Me}while(1<=f&&0<=b);break}}}finally{Ee=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?mt(c):""}function At(a,A){switch(a.tag){case 26:case 27:case 5:return mt(a.type);case 16:return mt("Lazy");case 13:return a.child!==A&&A!==null?mt("Suspense Fallback"):mt("Suspense");case 19:return mt("SuspenseList");case 0:case 15:return oe(a.type,!1);case 11:return oe(a.type.render,!1);case 1:return oe(a.type,!0);case 31:return mt("Activity");default:return""}}function ft(a){try{var A="",c=null;do A+=At(a,c),c=a,a=a.return;while(a);return A}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Ve=Object.prototype.hasOwnProperty,Je=n.unstable_scheduleCallback,nt=n.unstable_cancelCallback,at=n.unstable_shouldYield,Nt=n.unstable_requestPaint,_t=n.unstable_now,Mt=n.unstable_getCurrentPriorityLevel,Gt=n.unstable_ImmediatePriority,Xt=n.unstable_UserBlockingPriority,ir=n.unstable_NormalPriority,kt=n.unstable_LowPriority,Pt=n.unstable_IdlePriority,ot=n.log,rn=n.unstable_setDisableYieldValue,Qe=null,Ut=null;function gt(a){if(typeof ot=="function"&&rn(a),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Qe,a)}catch{}}var Bt=Math.clz32?Math.clz32:qr,mn=Math.log,tr=Math.LN2;function qr(a){return a>>>=0,a===0?32:31-(mn(a)/tr|0)|0}var or=256,fr=262144,dr=4194304;function nr(a){var A=a&42;if(A!==0)return A;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function yt(a,A,c){var f=a.pendingLanes;if(f===0)return 0;var b=0,v=a.suspendedLanes,R=a.pingedLanes;a=a.warmLanes;var W=f&134217727;return W!==0?(f=W&~v,f!==0?b=nr(f):(R&=W,R!==0?b=nr(R):c||(c=W&~a,c!==0&&(b=nr(c))))):(W=f&~v,W!==0?b=nr(W):R!==0?b=nr(R):c||(c=f&~a,c!==0&&(b=nr(c)))),b===0?0:A!==0&&A!==b&&(A&v)===0&&(v=b&-b,c=A&-A,v>=c||v===32&&(c&4194048)!==0)?A:b}function Yt(a,A){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&A)===0}function $n(a,A){switch(a){case 1:case 2:case 4:case 8:case 64:return A+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xr(){var a=dr;return dr<<=1,(dr&62914560)===0&&(dr=4194304),a}function bn(a){for(var A=[],c=0;31>c;c++)A.push(a);return A}function qe(a,A){a.pendingLanes|=A,A!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Pe(a,A,c,f,b,v){var R=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var W=a.entanglements,ge=a.expirationTimes,Ue=a.hiddenUpdates;for(c=R&~c;0<c;){var Me=31-Bt(c),Xe=1<<Me;W[Me]=0,ge[Me]=-1;var Fe=Ue[Me];if(Fe!==null)for(Ue[Me]=null,Me=0;Me<Fe.length;Me++){var Le=Fe[Me];Le!==null&&(Le.lane&=-536870913)}c&=~Xe}f!==0&&rt(a,f,0),v!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=v&~(R&~A))}function rt(a,A,c){a.pendingLanes|=A,a.suspendedLanes&=~A;var f=31-Bt(A);a.entangledLanes|=A,a.entanglements[f]=a.entanglements[f]|1073741824|c&261930}function xt(a,A){var c=a.entangledLanes|=A;for(a=a.entanglements;c;){var f=31-Bt(c),b=1<<f;b&A|a[f]&A&&(a[f]|=A),c&=~b}}function Tt(a,A){var c=A&-A;return c=(c&42)!==0?1:vt(c),(c&(a.suspendedLanes|A))!==0?0:c}function vt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ft(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function lr(){var a=ce.p;return a!==0?a:(a=window.event,a===void 0?32:gB(a.type))}function $t(a,A){var c=ce.p;try{return ce.p=a,A()}finally{ce.p=c}}var cr=Math.random().toString(36).slice(2),Ar="__reactFiber$"+cr,kr="__reactProps$"+cr,Vn="__reactContainer$"+cr,$s="__reactEvents$"+cr,ga="__reactListeners$"+cr,Oa="__reactHandles$"+cr,eA="__reactResources$"+cr,Js="__reactMarker$"+cr;function Si(a){delete a[Ar],delete a[kr],delete a[$s],delete a[ga],delete a[Oa]}function Ws(a){var A=a[Ar];if(A)return A;for(var c=a.parentNode;c;){if(A=c[Vn]||c[Ar]){if(c=A.alternate,A.child!==null||c!==null&&c.child!==null)for(a=Z4(a);a!==null;){if(c=a[Ar])return c;a=Z4(a)}return A}a=c,c=a.parentNode}return null}function ws(a){if(a=a[Ar]||a[Vn]){var A=a.tag;if(A===5||A===6||A===13||A===31||A===26||A===27||A===3)return a}return null}function ks(a){var A=a.tag;if(A===5||A===26||A===27||A===6)return a.stateNode;throw Error(r(33))}function ti(a){var A=a[eA];return A||(A=a[eA]={hoistableStyles:new Map,hoistableScripts:new Map}),A}function _n(a){a[Js]=!0}var tA=new Set,lo={};function ri(a,A){ma(a,A),ma(a+"Capture",A)}function ma(a,A){for(lo[a]=A,a=0;a<A.length;a++)tA.add(A[a])}var ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},ll={};function NA(a){return Ve.call(ll,a)?!0:Ve.call(co,a)?!1:ol.test(a)?ll[a]=!0:(co[a]=!0,!1)}function uo(a,A,c){if(NA(A))if(c===null)a.removeAttribute(A);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(A);return;case"boolean":var f=A.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(A);return}}a.setAttribute(A,""+c)}}function Er(a,A,c){if(c===null)a.removeAttribute(A);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(A);return}a.setAttribute(A,""+c)}}function wn(a,A,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(A,c,""+f)}}function Rn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ii(a){var A=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(A==="checkbox"||A==="radio")}function _A(a,A,c){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,A);if(!a.hasOwnProperty(A)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,v=f.set;return Object.defineProperty(a,A,{configurable:!0,get:function(){return b.call(this)},set:function(R){c=""+R,v.call(this,R)}}),Object.defineProperty(a,A,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(R){c=""+R},stopTracking:function(){a._valueTracker=null,delete a[A]}}}}function Lr(a){if(!a._valueTracker){var A=Ii(a)?"checked":"value";a._valueTracker=_A(a,A,""+a[A])}}function vs(a){if(!a)return!1;var A=a._valueTracker;if(!A)return!0;var c=A.getValue(),f="";return a&&(f=Ii(a)?a.checked?"true":"false":a.value),a=f,a!==c?(A.setValue(a),!0):!1}function Zs(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Kn=/[\n"\\]/g;function is(a){return a.replace(Kn,function(A){return"\\"+A.charCodeAt(0).toString(16)+" "})}function EA(a,A,c,f,b,v,R,W){a.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.type=R:a.removeAttribute("type"),A!=null?R==="number"?(A===0&&a.value===""||a.value!=A)&&(a.value=""+Rn(A)):a.value!==""+Rn(A)&&(a.value=""+Rn(A)):R!=="submit"&&R!=="reset"||a.removeAttribute("value"),A!=null?ho(a,R,Rn(A)):c!=null?ho(a,R,Rn(c)):f!=null&&a.removeAttribute("value"),b==null&&v!=null&&(a.defaultChecked=!!v),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?a.name=""+Rn(W):a.removeAttribute("name")}function sc(a,A,c,f,b,v,R,W){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),A!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||A!=null)){Lr(a);return}c=c!=null?""+Rn(c):"",A=A!=null?""+Rn(A):c,W||A===a.value||(a.value=A),a.defaultValue=A}f=f??b,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=W?a.checked:!!f,a.defaultChecked=!!f,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.name=R),Lr(a)}function ho(a,A,c){A==="number"&&Zs(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function rA(a,A,c,f){if(a=a.options,A){A={};for(var b=0;b<c.length;b++)A["$"+c[b]]=!0;for(c=0;c<a.length;c++)b=A.hasOwnProperty("$"+a[c].value),a[c].selected!==b&&(a[c].selected=b),b&&f&&(a[c].defaultSelected=!0)}else{for(c=""+Rn(c),A=null,b=0;b<a.length;b++){if(a[b].value===c){a[b].selected=!0,f&&(a[b].defaultSelected=!0);return}A!==null||a[b].disabled||(A=a[b])}A!==null&&(A.selected=!0)}}function cl(a,A,c){if(A!=null&&(A=""+Rn(A),A!==a.value&&(a.value=A),c==null)){a.defaultValue!==A&&(a.defaultValue=A);return}a.defaultValue=c!=null?""+Rn(c):""}function nA(a,A,c,f){if(A==null){if(f!=null){if(c!=null)throw Error(r(92));if(pe(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),A=c}c=Rn(A),a.defaultValue=c,f=a.textContent,f===c&&f!==""&&f!==null&&(a.value=f),Lr(a)}function As(a,A){if(A){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=A;return}}a.textContent=A}var ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(a,A,c){var f=A.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?a.setProperty(A,""):A==="float"?a.cssFloat="":a[A]="":f?a.setProperty(A,c):typeof c!="number"||c===0||ac.has(A)?A==="float"?a.cssFloat=c:a[A]=(""+c).trim():a[A]=c+"px"}function dl(a,A,c){if(A!=null&&typeof A!="object")throw Error(r(62));if(a=a.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||A!=null&&A.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var b in A)f=A[b],A.hasOwnProperty(b)&&c[b]!==f&&ul(a,b,f)}else for(var v in A)A.hasOwnProperty(v)&&ul(a,v,A[v])}function pa(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ma=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function IA(a){return Ma.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function nn(){}var hl=null;function ea(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ot=null,ni=null;function TA(a){var A=ws(a);if(A&&(a=A.stateNode)){var c=a[kr]||null;e:switch(a=A.stateNode,A.type){case"input":if(EA(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),A=c.name,c.type==="radio"&&A!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+is(""+A)+'"][type="radio"]'),A=0;A<c.length;A++){var f=c[A];if(f!==a&&f.form===a.form){var b=f[kr]||null;if(!b)throw Error(r(90));EA(f,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(A=0;A<c.length;A++)f=c[A],f.form===a.form&&vs(f)}break e;case"textarea":cl(a,c.value,c.defaultValue);break e;case"select":A=c.value,A!=null&&rA(a,!!c.multiple,A,!1)}}}var ta=!1;function Ti(a,A,c){if(ta)return a(A,c);ta=!0;try{var f=a(A);return f}finally{if(ta=!1,(Ot!==null||ni!==null)&&(wm(),Ot&&(A=Ot,a=ni,ni=Ot=null,TA(A),a)))for(A=0;A<a.length;A++)TA(a[A])}}function xa(a,A){var c=a.stateNode;if(c===null)return null;var f=c[kr]||null;if(f===null)return null;c=f[A];e:switch(A){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,A,typeof c));return c}var Bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ji=!1;if(Bs)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){ji=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{ji=!1}var si=null,fl=null,Ui=null;function Fi(){if(Ui)return Ui;var a,A=fl,c=A.length,f,b="value"in si?si.value:si.textContent,v=b.length;for(a=0;a<c&&A[a]===b[a];a++);var R=c-a;for(f=1;f<=R&&A[c-f]===b[v-f];f++);return Ui=b.slice(a,1<f?1-f:void 0)}function ya(a){var A=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&A===13&&(a=13)):a=A,a===10&&(a=13),32<=a||a===13?a:0}function Qi(){return!0}function Cs(){return!1}function Dn(a){function A(c,f,b,v,R){this._reactName=c,this._targetInst=b,this.type=f,this.nativeEvent=v,this.target=R,this.currentTarget=null;for(var W in a)a.hasOwnProperty(W)&&(c=a[W],this[W]=c?c(v):v[W]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Qi:Cs,this.isPropagationStopped=Cs,this}return x(A.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),A}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Dn(ba),Li=x({},ba,{view:0,detail:0}),fo=Dn(Li),ki,ra,os,go=x({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==os&&(os&&a.type==="mousemove"?(ki=a.screenX-os.screenX,ra=a.screenY-os.screenY):ra=ki=0,os=a),ki)},movementY:function(a){return"movementY"in a?a.movementY:ra}}),ai=Dn(go),Ns=x({},go,{dataTransfer:0}),mo=Dn(Ns),sA=x({},Li,{relatedTarget:0}),jA=Dn(sA),aA=x({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),ic=Dn(aA),iA=x({},ba,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),po=Dn(iA),gl=x({},ba,{data:0}),na=Dn(gl),xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ac(a){var A=this.nativeEvent;return A.getModifierState?A.getModifierState(a):(a=ml[a])?!!A[a]:!1}function Ha(){return Ac}var On=x({},Li,{key:function(a){if(a.key){var A=xo[a.key]||a.key;if(A!=="Unidentified")return A}return a.type==="keypress"?(a=ya(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?yo[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(a){return a.type==="keypress"?ya(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ya(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),bo=Dn(On),Ri=x({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Va=Dn(Ri),d=x({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),y=Dn(d),N=x({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),L=Dn(N),Z=x({},go,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),le=Dn(Z),Ce=x({},ba,{newState:0,oldState:0}),Ye=Dn(Ce),ut=[9,13,27,32],ht=Bs&&"CompositionEvent"in window,bt=null;Bs&&"documentMode"in document&&(bt=document.documentMode);var Jt=Bs&&"TextEvent"in window&&!bt,Tr=Bs&&(!ht||bt&&8<bt&&11>=bt),jr=" ",Dr=!1;function En(a,A){switch(a){case"keyup":return ut.indexOf(A.keyCode)!==-1;case"keydown":return A.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vn(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Rs=!1;function Ka(a,A){switch(a){case"compositionend":return vn(A);case"keypress":return A.which!==32?null:(Dr=!0,jr);case"textInput":return a=A.data,a===jr&&Dr?null:a;default:return null}}function AA(a,A){if(Rs)return a==="compositionend"||!ht&&En(a,A)?(a=Fi(),Ui=fl=si=null,Rs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(A.ctrlKey||A.altKey||A.metaKey)||A.ctrlKey&&A.altKey){if(A.char&&1<A.char.length)return A.char;if(A.which)return String.fromCharCode(A.which)}return null;case"compositionend":return Tr&&A.locale!=="ko"?null:A.data;default:return null}}var Td={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(a){var A=a&&a.nodeName&&a.nodeName.toLowerCase();return A==="input"?!!Td[a.type]:A==="textarea"}function lc(a,A,c,f){Ot?ni?ni.push(f):ni=[f]:Ot=f,A=Sm(A,"onChange"),0<A.length&&(c=new Pa("onChange","change",null,c,f),a.push({event:c,listeners:A}))}var oA=null,UA=null;function ju(a){O4(a,0)}function FA(a){var A=ks(a);if(vs(A))return a}function ls(a,A){if(a==="change")return A}var pl=!1;if(Bs){var wo;if(Bs){var vo="oninput"in document;if(!vo){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),vo=typeof cc.oninput=="function"}wo=vo}else wo=!1;pl=wo&&(!document.documentMode||9<document.documentMode)}function sa(){oA&&(oA.detachEvent("onpropertychange",jd),UA=oA=null)}function jd(a){if(a.propertyName==="value"&&FA(UA)){var A=[];lc(A,UA,a,ea(a)),Ti(ju,A)}}function Uu(a,A,c){a==="focusin"?(sa(),oA=A,UA=c,oA.attachEvent("onpropertychange",jd)):a==="focusout"&&sa()}function Ud(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return FA(UA)}function ii(a,A){if(a==="click")return FA(A)}function uc(a,A){if(a==="input"||a==="change")return FA(A)}function Fd(a,A){return a===A&&(a!==0||1/a===1/A)||a!==a&&A!==A}var Ds=typeof Object.is=="function"?Object.is:Fd;function Ai(a,A){if(Ds(a,A))return!0;if(typeof a!="object"||a===null||typeof A!="object"||A===null)return!1;var c=Object.keys(a),f=Object.keys(A);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var b=c[f];if(!Ve.call(A,b)||!Ds(a[b],A[b]))return!1}return!0}function Bo(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function aa(a,A){var c=Bo(a);a=0;for(var f;c;){if(c.nodeType===3){if(f=a+c.textContent.length,a<=A&&f>=A)return{node:c,offset:A-a};a=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Bo(c)}}function Os(a,A){return a&&A?a===A?!0:a&&a.nodeType===3?!1:A&&A.nodeType===3?Os(a,A.parentNode):"contains"in a?a.contains(A):a.compareDocumentPosition?!!(a.compareDocumentPosition(A)&16):!1:!1}function QA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var A=Zs(a.document);A instanceof a.HTMLIFrameElement;){try{var c=typeof A.contentWindow.location.href=="string"}catch{c=!1}if(c)a=A.contentWindow;else break;A=Zs(a.document)}return A}function Di(a){var A=a&&a.nodeName&&a.nodeName.toLowerCase();return A&&(A==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||A==="textarea"||a.contentEditable==="true")}var LA=Bs&&"documentMode"in document&&11>=document.documentMode,Oi=null,Mi=null,cn=null,xl=!1;function Ms(a,A,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xl||Oi==null||Oi!==Zs(f)||(f=Oi,"selectionStart"in f&&Di(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),cn&&Ai(cn,f)||(cn=f,f=Sm(Mi,"onSelect"),0<f.length&&(A=new Pa("onSelect","select",null,A,c),a.push({event:A,listeners:f}),A.target=Oi)))}function cs(a,A){var c={};return c[a.toLowerCase()]=A.toLowerCase(),c["Webkit"+a]="webkit"+A,c["Moz"+a]="moz"+A,c}var Pi={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},dc={},hc={};Bs&&(hc=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function za(a){if(dc[a])return dc[a];if(!Pi[a])return a;var A=Pi[a],c;for(c in A)if(A.hasOwnProperty(c)&&c in hc)return dc[a]=A[c];return a}var Co=za("animationend"),kA=za("animationiteration"),No=za("animationstart"),fc=za("transitionrun"),yl=za("transitionstart"),_o=za("transitioncancel"),gc=za("transitionend"),qa=new Map,wa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wa.push("scrollEnd");function mr(a,A){qa.set(a,A),ri(A,[a])}var Hr=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ur=[],pn=0,Hi=0;function Eo(){for(var a=pn,A=Hi=pn=0;A<a;){var c=Ur[A];Ur[A++]=null;var f=Ur[A];Ur[A++]=null;var b=Ur[A];Ur[A++]=null;var v=Ur[A];if(Ur[A++]=null,f!==null&&b!==null){var R=f.pending;R===null?b.next=b:(b.next=R.next,R.next=b),f.pending=b}v!==0&&Fu(c,b,v)}}function RA(a,A,c,f){Ur[pn++]=a,Ur[pn++]=A,Ur[pn++]=c,Ur[pn++]=f,Hi|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function mc(a,A,c,f){return RA(a,A,c,f),Ps(a)}function DA(a,A){return RA(a,null,null,A),Ps(a)}function Fu(a,A,c){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c);for(var b=!1,v=a.return;v!==null;)v.childLanes|=c,f=v.alternate,f!==null&&(f.childLanes|=c),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(b=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,b&&A!==null&&(b=31-Bt(c),a=v.hiddenUpdates,f=a[b],f===null?a[b]=[A]:f.push(A),A.lane=c|536870912),v):null}function Ps(a){if(50<t0)throw t0=0,fy=null,Error(r(185));for(var A=a.return;A!==null;)a=A,A=a.return;return a.tag===3?a.stateNode:null}var _s={};function Qd(a,A,c,f){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=A,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(a,A,c,f){return new Qd(a,A,c,f)}function Ld(a){return a=a.prototype,!(!a||!a.isReactComponent)}function oi(a,A){var c=a.alternate;return c===null?(c=Hs(a.tag,A,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=A,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,A=a.dependencies,c.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Qu(a,A){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=A,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,A=c.dependencies,a.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),a}function pc(a,A,c,f,b,v){var R=0;if(f=a,typeof a=="function")Ld(a)&&(R=1);else if(typeof a=="string")R=$j(a,c,z.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=Hs(31,c,A,b),a.elementType=O,a.lanes=v,a;case E:return So(c.children,b,v,A);case P:R=8,b|=24;break;case F:return a=Hs(12,c,A,b|2),a.elementType=F,a.lanes=v,a;case ae:return a=Hs(13,c,A,b),a.elementType=ae,a.lanes=v,a;case se:return a=Hs(19,c,A,b),a.elementType=se,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case K:R=10;break e;case H:R=9;break e;case Ae:R=11;break e;case j:R=14;break e;case S:R=16,f=null;break e}R=29,c=Error(r(130,a===null?"null":typeof a,"")),f=null}return A=Hs(R,c,A,b),A.elementType=a,A.type=f,A.lanes=v,A}function So(a,A,c,f){return a=Hs(7,a,f,A),a.lanes=c,a}function Lu(a,A,c){return a=Hs(6,a,null,A),a.lanes=c,a}function kd(a){var A=Hs(18,null,null,0);return A.stateNode=a,A}function xc(a,A,c){return A=Hs(4,a.children!==null?a.children:[],a.key,A),A.lanes=c,A.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},A}var Rd=new WeakMap;function li(a,A){if(typeof a=="object"&&a!==null){var c=Rd.get(a);return c!==void 0?c:(A={value:a,source:A,stack:ft(A)},Rd.set(a,A),A)}return{value:a,source:A,stack:ft(A)}}var yc=[],bl=0,Dd=null,ku=0,ci=[],ui=0,Io=null,di=1,hi="";function Ga(a,A){yc[bl++]=ku,yc[bl++]=Dd,Dd=a,ku=A}function em(a,A,c){ci[ui++]=di,ci[ui++]=hi,ci[ui++]=Io,Io=a;var f=di;a=hi;var b=32-Bt(f)-1;f&=~(1<<b),c+=1;var v=32-Bt(A)+b;if(30<v){var R=b-b%5;v=(f&(1<<R)-1).toString(32),f>>=R,b-=R,di=1<<32-Bt(A)+b|c<<b|f,hi=v+a}else di=1<<v|c<<b|f,hi=a}function Qf(a){a.return!==null&&(Ga(a,1),em(a,1,0))}function Od(a){for(;a===Dd;)Dd=yc[--bl],yc[bl]=null,ku=yc[--bl],yc[bl]=null;for(;a===Io;)Io=ci[--ui],ci[ui]=null,hi=ci[--ui],ci[ui]=null,di=ci[--ui],ci[ui]=null}function tm(a,A){ci[ui++]=di,ci[ui++]=hi,ci[ui++]=Io,di=A.id,hi=A.overflow,Io=a}var Es=null,un=null,pr=!1,ia=null,Sn=!1,Vi=Error(r(519));function To(a){var A=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bc(li(A,a)),Vi}function Lf(a){var A=a.stateNode,c=a.type,f=a.memoizedProps;switch(A[Ar]=a,A[kr]=f,c){case"dialog":br("cancel",A),br("close",A);break;case"iframe":case"object":case"embed":br("load",A);break;case"video":case"audio":for(c=0;c<n0.length;c++)br(n0[c],A);break;case"source":br("error",A);break;case"img":case"image":case"link":br("error",A),br("load",A);break;case"details":br("toggle",A);break;case"input":br("invalid",A),sc(A,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":br("invalid",A);break;case"textarea":br("invalid",A),nA(A,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||A.textContent===""+c||f.suppressHydrationWarning===!0||V4(A.textContent,c)?(f.popover!=null&&(br("beforetoggle",A),br("toggle",A)),f.onScroll!=null&&br("scroll",A),f.onScrollEnd!=null&&br("scrollend",A),f.onClick!=null&&(A.onclick=nn),A=!0):A=!1,A||To(a,!0)}function OA(a){for(Es=a.return;Es;)switch(Es.tag){case 5:case 31:case 13:Sn=!1;return;case 27:case 3:Sn=!0;return;default:Es=Es.return}}function Ss(a){if(a!==Es)return!1;if(!pr)return OA(a),pr=!0,!1;var A=a.tag,c;if((c=A!==3&&A!==27)&&((c=A===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Iy(a.type,a.memoizedProps)),c=!c),c&&un&&To(a),OA(a),A===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));un=W4(a)}else if(A===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));un=W4(a)}else A===27?(A=un,Qc(a.type)?(a=Qy,Qy=null,un=a):un=A):un=Es?gA(a.stateNode.nextSibling):null;return!0}function wl(){un=Es=null,pr=!1}function kf(){var a=ia;return a!==null&&(yi===null?yi=a:yi.push.apply(yi,a),ia=null),a}function bc(a){ia===null?ia=[a]:ia.push(a)}var Md=Y(null),jo=null,lA=null;function Uo(a,A,c){M(Md,A._currentValue),A._currentValue=c}function fi(a){a._currentValue=Md.current,Q(Md)}function wc(a,A,c){for(;a!==null;){var f=a.alternate;if((a.childLanes&A)!==A?(a.childLanes|=A,f!==null&&(f.childLanes|=A)):f!==null&&(f.childLanes&A)!==A&&(f.childLanes|=A),a===c)break;a=a.return}}function vl(a,A,c,f){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var v=b.dependencies;if(v!==null){var R=b.child;v=v.firstContext;e:for(;v!==null;){var W=v;v=b;for(var ge=0;ge<A.length;ge++)if(W.context===A[ge]){v.lanes|=c,W=v.alternate,W!==null&&(W.lanes|=c),wc(v.return,c,a),f||(R=null);break e}v=W.next}}else if(b.tag===18){if(R=b.return,R===null)throw Error(r(341));R.lanes|=c,v=R.alternate,v!==null&&(v.lanes|=c),wc(R,c,a),R=null}else R=b.child;if(R!==null)R.return=b;else for(R=b;R!==null;){if(R===a){R=null;break}if(b=R.sibling,b!==null){b.return=R.return,R=b;break}R=R.return}b=R}}function Fo(a,A,c,f){a=null;for(var b=A,v=!1;b!==null;){if(!v){if((b.flags&524288)!==0)v=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var R=b.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var W=b.type;Ds(b.pendingProps.value,R.value)||(a!==null?a.push(W):a=[W])}}else if(b===me.current){if(R=b.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(o0):a=[o0])}b=b.return}a!==null&&vl(A,a,c,f),A.flags|=262144}function Pd(a){for(a=a.firstContext;a!==null;){if(!Ds(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Qo(a){jo=a,lA=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Is(a){return rm(jo,a)}function Hd(a,A){return jo===null&&Qo(a),rm(a,A)}function rm(a,A){var c=A._currentValue;if(A={context:A,memoizedValue:c,next:null},lA===null){if(a===null)throw Error(r(308));lA=A,a.dependencies={lanes:0,firstContext:A},a.flags|=524288}else lA=lA.next=A;return c}var Fx=typeof AbortController<"u"?AbortController:function(){var a=[],A=this.signal={aborted:!1,addEventListener:function(c,f){a.push(f)}};this.abort=function(){A.aborted=!0,a.forEach(function(c){return c()})}},Qx=n.unstable_scheduleCallback,Lx=n.unstable_NormalPriority,Mn={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vc(){return{controller:new Fx,data:new Map,refCount:0}}function Ru(a){a.refCount--,a.refCount===0&&Qx(Lx,function(){a.controller.abort()})}var Du=null,Vd=0,m=0,w=null;function _(a,A){if(Du===null){var c=Du=[];Vd=0,m=by(),w={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Vd++,A.then(T,T),A}function T(){if(--Vd===0&&Du!==null){w!==null&&(w.status="fulfilled");var a=Du;Du=null,m=0,w=null;for(var A=0;A<a.length;A++)(0,a[A])()}}function V(a,A){var c=[],f={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return a.then(function(){f.status="fulfilled",f.value=A;for(var b=0;b<c.length;b++)(0,c[b])(A)},function(b){for(f.status="rejected",f.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),f}var G=te.S;te.S=function(a,A){h4=_t(),typeof A=="object"&&A!==null&&typeof A.then=="function"&&_(a,A),G!==null&&G(a,A)};var X=Y(null);function $(){var a=X.current;return a!==null?a:hn.pooledCache}function ee(a,A){A===null?M(X,X.current):M(X,A.pool)}function ie(){var a=$();return a===null?null:{parent:Mn._currentValue,pool:a}}var xe=Error(r(460)),Te=Error(r(474)),Ie=Error(r(542)),Be={then:function(){}};function Ge(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ke(a,A,c){switch(c=a[c],c===void 0?a.push(A):c!==A&&(A.then(nn,nn),A=c),A.status){case"fulfilled":return A.value;case"rejected":throw a=A.reason,$e(a),a;default:if(typeof A.status=="string")A.then(nn,nn);else{if(a=hn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=A,a.status="pending",a.then(function(f){if(A.status==="pending"){var b=A;b.status="fulfilled",b.value=f}},function(f){if(A.status==="pending"){var b=A;b.status="rejected",b.reason=f}})}switch(A.status){case"fulfilled":return A.value;case"rejected":throw a=A.reason,$e(a),a}throw ve=A,xe}}function ye(a){try{var A=a._init;return A(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ve=c,xe):c}}var ve=null;function Ke(){if(ve===null)throw Error(r(459));var a=ve;return ve=null,a}function $e(a){if(a===xe||a===Ie)throw Error(r(483))}var He=null,dt=0;function it(a){var A=dt;return dt+=1,He===null&&(He=[]),ke(He,a,A)}function Lt(a,A){A=A.props.ref,a.ref=A!==void 0?A:null}function lt(a,A){throw A.$$typeof===B?Error(r(525)):(a=Object.prototype.toString.call(A),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":a)))}function Fr(a){function A(_e,be){if(a){var je=_e.deletions;je===null?(_e.deletions=[be],_e.flags|=16):je.push(be)}}function c(_e,be){if(!a)return null;for(;be!==null;)A(_e,be),be=be.sibling;return null}function f(_e){for(var be=new Map;_e!==null;)_e.key!==null?be.set(_e.key,_e):be.set(_e.index,_e),_e=_e.sibling;return be}function b(_e,be){return _e=oi(_e,be),_e.index=0,_e.sibling=null,_e}function v(_e,be,je){return _e.index=je,a?(je=_e.alternate,je!==null?(je=je.index,je<be?(_e.flags|=67108866,be):je):(_e.flags|=67108866,be)):(_e.flags|=1048576,be)}function R(_e){return a&&_e.alternate===null&&(_e.flags|=67108866),_e}function W(_e,be,je,ze){return be===null||be.tag!==6?(be=Lu(je,_e.mode,ze),be.return=_e,be):(be=b(be,je),be.return=_e,be)}function ge(_e,be,je,ze){var Rt=je.type;return Rt===E?Me(_e,be,je.props.children,ze,je.key):be!==null&&(be.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===S&&ye(Rt)===be.type)?(be=b(be,je.props),Lt(be,je),be.return=_e,be):(be=pc(je.type,je.key,je.props,null,_e.mode,ze),Lt(be,je),be.return=_e,be)}function Ue(_e,be,je,ze){return be===null||be.tag!==4||be.stateNode.containerInfo!==je.containerInfo||be.stateNode.implementation!==je.implementation?(be=xc(je,_e.mode,ze),be.return=_e,be):(be=b(be,je.children||[]),be.return=_e,be)}function Me(_e,be,je,ze,Rt){return be===null||be.tag!==7?(be=So(je,_e.mode,ze,Rt),be.return=_e,be):(be=b(be,je),be.return=_e,be)}function Xe(_e,be,je){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Lu(""+be,_e.mode,je),be.return=_e,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case C:return je=pc(be.type,be.key,be.props,null,_e.mode,je),Lt(je,be),je.return=_e,je;case U:return be=xc(be,_e.mode,je),be.return=_e,be;case S:return be=ye(be),Xe(_e,be,je)}if(pe(be)||k(be))return be=So(be,_e.mode,je,null),be.return=_e,be;if(typeof be.then=="function")return Xe(_e,it(be),je);if(be.$$typeof===K)return Xe(_e,Hd(_e,be),je);lt(_e,be)}return null}function Fe(_e,be,je,ze){var Rt=be!==null?be.key:null;if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return Rt!==null?null:W(_e,be,""+je,ze);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case C:return je.key===Rt?ge(_e,be,je,ze):null;case U:return je.key===Rt?Ue(_e,be,je,ze):null;case S:return je=ye(je),Fe(_e,be,je,ze)}if(pe(je)||k(je))return Rt!==null?null:Me(_e,be,je,ze,null);if(typeof je.then=="function")return Fe(_e,be,it(je),ze);if(je.$$typeof===K)return Fe(_e,be,Hd(_e,je),ze);lt(_e,je)}return null}function Le(_e,be,je,ze,Rt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return _e=_e.get(je)||null,W(be,_e,""+ze,Rt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case C:return _e=_e.get(ze.key===null?je:ze.key)||null,ge(be,_e,ze,Rt);case U:return _e=_e.get(ze.key===null?je:ze.key)||null,Ue(be,_e,ze,Rt);case S:return ze=ye(ze),Le(_e,be,je,ze,Rt)}if(pe(ze)||k(ze))return _e=_e.get(je)||null,Me(be,_e,ze,Rt,null);if(typeof ze.then=="function")return Le(_e,be,je,it(ze),Rt);if(ze.$$typeof===K)return Le(_e,be,je,Hd(be,ze),Rt);lt(be,ze)}return null}function Et(_e,be,je,ze){for(var Rt=null,Mr=null,jt=be,ur=be=0,Br=null;jt!==null&&ur<je.length;ur++){jt.index>ur?(Br=jt,jt=null):Br=jt.sibling;var Pr=Fe(_e,jt,je[ur],ze);if(Pr===null){jt===null&&(jt=Br);break}a&&jt&&Pr.alternate===null&&A(_e,jt),be=v(Pr,be,ur),Mr===null?Rt=Pr:Mr.sibling=Pr,Mr=Pr,jt=Br}if(ur===je.length)return c(_e,jt),pr&&Ga(_e,ur),Rt;if(jt===null){for(;ur<je.length;ur++)jt=Xe(_e,je[ur],ze),jt!==null&&(be=v(jt,be,ur),Mr===null?Rt=jt:Mr.sibling=jt,Mr=jt);return pr&&Ga(_e,ur),Rt}for(jt=f(jt);ur<je.length;ur++)Br=Le(jt,_e,ur,je[ur],ze),Br!==null&&(a&&Br.alternate!==null&&jt.delete(Br.key===null?ur:Br.key),be=v(Br,be,ur),Mr===null?Rt=Br:Mr.sibling=Br,Mr=Br);return a&&jt.forEach(function(Oc){return A(_e,Oc)}),pr&&Ga(_e,ur),Rt}function Vt(_e,be,je,ze){if(je==null)throw Error(r(151));for(var Rt=null,Mr=null,jt=be,ur=be=0,Br=null,Pr=je.next();jt!==null&&!Pr.done;ur++,Pr=je.next()){jt.index>ur?(Br=jt,jt=null):Br=jt.sibling;var Oc=Fe(_e,jt,Pr.value,ze);if(Oc===null){jt===null&&(jt=Br);break}a&&jt&&Oc.alternate===null&&A(_e,jt),be=v(Oc,be,ur),Mr===null?Rt=Oc:Mr.sibling=Oc,Mr=Oc,jt=Br}if(Pr.done)return c(_e,jt),pr&&Ga(_e,ur),Rt;if(jt===null){for(;!Pr.done;ur++,Pr=je.next())Pr=Xe(_e,Pr.value,ze),Pr!==null&&(be=v(Pr,be,ur),Mr===null?Rt=Pr:Mr.sibling=Pr,Mr=Pr);return pr&&Ga(_e,ur),Rt}for(jt=f(jt);!Pr.done;ur++,Pr=je.next())Pr=Le(jt,_e,ur,Pr.value,ze),Pr!==null&&(a&&Pr.alternate!==null&&jt.delete(Pr.key===null?ur:Pr.key),be=v(Pr,be,ur),Mr===null?Rt=Pr:Mr.sibling=Pr,Mr=Pr);return a&&jt.forEach(function(AU){return A(_e,AU)}),pr&&Ga(_e,ur),Rt}function An(_e,be,je,ze){if(typeof je=="object"&&je!==null&&je.type===E&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case C:e:{for(var Rt=je.key;be!==null;){if(be.key===Rt){if(Rt=je.type,Rt===E){if(be.tag===7){c(_e,be.sibling),ze=b(be,je.props.children),ze.return=_e,_e=ze;break e}}else if(be.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===S&&ye(Rt)===be.type){c(_e,be.sibling),ze=b(be,je.props),Lt(ze,je),ze.return=_e,_e=ze;break e}c(_e,be);break}else A(_e,be);be=be.sibling}je.type===E?(ze=So(je.props.children,_e.mode,ze,je.key),ze.return=_e,_e=ze):(ze=pc(je.type,je.key,je.props,null,_e.mode,ze),Lt(ze,je),ze.return=_e,_e=ze)}return R(_e);case U:e:{for(Rt=je.key;be!==null;){if(be.key===Rt)if(be.tag===4&&be.stateNode.containerInfo===je.containerInfo&&be.stateNode.implementation===je.implementation){c(_e,be.sibling),ze=b(be,je.children||[]),ze.return=_e,_e=ze;break e}else{c(_e,be);break}else A(_e,be);be=be.sibling}ze=xc(je,_e.mode,ze),ze.return=_e,_e=ze}return R(_e);case S:return je=ye(je),An(_e,be,je,ze)}if(pe(je))return Et(_e,be,je,ze);if(k(je)){if(Rt=k(je),typeof Rt!="function")throw Error(r(150));return je=Rt.call(je),Vt(_e,be,je,ze)}if(typeof je.then=="function")return An(_e,be,it(je),ze);if(je.$$typeof===K)return An(_e,be,Hd(_e,je),ze);lt(_e,je)}return typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint"?(je=""+je,be!==null&&be.tag===6?(c(_e,be.sibling),ze=b(be,je),ze.return=_e,_e=ze):(c(_e,be),ze=Lu(je,_e.mode,ze),ze.return=_e,_e=ze),R(_e)):c(_e,be)}return function(_e,be,je,ze){try{dt=0;var Rt=An(_e,be,je,ze);return He=null,Rt}catch(jt){if(jt===xe||jt===Ie)throw jt;var Mr=Hs(29,jt,null,_e.mode);return Mr.lanes=ze,Mr.return=_e,Mr}finally{}}}var xr=Fr(!0),wr=Fr(!1),rr=!1;function Vr(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Or(a,A){a=a.updateQueue,A.updateQueue===a&&(A.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ht(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Yr(a,A,c){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(Kr&2)!==0){var b=f.pending;return b===null?A.next=A:(A.next=b.next,b.next=A),f.pending=A,A=Ps(a),Fu(a,null,c),A}return RA(a,f,A,c),Ps(a)}function us(a,A,c){if(A=A.updateQueue,A!==null&&(A=A.shared,(c&4194048)!==0)){var f=A.lanes;f&=a.pendingLanes,c|=f,A.lanes=c,xt(a,c)}}function In(a,A){var c=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var b=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var R={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?b=v=R:v=v.next=R,c=c.next}while(c!==null);v===null?b=v=A:v=v.next=A}else b=v=A;c={baseState:f.baseState,firstBaseUpdate:b,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=A:a.next=A,c.lastBaseUpdate=A}var Vs=!1;function Sr(){if(Vs){var a=w;if(a!==null)throw a}}function Ts(a,A,c,f){Vs=!1;var b=a.updateQueue;rr=!1;var v=b.firstBaseUpdate,R=b.lastBaseUpdate,W=b.shared.pending;if(W!==null){b.shared.pending=null;var ge=W,Ue=ge.next;ge.next=null,R===null?v=Ue:R.next=Ue,R=ge;var Me=a.alternate;Me!==null&&(Me=Me.updateQueue,W=Me.lastBaseUpdate,W!==R&&(W===null?Me.firstBaseUpdate=Ue:W.next=Ue,Me.lastBaseUpdate=ge))}if(v!==null){var Xe=b.baseState;R=0,Me=Ue=ge=null,W=v;do{var Fe=W.lane&-536870913,Le=Fe!==W.lane;if(Le?(vr&Fe)===Fe:(f&Fe)===Fe){Fe!==0&&Fe===m&&(Vs=!0),Me!==null&&(Me=Me.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Et=a,Vt=W;Fe=A;var An=c;switch(Vt.tag){case 1:if(Et=Vt.payload,typeof Et=="function"){Xe=Et.call(An,Xe,Fe);break e}Xe=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Vt.payload,Fe=typeof Et=="function"?Et.call(An,Xe,Fe):Et,Fe==null)break e;Xe=x({},Xe,Fe);break e;case 2:rr=!0}}Fe=W.callback,Fe!==null&&(a.flags|=64,Le&&(a.flags|=8192),Le=b.callbacks,Le===null?b.callbacks=[Fe]:Le.push(Fe))}else Le={lane:Fe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Me===null?(Ue=Me=Le,ge=Xe):Me=Me.next=Le,R|=Fe;if(W=W.next,W===null){if(W=b.shared.pending,W===null)break;Le=W,W=Le.next,Le.next=null,b.lastBaseUpdate=Le,b.shared.pending=null}}while(!0);Me===null&&(ge=Xe),b.baseState=ge,b.firstBaseUpdate=Ue,b.lastBaseUpdate=Me,v===null&&(b.shared.lanes=0),Ic|=R,a.lanes=R,a.memoizedState=Xe}}function va(a,A){if(typeof a!="function")throw Error(r(191,a));a.call(A)}function Jn(a,A){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)va(c[a],A)}var Tn=Y(null),ds=Y(0);function Xa(a,A){a=Ql,M(ds,a),M(Tn,A),Ql=a|A.baseLanes}function gi(){M(ds,Ql),M(Tn,Tn.current)}function zn(){Ql=ds.current,Q(Tn),Q(ds)}var Pn=Y(null),hs=null;function Ya(a){var A=a.alternate;M(jn,jn.current&1),M(Pn,a),hs===null&&(A===null||Tn.current!==null||A.memoizedState!==null)&&(hs=a)}function cA(a){M(jn,jn.current),M(Pn,a),hs===null&&(hs=a)}function Bn(a){a.tag===22?(M(jn,jn.current),M(Pn,a),hs===null&&(hs=a)):uA()}function uA(){M(jn,jn.current),M(Pn,Pn.current)}function Ba(a){Q(Pn),hs===a&&(hs=null),Q(jn)}var jn=Y(0);function Bl(a){for(var A=a;A!==null;){if(A.tag===13){var c=A.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Uy(c)||Fy(c)))return A}else if(A.tag===19&&(A.memoizedProps.revealOrder==="forwards"||A.memoizedProps.revealOrder==="backwards"||A.memoizedProps.revealOrder==="unstable_legacy-backwards"||A.memoizedProps.revealOrder==="together")){if((A.flags&128)!==0)return A}else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break;for(;A.sibling===null;){if(A.return===null||A.return===a)return null;A=A.return}A.sibling.return=A.return,A=A.sibling}return null}var $a=0,Wt=null,hr=null,dn=null,MA=!1,Cl=!1,dA=!1,Ou=0,Lo=0,ko=null,Kd=0;function sn(){throw Error(r(321))}function Rf(a,A){if(A===null)return!1;for(var c=0;c<A.length&&c<a.length;c++)if(!Ds(a[c],A[c]))return!1;return!0}function Df(a,A,c,f,b,v){return $a=v,Wt=A,A.memoizedState=null,A.updateQueue=null,A.lanes=0,te.H=a===null||a.memoizedState===null?C5:Vx,dA=!1,v=c(f,b),dA=!1,Cl&&(v=PA(A,c,f,b)),zd(a),v}function zd(a){te.H=qf;var A=hr!==null&&hr.next!==null;if($a=0,dn=hr=Wt=null,MA=!1,Lo=0,ko=null,A)throw Error(r(300));a===null||gs||(a=a.dependencies,a!==null&&Pd(a)&&(gs=!0))}function PA(a,A,c,f){Wt=a;var b=0;do{if(Cl&&(ko=null),Lo=0,Cl=!1,25<=b)throw Error(r(301));if(b+=1,dn=hr=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}te.H=N5,v=A(c,f)}while(Cl);return v}function kx(){var a=te.H,A=a.useState()[0];return A=typeof A.then=="function"?Ro(A):A,a=a.useState()[0],(hr!==null?hr.memoizedState:null)!==a&&(Wt.flags|=1024),A}function Of(){var a=Ou!==0;return Ou=0,a}function Mf(a,A,c){A.updateQueue=a.updateQueue,A.flags&=-2053,a.lanes&=~c}function qd(a){if(MA){for(a=a.memoizedState;a!==null;){var A=a.queue;A!==null&&(A.pending=null),a=a.next}MA=!1}$a=0,dn=hr=Wt=null,Cl=!1,Lo=Ou=0,ko=null}function fs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Wt.memoizedState=dn=a:dn=dn.next=a,dn}function Un(){if(hr===null){var a=Wt.alternate;a=a!==null?a.memoizedState:null}else a=hr.next;var A=dn===null?Wt.memoizedState:dn.next;if(A!==null)dn=A,hr=a;else{if(a===null)throw Wt.alternate===null?Error(r(467)):Error(r(310));hr=a,a={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},dn===null?Wt.memoizedState=dn=a:dn=dn.next=a}return dn}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ro(a){var A=Lo;return Lo+=1,ko===null&&(ko=[]),a=ke(ko,a,A),A=Wt,(dn===null?A.memoizedState:dn.next)===null&&(A=A.alternate,te.H=A===null||A.memoizedState===null?C5:Vx),a}function Bc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ro(a);if(a.$$typeof===K)return Is(a)}throw Error(r(438,String(a)))}function Nl(a){var A=null,c=Wt.updateQueue;if(c!==null&&(A=c.memoCache),A==null){var f=Wt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(A={data:f.data.map(function(b){return b.slice()}),index:0})))}if(A==null&&(A={data:[],index:0}),c===null&&(c=Mu(),Wt.updateQueue=c),c.memoCache=A,c=A.data[A.index],c===void 0)for(c=A.data[A.index]=Array(a),f=0;f<a;f++)c[f]=q;return A.index++,c}function hA(a,A){return typeof A=="function"?A(a):A}function Gd(a){var A=Un();return Cc(A,hr,a)}function Cc(a,A,c){var f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var b=a.baseQueue,v=f.pending;if(v!==null){if(b!==null){var R=b.next;b.next=v.next,v.next=R}A.baseQueue=b=v,f.pending=null}if(v=a.baseState,b===null)a.memoizedState=v;else{A=b.next;var W=R=null,ge=null,Ue=A,Me=!1;do{var Xe=Ue.lane&-536870913;if(Xe!==Ue.lane?(vr&Xe)===Xe:($a&Xe)===Xe){var Fe=Ue.revertLane;if(Fe===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),Xe===m&&(Me=!0);else if(($a&Fe)===Fe){Ue=Ue.next,Fe===m&&(Me=!0);continue}else Xe={lane:0,revertLane:Ue.revertLane,gesture:null,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null},ge===null?(W=ge=Xe,R=v):ge=ge.next=Xe,Wt.lanes|=Fe,Ic|=Fe;Xe=Ue.action,dA&&c(v,Xe),v=Ue.hasEagerState?Ue.eagerState:c(v,Xe)}else Fe={lane:Xe,revertLane:Ue.revertLane,gesture:Ue.gesture,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null},ge===null?(W=ge=Fe,R=v):ge=ge.next=Fe,Wt.lanes|=Xe,Ic|=Xe;Ue=Ue.next}while(Ue!==null&&Ue!==A);if(ge===null?R=v:ge.next=W,!Ds(v,a.memoizedState)&&(gs=!0,Me&&(c=w,c!==null)))throw c;a.memoizedState=v,a.baseState=R,a.baseQueue=ge,f.lastRenderedState=v}return b===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function Xd(a){var A=Un(),c=A.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var f=c.dispatch,b=c.pending,v=A.memoizedState;if(b!==null){c.pending=null;var R=b=b.next;do v=a(v,R.action),R=R.next;while(R!==b);Ds(v,A.memoizedState)||(gs=!0),A.memoizedState=v,A.baseQueue===null&&(A.baseState=v),c.lastRenderedState=v}return[v,f]}function Yd(a,A,c){var f=Wt,b=Un(),v=pr;if(v){if(c===void 0)throw Error(r(407));c=c()}else c=A();var R=!Ds((hr||b).memoizedState,c);if(R&&(b.memoizedState=c,gs=!0),b=b.queue,Rx(Hf.bind(null,f,b,a),[a]),b.getSnapshot!==A||R||dn!==null&&dn.memoizedState.tag&1){if(f.flags|=2048,El(9,{destroy:void 0},Pf.bind(null,f,b,c,A),null),hn===null)throw Error(r(349));v||($a&127)!==0||HA(f,A,c)}return c}function HA(a,A,c){a.flags|=16384,a={getSnapshot:A,value:c},A=Wt.updateQueue,A===null?(A=Mu(),Wt.updateQueue=A,A.stores=[a]):(c=A.stores,c===null?A.stores=[a]:c.push(a))}function Pf(a,A,c,f){A.value=c,A.getSnapshot=f,nm(A)&&Vf(a)}function Hf(a,A,c){return c(function(){nm(A)&&Vf(a)})}function nm(a){var A=a.getSnapshot;a=a.value;try{var c=A();return!Ds(a,c)}catch{return!0}}function Vf(a){var A=DA(a,2);A!==null&&bi(A,a,2)}function Do(a){var A=fs();if(typeof a=="function"){var c=a;if(a=c(),dA){gt(!0);try{c()}finally{gt(!1)}}}return A.memoizedState=A.baseState=a,A.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hA,lastRenderedState:a},A}function sm(a,A,c,f){return a.baseState=c,Cc(a,hr,typeof f=="function"?f:hA)}function am(a,A,c,f,b){if(lm(a))throw Error(r(485));if(a=A.action,a!==null){var v={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){v.listeners.push(R)}};te.T!==null?c(!0):v.isTransition=!1,f(v),c=A.pending,c===null?(v.next=A.pending=v,im(A,v)):(v.next=c.next,A.pending=c.next=v)}}function im(a,A){var c=A.action,f=A.payload,b=a.state;if(A.isTransition){var v=te.T,R={};te.T=R;try{var W=c(b,f),ge=te.S;ge!==null&&ge(R,W),Kf(a,A,W)}catch(Ue){_l(a,A,Ue)}finally{v!==null&&R.types!==null&&(v.types=R.types),te.T=v}}else try{v=c(b,f),Kf(a,A,v)}catch(Ue){_l(a,A,Ue)}}function Kf(a,A,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){Am(a,A,f)},function(f){return _l(a,A,f)}):Am(a,A,c)}function Am(a,A,c){A.status="fulfilled",A.value=c,$d(A),a.state=c,A=a.pending,A!==null&&(c=A.next,c===A?a.pending=null:(c=c.next,A.next=c,im(a,c)))}function _l(a,A,c){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do A.status="rejected",A.reason=c,$d(A),A=A.next;while(A!==f)}a.action=null}function $d(a){a=a.listeners;for(var A=0;A<a.length;A++)(0,a[A])()}function Pu(a,A){return A}function fA(a,A){if(pr){var c=hn.formState;if(c!==null){e:{var f=Wt;if(pr){if(un){t:{for(var b=un,v=Sn;b.nodeType!==8;){if(!v){b=null;break t}if(b=gA(b.nextSibling),b===null){b=null;break t}}v=b.data,b=v==="F!"||v==="F"?b:null}if(b){un=gA(b.nextSibling),f=b.data==="F!";break e}}To(f)}f=!1}f&&(A=c[0])}}return c=fs(),c.memoizedState=c.baseState=A,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:A},c.queue=f,c=w5.bind(null,Wt,f),f.dispatch=c,f=Do(!1),v=Hx.bind(null,Wt,!1,f.queue),f=fs(),b={state:A,dispatch:null,action:a,pending:null},f.queue=b,c=am.bind(null,Wt,b,v,c),b.dispatch=c,f.memoizedState=a,[A,c,!1]}function VA(a){var A=Un();return KA(A,hr,a)}function KA(a,A,c){if(A=Cc(a,A,Pu)[0],a=Gd(hA)[0],typeof A=="object"&&A!==null&&typeof A.then=="function")try{var f=Ro(A)}catch(R){throw R===xe?Ie:R}else f=A;A=Un();var b=A.queue,v=b.dispatch;return c!==A.memoizedState&&(Wt.flags|=2048,El(9,{destroy:void 0},Jd.bind(null,b,c),null)),[f,v,a]}function Jd(a,A){a.action=A}function Wd(a){var A=Un(),c=hr;if(c!==null)return KA(A,c,a);Un(),A=A.memoizedState,c=Un();var f=c.queue.dispatch;return c.memoizedState=a,[A,f,!1]}function El(a,A,c,f){return a={tag:a,create:c,deps:f,inst:A,next:null},A=Wt.updateQueue,A===null&&(A=Mu(),Wt.updateQueue=A),c=A.lastEffect,c===null?A.lastEffect=a.next=a:(f=c.next,c.next=a,a.next=f,A.lastEffect=a),a}function om(){return Un().memoizedState}function Nc(a,A,c,f){var b=fs();Wt.flags|=a,b.memoizedState=El(1|A,{destroy:void 0},c,f===void 0?null:f)}function _c(a,A,c,f){var b=Un();f=f===void 0?null:f;var v=b.memoizedState.inst;hr!==null&&f!==null&&Rf(f,hr.memoizedState.deps)?b.memoizedState=El(A,v,c,f):(Wt.flags|=a,b.memoizedState=El(1|A,v,c,f))}function A5(a,A){Nc(8390656,8,a,A)}function Rx(a,A){_c(2048,8,a,A)}function tj(a){Wt.flags|=4;var A=Wt.updateQueue;if(A===null)A=Mu(),Wt.updateQueue=A,A.events=[a];else{var c=A.events;c===null?A.events=[a]:c.push(a)}}function o5(a){var A=Un().memoizedState;return tj({ref:A,nextImpl:a}),function(){if((Kr&2)!==0)throw Error(r(440));return A.impl.apply(void 0,arguments)}}function l5(a,A){return _c(4,2,a,A)}function c5(a,A){return _c(4,4,a,A)}function u5(a,A){if(typeof A=="function"){a=a();var c=A(a);return function(){typeof c=="function"?c():A(null)}}if(A!=null)return a=a(),A.current=a,function(){A.current=null}}function d5(a,A,c){c=c!=null?c.concat([a]):null,_c(4,4,u5.bind(null,A,a),c)}function Dx(){}function h5(a,A){var c=Un();A=A===void 0?null:A;var f=c.memoizedState;return A!==null&&Rf(A,f[1])?f[0]:(c.memoizedState=[a,A],a)}function f5(a,A){var c=Un();A=A===void 0?null:A;var f=c.memoizedState;if(A!==null&&Rf(A,f[1]))return f[0];if(f=a(),dA){gt(!0);try{a()}finally{gt(!1)}}return c.memoizedState=[f,A],f}function Ox(a,A,c){return c===void 0||($a&1073741824)!==0&&(vr&261930)===0?a.memoizedState=A:(a.memoizedState=c,a=g4(),Wt.lanes|=a,Ic|=a,c)}function g5(a,A,c,f){return Ds(c,A)?c:Tn.current!==null?(a=Ox(a,c,f),Ds(a,A)||(gs=!0),a):($a&42)===0||($a&1073741824)!==0&&(vr&261930)===0?(gs=!0,a.memoizedState=c):(a=g4(),Wt.lanes|=a,Ic|=a,A)}function m5(a,A,c,f,b){var v=ce.p;ce.p=v!==0&&8>v?v:8;var R=te.T,W={};te.T=W,Hx(a,!1,A,c);try{var ge=b(),Ue=te.S;if(Ue!==null&&Ue(W,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Me=V(ge,f);zf(a,A,Me,qi(a))}else zf(a,A,f,qi(a))}catch(Xe){zf(a,A,{then:function(){},status:"rejected",reason:Xe},qi())}finally{ce.p=v,R!==null&&W.types!==null&&(R.types=W.types),te.T=R}}function rj(){}function Mx(a,A,c,f){if(a.tag!==5)throw Error(r(476));var b=p5(a).queue;m5(a,b,A,ne,c===null?rj:function(){return x5(a),c(f)})}function p5(a){var A=a.memoizedState;if(A!==null)return A;A={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hA,lastRenderedState:ne},next:null};var c={};return A.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hA,lastRenderedState:c},next:null},a.memoizedState=A,a=a.alternate,a!==null&&(a.memoizedState=A),A}function x5(a){var A=p5(a);A.next===null&&(A=a.alternate.memoizedState),zf(a,A.next.queue,{},qi())}function Px(){return Is(o0)}function y5(){return Un().memoizedState}function b5(){return Un().memoizedState}function nj(a){for(var A=a.return;A!==null;){switch(A.tag){case 24:case 3:var c=qi();a=Ht(c);var f=Yr(A,a,c);f!==null&&(bi(f,A,c),us(f,A,c)),A={cache:vc()},a.payload=A;return}A=A.return}}function sj(a,A,c){var f=qi();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},lm(a)?v5(A,c):(c=mc(a,A,c,f),c!==null&&(bi(c,a,f),B5(c,A,f)))}function w5(a,A,c){var f=qi();zf(a,A,c,f)}function zf(a,A,c,f){var b={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(lm(a))v5(A,b);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=A.lastRenderedReducer,v!==null))try{var R=A.lastRenderedState,W=v(R,c);if(b.hasEagerState=!0,b.eagerState=W,Ds(W,R))return RA(a,A,b,0),hn===null&&Eo(),!1}catch{}finally{}if(c=mc(a,A,b,f),c!==null)return bi(c,a,f),B5(c,A,f),!0}return!1}function Hx(a,A,c,f){if(f={lane:2,revertLane:by(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},lm(a)){if(A)throw Error(r(479))}else A=mc(a,c,f,2),A!==null&&bi(A,a,2)}function lm(a){var A=a.alternate;return a===Wt||A!==null&&A===Wt}function v5(a,A){Cl=MA=!0;var c=a.pending;c===null?A.next=A:(A.next=c.next,c.next=A),a.pending=A}function B5(a,A,c){if((c&4194048)!==0){var f=A.lanes;f&=a.pendingLanes,c|=f,A.lanes=c,xt(a,c)}}var qf={readContext:Is,use:Bc,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn};qf.useEffectEvent=sn;var C5={readContext:Is,use:Bc,useCallback:function(a,A){return fs().memoizedState=[a,A===void 0?null:A],a},useContext:Is,useEffect:A5,useImperativeHandle:function(a,A,c){c=c!=null?c.concat([a]):null,Nc(4194308,4,u5.bind(null,A,a),c)},useLayoutEffect:function(a,A){return Nc(4194308,4,a,A)},useInsertionEffect:function(a,A){Nc(4,2,a,A)},useMemo:function(a,A){var c=fs();A=A===void 0?null:A;var f=a();if(dA){gt(!0);try{a()}finally{gt(!1)}}return c.memoizedState=[f,A],f},useReducer:function(a,A,c){var f=fs();if(c!==void 0){var b=c(A);if(dA){gt(!0);try{c(A)}finally{gt(!1)}}}else b=A;return f.memoizedState=f.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},f.queue=a,a=a.dispatch=sj.bind(null,Wt,a),[f.memoizedState,a]},useRef:function(a){var A=fs();return a={current:a},A.memoizedState=a},useState:function(a){a=Do(a);var A=a.queue,c=w5.bind(null,Wt,A);return A.dispatch=c,[a.memoizedState,c]},useDebugValue:Dx,useDeferredValue:function(a,A){var c=fs();return Ox(c,a,A)},useTransition:function(){var a=Do(!1);return a=m5.bind(null,Wt,a.queue,!0,!1),fs().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,A,c){var f=Wt,b=fs();if(pr){if(c===void 0)throw Error(r(407));c=c()}else{if(c=A(),hn===null)throw Error(r(349));(vr&127)!==0||HA(f,A,c)}b.memoizedState=c;var v={value:c,getSnapshot:A};return b.queue=v,A5(Hf.bind(null,f,v,a),[a]),f.flags|=2048,El(9,{destroy:void 0},Pf.bind(null,f,v,c,A),null),c},useId:function(){var a=fs(),A=hn.identifierPrefix;if(pr){var c=hi,f=di;c=(f&~(1<<32-Bt(f)-1)).toString(32)+c,A="_"+A+"R_"+c,c=Ou++,0<c&&(A+="H"+c.toString(32)),A+="_"}else c=Kd++,A="_"+A+"r_"+c.toString(32)+"_";return a.memoizedState=A},useHostTransitionStatus:Px,useFormState:fA,useActionState:fA,useOptimistic:function(a){var A=fs();A.memoizedState=A.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return A.queue=c,A=Hx.bind(null,Wt,!0,c),c.dispatch=A,[a,A]},useMemoCache:Nl,useCacheRefresh:function(){return fs().memoizedState=nj.bind(null,Wt)},useEffectEvent:function(a){var A=fs(),c={impl:a};return A.memoizedState=c,function(){if((Kr&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Vx={readContext:Is,use:Bc,useCallback:h5,useContext:Is,useEffect:Rx,useImperativeHandle:d5,useInsertionEffect:l5,useLayoutEffect:c5,useMemo:f5,useReducer:Gd,useRef:om,useState:function(){return Gd(hA)},useDebugValue:Dx,useDeferredValue:function(a,A){var c=Un();return g5(c,hr.memoizedState,a,A)},useTransition:function(){var a=Gd(hA)[0],A=Un().memoizedState;return[typeof a=="boolean"?a:Ro(a),A]},useSyncExternalStore:Yd,useId:y5,useHostTransitionStatus:Px,useFormState:VA,useActionState:VA,useOptimistic:function(a,A){var c=Un();return sm(c,hr,a,A)},useMemoCache:Nl,useCacheRefresh:b5};Vx.useEffectEvent=o5;var N5={readContext:Is,use:Bc,useCallback:h5,useContext:Is,useEffect:Rx,useImperativeHandle:d5,useInsertionEffect:l5,useLayoutEffect:c5,useMemo:f5,useReducer:Xd,useRef:om,useState:function(){return Xd(hA)},useDebugValue:Dx,useDeferredValue:function(a,A){var c=Un();return hr===null?Ox(c,a,A):g5(c,hr.memoizedState,a,A)},useTransition:function(){var a=Xd(hA)[0],A=Un().memoizedState;return[typeof a=="boolean"?a:Ro(a),A]},useSyncExternalStore:Yd,useId:y5,useHostTransitionStatus:Px,useFormState:Wd,useActionState:Wd,useOptimistic:function(a,A){var c=Un();return hr!==null?sm(c,hr,a,A):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Nl,useCacheRefresh:b5};N5.useEffectEvent=o5;function Kx(a,A,c,f){A=a.memoizedState,c=c(f,A),c=c==null?A:x({},A,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var zx={enqueueSetState:function(a,A,c){a=a._reactInternals;var f=qi(),b=Ht(f);b.payload=A,c!=null&&(b.callback=c),A=Yr(a,b,f),A!==null&&(bi(A,a,f),us(A,a,f))},enqueueReplaceState:function(a,A,c){a=a._reactInternals;var f=qi(),b=Ht(f);b.tag=1,b.payload=A,c!=null&&(b.callback=c),A=Yr(a,b,f),A!==null&&(bi(A,a,f),us(A,a,f))},enqueueForceUpdate:function(a,A){a=a._reactInternals;var c=qi(),f=Ht(c);f.tag=2,A!=null&&(f.callback=A),A=Yr(a,f,c),A!==null&&(bi(A,a,c),us(A,a,c))}};function _5(a,A,c,f,b,v,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,v,R):A.prototype&&A.prototype.isPureReactComponent?!Ai(c,f)||!Ai(b,v):!0}function E5(a,A,c,f){a=A.state,typeof A.componentWillReceiveProps=="function"&&A.componentWillReceiveProps(c,f),typeof A.UNSAFE_componentWillReceiveProps=="function"&&A.UNSAFE_componentWillReceiveProps(c,f),A.state!==a&&zx.enqueueReplaceState(A,A.state,null)}function Hu(a,A){var c=A;if("ref"in A){c={};for(var f in A)f!=="ref"&&(c[f]=A[f])}if(a=a.defaultProps){c===A&&(c=x({},c));for(var b in a)c[b]===void 0&&(c[b]=a[b])}return c}function S5(a){Hr(a)}function I5(a){console.error(a)}function T5(a){Hr(a)}function cm(a,A){try{var c=a.onUncaughtError;c(A.value,{componentStack:A.stack})}catch(f){setTimeout(function(){throw f})}}function j5(a,A,c){try{var f=a.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:A.tag===1?A.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function qx(a,A,c){return c=Ht(c),c.tag=3,c.payload={element:null},c.callback=function(){cm(a,A)},c}function U5(a){return a=Ht(a),a.tag=3,a}function F5(a,A,c,f){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var v=f.value;a.payload=function(){return b(v)},a.callback=function(){j5(A,c,f)}}var R=c.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(a.callback=function(){j5(A,c,f),typeof b!="function"&&(Tc===null?Tc=new Set([this]):Tc.add(this));var W=f.stack;this.componentDidCatch(f.value,{componentStack:W!==null?W:""})})}function aj(a,A,c,f,b){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(A=c.alternate,A!==null&&Fo(A,c,b,!0),c=Pn.current,c!==null){switch(c.tag){case 31:case 13:return hs===null?vm():c.alternate===null&&qn===0&&(qn=3),c.flags&=-257,c.flags|=65536,c.lanes=b,f===Be?c.flags|=16384:(A=c.updateQueue,A===null?c.updateQueue=new Set([f]):A.add(f),py(a,f,b)),!1;case 22:return c.flags|=65536,f===Be?c.flags|=16384:(A=c.updateQueue,A===null?(A={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=A):(c=A.retryQueue,c===null?A.retryQueue=new Set([f]):c.add(f)),py(a,f,b)),!1}throw Error(r(435,c.tag))}return py(a,f,b),vm(),!1}if(pr)return A=Pn.current,A!==null?((A.flags&65536)===0&&(A.flags|=256),A.flags|=65536,A.lanes=b,f!==Vi&&(a=Error(r(422),{cause:f}),bc(li(a,c)))):(f!==Vi&&(A=Error(r(423),{cause:f}),bc(li(A,c))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,f=li(f,c),b=qx(a.stateNode,f,b),In(a,b),qn!==4&&(qn=2)),!1;var v=Error(r(520),{cause:f});if(v=li(v,c),e0===null?e0=[v]:e0.push(v),qn!==4&&(qn=2),A===null)return!0;f=li(f,c),c=A;do{switch(c.tag){case 3:return c.flags|=65536,a=b&-b,c.lanes|=a,a=qx(c.stateNode,f,a),In(c,a),!1;case 1:if(A=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Tc===null||!Tc.has(v))))return c.flags|=65536,b&=-b,c.lanes|=b,b=U5(b),F5(b,a,c,f),In(c,b),!1}c=c.return}while(c!==null);return!1}var Gx=Error(r(461)),gs=!1;function Aa(a,A,c,f){A.child=a===null?wr(A,null,c,f):xr(A,a.child,c,f)}function Q5(a,A,c,f,b){c=c.render;var v=A.ref;if("ref"in f){var R={};for(var W in f)W!=="ref"&&(R[W]=f[W])}else R=f;return Qo(A),f=Df(a,A,c,R,v,b),W=Of(),a!==null&&!gs?(Mf(a,A,b),Sl(a,A,b)):(pr&&W&&Qf(A),A.flags|=1,Aa(a,A,f,b),A.child)}function L5(a,A,c,f,b){if(a===null){var v=c.type;return typeof v=="function"&&!Ld(v)&&v.defaultProps===void 0&&c.compare===null?(A.tag=15,A.type=v,k5(a,A,v,f,b)):(a=pc(c.type,null,f,A,A.mode,b),a.ref=A.ref,a.return=A,A.child=a)}if(v=a.child,!ty(a,b)){var R=v.memoizedProps;if(c=c.compare,c=c!==null?c:Ai,c(R,f)&&a.ref===A.ref)return Sl(a,A,b)}return A.flags|=1,a=oi(v,f),a.ref=A.ref,a.return=A,A.child=a}function k5(a,A,c,f,b){if(a!==null){var v=a.memoizedProps;if(Ai(v,f)&&a.ref===A.ref)if(gs=!1,A.pendingProps=f=v,ty(a,b))(a.flags&131072)!==0&&(gs=!0);else return A.lanes=a.lanes,Sl(a,A,b)}return Xx(a,A,c,f,b)}function R5(a,A,c,f){var b=f.children,v=a!==null?a.memoizedState:null;if(a===null&&A.stateNode===null&&(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((A.flags&128)!==0){if(v=v!==null?v.baseLanes|c:c,a!==null){for(f=A.child=a.child,b=0;f!==null;)b=b|f.lanes|f.childLanes,f=f.sibling;f=b&~v}else f=0,A.child=null;return D5(a,A,v,c,f)}if((c&536870912)!==0)A.memoizedState={baseLanes:0,cachePool:null},a!==null&&ee(A,v!==null?v.cachePool:null),v!==null?Xa(A,v):gi(),Bn(A);else return f=A.lanes=536870912,D5(a,A,v!==null?v.baseLanes|c:c,c,f)}else v!==null?(ee(A,v.cachePool),Xa(A,v),uA(),A.memoizedState=null):(a!==null&&ee(A,null),gi(),uA());return Aa(a,A,b,c),A.child}function Gf(a,A){return a!==null&&a.tag===22||A.stateNode!==null||(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),A.sibling}function D5(a,A,c,f,b){var v=$();return v=v===null?null:{parent:Mn._currentValue,pool:v},A.memoizedState={baseLanes:c,cachePool:v},a!==null&&ee(A,null),gi(),Bn(A),a!==null&&Fo(a,A,f,!0),A.childLanes=b,null}function um(a,A){return A=hm({mode:A.mode,children:A.children},a.mode),A.ref=a.ref,a.child=A,A.return=a,A}function O5(a,A,c){return xr(A,a.child,null,c),a=um(A,A.pendingProps),a.flags|=2,Ba(A),A.memoizedState=null,a}function ij(a,A,c){var f=A.pendingProps,b=(A.flags&128)!==0;if(A.flags&=-129,a===null){if(pr){if(f.mode==="hidden")return a=um(A,f),A.lanes=536870912,Gf(null,a);if(cA(A),(a=un)?(a=J4(a,Sn),a=a!==null&&a.data==="&"?a:null,a!==null&&(A.memoizedState={dehydrated:a,treeContext:Io!==null?{id:di,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},c=kd(a),c.return=A,A.child=c,Es=A,un=null)):a=null,a===null)throw To(A);return A.lanes=536870912,null}return um(A,f)}var v=a.memoizedState;if(v!==null){var R=v.dehydrated;if(cA(A),b)if(A.flags&256)A.flags&=-257,A=O5(a,A,c);else if(A.memoizedState!==null)A.child=a.child,A.flags|=128,A=null;else throw Error(r(558));else if(gs||Fo(a,A,c,!1),b=(c&a.childLanes)!==0,gs||b){if(f=hn,f!==null&&(R=Tt(f,c),R!==0&&R!==v.retryLane))throw v.retryLane=R,DA(a,R),bi(f,a,R),Gx;vm(),A=O5(a,A,c)}else a=v.treeContext,un=gA(R.nextSibling),Es=A,pr=!0,ia=null,Sn=!1,a!==null&&tm(A,a),A=um(A,f),A.flags|=4096;return A}return a=oi(a.child,{mode:f.mode,children:f.children}),a.ref=A.ref,A.child=a,a.return=A,a}function dm(a,A){var c=A.ref;if(c===null)a!==null&&a.ref!==null&&(A.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(A.flags|=4194816)}}function Xx(a,A,c,f,b){return Qo(A),c=Df(a,A,c,f,void 0,b),f=Of(),a!==null&&!gs?(Mf(a,A,b),Sl(a,A,b)):(pr&&f&&Qf(A),A.flags|=1,Aa(a,A,c,b),A.child)}function M5(a,A,c,f,b,v){return Qo(A),A.updateQueue=null,c=PA(A,f,c,b),zd(a),f=Of(),a!==null&&!gs?(Mf(a,A,v),Sl(a,A,v)):(pr&&f&&Qf(A),A.flags|=1,Aa(a,A,c,v),A.child)}function P5(a,A,c,f,b){if(Qo(A),A.stateNode===null){var v=_s,R=c.contextType;typeof R=="object"&&R!==null&&(v=Is(R)),v=new c(f,v),A.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=zx,A.stateNode=v,v._reactInternals=A,v=A.stateNode,v.props=f,v.state=A.memoizedState,v.refs={},Vr(A),R=c.contextType,v.context=typeof R=="object"&&R!==null?Is(R):_s,v.state=A.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(Kx(A,c,R,f),v.state=A.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(R=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),R!==v.state&&zx.enqueueReplaceState(v,v.state,null),Ts(A,f,v,b),Sr(),v.state=A.memoizedState),typeof v.componentDidMount=="function"&&(A.flags|=4194308),f=!0}else if(a===null){v=A.stateNode;var W=A.memoizedProps,ge=Hu(c,W);v.props=ge;var Ue=v.context,Me=c.contextType;R=_s,typeof Me=="object"&&Me!==null&&(R=Is(Me));var Xe=c.getDerivedStateFromProps;Me=typeof Xe=="function"||typeof v.getSnapshotBeforeUpdate=="function",W=A.pendingProps!==W,Me||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(W||Ue!==R)&&E5(A,v,f,R),rr=!1;var Fe=A.memoizedState;v.state=Fe,Ts(A,f,v,b),Sr(),Ue=A.memoizedState,W||Fe!==Ue||rr?(typeof Xe=="function"&&(Kx(A,c,Xe,f),Ue=A.memoizedState),(ge=rr||_5(A,c,ge,f,Fe,Ue,R))?(Me||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(A.flags|=4194308)):(typeof v.componentDidMount=="function"&&(A.flags|=4194308),A.memoizedProps=f,A.memoizedState=Ue),v.props=f,v.state=Ue,v.context=R,f=ge):(typeof v.componentDidMount=="function"&&(A.flags|=4194308),f=!1)}else{v=A.stateNode,Or(a,A),R=A.memoizedProps,Me=Hu(c,R),v.props=Me,Xe=A.pendingProps,Fe=v.context,Ue=c.contextType,ge=_s,typeof Ue=="object"&&Ue!==null&&(ge=Is(Ue)),W=c.getDerivedStateFromProps,(Ue=typeof W=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==Xe||Fe!==ge)&&E5(A,v,f,ge),rr=!1,Fe=A.memoizedState,v.state=Fe,Ts(A,f,v,b),Sr();var Le=A.memoizedState;R!==Xe||Fe!==Le||rr||a!==null&&a.dependencies!==null&&Pd(a.dependencies)?(typeof W=="function"&&(Kx(A,c,W,f),Le=A.memoizedState),(Me=rr||_5(A,c,Me,f,Fe,Le,ge)||a!==null&&a.dependencies!==null&&Pd(a.dependencies))?(Ue||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,Le,ge),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,Le,ge)),typeof v.componentDidUpdate=="function"&&(A.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(A.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===a.memoizedProps&&Fe===a.memoizedState||(A.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&Fe===a.memoizedState||(A.flags|=1024),A.memoizedProps=f,A.memoizedState=Le),v.props=f,v.state=Le,v.context=ge,f=Me):(typeof v.componentDidUpdate!="function"||R===a.memoizedProps&&Fe===a.memoizedState||(A.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&Fe===a.memoizedState||(A.flags|=1024),f=!1)}return v=f,dm(a,A),f=(A.flags&128)!==0,v||f?(v=A.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:v.render(),A.flags|=1,a!==null&&f?(A.child=xr(A,a.child,null,b),A.child=xr(A,null,c,b)):Aa(a,A,c,b),A.memoizedState=v.state,a=A.child):a=Sl(a,A,b),a}function H5(a,A,c,f){return wl(),A.flags|=256,Aa(a,A,c,f),A.child}var Yx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $x(a){return{baseLanes:a,cachePool:ie()}}function Jx(a,A,c){return a=a!==null?a.childLanes&~c:0,A&&(a|=zi),a}function V5(a,A,c){var f=A.pendingProps,b=!1,v=(A.flags&128)!==0,R;if((R=v)||(R=a!==null&&a.memoizedState===null?!1:(jn.current&2)!==0),R&&(b=!0,A.flags&=-129),R=(A.flags&32)!==0,A.flags&=-33,a===null){if(pr){if(b?Ya(A):uA(),(a=un)?(a=J4(a,Sn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(A.memoizedState={dehydrated:a,treeContext:Io!==null?{id:di,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},c=kd(a),c.return=A,A.child=c,Es=A,un=null)):a=null,a===null)throw To(A);return Fy(a)?A.lanes=32:A.lanes=536870912,null}var W=f.children;return f=f.fallback,b?(uA(),b=A.mode,W=hm({mode:"hidden",children:W},b),f=So(f,b,c,null),W.return=A,f.return=A,W.sibling=f,A.child=W,f=A.child,f.memoizedState=$x(c),f.childLanes=Jx(a,R,c),A.memoizedState=Yx,Gf(null,f)):(Ya(A),Wx(A,W))}var ge=a.memoizedState;if(ge!==null&&(W=ge.dehydrated,W!==null)){if(v)A.flags&256?(Ya(A),A.flags&=-257,A=Zx(a,A,c)):A.memoizedState!==null?(uA(),A.child=a.child,A.flags|=128,A=null):(uA(),W=f.fallback,b=A.mode,f=hm({mode:"visible",children:f.children},b),W=So(W,b,c,null),W.flags|=2,f.return=A,W.return=A,f.sibling=W,A.child=f,xr(A,a.child,null,c),f=A.child,f.memoizedState=$x(c),f.childLanes=Jx(a,R,c),A.memoizedState=Yx,A=Gf(null,f));else if(Ya(A),Fy(W)){if(R=W.nextSibling&&W.nextSibling.dataset,R)var Ue=R.dgst;R=Ue,f=Error(r(419)),f.stack="",f.digest=R,bc({value:f,source:null,stack:null}),A=Zx(a,A,c)}else if(gs||Fo(a,A,c,!1),R=(c&a.childLanes)!==0,gs||R){if(R=hn,R!==null&&(f=Tt(R,c),f!==0&&f!==ge.retryLane))throw ge.retryLane=f,DA(a,f),bi(R,a,f),Gx;Uy(W)||vm(),A=Zx(a,A,c)}else Uy(W)?(A.flags|=192,A.child=a.child,A=null):(a=ge.treeContext,un=gA(W.nextSibling),Es=A,pr=!0,ia=null,Sn=!1,a!==null&&tm(A,a),A=Wx(A,f.children),A.flags|=4096);return A}return b?(uA(),W=f.fallback,b=A.mode,ge=a.child,Ue=ge.sibling,f=oi(ge,{mode:"hidden",children:f.children}),f.subtreeFlags=ge.subtreeFlags&65011712,Ue!==null?W=oi(Ue,W):(W=So(W,b,c,null),W.flags|=2),W.return=A,f.return=A,f.sibling=W,A.child=f,Gf(null,f),f=A.child,W=a.child.memoizedState,W===null?W=$x(c):(b=W.cachePool,b!==null?(ge=Mn._currentValue,b=b.parent!==ge?{parent:ge,pool:ge}:b):b=ie(),W={baseLanes:W.baseLanes|c,cachePool:b}),f.memoizedState=W,f.childLanes=Jx(a,R,c),A.memoizedState=Yx,Gf(a.child,f)):(Ya(A),c=a.child,a=c.sibling,c=oi(c,{mode:"visible",children:f.children}),c.return=A,c.sibling=null,a!==null&&(R=A.deletions,R===null?(A.deletions=[a],A.flags|=16):R.push(a)),A.child=c,A.memoizedState=null,c)}function Wx(a,A){return A=hm({mode:"visible",children:A},a.mode),A.return=a,a.child=A}function hm(a,A){return a=Hs(22,a,null,A),a.lanes=0,a}function Zx(a,A,c){return xr(A,a.child,null,c),a=Wx(A,A.pendingProps.children),a.flags|=2,A.memoizedState=null,a}function K5(a,A,c){a.lanes|=A;var f=a.alternate;f!==null&&(f.lanes|=A),wc(a.return,A,c)}function ey(a,A,c,f,b,v){var R=a.memoizedState;R===null?a.memoizedState={isBackwards:A,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:b,treeForkCount:v}:(R.isBackwards=A,R.rendering=null,R.renderingStartTime=0,R.last=f,R.tail=c,R.tailMode=b,R.treeForkCount=v)}function z5(a,A,c){var f=A.pendingProps,b=f.revealOrder,v=f.tail;f=f.children;var R=jn.current,W=(R&2)!==0;if(W?(R=R&1|2,A.flags|=128):R&=1,M(jn,R),Aa(a,A,f,c),f=pr?ku:0,!W&&a!==null&&(a.flags&128)!==0)e:for(a=A.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&K5(a,c,A);else if(a.tag===19)K5(a,c,A);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===A)break e;for(;a.sibling===null;){if(a.return===null||a.return===A)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(c=A.child,b=null;c!==null;)a=c.alternate,a!==null&&Bl(a)===null&&(b=c),c=c.sibling;c=b,c===null?(b=A.child,A.child=null):(b=c.sibling,c.sibling=null),ey(A,!1,b,c,v,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=A.child,A.child=null;b!==null;){if(a=b.alternate,a!==null&&Bl(a)===null){A.child=b;break}a=b.sibling,b.sibling=c,c=b,b=a}ey(A,!0,c,null,v,f);break;case"together":ey(A,!1,null,null,void 0,f);break;default:A.memoizedState=null}return A.child}function Sl(a,A,c){if(a!==null&&(A.dependencies=a.dependencies),Ic|=A.lanes,(c&A.childLanes)===0)if(a!==null){if(Fo(a,A,c,!1),(c&A.childLanes)===0)return null}else return null;if(a!==null&&A.child!==a.child)throw Error(r(153));if(A.child!==null){for(a=A.child,c=oi(a,a.pendingProps),A.child=c,c.return=A;a.sibling!==null;)a=a.sibling,c=c.sibling=oi(a,a.pendingProps),c.return=A;c.sibling=null}return A.child}function ty(a,A){return(a.lanes&A)!==0?!0:(a=a.dependencies,!!(a!==null&&Pd(a)))}function Aj(a,A,c){switch(A.tag){case 3:Ne(A,A.stateNode.containerInfo),Uo(A,Mn,a.memoizedState.cache),wl();break;case 27:case 5:Oe(A);break;case 4:Ne(A,A.stateNode.containerInfo);break;case 10:Uo(A,A.type,A.memoizedProps.value);break;case 31:if(A.memoizedState!==null)return A.flags|=128,cA(A),null;break;case 13:var f=A.memoizedState;if(f!==null)return f.dehydrated!==null?(Ya(A),A.flags|=128,null):(c&A.child.childLanes)!==0?V5(a,A,c):(Ya(A),a=Sl(a,A,c),a!==null?a.sibling:null);Ya(A);break;case 19:var b=(a.flags&128)!==0;if(f=(c&A.childLanes)!==0,f||(Fo(a,A,c,!1),f=(c&A.childLanes)!==0),b){if(f)return z5(a,A,c);A.flags|=128}if(b=A.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),M(jn,jn.current),f)break;return null;case 22:return A.lanes=0,R5(a,A,c,A.pendingProps);case 24:Uo(A,Mn,a.memoizedState.cache)}return Sl(a,A,c)}function q5(a,A,c){if(a!==null)if(a.memoizedProps!==A.pendingProps)gs=!0;else{if(!ty(a,c)&&(A.flags&128)===0)return gs=!1,Aj(a,A,c);gs=(a.flags&131072)!==0}else gs=!1,pr&&(A.flags&1048576)!==0&&em(A,ku,A.index);switch(A.lanes=0,A.tag){case 16:e:{var f=A.pendingProps;if(a=ye(A.elementType),A.type=a,typeof a=="function")Ld(a)?(f=Hu(a,f),A.tag=1,A=P5(null,A,a,f,c)):(A.tag=0,A=Xx(null,A,a,f,c));else{if(a!=null){var b=a.$$typeof;if(b===Ae){A.tag=11,A=Q5(null,A,a,f,c);break e}else if(b===j){A.tag=14,A=L5(null,A,a,f,c);break e}}throw A=J(a)||a,Error(r(306,A,""))}}return A;case 0:return Xx(a,A,A.type,A.pendingProps,c);case 1:return f=A.type,b=Hu(f,A.pendingProps),P5(a,A,f,b,c);case 3:e:{if(Ne(A,A.stateNode.containerInfo),a===null)throw Error(r(387));f=A.pendingProps;var v=A.memoizedState;b=v.element,Or(a,A),Ts(A,f,null,c);var R=A.memoizedState;if(f=R.cache,Uo(A,Mn,f),f!==v.cache&&vl(A,[Mn],c,!0),Sr(),f=R.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:R.cache},A.updateQueue.baseState=v,A.memoizedState=v,A.flags&256){A=H5(a,A,f,c);break e}else if(f!==b){b=li(Error(r(424)),A),bc(b),A=H5(a,A,f,c);break e}else{switch(a=A.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(un=gA(a.firstChild),Es=A,pr=!0,ia=null,Sn=!0,c=wr(A,null,f,c),A.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(wl(),f===b){A=Sl(a,A,c);break e}Aa(a,A,f,c)}A=A.child}return A;case 26:return dm(a,A),a===null?(c=nB(A.type,null,A.pendingProps,null))?A.memoizedState=c:pr||(c=A.type,a=A.pendingProps,f=Im(ue.current).createElement(c),f[Ar]=A,f[kr]=a,oa(f,c,a),_n(f),A.stateNode=f):A.memoizedState=nB(A.type,a.memoizedProps,A.pendingProps,a.memoizedState),null;case 27:return Oe(A),a===null&&pr&&(f=A.stateNode=eB(A.type,A.pendingProps,ue.current),Es=A,Sn=!0,b=un,Qc(A.type)?(Qy=b,un=gA(f.firstChild)):un=b),Aa(a,A,A.pendingProps.children,c),dm(a,A),a===null&&(A.flags|=4194304),A.child;case 5:return a===null&&pr&&((b=f=un)&&(f=Rj(f,A.type,A.pendingProps,Sn),f!==null?(A.stateNode=f,Es=A,un=gA(f.firstChild),Sn=!1,b=!0):b=!1),b||To(A)),Oe(A),b=A.type,v=A.pendingProps,R=a!==null?a.memoizedProps:null,f=v.children,Iy(b,v)?f=null:R!==null&&Iy(b,R)&&(A.flags|=32),A.memoizedState!==null&&(b=Df(a,A,kx,null,null,c),o0._currentValue=b),dm(a,A),Aa(a,A,f,c),A.child;case 6:return a===null&&pr&&((a=c=un)&&(c=Dj(c,A.pendingProps,Sn),c!==null?(A.stateNode=c,Es=A,un=null,a=!0):a=!1),a||To(A)),null;case 13:return V5(a,A,c);case 4:return Ne(A,A.stateNode.containerInfo),f=A.pendingProps,a===null?A.child=xr(A,null,f,c):Aa(a,A,f,c),A.child;case 11:return Q5(a,A,A.type,A.pendingProps,c);case 7:return Aa(a,A,A.pendingProps,c),A.child;case 8:return Aa(a,A,A.pendingProps.children,c),A.child;case 12:return Aa(a,A,A.pendingProps.children,c),A.child;case 10:return f=A.pendingProps,Uo(A,A.type,f.value),Aa(a,A,f.children,c),A.child;case 9:return b=A.type._context,f=A.pendingProps.children,Qo(A),b=Is(b),f=f(b),A.flags|=1,Aa(a,A,f,c),A.child;case 14:return L5(a,A,A.type,A.pendingProps,c);case 15:return k5(a,A,A.type,A.pendingProps,c);case 19:return z5(a,A,c);case 31:return ij(a,A,c);case 22:return R5(a,A,c,A.pendingProps);case 24:return Qo(A),f=Is(Mn),a===null?(b=$(),b===null&&(b=hn,v=vc(),b.pooledCache=v,v.refCount++,v!==null&&(b.pooledCacheLanes|=c),b=v),A.memoizedState={parent:f,cache:b},Vr(A),Uo(A,Mn,b)):((a.lanes&c)!==0&&(Or(a,A),Ts(A,null,null,c),Sr()),b=a.memoizedState,v=A.memoizedState,b.parent!==f?(b={parent:f,cache:f},A.memoizedState=b,A.lanes===0&&(A.memoizedState=A.updateQueue.baseState=b),Uo(A,Mn,f)):(f=v.cache,Uo(A,Mn,f),f!==b.cache&&vl(A,[Mn],c,!0))),Aa(a,A,A.pendingProps.children,c),A.child;case 29:throw A.pendingProps}throw Error(r(156,A.tag))}function Il(a){a.flags|=4}function ry(a,A,c,f,b){if((A=(a.mode&32)!==0)&&(A=!1),A){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(y4())a.flags|=8192;else throw ve=Be,Te}else a.flags&=-16777217}function G5(a,A){if(A.type!=="stylesheet"||(A.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!oB(A))if(y4())a.flags|=8192;else throw ve=Be,Te}function fm(a,A){A!==null&&(a.flags|=4),a.flags&16384&&(A=a.tag!==22?Xr():536870912,a.lanes|=A,rh|=A)}function Xf(a,A){if(!pr)switch(a.tailMode){case"hidden":A=a.tail;for(var c=null;A!==null;)A.alternate!==null&&(c=A),A=A.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?A||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Cn(a){var A=a.alternate!==null&&a.alternate.child===a.child,c=0,f=0;if(A)for(var b=a.child;b!==null;)c|=b.lanes|b.childLanes,f|=b.subtreeFlags&65011712,f|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)c|=b.lanes|b.childLanes,f|=b.subtreeFlags,f|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=f,a.childLanes=c,A}function oj(a,A,c){var f=A.pendingProps;switch(Od(A),A.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(A),null;case 1:return Cn(A),null;case 3:return c=A.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),A.memoizedState.cache!==f&&(A.flags|=2048),fi(Mn),de(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Ss(A)?Il(A):a===null||a.memoizedState.isDehydrated&&(A.flags&256)===0||(A.flags|=1024,kf())),Cn(A),null;case 26:var b=A.type,v=A.memoizedState;return a===null?(Il(A),v!==null?(Cn(A),G5(A,v)):(Cn(A),ry(A,b,null,f,c))):v?v!==a.memoizedState?(Il(A),Cn(A),G5(A,v)):(Cn(A),A.flags&=-16777217):(a=a.memoizedProps,a!==f&&Il(A),Cn(A),ry(A,b,a,f,c)),null;case 27:if(Re(A),c=ue.current,b=A.type,a!==null&&A.stateNode!=null)a.memoizedProps!==f&&Il(A);else{if(!f){if(A.stateNode===null)throw Error(r(166));return Cn(A),null}a=z.current,Ss(A)?Lf(A):(a=eB(b,f,c),A.stateNode=a,Il(A))}return Cn(A),null;case 5:if(Re(A),b=A.type,a!==null&&A.stateNode!=null)a.memoizedProps!==f&&Il(A);else{if(!f){if(A.stateNode===null)throw Error(r(166));return Cn(A),null}if(v=z.current,Ss(A))Lf(A);else{var R=Im(ue.current);switch(v){case 1:v=R.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:v=R.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":v=R.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":v=R.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":v=R.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof f.is=="string"?R.createElement("select",{is:f.is}):R.createElement("select"),f.multiple?v.multiple=!0:f.size&&(v.size=f.size);break;default:v=typeof f.is=="string"?R.createElement(b,{is:f.is}):R.createElement(b)}}v[Ar]=A,v[kr]=f;e:for(R=A.child;R!==null;){if(R.tag===5||R.tag===6)v.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===A)break e;for(;R.sibling===null;){if(R.return===null||R.return===A)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}A.stateNode=v;e:switch(oa(v,b,f),b){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Il(A)}}return Cn(A),ry(A,A.type,a===null?null:a.memoizedProps,A.pendingProps,c),null;case 6:if(a&&A.stateNode!=null)a.memoizedProps!==f&&Il(A);else{if(typeof f!="string"&&A.stateNode===null)throw Error(r(166));if(a=ue.current,Ss(A)){if(a=A.stateNode,c=A.memoizedProps,f=null,b=Es,b!==null)switch(b.tag){case 27:case 5:f=b.memoizedProps}a[Ar]=A,a=!!(a.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||V4(a.nodeValue,c)),a||To(A,!0)}else a=Im(a).createTextNode(f),a[Ar]=A,A.stateNode=a}return Cn(A),null;case 31:if(c=A.memoizedState,a===null||a.memoizedState!==null){if(f=Ss(A),c!==null){if(a===null){if(!f)throw Error(r(318));if(a=A.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Ar]=A}else wl(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;Cn(A),a=!1}else c=kf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return A.flags&256?(Ba(A),A):(Ba(A),null);if((A.flags&128)!==0)throw Error(r(558))}return Cn(A),null;case 13:if(f=A.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Ss(A),f!==null&&f.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=A.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Ar]=A}else wl(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;Cn(A),b=!1}else b=kf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return A.flags&256?(Ba(A),A):(Ba(A),null)}return Ba(A),(A.flags&128)!==0?(A.lanes=c,A):(c=f!==null,a=a!==null&&a.memoizedState!==null,c&&(f=A.child,b=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(b=f.alternate.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==b&&(f.flags|=2048)),c!==a&&c&&(A.child.flags|=8192),fm(A,A.updateQueue),Cn(A),null);case 4:return de(),a===null&&Cy(A.stateNode.containerInfo),Cn(A),null;case 10:return fi(A.type),Cn(A),null;case 19:if(Q(jn),f=A.memoizedState,f===null)return Cn(A),null;if(b=(A.flags&128)!==0,v=f.rendering,v===null)if(b)Xf(f,!1);else{if(qn!==0||a!==null&&(a.flags&128)!==0)for(a=A.child;a!==null;){if(v=Bl(a),v!==null){for(A.flags|=128,Xf(f,!1),a=v.updateQueue,A.updateQueue=a,fm(A,a),A.subtreeFlags=0,a=c,c=A.child;c!==null;)Qu(c,a),c=c.sibling;return M(jn,jn.current&1|2),pr&&Ga(A,f.treeForkCount),A.child}a=a.sibling}f.tail!==null&&_t()>ym&&(A.flags|=128,b=!0,Xf(f,!1),A.lanes=4194304)}else{if(!b)if(a=Bl(v),a!==null){if(A.flags|=128,b=!0,a=a.updateQueue,A.updateQueue=a,fm(A,a),Xf(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!pr)return Cn(A),null}else 2*_t()-f.renderingStartTime>ym&&c!==536870912&&(A.flags|=128,b=!0,Xf(f,!1),A.lanes=4194304);f.isBackwards?(v.sibling=A.child,A.child=v):(a=f.last,a!==null?a.sibling=v:A.child=v,f.last=v)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=_t(),a.sibling=null,c=jn.current,M(jn,b?c&1|2:c&1),pr&&Ga(A,f.treeForkCount),a):(Cn(A),null);case 22:case 23:return Ba(A),zn(),f=A.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(A.flags|=8192):f&&(A.flags|=8192),f?(c&536870912)!==0&&(A.flags&128)===0&&(Cn(A),A.subtreeFlags&6&&(A.flags|=8192)):Cn(A),c=A.updateQueue,c!==null&&fm(A,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),f=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(f=A.memoizedState.cachePool.pool),f!==c&&(A.flags|=2048),a!==null&&Q(X),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),A.memoizedState.cache!==c&&(A.flags|=2048),fi(Mn),Cn(A),null;case 25:return null;case 30:return null}throw Error(r(156,A.tag))}function lj(a,A){switch(Od(A),A.tag){case 1:return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 3:return fi(Mn),de(),a=A.flags,(a&65536)!==0&&(a&128)===0?(A.flags=a&-65537|128,A):null;case 26:case 27:case 5:return Re(A),null;case 31:if(A.memoizedState!==null){if(Ba(A),A.alternate===null)throw Error(r(340));wl()}return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 13:if(Ba(A),a=A.memoizedState,a!==null&&a.dehydrated!==null){if(A.alternate===null)throw Error(r(340));wl()}return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 19:return Q(jn),null;case 4:return de(),null;case 10:return fi(A.type),null;case 22:case 23:return Ba(A),zn(),a!==null&&Q(X),a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 24:return fi(Mn),null;case 25:return null;default:return null}}function X5(a,A){switch(Od(A),A.tag){case 3:fi(Mn),de();break;case 26:case 27:case 5:Re(A);break;case 4:de();break;case 31:A.memoizedState!==null&&Ba(A);break;case 13:Ba(A);break;case 19:Q(jn);break;case 10:fi(A.type);break;case 22:case 23:Ba(A),zn(),a!==null&&Q(X);break;case 24:fi(Mn)}}function Yf(a,A){try{var c=A.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var b=f.next;c=b;do{if((c.tag&a)===a){f=void 0;var v=c.create,R=c.inst;f=v(),R.destroy=f}c=c.next}while(c!==b)}}catch(W){Jr(A,A.return,W)}}function Ec(a,A,c){try{var f=A.updateQueue,b=f!==null?f.lastEffect:null;if(b!==null){var v=b.next;f=v;do{if((f.tag&a)===a){var R=f.inst,W=R.destroy;if(W!==void 0){R.destroy=void 0,b=A;var ge=c,Ue=W;try{Ue()}catch(Me){Jr(b,ge,Me)}}}f=f.next}while(f!==v)}}catch(Me){Jr(A,A.return,Me)}}function Y5(a){var A=a.updateQueue;if(A!==null){var c=a.stateNode;try{Jn(A,c)}catch(f){Jr(a,a.return,f)}}}function $5(a,A,c){c.props=Hu(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(f){Jr(a,A,f)}}function $f(a,A){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof c=="function"?a.refCleanup=c(f):c.current=f}}catch(b){Jr(a,A,b)}}function Oo(a,A){var c=a.ref,f=a.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(b){Jr(a,A,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){Jr(a,A,b)}else c.current=null}function J5(a){var A=a.type,c=a.memoizedProps,f=a.stateNode;try{e:switch(A){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(b){Jr(a,a.return,b)}}function ny(a,A,c){try{var f=a.stateNode;jj(f,a.type,c,A),f[kr]=A}catch(b){Jr(a,a.return,b)}}function W5(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Qc(a.type)||a.tag===4}function sy(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||W5(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Qc(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ay(a,A,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,A?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,A):(A=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,A.appendChild(a),c=c._reactRootContainer,c!=null||A.onclick!==null||(A.onclick=nn));else if(f!==4&&(f===27&&Qc(a.type)&&(c=a.stateNode,A=null),a=a.child,a!==null))for(ay(a,A,c),a=a.sibling;a!==null;)ay(a,A,c),a=a.sibling}function gm(a,A,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,A?c.insertBefore(a,A):c.appendChild(a);else if(f!==4&&(f===27&&Qc(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(gm(a,A,c),a=a.sibling;a!==null;)gm(a,A,c),a=a.sibling}function Z5(a){var A=a.stateNode,c=a.memoizedProps;try{for(var f=a.type,b=A.attributes;b.length;)A.removeAttributeNode(b[0]);oa(A,f,c),A[Ar]=a,A[kr]=c}catch(v){Jr(a,a.return,v)}}var Tl=!1,ms=!1,iy=!1,e4=typeof WeakSet=="function"?WeakSet:Set,Ks=null;function cj(a,A){if(a=a.containerInfo,Ey=km,a=QA(a),Di(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var b=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var R=0,W=-1,ge=-1,Ue=0,Me=0,Xe=a,Fe=null;t:for(;;){for(var Le;Xe!==c||b!==0&&Xe.nodeType!==3||(W=R+b),Xe!==v||f!==0&&Xe.nodeType!==3||(ge=R+f),Xe.nodeType===3&&(R+=Xe.nodeValue.length),(Le=Xe.firstChild)!==null;)Fe=Xe,Xe=Le;for(;;){if(Xe===a)break t;if(Fe===c&&++Ue===b&&(W=R),Fe===v&&++Me===f&&(ge=R),(Le=Xe.nextSibling)!==null)break;Xe=Fe,Fe=Xe.parentNode}Xe=Le}c=W===-1||ge===-1?null:{start:W,end:ge}}else c=null}c=c||{start:0,end:0}}else c=null;for(Sy={focusedElem:a,selectionRange:c},km=!1,Ks=A;Ks!==null;)if(A=Ks,a=A.child,(A.subtreeFlags&1028)!==0&&a!==null)a.return=A,Ks=a;else for(;Ks!==null;){switch(A=Ks,v=A.alternate,a=A.flags,A.tag){case 0:if((a&4)!==0&&(a=A.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)b=a[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,c=A,b=v.memoizedProps,v=v.memoizedState,f=c.stateNode;try{var Et=Hu(c.type,b);a=f.getSnapshotBeforeUpdate(Et,v),f.__reactInternalSnapshotBeforeUpdate=a}catch(Vt){Jr(c,c.return,Vt)}}break;case 3:if((a&1024)!==0){if(a=A.stateNode.containerInfo,c=a.nodeType,c===9)jy(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":jy(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=A.sibling,a!==null){a.return=A.return,Ks=a;break}Ks=A.return}}function t4(a,A,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Ul(a,c),f&4&&Yf(5,c);break;case 1:if(Ul(a,c),f&4)if(a=c.stateNode,A===null)try{a.componentDidMount()}catch(R){Jr(c,c.return,R)}else{var b=Hu(c.type,A.memoizedProps);A=A.memoizedState;try{a.componentDidUpdate(b,A,a.__reactInternalSnapshotBeforeUpdate)}catch(R){Jr(c,c.return,R)}}f&64&&Y5(c),f&512&&$f(c,c.return);break;case 3:if(Ul(a,c),f&64&&(a=c.updateQueue,a!==null)){if(A=null,c.child!==null)switch(c.child.tag){case 27:case 5:A=c.child.stateNode;break;case 1:A=c.child.stateNode}try{Jn(a,A)}catch(R){Jr(c,c.return,R)}}break;case 27:A===null&&f&4&&Z5(c);case 26:case 5:Ul(a,c),A===null&&f&4&&J5(c),f&512&&$f(c,c.return);break;case 12:Ul(a,c);break;case 31:Ul(a,c),f&4&&s4(a,c);break;case 13:Ul(a,c),f&4&&a4(a,c),f&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=yj.bind(null,c),Oj(a,c))));break;case 22:if(f=c.memoizedState!==null||Tl,!f){A=A!==null&&A.memoizedState!==null||ms,b=Tl;var v=ms;Tl=f,(ms=A)&&!v?Fl(a,c,(c.subtreeFlags&8772)!==0):Ul(a,c),Tl=b,ms=v}break;case 30:break;default:Ul(a,c)}}function r4(a){var A=a.alternate;A!==null&&(a.alternate=null,r4(A)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(A=a.stateNode,A!==null&&Si(A)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Fn=null,mi=!1;function jl(a,A,c){for(c=c.child;c!==null;)n4(a,A,c),c=c.sibling}function n4(a,A,c){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Qe,c)}catch{}switch(c.tag){case 26:ms||Oo(c,A),jl(a,A,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:ms||Oo(c,A);var f=Fn,b=mi;Qc(c.type)&&(Fn=c.stateNode,mi=!1),jl(a,A,c),a0(c.stateNode),Fn=f,mi=b;break;case 5:ms||Oo(c,A);case 6:if(f=Fn,b=mi,Fn=null,jl(a,A,c),Fn=f,mi=b,Fn!==null)if(mi)try{(Fn.nodeType===9?Fn.body:Fn.nodeName==="HTML"?Fn.ownerDocument.body:Fn).removeChild(c.stateNode)}catch(v){Jr(c,A,v)}else try{Fn.removeChild(c.stateNode)}catch(v){Jr(c,A,v)}break;case 18:Fn!==null&&(mi?(a=Fn,Y4(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),ch(a)):Y4(Fn,c.stateNode));break;case 4:f=Fn,b=mi,Fn=c.stateNode.containerInfo,mi=!0,jl(a,A,c),Fn=f,mi=b;break;case 0:case 11:case 14:case 15:Ec(2,c,A),ms||Ec(4,c,A),jl(a,A,c);break;case 1:ms||(Oo(c,A),f=c.stateNode,typeof f.componentWillUnmount=="function"&&$5(c,A,f)),jl(a,A,c);break;case 21:jl(a,A,c);break;case 22:ms=(f=ms)||c.memoizedState!==null,jl(a,A,c),ms=f;break;default:jl(a,A,c)}}function s4(a,A){if(A.memoizedState===null&&(a=A.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{ch(a)}catch(c){Jr(A,A.return,c)}}}function a4(a,A){if(A.memoizedState===null&&(a=A.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ch(a)}catch(c){Jr(A,A.return,c)}}function uj(a){switch(a.tag){case 31:case 13:case 19:var A=a.stateNode;return A===null&&(A=a.stateNode=new e4),A;case 22:return a=a.stateNode,A=a._retryCache,A===null&&(A=a._retryCache=new e4),A;default:throw Error(r(435,a.tag))}}function mm(a,A){var c=uj(a);A.forEach(function(f){if(!c.has(f)){c.add(f);var b=bj.bind(null,a,f);f.then(b,b)}})}function pi(a,A){var c=A.deletions;if(c!==null)for(var f=0;f<c.length;f++){var b=c[f],v=a,R=A,W=R;e:for(;W!==null;){switch(W.tag){case 27:if(Qc(W.type)){Fn=W.stateNode,mi=!1;break e}break;case 5:Fn=W.stateNode,mi=!1;break e;case 3:case 4:Fn=W.stateNode.containerInfo,mi=!0;break e}W=W.return}if(Fn===null)throw Error(r(160));n4(v,R,b),Fn=null,mi=!1,v=b.alternate,v!==null&&(v.return=null),b.return=null}if(A.subtreeFlags&13886)for(A=A.child;A!==null;)i4(A,a),A=A.sibling}var zA=null;function i4(a,A){var c=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:pi(A,a),xi(a),f&4&&(Ec(3,a,a.return),Yf(3,a),Ec(5,a,a.return));break;case 1:pi(A,a),xi(a),f&512&&(ms||c===null||Oo(c,c.return)),f&64&&Tl&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var b=zA;if(pi(A,a),xi(a),f&512&&(ms||c===null||Oo(c,c.return)),f&4){var v=c!==null?c.memoizedState:null;if(f=a.memoizedState,c===null)if(f===null)if(a.stateNode===null){e:{f=a.type,c=a.memoizedProps,b=b.ownerDocument||b;t:switch(f){case"title":v=b.getElementsByTagName("title")[0],(!v||v[Js]||v[Ar]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=b.createElement(f),b.head.insertBefore(v,b.querySelector("head > title"))),oa(v,f,c),v[Ar]=a,_n(v),f=v;break e;case"link":var R=iB("link","href",b).get(f+(c.href||""));if(R){for(var W=0;W<R.length;W++)if(v=R[W],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){R.splice(W,1);break t}}v=b.createElement(f),oa(v,f,c),b.head.appendChild(v);break;case"meta":if(R=iB("meta","content",b).get(f+(c.content||""))){for(W=0;W<R.length;W++)if(v=R[W],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){R.splice(W,1);break t}}v=b.createElement(f),oa(v,f,c),b.head.appendChild(v);break;default:throw Error(r(468,f))}v[Ar]=a,_n(v),f=v}a.stateNode=f}else AB(b,a.type,a.stateNode);else a.stateNode=aB(b,f,a.memoizedProps);else v!==f?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,f===null?AB(b,a.type,a.stateNode):aB(b,f,a.memoizedProps)):f===null&&a.stateNode!==null&&ny(a,a.memoizedProps,c.memoizedProps)}break;case 27:pi(A,a),xi(a),f&512&&(ms||c===null||Oo(c,c.return)),c!==null&&f&4&&ny(a,a.memoizedProps,c.memoizedProps);break;case 5:if(pi(A,a),xi(a),f&512&&(ms||c===null||Oo(c,c.return)),a.flags&32){b=a.stateNode;try{As(b,"")}catch(Et){Jr(a,a.return,Et)}}f&4&&a.stateNode!=null&&(b=a.memoizedProps,ny(a,b,c!==null?c.memoizedProps:b)),f&1024&&(iy=!0);break;case 6:if(pi(A,a),xi(a),f&4){if(a.stateNode===null)throw Error(r(162));f=a.memoizedProps,c=a.stateNode;try{c.nodeValue=f}catch(Et){Jr(a,a.return,Et)}}break;case 3:if(Um=null,b=zA,zA=Tm(A.containerInfo),pi(A,a),zA=b,xi(a),f&4&&c!==null&&c.memoizedState.isDehydrated)try{ch(A.containerInfo)}catch(Et){Jr(a,a.return,Et)}iy&&(iy=!1,A4(a));break;case 4:f=zA,zA=Tm(a.stateNode.containerInfo),pi(A,a),xi(a),zA=f;break;case 12:pi(A,a),xi(a);break;case 31:pi(A,a),xi(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,mm(a,f)));break;case 13:pi(A,a),xi(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(xm=_t()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,mm(a,f)));break;case 22:b=a.memoizedState!==null;var ge=c!==null&&c.memoizedState!==null,Ue=Tl,Me=ms;if(Tl=Ue||b,ms=Me||ge,pi(A,a),ms=Me,Tl=Ue,xi(a),f&8192)e:for(A=a.stateNode,A._visibility=b?A._visibility&-2:A._visibility|1,b&&(c===null||ge||Tl||ms||Vu(a)),c=null,A=a;;){if(A.tag===5||A.tag===26){if(c===null){ge=c=A;try{if(v=ge.stateNode,b)R=v.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{W=ge.stateNode;var Xe=ge.memoizedProps.style,Fe=Xe!=null&&Xe.hasOwnProperty("display")?Xe.display:null;W.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(Et){Jr(ge,ge.return,Et)}}}else if(A.tag===6){if(c===null){ge=A;try{ge.stateNode.nodeValue=b?"":ge.memoizedProps}catch(Et){Jr(ge,ge.return,Et)}}}else if(A.tag===18){if(c===null){ge=A;try{var Le=ge.stateNode;b?$4(Le,!0):$4(ge.stateNode,!1)}catch(Et){Jr(ge,ge.return,Et)}}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===a)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break e;for(;A.sibling===null;){if(A.return===null||A.return===a)break e;c===A&&(c=null),A=A.return}c===A&&(c=null),A.sibling.return=A.return,A=A.sibling}f&4&&(f=a.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,mm(a,c))));break;case 19:pi(A,a),xi(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,mm(a,f)));break;case 30:break;case 21:break;default:pi(A,a),xi(a)}}function xi(a){var A=a.flags;if(A&2){try{for(var c,f=a.return;f!==null;){if(W5(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var b=c.stateNode,v=sy(a);gm(a,v,b);break;case 5:var R=c.stateNode;c.flags&32&&(As(R,""),c.flags&=-33);var W=sy(a);gm(a,W,R);break;case 3:case 4:var ge=c.stateNode.containerInfo,Ue=sy(a);ay(a,Ue,ge);break;default:throw Error(r(161))}}catch(Me){Jr(a,a.return,Me)}a.flags&=-3}A&4096&&(a.flags&=-4097)}function A4(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var A=a;A4(A),A.tag===5&&A.flags&1024&&A.stateNode.reset(),a=a.sibling}}function Ul(a,A){if(A.subtreeFlags&8772)for(A=A.child;A!==null;)t4(a,A.alternate,A),A=A.sibling}function Vu(a){for(a=a.child;a!==null;){var A=a;switch(A.tag){case 0:case 11:case 14:case 15:Ec(4,A,A.return),Vu(A);break;case 1:Oo(A,A.return);var c=A.stateNode;typeof c.componentWillUnmount=="function"&&$5(A,A.return,c),Vu(A);break;case 27:a0(A.stateNode);case 26:case 5:Oo(A,A.return),Vu(A);break;case 22:A.memoizedState===null&&Vu(A);break;case 30:Vu(A);break;default:Vu(A)}a=a.sibling}}function Fl(a,A,c){for(c=c&&(A.subtreeFlags&8772)!==0,A=A.child;A!==null;){var f=A.alternate,b=a,v=A,R=v.flags;switch(v.tag){case 0:case 11:case 15:Fl(b,v,c),Yf(4,v);break;case 1:if(Fl(b,v,c),f=v,b=f.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Ue){Jr(f,f.return,Ue)}if(f=v,b=f.updateQueue,b!==null){var W=f.stateNode;try{var ge=b.shared.hiddenCallbacks;if(ge!==null)for(b.shared.hiddenCallbacks=null,b=0;b<ge.length;b++)va(ge[b],W)}catch(Ue){Jr(f,f.return,Ue)}}c&&R&64&&Y5(v),$f(v,v.return);break;case 27:Z5(v);case 26:case 5:Fl(b,v,c),c&&f===null&&R&4&&J5(v),$f(v,v.return);break;case 12:Fl(b,v,c);break;case 31:Fl(b,v,c),c&&R&4&&s4(b,v);break;case 13:Fl(b,v,c),c&&R&4&&a4(b,v);break;case 22:v.memoizedState===null&&Fl(b,v,c),$f(v,v.return);break;case 30:break;default:Fl(b,v,c)}A=A.sibling}}function Ay(a,A){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(a=A.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Ru(c))}function oy(a,A){a=null,A.alternate!==null&&(a=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==a&&(A.refCount++,a!=null&&Ru(a))}function qA(a,A,c,f){if(A.subtreeFlags&10256)for(A=A.child;A!==null;)o4(a,A,c,f),A=A.sibling}function o4(a,A,c,f){var b=A.flags;switch(A.tag){case 0:case 11:case 15:qA(a,A,c,f),b&2048&&Yf(9,A);break;case 1:qA(a,A,c,f);break;case 3:qA(a,A,c,f),b&2048&&(a=null,A.alternate!==null&&(a=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==a&&(A.refCount++,a!=null&&Ru(a)));break;case 12:if(b&2048){qA(a,A,c,f),a=A.stateNode;try{var v=A.memoizedProps,R=v.id,W=v.onPostCommit;typeof W=="function"&&W(R,A.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ge){Jr(A,A.return,ge)}}else qA(a,A,c,f);break;case 31:qA(a,A,c,f);break;case 13:qA(a,A,c,f);break;case 23:break;case 22:v=A.stateNode,R=A.alternate,A.memoizedState!==null?v._visibility&2?qA(a,A,c,f):Jf(a,A):v._visibility&2?qA(a,A,c,f):(v._visibility|=2,Zd(a,A,c,f,(A.subtreeFlags&10256)!==0||!1)),b&2048&&Ay(R,A);break;case 24:qA(a,A,c,f),b&2048&&oy(A.alternate,A);break;default:qA(a,A,c,f)}}function Zd(a,A,c,f,b){for(b=b&&((A.subtreeFlags&10256)!==0||!1),A=A.child;A!==null;){var v=a,R=A,W=c,ge=f,Ue=R.flags;switch(R.tag){case 0:case 11:case 15:Zd(v,R,W,ge,b),Yf(8,R);break;case 23:break;case 22:var Me=R.stateNode;R.memoizedState!==null?Me._visibility&2?Zd(v,R,W,ge,b):Jf(v,R):(Me._visibility|=2,Zd(v,R,W,ge,b)),b&&Ue&2048&&Ay(R.alternate,R);break;case 24:Zd(v,R,W,ge,b),b&&Ue&2048&&oy(R.alternate,R);break;default:Zd(v,R,W,ge,b)}A=A.sibling}}function Jf(a,A){if(A.subtreeFlags&10256)for(A=A.child;A!==null;){var c=a,f=A,b=f.flags;switch(f.tag){case 22:Jf(c,f),b&2048&&Ay(f.alternate,f);break;case 24:Jf(c,f),b&2048&&oy(f.alternate,f);break;default:Jf(c,f)}A=A.sibling}}var Wf=8192;function eh(a,A,c){if(a.subtreeFlags&Wf)for(a=a.child;a!==null;)l4(a,A,c),a=a.sibling}function l4(a,A,c){switch(a.tag){case 26:eh(a,A,c),a.flags&Wf&&a.memoizedState!==null&&Jj(c,zA,a.memoizedState,a.memoizedProps);break;case 5:eh(a,A,c);break;case 3:case 4:var f=zA;zA=Tm(a.stateNode.containerInfo),eh(a,A,c),zA=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=Wf,Wf=16777216,eh(a,A,c),Wf=f):eh(a,A,c));break;default:eh(a,A,c)}}function c4(a){var A=a.alternate;if(A!==null&&(a=A.child,a!==null)){A.child=null;do A=a.sibling,a.sibling=null,a=A;while(a!==null)}}function Zf(a){var A=a.deletions;if((a.flags&16)!==0){if(A!==null)for(var c=0;c<A.length;c++){var f=A[c];Ks=f,d4(f,a)}c4(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)u4(a),a=a.sibling}function u4(a){switch(a.tag){case 0:case 11:case 15:Zf(a),a.flags&2048&&Ec(9,a,a.return);break;case 3:Zf(a);break;case 12:Zf(a);break;case 22:var A=a.stateNode;a.memoizedState!==null&&A._visibility&2&&(a.return===null||a.return.tag!==13)?(A._visibility&=-3,pm(a)):Zf(a);break;default:Zf(a)}}function pm(a){var A=a.deletions;if((a.flags&16)!==0){if(A!==null)for(var c=0;c<A.length;c++){var f=A[c];Ks=f,d4(f,a)}c4(a)}for(a=a.child;a!==null;){switch(A=a,A.tag){case 0:case 11:case 15:Ec(8,A,A.return),pm(A);break;case 22:c=A.stateNode,c._visibility&2&&(c._visibility&=-3,pm(A));break;default:pm(A)}a=a.sibling}}function d4(a,A){for(;Ks!==null;){var c=Ks;switch(c.tag){case 0:case 11:case 15:Ec(8,c,A);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ru(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Ks=f;else e:for(c=a;Ks!==null;){f=Ks;var b=f.sibling,v=f.return;if(r4(f),f===c){Ks=null;break e}if(b!==null){b.return=v,Ks=b;break e}Ks=v}}}var dj={getCacheForType:function(a){var A=Is(Mn),c=A.data.get(a);return c===void 0&&(c=a(),A.data.set(a,c)),c},cacheSignal:function(){return Is(Mn).controller.signal}},hj=typeof WeakMap=="function"?WeakMap:Map,Kr=0,hn=null,yr=null,vr=0,$r=0,Ki=null,Sc=!1,th=!1,ly=!1,Ql=0,qn=0,Ic=0,Ku=0,cy=0,zi=0,rh=0,e0=null,yi=null,uy=!1,xm=0,h4=0,ym=1/0,bm=null,Tc=null,js=0,jc=null,nh=null,Ll=0,dy=0,hy=null,f4=null,t0=0,fy=null;function qi(){return(Kr&2)!==0&&vr!==0?vr&-vr:te.T!==null?by():lr()}function g4(){if(zi===0)if((vr&536870912)===0||pr){var a=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),zi=a}else zi=536870912;return a=Pn.current,a!==null&&(a.flags|=32),zi}function bi(a,A,c){(a===hn&&($r===2||$r===9)||a.cancelPendingCommit!==null)&&(sh(a,0),Uc(a,vr,zi,!1)),qe(a,c),((Kr&2)===0||a!==hn)&&(a===hn&&((Kr&2)===0&&(Ku|=c),qn===4&&Uc(a,vr,zi,!1)),Mo(a))}function m4(a,A,c){if((Kr&6)!==0)throw Error(r(327));var f=!c&&(A&127)===0&&(A&a.expiredLanes)===0||Yt(a,A),b=f?mj(a,A):my(a,A,!0),v=f;do{if(b===0){th&&!f&&Uc(a,A,0,!1);break}else{if(c=a.current.alternate,v&&!fj(c)){b=my(a,A,!1),v=!1;continue}if(b===2){if(v=A,a.errorRecoveryDisabledLanes&v)var R=0;else R=a.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){A=R;e:{var W=a;b=e0;var ge=W.current.memoizedState.isDehydrated;if(ge&&(sh(W,R).flags|=256),R=my(W,R,!1),R!==2){if(ly&&!ge){W.errorRecoveryDisabledLanes|=v,Ku|=v,b=4;break e}v=yi,yi=b,v!==null&&(yi===null?yi=v:yi.push.apply(yi,v))}b=R}if(v=!1,b!==2)continue}}if(b===1){sh(a,0),Uc(a,A,0,!0);break}e:{switch(f=a,v=b,v){case 0:case 1:throw Error(r(345));case 4:if((A&4194048)!==A)break;case 6:Uc(f,A,zi,!Sc);break e;case 2:yi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((A&62914560)===A&&(b=xm+300-_t(),10<b)){if(Uc(f,A,zi,!Sc),yt(f,0,!0)!==0)break e;Ll=A,f.timeoutHandle=G4(p4.bind(null,f,c,yi,bm,uy,A,zi,Ku,rh,Sc,v,"Throttled",-0,0),b);break e}p4(f,c,yi,bm,uy,A,zi,Ku,rh,Sc,v,null,-0,0)}}break}while(!0);Mo(a)}function p4(a,A,c,f,b,v,R,W,ge,Ue,Me,Xe,Fe,Le){if(a.timeoutHandle=-1,Xe=A.subtreeFlags,Xe&8192||(Xe&16785408)===16785408){Xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nn},l4(A,v,Xe);var Et=(v&62914560)===v?xm-_t():(v&4194048)===v?h4-_t():0;if(Et=Wj(Xe,Et),Et!==null){Ll=v,a.cancelPendingCommit=Et(N4.bind(null,a,A,v,c,f,b,R,W,ge,Me,Xe,null,Fe,Le)),Uc(a,v,R,!Ue);return}}N4(a,A,v,c,f,b,R,W,ge)}function fj(a){for(var A=a;;){var c=A.tag;if((c===0||c===11||c===15)&&A.flags&16384&&(c=A.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var b=c[f],v=b.getSnapshot;b=b.value;try{if(!Ds(v(),b))return!1}catch{return!1}}if(c=A.child,A.subtreeFlags&16384&&c!==null)c.return=A,A=c;else{if(A===a)break;for(;A.sibling===null;){if(A.return===null||A.return===a)return!0;A=A.return}A.sibling.return=A.return,A=A.sibling}}return!0}function Uc(a,A,c,f){A&=~cy,A&=~Ku,a.suspendedLanes|=A,a.pingedLanes&=~A,f&&(a.warmLanes|=A),f=a.expirationTimes;for(var b=A;0<b;){var v=31-Bt(b),R=1<<v;f[v]=-1,b&=~R}c!==0&&rt(a,c,A)}function wm(){return(Kr&6)===0?(r0(0),!1):!0}function gy(){if(yr!==null){if($r===0)var a=yr.return;else a=yr,lA=jo=null,qd(a),He=null,dt=0,a=yr;for(;a!==null;)X5(a.alternate,a),a=a.return;yr=null}}function sh(a,A){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,Qj(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Ll=0,gy(),hn=a,yr=c=oi(a.current,null),vr=A,$r=0,Ki=null,Sc=!1,th=Yt(a,A),ly=!1,rh=zi=cy=Ku=Ic=qn=0,yi=e0=null,uy=!1,(A&8)!==0&&(A|=A&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=A;0<f;){var b=31-Bt(f),v=1<<b;A|=a[b],f&=~v}return Ql=A,Eo(),c}function x4(a,A){Wt=null,te.H=qf,A===xe||A===Ie?(A=Ke(),$r=3):A===Te?(A=Ke(),$r=4):$r=A===Gx?8:A!==null&&typeof A=="object"&&typeof A.then=="function"?6:1,Ki=A,yr===null&&(qn=1,cm(a,li(A,a.current)))}function y4(){var a=Pn.current;return a===null?!0:(vr&4194048)===vr?hs===null:(vr&62914560)===vr||(vr&536870912)!==0?a===hs:!1}function b4(){var a=te.H;return te.H=qf,a===null?qf:a}function w4(){var a=te.A;return te.A=dj,a}function vm(){qn=4,Sc||(vr&4194048)!==vr&&Pn.current!==null||(th=!0),(Ic&134217727)===0&&(Ku&134217727)===0||hn===null||Uc(hn,vr,zi,!1)}function my(a,A,c){var f=Kr;Kr|=2;var b=b4(),v=w4();(hn!==a||vr!==A)&&(bm=null,sh(a,A)),A=!1;var R=qn;e:do try{if($r!==0&&yr!==null){var W=yr,ge=Ki;switch($r){case 8:gy(),R=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(A=!0);var Ue=$r;if($r=0,Ki=null,ah(a,W,ge,Ue),c&&th){R=0;break e}break;default:Ue=$r,$r=0,Ki=null,ah(a,W,ge,Ue)}}gj(),R=qn;break}catch(Me){x4(a,Me)}while(!0);return A&&a.shellSuspendCounter++,lA=jo=null,Kr=f,te.H=b,te.A=v,yr===null&&(hn=null,vr=0,Eo()),R}function gj(){for(;yr!==null;)v4(yr)}function mj(a,A){var c=Kr;Kr|=2;var f=b4(),b=w4();hn!==a||vr!==A?(bm=null,ym=_t()+500,sh(a,A)):th=Yt(a,A);e:do try{if($r!==0&&yr!==null){A=yr;var v=Ki;t:switch($r){case 1:$r=0,Ki=null,ah(a,A,v,1);break;case 2:case 9:if(Ge(v)){$r=0,Ki=null,B4(A);break}A=function(){$r!==2&&$r!==9||hn!==a||($r=7),Mo(a)},v.then(A,A);break e;case 3:$r=7;break e;case 4:$r=5;break e;case 7:Ge(v)?($r=0,Ki=null,B4(A)):($r=0,Ki=null,ah(a,A,v,7));break;case 5:var R=null;switch(yr.tag){case 26:R=yr.memoizedState;case 5:case 27:var W=yr;if(R?oB(R):W.stateNode.complete){$r=0,Ki=null;var ge=W.sibling;if(ge!==null)yr=ge;else{var Ue=W.return;Ue!==null?(yr=Ue,Bm(Ue)):yr=null}break t}}$r=0,Ki=null,ah(a,A,v,5);break;case 6:$r=0,Ki=null,ah(a,A,v,6);break;case 8:gy(),qn=6;break e;default:throw Error(r(462))}}pj();break}catch(Me){x4(a,Me)}while(!0);return lA=jo=null,te.H=f,te.A=b,Kr=c,yr!==null?0:(hn=null,vr=0,Eo(),qn)}function pj(){for(;yr!==null&&!at();)v4(yr)}function v4(a){var A=q5(a.alternate,a,Ql);a.memoizedProps=a.pendingProps,A===null?Bm(a):yr=A}function B4(a){var A=a,c=A.alternate;switch(A.tag){case 15:case 0:A=M5(c,A,A.pendingProps,A.type,void 0,vr);break;case 11:A=M5(c,A,A.pendingProps,A.type.render,A.ref,vr);break;case 5:qd(A);default:X5(c,A),A=yr=Qu(A,Ql),A=q5(c,A,Ql)}a.memoizedProps=a.pendingProps,A===null?Bm(a):yr=A}function ah(a,A,c,f){lA=jo=null,qd(A),He=null,dt=0;var b=A.return;try{if(aj(a,b,A,c,vr)){qn=1,cm(a,li(c,a.current)),yr=null;return}}catch(v){if(b!==null)throw yr=b,v;qn=1,cm(a,li(c,a.current)),yr=null;return}A.flags&32768?(pr||f===1?a=!0:th||(vr&536870912)!==0?a=!1:(Sc=a=!0,(f===2||f===9||f===3||f===6)&&(f=Pn.current,f!==null&&f.tag===13&&(f.flags|=16384))),C4(A,a)):Bm(A)}function Bm(a){var A=a;do{if((A.flags&32768)!==0){C4(A,Sc);return}a=A.return;var c=oj(A.alternate,A,Ql);if(c!==null){yr=c;return}if(A=A.sibling,A!==null){yr=A;return}yr=A=a}while(A!==null);qn===0&&(qn=5)}function C4(a,A){do{var c=lj(a.alternate,a);if(c!==null){c.flags&=32767,yr=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!A&&(a=a.sibling,a!==null)){yr=a;return}yr=a=c}while(a!==null);qn=6,yr=null}function N4(a,A,c,f,b,v,R,W,ge){a.cancelPendingCommit=null;do Cm();while(js!==0);if((Kr&6)!==0)throw Error(r(327));if(A!==null){if(A===a.current)throw Error(r(177));if(v=A.lanes|A.childLanes,v|=Hi,Pe(a,c,v,R,W,ge),a===hn&&(yr=hn=null,vr=0),nh=A,jc=a,Ll=c,dy=v,hy=b,f4=f,(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,wj(ir,function(){return T4(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(A.flags&13878)!==0,(A.subtreeFlags&13878)!==0||f){f=te.T,te.T=null,b=ce.p,ce.p=2,R=Kr,Kr|=4;try{cj(a,A,c)}finally{Kr=R,ce.p=b,te.T=f}}js=1,_4(),E4(),S4()}}function _4(){if(js===1){js=0;var a=jc,A=nh,c=(A.flags&13878)!==0;if((A.subtreeFlags&13878)!==0||c){c=te.T,te.T=null;var f=ce.p;ce.p=2;var b=Kr;Kr|=4;try{i4(A,a);var v=Sy,R=QA(a.containerInfo),W=v.focusedElem,ge=v.selectionRange;if(R!==W&&W&&W.ownerDocument&&Os(W.ownerDocument.documentElement,W)){if(ge!==null&&Di(W)){var Ue=ge.start,Me=ge.end;if(Me===void 0&&(Me=Ue),"selectionStart"in W)W.selectionStart=Ue,W.selectionEnd=Math.min(Me,W.value.length);else{var Xe=W.ownerDocument||document,Fe=Xe&&Xe.defaultView||window;if(Fe.getSelection){var Le=Fe.getSelection(),Et=W.textContent.length,Vt=Math.min(ge.start,Et),An=ge.end===void 0?Vt:Math.min(ge.end,Et);!Le.extend&&Vt>An&&(R=An,An=Vt,Vt=R);var _e=aa(W,Vt),be=aa(W,An);if(_e&&be&&(Le.rangeCount!==1||Le.anchorNode!==_e.node||Le.anchorOffset!==_e.offset||Le.focusNode!==be.node||Le.focusOffset!==be.offset)){var je=Xe.createRange();je.setStart(_e.node,_e.offset),Le.removeAllRanges(),Vt>An?(Le.addRange(je),Le.extend(be.node,be.offset)):(je.setEnd(be.node,be.offset),Le.addRange(je))}}}}for(Xe=[],Le=W;Le=Le.parentNode;)Le.nodeType===1&&Xe.push({element:Le,left:Le.scrollLeft,top:Le.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Xe.length;W++){var ze=Xe[W];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}km=!!Ey,Sy=Ey=null}finally{Kr=b,ce.p=f,te.T=c}}a.current=A,js=2}}function E4(){if(js===2){js=0;var a=jc,A=nh,c=(A.flags&8772)!==0;if((A.subtreeFlags&8772)!==0||c){c=te.T,te.T=null;var f=ce.p;ce.p=2;var b=Kr;Kr|=4;try{t4(a,A.alternate,A)}finally{Kr=b,ce.p=f,te.T=c}}js=3}}function S4(){if(js===4||js===3){js=0,Nt();var a=jc,A=nh,c=Ll,f=f4;(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?js=5:(js=0,nh=jc=null,I4(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(Tc=null),Ft(c),A=A.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Qe,A,void 0,(A.current.flags&128)===128)}catch{}if(f!==null){A=te.T,b=ce.p,ce.p=2,te.T=null;try{for(var v=a.onRecoverableError,R=0;R<f.length;R++){var W=f[R];v(W.value,{componentStack:W.stack})}}finally{te.T=A,ce.p=b}}(Ll&3)!==0&&Cm(),Mo(a),b=a.pendingLanes,(c&261930)!==0&&(b&42)!==0?a===fy?t0++:(t0=0,fy=a):t0=0,r0(0)}}function I4(a,A){(a.pooledCacheLanes&=A)===0&&(A=a.pooledCache,A!=null&&(a.pooledCache=null,Ru(A)))}function Cm(){return _4(),E4(),S4(),T4()}function T4(){if(js!==5)return!1;var a=jc,A=dy;dy=0;var c=Ft(Ll),f=te.T,b=ce.p;try{ce.p=32>c?32:c,te.T=null,c=hy,hy=null;var v=jc,R=Ll;if(js=0,nh=jc=null,Ll=0,(Kr&6)!==0)throw Error(r(331));var W=Kr;if(Kr|=4,u4(v.current),o4(v,v.current,R,c),Kr=W,r0(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Qe,v)}catch{}return!0}finally{ce.p=b,te.T=f,I4(a,A)}}function j4(a,A,c){A=li(c,A),A=qx(a.stateNode,A,2),a=Yr(a,A,2),a!==null&&(qe(a,2),Mo(a))}function Jr(a,A,c){if(a.tag===3)j4(a,a,c);else for(;A!==null;){if(A.tag===3){j4(A,a,c);break}else if(A.tag===1){var f=A.stateNode;if(typeof A.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Tc===null||!Tc.has(f))){a=li(c,a),c=U5(2),f=Yr(A,c,2),f!==null&&(F5(c,f,A,a),qe(f,2),Mo(f));break}}A=A.return}}function py(a,A,c){var f=a.pingCache;if(f===null){f=a.pingCache=new hj;var b=new Set;f.set(A,b)}else b=f.get(A),b===void 0&&(b=new Set,f.set(A,b));b.has(c)||(ly=!0,b.add(c),a=xj.bind(null,a,A,c),A.then(a,a))}function xj(a,A,c){var f=a.pingCache;f!==null&&f.delete(A),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,hn===a&&(vr&c)===c&&(qn===4||qn===3&&(vr&62914560)===vr&&300>_t()-xm?(Kr&2)===0&&sh(a,0):cy|=c,rh===vr&&(rh=0)),Mo(a)}function U4(a,A){A===0&&(A=Xr()),a=DA(a,A),a!==null&&(qe(a,A),Mo(a))}function yj(a){var A=a.memoizedState,c=0;A!==null&&(c=A.retryLane),U4(a,c)}function bj(a,A){var c=0;switch(a.tag){case 31:case 13:var f=a.stateNode,b=a.memoizedState;b!==null&&(c=b.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(A),U4(a,c)}function wj(a,A){return Je(a,A)}var Nm=null,ih=null,xy=!1,_m=!1,yy=!1,Fc=0;function Mo(a){a!==ih&&a.next===null&&(ih===null?Nm=ih=a:ih=ih.next=a),_m=!0,xy||(xy=!0,Bj())}function r0(a,A){if(!yy&&_m){yy=!0;do for(var c=!1,f=Nm;f!==null;){if(a!==0){var b=f.pendingLanes;if(b===0)var v=0;else{var R=f.suspendedLanes,W=f.pingedLanes;v=(1<<31-Bt(42|a)+1)-1,v&=b&~(R&~W),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,k4(f,v))}else v=vr,v=yt(f,f===hn?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Yt(f,v)||(c=!0,k4(f,v));f=f.next}while(c);yy=!1}}function vj(){F4()}function F4(){_m=xy=!1;var a=0;Fc!==0&&Fj()&&(a=Fc);for(var A=_t(),c=null,f=Nm;f!==null;){var b=f.next,v=Q4(f,A);v===0?(f.next=null,c===null?Nm=b:c.next=b,b===null&&(ih=c)):(c=f,(a!==0||(v&3)!==0)&&(_m=!0)),f=b}js!==0&&js!==5||r0(a),Fc!==0&&(Fc=0)}function Q4(a,A){for(var c=a.suspendedLanes,f=a.pingedLanes,b=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var R=31-Bt(v),W=1<<R,ge=b[R];ge===-1?((W&c)===0||(W&f)!==0)&&(b[R]=$n(W,A)):ge<=A&&(a.expiredLanes|=W),v&=~W}if(A=hn,c=vr,c=yt(a,a===A?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,c===0||a===A&&($r===2||$r===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&nt(f),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Yt(a,c)){if(A=c&-c,A===a.callbackPriority)return A;switch(f!==null&&nt(f),Ft(c)){case 2:case 8:c=Xt;break;case 32:c=ir;break;case 268435456:c=Pt;break;default:c=ir}return f=L4.bind(null,a),c=Je(c,f),a.callbackPriority=A,a.callbackNode=c,A}return f!==null&&f!==null&&nt(f),a.callbackPriority=2,a.callbackNode=null,2}function L4(a,A){if(js!==0&&js!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Cm()&&a.callbackNode!==c)return null;var f=vr;return f=yt(a,a===hn?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(m4(a,f,A),Q4(a,_t()),a.callbackNode!=null&&a.callbackNode===c?L4.bind(null,a):null)}function k4(a,A){if(Cm())return null;m4(a,A,!0)}function Bj(){Lj(function(){(Kr&6)!==0?Je(Gt,vj):F4()})}function by(){if(Fc===0){var a=m;a===0&&(a=or,or<<=1,(or&261888)===0&&(or=256)),Fc=a}return Fc}function R4(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:IA(""+a)}function D4(a,A){var c=A.ownerDocument.createElement("input");return c.name=A.name,c.value=A.value,a.id&&c.setAttribute("form",a.id),A.parentNode.insertBefore(c,A),a=new FormData(a),c.parentNode.removeChild(c),a}function Cj(a,A,c,f,b){if(A==="submit"&&c&&c.stateNode===b){var v=R4((b[kr]||null).action),R=f.submitter;R&&(A=(A=R[kr]||null)?R4(A.formAction):R.getAttribute("formAction"),A!==null&&(v=A,R=null));var W=new Pa("action","action",null,f,b);a.push({event:W,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Fc!==0){var ge=R?D4(b,R):new FormData(b);Mx(c,{pending:!0,data:ge,method:b.method,action:v},null,ge)}}else typeof v=="function"&&(W.preventDefault(),ge=R?D4(b,R):new FormData(b),Mx(c,{pending:!0,data:ge,method:b.method,action:v},v,ge))},currentTarget:b}]})}}for(var wy=0;wy<wa.length;wy++){var vy=wa[wy],Nj=vy.toLowerCase(),_j=vy[0].toUpperCase()+vy.slice(1);mr(Nj,"on"+_j)}mr(Co,"onAnimationEnd"),mr(kA,"onAnimationIteration"),mr(No,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(fc,"onTransitionRun"),mr(yl,"onTransitionStart"),mr(_o,"onTransitionCancel"),mr(gc,"onTransitionEnd"),ma("onMouseEnter",["mouseout","mouseover"]),ma("onMouseLeave",["mouseout","mouseover"]),ma("onPointerEnter",["pointerout","pointerover"]),ma("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var n0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ej=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(n0));function O4(a,A){A=(A&4)!==0;for(var c=0;c<a.length;c++){var f=a[c],b=f.event;f=f.listeners;e:{var v=void 0;if(A)for(var R=f.length-1;0<=R;R--){var W=f[R],ge=W.instance,Ue=W.currentTarget;if(W=W.listener,ge!==v&&b.isPropagationStopped())break e;v=W,b.currentTarget=Ue;try{v(b)}catch(Me){Hr(Me)}b.currentTarget=null,v=ge}else for(R=0;R<f.length;R++){if(W=f[R],ge=W.instance,Ue=W.currentTarget,W=W.listener,ge!==v&&b.isPropagationStopped())break e;v=W,b.currentTarget=Ue;try{v(b)}catch(Me){Hr(Me)}b.currentTarget=null,v=ge}}}}function br(a,A){var c=A[$s];c===void 0&&(c=A[$s]=new Set);var f=a+"__bubble";c.has(f)||(M4(A,a,2,!1),c.add(f))}function By(a,A,c){var f=0;A&&(f|=4),M4(c,a,f,A)}var Em="_reactListening"+Math.random().toString(36).slice(2);function Cy(a){if(!a[Em]){a[Em]=!0,tA.forEach(function(c){c!=="selectionchange"&&(Ej.has(c)||By(c,!1,a),By(c,!0,a))});var A=a.nodeType===9?a:a.ownerDocument;A===null||A[Em]||(A[Em]=!0,By("selectionchange",!1,A))}}function M4(a,A,c,f){switch(gB(A)){case 2:var b=tU;break;case 8:b=rU;break;default:b=Oy}c=b.bind(null,A,c,a),b=void 0,!ji||A!=="touchstart"&&A!=="touchmove"&&A!=="wheel"||(b=!0),f?b!==void 0?a.addEventListener(A,c,{capture:!0,passive:b}):a.addEventListener(A,c,!0):b!==void 0?a.addEventListener(A,c,{passive:b}):a.addEventListener(A,c,!1)}function Ny(a,A,c,f,b){var v=f;if((A&1)===0&&(A&2)===0&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var W=f.stateNode.containerInfo;if(W===b)break;if(R===4)for(R=f.return;R!==null;){var ge=R.tag;if((ge===3||ge===4)&&R.stateNode.containerInfo===b)return;R=R.return}for(;W!==null;){if(R=Ws(W),R===null)return;if(ge=R.tag,ge===5||ge===6||ge===26||ge===27){f=v=R;continue e}W=W.parentNode}}f=f.return}Ti(function(){var Ue=v,Me=ea(c),Xe=[];e:{var Fe=qa.get(a);if(Fe!==void 0){var Le=Pa,Et=a;switch(a){case"keypress":if(ya(c)===0)break e;case"keydown":case"keyup":Le=bo;break;case"focusin":Et="focus",Le=jA;break;case"focusout":Et="blur",Le=jA;break;case"beforeblur":case"afterblur":Le=jA;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=y;break;case Co:case kA:case No:Le=ic;break;case gc:Le=L;break;case"scroll":case"scrollend":Le=fo;break;case"wheel":Le=le;break;case"copy":case"cut":case"paste":Le=po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=Va;break;case"toggle":case"beforetoggle":Le=Ye}var Vt=(A&4)!==0,An=!Vt&&(a==="scroll"||a==="scrollend"),_e=Vt?Fe!==null?Fe+"Capture":null:Fe;Vt=[];for(var be=Ue,je;be!==null;){var ze=be;if(je=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||je===null||_e===null||(ze=xa(be,_e),ze!=null&&Vt.push(s0(be,ze,je))),An)break;be=be.return}0<Vt.length&&(Fe=new Le(Fe,Et,null,c,Me),Xe.push({event:Fe,listeners:Vt}))}}if((A&7)===0){e:{if(Fe=a==="mouseover"||a==="pointerover",Le=a==="mouseout"||a==="pointerout",Fe&&c!==hl&&(Et=c.relatedTarget||c.fromElement)&&(Ws(Et)||Et[Vn]))break e;if((Le||Fe)&&(Fe=Me.window===Me?Me:(Fe=Me.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Le?(Et=c.relatedTarget||c.toElement,Le=Ue,Et=Et?Ws(Et):null,Et!==null&&(An=i(Et),Vt=Et.tag,Et!==An||Vt!==5&&Vt!==27&&Vt!==6)&&(Et=null)):(Le=null,Et=Ue),Le!==Et)){if(Vt=ai,ze="onMouseLeave",_e="onMouseEnter",be="mouse",(a==="pointerout"||a==="pointerover")&&(Vt=Va,ze="onPointerLeave",_e="onPointerEnter",be="pointer"),An=Le==null?Fe:ks(Le),je=Et==null?Fe:ks(Et),Fe=new Vt(ze,be+"leave",Le,c,Me),Fe.target=An,Fe.relatedTarget=je,ze=null,Ws(Me)===Ue&&(Vt=new Vt(_e,be+"enter",Et,c,Me),Vt.target=je,Vt.relatedTarget=An,ze=Vt),An=ze,Le&&Et)t:{for(Vt=Sj,_e=Le,be=Et,je=0,ze=_e;ze;ze=Vt(ze))je++;ze=0;for(var Rt=be;Rt;Rt=Vt(Rt))ze++;for(;0<je-ze;)_e=Vt(_e),je--;for(;0<ze-je;)be=Vt(be),ze--;for(;je--;){if(_e===be||be!==null&&_e===be.alternate){Vt=_e;break t}_e=Vt(_e),be=Vt(be)}Vt=null}else Vt=null;Le!==null&&P4(Xe,Fe,Le,Vt,!1),Et!==null&&An!==null&&P4(Xe,An,Et,Vt,!0)}}e:{if(Fe=Ue?ks(Ue):window,Le=Fe.nodeName&&Fe.nodeName.toLowerCase(),Le==="select"||Le==="input"&&Fe.type==="file")var Mr=ls;else if(oc(Fe))if(pl)Mr=uc;else{Mr=Ud;var jt=Uu}else Le=Fe.nodeName,!Le||Le.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?Ue&&pa(Ue.elementType)&&(Mr=ls):Mr=ii;if(Mr&&(Mr=Mr(a,Ue))){lc(Xe,Mr,c,Me);break e}jt&&jt(a,Fe,Ue),a==="focusout"&&Ue&&Fe.type==="number"&&Ue.memoizedProps.value!=null&&ho(Fe,"number",Fe.value)}switch(jt=Ue?ks(Ue):window,a){case"focusin":(oc(jt)||jt.contentEditable==="true")&&(Oi=jt,Mi=Ue,cn=null);break;case"focusout":cn=Mi=Oi=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,Ms(Xe,c,Me);break;case"selectionchange":if(LA)break;case"keydown":case"keyup":Ms(Xe,c,Me)}var ur;if(ht)e:{switch(a){case"compositionstart":var Br="onCompositionStart";break e;case"compositionend":Br="onCompositionEnd";break e;case"compositionupdate":Br="onCompositionUpdate";break e}Br=void 0}else Rs?En(a,c)&&(Br="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Br="onCompositionStart");Br&&(Tr&&c.locale!=="ko"&&(Rs||Br!=="onCompositionStart"?Br==="onCompositionEnd"&&Rs&&(ur=Fi()):(si=Me,fl="value"in si?si.value:si.textContent,Rs=!0)),jt=Sm(Ue,Br),0<jt.length&&(Br=new na(Br,a,null,c,Me),Xe.push({event:Br,listeners:jt}),ur?Br.data=ur:(ur=vn(c),ur!==null&&(Br.data=ur)))),(ur=Jt?Ka(a,c):AA(a,c))&&(Br=Sm(Ue,"onBeforeInput"),0<Br.length&&(jt=new na("onBeforeInput","beforeinput",null,c,Me),Xe.push({event:jt,listeners:Br}),jt.data=ur)),Cj(Xe,a,Ue,c,Me)}O4(Xe,A)})}function s0(a,A,c){return{instance:a,listener:A,currentTarget:c}}function Sm(a,A){for(var c=A+"Capture",f=[];a!==null;){var b=a,v=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||v===null||(b=xa(a,c),b!=null&&f.unshift(s0(a,b,v)),b=xa(a,A),b!=null&&f.push(s0(a,b,v))),a.tag===3)return f;a=a.return}return[]}function Sj(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function P4(a,A,c,f,b){for(var v=A._reactName,R=[];c!==null&&c!==f;){var W=c,ge=W.alternate,Ue=W.stateNode;if(W=W.tag,ge!==null&&ge===f)break;W!==5&&W!==26&&W!==27||Ue===null||(ge=Ue,b?(Ue=xa(c,v),Ue!=null&&R.unshift(s0(c,Ue,ge))):b||(Ue=xa(c,v),Ue!=null&&R.push(s0(c,Ue,ge)))),c=c.return}R.length!==0&&a.push({event:A,listeners:R})}var Ij=/\r\n?/g,Tj=/\u0000|\uFFFD/g;function H4(a){return(typeof a=="string"?a:""+a).replace(Ij,`
`).replace(Tj,"")}function V4(a,A){return A=H4(A),H4(a)===A}function an(a,A,c,f,b,v){switch(c){case"children":typeof f=="string"?A==="body"||A==="textarea"&&f===""||As(a,f):(typeof f=="number"||typeof f=="bigint")&&A!=="body"&&As(a,""+f);break;case"className":Er(a,"class",f);break;case"tabIndex":Er(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(a,c,f);break;case"style":dl(a,f,v);break;case"data":if(A!=="object"){Er(a,"data",f);break}case"src":case"href":if(f===""&&(A!=="a"||c!=="href")){a.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=IA(""+f),a.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(A!=="input"&&an(a,A,"name",b.name,b,null),an(a,A,"formEncType",b.formEncType,b,null),an(a,A,"formMethod",b.formMethod,b,null),an(a,A,"formTarget",b.formTarget,b,null)):(an(a,A,"encType",b.encType,b,null),an(a,A,"method",b.method,b,null),an(a,A,"target",b.target,b,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=IA(""+f),a.setAttribute(c,f);break;case"onClick":f!=null&&(a.onclick=nn);break;case"onScroll":f!=null&&br("scroll",a);break;case"onScrollEnd":f!=null&&br("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}c=IA(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""+f):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":f===!0?a.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,f):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(c,f):a.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(c):a.setAttribute(c,f);break;case"popover":br("beforetoggle",a),br("toggle",a),uo(a,"popover",f);break;case"xlinkActuate":wn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":wn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":wn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":wn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":wn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":wn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":wn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":wn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":wn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":uo(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=SA.get(c)||c,uo(a,c,f))}}function _y(a,A,c,f,b,v){switch(c){case"style":dl(a,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof f=="string"?As(a,f):(typeof f=="number"||typeof f=="bigint")&&As(a,""+f);break;case"onScroll":f!=null&&br("scroll",a);break;case"onScrollEnd":f!=null&&br("scrollend",a);break;case"onClick":f!=null&&(a.onclick=nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lo.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),A=c.slice(2,b?c.length-7:void 0),v=a[kr]||null,v=v!=null?v[c]:null,typeof v=="function"&&a.removeEventListener(A,v,b),typeof f=="function")){typeof v!="function"&&v!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(A,f,b);break e}c in a?a[c]=f:f===!0?a.setAttribute(c,""):uo(a,c,f)}}}function oa(a,A,c){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":br("error",a),br("load",a);var f=!1,b=!1,v;for(v in c)if(c.hasOwnProperty(v)){var R=c[v];if(R!=null)switch(v){case"src":f=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,A));default:an(a,A,v,R,c,null)}}b&&an(a,A,"srcSet",c.srcSet,c,null),f&&an(a,A,"src",c.src,c,null);return;case"input":br("invalid",a);var W=v=R=b=null,ge=null,Ue=null;for(f in c)if(c.hasOwnProperty(f)){var Me=c[f];if(Me!=null)switch(f){case"name":b=Me;break;case"type":R=Me;break;case"checked":ge=Me;break;case"defaultChecked":Ue=Me;break;case"value":v=Me;break;case"defaultValue":W=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,A));break;default:an(a,A,f,Me,c,null)}}sc(a,v,W,ge,Ue,R,b,!1);return;case"select":br("invalid",a),f=R=v=null;for(b in c)if(c.hasOwnProperty(b)&&(W=c[b],W!=null))switch(b){case"value":v=W;break;case"defaultValue":R=W;break;case"multiple":f=W;default:an(a,A,b,W,c,null)}A=v,c=R,a.multiple=!!f,A!=null?rA(a,!!f,A,!1):c!=null&&rA(a,!!f,c,!0);return;case"textarea":br("invalid",a),v=b=f=null;for(R in c)if(c.hasOwnProperty(R)&&(W=c[R],W!=null))switch(R){case"value":f=W;break;case"defaultValue":b=W;break;case"children":v=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:an(a,A,R,W,c,null)}nA(a,f,b,v);return;case"option":for(ge in c)if(c.hasOwnProperty(ge)&&(f=c[ge],f!=null))switch(ge){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:an(a,A,ge,f,c,null)}return;case"dialog":br("beforetoggle",a),br("toggle",a),br("cancel",a),br("close",a);break;case"iframe":case"object":br("load",a);break;case"video":case"audio":for(f=0;f<n0.length;f++)br(n0[f],a);break;case"image":br("error",a),br("load",a);break;case"details":br("toggle",a);break;case"embed":case"source":case"link":br("error",a),br("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ue in c)if(c.hasOwnProperty(Ue)&&(f=c[Ue],f!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,A));default:an(a,A,Ue,f,c,null)}return;default:if(pa(A)){for(Me in c)c.hasOwnProperty(Me)&&(f=c[Me],f!==void 0&&_y(a,A,Me,f,c,void 0));return}}for(W in c)c.hasOwnProperty(W)&&(f=c[W],f!=null&&an(a,A,W,f,c,null))}function jj(a,A,c,f){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,v=null,R=null,W=null,ge=null,Ue=null,Me=null;for(Le in c){var Xe=c[Le];if(c.hasOwnProperty(Le)&&Xe!=null)switch(Le){case"checked":break;case"value":break;case"defaultValue":ge=Xe;default:f.hasOwnProperty(Le)||an(a,A,Le,null,f,Xe)}}for(var Fe in f){var Le=f[Fe];if(Xe=c[Fe],f.hasOwnProperty(Fe)&&(Le!=null||Xe!=null))switch(Fe){case"type":v=Le;break;case"name":b=Le;break;case"checked":Ue=Le;break;case"defaultChecked":Me=Le;break;case"value":R=Le;break;case"defaultValue":W=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,A));break;default:Le!==Xe&&an(a,A,Fe,Le,f,Xe)}}EA(a,R,W,ge,Ue,Me,v,b);return;case"select":Le=R=W=Fe=null;for(v in c)if(ge=c[v],c.hasOwnProperty(v)&&ge!=null)switch(v){case"value":break;case"multiple":Le=ge;default:f.hasOwnProperty(v)||an(a,A,v,null,f,ge)}for(b in f)if(v=f[b],ge=c[b],f.hasOwnProperty(b)&&(v!=null||ge!=null))switch(b){case"value":Fe=v;break;case"defaultValue":W=v;break;case"multiple":R=v;default:v!==ge&&an(a,A,b,v,f,ge)}A=W,c=R,f=Le,Fe!=null?rA(a,!!c,Fe,!1):!!f!=!!c&&(A!=null?rA(a,!!c,A,!0):rA(a,!!c,c?[]:"",!1));return;case"textarea":Le=Fe=null;for(W in c)if(b=c[W],c.hasOwnProperty(W)&&b!=null&&!f.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:an(a,A,W,null,f,b)}for(R in f)if(b=f[R],v=c[R],f.hasOwnProperty(R)&&(b!=null||v!=null))switch(R){case"value":Fe=b;break;case"defaultValue":Le=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==v&&an(a,A,R,b,f,v)}cl(a,Fe,Le);return;case"option":for(var Et in c)if(Fe=c[Et],c.hasOwnProperty(Et)&&Fe!=null&&!f.hasOwnProperty(Et))switch(Et){case"selected":a.selected=!1;break;default:an(a,A,Et,null,f,Fe)}for(ge in f)if(Fe=f[ge],Le=c[ge],f.hasOwnProperty(ge)&&Fe!==Le&&(Fe!=null||Le!=null))switch(ge){case"selected":a.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:an(a,A,ge,Fe,f,Le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in c)Fe=c[Vt],c.hasOwnProperty(Vt)&&Fe!=null&&!f.hasOwnProperty(Vt)&&an(a,A,Vt,null,f,Fe);for(Ue in f)if(Fe=f[Ue],Le=c[Ue],f.hasOwnProperty(Ue)&&Fe!==Le&&(Fe!=null||Le!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,A));break;default:an(a,A,Ue,Fe,f,Le)}return;default:if(pa(A)){for(var An in c)Fe=c[An],c.hasOwnProperty(An)&&Fe!==void 0&&!f.hasOwnProperty(An)&&_y(a,A,An,void 0,f,Fe);for(Me in f)Fe=f[Me],Le=c[Me],!f.hasOwnProperty(Me)||Fe===Le||Fe===void 0&&Le===void 0||_y(a,A,Me,Fe,f,Le);return}}for(var _e in c)Fe=c[_e],c.hasOwnProperty(_e)&&Fe!=null&&!f.hasOwnProperty(_e)&&an(a,A,_e,null,f,Fe);for(Xe in f)Fe=f[Xe],Le=c[Xe],!f.hasOwnProperty(Xe)||Fe===Le||Fe==null&&Le==null||an(a,A,Xe,Fe,f,Le)}function K4(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Uj(){if(typeof performance.getEntriesByType=="function"){for(var a=0,A=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var b=c[f],v=b.transferSize,R=b.initiatorType,W=b.duration;if(v&&W&&K4(R)){for(R=0,W=b.responseEnd,f+=1;f<c.length;f++){var ge=c[f],Ue=ge.startTime;if(Ue>W)break;var Me=ge.transferSize,Xe=ge.initiatorType;Me&&K4(Xe)&&(ge=ge.responseEnd,R+=Me*(ge<W?1:(W-Ue)/(ge-Ue)))}if(--f,A+=8*(v+R)/(b.duration/1e3),a++,10<a)break}}if(0<a)return A/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ey=null,Sy=null;function Im(a){return a.nodeType===9?a:a.ownerDocument}function z4(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q4(a,A){if(a===0)switch(A){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&A==="foreignObject"?0:a}function Iy(a,A){return a==="textarea"||a==="noscript"||typeof A.children=="string"||typeof A.children=="number"||typeof A.children=="bigint"||typeof A.dangerouslySetInnerHTML=="object"&&A.dangerouslySetInnerHTML!==null&&A.dangerouslySetInnerHTML.__html!=null}var Ty=null;function Fj(){var a=window.event;return a&&a.type==="popstate"?a===Ty?!1:(Ty=a,!0):(Ty=null,!1)}var G4=typeof setTimeout=="function"?setTimeout:void 0,Qj=typeof clearTimeout=="function"?clearTimeout:void 0,X4=typeof Promise=="function"?Promise:void 0,Lj=typeof queueMicrotask=="function"?queueMicrotask:typeof X4<"u"?function(a){return X4.resolve(null).then(a).catch(kj)}:G4;function kj(a){setTimeout(function(){throw a})}function Qc(a){return a==="head"}function Y4(a,A){var c=A,f=0;do{var b=c.nextSibling;if(a.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(f===0){a.removeChild(b),ch(A);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")a0(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,a0(c);for(var v=c.firstChild;v;){var R=v.nextSibling,W=v.nodeName;v[Js]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&v.rel.toLowerCase()==="stylesheet"||c.removeChild(v),v=R}}else c==="body"&&a0(a.ownerDocument.body);c=b}while(c);ch(A)}function $4(a,A){var c=a;a=0;do{var f=c.nextSibling;if(c.nodeType===1?A?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(A?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=f}while(c)}function jy(a){var A=a.firstChild;for(A&&A.nodeType===10&&(A=A.nextSibling);A;){var c=A;switch(A=A.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":jy(c),Si(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function Rj(a,A,c,f){for(;a.nodeType===1;){var b=c;if(a.nodeName.toLowerCase()!==A.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Js])switch(A){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(A==="input"&&a.type==="hidden"){var v=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=gA(a.nextSibling),a===null)break}return null}function Dj(a,A,c){if(A==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=gA(a.nextSibling),a===null))return null;return a}function J4(a,A){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!A||(a=gA(a.nextSibling),a===null))return null;return a}function Uy(a){return a.data==="$?"||a.data==="$~"}function Fy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Oj(a,A){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=A;else if(a.data!=="$?"||c.readyState!=="loading")A();else{var f=function(){A(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function gA(a){for(;a!=null;a=a.nextSibling){var A=a.nodeType;if(A===1||A===3)break;if(A===8){if(A=a.data,A==="$"||A==="$!"||A==="$?"||A==="$~"||A==="&"||A==="F!"||A==="F")break;if(A==="/$"||A==="/&")return null}}return a}var Qy=null;function W4(a){a=a.nextSibling;for(var A=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(A===0)return gA(a.nextSibling);A--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||A++}a=a.nextSibling}return null}function Z4(a){a=a.previousSibling;for(var A=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(A===0)return a;A--}else c!=="/$"&&c!=="/&"||A++}a=a.previousSibling}return null}function eB(a,A,c){switch(A=Im(c),a){case"html":if(a=A.documentElement,!a)throw Error(r(452));return a;case"head":if(a=A.head,!a)throw Error(r(453));return a;case"body":if(a=A.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function a0(a){for(var A=a.attributes;A.length;)a.removeAttributeNode(A[0]);Si(a)}var mA=new Map,tB=new Set;function Tm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var kl=ce.d;ce.d={f:Mj,r:Pj,D:Hj,C:Vj,L:Kj,m:zj,X:Gj,S:qj,M:Xj};function Mj(){var a=kl.f(),A=wm();return a||A}function Pj(a){var A=ws(a);A!==null&&A.tag===5&&A.type==="form"?x5(A):kl.r(a)}var Ah=typeof document>"u"?null:document;function rB(a,A,c){var f=Ah;if(f&&typeof A=="string"&&A){var b=is(A);b='link[rel="'+a+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),tB.has(b)||(tB.add(b),a={rel:a,crossOrigin:c,href:A},f.querySelector(b)===null&&(A=f.createElement("link"),oa(A,"link",a),_n(A),f.head.appendChild(A)))}}function Hj(a){kl.D(a),rB("dns-prefetch",a,null)}function Vj(a,A){kl.C(a,A),rB("preconnect",a,A)}function Kj(a,A,c){kl.L(a,A,c);var f=Ah;if(f&&a&&A){var b='link[rel="preload"][as="'+is(A)+'"]';A==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+is(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+is(c.imageSizes)+'"]')):b+='[href="'+is(a)+'"]';var v=b;switch(A){case"style":v=oh(a);break;case"script":v=lh(a)}mA.has(v)||(a=x({rel:"preload",href:A==="image"&&c&&c.imageSrcSet?void 0:a,as:A},c),mA.set(v,a),f.querySelector(b)!==null||A==="style"&&f.querySelector(i0(v))||A==="script"&&f.querySelector(A0(v))||(A=f.createElement("link"),oa(A,"link",a),_n(A),f.head.appendChild(A)))}}function zj(a,A){kl.m(a,A);var c=Ah;if(c&&a){var f=A&&typeof A.as=="string"?A.as:"script",b='link[rel="modulepreload"][as="'+is(f)+'"][href="'+is(a)+'"]',v=b;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=lh(a)}if(!mA.has(v)&&(a=x({rel:"modulepreload",href:a},A),mA.set(v,a),c.querySelector(b)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(A0(v)))return}f=c.createElement("link"),oa(f,"link",a),_n(f),c.head.appendChild(f)}}}function qj(a,A,c){kl.S(a,A,c);var f=Ah;if(f&&a){var b=ti(f).hoistableStyles,v=oh(a);A=A||"default";var R=b.get(v);if(!R){var W={loading:0,preload:null};if(R=f.querySelector(i0(v)))W.loading=5;else{a=x({rel:"stylesheet",href:a,"data-precedence":A},c),(c=mA.get(v))&&Ly(a,c);var ge=R=f.createElement("link");_n(ge),oa(ge,"link",a),ge._p=new Promise(function(Ue,Me){ge.onload=Ue,ge.onerror=Me}),ge.addEventListener("load",function(){W.loading|=1}),ge.addEventListener("error",function(){W.loading|=2}),W.loading|=4,jm(R,A,f)}R={type:"stylesheet",instance:R,count:1,state:W},b.set(v,R)}}}function Gj(a,A){kl.X(a,A);var c=Ah;if(c&&a){var f=ti(c).hoistableScripts,b=lh(a),v=f.get(b);v||(v=c.querySelector(A0(b)),v||(a=x({src:a,async:!0},A),(A=mA.get(b))&&ky(a,A),v=c.createElement("script"),_n(v),oa(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(b,v))}}function Xj(a,A){kl.M(a,A);var c=Ah;if(c&&a){var f=ti(c).hoistableScripts,b=lh(a),v=f.get(b);v||(v=c.querySelector(A0(b)),v||(a=x({src:a,async:!0,type:"module"},A),(A=mA.get(b))&&ky(a,A),v=c.createElement("script"),_n(v),oa(v,"link",a),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(b,v))}}function nB(a,A,c,f){var b=(b=ue.current)?Tm(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(A=oh(c.href),c=ti(b).hoistableStyles,f=c.get(A),f||(f={type:"style",instance:null,count:0,state:null},c.set(A,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=oh(c.href);var v=ti(b).hoistableStyles,R=v.get(a);if(R||(b=b.ownerDocument||b,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,R),(v=b.querySelector(i0(a)))&&!v._p&&(R.instance=v,R.state.loading=5),mA.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},mA.set(a,c),v||Yj(b,a,c,R.state))),A&&f===null)throw Error(r(528,""));return R}if(A&&f!==null)throw Error(r(529,""));return null;case"script":return A=c.async,c=c.src,typeof c=="string"&&A&&typeof A!="function"&&typeof A!="symbol"?(A=lh(c),c=ti(b).hoistableScripts,f=c.get(A),f||(f={type:"script",instance:null,count:0,state:null},c.set(A,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function oh(a){return'href="'+is(a)+'"'}function i0(a){return'link[rel="stylesheet"]['+a+"]"}function sB(a){return x({},a,{"data-precedence":a.precedence,precedence:null})}function Yj(a,A,c,f){a.querySelector('link[rel="preload"][as="style"]['+A+"]")?f.loading=1:(A=a.createElement("link"),f.preload=A,A.addEventListener("load",function(){return f.loading|=1}),A.addEventListener("error",function(){return f.loading|=2}),oa(A,"link",c),_n(A),a.head.appendChild(A))}function lh(a){return'[src="'+is(a)+'"]'}function A0(a){return"script[async]"+a}function aB(a,A,c){if(A.count++,A.instance===null)switch(A.type){case"style":var f=a.querySelector('style[data-href~="'+is(c.href)+'"]');if(f)return A.instance=f,_n(f),f;var b=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),_n(f),oa(f,"style",b),jm(f,c.precedence,a),A.instance=f;case"stylesheet":b=oh(c.href);var v=a.querySelector(i0(b));if(v)return A.state.loading|=4,A.instance=v,_n(v),v;f=sB(c),(b=mA.get(b))&&Ly(f,b),v=(a.ownerDocument||a).createElement("link"),_n(v);var R=v;return R._p=new Promise(function(W,ge){R.onload=W,R.onerror=ge}),oa(v,"link",f),A.state.loading|=4,jm(v,c.precedence,a),A.instance=v;case"script":return v=lh(c.src),(b=a.querySelector(A0(v)))?(A.instance=b,_n(b),b):(f=c,(b=mA.get(v))&&(f=x({},c),ky(f,b)),a=a.ownerDocument||a,b=a.createElement("script"),_n(b),oa(b,"link",f),a.head.appendChild(b),A.instance=b);case"void":return null;default:throw Error(r(443,A.type))}else A.type==="stylesheet"&&(A.state.loading&4)===0&&(f=A.instance,A.state.loading|=4,jm(f,c.precedence,a));return A.instance}function jm(a,A,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=f.length?f[f.length-1]:null,v=b,R=0;R<f.length;R++){var W=f[R];if(W.dataset.precedence===A)v=W;else if(v!==b)break}v?v.parentNode.insertBefore(a,v.nextSibling):(A=c.nodeType===9?c.head:c,A.insertBefore(a,A.firstChild))}function Ly(a,A){a.crossOrigin==null&&(a.crossOrigin=A.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=A.referrerPolicy),a.title==null&&(a.title=A.title)}function ky(a,A){a.crossOrigin==null&&(a.crossOrigin=A.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=A.referrerPolicy),a.integrity==null&&(a.integrity=A.integrity)}var Um=null;function iB(a,A,c){if(Um===null){var f=new Map,b=Um=new Map;b.set(c,f)}else b=Um,f=b.get(c),f||(f=new Map,b.set(c,f));if(f.has(a))return f;for(f.set(a,null),c=c.getElementsByTagName(a),b=0;b<c.length;b++){var v=c[b];if(!(v[Js]||v[Ar]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var R=v.getAttribute(A)||"";R=a+R;var W=f.get(R);W?W.push(v):f.set(R,[v])}}return f}function AB(a,A,c){a=a.ownerDocument||a,a.head.insertBefore(c,A==="title"?a.querySelector("head > title"):null)}function $j(a,A,c){if(c===1||A.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof A.precedence!="string"||typeof A.href!="string"||A.href==="")break;return!0;case"link":if(typeof A.rel!="string"||typeof A.href!="string"||A.href===""||A.onLoad||A.onError)break;switch(A.rel){case"stylesheet":return a=A.disabled,typeof A.precedence=="string"&&a==null;default:return!0}case"script":if(A.async&&typeof A.async!="function"&&typeof A.async!="symbol"&&!A.onLoad&&!A.onError&&A.src&&typeof A.src=="string")return!0}return!1}function oB(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function Jj(a,A,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=oh(f.href),v=A.querySelector(i0(b));if(v){A=v._p,A!==null&&typeof A=="object"&&typeof A.then=="function"&&(a.count++,a=Fm.bind(a),A.then(a,a)),c.state.loading|=4,c.instance=v,_n(v);return}v=A.ownerDocument||A,f=sB(f),(b=mA.get(b))&&Ly(f,b),v=v.createElement("link"),_n(v);var R=v;R._p=new Promise(function(W,ge){R.onload=W,R.onerror=ge}),oa(v,"link",f),c.instance=v}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,A),(A=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Fm.bind(a),A.addEventListener("load",c),A.addEventListener("error",c))}}var Ry=0;function Wj(a,A){return a.stylesheets&&a.count===0&&Lm(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var f=setTimeout(function(){if(a.stylesheets&&Lm(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4+A);0<a.imgBytes&&Ry===0&&(Ry=62500*Uj());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Lm(a,a.stylesheets),a.unsuspend)){var v=a.unsuspend;a.unsuspend=null,v()}},(a.imgBytes>Ry?50:800)+A);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(b)}}:null}function Fm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Qm=null;function Lm(a,A){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Qm=new Map,A.forEach(Zj,a),Qm=null,Fm.call(a))}function Zj(a,A){if(!(A.state.loading&4)){var c=Qm.get(a);if(c)var f=c.get(null);else{c=new Map,Qm.set(a,c);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<b.length;v++){var R=b[v];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(c.set(R.dataset.precedence,R),f=R)}f&&c.set(null,f)}b=A.instance,R=b.getAttribute("data-precedence"),v=c.get(R)||f,v===f&&c.set(null,b),c.set(R,b),this.count++,f=Fm.bind(this),b.addEventListener("load",f),b.addEventListener("error",f),v?v.parentNode.insertBefore(b,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),A.state.loading|=4}}var o0={$$typeof:K,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function eU(a,A,c,f,b,v,R,W,ge){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bn(0),this.hiddenUpdates=bn(null),this.identifierPrefix=f,this.onUncaughtError=b,this.onCaughtError=v,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function lB(a,A,c,f,b,v,R,W,ge,Ue,Me,Xe){return a=new eU(a,A,c,R,ge,Ue,Me,Xe,W),A=1,v===!0&&(A|=24),v=Hs(3,null,null,A),a.current=v,v.stateNode=a,A=vc(),A.refCount++,a.pooledCache=A,A.refCount++,v.memoizedState={element:f,isDehydrated:c,cache:A},Vr(v),a}function cB(a){return a?(a=_s,a):_s}function uB(a,A,c,f,b,v){b=cB(b),f.context===null?f.context=b:f.pendingContext=b,f=Ht(A),f.payload={element:c},v=v===void 0?null:v,v!==null&&(f.callback=v),c=Yr(a,f,A),c!==null&&(bi(c,a,A),us(c,a,A))}function dB(a,A){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<A?c:A}}function Dy(a,A){dB(a,A),(a=a.alternate)&&dB(a,A)}function hB(a){if(a.tag===13||a.tag===31){var A=DA(a,67108864);A!==null&&bi(A,a,67108864),Dy(a,67108864)}}function fB(a){if(a.tag===13||a.tag===31){var A=qi();A=vt(A);var c=DA(a,A);c!==null&&bi(c,a,A),Dy(a,A)}}var km=!0;function tU(a,A,c,f){var b=te.T;te.T=null;var v=ce.p;try{ce.p=2,Oy(a,A,c,f)}finally{ce.p=v,te.T=b}}function rU(a,A,c,f){var b=te.T;te.T=null;var v=ce.p;try{ce.p=8,Oy(a,A,c,f)}finally{ce.p=v,te.T=b}}function Oy(a,A,c,f){if(km){var b=My(f);if(b===null)Ny(a,A,f,Rm,c),mB(a,f);else if(sU(b,a,A,c,f))f.stopPropagation();else if(mB(a,f),A&4&&-1<nU.indexOf(a)){for(;b!==null;){var v=ws(b);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var R=nr(v.pendingLanes);if(R!==0){var W=v;for(W.pendingLanes|=2,W.entangledLanes|=2;R;){var ge=1<<31-Bt(R);W.entanglements[1]|=ge,R&=~ge}Mo(v),(Kr&6)===0&&(ym=_t()+500,r0(0))}}break;case 31:case 13:W=DA(v,2),W!==null&&bi(W,v,2),wm(),Dy(v,2)}if(v=My(f),v===null&&Ny(a,A,f,Rm,c),v===b)break;b=v}b!==null&&f.stopPropagation()}else Ny(a,A,f,null,c)}}function My(a){return a=ea(a),Py(a)}var Rm=null;function Py(a){if(Rm=null,a=Ws(a),a!==null){var A=i(a);if(A===null)a=null;else{var c=A.tag;if(c===13){if(a=l(A),a!==null)return a;a=null}else if(c===31){if(a=u(A),a!==null)return a;a=null}else if(c===3){if(A.stateNode.current.memoizedState.isDehydrated)return A.tag===3?A.stateNode.containerInfo:null;a=null}else A!==a&&(a=null)}}return Rm=a,null}function gB(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case Gt:return 2;case Xt:return 8;case ir:case kt:return 32;case Pt:return 268435456;default:return 32}default:return 32}}var Hy=!1,Lc=null,kc=null,Rc=null,l0=new Map,c0=new Map,Dc=[],nU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mB(a,A){switch(a){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":kc=null;break;case"mouseover":case"mouseout":Rc=null;break;case"pointerover":case"pointerout":l0.delete(A.pointerId);break;case"gotpointercapture":case"lostpointercapture":c0.delete(A.pointerId)}}function u0(a,A,c,f,b,v){return a===null||a.nativeEvent!==v?(a={blockedOn:A,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[b]},A!==null&&(A=ws(A),A!==null&&hB(A)),a):(a.eventSystemFlags|=f,A=a.targetContainers,b!==null&&A.indexOf(b)===-1&&A.push(b),a)}function sU(a,A,c,f,b){switch(A){case"focusin":return Lc=u0(Lc,a,A,c,f,b),!0;case"dragenter":return kc=u0(kc,a,A,c,f,b),!0;case"mouseover":return Rc=u0(Rc,a,A,c,f,b),!0;case"pointerover":var v=b.pointerId;return l0.set(v,u0(l0.get(v)||null,a,A,c,f,b)),!0;case"gotpointercapture":return v=b.pointerId,c0.set(v,u0(c0.get(v)||null,a,A,c,f,b)),!0}return!1}function pB(a){var A=Ws(a.target);if(A!==null){var c=i(A);if(c!==null){if(A=c.tag,A===13){if(A=l(c),A!==null){a.blockedOn=A,$t(a.priority,function(){fB(c)});return}}else if(A===31){if(A=u(c),A!==null){a.blockedOn=A,$t(a.priority,function(){fB(c)});return}}else if(A===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Dm(a){if(a.blockedOn!==null)return!1;for(var A=a.targetContainers;0<A.length;){var c=My(a.nativeEvent);if(c===null){c=a.nativeEvent;var f=new c.constructor(c.type,c);hl=f,c.target.dispatchEvent(f),hl=null}else return A=ws(c),A!==null&&hB(A),a.blockedOn=c,!1;A.shift()}return!0}function xB(a,A,c){Dm(a)&&c.delete(A)}function aU(){Hy=!1,Lc!==null&&Dm(Lc)&&(Lc=null),kc!==null&&Dm(kc)&&(kc=null),Rc!==null&&Dm(Rc)&&(Rc=null),l0.forEach(xB),c0.forEach(xB)}function Om(a,A){a.blockedOn===A&&(a.blockedOn=null,Hy||(Hy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aU)))}var Mm=null;function yB(a){Mm!==a&&(Mm=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Mm===a&&(Mm=null);for(var A=0;A<a.length;A+=3){var c=a[A],f=a[A+1],b=a[A+2];if(typeof f!="function"){if(Py(f||c)===null)continue;break}var v=ws(c);v!==null&&(a.splice(A,3),A-=3,Mx(v,{pending:!0,data:b,method:c.method,action:f},f,b))}}))}function ch(a){function A(ge){return Om(ge,a)}Lc!==null&&Om(Lc,a),kc!==null&&Om(kc,a),Rc!==null&&Om(Rc,a),l0.forEach(A),c0.forEach(A);for(var c=0;c<Dc.length;c++){var f=Dc[c];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Dc.length&&(c=Dc[0],c.blockedOn===null);)pB(c),c.blockedOn===null&&Dc.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var b=c[f],v=c[f+1],R=b[kr]||null;if(typeof v=="function")R||yB(c);else if(R){var W=null;if(v&&v.hasAttribute("formAction")){if(b=v,R=v[kr]||null)W=R.formAction;else if(Py(b)!==null)continue}else W=R.action;typeof W=="function"?c[f+1]=W:(c.splice(f,3),f-=3),yB(c)}}}function bB(){function a(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(R){return b=R})},focusReset:"manual",scroll:"manual"})}function A(){b!==null&&(b(),b=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",A),navigation.addEventListener("navigateerror",A),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",A),navigation.removeEventListener("navigateerror",A),b!==null&&(b(),b=null)}}}function Vy(a){this._internalRoot=a}Pm.prototype.render=Vy.prototype.render=function(a){var A=this._internalRoot;if(A===null)throw Error(r(409));var c=A.current,f=qi();uB(c,f,a,A,null,null)},Pm.prototype.unmount=Vy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var A=a.containerInfo;uB(a.current,2,null,a,null,null),wm(),A[Vn]=null}};function Pm(a){this._internalRoot=a}Pm.prototype.unstable_scheduleHydration=function(a){if(a){var A=lr();a={blockedOn:null,target:a,priority:A};for(var c=0;c<Dc.length&&A!==0&&A<Dc[c].priority;c++);Dc.splice(c,0,a),c===0&&pB(a)}};var wB=e.version;if(wB!=="19.2.0")throw Error(r(527,wB,"19.2.0"));ce.findDOMNode=function(a){var A=a._reactInternals;if(A===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=g(A),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var iU={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hm.isDisabled&&Hm.supportsFiber)try{Qe=Hm.inject(iU),Ut=Hm}catch{}}return h0.createRoot=function(a,A){if(!s(a))throw Error(r(299));var c=!1,f="",b=S5,v=I5,R=T5;return A!=null&&(A.unstable_strictMode===!0&&(c=!0),A.identifierPrefix!==void 0&&(f=A.identifierPrefix),A.onUncaughtError!==void 0&&(b=A.onUncaughtError),A.onCaughtError!==void 0&&(v=A.onCaughtError),A.onRecoverableError!==void 0&&(R=A.onRecoverableError)),A=lB(a,1,!1,null,null,c,f,null,b,v,R,bB),a[Vn]=A.current,Cy(a),new Vy(A)},h0.hydrateRoot=function(a,A,c){if(!s(a))throw Error(r(299));var f=!1,b="",v=S5,R=I5,W=T5,ge=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(W=c.onRecoverableError),c.formState!==void 0&&(ge=c.formState)),A=lB(a,1,!0,A,c??null,f,b,ge,v,R,W,bB),A.context=cB(null),c=A.current,f=qi(),f=vt(f),b=Ht(f),b.callback=null,Yr(c,b,f),c=f,A.current.lanes=c,qe(A,c),Mo(A),a[Vn]=A.current,Cy(a),new Pm(A)},h0.version="19.2.0",h0}var jB;function mU(){if(jB)return qy.exports;jB=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qy.exports=gU(),qy.exports}var pU=mU();const xU=wE(pU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bU=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),UB=n=>{const e=bU(n);return e.charAt(0).toUpperCase()+e.slice(1)},BE=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),wU=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=fe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...u},h)=>fe.createElement("svg",{ref:h,...vU,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:BE("lucide",s),...!i&&!wU(u)&&{"aria-hidden":"true"},...u},[...l.map(([g,p])=>fe.createElement(g,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(n,e)=>{const t=fe.forwardRef(({className:r,...s},i)=>fe.createElement(BU,{ref:i,iconNode:e,className:BE(`lucide-${yU(UB(n))}`,`lucide-${n}`,r),...s}));return t.displayName=UB(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],NU=Ze("activity",CU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nw=Ze("arrow-left",_U);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gn=Ze("arrow-right",EU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],yf=Ze("award",SU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vm=Ze("ban",IU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Km=Ze("bell",TU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],da=Ze("book-open",jU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],sg=Ze("book",UU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],_w=Ze("brain",FU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],CE=Ze("briefcase",QU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ag=Ze("calendar",LU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],RU=Ze("chart-column",kU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],NE=Ze("check",DU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fu=Ze("chevron-down",OU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ko=Ze("chevron-left",MU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$y=Ze("chevron-right",PU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$p=Ze("circle-alert",HU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ql=Ze("circle-check-big",VU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],es=Ze("circle-check",KU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_E=Ze("circle-play",zU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],FB=Ze("circle-plus",qU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ZA=Ze("circle-question-mark",GU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],YU=Ze("circle-user",XU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],JU=Ze("circle-x",$U);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ig=Ze("clock",WU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],eF=Ze("cloud-download",ZU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],EE=Ze("cloud-upload",tF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],nF=Ze("coffee",rF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ew=Ze("copy",sF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],SE=Ze("credit-card",aF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ys=Ze("crown",iF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Jp=Ze("download",AF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],lF=Ze("ellipsis",oF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tb=Ze("eye",cF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Xh=Ze("facebook",uF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],hF=Ze("file-plus",dF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],gF=Ze("file-search",fF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ka=Ze("file-text",mF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Sw=Ze("flag",pF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Wp=Ze("flame",xF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Qh=Ze("folder-open",yF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],IE=Ze("globe",bF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Gl=Ze("graduation-cap",wF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Ag=Ze("house",vF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],TE=Ze("info",BF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],NF=Ze("instagram",CF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Ig=Ze("languages",_F);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Yh=Ze("layers",EF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],QB=Ze("layout-dashboard",SF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],TF=Ze("link",IF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],UF=Ze("list",jF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ir=Ze("loader-circle",FF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],rb=Ze("log-in",QF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],WA=Ze("lock",LF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],og=Ze("log-out",kF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qo=Ze("mail",RF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nb=Ze("map-pin",DF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],MF=Ze("map",OF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],sb=Ze("medal",PF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],LB=Ze("megaphone",HF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],KF=Ze("menu",VF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],gu=Ze("message-circle",zF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],P1=Ze("message-square",qF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],fd=Ze("monitor",GF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],YF=Ze("mouse-pointer-click",XF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],jE=Ze("move-right",$F);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],WF=Ze("octagon-alert",JF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],kB=Ze("palette",ZF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],t8=Ze("pen-line",e8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],H1=Ze("pen-tool",r8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],s8=Ze("quote",n8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Tg=Ze("refresh-cw",a8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],UE=Ze("rocket",i8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],FE=Ze("rotate-ccw",A8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],au=Ze("save",o8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Iw=Ze("school",l8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],RB=Ze("scroll",c8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ni=Ze("search",u8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Vl=Ze("send",d8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],DB=Ze("share-2",h8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],g8=Ze("shield-alert",f8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jg=Ze("shield-check",m8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],x8=Ze("smartphone",p8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],QE=Ze("sparkles",y8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ab=Ze("square-pen",b8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],mu=Ze("star",w8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],LE=Ze("tag",v8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],V1=Ze("target",B8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],N8=Ze("text-align-start",C8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],kE=Ze("timer",_8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xl=Ze("trash-2",E8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],I8=Ze("trending-up",S8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Tw=Ze("triangle-alert",T8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$h=Ze("trophy",j8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],F8=Ze("type",U8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],OB=Ze("user-check",Q8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Wa=Ze("user",L8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pu=Ze("users",k8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],D8=Ze("wifi-off",R8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xs=Ze("x",O8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],bf=Ze("zap",M8),P8=()=>{};var MB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},H8=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],l=n[t++],u=n[t++],h=((s&7)<<18|(i&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const i=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],l=s+1<n.length,u=l?n[s+1]:0,h=s+2<n.length,g=h?n[s+2]:0,p=i>>2,x=(i&3)<<4|u>>4;let B=(u&15)<<2|g>>6,C=g&63;h||(C=64,l||(B=64)),r.push(t[p],t[x],t[B],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):H8(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const x=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||u==null||g==null||x==null)throw new V8;const B=i<<2|u>>4;if(r.push(B),g!==64){const C=u<<4&240|g>>2;if(r.push(C),x!==64){const U=g<<6&192|x;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class V8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K8=function(n){const e=RE(n);return DE.encodeByteArray(e,!0)},OE=function(n){return K8(n).replace(/\./g,"")},ME=function(n){try{return DE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=()=>PE().__FIREBASE_DEFAULTS__,q8=()=>{if(typeof process>"u"||typeof MB>"u")return;const n=MB.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},G8=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ME(n[1]);return e&&JSON.parse(e)},K1=()=>{try{return P8()||z8()||q8()||G8()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},X8=n=>{var e,t;return(t=(e=K1())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},HE=()=>{var n;return(n=K1())==null?void 0:n.config},VE=n=>{var e;return(e=K1())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KE(n){return(await fetch(n,{credentials:"include"})).ok}const M0={};function $8(){const n={prod:[],emulator:[]};for(const e of Object.keys(M0))M0[e]?n.emulator.push(e):n.prod.push(e);return n}function J8(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let PB=!1;function W8(n,e){if(typeof window>"u"||typeof document>"u"||!wf(window.location.host)||M0[n]===e||M0[n]||PB)return;M0[n]=e;function t(B){return`__firebase__banner__${B}`}const r="__firebase__banner",i=$8().prod.length>0;function l(){const B=document.getElementById(r);B&&B.remove()}function u(B){B.style.display="flex",B.style.background="#7faaf0",B.style.position="fixed",B.style.bottom="5px",B.style.left="5px",B.style.padding=".5em",B.style.borderRadius="5px",B.style.alignItems="center"}function h(B,C){B.setAttribute("width","24"),B.setAttribute("id",C),B.setAttribute("height","24"),B.setAttribute("viewBox","0 0 24 24"),B.setAttribute("fill","none"),B.style.marginLeft="-6px"}function g(){const B=document.createElement("span");return B.style.cursor="pointer",B.style.marginLeft="16px",B.style.fontSize="24px",B.innerHTML=" &times;",B.onclick=()=>{PB=!0,l()},B}function p(B,C){B.setAttribute("id",C),B.innerText="Learn more",B.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",B.setAttribute("target","__blank"),B.style.paddingLeft="5px",B.style.textDecoration="underline"}function x(){const B=J8(r),C=t("text"),U=document.getElementById(C)||document.createElement("span"),E=t("learnmore"),P=document.getElementById(E)||document.createElement("a"),F=t("preprendIcon"),H=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(B.created){const K=B.element;u(K),p(P,E);const Ae=g();h(H,F),K.append(H,U,P,Ae),document.body.appendChild(K)}i?(U.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qs())}function zE(){var e;const n=(e=K1())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rQ(){const n=Qs();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function GE(){return!zE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XE(){return!zE()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function jw(){try{return typeof indexedDB=="object"}catch{return!1}}function YE(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(t){e(t)}})}function nQ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ="FirebaseError";class ao extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=sQ,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_d.prototype.create)}}class _d{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?aQ(i,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new ao(s,u,r)}}function aQ(n,e){return n.replace(iQ,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const iQ=/\{\$([^}]+)}/g;function AQ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],l=e[s];if(HB(i)&&HB(l)){if(!xu(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function HB(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _0(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function E0(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function oQ(n,e){const t=new lQ(n,e);return t.subscribe.bind(t)}class lQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");cQ(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Jy),s.error===void 0&&(s.error=Jy),s.complete===void 0&&(s.complete=Jy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cQ(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uQ=1e3,dQ=2,hQ=14400*1e3,fQ=.5;function VB(n,e=uQ,t=dQ){const r=e*Math.pow(t,n),s=Math.round(fQ*r*(Math.random()-.5)*2);return Math.min(hQ,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(n){return n&&n._delegate?n._delegate:n}class to{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Y8;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pQ(e))try{this.getOrInitializeService({instanceIdentifier:Xu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Xu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xu){return this.instances.has(e)}getOptions(e=Xu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mQ(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xu){return this.component?this.component.multipleInstances?e:Xu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mQ(n){return n===Xu?void 0:n}function pQ(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Nr||(Nr={}));const yQ={debug:Nr.DEBUG,verbose:Nr.VERBOSE,info:Nr.INFO,warn:Nr.WARN,error:Nr.ERROR,silent:Nr.SILENT},bQ=Nr.INFO,wQ={[Nr.DEBUG]:"log",[Nr.VERBOSE]:"log",[Nr.INFO]:"info",[Nr.WARN]:"warn",[Nr.ERROR]:"error"},vQ=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=wQ[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let z1=class{constructor(e){this.name=e,this._logLevel=bQ,this._logHandler=vQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nr.DEBUG,...e),this._logHandler(this,Nr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nr.VERBOSE,...e),this._logHandler(this,Nr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nr.INFO,...e),this._logHandler(this,Nr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nr.WARN,...e),this._logHandler(this,Nr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nr.ERROR,...e),this._logHandler(this,Nr.ERROR,...e)}};const BQ=(n,e)=>e.some(t=>n instanceof t);let KB,zB;function CQ(){return KB||(KB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NQ(){return zB||(zB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $E=new WeakMap,ib=new WeakMap,JE=new WeakMap,Wy=new WeakMap,Uw=new WeakMap;function _Q(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",l)},i=()=>{t(iu(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&$E.set(t,n)}).catch(()=>{}),Uw.set(e,n),e}function EQ(n){if(ib.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",l),n.removeEventListener("abort",l)},i=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",l),n.addEventListener("abort",l)});ib.set(n,e)}let Ab={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ib.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return iu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SQ(n){Ab=n(Ab)}function IQ(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Zy(this),e,...t);return JE.set(r,e.sort?e.sort():[e]),iu(r)}:NQ().includes(n)?function(...e){return n.apply(Zy(this),e),iu($E.get(this))}:function(...e){return iu(n.apply(Zy(this),e))}}function TQ(n){return typeof n=="function"?IQ(n):(n instanceof IDBTransaction&&EQ(n),BQ(n,CQ())?new Proxy(n,Ab):n)}function iu(n){if(n instanceof IDBRequest)return _Q(n);if(Wy.has(n))return Wy.get(n);const e=TQ(n);return e!==n&&(Wy.set(n,e),Uw.set(e,n)),e}const Zy=n=>Uw.get(n);function WE(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(n,e),u=iu(l);return r&&l.addEventListener("upgradeneeded",h=>{r(iu(l.result),h.oldVersion,h.newVersion,iu(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{i&&h.addEventListener("close",()=>i()),s&&h.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),u}const jQ=["get","getKey","getAll","getAllKeys","count"],UQ=["put","add","delete","clear"],e2=new Map;function qB(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(e2.get(e))return e2.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=UQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||jQ.includes(t)))return;const i=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let g=h.store;return r&&(g=g.index(u.shift())),(await Promise.all([g[t](...u),s&&h.done]))[0]};return e2.set(e,i),i}SQ(n=>({...n,get:(e,t,r)=>qB(e,t)||n.get(e,t,r),has:(e,t)=>!!qB(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QQ(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function QQ(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ob="@firebase/app",GB="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new z1("@firebase/app"),LQ="@firebase/app-compat",kQ="@firebase/analytics-compat",RQ="@firebase/analytics",DQ="@firebase/app-check-compat",OQ="@firebase/app-check",MQ="@firebase/auth",PQ="@firebase/auth-compat",HQ="@firebase/database",VQ="@firebase/data-connect",KQ="@firebase/database-compat",zQ="@firebase/functions",qQ="@firebase/functions-compat",GQ="@firebase/installations",XQ="@firebase/installations-compat",YQ="@firebase/messaging",$Q="@firebase/messaging-compat",JQ="@firebase/performance",WQ="@firebase/performance-compat",ZQ="@firebase/remote-config",eL="@firebase/remote-config-compat",tL="@firebase/storage",rL="@firebase/storage-compat",nL="@firebase/firestore",sL="@firebase/ai",aL="@firebase/firestore-compat",iL="firebase",AL="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="[DEFAULT]",oL={[ob]:"fire-core",[LQ]:"fire-core-compat",[RQ]:"fire-analytics",[kQ]:"fire-analytics-compat",[OQ]:"fire-app-check",[DQ]:"fire-app-check-compat",[MQ]:"fire-auth",[PQ]:"fire-auth-compat",[HQ]:"fire-rtdb",[VQ]:"fire-data-connect",[KQ]:"fire-rtdb-compat",[zQ]:"fire-fn",[qQ]:"fire-fn-compat",[GQ]:"fire-iid",[XQ]:"fire-iid-compat",[YQ]:"fire-fcm",[$Q]:"fire-fcm-compat",[JQ]:"fire-perf",[WQ]:"fire-perf-compat",[ZQ]:"fire-rc",[eL]:"fire-rc-compat",[tL]:"fire-gcs",[rL]:"fire-gcs-compat",[nL]:"fire-fst",[aL]:"fire-fst-compat",[sL]:"fire-vertex","fire-js":"fire-js",[iL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=new Map,lL=new Map,cb=new Map;function XB(n,e){try{n.container.addComponent(e)}catch(t){Yl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function rl(n){const e=n.name;if(cb.has(e))return Yl.debug(`There were multiple attempts to register component ${e}.`),!1;cb.set(e,n);for(const t of Zp.values())XB(t,n);for(const t of lL.values())XB(t,n);return!0}function Ed(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Au=new _d("app","Firebase",cL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Au.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=AL;function ZE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:lb,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Au.create("bad-app-name",{appName:String(s)});if(t||(t=HE()),!t)throw Au.create("no-options");const i=Zp.get(s);if(i){if(xu(t,i.options)&&xu(r,i.config))return i;throw Au.create("duplicate-app",{appName:s})}const l=new xQ(s);for(const h of cb.values())l.addComponent(h);const u=new uL(t,r,l);return Zp.set(s,u),u}function e3(n=lb){const e=Zp.get(n);if(!e&&n===lb&&HE())return ZE();if(!e)throw Au.create("no-app",{appName:n});return e}function BA(n,e,t){let r=oL[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&l.push("and"),i&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yl.warn(l.join(" "));return}rl(new to(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="firebase-heartbeat-database",hL=1,lg="firebase-heartbeat-store";let t2=null;function t3(){return t2||(t2=WE(dL,hL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(lg)}catch(t){console.warn(t)}}}}).catch(n=>{throw Au.create("idb-open",{originalErrorMessage:n.message})})),t2}async function fL(n){try{const t=(await t3()).transaction(lg),r=await t.objectStore(lg).get(r3(n));return await t.done,r}catch(e){if(e instanceof ao)Yl.warn(e.message);else{const t=Au.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yl.warn(t.message)}}}async function YB(n,e){try{const r=(await t3()).transaction(lg,"readwrite");await r.objectStore(lg).put(e,r3(n)),await r.done}catch(t){if(t instanceof ao)Yl.warn(t.message);else{const r=Au.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Yl.warn(r.message)}}}function r3(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=1024,mL=30;class pL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$B();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>mL){const l=bL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$B(),{heartbeatsToSend:r,unsentEntries:s}=xL(this._heartbeatsCache.heartbeats),i=OE(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Yl.warn(t),""}}}function $B(){return new Date().toISOString().substring(0,10)}function xL(n,e=gL){const t=[];let r=n.slice();for(const s of n){const i=t.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),JB(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),JB(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class yL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jw()?YE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JB(n){return OE(JSON.stringify({version:2,heartbeats:n})).length}function bL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(n){rl(new to("platform-logger",e=>new FQ(e),"PRIVATE")),rl(new to("heartbeat",e=>new pL(e),"PRIVATE")),BA(ob,GB,n),BA(ob,GB,"esm2020"),BA("fire-js","")}wL("");var vL="firebase",BL="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */BA(vL,BL,"app");function n3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CL=n3,s3=new _d("auth","Firebase",n3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new z1("@firebase/auth");function NL(n,...e){e1.logLevel<=Nr.WARN&&e1.warn(`Auth (${vf}): ${n}`,...e)}function _p(n,...e){e1.logLevel<=Nr.ERROR&&e1.error(`Auth (${vf}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(n,...e){throw Fw(n,...e)}function $o(n,...e){return Fw(n,...e)}function a3(n,e,t){const r={...CL(),[e]:t};return new _d("auth","Firebase",r).create(e,{appName:n.name})}function Kl(n){return a3(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return s3.create(n,...e)}function qt(n,e,...t){if(!n)throw Fw(e,...t)}function Ml(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _p(e),new Error(e)}function $l(n,e){n||Ml(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function _L(){return WB()==="http:"||WB()==="https:"}function WB(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_L()||qE()||"connection"in navigator)?navigator.onLine:!0}function SL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){this.shortDelay=e,this.longDelay=t,$l(t>e,"Short delay should be less than long delay!"),this.isMobile=Z8()||tQ()}get(){return EL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n,e){$l(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ml("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ml("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ml("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jL=new Fg(3e4,6e4);function ec(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function tc(n,e,t,r,s={}){return A3(n,s,async()=>{let i={},l={};r&&(e==="GET"?l=r:i={body:JSON.stringify(r)});const u=Ug({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:h,...i};return eQ()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&wf(n.emulatorConfig.host)&&(g.credentials="include"),i3.fetch()(await o3(n,n.config.apiHost,t,u),g)})}async function A3(n,e,t){n._canInitEmulator=!1;const r={...IL,...e};try{const s=new FL(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw zm(n,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const u=i.ok?l.errorMessage:l.error.message,[h,g]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw zm(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw zm(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw zm(n,"user-disabled",l);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw a3(n,p,g);ro(n,p)}}catch(s){if(s instanceof ao)throw s;ro(n,"network-request-failed",{message:String(s)})}}async function Qg(n,e,t,r,s={}){const i=await tc(n,e,t,r,s);return"mfaPendingCredential"in i&&ro(n,"multi-factor-auth-required",{_serverResponse:i}),i}async function o3(n,e,t,r){const s=`${e}${t}?${r}`,i=n,l=i.config.emulator?Qw(n.config,s):`${n.config.apiScheme}://${s}`;return TL.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(l).toString():l}function UL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($o(this.auth,"network-request-failed")),jL.get())})}}function zm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=$o(n,e,r);return s.customData._tokenResponse=t,s}function ZB(n){return n!==void 0&&n.enterprise!==void 0}class QL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return UL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LL(n,e){return tc(n,"GET","/v2/recaptchaConfig",ec(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(n,e){return tc(n,"POST","/v1/accounts:delete",e)}async function t1(n,e){return tc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RL(n,e=!1){const t=kn(n),r=await t.getIdToken(e),s=Lw(r);qt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,l=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:P0(r2(s.auth_time)),issuedAtTime:P0(r2(s.iat)),expirationTime:P0(r2(s.exp)),signInProvider:l||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function r2(n){return Number(n)*1e3}function Lw(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const s=ME(t);return s?JSON.parse(s):(_p("Failed to decode base64 JWT payload"),null)}catch(s){return _p("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function eC(n){const e=Lw(n);return qt(e,"internal-error"),qt(typeof e.exp<"u","internal-error"),qt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ao&&DL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function DL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=P0(this.lastLoginAt),this.creationTime=P0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(n){var x;const e=n.auth,t=await n.getIdToken(),r=await cg(n,t1(e,{idToken:t}));qt(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const i=(x=s.providerUserInfo)!=null&&x.length?l3(s.providerUserInfo):[],l=PL(n.providerData,i),u=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(l!=null&&l.length),g=u?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new db(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,p)}async function ML(n){const e=kn(n);await r1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PL(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function l3(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(n,e){const t=await A3(n,{},async()=>{const r=Ug({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,l=await o3(n,s,"/v1/token",`key=${i}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return n.emulatorConfig&&wf(n.emulatorConfig.host)&&(h.credentials="include"),i3.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function VL(n,e){return tc(n,"POST","/v2/accounts:revokeToken",ec(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qt(e.idToken,"internal-error"),qt(typeof e.idToken<"u","internal-error"),qt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qt(e.length!==0,"internal-error");const t=eC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await HL(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,l=new Dh;return r&&(qt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(qt(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),i&&(qt(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dh,this.toJSON())}_performRefresh(){return Ml("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(n,e){qt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class eo{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new OL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new db(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await cg(this,this.stsTokenManager.getToken(this.auth,e));return qt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return RL(this,e)}reload(){return ML(this)}_assign(e){this!==e&&(qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new eo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await r1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yA(this.auth.app))return Promise.reject(Kl(this.auth));const e=await this.getIdToken();return await cg(this,kL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,g=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:x,emailVerified:B,isAnonymous:C,providerData:U,stsTokenManager:E}=t;qt(x&&E,e,"internal-error");const P=Dh.fromJSON(this.name,E);qt(typeof x=="string",e,"internal-error"),Mc(r,e.name),Mc(s,e.name),qt(typeof B=="boolean",e,"internal-error"),qt(typeof C=="boolean",e,"internal-error"),Mc(i,e.name),Mc(l,e.name),Mc(u,e.name),Mc(h,e.name),Mc(g,e.name),Mc(p,e.name);const F=new eo({uid:x,auth:e,email:s,emailVerified:B,displayName:r,isAnonymous:C,photoURL:l,phoneNumber:i,tenantId:u,stsTokenManager:P,createdAt:g,lastLoginAt:p});return U&&Array.isArray(U)&&(F.providerData=U.map(H=>({...H}))),h&&(F._redirectEventId=h),F}static async _fromIdTokenResponse(e,t,r=!1){const s=new Dh;s.updateFromServerResponse(t);const i=new eo({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await r1(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];qt(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?l3(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new Dh;u.updateFromIdToken(r);const h=new eo({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new db(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(h,g),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Map;function Pl(n){$l(n instanceof Function,"Expected a class definition");let e=tC.get(n);return e?($l(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,tC.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}c3.type="NONE";const rC=c3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(n,e,t){return`firebase:${n}:${e}:${t}`}class Oh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ep(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ep("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await t1(this.auth,{idToken:e}).catch(()=>{});return t?eo._fromGetAccountInfoResponse(this.auth,t,e):null}return eo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Oh(Pl(rC),e,r);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let i=s[0]||Pl(rC);const l=Ep(r,e.config.apiKey,e.name);let u=null;for(const g of t)try{const p=await g._get(l);if(p){let x;if(typeof p=="string"){const B=await t1(e,{idToken:p}).catch(()=>{});if(!B)break;x=await eo._fromGetAccountInfoResponse(e,B,p)}else x=eo._fromJSON(e,p);g!==i&&(u=x),i=g;break}}catch{}const h=s.filter(g=>g._shouldAllowMigration);return!i._shouldAllowMigration||!h.length?new Oh(i,e,r):(i=h[0],u&&await i._set(l,u.toJSON()),await Promise.all(t.map(async g=>{if(g!==i)try{await g._remove(l)}catch{}})),new Oh(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m3(e))return"Blackberry";if(p3(e))return"Webos";if(d3(e))return"Safari";if((e.includes("chrome/")||h3(e))&&!e.includes("edge/"))return"Chrome";if(g3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function u3(n=Qs()){return/firefox\//i.test(n)}function d3(n=Qs()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h3(n=Qs()){return/crios\//i.test(n)}function f3(n=Qs()){return/iemobile/i.test(n)}function g3(n=Qs()){return/android/i.test(n)}function m3(n=Qs()){return/blackberry/i.test(n)}function p3(n=Qs()){return/webos/i.test(n)}function kw(n=Qs()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function KL(n=Qs()){var e;return kw(n)&&!!((e=window.navigator)!=null&&e.standalone)}function zL(){return rQ()&&document.documentMode===10}function x3(n=Qs()){return kw(n)||g3(n)||p3(n)||m3(n)||/windows phone/i.test(n)||f3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(n,e=[]){let t;switch(n){case"Browser":t=nC(Qs());break;case"Worker":t=`${nC(Qs())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((l,u)=>{try{const h=e(i);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(n,e={}){return tc(n,"GET","/v2/passwordPolicy",ec(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=6;class YL{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??XL,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sC(this),this.idTokenSubscription=new sC(this),this.beforeStateQueue=new qL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pl(t)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Oh.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await t1(this,{idToken:e}),r=await eo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(yA(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(i=this.redirectUser)==null?void 0:i._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await r1(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yA(this.app))return Promise.reject(Kl(this));const t=e?kn(e):null;return t&&qt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yA(this.app)?Promise.reject(Kl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yA(this.app)?Promise.reject(Kl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GL(this),t=new YL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _d("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await VL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pl(e)||this._popupRedirectResolver;qt(t,this,"argument-error"),this.redirectPersistenceManager=await Oh.create(this,[Pl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(u,this,"internal-error"),u.then(()=>{l||i(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(yA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&NL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function _u(n){return kn(n)}class sC{constructor(e){this.auth=e,this.observer=null,this.addObserver=oQ(t=>this.observer=t)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JL(n){q1=n}function b3(n){return q1.loadJS(n)}function WL(){return q1.recaptchaEnterpriseScript}function ZL(){return q1.gapiScript}function ek(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class tk{constructor(){this.enterprise=new rk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class rk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nk="recaptcha-enterprise",w3="NO_RECAPTCHA";class sk{constructor(e){this.type=nk,this.auth=_u(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(l,u)=>{LL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const g=new QL(h);return i.tenantId==null?i._agentRecaptchaConfig=g:i._tenantRecaptchaConfigs[i.tenantId]=g,l(g.siteKey)}}).catch(h=>{u(h)})})}function s(i,l,u){const h=window.grecaptcha;ZB(h)?h.enterprise.ready(()=>{h.enterprise.execute(i,{action:e}).then(g=>{l(g)}).catch(()=>{l(w3)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tk().execute("siteKey",{action:"verify"}):new Promise((i,l)=>{r(this.auth).then(u=>{if(!t&&ZB(window.grecaptcha))s(u,i,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=WL();h.length!==0&&(h+=u),b3(h).then(()=>{s(u,i,l)}).catch(g=>{l(g)})}}).catch(u=>{l(u)})})}}async function aC(n,e,t,r=!1,s=!1){const i=new sk(n);let l;if(s)l=w3;else try{l=await i.verify(t)}catch{l=await i.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,g=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:g,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function n1(n,e,t,r,s){var i;if((i=n._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await aC(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await aC(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(n,e){const t=Ed(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(xu(i,e??{}))return s;ro(s,"already-initialized")}return t.initialize({options:e})}function ik(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Pl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ak(n,e,t){const r=_u(n);qt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=v3(e),{host:l,port:u}=ok(e),h=u===null?"":`:${u}`,g={url:`${i}//${l}${h}/`},p=Object.freeze({host:l,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){qt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qt(xu(g,r.config.emulator)&&xu(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,wf(l)?(KE(`${i}//${l}${h}`),W8("Auth",!0)):lk()}function v3(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ok(n){const e=v3(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:iC(r.substr(i.length+1))}}else{const[i,l]=r.split(":");return{host:i,port:iC(l)}}}function iC(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function lk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ml("not implemented")}_getIdTokenResponse(e){return Ml("not implemented")}_linkToIdToken(e,t){return Ml("not implemented")}_getReauthenticationResolver(e){return Ml("not implemented")}}async function ck(n,e){return tc(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(n,e){return Qg(n,"POST","/v1/accounts:signInWithPassword",ec(n,e))}async function dk(n,e){return tc(n,"POST","/v1/accounts:sendOobCode",ec(n,e))}async function hk(n,e){return dk(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(n,e){return Qg(n,"POST","/v1/accounts:signInWithEmailLink",ec(n,e))}async function gk(n,e){return Qg(n,"POST","/v1/accounts:signInWithEmailLink",ec(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends Rw{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new ug(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ug(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n1(e,t,"signInWithPassword",uk);case"emailLink":return fk(e,{email:this._email,oobCode:this._password});default:ro(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n1(e,r,"signUpPassword",ck);case"emailLink":return gk(e,{idToken:t,email:this._email,oobCode:this._password});default:ro(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(n,e){return Qg(n,"POST","/v1/accounts:signInWithIdp",ec(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="http://localhost";class gd extends Rw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ro("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=t;if(!r||!s)return null;const l=new gd(r,s);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Mh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Mh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mh(e,t)}buildRequest(){const e={requestUri:mk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ug(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xk(n){const e=_0(E0(n)).link,t=e?_0(E0(e)).deep_link_id:null,r=_0(E0(n)).deep_link_id;return(r?_0(E0(r)).link:null)||r||t||e||n}class Dw{constructor(e){const t=_0(E0(e)),r=t.apiKey??null,s=t.oobCode??null,i=pk(t.mode??null);qt(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=xk(e);try{return new Dw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this.providerId=Bf.PROVIDER_ID}static credential(e,t){return ug._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Dw.parseLink(t);return qt(r,"argument-error"),ug._fromEmailAndCode(e,r.code,r.tenantId)}}Bf.PROVIDER_ID="password";Bf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg extends B3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Lg{constructor(){super("facebook.com")}static credential(e){return gd._fromParams({providerId:Yc.PROVIDER_ID,signInMethod:Yc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yc.credentialFromTaggedObject(e)}static credentialFromError(e){return Yc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yc.credential(e.oauthAccessToken)}catch{return null}}}Yc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Lg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gd._fromParams({providerId:$c.PROVIDER_ID,signInMethod:$c.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $c.credentialFromTaggedObject(e)}static credentialFromError(e){return $c.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return $c.credential(t,r)}catch{return null}}}$c.GOOGLE_SIGN_IN_METHOD="google.com";$c.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Lg{constructor(){super("github.com")}static credential(e){return gd._fromParams({providerId:Jc.PROVIDER_ID,signInMethod:Jc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jc.credentialFromTaggedObject(e)}static credentialFromError(e){return Jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jc.credential(e.oauthAccessToken)}catch{return null}}}Jc.GITHUB_SIGN_IN_METHOD="github.com";Jc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Lg{constructor(){super("twitter.com")}static credential(e,t){return gd._fromParams({providerId:Wc.PROVIDER_ID,signInMethod:Wc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wc.credentialFromTaggedObject(e)}static credentialFromError(e){return Wc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Wc.credential(t,r)}catch{return null}}}Wc.TWITTER_SIGN_IN_METHOD="twitter.com";Wc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(n,e){return Qg(n,"POST","/v1/accounts:signUp",ec(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await eo._fromIdTokenResponse(e,r,s),l=AC(r);return new md({user:i,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=AC(r);return new md({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function AC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1 extends ao{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,s1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new s1(e,t,r,s)}}function C3(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?s1._fromErrorAndOperation(n,i,e,r):i})}async function bk(n,e,t=!1){const r=await cg(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return md._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(n,e,t=!1){const{auth:r}=n;if(yA(r.app))return Promise.reject(Kl(r));const s="reauthenticate";try{const i=await cg(n,C3(r,s,e,n),t);qt(i.idToken,r,"internal-error");const l=Lw(i.idToken);qt(l,r,"internal-error");const{sub:u}=l;return qt(n.uid===u,r,"user-mismatch"),md._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ro(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(n,e,t=!1){if(yA(n.app))return Promise.reject(Kl(n));const r="signIn",s=await C3(n,r,e),i=await md._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function vk(n,e){return N3(_u(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(n){const e=_u(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Bk(n,e,t){const r=_u(n);await n1(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hk)}async function Ck(n,e,t){if(yA(n.app))return Promise.reject(Kl(n));const r=_u(n),l=await n1(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yk).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&_3(n),h}),u=await md._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function Nk(n,e,t){return yA(n.app)?Promise.reject(Kl(n)):vk(kn(n),Bf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_3(n),r})}function _k(n,e,t,r){return kn(n).onIdTokenChanged(e,t,r)}function Ek(n,e,t){return kn(n).beforeAuthStateChanged(e,t)}function Sk(n,e,t,r){return kn(n).onAuthStateChanged(e,t,r)}function Ik(n){return kn(n).signOut()}const a1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(a1,"1"),this.storage.removeItem(a1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=1e3,jk=10;class S3 extends E3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},i=this.storage.getItem(r);zL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jk):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Tk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}S3.type="LOCAL";const Uk=S3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3 extends E3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}I3.type="SESSION";const T3=I3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new G1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async g=>g(t.origin,i)),h=await Fk(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}G1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,l;return new Promise((u,h)=>{const g=Ow("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(x){const B=x;if(B.data.eventId===g)switch(B.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(B.data.response);break;default:clearTimeout(p),clearTimeout(i),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(){return window}function Lk(n){Jo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(){return typeof Jo().WorkerGlobalScope<"u"&&typeof Jo().importScripts=="function"}async function kk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function Dk(){return j3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="firebaseLocalStorageDb",Ok=1,i1="firebaseLocalStorage",F3="fbase_key";class kg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function X1(n,e){return n.transaction([i1],e?"readwrite":"readonly").objectStore(i1)}function Mk(){const n=indexedDB.deleteDatabase(U3);return new kg(n).toPromise()}function hb(){const n=indexedDB.open(U3,Ok);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(i1,{keyPath:F3})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(i1)?e(r):(r.close(),await Mk(),e(await hb()))})})}async function oC(n,e,t){const r=X1(n,!0).put({[F3]:e,value:t});return new kg(r).toPromise()}async function Pk(n,e){const t=X1(n,!1).get(e),r=await new kg(t).toPromise();return r===void 0?null:r.value}function lC(n,e){const t=X1(n,!0).delete(e);return new kg(t).toPromise()}const Hk=800,Vk=3;class Q3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Vk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=G1._getInstance(Dk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await kk(),!this.activeServiceWorker)return;this.sender=new Qk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hb();return await oC(e,a1,"1"),await lC(e,a1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>oC(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Pk(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>lC(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=X1(s,!1).getAll();return new kg(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q3.type="LOCAL";const Kk=Q3;new Fg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(n,e){return e?Pl(e):(qt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw extends Rw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qk(n){return N3(n.auth,new Mw(n),n.bypassAuthState)}function Gk(n){const{auth:e,user:t}=n;return qt(t,e,"internal-error"),wk(t,new Mw(n),n.bypassAuthState)}async function Xk(n){const{auth:e,user:t}=n;return qt(t,e,"internal-error"),bk(t,new Mw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qk;case"linkViaPopup":case"linkViaRedirect":return Xk;case"reauthViaPopup":case"reauthViaRedirect":return Gk;default:ro(this.auth,"internal-error")}}resolve(e){$l(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$l(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=new Fg(2e3,1e4);class Lh extends L3{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Lh.currentPopupAction&&Lh.currentPopupAction.cancel(),Lh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qt(e,this.auth,"internal-error"),e}async onExecution(){$l(this.filter.length===1,"Popup operations only handle one event");const e=Ow();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($o(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($o(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($o(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yk.get())};e()}}Lh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="pendingRedirect",Sp=new Map;class Jk extends L3{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Sp.get(this.auth._key());if(!e){try{const r=await Wk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Sp.set(this.auth._key(),e)}return this.bypassAuthState||Sp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Wk(n,e){const t=t7(e),r=e7(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function Zk(n,e){Sp.set(n._key(),e)}function e7(n){return Pl(n._redirectPersistence)}function t7(n){return Ep($k,n.config.apiKey,n.name)}async function r7(n,e,t=!1){if(yA(n.app))return Promise.reject(Kl(n));const r=_u(n),s=zk(r,e),l=await new Jk(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=600*1e3;class s7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a7(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!k3(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError($o(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n7&&this.cachedEventUids.clear(),this.cachedEventUids.has(cC(e))}saveEventToCache(e){this.cachedEventUids.add(cC(e)),this.lastProcessedEventTime=Date.now()}}function cC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function k3({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a7(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k3(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i7(n,e={}){return tc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o7=/^https?/;async function l7(n){if(n.config.emulator)return;const{authorizedDomains:e}=await i7(n);for(const t of e)try{if(c7(t))return}catch{}ro(n,"unauthorized-domain")}function c7(n){const e=ub(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!o7.test(t))return!1;if(A7.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=new Fg(3e4,6e4);function uC(){const n=Jo().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function d7(n){return new Promise((e,t)=>{var s,i,l;function r(){uC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uC(),t($o(n,"network-request-failed"))},timeout:u7.get()})}if((i=(s=Jo().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((l=Jo().gapi)!=null&&l.load)r();else{const u=ek("iframefcb");return Jo()[u]=()=>{gapi.load?r():t($o(n,"network-request-failed"))},b3(`${ZL()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Ip=null,e})}let Ip=null;function h7(n){return Ip=Ip||d7(n),Ip}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=new Fg(5e3,15e3),g7="__/auth/iframe",m7="emulator/auth/iframe",p7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y7(n){const e=n.config;qt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Qw(e,m7):`https://${n.config.authDomain}/${g7}`,r={apiKey:e.apiKey,appName:n.name,v:vf},s=x7.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${Ug(r).slice(1)}`}async function b7(n){const e=await h7(n),t=Jo().gapi;return qt(t,n,"internal-error"),e.open({where:document.body,url:y7(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p7,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const l=$o(n,"network-request-failed"),u=Jo().setTimeout(()=>{i(l)},f7.get());function h(){Jo().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v7=500,B7=600,C7="_blank",N7="http://localhost";class dC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _7(n,e,t,r=v7,s=B7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...w7,width:r.toString(),height:s.toString(),top:i,left:l},g=Qs().toLowerCase();t&&(u=h3(g)?C7:t),u3(g)&&(e=e||N7,h.scrollbars="yes");const p=Object.entries(h).reduce((B,[C,U])=>`${B}${C}=${U},`,"");if(KL(g)&&u!=="_self")return E7(e||"",u),new dC(null);const x=window.open(e||"",u,p);qt(x,n,"popup-blocked");try{x.focus()}catch{}return new dC(x)}function E7(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7="__/auth/handler",I7="emulator/auth/handler",T7=encodeURIComponent("fac");async function hC(n,e,t,r,s,i){qt(n.config.authDomain,n,"auth-domain-config-required"),qt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vf,eventId:s};if(e instanceof B3){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",AQ(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,x]of Object.entries({}))l[p]=x}if(e instanceof Lg){const p=e.getScopes().filter(x=>x!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const h=await n._getAppCheckToken(),g=h?`#${T7}=${encodeURIComponent(h)}`:"";return`${j7(n)}?${Ug(u).slice(1)}${g}`}function j7({config:n}){return n.emulator?Qw(n,I7):`https://${n.authDomain}/${S7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="webStorageSupport";class U7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T3,this._completeRedirectFn=r7,this._overrideRedirectResult=Zk}async _openPopup(e,t,r,s){var l;$l((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const i=await hC(e,t,r,ub(),s);return _7(e,i,Ow())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await hC(e,t,r,ub(),s);return Lk(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):($l(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await b7(e),r=new s7(e);return t.register("authEvent",s=>(qt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(n2,{type:n2},s=>{var l;const i=(l=s==null?void 0:s[0])==null?void 0:l[n2];i!==void 0&&t(!!i),ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=l7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return x3()||d3()||kw()}}const F7=U7;var fC="@firebase/auth",gC="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k7(n){rl(new to("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;qt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y3(n)},g=new $L(r,s,i,h);return ik(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),rl(new to("auth-internal",e=>{const t=_u(e.getProvider("auth").getImmediate());return(r=>new Q7(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),BA(fC,gC,L7(n)),BA(fC,gC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=300,D7=VE("authIdTokenMaxAge")||R7;let mC=null;const O7=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>D7)return;const s=t==null?void 0:t.token;mC!==s&&(mC=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function M7(n=e3()){const e=Ed(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ak(n,{popupRedirectResolver:F7,persistence:[Kk,Uk,T3]}),r=VE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const l=O7(i.toString());Ek(t,l,()=>l(t.currentUser)),_k(t,u=>l(u))}}const s=X8("auth");return s&&Ak(t,`http://${s}`),t}function P7(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}JL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=$o("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",P7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k7("Browser");var pC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ou,R3;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,S){function O(){}O.prototype=S.prototype,j.F=S.prototype,j.prototype=new O,j.prototype.constructor=j,j.D=function(q,I,k){for(var D=Array(arguments.length-2),J=2;J<arguments.length;J++)D[J-2]=arguments[J];return S.prototype[I].apply(q,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,S,O){O||(O=0);const q=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)q[I]=S.charCodeAt(O++)|S.charCodeAt(O++)<<8|S.charCodeAt(O++)<<16|S.charCodeAt(O++)<<24;else for(I=0;I<16;++I)q[I]=S[O++]|S[O++]<<8|S[O++]<<16|S[O++]<<24;S=j.g[0],O=j.g[1],I=j.g[2];let k=j.g[3],D;D=S+(k^O&(I^k))+q[0]+3614090360&4294967295,S=O+(D<<7&4294967295|D>>>25),D=k+(I^S&(O^I))+q[1]+3905402710&4294967295,k=S+(D<<12&4294967295|D>>>20),D=I+(O^k&(S^O))+q[2]+606105819&4294967295,I=k+(D<<17&4294967295|D>>>15),D=O+(S^I&(k^S))+q[3]+3250441966&4294967295,O=I+(D<<22&4294967295|D>>>10),D=S+(k^O&(I^k))+q[4]+4118548399&4294967295,S=O+(D<<7&4294967295|D>>>25),D=k+(I^S&(O^I))+q[5]+1200080426&4294967295,k=S+(D<<12&4294967295|D>>>20),D=I+(O^k&(S^O))+q[6]+2821735955&4294967295,I=k+(D<<17&4294967295|D>>>15),D=O+(S^I&(k^S))+q[7]+4249261313&4294967295,O=I+(D<<22&4294967295|D>>>10),D=S+(k^O&(I^k))+q[8]+1770035416&4294967295,S=O+(D<<7&4294967295|D>>>25),D=k+(I^S&(O^I))+q[9]+2336552879&4294967295,k=S+(D<<12&4294967295|D>>>20),D=I+(O^k&(S^O))+q[10]+4294925233&4294967295,I=k+(D<<17&4294967295|D>>>15),D=O+(S^I&(k^S))+q[11]+2304563134&4294967295,O=I+(D<<22&4294967295|D>>>10),D=S+(k^O&(I^k))+q[12]+1804603682&4294967295,S=O+(D<<7&4294967295|D>>>25),D=k+(I^S&(O^I))+q[13]+4254626195&4294967295,k=S+(D<<12&4294967295|D>>>20),D=I+(O^k&(S^O))+q[14]+2792965006&4294967295,I=k+(D<<17&4294967295|D>>>15),D=O+(S^I&(k^S))+q[15]+1236535329&4294967295,O=I+(D<<22&4294967295|D>>>10),D=S+(I^k&(O^I))+q[1]+4129170786&4294967295,S=O+(D<<5&4294967295|D>>>27),D=k+(O^I&(S^O))+q[6]+3225465664&4294967295,k=S+(D<<9&4294967295|D>>>23),D=I+(S^O&(k^S))+q[11]+643717713&4294967295,I=k+(D<<14&4294967295|D>>>18),D=O+(k^S&(I^k))+q[0]+3921069994&4294967295,O=I+(D<<20&4294967295|D>>>12),D=S+(I^k&(O^I))+q[5]+3593408605&4294967295,S=O+(D<<5&4294967295|D>>>27),D=k+(O^I&(S^O))+q[10]+38016083&4294967295,k=S+(D<<9&4294967295|D>>>23),D=I+(S^O&(k^S))+q[15]+3634488961&4294967295,I=k+(D<<14&4294967295|D>>>18),D=O+(k^S&(I^k))+q[4]+3889429448&4294967295,O=I+(D<<20&4294967295|D>>>12),D=S+(I^k&(O^I))+q[9]+568446438&4294967295,S=O+(D<<5&4294967295|D>>>27),D=k+(O^I&(S^O))+q[14]+3275163606&4294967295,k=S+(D<<9&4294967295|D>>>23),D=I+(S^O&(k^S))+q[3]+4107603335&4294967295,I=k+(D<<14&4294967295|D>>>18),D=O+(k^S&(I^k))+q[8]+1163531501&4294967295,O=I+(D<<20&4294967295|D>>>12),D=S+(I^k&(O^I))+q[13]+2850285829&4294967295,S=O+(D<<5&4294967295|D>>>27),D=k+(O^I&(S^O))+q[2]+4243563512&4294967295,k=S+(D<<9&4294967295|D>>>23),D=I+(S^O&(k^S))+q[7]+1735328473&4294967295,I=k+(D<<14&4294967295|D>>>18),D=O+(k^S&(I^k))+q[12]+2368359562&4294967295,O=I+(D<<20&4294967295|D>>>12),D=S+(O^I^k)+q[5]+4294588738&4294967295,S=O+(D<<4&4294967295|D>>>28),D=k+(S^O^I)+q[8]+2272392833&4294967295,k=S+(D<<11&4294967295|D>>>21),D=I+(k^S^O)+q[11]+1839030562&4294967295,I=k+(D<<16&4294967295|D>>>16),D=O+(I^k^S)+q[14]+4259657740&4294967295,O=I+(D<<23&4294967295|D>>>9),D=S+(O^I^k)+q[1]+2763975236&4294967295,S=O+(D<<4&4294967295|D>>>28),D=k+(S^O^I)+q[4]+1272893353&4294967295,k=S+(D<<11&4294967295|D>>>21),D=I+(k^S^O)+q[7]+4139469664&4294967295,I=k+(D<<16&4294967295|D>>>16),D=O+(I^k^S)+q[10]+3200236656&4294967295,O=I+(D<<23&4294967295|D>>>9),D=S+(O^I^k)+q[13]+681279174&4294967295,S=O+(D<<4&4294967295|D>>>28),D=k+(S^O^I)+q[0]+3936430074&4294967295,k=S+(D<<11&4294967295|D>>>21),D=I+(k^S^O)+q[3]+3572445317&4294967295,I=k+(D<<16&4294967295|D>>>16),D=O+(I^k^S)+q[6]+76029189&4294967295,O=I+(D<<23&4294967295|D>>>9),D=S+(O^I^k)+q[9]+3654602809&4294967295,S=O+(D<<4&4294967295|D>>>28),D=k+(S^O^I)+q[12]+3873151461&4294967295,k=S+(D<<11&4294967295|D>>>21),D=I+(k^S^O)+q[15]+530742520&4294967295,I=k+(D<<16&4294967295|D>>>16),D=O+(I^k^S)+q[2]+3299628645&4294967295,O=I+(D<<23&4294967295|D>>>9),D=S+(I^(O|~k))+q[0]+4096336452&4294967295,S=O+(D<<6&4294967295|D>>>26),D=k+(O^(S|~I))+q[7]+1126891415&4294967295,k=S+(D<<10&4294967295|D>>>22),D=I+(S^(k|~O))+q[14]+2878612391&4294967295,I=k+(D<<15&4294967295|D>>>17),D=O+(k^(I|~S))+q[5]+4237533241&4294967295,O=I+(D<<21&4294967295|D>>>11),D=S+(I^(O|~k))+q[12]+1700485571&4294967295,S=O+(D<<6&4294967295|D>>>26),D=k+(O^(S|~I))+q[3]+2399980690&4294967295,k=S+(D<<10&4294967295|D>>>22),D=I+(S^(k|~O))+q[10]+4293915773&4294967295,I=k+(D<<15&4294967295|D>>>17),D=O+(k^(I|~S))+q[1]+2240044497&4294967295,O=I+(D<<21&4294967295|D>>>11),D=S+(I^(O|~k))+q[8]+1873313359&4294967295,S=O+(D<<6&4294967295|D>>>26),D=k+(O^(S|~I))+q[15]+4264355552&4294967295,k=S+(D<<10&4294967295|D>>>22),D=I+(S^(k|~O))+q[6]+2734768916&4294967295,I=k+(D<<15&4294967295|D>>>17),D=O+(k^(I|~S))+q[13]+1309151649&4294967295,O=I+(D<<21&4294967295|D>>>11),D=S+(I^(O|~k))+q[4]+4149444226&4294967295,S=O+(D<<6&4294967295|D>>>26),D=k+(O^(S|~I))+q[11]+3174756917&4294967295,k=S+(D<<10&4294967295|D>>>22),D=I+(S^(k|~O))+q[2]+718787259&4294967295,I=k+(D<<15&4294967295|D>>>17),D=O+(k^(I|~S))+q[9]+3951481745&4294967295,j.g[0]=j.g[0]+S&4294967295,j.g[1]=j.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,j.g[2]=j.g[2]+I&4294967295,j.g[3]=j.g[3]+k&4294967295}r.prototype.v=function(j,S){S===void 0&&(S=j.length);const O=S-this.blockSize,q=this.C;let I=this.h,k=0;for(;k<S;){if(I==0)for(;k<=O;)s(this,j,k),k+=this.blockSize;if(typeof j=="string"){for(;k<S;)if(q[I++]=j.charCodeAt(k++),I==this.blockSize){s(this,q),I=0;break}}else for(;k<S;)if(q[I++]=j[k++],I==this.blockSize){s(this,q),I=0;break}}this.h=I,this.o+=S},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var S=1;S<j.length-8;++S)j[S]=0;S=this.o*8;for(var O=j.length-8;O<j.length;++O)j[O]=S&255,S/=256;for(this.v(j),j=Array(16),S=0,O=0;O<4;++O)for(let q=0;q<32;q+=8)j[S++]=this.g[O]>>>q&255;return j};function i(j,S){var O=u;return Object.prototype.hasOwnProperty.call(O,j)?O[j]:O[j]=S(j)}function l(j,S){this.h=S;const O=[];let q=!0;for(let I=j.length-1;I>=0;I--){const k=j[I]|0;q&&k==S||(O[I]=k,q=!1)}this.g=O}var u={};function h(j){return-128<=j&&j<128?i(j,function(S){return new l([S|0],S<0?-1:0)}):new l([j|0],j<0?-1:0)}function g(j){if(isNaN(j)||!isFinite(j))return x;if(j<0)return P(g(-j));const S=[];let O=1;for(let q=0;j>=O;q++)S[q]=j/O|0,O*=4294967296;return new l(S,0)}function p(j,S){if(j.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(j.charAt(0)=="-")return P(p(j.substring(1),S));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=g(Math.pow(S,8));let q=x;for(let k=0;k<j.length;k+=8){var I=Math.min(8,j.length-k);const D=parseInt(j.substring(k,k+I),S);I<8?(I=g(Math.pow(S,I)),q=q.j(I).add(g(D))):(q=q.j(O),q=q.add(g(D)))}return q}var x=h(0),B=h(1),C=h(16777216);n=l.prototype,n.m=function(){if(E(this))return-P(this).m();let j=0,S=1;for(let O=0;O<this.g.length;O++){const q=this.i(O);j+=(q>=0?q:4294967296+q)*S,S*=4294967296}return j},n.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(U(this))return"0";if(E(this))return"-"+P(this).toString(j);const S=g(Math.pow(j,6));var O=this;let q="";for(;;){const I=Ae(O,S).g;O=F(O,I.j(S));let k=((O.g.length>0?O.g[0]:O.h)>>>0).toString(j);if(O=I,U(O))return k+q;for(;k.length<6;)k="0"+k;q=k+q}},n.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function U(j){if(j.h!=0)return!1;for(let S=0;S<j.g.length;S++)if(j.g[S]!=0)return!1;return!0}function E(j){return j.h==-1}n.l=function(j){return j=F(this,j),E(j)?-1:U(j)?0:1};function P(j){const S=j.g.length,O=[];for(let q=0;q<S;q++)O[q]=~j.g[q];return new l(O,~j.h).add(B)}n.abs=function(){return E(this)?P(this):this},n.add=function(j){const S=Math.max(this.g.length,j.g.length),O=[];let q=0;for(let I=0;I<=S;I++){let k=q+(this.i(I)&65535)+(j.i(I)&65535),D=(k>>>16)+(this.i(I)>>>16)+(j.i(I)>>>16);q=D>>>16,k&=65535,D&=65535,O[I]=D<<16|k}return new l(O,O[O.length-1]&-2147483648?-1:0)};function F(j,S){return j.add(P(S))}n.j=function(j){if(U(this)||U(j))return x;if(E(this))return E(j)?P(this).j(P(j)):P(P(this).j(j));if(E(j))return P(this.j(P(j)));if(this.l(C)<0&&j.l(C)<0)return g(this.m()*j.m());const S=this.g.length+j.g.length,O=[];for(var q=0;q<2*S;q++)O[q]=0;for(q=0;q<this.g.length;q++)for(let I=0;I<j.g.length;I++){const k=this.i(q)>>>16,D=this.i(q)&65535,J=j.i(I)>>>16,pe=j.i(I)&65535;O[2*q+2*I]+=D*pe,H(O,2*q+2*I),O[2*q+2*I+1]+=k*pe,H(O,2*q+2*I+1),O[2*q+2*I+1]+=D*J,H(O,2*q+2*I+1),O[2*q+2*I+2]+=k*J,H(O,2*q+2*I+2)}for(j=0;j<S;j++)O[j]=O[2*j+1]<<16|O[2*j];for(j=S;j<2*S;j++)O[j]=0;return new l(O,0)};function H(j,S){for(;(j[S]&65535)!=j[S];)j[S+1]+=j[S]>>>16,j[S]&=65535,S++}function K(j,S){this.g=j,this.h=S}function Ae(j,S){if(U(S))throw Error("division by zero");if(U(j))return new K(x,x);if(E(j))return S=Ae(P(j),S),new K(P(S.g),P(S.h));if(E(S))return S=Ae(j,P(S)),new K(P(S.g),S.h);if(j.g.length>30){if(E(j)||E(S))throw Error("slowDivide_ only works with positive integers.");for(var O=B,q=S;q.l(j)<=0;)O=ae(O),q=ae(q);var I=se(O,1),k=se(q,1);for(q=se(q,2),O=se(O,2);!U(q);){var D=k.add(q);D.l(j)<=0&&(I=I.add(O),k=D),q=se(q,1),O=se(O,1)}return S=F(j,I.j(S)),new K(I,S)}for(I=x;j.l(S)>=0;){for(O=Math.max(1,Math.floor(j.m()/S.m())),q=Math.ceil(Math.log(O)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),k=g(O),D=k.j(S);E(D)||D.l(j)>0;)O-=q,k=g(O),D=k.j(S);U(k)&&(k=B),I=I.add(k),j=F(j,D)}return new K(I,j)}n.B=function(j){return Ae(this,j).h},n.and=function(j){const S=Math.max(this.g.length,j.g.length),O=[];for(let q=0;q<S;q++)O[q]=this.i(q)&j.i(q);return new l(O,this.h&j.h)},n.or=function(j){const S=Math.max(this.g.length,j.g.length),O=[];for(let q=0;q<S;q++)O[q]=this.i(q)|j.i(q);return new l(O,this.h|j.h)},n.xor=function(j){const S=Math.max(this.g.length,j.g.length),O=[];for(let q=0;q<S;q++)O[q]=this.i(q)^j.i(q);return new l(O,this.h^j.h)};function ae(j){const S=j.g.length+1,O=[];for(let q=0;q<S;q++)O[q]=j.i(q)<<1|j.i(q-1)>>>31;return new l(O,j.h)}function se(j,S){const O=S>>5;S%=32;const q=j.g.length-O,I=[];for(let k=0;k<q;k++)I[k]=S>0?j.i(k+O)>>>S|j.i(k+O+1)<<32-S:j.i(k+O);return new l(I,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,R3=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=g,l.fromString=p,ou=l}).apply(typeof pC<"u"?pC:typeof self<"u"?self:typeof window<"u"?window:{});var qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D3,S0,O3,Tp,fb,M3,P3,H3;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof qm=="object"&&qm];for(var y=0;y<d.length;++y){var N=d[y];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=t(this);function s(d,y){if(y)e:{var N=r;d=d.split(".");for(var L=0;L<d.length-1;L++){var Z=d[L];if(!(Z in N))break e;N=N[Z]}d=d[d.length-1],L=N[d],y=y(L),y!=L&&y!=null&&e(N,d,{configurable:!0,writable:!0,value:y})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(y){var N=[],L;for(L in y)Object.prototype.hasOwnProperty.call(y,L)&&N.push([L,y[L]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},l=this||self;function u(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function h(d,y,N){return d.call.apply(d.bind,arguments)}function g(d,y,N){return g=h,g.apply(null,arguments)}function p(d,y){var N=Array.prototype.slice.call(arguments,1);return function(){var L=N.slice();return L.push.apply(L,arguments),d.apply(this,L)}}function x(d,y){function N(){}N.prototype=y.prototype,d.Z=y.prototype,d.prototype=new N,d.prototype.constructor=d,d.Ob=function(L,Z,le){for(var Ce=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)Ce[Ye-2]=arguments[Ye];return y.prototype[Z].apply(L,Ce)}}var B=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function C(d){const y=d.length;if(y>0){const N=Array(y);for(let L=0;L<y;L++)N[L]=d[L];return N}return[]}function U(d,y){for(let L=1;L<arguments.length;L++){const Z=arguments[L];var N=typeof Z;if(N=N!="object"?N:Z?Array.isArray(Z)?"array":N:"null",N=="array"||N=="object"&&typeof Z.length=="number"){N=d.length||0;const le=Z.length||0;d.length=N+le;for(let Ce=0;Ce<le;Ce++)d[N+Ce]=Z[Ce]}else d.push(Z)}}class E{constructor(y,N){this.i=y,this.j=N,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(d){l.setTimeout(()=>{throw d},0)}function F(){var d=j;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class H{constructor(){this.h=this.g=null}add(y,N){const L=K.get();L.set(y,N),this.h?this.h.next=L:this.g=L,this.h=L}}var K=new E(()=>new Ae,d=>d.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(y,N){this.h=y,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,se=!1,j=new H,S=()=>{const d=Promise.resolve(void 0);ae=()=>{d.then(O)}};function O(){for(var d;d=F();){try{d.h.call(d.g)}catch(N){P(N)}var y=K;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}se=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const N=()=>{};l.addEventListener("test",N,y),l.removeEventListener("test",N,y)}catch{}return d})();function D(d){return/^[\s\xa0]*$/.test(d)}function J(d,y){I.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}x(J,I),J.prototype.init=function(d,y){const N=this.type=d.type,L=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(N=="mouseover"?y=d.fromElement:N=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),te=0;function ce(d,y,N,L,Z){this.listener=d,this.proxy=null,this.src=y,this.type=N,this.capture=!!L,this.ha=Z,this.key=++te,this.da=this.fa=!1}function ne(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function he(d,y,N){for(const L in d)y.call(N,d[L],L,d)}function we(d,y){for(const N in d)y.call(void 0,d[N],N,d)}function Y(d){const y={};for(const N in d)y[N]=d[N];return y}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,y){let N,L;for(let Z=1;Z<arguments.length;Z++){L=arguments[Z];for(N in L)d[N]=L[N];for(let le=0;le<Q.length;le++)N=Q[le],Object.prototype.hasOwnProperty.call(L,N)&&(d[N]=L[N])}}function z(d){this.src=d,this.g={},this.h=0}z.prototype.add=function(d,y,N,L,Z){const le=d.toString();d=this.g[le],d||(d=this.g[le]=[],this.h++);const Ce=ue(d,y,L,Z);return Ce>-1?(y=d[Ce],N||(y.fa=!1)):(y=new ce(y,this.src,le,!!L,Z),y.fa=N,d.push(y)),y};function re(d,y){const N=y.type;if(N in d.g){var L=d.g[N],Z=Array.prototype.indexOf.call(L,y,void 0),le;(le=Z>=0)&&Array.prototype.splice.call(L,Z,1),le&&(ne(y),d.g[N].length==0&&(delete d.g[N],d.h--))}}function ue(d,y,N,L){for(let Z=0;Z<d.length;++Z){const le=d[Z];if(!le.da&&le.listener==y&&le.capture==!!N&&le.ha==L)return Z}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Ne={};function de(d,y,N,L,Z){if(Array.isArray(y)){for(let le=0;le<y.length;le++)de(d,y[le],N,L,Z);return null}return N=ft(N),d&&d[pe]?d.J(y,N,u(L)?!!L.capture:!1,Z):Oe(d,y,N,!1,L,Z)}function Oe(d,y,N,L,Z,le){if(!y)throw Error("Invalid event type");const Ce=u(Z)?!!Z.capture:!!Z;let Ye=oe(d);if(Ye||(d[me]=Ye=new z(d)),N=Ye.add(y,N,L,Ce,le),N.proxy)return N;if(L=Re(),N.proxy=L,L.src=d,L.listener=N,d.addEventListener)k||(Z=Ce),Z===void 0&&(Z=!1),d.addEventListener(y.toString(),L,Z);else if(d.attachEvent)d.attachEvent(mt(y.toString()),L);else if(d.addListener&&d.removeListener)d.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Re(){function d(N){return y.call(d.src,d.listener,N)}const y=Ee;return d}function et(d,y,N,L,Z){if(Array.isArray(y))for(var le=0;le<y.length;le++)et(d,y[le],N,L,Z);else L=u(L)?!!L.capture:!!L,N=ft(N),d&&d[pe]?(d=d.i,le=String(y).toString(),le in d.g&&(y=d.g[le],N=ue(y,N,L,Z),N>-1&&(ne(y[N]),Array.prototype.splice.call(y,N,1),y.length==0&&(delete d.g[le],d.h--)))):d&&(d=oe(d))&&(y=d.g[y.toString()],d=-1,y&&(d=ue(y,N,L,Z)),(N=d>-1?y[d]:null)&&tt(N))}function tt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[pe])re(y.i,d);else{var N=d.type,L=d.proxy;y.removeEventListener?y.removeEventListener(N,L,d.capture):y.detachEvent?y.detachEvent(mt(N),L):y.addListener&&y.removeListener&&y.removeListener(L),(N=oe(y))?(re(N,d),N.h==0&&(N.src=null,y[me]=null)):ne(d)}}}function mt(d){return d in Ne?Ne[d]:Ne[d]="on"+d}function Ee(d,y){if(d.da)d=!0;else{y=new J(y,this);const N=d.listener,L=d.ha||d.src;d.fa&&tt(d),d=N.call(L,y)}return d}function oe(d){return d=d[me],d instanceof z?d:null}var At="__closure_events_fn_"+(Math.random()*1e9>>>0);function ft(d){return typeof d=="function"?d:(d[At]||(d[At]=function(y){return d.handleEvent(y)}),d[At])}function Ve(){q.call(this),this.i=new z(this),this.M=this,this.G=null}x(Ve,q),Ve.prototype[pe]=!0,Ve.prototype.removeEventListener=function(d,y,N,L){et(this,d,y,N,L)};function Je(d,y){var N,L=d.G;if(L)for(N=[];L;L=L.G)N.push(L);if(d=d.M,L=y.type||y,typeof y=="string")y=new I(y,d);else if(y instanceof I)y.target=y.target||d;else{var Z=y;y=new I(L,d),M(y,Z)}Z=!0;let le,Ce;if(N)for(Ce=N.length-1;Ce>=0;Ce--)le=y.g=N[Ce],Z=nt(le,L,!0,y)&&Z;if(le=y.g=d,Z=nt(le,L,!0,y)&&Z,Z=nt(le,L,!1,y)&&Z,N)for(Ce=0;Ce<N.length;Ce++)le=y.g=N[Ce],Z=nt(le,L,!1,y)&&Z}Ve.prototype.N=function(){if(Ve.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const N=d.g[y];for(let L=0;L<N.length;L++)ne(N[L]);delete d.g[y],d.h--}}this.G=null},Ve.prototype.J=function(d,y,N,L){return this.i.add(String(d),y,!1,N,L)},Ve.prototype.K=function(d,y,N,L){return this.i.add(String(d),y,!0,N,L)};function nt(d,y,N,L){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let Z=!0;for(let le=0;le<y.length;++le){const Ce=y[le];if(Ce&&!Ce.da&&Ce.capture==N){const Ye=Ce.listener,ut=Ce.ha||Ce.src;Ce.fa&&re(d.i,Ce),Z=Ye.call(ut,L)!==!1&&Z}}return Z&&!L.defaultPrevented}function at(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:l.setTimeout(d,y||0)}function Nt(d){d.g=at(()=>{d.g=null,d.i&&(d.i=!1,Nt(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class _t extends q{constructor(y,N){super(),this.m=y,this.l=N,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Nt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mt(d){q.call(this),this.h=d,this.g={}}x(Mt,q);var Gt=[];function Xt(d){he(d.g,function(y,N){this.g.hasOwnProperty(N)&&tt(y)},d),d.g={}}Mt.prototype.N=function(){Mt.Z.N.call(this),Xt(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=l.JSON.stringify,kt=l.JSON.parse,Pt=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function ot(){}function rn(){}var Qe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){I.call(this,"d")}x(Ut,I);function gt(){I.call(this,"c")}x(gt,I);var Bt={},mn=null;function tr(){return mn=mn||new Ve}Bt.Ia="serverreachability";function qr(d){I.call(this,Bt.Ia,d)}x(qr,I);function or(d){const y=tr();Je(y,new qr(y))}Bt.STAT_EVENT="statevent";function fr(d,y){I.call(this,Bt.STAT_EVENT,d),this.stat=y}x(fr,I);function dr(d){const y=tr();Je(y,new fr(y,d))}Bt.Ja="timingevent";function nr(d,y){I.call(this,Bt.Ja,d),this.size=y}x(nr,I);function yt(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},y)}function Yt(){this.g=!0}Yt.prototype.ua=function(){this.g=!1};function $n(d,y,N,L,Z,le){d.info(function(){if(d.g)if(le){var Ce="",Ye=le.split("&");for(let ht=0;ht<Ye.length;ht++){var ut=Ye[ht].split("=");if(ut.length>1){const bt=ut[0];ut=ut[1];const Jt=bt.split("_");Ce=Jt.length>=2&&Jt[1]=="type"?Ce+(bt+"="+ut+"&"):Ce+(bt+"=redacted&")}}}else Ce=null;else Ce=le;return"XMLHTTP REQ ("+L+") [attempt "+Z+"]: "+y+`
`+N+`
`+Ce})}function Xr(d,y,N,L,Z,le,Ce){d.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Z+"]: "+y+`
`+N+`
`+le+" "+Ce})}function bn(d,y,N,L){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pe(d,N)+(L?" "+L:"")})}function qe(d,y){d.info(function(){return"TIMEOUT: "+y})}Yt.prototype.info=function(){};function Pe(d,y){if(!d.g)return y;if(!y)return null;try{const le=JSON.parse(y);if(le){for(d=0;d<le.length;d++)if(Array.isArray(le[d])){var N=le[d];if(!(N.length<2)){var L=N[1];if(Array.isArray(L)&&!(L.length<1)){var Z=L[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let Ce=1;Ce<L.length;Ce++)L[Ce]=""}}}}return ir(le)}catch{return y}}var rt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tt;function vt(){}x(vt,ot),vt.prototype.g=function(){return new XMLHttpRequest},Tt=new vt;function Ft(d){return encodeURIComponent(String(d))}function lr(d){var y=1;d=d.split(":");const N=[];for(;y>0&&d.length;)N.push(d.shift()),y--;return d.length&&N.push(d.join(":")),N}function $t(d,y,N,L){this.j=d,this.i=y,this.l=N,this.S=L||1,this.V=new Mt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new cr}function cr(){this.i=null,this.g="",this.h=!1}var Ar={},kr={};function Vn(d,y,N){d.M=1,d.A=vs(wn(y)),d.u=N,d.R=!0,$s(d,null)}function $s(d,y){d.F=Date.now(),Js(d),d.B=wn(d.A);var N=d.B,L=d.S;Array.isArray(L)||(L=[String(L)]),pa(N.i,"t",L),d.C=0,N=d.j.L,d.h=new cr,d.g=ml(d.j,N?y:null,!d.u),d.P>0&&(d.O=new _t(g(d.Y,d,d.g),d.P)),y=d.V,N=d.g,L=d.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(Gt[0]=Z.toString()),Z=Gt);for(let le=0;le<Z.length;le++){const Ce=de(N,Z[le],L||y.handleEvent,!1,y.h||y);if(!Ce)break;y.g[Ce.key]=Ce}y=d.J?Y(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),or(),$n(d.i,d.v,d.B,d.l,d.S,d.u)}$t.prototype.ba=function(d){d=d.target;const y=this.O;y&&Cs(d)==3?y.j():this.Y(d)},$t.prototype.Y=function(d){try{if(d==this.g)e:{const Ye=Cs(this.g),ut=this.g.ya(),ht=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||Dn(this.g)))){this.K||Ye!=4||ut==7||(ut==8||ht<=0?or(3):or(2)),Ws(this);var y=this.g.ca();this.X=y;var N=ga(this);if(this.o=y==200,Xr(this.i,this.v,this.B,this.l,this.S,Ye,y),this.o){if(this.U&&!this.L){t:{if(this.g){var L,Z=this.g;if((L=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(L)){var le=L;break t}}le=null}if(d=le)bn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ti(this,d);else{this.o=!1,this.m=3,dr(12),ks(this),ws(this);break e}}if(this.R){d=!0;let bt;for(;!this.K&&this.C<N.length;)if(bt=eA(this,N),bt==kr){Ye==4&&(this.m=4,dr(14),d=!1),bn(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Ar){this.m=4,dr(15),bn(this.i,this.l,N,"[Invalid Chunk]"),d=!1;break}else bn(this.i,this.l,bt,null),ti(this,bt);if(Oa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||N.length!=0||this.h.h||(this.m=1,dr(16),d=!1),this.o=this.o&&d,!d)bn(this.i,this.l,N,"[Invalid Chunked Response]"),ks(this),ws(this);else if(N.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),aA(Ce),Ce.P=!0,dr(11))}}else bn(this.i,this.l,N,null),ti(this,N);Ye==4&&ks(this),this.o&&!this.K&&(Ye==4?po(this.j,this):(this.o=!1,Js(this)))}else ba(this.g),y==400&&N.indexOf("Unknown SID")>0?(this.m=3,dr(12)):(this.m=0,dr(13)),ks(this),ws(this)}}}catch{}finally{}};function ga(d){if(!Oa(d))return d.g.la();const y=Dn(d.g);if(y==="")return"";let N="";const L=y.length,Z=Cs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return ks(d),ws(d),"";d.h.i=new l.TextDecoder}for(let le=0;le<L;le++)d.h.h=!0,N+=d.h.i.decode(y[le],{stream:!(Z&&le==L-1)});return y.length=0,d.h.g+=N,d.C=0,d.h.g}function Oa(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function eA(d,y){var N=d.C,L=y.indexOf(`
`,N);return L==-1?kr:(N=Number(y.substring(N,L)),isNaN(N)?Ar:(L+=1,L+N>y.length?kr:(y=y.slice(L,L+N),d.C=L+N,y)))}$t.prototype.cancel=function(){this.K=!0,ks(this)};function Js(d){d.T=Date.now()+d.H,Si(d,d.H)}function Si(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=yt(g(d.aa,d),y)}function Ws(d){d.D&&(l.clearTimeout(d.D),d.D=null)}$t.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(qe(this.i,this.B),this.M!=2&&(or(),dr(17)),ks(this),this.m=2,ws(this)):Si(this,this.T-d)};function ws(d){d.j.I==0||d.K||po(d.j,d)}function ks(d){Ws(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,Xt(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function ti(d,y){try{var N=d.j;if(N.I!=0&&(N.g==d||ma(N.h,d))){if(!d.L&&ma(N.h,d)&&N.I==3){try{var L=N.Ba.g.parse(y)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Z=L;if(Z[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<d.F)iA(N),ki(N);else break e;jA(N),dr(18)}}else N.xa=Z[1],0<N.xa-N.K&&Z[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=yt(g(N.Va,N),6e3));ri(N.h)<=1&&N.ta&&(N.ta=void 0)}else na(N,11)}else if((d.L||N.g==d)&&iA(N),!D(y))for(Z=N.Ba.g.parse(y),y=0;y<Z.length;y++){let ht=Z[y];const bt=ht[0];if(!(bt<=N.K))if(N.K=bt,ht=ht[1],N.I==2)if(ht[0]=="c"){N.M=ht[1],N.ba=ht[2];const Jt=ht[3];Jt!=null&&(N.ka=Jt,N.j.info("VER="+N.ka));const Tr=ht[4];Tr!=null&&(N.za=Tr,N.j.info("SVER="+N.za));const jr=ht[5];jr!=null&&typeof jr=="number"&&jr>0&&(L=1.5*jr,N.O=L,N.j.info("backChannelRequestTimeoutMs_="+L)),L=N;const Dr=d.g;if(Dr){const En=Dr.g?Dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(En){var le=L.h;le.g||En.indexOf("spdy")==-1&&En.indexOf("quic")==-1&&En.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(ol(le,le.h),le.h=null))}if(L.G){const vn=Dr.g?Dr.g.getResponseHeader("X-HTTP-Session-Id"):null;vn&&(L.wa=vn,Lr(L.J,L.G,vn))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-d.F,N.j.info("Handshake RTT: "+N.T+"ms")),L=N;var Ce=d;if(L.na=yo(L,L.L?L.ba:null,L.W),Ce.L){co(L.h,Ce);var Ye=Ce,ut=L.O;ut&&(Ye.H=ut),Ye.D&&(Ws(Ye),Js(Ye)),L.g=Ce}else sA(L);N.i.length>0&&os(N)}else ht[0]!="stop"&&ht[0]!="close"||na(N,7);else N.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?na(N,7):fo(N):ht[0]!="noop"&&N.l&&N.l.qa(ht),N.A=0)}}or(4)}catch{}}var _n=class{constructor(d,y){this.g=d,this.map=y}};function tA(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ri(d){return d.h?1:d.g?d.g.size:0}function ma(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function ol(d,y){d.g?d.g.add(y):d.h=y}function co(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}tA.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ll(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const N of d.g.values())y=y.concat(N.G);return y}return C(d.i)}var NA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(d,y){if(d){d=d.split("&");for(let N=0;N<d.length;N++){const L=d[N].indexOf("=");let Z,le=null;L>=0?(Z=d[N].substring(0,L),le=d[N].substring(L+1)):Z=d[N],y(Z,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function Er(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof Er?(this.l=d.l,Rn(this,d.j),this.o=d.o,this.g=d.g,Ii(this,d.u),this.h=d.h,_A(this,SA(d.i)),this.m=d.m):d&&(y=String(d).match(NA))?(this.l=!1,Rn(this,y[1]||"",!0),this.o=Zs(y[2]||""),this.g=Zs(y[3]||"",!0),Ii(this,y[4]),this.h=Zs(y[5]||"",!0),_A(this,y[6]||"",!0),this.m=Zs(y[7]||"")):(this.l=!1,this.i=new nA(null,this.l))}Er.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(Kn(y,EA,!0),":");var N=this.g;return(N||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Kn(y,EA,!0),"@"),d.push(Ft(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&d.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&d.push("/"),d.push(Kn(N,N.charAt(0)=="/"?ho:sc,!0))),(N=this.i.toString())&&d.push("?",N),(N=this.m)&&d.push("#",Kn(N,cl)),d.join("")},Er.prototype.resolve=function(d){const y=wn(this);let N=!!d.j;N?Rn(y,d.j):N=!!d.o,N?y.o=d.o:N=!!d.g,N?y.g=d.g:N=d.u!=null;var L=d.h;if(N)Ii(y,d.u);else if(N=!!d.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var Z=y.h.lastIndexOf("/");Z!=-1&&(L=y.h.slice(0,Z+1)+L)}if(Z=L,Z==".."||Z==".")L="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){L=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const le=[];for(let Ce=0;Ce<Z.length;){const Ye=Z[Ce++];Ye=="."?L&&Ce==Z.length&&le.push(""):Ye==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),L&&Ce==Z.length&&le.push("")):(le.push(Ye),L=!0)}L=le.join("/")}else L=Z}return N?y.h=L:N=d.i.toString()!=="",N?_A(y,SA(d.i)):N=!!d.m,N&&(y.m=d.m),y};function wn(d){return new Er(d)}function Rn(d,y,N){d.j=N?Zs(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Ii(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function _A(d,y,N){y instanceof nA?(d.i=y,IA(d.i,d.l)):(N||(y=Kn(y,rA)),d.i=new nA(y,d.l))}function Lr(d,y,N){d.i.set(y,N)}function vs(d){return Lr(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Zs(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Kn(d,y,N){return typeof d=="string"?(d=encodeURI(d).replace(y,is),N&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function is(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var EA=/[#\/\?@]/g,sc=/[#\?:]/g,ho=/[#\?]/g,rA=/[#\?@]/g,cl=/#/g;function nA(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function As(d){d.g||(d.g=new Map,d.h=0,d.i&&uo(d.i,function(y,N){d.add(decodeURIComponent(y.replace(/\+/g," ")),N)}))}n=nA.prototype,n.add=function(d,y){As(this),this.i=null,d=Ma(this,d);let N=this.g.get(d);return N||this.g.set(d,N=[]),N.push(y),this.h+=1,this};function ac(d,y){As(d),y=Ma(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function ul(d,y){return As(d),y=Ma(d,y),d.g.has(y)}n.forEach=function(d,y){As(this),this.g.forEach(function(N,L){N.forEach(function(Z){d.call(y,Z,L,this)},this)},this)};function dl(d,y){As(d);let N=[];if(typeof y=="string")ul(d,y)&&(N=N.concat(d.g.get(Ma(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)N=N.concat(d[y]);return N}n.set=function(d,y){return As(this),this.i=null,d=Ma(this,d),ul(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=dl(this,d),d.length>0?String(d[0]):y):y};function pa(d,y,N){ac(d,y),N.length>0&&(d.i=null,d.g.set(Ma(d,y),C(N)),d.h+=N.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let L=0;L<y.length;L++){var N=y[L];const Z=Ft(N);N=dl(this,N);for(let le=0;le<N.length;le++){let Ce=Z;N[le]!==""&&(Ce+="="+Ft(N[le])),d.push(Ce)}}return this.i=d.join("&")};function SA(d){const y=new nA;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function Ma(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function IA(d,y){y&&!d.j&&(As(d),d.i=null,d.g.forEach(function(N,L){const Z=L.toLowerCase();L!=Z&&(ac(this,L),pa(this,Z,N))},d)),d.j=y}function nn(d,y){const N=new Yt;if(l.Image){const L=new Image;L.onload=p(ea,N,"TestLoadImage: loaded",!0,y,L),L.onerror=p(ea,N,"TestLoadImage: error",!1,y,L),L.onabort=p(ea,N,"TestLoadImage: abort",!1,y,L),L.ontimeout=p(ea,N,"TestLoadImage: timeout",!1,y,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=d}else y(!1)}function hl(d,y){const N=new Yt,L=new AbortController,Z=setTimeout(()=>{L.abort(),ea(N,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:L.signal}).then(le=>{clearTimeout(Z),le.ok?ea(N,"TestPingServer: ok",!0,y):ea(N,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Z),ea(N,"TestPingServer: error",!1,y)})}function ea(d,y,N,L,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),L(N)}catch{}}function Ot(){this.g=new Pt}function ni(d){this.i=d.Sb||null,this.h=d.ab||!1}x(ni,ot),ni.prototype.g=function(){return new TA(this.i,this.h)};function TA(d,y){Ve.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(TA,Ve),n=TA.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,xa(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||l).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Ti(this):xa(this),this.readyState==3&&ta(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Ti(this))},n.Na=function(d){this.g&&(this.response=d,Ti(this))},n.ga=function(){this.g&&Ti(this)};function Ti(d){d.readyState=4,d.l=null,d.j=null,d.B=null,xa(d)}n.setRequestHeader=function(d,y){this.A.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var N=y.next();!N.done;)N=N.value,d.push(N[0]+": "+N[1]),N=y.next();return d.join(`\r
`)};function xa(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(TA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Bs(d){let y="";return he(d,function(N,L){y+=L,y+=":",y+=N,y+=`\r
`}),y}function ji(d,y,N){e:{for(L in N){var L=!1;break e}L=!0}L||(N=Bs(N),typeof d=="string"?N!=null&&Ft(N):Lr(d,y,N))}function Rr(d){Ve.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Rr,Ve);var si=/^https?$/i,fl=["POST","PUT"];n=Rr.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,y,N,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tt.g(),this.g.onreadystatechange=B(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(le){Ui(this,le);return}if(d=N||"",N=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Z in L)N.set(Z,L[Z]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const le of L.keys())N.set(le,L.get(le));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(N.keys()).find(le=>le.toLowerCase()=="content-type"),Z=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(fl,y,void 0)>=0)||L||Z||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Ce]of N)this.g.setRequestHeader(le,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(le){Ui(this,le)}};function Ui(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,Fi(d),Qi(d)}function Fi(d){d.A||(d.A=!0,Je(d,"complete"),Je(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Je(this,"complete"),Je(this,"abort"),Qi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),Rr.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ya(this):this.Xa())},n.Xa=function(){ya(this)};function ya(d){if(d.h&&typeof i<"u"){if(d.v&&Cs(d)==4)setTimeout(d.Ca.bind(d),0);else if(Je(d,"readystatechange"),Cs(d)==4){d.h=!1;try{const le=d.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var N;if(!(N=y)){var L;if(L=le===0){let Ce=String(d.D).match(NA)[1]||null;!Ce&&l.self&&l.self.location&&(Ce=l.self.location.protocol.slice(0,-1)),L=!si.test(Ce?Ce.toLowerCase():"")}N=L}if(N)Je(d,"complete"),Je(d,"success");else{d.o=6;try{var Z=Cs(d)>2?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.ca()+"]",Fi(d)}}finally{Qi(d)}}}}function Qi(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const N=d.g;d.g=null,y||Je(d,"ready");try{N.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Cs(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Cs(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),kt(y)}};function Dn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ba(d){const y={};d=(d.g&&Cs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<d.length;L++){if(D(d[L]))continue;var N=lr(d[L]);const Z=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const le=y[Z]||[];y[Z]=le,le.push(N)}we(y,function(L){return L.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(d,y,N){return N&&N.internalChannelParams&&N.internalChannelParams[d]||y}function Li(d){this.za=0,this.i=[],this.j=new Yt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pa("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pa("baseRetryDelayMs",5e3,d),this.Za=Pa("retryDelaySeedMs",1e4,d),this.Ta=Pa("forwardChannelMaxRetries",2,d),this.va=Pa("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new tA(d&&d.concurrentRequestLimit),this.Ba=new Ot,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Li.prototype,n.ka=8,n.I=1,n.connect=function(d,y,N,L){dr(0),this.W=d,this.H=y||{},N&&L!==void 0&&(this.H.OSID=N,this.H.OAID=L),this.F=this.X,this.J=yo(this,null,this.W),os(this)};function fo(d){if(ra(d),d.I==3){var y=d.V++,N=wn(d.J);if(Lr(N,"SID",d.M),Lr(N,"RID",y),Lr(N,"TYPE","terminate"),Ns(d,N),y=new $t(d,d.j,y),y.M=2,y.A=vs(wn(N)),N=!1,l.navigator&&l.navigator.sendBeacon)try{N=l.navigator.sendBeacon(y.A.toString(),"")}catch{}!N&&l.Image&&(new Image().src=y.A,N=!0),N||(y.g=ml(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Js(y)}xo(d)}function ki(d){d.g&&(aA(d),d.g.cancel(),d.g=null)}function ra(d){ki(d),d.v&&(l.clearTimeout(d.v),d.v=null),iA(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function os(d){if(!lo(d.h)&&!d.m){d.m=!0;var y=d.Ea;ae||S(),se||(ae(),se=!0),j.add(y,d),d.D=0}}function go(d,y){return ri(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=yt(g(d.Ea,d,y),gl(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Z=new $t(this,this.j,d);let le=this.o;if(this.U&&(le?(le=Y(le),M(le,this.U)):le=this.U),this.u!==null||this.R||(Z.J=le,le=null),this.S)e:{for(var y=0,N=0;N<this.i.length;N++){t:{var L=this.i[N];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(y+=L,y>4096){y=N;break e}if(y===4096||N===this.i.length-1){y=N+1;break e}}y=1e3}else y=1e3;y=mo(this,Z,y),N=wn(this.J),Lr(N,"RID",d),Lr(N,"CVER",22),this.G&&Lr(N,"X-HTTP-Session-Id",this.G),Ns(this,N),le&&(this.R?y="headers="+Ft(Bs(le))+"&"+y:this.u&&ji(N,this.u,le)),ol(this.h,Z),this.Ra&&Lr(N,"TYPE","init"),this.S?(Lr(N,"$req",y),Lr(N,"SID","null"),Z.U=!0,Vn(Z,N,null)):Vn(Z,N,y),this.I=2}}else this.I==3&&(d?ai(this,d):this.i.length==0||lo(this.h)||ai(this))};function ai(d,y){var N;y?N=y.l:N=d.V++;const L=wn(d.J);Lr(L,"SID",d.M),Lr(L,"RID",N),Lr(L,"AID",d.K),Ns(d,L),d.u&&d.o&&ji(L,d.u,d.o),N=new $t(d,d.j,N,d.D+1),d.u===null&&(N.J=d.o),y&&(d.i=y.G.concat(d.i)),y=mo(d,N,1e3),N.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ol(d.h,N),Vn(N,L,y)}function Ns(d,y){d.H&&he(d.H,function(N,L){Lr(y,L,N)}),d.l&&he({},function(N,L){Lr(y,L,N)})}function mo(d,y,N){N=Math.min(d.i.length,N);const L=d.l?g(d.l.Ka,d.l,d):null;e:{var Z=d.i;let Ye=-1;for(;;){const ut=["count="+N];Ye==-1?N>0?(Ye=Z[0].g,ut.push("ofs="+Ye)):Ye=0:ut.push("ofs="+Ye);let ht=!0;for(let bt=0;bt<N;bt++){var le=Z[bt].g;const Jt=Z[bt].map;if(le-=Ye,le<0)Ye=Math.max(0,Z[bt].g-100),ht=!1;else try{le="req"+le+"_"||"";try{var Ce=Jt instanceof Map?Jt:Object.entries(Jt);for(const[Tr,jr]of Ce){let Dr=jr;u(jr)&&(Dr=ir(jr)),ut.push(le+Tr+"="+encodeURIComponent(Dr))}}catch(Tr){throw ut.push(le+"type="+encodeURIComponent("_badmap")),Tr}}catch{L&&L(Jt)}}if(ht){Ce=ut.join("&");break e}}Ce=void 0}return d=d.i.splice(0,N),y.G=d,Ce}function sA(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;ae||S(),se||(ae(),se=!0),j.add(y,d),d.A=0}}function jA(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=yt(g(d.Da,d),gl(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,ic(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=yt(g(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dr(10),ki(this),ic(this))};function aA(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function ic(d){d.g=new $t(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=wn(d.na);Lr(y,"RID","rpc"),Lr(y,"SID",d.M),Lr(y,"AID",d.K),Lr(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&Lr(y,"TO",d.ia),Lr(y,"TYPE","xmlhttp"),Ns(d,y),d.u&&d.o&&ji(y,d.u,d.o),d.O&&(d.g.H=d.O);var N=d.g;d=d.ba,N.M=1,N.A=vs(wn(y)),N.u=null,N.R=!0,$s(N,d)}n.Va=function(){this.C!=null&&(this.C=null,ki(this),jA(this),dr(19))};function iA(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function po(d,y){var N=null;if(d.g==y){iA(d),aA(d),d.g=null;var L=2}else if(ma(d.h,y))N=y.G,co(d.h,y),L=1;else return;if(d.I!=0){if(y.o)if(L==1){N=y.u?y.u.length:0,y=Date.now()-y.F;var Z=d.D;L=tr(),Je(L,new nr(L,N)),os(d)}else sA(d);else if(Z=y.m,Z==3||Z==0&&y.X>0||!(L==1&&go(d,y)||L==2&&jA(d)))switch(N&&N.length>0&&(y=d.h,y.i=y.i.concat(N)),Z){case 1:na(d,5);break;case 4:na(d,10);break;case 3:na(d,6);break;default:na(d,2)}}}function gl(d,y){let N=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(N*=2),N*y}function na(d,y){if(d.j.info("Error code "+y),y==2){var N=g(d.bb,d),L=d.Ua;const Z=!L;L=new Er(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Rn(L,"https"),vs(L),Z?nn(L.toString(),N):hl(L.toString(),N)}else dr(2);d.I=0,d.l&&d.l.pa(y),xo(d),ra(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),dr(2)):(this.j.info("Failed to ping google.com"),dr(1))};function xo(d){if(d.I=0,d.ja=[],d.l){const y=ll(d.h);(y.length!=0||d.i.length!=0)&&(U(d.ja,y),U(d.ja,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.oa()}}function yo(d,y,N){var L=N instanceof Er?wn(N):new Er(N);if(L.g!="")y&&(L.g=y+"."+L.g),Ii(L,L.u);else{var Z=l.location;L=Z.protocol,y=y?y+"."+Z.hostname:Z.hostname,Z=+Z.port;const le=new Er(null);L&&Rn(le,L),y&&(le.g=y),Z&&Ii(le,Z),N&&(le.h=N),L=le}return N=d.G,y=d.wa,N&&y&&Lr(L,N,y),Lr(L,"VER",d.ka),Ns(d,L),L}function ml(d,y,N){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new Rr(new ni({ab:N})):new Rr(d.ma),y.Fa(d.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ac(){}n=Ac.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ha(){}Ha.prototype.g=function(d,y){return new On(d,y)};function On(d,y){Ve.call(this),this.g=new Li(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!D(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Va(this)}x(On,Ve),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){fo(this.g)},On.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var N={};N.__data__=d,d=N}else this.v&&(N={},N.__data__=ir(d),d=N);y.i.push(new _n(y.Ya++,d)),y.I==3&&os(y)},On.prototype.N=function(){this.g.l=null,delete this.j,fo(this.g),delete this.g,On.Z.N.call(this)};function bo(d){Ut.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const N in y){d=N;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}x(bo,Ut);function Ri(){gt.call(this),this.status=1}x(Ri,gt);function Va(d){this.g=d}x(Va,Ac),Va.prototype.ra=function(){Je(this.g,"a")},Va.prototype.qa=function(d){Je(this.g,new bo(d))},Va.prototype.pa=function(d){Je(this.g,new Ri)},Va.prototype.oa=function(){Je(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,H3=function(){return new Ha},P3=function(){return tr()},M3=Bt,fb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,Tp=rt,xt.COMPLETE="complete",O3=xt,rn.EventType=Qe,Qe.OPEN="a",Qe.CLOSE="b",Qe.ERROR="c",Qe.MESSAGE="d",Ve.prototype.listen=Ve.prototype.J,S0=rn,Rr.prototype.listenOnce=Rr.prototype.K,Rr.prototype.getLastError=Rr.prototype.Ha,Rr.prototype.getLastErrorCode=Rr.prototype.ya,Rr.prototype.getStatus=Rr.prototype.ca,Rr.prototype.getResponseJson=Rr.prototype.La,Rr.prototype.getResponseText=Rr.prototype.la,Rr.prototype.send=Rr.prototype.ea,Rr.prototype.setWithCredentials=Rr.prototype.Fa,D3=Rr}).apply(typeof qm<"u"?qm:typeof self<"u"?self:typeof window<"u"?window:{});const xC="@firebase/firestore",yC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ja.UNAUTHENTICATED=new ja(null),ja.GOOGLE_CREDENTIALS=new ja("google-credentials-uid"),ja.FIRST_PARTY=new ja("first-party-uid"),ja.MOCK_USER=new ja("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new z1("@firebase/firestore");function Nh(){return pd.logLevel}function We(n,...e){if(pd.logLevel<=Nr.DEBUG){const t=e.map(Pw);pd.debug(`Firestore (${Cf}): ${n}`,...t)}}function ss(n,...e){if(pd.logLevel<=Nr.ERROR){const t=e.map(Pw);pd.error(`Firestore (${Cf}): ${n}`,...t)}}function dg(n,...e){if(pd.logLevel<=Nr.WARN){const t=e.map(Pw);pd.warn(`Firestore (${Cf}): ${n}`,...t)}}function Pw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,V3(n,r,t)}function V3(n,e,t){let r=`FIRESTORE (${Cf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ss(r),new Error(r)}function Qt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||V3(e,s,r)}function It(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ao{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ja.UNAUTHENTICATED)))}shutdown(){}}class K7{constructor(e){this.t=e,this.currentUser=ja.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qt(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let i=new Wo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Wo,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=i;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Wo)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string",31837,{l:r}),new H7(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qt(e===null||typeof e=="string",2055,{h:e}),new ja(e)}}class z7{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ja.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q7{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new z7(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ja.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G7{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qt(this.o===void 0,3512);const r=i=>{i.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,We("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new bC(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=X7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function gb(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return s2(s)===s2(i)?Zt(s,i):s2(s)?1:-1}return Zt(n.length,e.length)}const Y7=55296,$7=57343;function s2(n){const e=n.charCodeAt(0);return e>=Y7&&e<=$7}function Jh(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function K3(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="__name__";class Vo{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ct(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ct(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Vo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vo?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=Vo.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return Zt(e.length,t.length)}static compareSegments(e,t){const r=Vo.isNumericId(e),s=Vo.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Vo.extractNumericId(e).compare(Vo.extractNumericId(t)):gb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ou.fromString(e.substring(4,e.length-2))}}class zr extends Vo{construct(e,t,r){return new zr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(De.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new zr(t)}static emptyPath(){return new zr([])}}const J7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends Vo{construct(e,t,r){return new Hn(e,t,r)}static isValidIdentifier(e){return J7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wC}static keyField(){return new Hn([wC])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new st(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new st(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new st(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(i(),s++)}if(i(),l)throw new st(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(t)}static emptyPath(){return new Hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(zr.fromString(e))}static fromName(e){return new ct(zr.fromString(e).popFirst(5))}static empty(){return new ct(zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return zr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new zr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(n,e,t){if(!t)throw new st(De.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function W7(n,e,t,r){if(e===!0&&r===!0)throw new st(De.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vC(n){if(!ct.isDocumentKey(n))throw new st(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BC(n){if(ct.isDocumentKey(n))throw new st(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function q3(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Y1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ct(12329,{type:typeof n})}function Ra(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new st(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Y1(n);throw new st(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Z7(n,e){if(e<=0)throw new st(De.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(n,e){const t={typeString:n};return e&&(t.value=e),t}function Rg(n,e){if(!q3(n))throw new st(De.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&l!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new st(De.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=-62135596800,NC=1e6;class Wr{static now(){return Wr.fromMillis(Date.now())}static fromDate(e){return Wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*NC);return new Wr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new st(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new st(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<CC)throw new st(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NC}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rg(e,Wr._jsonSchema))return new Wr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wr._jsonSchemaVersion="firestore/timestamp/1.0",Wr._jsonSchema={type:bs("string",Wr._jsonSchemaVersion),seconds:bs("number"),nanoseconds:bs("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Wr(0,0))}static max(){return new Dt(new Wr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=-1;class A1{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function mb(n){return n.fields.find((e=>e.kind===2))}function Yu(n){return n.fields.filter((e=>e.kind!==2))}A1.UNKNOWN_ID=-1;class jp{constructor(e,t){this.fieldPath=e,this.kind=t}}class hg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new hg(0,Zi.min())}}function G3(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Dt.fromTimestamp(r===1e9?new Wr(t+1,0):new Wr(t,r));return new Zi(s,ct.empty(),e)}function X3(n){return new Zi(n.readTime,n.key,Wh)}class Zi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Zi(Dt.min(),ct.empty(),Wh)}static max(){return new Zi(Dt.max(),ct.empty(),Wh)}}function Vw(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ct.comparator(n.documentKey,e.documentKey),t!==0?t:Zt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(n){if(n.code!==De.FAILED_PRECONDITION||n.message!==Y3)throw n;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Se(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Se?t:Se.resolve(t)}catch(t){return Se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Se.reject(t)}static resolve(e){return new Se(((t,r)=>{t(e)}))}static reject(e){return new Se(((t,r)=>{r(e)}))}static waitFor(e){return new Se(((t,r)=>{let s=0,i=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++i,l&&i===s&&t()}),(h=>r(h)))})),l=!0,i===s&&t()}))}static or(e){let t=Se.resolve(!1);for(const r of e)t=t.next((s=>s?Se.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,i)=>{r.push(t.call(this,s,i))})),this.waitFor(r)}static mapArray(e,t){return new Se(((r,s)=>{const i=e.length,l=new Array(i);let u=0;for(let h=0;h<i;h++){const g=h;t(e[g]).next((p=>{l[g]=p,++u,u===i&&r(l)}),(p=>s(p)))}}))}static doWhile(e,t){return new Se(((r,s)=>{const i=()=>{e()===!0?t().next((()=>{i()}),s):r()};i()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="SimpleDb";class $1{static open(e,t,r,s){try{return new $1(t,e.transaction(s,r))}catch(i){throw new H0(t,i)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Wo,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new H0(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Kw(r.target.error);this.S.reject(new H0(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(We(Xi,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new tR(t)}}class lu{static delete(e){return We(Xi,"Removing database:",e),Wu(PE().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!jw())return!1;if(lu.F())return!0;const e=Qs(),t=lu.M(e),r=0<t&&t<10,s=J3(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,lu.M(Qs())===12.2&&ss("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(We(Xi,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const l=i.target.result;t(l)},s.onblocked=()=>{r(new H0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const l=i.target.error;l.name==="VersionError"?r(new st(De.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new st(De.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new H0(e,l))},s.onupgradeneeded=i=>{We(Xi,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const l=i.target.result;this.N.k(l,s.transaction,i.oldVersion,this.version).next((()=>{We(Xi,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const i=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=$1.open(this.db,e,i?"readonly":"readwrite",r),h=s(u).next((g=>(u.C(),g))).catch((g=>(u.abort(g),Se.reject(g)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,g=h.name!=="FirebaseError"&&l<3;if(We(Xi,"Transaction failed with error:",h.message,"Retrying:",g),this.close(),!g)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function J3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class eR{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Wu(this.U.delete())}}class H0 extends st{constructor(e,t){super(De.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Su(n){return n.name==="IndexedDbTransactionError"}class tR{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(We(Xi,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(We(Xi,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wu(r)}add(e){return We(Xi,"ADD",this.store.name,e,e),Wu(this.store.add(e))}get(e){return Wu(this.store.get(e)).next((t=>(t===void 0&&(t=null),We(Xi,"GET",this.store.name,e,t),t)))}delete(e){return We(Xi,"DELETE",this.store.name,e),Wu(this.store.delete(e))}count(){return We(Xi,"COUNT",this.store.name),Wu(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Se(((l,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{l(h.target.result)}}))}{const i=this.cursor(r),l=[];return this.H(i,((u,h)=>{l.push(h)})).next((()=>l))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new Se(((s,i)=>{r.onerror=l=>{i(l.target.error)},r.onsuccess=l=>{s(l.target.result)}}))}Z(e,t){We(Xi,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,((i,l,u)=>u.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}te(e){const t=this.cursor({});return new Se(((r,s)=>{t.onerror=i=>{const l=Kw(i.target.error);s(l)},t.onsuccess=i=>{const l=i.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():r()})):r()}}))}H(e,t){const r=[];return new Se(((s,i)=>{e.onerror=l=>{i(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void s();const h=new eR(u),g=t(u.primaryKey,u.value,h);if(g instanceof Se){const p=g.catch((x=>(h.done(),Se.reject(x))));r.push(p)}h.isDone?s():h.G===null?u.continue():u.continue(h.G)}})).next((()=>Se.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wu(n){return new Se(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=Kw(r.target.error);t(s)}}))}let _C=!1;function Kw(n){const e=lu.M(Qs());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _C||(_C=!0,setTimeout((()=>{throw r}),0)),r}}return n}const V0="IndexBackfiller";class rR{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){We(V0,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();We(V0,`Documents written: ${t}`)}catch(t){Su(t)?We(V0,"Ignoring IndexedDB error during index backfill: ",t):await Eu(t)}await this.re(6e4)}))}}class nR{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,i=!0;return Se.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return We(V0,`Processing collection: ${l}`),this.oe(e,l,s).next((u=>{s-=u,r.add(l)}));i=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((i=>{const l=i.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(s,i))).next((u=>(We(V0,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u)))).next((()=>l.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,i)=>{const l=X3(i);Vw(l,r)>0&&(r=l)})),new Zi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vi.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=-1;function J1(n){return n==null}function fg(n){return n===0&&1/n==-1/0}function W3(n){return typeof n=="number"&&Number.isInteger(n)&&!fg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="";function Da(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=EC(e)),e=sR(n.get(t),e);return EC(e)}function sR(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case o1:t+="";break;default:t+=i}}return t}function EC(n){return n+o1+""}function Go(n){const e=n.length;if(Qt(e>=2,64408,{path:n}),e===2)return Qt(n.charAt(0)===o1&&n.charAt(1)==="",56145,{path:n}),zr.emptyPath();const t=e-2,r=[];let s="";for(let i=0;i<e;){const l=n.indexOf(o1,i);switch((l<0||l>t)&&Ct(50515,{path:n}),n.charAt(l+1)){case"":const u=n.substring(i,l);let h;s.length===0?h=u:(s+=u,h=s,s=""),r.push(h);break;case"":s+=n.substring(i,l),s+="\0";break;case"":s+=n.substring(i,l+1);break;default:Ct(61167,{path:n})}i=l+2}return new zr(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u="remoteDocuments",Dg="owner",uh="owner",gg="mutationQueues",aR="userId",JA="mutations",SC="batchId",sd="userMutationsIndex",IC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n,e){return[n,Da(e)]}function Z3(n,e,t){return[n,Da(e),t]}const iR={},Zh="documentMutations",l1="remoteDocumentsV14",AR=["prefixPath","collectionGroup","readTime","documentId"],Fp="documentKeyIndex",oR=["prefixPath","collectionGroup","documentId"],eS="collectionGroupIndex",lR=["collectionGroup","readTime","prefixPath","documentId"],mg="remoteDocumentGlobal",pb="remoteDocumentGlobalKey",ef="targets",tS="queryTargetsIndex",cR=["canonicalId","targetId"],tf="targetDocuments",uR=["targetId","path"],zw="documentTargetsIndex",dR=["path","targetId"],c1="targetGlobalKey",od="targetGlobal",pg="collectionParents",hR=["collectionId","parent"],rf="clientMetadata",fR="clientId",W1="bundles",gR="bundleId",Z1="namedQueries",mR="name",qw="indexConfiguration",pR="indexId",xb="collectionGroupIndex",xR="collectionGroup",K0="indexState",yR=["indexId","uid"],rS="sequenceNumberIndex",bR=["uid","sequenceNumber"],z0="indexEntries",wR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nS="documentKeyIndex",vR=["indexId","uid","orderedDocumentKey"],ex="documentOverlays",BR=["userId","collectionPath","documentId"],yb="collectionPathOverlayIndex",CR=["userId","collectionPath","largestBatchId"],sS="collectionGroupOverlayIndex",NR=["userId","collectionGroup","largestBatchId"],Gw="globals",_R="name",aS=[gg,JA,Zh,$u,ef,Dg,od,tf,rf,mg,pg,W1,Z1],ER=[...aS,ex],iS=[gg,JA,Zh,l1,ef,Dg,od,tf,rf,mg,pg,W1,Z1,ex],AS=iS,Xw=[...AS,qw,K0,z0],SR=Xw,oS=[...Xw,Gw],IR=oS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb extends $3{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Ls(n,e){const t=It(n);return lu.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Iu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t){this.comparator=e,this.root=t||ca.EMPTY}insert(e,t){return new yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ca.BLACK,null,null))}remove(e){return new yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ca.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gm(this.root,e,this.comparator,!0)}}class Gm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ca{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??ca.RED,this.left=s??ca.EMPTY,this.right=i??ca.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new ca(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ca.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return ca.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ca.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ca.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ct(27949);return e+(this.isRed()?0:1)}}ca.EMPTY=null,ca.RED=!0,ca.BLACK=!1;ca.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new ca(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jC(this.data.getIterator())}getIteratorFrom(e){return new jC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new tn(this.comparator);return t.data=e,t}}class jC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dh(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.fields=e,e.sort(Hn.comparator)}static empty(){return new Bi([])}unionWith(e){let t=new tn(Hn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Bi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cS("Invalid base64 string: "+i):i}})(e);return new as(t)}static fromUint8Array(e){const t=(function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i})(e);return new as(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}as.EMPTY_BYTE_STRING=new as("");const TR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jl(n){if(Qt(!!n,39018),typeof n=="string"){let e=0;const t=TR.exec(n);if(Qt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ln(n.seconds),nanos:Ln(n.nanos)}}function Ln(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Wl(n){return typeof n=="string"?as.fromBase64String(n):as.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="server_timestamp",dS="__type__",hS="__previous_value__",fS="__local_write_time__";function Yw(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[dS])==null?void 0:r.stringValue)===uS}function tx(n){const e=n.mapValue.fields[hS];return Yw(e)?tx(e):e}function xg(n){const e=Jl(n.mapValue.fields[fS].timestampValue);return new Wr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,t,r,s,i,l,u,h,g,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=g,this.isUsingEmulator=p}}const u1="(default)";class xd{constructor(e,t){this.projectId=e,this.database=t||u1}static empty(){return new xd("","")}get isDefaultDatabase(){return this.database===u1}isEqual(e){return e instanceof xd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="__type__",gS="__max__",eu={mapValue:{fields:{__type__:{stringValue:gS}}}},Jw="__vector__",nf="value",Qp={nullValue:"NULL_VALUE"};function yu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yw(n)?4:mS(n)?9007199254740991:rx(n)?10:11:Ct(28295,{value:n})}function nl(n,e){if(n===e)return!0;const t=yu(n);if(t!==yu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xg(n).isEqual(xg(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=Jl(s.timestampValue),u=Jl(i.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,i){return Wl(s.bytesValue).isEqual(Wl(i.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,i){return Ln(s.geoPointValue.latitude)===Ln(i.geoPointValue.latitude)&&Ln(s.geoPointValue.longitude)===Ln(i.geoPointValue.longitude)})(n,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Ln(s.integerValue)===Ln(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=Ln(s.doubleValue),u=Ln(i.doubleValue);return l===u?fg(l)===fg(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return Jh(n.arrayValue.values||[],e.arrayValue.values||[],nl);case 10:case 11:return(function(s,i){const l=s.mapValue.fields||{},u=i.mapValue.fields||{};if(TC(l)!==TC(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!nl(l[h],u[h])))return!1;return!0})(n,e);default:return Ct(52216,{left:n})}}function yg(n,e){return(n.values||[]).find((t=>nl(t,e)))!==void 0}function bu(n,e){if(n===e)return 0;const t=yu(n),r=yu(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return(function(i,l){const u=Ln(i.integerValue||i.doubleValue),h=Ln(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(n,e);case 3:return UC(n.timestampValue,e.timestampValue);case 4:return UC(xg(n),xg(e));case 5:return gb(n.stringValue,e.stringValue);case 6:return(function(i,l){const u=Wl(i),h=Wl(l);return u.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(i,l){const u=i.split("/"),h=l.split("/");for(let g=0;g<u.length&&g<h.length;g++){const p=Zt(u[g],h[g]);if(p!==0)return p}return Zt(u.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(i,l){const u=Zt(Ln(i.latitude),Ln(l.latitude));return u!==0?u:Zt(Ln(i.longitude),Ln(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return FC(n.arrayValue,e.arrayValue);case 10:return(function(i,l){var B,C,U,E;const u=i.fields||{},h=l.fields||{},g=(B=u[nf])==null?void 0:B.arrayValue,p=(C=h[nf])==null?void 0:C.arrayValue,x=Zt(((U=g==null?void 0:g.values)==null?void 0:U.length)||0,((E=p==null?void 0:p.values)==null?void 0:E.length)||0);return x!==0?x:FC(g,p)})(n.mapValue,e.mapValue);case 11:return(function(i,l){if(i===eu.mapValue&&l===eu.mapValue)return 0;if(i===eu.mapValue)return 1;if(l===eu.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),g=l.fields||{},p=Object.keys(g);h.sort(),p.sort();for(let x=0;x<h.length&&x<p.length;++x){const B=gb(h[x],p[x]);if(B!==0)return B;const C=bu(u[h[x]],g[p[x]]);if(C!==0)return C}return Zt(h.length,p.length)})(n.mapValue,e.mapValue);default:throw Ct(23264,{he:t})}}function UC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Zt(n,e);const t=Jl(n),r=Jl(e),s=Zt(t.seconds,r.seconds);return s!==0?s:Zt(t.nanos,r.nanos)}function FC(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=bu(t[s],r[s]);if(i)return i}return Zt(t.length,r.length)}function sf(n){return wb(n)}function wb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Jl(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Wl(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ct.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=wb(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${wb(t.fields[l])}`;return s+"}"})(n.mapValue):Ct(61005,{value:n})}function Lp(n){switch(yu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tx(n);return e?16+Lp(e):16;case 5:return 2*n.stringValue.length;case 6:return Wl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Lp(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Iu(r.fields,((i,l)=>{s+=i.length+Lp(l)})),s})(n.mapValue);default:throw Ct(13486,{value:n})}}function bg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vb(n){return!!n&&"integerValue"in n}function wg(n){return!!n&&"arrayValue"in n}function QC(n){return!!n&&"nullValue"in n}function LC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kp(n){return!!n&&"mapValue"in n}function rx(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[$w])==null?void 0:r.stringValue)===Jw}function q0(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Iu(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=q0(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=q0(n.arrayValue.values[t]);return e}return{...n}}function mS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===gS}const pS={mapValue:{fields:{[$w]:{stringValue:Jw},[nf]:{arrayValue:{}}}}};function UR(n){return"nullValue"in n?Qp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?bg(xd.empty(),ct.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?rx(n)?pS:{mapValue:{}}:Ct(35942,{value:n})}function FR(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?bg(xd.empty(),ct.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?pS:"mapValue"in n?rx(n)?{mapValue:{}}:eu:Ct(61959,{value:n})}function kC(n,e){const t=bu(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function RC(n,e){const t=bu(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.value=e}static empty(){return new Qa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=q0(t)}setAll(e){let t=Hn.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=u.popLast()}l?r[u.lastSegment()]=q0(l):s.push(u.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());kp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];kp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Iu(t,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Qa(q0(this.value))}}function xS(n){const e=[];return Iu(n.fields,((t,r)=>{const s=new Hn([t]);if(kp(r)){const i=xS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)})),new Bi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t,r,s,i,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Xn(e,0,Dt.min(),Dt.min(),Dt.min(),Qa.empty(),0)}static newFoundDocument(e,t,r,s){return new Xn(e,1,t,Dt.min(),r,s,0)}static newNoDocument(e,t){return new Xn(e,2,t,Dt.min(),Dt.min(),Qa.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Dt.min(),Dt.min(),Qa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.position=e,this.inclusive=t}}function DC(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],l=n.position[s];if(i.field.isKeyField()?r=ct.comparator(ct.fromName(l.referenceValue),t.key):r=bu(l,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function OC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!nl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t="asc"){this.field=e,this.dir=t}}function QR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{}class _r extends yS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new LR(e,t,r):t==="array-contains"?new DR(e,r):t==="in"?new NS(e,r):t==="not-in"?new OR(e,r):t==="array-contains-any"?new MR(e,r):new _r(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new kR(e,r):new RR(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bu(t,this.value)):t!==null&&yu(this.value)===yu(t)&&this.matchesComparison(bu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zr extends yS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Zr(e,t)}matches(e){return Af(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Af(n){return n.op==="and"}function Bb(n){return n.op==="or"}function Ww(n){return bS(n)&&Af(n)}function bS(n){for(const e of n.filters)if(e instanceof Zr)return!1;return!0}function Cb(n){if(n instanceof _r)return n.field.canonicalString()+n.op.toString()+sf(n.value);if(Ww(n))return n.filters.map((e=>Cb(e))).join(",");{const e=n.filters.map((t=>Cb(t))).join(",");return`${n.op}(${e})`}}function wS(n,e){return n instanceof _r?(function(r,s){return s instanceof _r&&r.op===s.op&&r.field.isEqual(s.field)&&nl(r.value,s.value)})(n,e):n instanceof Zr?(function(r,s){return s instanceof Zr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,l,u)=>i&&wS(l,s.filters[u])),!0):!1})(n,e):void Ct(19439)}function vS(n,e){const t=n.filters.concat(e);return Zr.create(t,n.op)}function BS(n){return n instanceof _r?(function(t){return`${t.field.canonicalString()} ${t.op} ${sf(t.value)}`})(n):n instanceof Zr?(function(t){return t.op.toString()+" {"+t.getFilters().map(BS).join(" ,")+"}"})(n):"Filter"}class LR extends _r{constructor(e,t,r){super(e,t,r),this.key=ct.fromName(r.referenceValue)}matches(e){const t=ct.comparator(e.key,this.key);return this.matchesComparison(t)}}class kR extends _r{constructor(e,t){super(e,"in",t),this.keys=CS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class RR extends _r{constructor(e,t){super(e,"not-in",t),this.keys=CS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function CS(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>ct.fromName(r.referenceValue)))}class DR extends _r{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wg(t)&&yg(t.arrayValue,this.value)}}class NS extends _r{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yg(this.value.arrayValue,t)}}class OR extends _r{constructor(e,t){super(e,"not-in",t)}matches(e){if(yg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yg(this.value.arrayValue,t)}}class MR extends _r{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>yg(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,t=null,r=[],s=[],i=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=u,this.Te=null}}function Nb(n,e=null,t=[],r=[],s=null,i=null,l=null){return new PR(n,e,t,r,s,i,l)}function yd(n){const e=It(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Cb(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),J1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>sf(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>sf(r))).join(",")),e.Te=t}return e.Te}function Og(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OC(n.startAt,e.startAt)&&OC(n.endAt,e.endAt)}function d1(n){return ct.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function h1(n,e){return n.filters.filter((t=>t instanceof _r&&t.field.isEqual(e)))}function MC(n,e,t){let r=Qp,s=!0;for(const i of h1(n,e)){let l=Qp,u=!0;switch(i.op){case"<":case"<=":l=UR(i.value);break;case"==":case"in":case">=":l=i.value;break;case">":l=i.value,u=!1;break;case"!=":case"not-in":l=Qp}kC({value:r,inclusive:s},{value:l,inclusive:u})<0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];kC({value:r,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}function PC(n,e,t){let r=eu,s=!0;for(const i of h1(n,e)){let l=eu,u=!0;switch(i.op){case">=":case">":l=FR(i.value),u=!1;break;case"==":case"in":case"<=":l=i.value;break;case"<":l=i.value,u=!1;break;case"!=":case"not-in":l=eu}RC({value:r,inclusive:s},{value:l,inclusive:u})>0&&(r=l,s=u)}if(t!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(e)){const l=t.position[i];RC({value:r,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(r=l,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t=null,r=[],s=[],i=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _S(n,e,t,r,s,i,l,u){return new Nf(n,e,t,r,s,i,l,u)}function Mg(n){return new Nf(n)}function HC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ES(n){return n.collectionGroup!==null}function G0(n){const e=It(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new tn(Hn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((g=>{g.isInequality()&&(u=u.add(g.field))}))})),u})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new vg(i,r))})),t.has(Hn.keyField().canonicalString())||e.Ie.push(new vg(Hn.keyField(),r))}return e.Ie}function Ji(n){const e=It(n);return e.Ee||(e.Ee=HR(e,G0(n))),e.Ee}function HR(n,e){if(n.limitType==="F")return Nb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new vg(s.field,i)}));const t=n.endAt?new af(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new af(n.startAt.position,n.startAt.inclusive):null;return Nb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _b(n,e){const t=n.filters.concat([e]);return new Nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function f1(n,e,t){return new Nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nx(n,e){return Og(Ji(n),Ji(e))&&n.limitType===e.limitType}function SS(n){return`${yd(Ji(n))}|lt:${n.limitType}`}function _h(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>BS(s))).join(", ")}]`),J1(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>sf(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>sf(s))).join(",")),`Target(${r})`})(Ji(n))}; limitType=${n.limitType})`}function Pg(n,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ct.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,e)&&(function(r,s){for(const i of G0(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,h){const g=DC(l,u,h);return l.inclusive?g<=0:g<0})(r.startAt,G0(r),s)||r.endAt&&!(function(l,u,h){const g=DC(l,u,h);return l.inclusive?g>=0:g>0})(r.endAt,G0(r),s))})(n,e)}function IS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TS(n){return(e,t)=>{let r=!1;for(const s of G0(n)){const i=VR(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function VR(n,e,t){const r=n.field.isKeyField()?ct.comparator(e.key,t.key):(function(i,l,u){const h=l.data.field(i),g=u.data.field(i);return h!==null&&g!==null?bu(h,g):Ct(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ct(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Iu(this.inner,((t,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return lS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new yn(ct.comparator);function Yi(){return KR}const jS=new yn(ct.comparator);function I0(...n){let e=jS;for(const t of n)e=e.insert(t.key,t);return e}function US(n){let e=jS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Xo(){return X0()}function FS(){return X0()}function X0(){return new rc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const zR=new yn(ct.comparator),qR=new tn(ct.comparator);function gr(...n){let e=qR;for(const t of n)e=e.add(t);return e}const GR=new tn(Zt);function Zw(){return GR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fg(e)?"-0":e}}function QS(n){return{integerValue:""+n}}function LS(n,e){return W3(e)?QS(e):ev(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this._=void 0}}function XR(n,e,t){return n instanceof of?(function(s,i){const l={fields:{[dS]:{stringValue:uS},[fS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Yw(i)&&(i=tx(i)),i&&(l.fields[hS]=i),{mapValue:l}})(t,e):n instanceof lf?RS(n,e):n instanceof cf?DS(n,e):(function(s,i){const l=kS(s,i),u=VC(l)+VC(s.Ae);return vb(l)&&vb(s.Ae)?QS(u):ev(s.serializer,u)})(n,e)}function YR(n,e,t){return n instanceof lf?RS(n,e):n instanceof cf?DS(n,e):t}function kS(n,e){return n instanceof uf?(function(r){return vb(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class of extends sx{}class lf extends sx{constructor(e){super(),this.elements=e}}function RS(n,e){const t=OS(e);for(const r of n.elements)t.some((s=>nl(s,r)))||t.push(r);return{arrayValue:{values:t}}}class cf extends sx{constructor(e){super(),this.elements=e}}function DS(n,e){let t=OS(e);for(const r of n.elements)t=t.filter((s=>!nl(s,r)));return{arrayValue:{values:t}}}class uf extends sx{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function VC(n){return Ln(n.integerValue||n.doubleValue)}function OS(n){return wg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,t){this.field=e,this.transform=t}}function $R(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof lf&&s instanceof lf||r instanceof cf&&s instanceof cf?Jh(r.elements,s.elements,nl):r instanceof uf&&s instanceof uf?nl(r.Ae,s.Ae):r instanceof of&&s instanceof of})(n.transform,e.transform)}class JR{constructor(e,t){this.version=e,this.transformResults=t}}class Fs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fs}static exists(e){return new Fs(void 0,e)}static updateTime(e){return new Fs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ax{}function MS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hg(n.key,Fs.none()):new _f(n.key,n.data,Fs.none());{const t=n.data,r=Qa.empty();let s=new tn(Hn.comparator);for(let i of e.fields)if(!s.has(i)){let l=t.field(i);l===null&&i.length>1&&(i=i.popLast(),l=t.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new nc(n.key,r,new Bi(s.toArray()),Fs.none())}}function WR(n,e,t){n instanceof _f?(function(s,i,l){const u=s.value.clone(),h=zC(s.fieldTransforms,i,l.transformResults);u.setAll(h),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof nc?(function(s,i,l){if(!Rp(s.precondition,i))return void i.convertToUnknownDocument(l.version);const u=zC(s.fieldTransforms,i,l.transformResults),h=i.data;h.setAll(PS(s)),h.setAll(u),i.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Y0(n,e,t,r){return n instanceof _f?(function(i,l,u,h){if(!Rp(i.precondition,l))return u;const g=i.value.clone(),p=qC(i.fieldTransforms,h,l);return g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof nc?(function(i,l,u,h){if(!Rp(i.precondition,l))return u;const g=qC(i.fieldTransforms,h,l),p=l.data;return p.setAll(PS(i)),p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((x=>x.field)))})(n,e,t,r):(function(i,l,u){return Rp(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function ZR(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=kS(r.transform,s||null);i!=null&&(t===null&&(t=Qa.empty()),t.set(r.field,i))}return t||null}function KC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Jh(r,s,((i,l)=>$R(i,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class _f extends ax{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class nc extends ax{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function PS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function zC(n,e,t){const r=new Map;Qt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const i=n[s],l=i.transform,u=e.data.field(i.field);r.set(i.field,YR(l,u,t[s]))}return r}function qC(n,e,t){const r=new Map;for(const s of n){const i=s.transform,l=t.data.field(s.field);r.set(s.field,XR(i,l,e))}return r}class Hg extends ax{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HS extends ax{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&WR(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Y0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Y0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=FS();return this.mutations.forEach((s=>{const i=e.get(s.key),l=i.overlayedDocument;let u=this.applyToLocalView(l,i.mutatedFields);u=t.has(s.key)?null:u;const h=MS(l,u);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Dt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),gr())}isEqual(e){return this.batchId===e.batchId&&Jh(this.mutations,e.mutations,((t,r)=>KC(t,r)))&&Jh(this.baseMutations,e.baseMutations,((t,r)=>KC(t,r)))}}class nv{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Qt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return zR})();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new nv(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ps,Qr;function t9(n){switch(n){case De.OK:return Ct(64938);case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0;default:return Ct(15467,{code:n})}}function VS(n){if(n===void 0)return ss("GRPC error has no .code"),De.UNKNOWN;switch(n){case ps.OK:return De.OK;case ps.CANCELLED:return De.CANCELLED;case ps.UNKNOWN:return De.UNKNOWN;case ps.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case ps.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case ps.INTERNAL:return De.INTERNAL;case ps.UNAVAILABLE:return De.UNAVAILABLE;case ps.UNAUTHENTICATED:return De.UNAUTHENTICATED;case ps.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case ps.NOT_FOUND:return De.NOT_FOUND;case ps.ALREADY_EXISTS:return De.ALREADY_EXISTS;case ps.PERMISSION_DENIED:return De.PERMISSION_DENIED;case ps.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case ps.ABORTED:return De.ABORTED;case ps.OUT_OF_RANGE:return De.OUT_OF_RANGE;case ps.UNIMPLEMENTED:return De.UNIMPLEMENTED;case ps.DATA_LOSS:return De.DATA_LOSS;default:return Ct(39323,{code:n})}}(Qr=ps||(ps={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=new ou([4294967295,4294967295],0);function GC(n){const e=r9().encode(n),t=new R3;return t.update(e),new Uint8Array(t.digest())}function XC(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ou([t,r],0),new ou([s,i],0)]}class av{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new T0(`Invalid padding: ${t}`);if(r<0)throw new T0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new T0(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new T0(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ou.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(ou.fromNumber(r)));return s.compare(n9)===1&&(s=new ou([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=GC(e),[r,s]=XC(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new av(i,s,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=GC(e),[r,s]=XC(t);for(let i=0;i<this.hashCount;i++){const l=this.ye(r,s,i);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class T0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Kg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Vg(Dt.min(),s,new yn(Zt),Yi(),gr())}}class Kg{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Kg(r,t,gr(),gr(),gr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class KS{constructor(e,t){this.targetId=e,this.Ce=t}}class zS{constructor(e,t,r=as.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class YC{constructor(){this.ve=0,this.Fe=$C(),this.Me=as.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=gr(),t=gr(),r=gr();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ct(38017,{changeType:i})}})),new Kg(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=$C()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class s9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yi(),this.Je=Xm(),this.He=Xm(),this.Ye=new yn(Zt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ct(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(d1(i))if(r===0){const l=new ct(i.path);this.et(t,l,Xn.newNoDocument(l,Dt.min()))}else Qt(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(t);const g=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let l,u;try{l=Wl(r).toUint8Array()}catch(h){if(h instanceof cS)return dg("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new av(l,s,i)}catch(h){return dg(h instanceof T0?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((i=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(t,i,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((i,l)=>{const u=this.ot(l);if(u){if(i.current&&d1(u.target)){const h=new ct(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Xn.newNoDocument(h,e))}i.Be&&(t.set(l,i.ke()),i.qe())}}));let r=gr();this.He.forEach(((i,l)=>{let u=!0;l.forEachWhile((h=>{const g=this.ot(h);return!g||g.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,l)=>l.setReadTime(e)));const s=new Vg(e,t,this.Ye,this.je,r);return this.je=Yi(),this.Je=Xm(),this.He=Xm(),this.Ye=new yn(Zt),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new YC,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new tn(Zt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new tn(Zt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||We("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YC),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Xm(){return new yn(ct.comparator)}function $C(){return new yn(ct.comparator)}const a9={asc:"ASCENDING",desc:"DESCENDING"},i9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A9={and:"AND",or:"OR"};class o9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Eb(n,e){return n.useProto3Json||J1(e)?e:{value:e}}function df(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function l9(n,e){return df(n,e.toTimestamp())}function Za(n){return Qt(!!n,49232),Dt.fromTimestamp((function(t){const r=Jl(t);return new Wr(r.seconds,r.nanos)})(n))}function iv(n,e){return Sb(n,e).canonicalString()}function Sb(n,e){const t=(function(s){return new zr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function GS(n){const e=zr.fromString(n);return Qt(rI(e),10190,{key:e.toString()}),e}function g1(n,e){return iv(n.databaseId,e.path)}function ld(n,e){const t=GS(e);if(t.get(1)!==n.databaseId.projectId)throw new st(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new st(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ct($S(t))}function XS(n,e){return iv(n.databaseId,e)}function YS(n){const e=GS(n);return e.length===4?zr.emptyPath():$S(e)}function Ib(n){return new zr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $S(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function JC(n,e,t){return{name:g1(n,e),fields:t.value.mapValue.fields}}function c9(n,e,t){const r=ld(n,e.name),s=Za(e.updateTime),i=e.createTime?Za(e.createTime):Dt.min(),l=new Qa({mapValue:{fields:e.fields}}),u=Xn.newFoundDocument(r,s,i,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function u9(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ct(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(g,p){return g.useProto3Json?(Qt(p===void 0||typeof p=="string",58123),as.fromBase64String(p||"")):(Qt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),as.fromUint8Array(p||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(g){const p=g.code===void 0?De.UNKNOWN:VS(g.code);return new st(p,g.message||"")})(l);t=new zS(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ld(n,r.document.name),i=Za(r.document.updateTime),l=r.document.createTime?Za(r.document.createTime):Dt.min(),u=new Qa({mapValue:{fields:r.document.fields}}),h=Xn.newFoundDocument(s,i,l,u),g=r.targetIds||[],p=r.removedTargetIds||[];t=new Dp(g,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ld(n,r.document),i=r.readTime?Za(r.readTime):Dt.min(),l=Xn.newNoDocument(s,i),u=r.removedTargetIds||[];t=new Dp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ld(n,r.document),i=r.removedTargetIds||[];t=new Dp([],i,s,null)}else{if(!("filter"in e))return Ct(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,l=new e9(s,i),u=r.targetId;t=new KS(u,l)}}return t}function m1(n,e){let t;if(e instanceof _f)t={update:JC(n,e.key,e.value)};else if(e instanceof Hg)t={delete:g1(n,e.key)};else if(e instanceof nc)t={update:JC(n,e.key,e.data),updateMask:p9(e.fieldMask)};else{if(!(e instanceof HS))return Ct(16599,{Vt:e.type});t={verify:g1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(i,l){const u=l.transform;if(u instanceof of)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof lf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof cf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof uf)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ct(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:l9(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ct(27497)})(n,e.precondition)),t}function Tb(n,e){const t=e.currentDocument?(function(i){return i.updateTime!==void 0?Fs.updateTime(Za(i.updateTime)):i.exists!==void 0?Fs.exists(i.exists):Fs.none()})(e.currentDocument):Fs.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(l,u){let h=null;if("setToServerValue"in u)Qt(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),h=new of;else if("appendMissingElements"in u){const p=u.appendMissingElements.values||[];h=new lf(p)}else if("removeAllFromArray"in u){const p=u.removeAllFromArray.values||[];h=new cf(p)}else"increment"in u?h=new uf(l,u.increment):Ct(16584,{proto:u});const g=Hn.fromServerFormat(u.fieldPath);return new tv(g,h)})(n,s))):[];if(e.update){e.update.name;const s=ld(n,e.update.name),i=new Qa({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(h){const g=h.fieldPaths||[];return new Bi(g.map((p=>Hn.fromServerFormat(p))))})(e.updateMask);return new nc(s,i,l,t,r)}return new _f(s,i,t,r)}if(e.delete){const s=ld(n,e.delete);return new Hg(s,t)}if(e.verify){const s=ld(n,e.verify);return new HS(s,t)}return Ct(1463,{proto:e})}function d9(n,e){return n&&n.length>0?(Qt(e!==void 0,14353),n.map((t=>(function(s,i){let l=s.updateTime?Za(s.updateTime):Za(i);return l.isEqual(Dt.min())&&(l=Za(i)),new JR(l,s.transformResults||[])})(t,e)))):[]}function JS(n,e){return{documents:[XS(n,e.path)]}}function WS(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=XS(n,s);const i=(function(g){if(g.length!==0)return tI(Zr.create(g,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const l=(function(g){if(g.length!==0)return g.map((p=>(function(B){return{field:Eh(B.field),direction:f9(B.dir)}})(p)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Eb(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:s}}function ZS(n){let e=YS(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Qt(r===1,65062);const p=t.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];t.where&&(i=(function(x){const B=eI(x);return B instanceof Zr&&Ww(B)?B.getFilters():[B]})(t.where));let l=[];t.orderBy&&(l=(function(x){return x.map((B=>(function(U){return new vg(Sh(U.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(B)))})(t.orderBy));let u=null;t.limit&&(u=(function(x){let B;return B=typeof x=="object"?x.value:x,J1(B)?null:B})(t.limit));let h=null;t.startAt&&(h=(function(x){const B=!!x.before,C=x.values||[];return new af(C,B)})(t.startAt));let g=null;return t.endAt&&(g=(function(x){const B=!x.before,C=x.values||[];return new af(C,B)})(t.endAt)),_S(e,s,l,i,u,"F",h,g)}function h9(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eI(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Sh(t.unaryFilter.field);return _r.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Sh(t.unaryFilter.field);return _r.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Sh(t.unaryFilter.field);return _r.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Sh(t.unaryFilter.field);return _r.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}})(n):n.fieldFilter!==void 0?(function(t){return _r.create(Sh(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Zr.create(t.compositeFilter.filters.map((r=>eI(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}})(t.compositeFilter.op))})(n):Ct(30097,{filter:n})}function f9(n){return a9[n]}function g9(n){return i9[n]}function m9(n){return A9[n]}function Eh(n){return{fieldPath:n.canonicalString()}}function Sh(n){return Hn.fromServerFormat(n.fieldPath)}function tI(n){return n instanceof _r?(function(t){if(t.op==="=="){if(LC(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NAN"}};if(QC(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(LC(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NOT_NAN"}};if(QC(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eh(t.field),op:g9(t.op),value:t.value}}})(n):n instanceof Zr?(function(t){const r=t.getFilters().map((s=>tI(s)));return r.length===1?r[0]:{compositeFilter:{op:m9(t.op),filters:r}}})(n):Ct(54877,{filter:n})}function p9(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function rI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t,r,s,i=Dt.min(),l=Dt.min(),u=as.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.yt=e}}function x9(n,e){let t;if(e.document)t=c9(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ct.fromSegments(e.noDocument.path),s=wd(e.noDocument.readTime);t=Xn.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ct(56709);{const r=ct.fromSegments(e.unknownDocument.path),s=wd(e.unknownDocument.version);t=Xn.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const i=new Wr(s[0],s[1]);return Dt.fromTimestamp(i)})(e.readTime)),t}function WC(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:p1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(i,l){return{name:g1(i,l.key),fields:l.data.value.mapValue.fields,updateTime:df(i,l.version.toTimestamp()),createTime:df(i,l.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:bd(e.version)};else{if(!e.isUnknownDocument())return Ct(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:bd(e.version)}}return r}function p1(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function bd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wd(n){const e=new Wr(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function Zu(n,e){const t=(e.baseMutations||[]).map((i=>Tb(n.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const l=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>Tb(n.yt,i))),s=Wr.fromMillis(e.localWriteTimeMs);return new rv(e.batchId,s,t,r)}function j0(n){const e=wd(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?wd(n.lastLimboFreeSnapshotVersion):Dt.min();let r;return r=(function(i){return i.documents!==void 0})(n.query)?(function(i){const l=i.documents.length;return Qt(l===1,1966,{count:l}),Ji(Mg(YS(i.documents[0])))})(n.query):(function(i){return Ji(ZS(i))})(n.query),new Hl(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,as.fromBase64String(n.resumeToken))}function sI(n,e){const t=bd(e.snapshotVersion),r=bd(e.lastLimboFreeSnapshotVersion);let s;s=d1(e.target)?JS(n.yt,e.target):WS(n.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yd(e.target),readTime:t,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function aI(n){const e=ZS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?f1(e,e.limit,"L"):e}function a2(n,e){return new sv(e.largestBatchId,Tb(n.yt,e.overlayMutation))}function ZC(n,e){const t=e.path.lastSegment();return[n,Da(e.path.popLast()),t]}function eN(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:bd(r.readTime),documentKey:Da(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{getBundleMetadata(e,t){return tN(e).get(t).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:wd(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(e,t){return tN(e).put((function(s){return{bundleId:s.id,createTime:bd(Za(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return rN(e).get(t).next((r=>{if(r)return(function(i){return{name:i.name,query:aI(i.bundledQuery),readTime:wd(i.readTime)}})(r)}))}saveNamedQuery(e,t){return rN(e).put((function(s){return{name:s.name,readTime:bd(Za(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function tN(n){return Ls(n,W1)}function rN(n){return Ls(n,Z1)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new ix(e,r)}getOverlay(e,t){return f0(e).get(ZC(this.userId,t)).next((r=>r?a2(this.serializer,r):null))}getOverlays(e,t){const r=Xo();return Se.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((i,l)=>{const u=new sv(t,l);s.push(this.St(e,u))})),Se.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((l=>s.add(Da(l.getCollectionPath()))));const i=[];return s.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);i.push(f0(e).Z(yb,u))})),Se.waitFor(i)}getOverlaysForCollection(e,t,r){const s=Xo(),i=Da(t),l=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return f0(e).J(yb,l).next((u=>{for(const h of u){const g=a2(this.serializer,h);s.set(g.getKey(),g)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const i=Xo();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return f0(e).ee({index:sS,range:u},((h,g,p)=>{const x=a2(this.serializer,g);i.size()<s||x.largestBatchId===l?(i.set(x.getKey(),x),l=x.largestBatchId):p.done()})).next((()=>i))}St(e,t){return f0(e).put((function(s,i,l){const[u,h,g]=ZC(i,l.mutation.key);return{userId:i,collectionPath:h,documentId:g,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:m1(s.yt,l.mutation)}})(this.serializer,this.userId,t))}}function f0(n){return Ls(n,ex)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{bt(e){return Ls(e,Gw)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t==null?void 0:t.value;return r?as.fromUint8Array(r):as.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Ln(e.integerValue));else if("doubleValue"in e){const r=Ln(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),fg(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Jl(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Wl(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?mS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):rx(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Ct(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){var l,u;const r=e.fields||{};this.Ft(t,53);const s=nf,i=((u=(l=r[s].arrayValue)==null?void 0:l.values)==null?void 0:u.length)||0;this.Ft(t,15),t.Mt(Ln(i)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),ct.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ed.Kt=new ed;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=255;function w9(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function nN(n){const e=64-(function(r){let s=0;for(let i=0;i<8;++i){const l=w9(255&r[i]);if(s+=l,l!==8)break}return s})(n);return Math.ceil(e/8)}class v9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),r=nN(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=nN(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(hh),this.sn(255)}_n(){this.an(hh),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===hh?(this.sn(hh),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===hh?(this.an(hh),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class B9{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class C9{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class g0{constructor(){this.cn=new v9,this.ln=new B9(this.cn),this.hn=new C9(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t,r,s){this.Tn=e,this.In=t,this.En=r,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new td(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:Op(this.En),directionalValue:Op(this.dn),orderedDocumentKey:Op(t),documentKey:r.path.toArray()}}Vn(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Pc(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=sN(n.En,e.En),t!==0?t:(t=sN(n.dn,e.dn),t!==0?t:ct.comparator(n.In,e.In)))}function sN(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Op(n){return XE()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function aN(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class iN{constructor(e){this.mn=new tn(((t,r)=>Hn.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Qt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=mb(e);if(t!==void 0&&!this.wn(t))return!1;const r=Yu(e);let s=new Set,i=0,l=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const h=r[i];if(!this.Sn(u,h)||!this.bn(this.fn[l++],h))return!1}++i}for(;i<r.length;++i){const u=r[i];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new tn(Hn.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new jp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new jp(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new jp(r.field,r.dir==="asc"?0:1)));return new A1(A1.UNKNOWN_ID,this.collectionId,t,hg.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n){var t,r;if(Qt(n instanceof _r||n instanceof Zr,20012),n instanceof _r){if(n instanceof NS){const s=((r=(t=n.value.arrayValue)==null?void 0:t.values)==null?void 0:r.map((i=>_r.create(n.field,"==",i))))||[];return Zr.create(s,"or")}return n}const e=n.filters.map((s=>iI(s)));return Zr.create(e,n.op)}function N9(n){if(n.getFilters().length===0)return[];const e=Fb(iI(n));return Qt(AI(e),7391),jb(e)||Ub(e)?[e]:e.getFilters()}function jb(n){return n instanceof _r}function Ub(n){return n instanceof Zr&&Ww(n)}function AI(n){return jb(n)||Ub(n)||(function(t){if(t instanceof Zr&&Bb(t)){for(const r of t.getFilters())if(!jb(r)&&!Ub(r))return!1;return!0}return!1})(n)}function Fb(n){if(Qt(n instanceof _r||n instanceof Zr,34018),n instanceof _r)return n;if(n.filters.length===1)return Fb(n.filters[0]);const e=n.filters.map((r=>Fb(r)));let t=Zr.create(e,n.op);return t=x1(t),AI(t)?t:(Qt(t instanceof Zr,64498),Qt(Af(t),40251),Qt(t.filters.length>1,57927),t.filters.reduce(((r,s)=>Av(r,s))))}function Av(n,e){let t;return Qt(n instanceof _r||n instanceof Zr,38388),Qt(e instanceof _r||e instanceof Zr,25473),t=n instanceof _r?e instanceof _r?(function(s,i){return Zr.create([s,i],"and")})(n,e):AN(n,e):e instanceof _r?AN(e,n):(function(s,i){if(Qt(s.filters.length>0&&i.filters.length>0,48005),Af(s)&&Af(i))return vS(s,i.getFilters());const l=Bb(s)?s:i,u=Bb(s)?i:s,h=l.filters.map((g=>Av(g,u)));return Zr.create(h,"or")})(n,e),x1(t)}function AN(n,e){if(Af(e))return vS(e,n.getFilters());{const t=e.filters.map((r=>Av(n,r)));return Zr.create(t,"or")}}function x1(n){if(Qt(n instanceof _r||n instanceof Zr,11850),n instanceof _r)return n;const e=n.getFilters();if(e.length===1)return x1(e[0]);if(bS(n))return n;const t=e.map((s=>x1(s))),r=[];return t.forEach((s=>{s instanceof _r?r.push(s):s instanceof Zr&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:Zr.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(){this.Cn=new ov}addToCollectionParentIndex(e,t){return this.Cn.add(t),Se.resolve()}getCollectionParents(e,t){return Se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Se.resolve()}deleteFieldIndex(e,t){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,t){return Se.resolve()}getDocumentsMatchingTarget(e,t){return Se.resolve(null)}getIndexType(e,t){return Se.resolve(0)}getFieldIndexes(e,t){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,t){return Se.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,t){return Se.resolve(Zi.min())}updateCollectionGroup(e,t,r){return Se.resolve()}updateIndexEntries(e,t){return Se.resolve()}}class ov{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new tn(zr.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tn(zr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="IndexedDbIndexManager",Ym=new Uint8Array(0);class E9{constructor(e,t){this.databaseId=t,this.vn=new ov,this.Fn=new rc((r=>yd(r)),((r,s)=>Og(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const i={collectionId:r,parent:Da(s)};return lN(e).put(i)}return Se.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[K3(t),""],!1,!0);return lN(e).J(s).next((i=>{for(const l of i){if(l.collectionId!==t)break;r.push(Go(l.parent))}return r}))}addFieldIndex(e,t){const r=m0(e),s=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(t);delete s.indexId;const i=r.add(s);if(t.indexState){const l=gh(e);return i.next((u=>{l.put(eN(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const r=m0(e),s=gh(e),i=fh(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=m0(e),r=fh(e),s=gh(e);return t.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return Se.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new iN(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,t){const r=fh(e);let s=!0;const i=new Map;return Se.forEach(this.Mn(t),(l=>this.xn(e,l).next((u=>{s&&(s=!!u),i.set(l,u)})))).next((()=>{if(s){let l=gr();const u=[];return Se.forEach(i,((h,g)=>{We(oN,`Using index ${(function(K){return`id=${K.indexId}|cg=${K.collectionGroup}|f=${K.fields.map((Ae=>`${Ae.fieldPath}:${Ae.kind}`)).join(",")}`})(h)} to execute ${yd(t)}`);const p=(function(K,Ae){const ae=mb(Ae);if(ae===void 0)return null;for(const se of h1(K,ae.fieldPath))switch(se.op){case"array-contains-any":return se.value.arrayValue.values||[];case"array-contains":return[se.value]}return null})(g,h),x=(function(K,Ae){const ae=new Map;for(const se of Yu(Ae))for(const j of h1(K,se.fieldPath))switch(j.op){case"==":case"in":ae.set(se.fieldPath.canonicalString(),j.value);break;case"not-in":case"!=":return ae.set(se.fieldPath.canonicalString(),j.value),Array.from(ae.values())}return null})(g,h),B=(function(K,Ae){const ae=[];let se=!0;for(const j of Yu(Ae)){const S=j.kind===0?MC(K,j.fieldPath,K.startAt):PC(K,j.fieldPath,K.startAt);ae.push(S.value),se&&(se=S.inclusive)}return new af(ae,se)})(g,h),C=(function(K,Ae){const ae=[];let se=!0;for(const j of Yu(Ae)){const S=j.kind===0?PC(K,j.fieldPath,K.endAt):MC(K,j.fieldPath,K.endAt);ae.push(S.value),se&&(se=S.inclusive)}return new af(ae,se)})(g,h),U=this.On(h,g,B),E=this.On(h,g,C),P=this.Nn(h,g,x),F=this.Bn(h.indexId,p,U,B.inclusive,E,C.inclusive,P);return Se.forEach(F,(H=>r.Y(H,t.limit).next((K=>{K.forEach((Ae=>{const ae=ct.fromSegments(Ae.documentKey);l.has(ae)||(l=l.add(ae),u.push(ae))}))}))))})).next((()=>u))}return Se.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=N9(Zr.create(e.filters,"and")).map((r=>Nb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,s,i,l,u){const h=(t!=null?t.length:1)*Math.max(r.length,i.length),g=h/(t!=null?t.length:1),p=[];for(let x=0;x<h;++x){const B=t?this.Ln(t[x/g]):Ym,C=this.kn(e,B,r[x%g],s),U=this.qn(e,B,i[x%g],l),E=u.map((P=>this.kn(e,B,P,!0)));p.push(...this.createRange(C,U,E))}return p}kn(e,t,r,s){const i=new td(e,ct.empty(),t,r);return s?i:i.An()}qn(e,t,r,s){const i=new td(e,ct.empty(),t,r);return s?i.An():i}xn(e,t){const r=new iN(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let l=null;for(const u of i)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,t){let r=2;const s=this.Mn(t);return Se.forEach(s,(i=>this.xn(e,i).next((l=>{l?r!==0&&l.fields.length<(function(h){let g=new tn(Hn.comparator),p=!1;for(const x of h.filters)for(const B of x.getFlattenedFilters())B.field.isKeyField()||(B.op==="array-contains"||B.op==="array-contains-any"?p=!0:g=g.add(B.field));for(const x of h.orderBy)x.field.isKeyField()||(g=g.add(x.field));return g.size+(p?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(t)&&s.length>1&&r===2?1:r))}Qn(e,t){const r=new g0;for(const s of Yu(e)){const i=t.data.field(s.fieldPath);if(i==null)return null;const l=r.Pn(s.kind);ed.Kt.Dt(i,l)}return r.un()}Ln(e){const t=new g0;return ed.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new g0;return ed.Kt.Dt(bg(this.databaseId,t),r.Pn((function(i){const l=Yu(i);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let s=[];s.push(new g0);let i=0;for(const l of Yu(e)){const u=r[i++];for(const h of s)if(this.Un(t,l.fieldPath)&&wg(u))s=this.Kn(s,l,u);else{const g=h.Pn(l.kind);ed.Kt.Dt(u,g)}}return this.Wn(s)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const s=[...e],i=[];for(const l of r.arrayValue.values||[])for(const u of s){const h=new g0;h.seed(u.un()),ed.Kt.Dt(l,h.Pn(t.kind)),i.push(h)}return i}Un(e,t){return!!e.filters.find((r=>r instanceof _r&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=m0(e),s=gh(e);return(t?r.J(xb,IDBKeyRange.bound(t,t)):r.J()).next((i=>{const l=[];return Se.forEach(i,(u=>s.get([u.indexId,this.uid]).next((h=>{l.push((function(p,x){const B=x?new hg(x.sequenceNumber,new Zi(wd(x.readTime),new ct(Go(x.documentKey)),x.largestBatchId)):hg.empty(),C=p.fields.map((([U,E])=>new jp(Hn.fromServerFormat(U),E)));return new A1(p.indexId,p.collectionGroup,C,B)})(u,h))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Zt(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=m0(e),i=gh(e);return this.Gn(e).next((l=>s.J(xb,IDBKeyRange.bound(t,t)).next((u=>Se.forEach(u,(h=>i.put(eN(h.indexId,this.uid,l,r))))))))}updateIndexEntries(e,t){const r=new Map;return Se.forEach(t,((s,i)=>{const l=r.get(s.collectionGroup);return(l?Se.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Se.forEach(u,(h=>this.zn(e,s,h).next((g=>{const p=this.jn(i,h);return g.isEqual(p)?Se.resolve():this.Jn(e,i,h,g,p)})))))))}))}Hn(e,t,r,s){return fh(e).put(s.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,s){return fh(e).delete(s.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const s=fh(e);let i=new tn(Pc);return s.ee({index:nS,range:IDBKeyRange.only([r.indexId,this.uid,Op(this.$n(r,t))])},((l,u)=>{i=i.add(new td(r.indexId,t,aN(u.arrayValue),aN(u.directionalValue)))})).next((()=>i))}jn(e,t){let r=new tn(Pc);const s=this.Qn(t,e);if(s==null)return r;const i=mb(t);if(i!=null){const l=e.data.field(i.fieldPath);if(wg(l))for(const u of l.arrayValue.values||[])r=r.add(new td(t.indexId,e.key,this.Ln(u),s))}else r=r.add(new td(t.indexId,e.key,Ym,s));return r}Jn(e,t,r,s,i){We(oN,"Updating index entries for document '%s'",t.key);const l=[];return(function(h,g,p,x,B){const C=h.getIterator(),U=g.getIterator();let E=dh(C),P=dh(U);for(;E||P;){let F=!1,H=!1;if(E&&P){const K=p(E,P);K<0?H=!0:K>0&&(F=!0)}else E!=null?H=!0:F=!0;F?(x(P),P=dh(U)):H?(B(E),E=dh(C)):(E=dh(C),P=dh(U))}})(s,i,Pc,(u=>{l.push(this.Hn(e,t,r,u))}),(u=>{l.push(this.Yn(e,t,r,u))})),Se.waitFor(l)}Gn(e){let t=1;return gh(e).ee({index:rS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((l,u)=>Pc(l,u))).filter(((l,u,h)=>!u||Pc(l,h[u-1])!==0));const s=[];s.push(e);for(const l of r){const u=Pc(l,e),h=Pc(l,t);if(u===0)s[0]=e.An();else if(u>0&&h<0)s.push(l),s.push(l.An());else if(h>0)break}s.push(t);const i=[];for(let l=0;l<s.length;l+=2){if(this.Zn(s[l],s[l+1]))return[];const u=s[l].Vn(this.uid,Ym,ct.empty()),h=s[l+1].Vn(this.uid,Ym,ct.empty());i.push(IDBKeyRange.bound(u,h))}return i}Zn(e,t){return Pc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cN)}getMinOffset(e,t){return Se.mapArray(this.Mn(t),(r=>this.xn(e,r).next((s=>s||Ct(44426))))).next(cN)}}function lN(n){return Ls(n,pg)}function fh(n){return Ls(n,z0)}function m0(n){return Ls(n,qw)}function gh(n){return Ls(n,K0)}function cN(n){Qt(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;Vw(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Zi(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oI=41943040;class Ua{static withCacheSize(e){return new Ua(e,Ua.DEFAULT_COLLECTION_PERCENTILE,Ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(n,e,t){const r=n.store(JA),s=n.store(Zh),i=[],l=IDBKeyRange.only(t.batchId);let u=0;const h=r.ee({range:l},((p,x,B)=>(u++,B.delete())));i.push(h.next((()=>{Qt(u===1,47070,{batchId:t.batchId})})));const g=[];for(const p of t.mutations){const x=Z3(e,p.key.path,t.batchId);i.push(s.delete(x)),g.push(p.key)}return Se.waitFor(i).next((()=>g))}function y1(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ct(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ua.DEFAULT_COLLECTION_PERCENTILE=10,Ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ua.DEFAULT=new Ua(oI,Ua.DEFAULT_COLLECTION_PERCENTILE,Ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ua.DISABLED=new Ua(-1,0,0);class Ax{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,t,r,s){Qt(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new Ax(i,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hc(e).ee({index:sd,range:r},((s,i,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const i=Ih(e),l=Hc(e);return l.add({}).next((u=>{Qt(typeof u=="number",49019);const h=new rv(u,t,r,s),g=(function(C,U,E){const P=E.baseMutations.map((H=>m1(C.yt,H))),F=E.mutations.map((H=>m1(C.yt,H)));return{userId:U,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:P,mutations:F}})(this.serializer,this.userId,h),p=[];let x=new tn(((B,C)=>Zt(B.canonicalString(),C.canonicalString())));for(const B of s){const C=Z3(this.userId,B.key.path,u);x=x.add(B.key.path.popLast()),p.push(l.put(g)),p.push(i.put(C,iR))}return x.forEach((B=>{p.push(this.indexManager.addToCollectionParentIndex(e,B))})),e.addOnCommittedListener((()=>{this.Xn[u]=h.keys()})),Se.waitFor(p).next((()=>h))}))}lookupMutationBatch(e,t){return Hc(e).get(t).next((r=>r?(Qt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Zu(this.serializer,r)):null))}er(e,t){return this.Xn[t]?Se.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Hc(e).ee({index:sd,range:s},((l,u,h)=>{u.userId===this.userId&&(Qt(u.batchId>=r,47524,{tr:r}),i=Zu(this.serializer,u)),h.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ad;return Hc(e).ee({index:sd,range:t,reverse:!0},((s,i,l)=>{r=i.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ad],[this.userId,Number.POSITIVE_INFINITY]);return Hc(e).J(sd,t).next((r=>r.map((s=>Zu(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Up(this.userId,t.path),s=IDBKeyRange.lowerBound(r),i=[];return Ih(e).ee({range:s},((l,u,h)=>{const[g,p,x]=l,B=Go(p);if(g===this.userId&&t.path.isEqual(B))return Hc(e).get(x).next((C=>{if(!C)throw Ct(61480,{nr:l,batchId:x});Qt(C.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:C.userId,batchId:x}),i.push(Zu(this.serializer,C))}));h.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tn(Zt);const s=[];return t.forEach((i=>{const l=Up(this.userId,i.path),u=IDBKeyRange.lowerBound(l),h=Ih(e).ee({range:u},((g,p,x)=>{const[B,C,U]=g,E=Go(C);B===this.userId&&i.path.isEqual(E)?r=r.add(U):x.done()}));s.push(h)})),Se.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,i=Up(this.userId,r),l=IDBKeyRange.lowerBound(i);let u=new tn(Zt);return Ih(e).ee({range:l},((h,g,p)=>{const[x,B,C]=h,U=Go(B);x===this.userId&&r.isPrefixOf(U)?U.length===s&&(u=u.add(C)):p.done()})).next((()=>this.rr(e,u)))}rr(e,t){const r=[],s=[];return t.forEach((i=>{s.push(Hc(e).get(i).next((l=>{if(l===null)throw Ct(35274,{batchId:i});Qt(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:i}),r.push(Zu(this.serializer,l))})))})),Se.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return lI(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Se.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Se.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),s=[];return Ih(e).ee({range:r},((i,l,u)=>{if(i[0]===this.userId){const h=Go(i[1]);s.push(h)}else u.done()})).next((()=>{Qt(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,t){return cI(e,this.userId,t)}_r(e){return uI(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ad,lastStreamToken:""}))}}function cI(n,e,t){const r=Up(e,t.path),s=r[1],i=IDBKeyRange.lowerBound(r);let l=!1;return Ih(n).ee({range:i,X:!0},((u,h,g)=>{const[p,x,B]=u;p===e&&x===s&&(l=!0),g.done()})).next((()=>l))}function Hc(n){return Ls(n,JA)}function Ih(n){return Ls(n,Zh)}function uI(n){return Ls(n,gg)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vd(0)}static cr(){return new vd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new vd(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Dt.fromTimestamp(new Wr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>mh(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Qt(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let s=0;const i=[];return mh(e).ee(((l,u)=>{const h=j0(u);h.sequenceNumber<=t&&r.get(h.targetId)===null&&(s++,i.push(this.removeTargetData(e,h)))})).next((()=>Se.waitFor(i))).next((()=>s))}forEachTarget(e,t){return mh(e).ee(((r,s)=>{const i=j0(s);t(i)}))}lr(e){return dN(e).get(c1).next((t=>(Qt(t!==null,2888),t)))}hr(e,t){return dN(e).put(c1,t)}Pr(e,t){return mh(e).put(sI(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=yd(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return mh(e).ee({range:s,index:tS},((l,u,h)=>{const g=j0(u);Og(t,g.target)&&(i=g,h.done())})).next((()=>i))}addMatchingKeys(e,t,r){const s=[],i=Zc(e);return t.forEach((l=>{const u=Da(l.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,l))})),Se.waitFor(s)}removeMatchingKeys(e,t,r){const s=Zc(e);return Se.forEach(t,(i=>{const l=Da(i.path);return Se.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,t){const r=Zc(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Zc(e);let i=gr();return s.ee({range:r,X:!0},((l,u,h)=>{const g=Go(l[1]),p=new ct(g);i=i.add(p)})).next((()=>i))}containsKey(e,t){const r=Da(t.path),s=IDBKeyRange.bound([r],[K3(r)],!1,!0);let i=0;return Zc(e).ee({index:zw,X:!0,range:s},(([l,u],h,g)=>{l!==0&&(i++,g.done())})).next((()=>i>0))}At(e,t){return mh(e).get(t).next((r=>r?j0(r):null))}}function mh(n){return Ls(n,ef)}function dN(n){return Ls(n,od)}function Zc(n){return Ls(n,tf)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="LruGarbageCollector",dI=1048576;function fN([n,e],[t,r]){const s=Zt(n,t);return s===0?Zt(e,r):s}class I9{constructor(e){this.Ir=e,this.buffer=new tn(fN),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();fN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){We(hN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Su(t)?We(hN,"Ignoring IndexedDB error during garbage collection: ",t):await Eu(t)}await this.Vr(3e5)}))}}class T9{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Se.resolve(vi.ce);const r=new I9(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(We("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(uN)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uN):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,i,l,u,h,g;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,l=Date.now(),this.nthSequenceNumber(e,s)))).next((x=>(r=x,u=Date.now(),this.removeTargets(e,r,t)))).next((x=>(i=x,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(g=Date.now(),Nh()<=Nr.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${i} targets in `+(h-u)+`ms
	Removed ${x} documents in `+(g-h)+`ms
Total Duration: ${g-p}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:x}))))}}function fI(n,e){return new T9(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,t){this.db=e,this.garbageCollector=fI(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,s)=>t(s)))}addReference(e,t,r){return $m(e,r)}removeReference(e,t,r){return $m(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return $m(e,t)}br(e,t){return(function(s,i){let l=!1;return uI(s).te((u=>cI(s,u,i).next((h=>(h&&(l=!0),Se.resolve(!h)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((l,u)=>{if(u<=t){const h=this.br(e,l).next((g=>{if(!g)return i++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Dt.min()),Zc(e).delete((function(x){return[0,Da(x.path)]})(l)))))}));s.push(h)}})).next((()=>Se.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return $m(e,t)}Sr(e,t){const r=Zc(e);let s,i=vi.ce;return r.ee({index:zw},(([l,u],{path:h,sequenceNumber:g})=>{l===0?(i!==vi.ce&&t(new ct(Go(s)),i),i=g,s=h):i=vi.ce})).next((()=>{i!==vi.ce&&t(new ct(Go(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $m(n,e){return Zc(n).put((function(r,s){return{targetId:0,path:Da(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.changes=new rc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return zu(e).put(r)}removeEntry(e,t,r){return zu(e).delete((function(i,l){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],p1(l),u[u.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=Xn.newInvalidDocument(t);return zu(e).ee({index:Fp,range:IDBKeyRange.only(p0(t))},((s,i)=>{r=this.Cr(t,i)})).next((()=>r))}vr(e,t){let r={size:0,document:Xn.newInvalidDocument(t)};return zu(e).ee({index:Fp,range:IDBKeyRange.only(p0(t))},((s,i)=>{r={document:this.Cr(t,i),size:y1(i)}})).next((()=>r))}getEntries(e,t){let r=Yi();return this.Fr(e,t,((s,i)=>{const l=this.Cr(s,i);r=r.insert(s,l)})).next((()=>r))}Mr(e,t){let r=Yi(),s=new yn(ct.comparator);return this.Fr(e,t,((i,l)=>{const u=this.Cr(i,l);r=r.insert(i,u),s=s.insert(i,y1(l))})).next((()=>({documents:r,Or:s})))}Fr(e,t,r){if(t.isEmpty())return Se.resolve();let s=new tn(pN);t.forEach((h=>s=s.add(h)));const i=IDBKeyRange.bound(p0(s.first()),p0(s.last())),l=s.getIterator();let u=l.getNext();return zu(e).ee({index:Fp,range:i},((h,g,p)=>{const x=ct.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;u&&pN(u,x)<0;)r(u,null),u=l.getNext();u&&u.isEqual(x)&&(r(u,g),u=l.hasNext()?l.getNext():null),u?p.j(p0(u)):p.done()})).next((()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,i){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),p1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zu(e).J(IDBKeyRange.bound(u,h,!0)).next((g=>{i==null||i.incrementDocumentReadCount(g.length);let p=Yi();for(const x of g){const B=this.Cr(ct.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);B.isFoundDocument()&&(Pg(t,B)||s.has(B.key))&&(p=p.insert(B.key,B))}return p}))}getAllFromCollectionGroup(e,t,r,s){let i=Yi();const l=mN(t,r),u=mN(t,Zi.max());return zu(e).ee({index:eS,range:IDBKeyRange.bound(l,u,!0)},((h,g,p)=>{const x=this.Cr(ct.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);i=i.insert(x.key,x),i.size===s&&p.done()})).next((()=>i))}newChangeBuffer(e){return new F9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return gN(e).get(pb).next((t=>(Qt(!!t,20021),t)))}Dr(e,t){return gN(e).put(pb,t)}Cr(e,t){if(t){const r=x9(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Dt.min())))return r}return Xn.newInvalidDocument(e)}}function mI(n){return new U9(n)}class F9 extends gI{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new rc((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new tn(((i,l)=>Zt(i.canonicalString(),l.canonicalString())));return this.changes.forEach(((i,l)=>{const u=this.Br.get(i);if(t.push(this.Nr.removeEntry(e,i,u.readTime)),l.isValidDocument()){const h=WC(this.Nr.serializer,l);s=s.add(i.path.popLast());const g=y1(h);r+=g-u.size,t.push(this.Nr.addEntry(e,i,h))}else if(r-=u.size,this.trackRemovals){const h=WC(this.Nr.serializer,l.convertToNoDocument(Dt.min()));t.push(this.Nr.addEntry(e,i,h))}})),s.forEach((i=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),t.push(this.Nr.updateMetadata(e,r)),Se.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:s})=>(s.forEach(((i,l)=>{this.Br.set(i,{size:l,readTime:r.get(i).readTime})})),r)))}}function gN(n){return Ls(n,mg)}function zu(n){return Ls(n,l1)}function p0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mN(n,e){const t=e.documentKey.path.toArray();return[n,p1(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pN(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<t.length-2&&i<r.length-2;++i)if(s=Zt(t[i],r[i]),s)return s;return s=Zt(t.length,r.length),s||(s=Zt(t[t.length-2],r[r.length-2]),s||Zt(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Y0(r.mutation,s,Bi.empty(),Wr.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,gr()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=gr()){const s=Xo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((i=>{let l=I0();return i.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Xo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,gr())))}populateOverlays(e,t,r){const s=[];return r.forEach((i=>{t.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,s){let i=Yi();const l=X0(),u=(function(){return X0()})();return t.forEach(((h,g)=>{const p=r.get(g.key);s.has(g.key)&&(p===void 0||p.mutation instanceof nc)?i=i.insert(g.key,g):p!==void 0?(l.set(g.key,p.mutation.getFieldMask()),Y0(p.mutation,g,p.mutation.getFieldMask(),Wr.now())):l.set(g.key,Bi.empty())})),this.recalculateAndSaveOverlays(e,i).next((h=>(h.forEach(((g,p)=>l.set(g,p))),t.forEach(((g,p)=>u.set(g,new Q9(p,l.get(g)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=X0();let s=new yn(((l,u)=>l-u)),i=gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((h=>{const g=t.get(h);if(g===null)return;let p=r.get(h)||Bi.empty();p=u.applyToLocalView(g,p),r.set(h,p);const x=(s.get(u.batchId)||gr()).add(h);s=s.insert(u.batchId,x)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),g=h.key,p=h.value,x=FS();p.forEach((B=>{if(!i.has(B)){const C=MS(t.get(B),r.get(B));C!==null&&x.set(B,C),i=i.add(B)}})),l.push(this.documentOverlayCache.saveOverlays(e,g,x))}return Se.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return ct.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ES(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):Se.resolve(Xo());let u=Wh,h=i;return l.next((g=>Se.forEach(g,((p,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),i.get(p)?Se.resolve():this.remoteDocumentCache.getEntry(e,p).next((B=>{h=h.insert(p,B)}))))).next((()=>this.populateOverlays(e,g,i))).next((()=>this.computeViews(e,h,g,gr()))).next((p=>({batchId:u,changes:US(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ct(t)).next((r=>{let s=I0();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let l=I0();return this.indexManager.getCollectionParents(e,i).next((u=>Se.forEach(u,(h=>{const g=(function(x,B){return new Nf(B,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,g,r,s).next((p=>{p.forEach(((x,B)=>{l=l.insert(x,B)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s)))).next((l=>{i.forEach(((h,g)=>{const p=g.getKey();l.get(p)===null&&(l=l.insert(p,Xn.newInvalidDocument(p)))}));let u=I0();return l.forEach(((h,g)=>{const p=i.get(h);p!==void 0&&Y0(p.mutation,g,Bi.empty(),Wr.now()),Pg(t,g)&&(u=u.insert(h,g))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Za(s.createTime)}})(t)),Se.resolve()}getNamedQuery(e,t){return Se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:aI(s.bundledQuery),readTime:Za(s.readTime)}})(t)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.overlays=new yn(ct.comparator),this.qr=new Map}getOverlay(e,t){return Se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xo();return Se.forEach(t,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,i)=>{this.St(e,t,i)})),Se.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Se.resolve()}getOverlaysForCollection(e,t,r){const s=Xo(),i=t.length+1,l=new ct(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,g=h.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===i&&h.largestBatchId>r&&s.set(h.getKey(),h)}return Se.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new yn(((g,p)=>g-p));const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let p=i.get(g.largestBatchId);p===null&&(p=Xo(),i=i.insert(g.largestBatchId,p)),p.set(g.getKey(),g)}}const u=Xo(),h=i.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((g,p)=>u.set(g,p))),!(u.size()>=s)););return Se.resolve(u)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new sv(t,r));let i=this.qr.get(t);i===void 0&&(i=gr(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(){this.sessionToken=as.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.Qr=new tn(qs.$r),this.Ur=new tn(qs.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new qs(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new qs(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ct(new zr([])),r=new qs(t,e),s=new qs(t,e+1),i=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),i.push(l.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ct(new zr([])),r=new qs(t,e),s=new qs(t,e+1);let i=gr();return this.Ur.forEachInRange([r,s],(l=>{i=i.add(l.key)})),i}containsKey(e){const t=new qs(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class qs{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ct.comparator(e.key,t.key)||Zt(e.Yr,t.Yr)}static Kr(e,t){return Zt(e.Yr,t.Yr)||ct.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new tn(qs.$r)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new rv(i,t,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new qs(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Se.resolve(l)}lookupMutationBatch(e,t){return Se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),i=s<0?0:s;return Se.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?Ad:this.tr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new qs(t,0),s=new qs(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);i.push(u)})),Se.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tn(Zt);return t.forEach((s=>{const i=new qs(s,0),l=new qs(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,l],(u=>{r=r.add(u.Yr)}))})),Se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;ct.isDocumentKey(i)||(i=i.child(""));const l=new qs(new ct(i),0);let u=new tn(Zt);return this.Zr.forEachWhile((h=>{const g=h.key.path;return!!r.isPrefixOf(g)&&(g.length===s&&(u=u.add(h.Yr)),!0)}),l),Se.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Qt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Se.forEach(t.mutations,(s=>{const i=new qs(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new qs(t,0),s=this.Zr.firstAfterOrEqual(r);return Se.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.ri=e,this.docs=(function(){return new yn(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Se.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=Yi();return t.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Xn.newInvalidDocument(s))})),Se.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=Yi();const l=t.path,u=new ct(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:g,value:{document:p}}=h.getNext();if(!l.isPrefixOf(g.path))break;g.path.length>l.length+1||Vw(X3(p),r)<=0||(s.has(p.key)||Pg(t,p))&&(i=i.insert(p.key,p.mutableCopy()))}return Se.resolve(i)}getAllFromCollectionGroup(e,t,r,s){Ct(9500)}ii(e,t){return Se.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new M9(this)}getSize(e){return Se.resolve(this.size)}}class M9 extends gI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.persistence=e,this.si=new rc((t=>yd(t)),Og),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.oi=0,this._i=new lv,this.targetCount=0,this.ai=vd.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new vd(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Se.resolve()}updateTargetData(e,t){return this.Pr(t),Se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Se.waitFor(i).next((()=>s))}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Se.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Se.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach((l=>{i.push(s.markPotentiallyOrphaned(e,l))})),Se.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Se.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Se.resolve(r)}containsKey(e,t){return Se.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t){this.ui={},this.overlays={},this.ci=new vi(0),this.li=!1,this.li=!0,this.hi=new R9,this.referenceDelegate=e(this),this.Pi=new P9(this),this.indexManager=new _9,this.remoteDocumentCache=(function(s){return new O9(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new nI(t),this.Ii=new L9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new k9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new D9(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){We("MemoryPersistence","Starting transaction:",e);const s=new H9(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,t){return Se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class H9 extends $3{constructor(e){super(),this.currentSequenceNumber=e}}class ox{constructor(e){this.persistence=e,this.Ri=new lv,this.Vi=null}static mi(e){return new ox(e)}get fi(){if(this.Vi)return this.Vi;throw Ct(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Se.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.fi,(r=>{const s=ct.fromPath(r);return this.gi(e,s).next((i=>{i||t.removeEntry(s,Dt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Se.or([()=>Se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class b1{constructor(e,t){this.persistence=e,this.pi=new rc((r=>Da(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=fI(this,t)}static mi(e,t){return new b1(e,t)}Ei(){}di(e){return Se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Se.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Se.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,i.removeEntry(l,Dt.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lp(e.data.value)),t}br(e,t,r){return Se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.serializer=e}k(e,t,r,s){const i=new $1("createOrUpgrade",t);r<1&&s>=1&&((function(h){h.createObjectStore(Dg)})(e),(function(h){h.createObjectStore(gg,{keyPath:aR}),h.createObjectStore(JA,{keyPath:SC,autoIncrement:!0}).createIndex(sd,IC,{unique:!0}),h.createObjectStore(Zh)})(e),xN(e),(function(h){h.createObjectStore($u)})(e));let l=Se.resolve();return r<3&&s>=3&&(r!==0&&((function(h){h.deleteObjectStore(tf),h.deleteObjectStore(ef),h.deleteObjectStore(od)})(e),xN(e)),l=l.next((()=>(function(h){const g=h.store(od),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return g.put(c1,p)})(i)))),r<4&&s>=4&&(r!==0&&(l=l.next((()=>(function(h,g){return g.store(JA).J().next((x=>{h.deleteObjectStore(JA),h.createObjectStore(JA,{keyPath:SC,autoIncrement:!0}).createIndex(sd,IC,{unique:!0});const B=g.store(JA),C=x.map((U=>B.put(U)));return Se.waitFor(C)}))})(e,i)))),l=l.next((()=>{(function(h){h.createObjectStore(rf,{keyPath:fR})})(e)}))),r<5&&s>=5&&(l=l.next((()=>this.yi(i)))),r<6&&s>=6&&(l=l.next((()=>((function(h){h.createObjectStore(mg)})(e),this.wi(i))))),r<7&&s>=7&&(l=l.next((()=>this.Si(i)))),r<8&&s>=8&&(l=l.next((()=>this.bi(e,i)))),r<9&&s>=9&&(l=l.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(l=l.next((()=>this.Di(i)))),r<11&&s>=11&&(l=l.next((()=>{(function(h){h.createObjectStore(W1,{keyPath:gR})})(e),(function(h){h.createObjectStore(Z1,{keyPath:mR})})(e)}))),r<12&&s>=12&&(l=l.next((()=>{(function(h){const g=h.createObjectStore(ex,{keyPath:BR});g.createIndex(yb,CR,{unique:!1}),g.createIndex(sS,NR,{unique:!1})})(e)}))),r<13&&s>=13&&(l=l.next((()=>(function(h){const g=h.createObjectStore(l1,{keyPath:AR});g.createIndex(Fp,oR),g.createIndex(eS,lR)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore($u)))),r<14&&s>=14&&(l=l.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(l=l.next((()=>(function(h){h.createObjectStore(qw,{keyPath:pR,autoIncrement:!0}).createIndex(xb,xR,{unique:!1}),h.createObjectStore(K0,{keyPath:yR}).createIndex(rS,bR,{unique:!1}),h.createObjectStore(z0,{keyPath:wR}).createIndex(nS,vR,{unique:!1})})(e)))),r<16&&s>=16&&(l=l.next((()=>{t.objectStore(K0).clear()})).next((()=>{t.objectStore(z0).clear()}))),r<17&&s>=17&&(l=l.next((()=>{(function(h){h.createObjectStore(Gw,{keyPath:_R})})(e)}))),r<18&&s>=18&&XE()&&(l=l.next((()=>{t.objectStore(K0).clear()})).next((()=>{t.objectStore(z0).clear()}))),l}wi(e){let t=0;return e.store($u).ee(((r,s)=>{t+=y1(s)})).next((()=>{const r={byteSize:t};return e.store(mg).put(pb,r)}))}yi(e){const t=e.store(gg),r=e.store(JA);return t.J().next((s=>Se.forEach(s,(i=>{const l=IDBKeyRange.bound([i.userId,Ad],[i.userId,i.lastAcknowledgedBatchId]);return r.J(sd,l).next((u=>Se.forEach(u,(h=>{Qt(h.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const g=Zu(this.serializer,h);return lI(e,i.userId,g).next((()=>{}))}))))}))))}Si(e){const t=e.store(tf),r=e.store($u);return e.store(od).get(c1).next((s=>{const i=[];return r.ee(((l,u)=>{const h=new zr(l),g=(function(x){return[0,Da(x)]})(h);i.push(t.get(g).next((p=>p?Se.resolve():(x=>t.put({targetId:0,path:Da(x),sequenceNumber:s.highestListenSequenceNumber}))(h))))})).next((()=>Se.waitFor(i)))}))}bi(e,t){e.createObjectStore(pg,{keyPath:hR});const r=t.store(pg),s=new ov,i=l=>{if(s.add(l)){const u=l.lastSegment(),h=l.popLast();return r.put({collectionId:u,parent:Da(h)})}};return t.store($u).ee({X:!0},((l,u)=>{const h=new zr(l);return i(h.popLast())})).next((()=>t.store(Zh).ee({X:!0},(([l,u,h],g)=>{const p=Go(u);return i(p.popLast())}))))}Di(e){const t=e.store(ef);return t.ee(((r,s)=>{const i=j0(s),l=sI(this.serializer,i);return t.put(l)}))}Ci(e,t){const r=t.store($u),s=[];return r.ee(((i,l)=>{const u=t.store(l1),h=(function(x){return x.document?new ct(zr.fromString(x.document.name).popFirst(5)):x.noDocument?ct.fromSegments(x.noDocument.path):x.unknownDocument?ct.fromSegments(x.unknownDocument.path):Ct(36783)})(l).path.toArray(),g={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(u.put(g))})).next((()=>Se.waitFor(s)))}Fi(e,t){const r=t.store(JA),s=mI(this.serializer),i=new cv(ox.mi,this.serializer.yt);return r.J().next((l=>{const u=new Map;return l.forEach((h=>{let g=u.get(h.userId)??gr();Zu(this.serializer,h).keys().forEach((p=>g=g.add(p))),u.set(h.userId,g)})),Se.forEach(u,((h,g)=>{const p=new ja(g),x=ix.wt(this.serializer,p),B=i.getIndexManager(p),C=Ax.wt(p,this.serializer,B,i.referenceDelegate);return new pI(s,C,x,B).recalculateAndSaveOverlaysForDocumentKeys(new bb(t,vi.ce),h).next()}))}))}}function xN(n){n.createObjectStore(tf,{keyPath:uR}).createIndex(zw,dR,{unique:!0}),n.createObjectStore(ef,{keyPath:"targetId"}).createIndex(tS,cR,{unique:!0}),n.createObjectStore(od)}const Vc="IndexedDbPersistence",i2=18e5,A2=5e3,o2="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",K9="main";class uv{constructor(e,t,r,s,i,l,u,h,g,p,x=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=i,this.window=l,this.document=u,this.xi=g,this.Oi=p,this.Ni=x,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=B=>Promise.resolve(),!uv.v())throw new st(De.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new j9(this,s),this.$i=t+K9,this.serializer=new nI(h),this.Ui=new lu(this.$i,this.Ni,new V9(this.serializer)),this.hi=new b9,this.Pi=new S9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=mI(this.serializer),this.Ii=new y9,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&ss(Vc,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(De.FAILED_PRECONDITION,o2);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new vi(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Jm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Su(e))return We(Vc,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return We(Vc,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return x0(e).get(uh).next((t=>Se.resolve(this.es(t))))}ts(e){return Jm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,i2)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=Ls(t,rf);return r.J().next((s=>{const i=this.ss(s,i2),l=s.filter((u=>i.indexOf(u)===-1));return Se.forEach(l,(u=>r.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Se.resolve(!0):x0(e).get(uh).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,A2)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new st(De.FAILED_PRECONDITION,o2);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jm(e).J().next((r=>this.ss(r,A2).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,l=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||l&&u)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&We(Vc,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Dg,rf],(e=>{const t=new bb(e,vi.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Jm(e).J().next((t=>this.ss(t,i2).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Ax.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new E9(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return ix.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){We(Vc,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",i=(function(h){return h===18?IR:h===17?oS:h===16?SR:h===15?Xw:h===14?AS:h===13?iS:h===12?ER:h===11?aS:void Ct(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,s,i,(u=>(l=new bb(u,this.ci?this.ci.next():vi.ce),t==="readwrite-primary"?this.Hi(l).next((h=>!!h||this.Yi(l))).next((h=>{if(!h)throw ss(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new st(De.FAILED_PRECONDITION,Y3);return r(l)})).next((h=>this.Xi(l).next((()=>h)))):this.Is(l).next((()=>r(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return x0(e).get(uh).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,A2)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new st(De.FAILED_PRECONDITION,o2)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return x0(e).put(uh,t)}static v(){return lu.v()}Zi(e){const t=x0(e);return t.get(uh).next((r=>this.es(r)?(We(Vc,"Releasing primary lease."),t.delete(uh)):Se.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(ss(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;GE()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var t;try{const r=((t=this.Ki)==null?void 0:t.getItem(this._s(e)))!==null;return We(Vc,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ss(Vc,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){ss("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function x0(n){return Ls(n,Dg)}function Jm(n){return Ls(n,rf)}function xI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=gr(),s=gr();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new dv(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GE()?8:J3(Qs())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ys(e,t).next((l=>{i.result=l})).next((()=>{if(!i.result)return this.ws(e,t,s,r).next((l=>{i.result=l}))})).next((()=>{if(i.result)return;const l=new z9;return this.Ss(e,t,l).next((u=>{if(i.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>i.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Nh()<=Nr.DEBUG&&We("QueryEngine","SDK will not create cache indexes for query:",_h(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Se.resolve()):(Nh()<=Nr.DEBUG&&We("QueryEngine","Query:",_h(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Nh()<=Nr.DEBUG&&We("QueryEngine","The SDK decides to create cache indexes for query:",_h(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(t))):Se.resolve())}ys(e,t){if(HC(t))return Se.resolve(null);let r=Ji(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=f1(t,null,"F"),r=Ji(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const l=gr(...i);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const g=this.Ds(t,u);return this.Cs(t,g,l,h.readTime)?this.ys(e,f1(t,null,"F")):this.vs(e,g,t,h)}))))})))))}ws(e,t,r,s){return HC(t)||s.isEqual(Dt.min())?Se.resolve(null):this.ps.getDocuments(e,r).next((i=>{const l=this.Ds(t,i);return this.Cs(t,l,r,s)?Se.resolve(null):(Nh()<=Nr.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_h(t)),this.vs(e,l,t,G3(s,Wh)).next((u=>u)))}))}Ds(e,t){let r=new tn(TS(e));return t.forEach(((s,i)=>{Pg(e,i)&&(r=r.add(i))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,r){return Nh()<=Nr.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",_h(t)),this.ps.getDocumentsMatchingQuery(e,t,Zi.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(t.forEach((l=>{i=i.insert(l.key,l)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="LocalStore",q9=3e8;class G9{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new yn(Zt),this.xs=new rc((i=>yd(i)),Og),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function bI(n,e,t,r){return new G9(n,e,t,r)}async function wI(n,e){const t=It(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((i=>{const l=[],u=[];let h=gr();for(const g of s){l.push(g.batchId);for(const p of g.mutations)h=h.add(p.key)}for(const g of i){u.push(g.batchId);for(const p of g.mutations)h=h.add(p.key)}return t.localDocuments.getDocuments(r,h).next((g=>({Ls:g,removedBatchIds:l,addedBatchIds:u})))}))}))}function X9(n,e){const t=It(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,g,p){const x=g.batch,B=x.keys();let C=Se.resolve();return B.forEach((U=>{C=C.next((()=>p.getEntry(h,U))).next((E=>{const P=g.docVersions.get(U);Qt(P!==null,48541),E.version.compareTo(P)<0&&(x.applyToRemoteDocument(E,g),E.isValidDocument()&&(E.setReadTime(g.commitVersion),p.addEntry(E)))}))})),C.next((()=>u.mutationQueue.removeMutationBatch(h,x)))})(t,r,e,i).next((()=>i.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=gr();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function vI(n){const e=It(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Y9(n,e){const t=It(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const u=[];e.targetChanges.forEach(((p,x)=>{const B=s.get(x);if(!B)return;u.push(t.Pi.removeMatchingKeys(i,p.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(i,p.addedDocuments,x))));let C=B.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(x)!==null?C=C.withResumeToken(as.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):p.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(p.resumeToken,r)),s=s.insert(x,C),(function(E,P,F){return E.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=q9?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(B,C,p)&&u.push(t.Pi.updateTargetData(i,C))}));let h=Yi(),g=gr();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(i,p))})),u.push($9(i,l,e.documentUpdates).next((p=>{h=p.ks,g=p.qs}))),!r.isEqual(Dt.min())){const p=t.Pi.getLastRemoteSnapshotVersion(i).next((x=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(p)}return Se.waitFor(u).next((()=>l.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,h,g))).next((()=>h))})).then((i=>(t.Ms=s,i)))}function $9(n,e,t){let r=gr(),s=gr();return t.forEach((i=>r=r.add(i))),e.getEntries(n,r).next((i=>{let l=Yi();return t.forEach(((u,h)=>{const g=i.get(u);h.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Dt.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!g.isValidDocument()||h.version.compareTo(g.version)>0||h.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):We(hv,"Ignoring outdated watch update for ",u,". Current version:",g.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function J9(n,e){const t=It(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ad),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function w1(n,e){const t=It(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((i=>i?(s=i,Se.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new Hl(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function hf(n,e,t){const r=It(n),s=r.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Su(l))throw l;We(hv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Qb(n,e,t){const r=It(n);let s=Dt.min(),i=gr();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,g,p){const x=It(h),B=x.xs.get(p);return B!==void 0?Se.resolve(x.Ms.get(B)):x.Pi.getTargetData(g,p)})(r,l,Ji(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{i=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:Dt.min(),t?i:gr()))).next((u=>(NI(r,IS(e),u),{documents:u,Qs:i})))))}function BI(n,e){const t=It(n),r=It(t.Pi),s=t.Ms.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",(i=>r.At(i,e).next((l=>l?l.target:null))))}function CI(n,e){const t=It(n),r=t.Os.get(e)||Dt.min();return t.persistence.runTransaction("Get new document changes","readonly",(s=>t.Ns.getAllFromCollectionGroup(s,e,G3(r,Wh),Number.MAX_SAFE_INTEGER))).then((s=>(NI(t,e,s),s)))}function NI(n,e,t){let r=n.Os.get(e)||Dt.min();t.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Os.set(e,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="firestore_clients";function yN(n,e){return`${_I}_${n}_${e}`}const EI="firestore_mutations";function bN(n,e,t){let r=`${EI}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const SI="firestore_targets";function l2(n,e){return`${SI}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="SharedClientState";class v1{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Ws(e,t,r){const s=JSON.parse(r);let i,l=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return l&&s.error&&(l=typeof s.error.message=="string"&&typeof s.error.code=="string",l&&(i=new st(s.error.code,s.error.message))),l?new v1(e,t,s.state,i):(ss(zo,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let s,i=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return i&&r.error&&(i=typeof r.error.message=="string"&&typeof r.error.code=="string",i&&(s=new st(r.error.code,r.error.message))),i?new $0(e,r.state,s):(ss(zo,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class B1{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,i=Zw();for(let l=0;s&&l<r.activeTargetIds.length;++l)s=W3(r.activeTargetIds[l]),i=i.add(r.activeTargetIds[l]);return s?new B1(e,i):(ss(zo,`Failed to parse client data for instance '${e}': ${t}`),null)}}class fv{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new fv(t.clientId,t.onlineState):(ss(zo,`Failed to parse online state: ${e}`),null)}}class Lb{constructor(){this.activeTargetIds=Zw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c2{constructor(e,t,r,s,i){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new yn(Zt),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.eo=yN(this.persistenceKey,this.Js),this.no=(function(h){return`firestore_sequence_number_${h}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Lb),this.ro=new RegExp(`^${_I}_${l}_([^_]*)$`),this.io=new RegExp(`^${EI}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${SI}_${l}_(\\d+)$`),this.oo=(function(h){return`firestore_online_state_${h}`})(this.persistenceKey),this._o=(function(h){return`firestore_bundle_loaded_v2_${h}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const s=this.getItem(yN(this.persistenceKey,r));if(s){const i=B1.Ws(r,s);i&&(this.Zs=this.Zs.insert(i.clientId,i))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(l2(this.persistenceKey,e));if(s){const i=$0.Ws(e,s);i&&(r=i.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(l2(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach((s=>{this.Po(s)})),this.currentUser=e,r.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return We(zo,"READ",e,t),t}setItem(e,t){We(zo,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){We(zo,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(We(zo,"EVENT",t.key,t.newValue),t.key===this.eo)return void ss("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=(function(i){let l=vi.ce;if(i!=null)try{const u=JSON.parse(i);Qt(typeof u=="number",30636,{So:i}),l=u}catch(u){ss(zo,"Failed to read sequence number from WebStorage",u)}return l})(t.newValue);r!==vi.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map((s=>this.syncEngine.Do(s))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const s=new v1(this.currentUser,e,t,r),i=bN(this.persistenceKey,this.currentUser,e);this.setItem(i,s.Gs())}Po(e){const t=bN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const s=l2(this.persistenceKey,e),i=new $0(e,t,r);this.setItem(s,i.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return B1.Ws(r,t)}fo(e,t){const r=this.io.exec(e),s=Number(r[1]),i=r[2]!==void 0?r[2]:null;return v1.Ws(new ja(i),s,t)}yo(e,t){const r=this.so.exec(e),s=Number(r[1]);return $0.Ws(s,t)}uo(e){return fv.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);We(zo,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),s=this.lo(this.Zs),i=this.lo(r),l=[],u=[];return i.forEach((h=>{s.has(h)||l.push(h)})),s.forEach((h=>{i.has(h)||u.push(h)})),this.syncEngine.Fo(l,u).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=Zw();return e.forEach(((r,s)=>{t=t.unionWith(s.activeTargetIds)})),t}}class II{constructor(){this.Mo=new Lb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Lb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="ConnectivityMonitor";class vN{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){We(wN,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){We(wN,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm=null;function kb(){return Wm===null?Wm=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wm++,"0x"+Wm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="RestConnection",Z9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===u1?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,i){const l=kb(),u=this.zo(e,t.toUriEncodedString());We(u2,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,i);const{host:g}=new URL(u),p=wf(g);return this.Jo(e,u,h,r,p).then((x=>(We(u2,`Received RPC '${e}' ${l}: `,x),x)),(x=>{throw dg(u2,`RPC '${e}' ${l} failed with error: `,x,"url: ",u,"request:",r),x}))}Ho(e,t,r,s,i,l){return this.Go(e,t,r,s,i)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,t){const r=Z9[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="WebChannelConnection";class rD extends eD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,i){const l=kb();return new Promise(((u,h)=>{const g=new D3;g.setWithCredentials(!0),g.listenOnce(O3.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Tp.NO_ERROR:const x=g.getResponseJson();We(Na,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),u(x);break;case Tp.TIMEOUT:We(Na,`RPC '${e}' ${l} timed out`),h(new st(De.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const B=g.getStatus();if(We(Na,`RPC '${e}' ${l} failed with status:`,B,"response text:",g.getResponseText()),B>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C==null?void 0:C.error;if(U&&U.status&&U.message){const E=(function(F){const H=F.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(H)>=0?H:De.UNKNOWN})(U.status);h(new st(E,U.message))}else h(new st(De.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new st(De.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:e,streamId:l,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{We(Na,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(s);We(Na,`RPC '${e}' ${l} sending request:`,s),g.send(t,"POST",p,r,15)}))}T_(e,t,r){const s=kb(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=H3(),u=P3(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(h.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const p=i.join("");We(Na,`Creating RPC '${e}' stream ${s}: ${p}`,h);const x=l.createWebChannel(p,h);this.I_(x);let B=!1,C=!1;const U=new tD({Yo:P=>{C?We(Na,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(B||(We(Na,`Opening RPC '${e}' stream ${s} transport.`),x.open(),B=!0),We(Na,`RPC '${e}' stream ${s} sending:`,P),x.send(P))},Zo:()=>x.close()}),E=(P,F,H)=>{P.listen(F,(K=>{try{H(K)}catch(Ae){setTimeout((()=>{throw Ae}),0)}}))};return E(x,S0.EventType.OPEN,(()=>{C||(We(Na,`RPC '${e}' stream ${s} transport opened.`),U.o_())})),E(x,S0.EventType.CLOSE,(()=>{C||(C=!0,We(Na,`RPC '${e}' stream ${s} transport closed`),U.a_(),this.E_(x))})),E(x,S0.EventType.ERROR,(P=>{C||(C=!0,dg(Na,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),U.a_(new st(De.UNAVAILABLE,"The operation could not be completed")))})),E(x,S0.EventType.MESSAGE,(P=>{var F;if(!C){const H=P.data[0];Qt(!!H,16349);const K=H,Ae=(K==null?void 0:K.error)||((F=K[0])==null?void 0:F.error);if(Ae){We(Na,`RPC '${e}' stream ${s} received error:`,Ae);const ae=Ae.status;let se=(function(O){const q=ps[O];if(q!==void 0)return VS(q)})(ae),j=Ae.message;se===void 0&&(se=De.INTERNAL,j="Unknown error status: "+ae+" with message "+Ae.message),C=!0,U.a_(new st(se,j)),x.close()}else We(Na,`RPC '${e}' stream ${s} received:`,H),U.u_(H)}})),E(u,M3.STAT_EVENT,(P=>{P.stat===fb.PROXY?We(Na,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===fb.NOPROXY&&We(Na,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(){return typeof window<"u"?window:null}function Mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(n){return new o9(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&We("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="PersistentStream";class UI{constructor(e,t,r,s,i,l,u,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jI(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===De.RESOURCE_EXHAUSTED?(ss(t.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===De.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new st(De.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return We(BN,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(We(BN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nD extends UI{constructor(e,t,r,s,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=u9(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Dt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Dt.min():l.readTime?Za(l.readTime):Dt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Ib(this.serializer),t.addTarget=(function(i,l){let u;const h=l.target;if(u=d1(h)?{documents:JS(i,h)}:{query:WS(i,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=qS(i,l.resumeToken);const g=Eb(i,l.expectedCount);g!==null&&(u.expectedCount=g)}else if(l.snapshotVersion.compareTo(Dt.min())>0){u.readTime=df(i,l.snapshotVersion.toTimestamp());const g=Eb(i,l.expectedCount);g!==null&&(u.expectedCount=g)}return u})(this.serializer,e);const r=h9(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Ib(this.serializer),t.removeTarget=e,this.q_(t)}}class sD extends UI{constructor(e,t,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=d9(e.writeResults,e.commitTime),r=Za(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Ib(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>m1(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{}class iD extends aD{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new st(De.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,l])=>this.connection.Go(e,Sb(t,r),s,i,l))).catch((i=>{throw i.name==="FirebaseError"?(i.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new st(De.UNKNOWN,i.toString())}))}Ho(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Sb(t,r),s,l,u,i))).catch((l=>{throw l.name==="FirebaseError"?(l.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new st(De.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class AD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(t),this.aa=!1):We("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="RemoteStore";class oD{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Sd(this)&&(We(Bd,"Restarting streams for network reachability change."),await(async function(h){const g=It(h);g.Ea.add(4),await zg(g),g.Ra.set("Unknown"),g.Ea.delete(4),await cx(g)})(this))}))})),this.Ra=new AD(r,s)}}async function cx(n){if(Sd(n))for(const e of n.da)await e(!0)}async function zg(n){for(const e of n.da)await e(!1)}function ux(n,e){const t=It(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),pv(t)?mv(t):Sf(t).O_()&&gv(t,e))}function ff(n,e){const t=It(n),r=Sf(t);t.Ia.delete(e),r.O_()&&FI(t,e),t.Ia.size===0&&(r.O_()?r.L_():Sd(t)&&t.Ra.set("Unknown"))}function gv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sf(n).Y_(e)}function FI(n,e){n.Va.Ue(e),Sf(n).Z_(e)}function mv(n){n.Va=new s9({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Sf(n).start(),n.Ra.ua()}function pv(n){return Sd(n)&&!Sf(n).x_()&&n.Ia.size>0}function Sd(n){return It(n).Ea.size===0}function QI(n){n.Va=void 0}async function lD(n){n.Ra.set("Online")}async function cD(n){n.Ia.forEach(((e,t)=>{gv(n,e)}))}async function uD(n,e){QI(n),pv(n)?(n.Ra.ha(e),mv(n)):n.Ra.set("Unknown")}async function dD(n,e,t){if(n.Ra.set("Online"),e instanceof zS&&e.state===2&&e.cause)try{await(async function(s,i){const l=i.cause;for(const u of i.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(n,e)}catch(r){We(Bd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await C1(n,r)}else if(e instanceof Dp?n.Va.Ze(e):e instanceof KS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Dt.min()))try{const r=await vI(n.localStore);t.compareTo(r)>=0&&await(function(i,l){const u=i.Va.Tt(l);return u.targetChanges.forEach(((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const p=i.Ia.get(g);p&&i.Ia.set(g,p.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,g)=>{const p=i.Ia.get(h);if(!p)return;i.Ia.set(h,p.withResumeToken(as.EMPTY_BYTE_STRING,p.snapshotVersion)),FI(i,h);const x=new Hl(p.target,h,g,p.sequenceNumber);gv(i,x)})),i.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){We(Bd,"Failed to raise snapshot:",r),await C1(n,r)}}async function C1(n,e,t){if(!Su(e))throw e;n.Ea.add(1),await zg(n),n.Ra.set("Offline"),t||(t=()=>vI(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{We(Bd,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await cx(n)}))}function LI(n,e){return e().catch((t=>C1(n,t,e)))}async function Ef(n){const e=It(n),t=wu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ad;for(;hD(e);)try{const s=await J9(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,fD(e,s)}catch(s){await C1(e,s)}kI(e)&&RI(e)}function hD(n){return Sd(n)&&n.Ta.length<10}function fD(n,e){n.Ta.push(e);const t=wu(n);t.O_()&&t.X_&&t.ea(e.mutations)}function kI(n){return Sd(n)&&!wu(n).x_()&&n.Ta.length>0}function RI(n){wu(n).start()}async function gD(n){wu(n).ra()}async function mD(n){const e=wu(n);for(const t of n.Ta)e.ea(t.mutations)}async function pD(n,e,t){const r=n.Ta.shift(),s=nv.from(r,e,t);await LI(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Ef(n)}async function xD(n,e){e&&wu(n).X_&&await(async function(r,s){if((function(l){return t9(l)&&l!==De.ABORTED})(s.code)){const i=r.Ta.shift();wu(r).B_(),await LI(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Ef(r)}})(n,e),kI(n)&&RI(n)}async function CN(n,e){const t=It(n);t.asyncQueue.verifyOperationInProgress(),We(Bd,"RemoteStore received new credentials");const r=Sd(t);t.Ea.add(3),await zg(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await cx(t)}async function Rb(n,e){const t=It(n);e?(t.Ea.delete(2),await cx(t)):e||(t.Ea.add(2),await zg(t),t.Ra.set("Unknown"))}function Sf(n){return n.ma||(n.ma=(function(t,r,s){const i=It(t);return i.sa(),new nD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:lD.bind(null,n),t_:cD.bind(null,n),r_:uD.bind(null,n),H_:dD.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),pv(n)?mv(n):n.Ra.set("Unknown")):(await n.ma.stop(),QI(n))}))),n.ma}function wu(n){return n.fa||(n.fa=(function(t,r,s){const i=It(t);return i.sa(),new sD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:gD.bind(null,n),r_:xD.bind(null,n),ta:mD.bind(null,n),na:pD.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Ef(n)):(await n.fa.stop(),n.Ta.length>0&&(We(Bd,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Wo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const l=Date.now()+r,u=new xv(e,t,l,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yv(n,e){if(ss("AsyncQueue",`${e}: ${n}`),Su(n))return new st(De.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{static emptySet(e){return new Ph(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ct.comparator(t.key,r.key):(t,r)=>ct.comparator(t.key,r.key),this.keyedMap=I0(),this.sortedSet=new yn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ph)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ph;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.ga=new yn(ct.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ct(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class gf{constructor(e,t,r,s,i,l,u,h,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,s,i){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new gf(e,t,Ph.emptySet(t),l,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bD{constructor(){this.queries=_N(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=It(t),i=s.queries;s.queries=_N(),i.forEach(((l,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new st(De.ABORTED,"Firestore shutting down"))}}function _N(){return new rc((n=>SS(n)),nx)}async function bv(n,e){const t=It(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new yD,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=yv(l,`Initialization of query '${_h(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&vv(t)}async function wv(n,e){const t=It(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const l=i.Sa.indexOf(e);l>=0&&(i.Sa.splice(l,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function wD(n,e){const t=It(n);let r=!1;for(const s of e){const i=s.query,l=t.queries.get(i);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&vv(t)}function vD(n,e,t){const r=It(n),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);r.queries.delete(e)}function vv(n){n.Ca.forEach((e=>{e.next()}))}var Db,EN;(EN=Db||(Db={})).Ma="default",EN.Cache="cache";class Bv{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new gf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Db.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.key=e}}class OI{constructor(e){this.key=e}}class BD{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=gr(),this.mutatedKeys=gr(),this.eu=TS(e),this.tu=new Ph(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new NN,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,x)=>{const B=s.get(p),C=Pg(this.query,x)?x:null,U=!!B&&this.mutatedKeys.has(B.key),E=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let P=!1;B&&C?B.data.isEqual(C.data)?U!==E&&(r.track({type:3,doc:C}),P=!0):this.su(B,C)||(r.track({type:2,doc:C}),P=!0,(h&&this.eu(C,h)>0||g&&this.eu(C,g)<0)&&(u=!0)):!B&&C?(r.track({type:0,doc:C}),P=!0):B&&!C&&(r.track({type:1,doc:B}),P=!0,(h||g)&&(u=!0)),P&&(C?(l=l.add(C),i=E?i.add(p):i.delete(p)):(l=l.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,x)=>(function(C,U){const E=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Rt:P})}};return E(C)-E(U)})(p.type,x.type)||this.eu(p.doc,x.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,g=h!==this.Za;return this.Za=h,l.length!==0||g?{snapshot:new gf(this.query,e.tu,i,l,e.mutatedKeys,h===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=gr(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new OI(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new DI(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=gr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return gf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const If="SyncEngine";class CD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ND{constructor(e){this.key=e,this.hu=!1}}class _D{constructor(e,t,r,s,i,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new rc((u=>SS(u)),nx),this.Iu=new Map,this.Eu=new Set,this.du=new yn(ct.comparator),this.Au=new Map,this.Ru=new lv,this.Vu={},this.mu=new Map,this.fu=vd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ED(n,e,t=!0){const r=dx(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await MI(r,e,t,!0),s}async function SD(n,e){const t=dx(n);await MI(t,e,!0,!1)}async function MI(n,e,t,r){const s=await w1(n.localStore,Ji(e)),i=s.targetId,l=n.sharedClientState.addLocalQueryTarget(i,t);let u;return r&&(u=await Cv(n,e,i,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&ux(n.remoteStore,s),u}async function Cv(n,e,t,r,s){n.pu=(x,B,C)=>(async function(E,P,F,H){let K=P.view.ru(F);K.Cs&&(K=await Qb(E.localStore,P.query,!1).then((({documents:j})=>P.view.ru(j,K))));const Ae=H&&H.targetChanges.get(P.targetId),ae=H&&H.targetMismatches.get(P.targetId)!=null,se=P.view.applyChanges(K,E.isPrimaryClient,Ae,ae);return Ob(E,P.targetId,se.au),se.snapshot})(n,x,B,C);const i=await Qb(n.localStore,e,!0),l=new BD(e,i.Qs),u=l.ru(i.documents),h=Kg.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),g=l.applyChanges(u,n.isPrimaryClient,h);Ob(n,t,g.au);const p=new CD(e,t,l);return n.Tu.set(e,p),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function ID(n,e,t){const r=It(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((l=>!nx(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await hf(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&ff(r.remoteStore,s.targetId),mf(r,s.targetId)})).catch(Eu)):(mf(r,s.targetId),await hf(r.localStore,s.targetId,!0))}async function TD(n,e){const t=It(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ff(t.remoteStore,r.targetId))}async function jD(n,e,t){const r=Sv(n);try{const s=await(function(l,u){const h=It(l),g=Wr.now(),p=u.reduce(((C,U)=>C.add(U.key)),gr());let x,B;return h.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let U=Yi(),E=gr();return h.Ns.getEntries(C,p).next((P=>{U=P,U.forEach(((F,H)=>{H.isValidDocument()||(E=E.add(F))}))})).next((()=>h.localDocuments.getOverlayedDocuments(C,U))).next((P=>{x=P;const F=[];for(const H of u){const K=ZR(H,x.get(H.key).overlayedDocument);K!=null&&F.push(new nc(H.key,K,xS(K.value.mapValue),Fs.exists(!0)))}return h.mutationQueue.addMutationBatch(C,g,F,u)})).next((P=>{B=P;const F=P.applyToLocalDocumentSet(x,E);return h.documentOverlayCache.saveOverlays(C,P.batchId,F)}))})).then((()=>({batchId:B.batchId,changes:US(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,h){let g=l.Vu[l.currentUser.toKey()];g||(g=new yn(Zt)),g=g.insert(u,h),l.Vu[l.currentUser.toKey()]=g})(r,s.batchId,t),await Tu(r,s.changes),await Ef(r.remoteStore)}catch(s){const i=yv(s,"Failed to persist write");t.reject(i)}}async function PI(n,e){const t=It(n);try{const r=await Y9(t.localStore,e);e.targetChanges.forEach(((s,i)=>{const l=t.Au.get(i);l&&(Qt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Qt(l.hu,14607):s.removedDocuments.size>0&&(Qt(l.hu,42227),l.hu=!1))})),await Tu(t,r,e)}catch(r){await Eu(r)}}function SN(n,e,t){const r=It(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((i,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=It(l);h.onlineState=u;let g=!1;h.queries.forEach(((p,x)=>{for(const B of x.Sa)B.va(u)&&(g=!0)})),g&&vv(h)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UD(n,e,t){const r=It(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let l=new yn(ct.comparator);l=l.insert(i,Xn.newNoDocument(i,Dt.min()));const u=gr().add(i),h=new Vg(Dt.min(),new Map,new yn(Zt),l,u);await PI(r,h),r.du=r.du.remove(i),r.Au.delete(e),Ev(r)}else await hf(r.localStore,e,!1).then((()=>mf(r,e,t))).catch(Eu)}async function FD(n,e){const t=It(n),r=e.batch.batchId;try{const s=await X9(t.localStore,e);_v(t,r,null),Nv(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(t,s)}catch(s){await Eu(s)}}async function QD(n,e,t){const r=It(n);try{const s=await(function(l,u){const h=It(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let p;return h.mutationQueue.lookupMutationBatch(g,u).next((x=>(Qt(x!==null,37113),p=x.keys(),h.mutationQueue.removeMutationBatch(g,x)))).next((()=>h.mutationQueue.performConsistencyCheck(g))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(g,p,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,p))).next((()=>h.localDocuments.getDocuments(g,p)))}))})(r.localStore,e);_v(r,e,t),Nv(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Tu(r,s)}catch(s){await Eu(s)}}function Nv(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function _v(n,e,t){const r=It(n);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function mf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||HI(n,r)}))}function HI(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(ff(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Ev(n))}function Ob(n,e,t){for(const r of t)r instanceof DI?(n.Ru.addReference(r.key,e),LD(n,r)):r instanceof OI?(We(If,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||HI(n,r.key)):Ct(19791,{wu:r})}function LD(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(We(If,"New document in limbo: "+t),n.Eu.add(r),Ev(n))}function Ev(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ct(zr.fromString(e)),r=n.fu.next();n.Au.set(r,new ND(t)),n.du=n.du.insert(t,r),ux(n.remoteStore,new Hl(Ji(Mg(t.path)),r,"TargetPurposeLimboResolution",vi.ce))}}async function Tu(n,e,t){const r=It(n),s=[],i=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{l.push(r.pu(h,e,t).then((g=>{var p;if((g||t)&&r.isPrimaryClient){const x=g?!g.fromCache:(p=t==null?void 0:t.targetChanges.get(h.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(h.targetId,x?"current":"not-current")}if(g){s.push(g);const x=dv.As(h.targetId,g);i.push(x)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(h,g){const p=It(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Se.forEach(g,(B=>Se.forEach(B.Es,(C=>p.persistence.referenceDelegate.addReference(x,B.targetId,C))).next((()=>Se.forEach(B.ds,(C=>p.persistence.referenceDelegate.removeReference(x,B.targetId,C)))))))))}catch(x){if(!Su(x))throw x;We(hv,"Failed to update sequence numbers: "+x)}for(const x of g){const B=x.targetId;if(!x.fromCache){const C=p.Ms.get(B),U=C.snapshotVersion,E=C.withLastLimboFreeSnapshotVersion(U);p.Ms=p.Ms.insert(B,E)}}})(r.localStore,i))}async function kD(n,e){const t=It(n);if(!t.currentUser.isEqual(e)){We(If,"User change. New user:",e.toKey());const r=await wI(t.localStore,e);t.currentUser=e,(function(i,l){i.mu.forEach((u=>{u.forEach((h=>{h.reject(new st(De.CANCELLED,l))}))})),i.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tu(t,r.Ls)}}function RD(n,e){const t=It(n),r=t.Au.get(e);if(r&&r.hu)return gr().add(r.key);{let s=gr();const i=t.Iu.get(e);if(!i)return s;for(const l of i){const u=t.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}async function DD(n,e){const t=It(n),r=await Qb(t.localStore,e.query,!0),s=e.view.cu(r);return t.isPrimaryClient&&Ob(t,e.targetId,s.au),s}async function OD(n,e){const t=It(n);return CI(t.localStore,e).then((r=>Tu(t,r)))}async function MD(n,e,t,r){const s=It(n),i=await(function(u,h){const g=It(u),p=It(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",(x=>p.er(x,h).next((B=>B?g.localDocuments.getDocuments(x,B):Se.resolve(null)))))})(s.localStore,e);i!==null?(t==="pending"?await Ef(s.remoteStore):t==="acknowledged"||t==="rejected"?(_v(s,e,r||null),Nv(s,e),(function(u,h){It(It(u).mutationQueue).ir(h)})(s.localStore,e)):Ct(6720,"Unknown batchState",{Su:t}),await Tu(s,i)):We(If,"Cannot apply mutation batch with id: "+e)}async function PD(n,e){const t=It(n);if(dx(t),Sv(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),s=await IN(t,r.toArray());t.gu=!0,await Rb(t.remoteStore,!0);for(const i of s)ux(t.remoteStore,i)}else if(e===!1&&t.gu!==!1){const r=[];let s=Promise.resolve();t.Iu.forEach(((i,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):s=s.then((()=>(mf(t,l),hf(t.localStore,l,!0)))),ff(t.remoteStore,l)})),await s,await IN(t,r),(function(l){const u=It(l);u.Au.forEach(((h,g)=>{ff(u.remoteStore,g)})),u.Ru.Jr(),u.Au=new Map,u.du=new yn(ct.comparator)})(t),t.gu=!1,await Rb(t.remoteStore,!1)}}async function IN(n,e,t){const r=It(n),s=[],i=[];for(const l of e){let u;const h=r.Iu.get(l);if(h&&h.length!==0){u=await w1(r.localStore,Ji(h[0]));for(const g of h){const p=r.Tu.get(g),x=await DD(r,p);x.snapshot&&i.push(x.snapshot)}}else{const g=await BI(r.localStore,l);u=await w1(r.localStore,g),await Cv(r,VI(g),l,!1,u.resumeToken)}s.push(u)}return r.Pu.H_(i),s}function VI(n){return _S(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function HD(n){return(function(t){return It(It(t).persistence).Ts()})(It(n).localStore)}async function VD(n,e,t,r){const s=It(n);if(s.gu)return void We(If,"Ignoring unexpected query state notification.");const i=s.Iu.get(e);if(i&&i.length>0)switch(t){case"current":case"not-current":{const l=await CI(s.localStore,IS(i[0])),u=Vg.createSynthesizedRemoteEventForCurrentChange(e,t==="current",as.EMPTY_BYTE_STRING);await Tu(s,l,u);break}case"rejected":await hf(s.localStore,e,!0),mf(s,e,r);break;default:Ct(64155,t)}}async function KD(n,e,t){const r=dx(n);if(r.gu){for(const s of e){if(r.Iu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){We(If,"Adding an already active target "+s);continue}const i=await BI(r.localStore,s),l=await w1(r.localStore,i);await Cv(r,VI(i),l.targetId,!1,l.resumeToken),ux(r.remoteStore,l)}for(const s of t)r.Iu.has(s)&&await hf(r.localStore,s,!1).then((()=>{ff(r.remoteStore,s),mf(r,s)})).catch(Eu)}}function dx(n){const e=It(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UD.bind(null,e),e.Pu.H_=wD.bind(null,e.eventManager),e.Pu.yu=vD.bind(null,e.eventManager),e}function Sv(n){const e=It(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QD.bind(null,e),e}class Bg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return bI(this.persistence,new yI,e.initialUser,this.serializer)}Cu(e){return new cv(ox.mi,this.serializer)}Du(e){return new II}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bg.provider={build:()=>new Bg};class zD extends Bg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Qt(this.persistence.referenceDelegate instanceof b1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hI(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ua.withCacheSize(this.cacheSizeBytes):Ua.DEFAULT;return new cv((r=>b1.mi(r,t)),this.serializer)}}class KI extends Bg{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Sv(this.xu.syncEngine),await Ef(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return bI(this.persistence,new yI,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new hI(r,e.asyncQueue,t)}Mu(e,t){const r=new nR(t,this.persistence);return new rR(e.asyncQueue,r)}Cu(e){const t=xI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ua.withCacheSize(this.cacheSizeBytes):Ua.DEFAULT;return new uv(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,TI(),Mp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new II}}class qD extends KI{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof c2&&(this.sharedClientState.syncEngine={Co:MD.bind(null,t),vo:VD.bind(null,t),Fo:KD.bind(null,t),Ts:HD.bind(null,t),Do:OD.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await PD(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=TI();if(!c2.v(t))throw new st(De.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=xI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new c2(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Cg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kD.bind(null,this.syncEngine),await Rb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bD})()}createDatastore(e){const t=lx(e.databaseInfo.databaseId),r=(function(i){return new rD(i)})(e.databaseInfo);return(function(i,l,u,h){return new iD(i,l,u,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,i,l,u){return new oD(r,s,i,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>SN(this.syncEngine,t,0)),(function(){return vN.v()?new vN:new W9})())}createSyncEngine(e,t){return(function(s,i,l,u,h,g,p){const x=new _D(s,i,l,u,h,g);return p&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const i=It(s);We(Bd,"RemoteStore shutting down."),i.Ea.add(5),await zg(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Cg.provider={build:()=>new Cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="FirestoreClient";class GD{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=ja.UNAUTHENTICATED,this.clientId=Hw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async l=>{We(vu,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(We(vu,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=yv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function d2(n,e){n.asyncQueue.verifyOperationInProgress(),We(vu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await wI(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function TN(n,e){n.asyncQueue.verifyOperationInProgress();const t=await XD(n);We(vu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>CN(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>CN(e.remoteStore,s))),n._onlineComponents=e}async function XD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){We(vu,"Using user provided OfflineComponentProvider");try{await d2(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===De.FAILED_PRECONDITION||s.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;dg("Error using user provided cache. Falling back to memory cache: "+t),await d2(n,new Bg)}}else We(vu,"Using default OfflineComponentProvider"),await d2(n,new zD(void 0));return n._offlineComponents}async function zI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(We(vu,"Using user provided OnlineComponentProvider"),await TN(n,n._uninitializedComponentsProvider._online)):(We(vu,"Using default OnlineComponentProvider"),await TN(n,new Cg))),n._onlineComponents}function YD(n){return zI(n).then((e=>e.syncEngine))}async function N1(n){const e=await zI(n),t=e.eventManager;return t.onListen=ED.bind(null,e.syncEngine),t.onUnlisten=ID.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TD.bind(null,e.syncEngine),t}function $D(n,e,t={}){const r=new Wo;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,h,g){const p=new Iv({next:B=>{p.Nu(),l.enqueueAndForget((()=>wv(i,x)));const C=B.docs.has(u);!C&&B.fromCache?g.reject(new st(De.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&B.fromCache&&h&&h.source==="server"?g.reject(new st(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(B)},error:B=>g.reject(B)}),x=new Bv(Mg(u.path),p,{includeMetadataChanges:!0,qa:!0});return bv(i,x)})(await N1(n),n.asyncQueue,e,t,r))),r.promise}function qI(n,e,t={}){const r=new Wo;return n.asyncQueue.enqueueAndForget((async()=>(function(i,l,u,h,g){const p=new Iv({next:B=>{p.Nu(),l.enqueueAndForget((()=>wv(i,x))),B.fromCache&&h.source==="server"?g.reject(new st(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(B)},error:B=>g.reject(B)}),x=new Bv(u,p,{includeMetadataChanges:!0,qa:!0});return bv(i,x)})(await N1(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="firestore.googleapis.com",UN=!0;class FN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JD,this.ssl=UN}else this.host=e.host,this.ssl=e.ssl??UN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dI)throw new st(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(De.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(De.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(De.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tv{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new V7;switch(r.type){case"firstParty":return new q7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=jN.get(t);r&&(We("ComponentProvider","Removing Datastore"),jN.delete(t),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sl(this.firestore,e,this._query)}}class Yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}toJSON(){return{type:Yn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Rg(t,Yn._jsonSchema))return new Yn(e,r||null,new ct(zr.fromString(t.referencePath)))}}Yn._jsonSchemaVersion="firestore/documentReference/1.0",Yn._jsonSchema={type:bs("string",Yn._jsonSchemaVersion),referencePath:bs("string")};class cu extends sl{constructor(e,t,r){super(e,t,Mg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new ct(e))}withConverter(e){return new cu(this.firestore,e,this._path)}}function ln(n,e,...t){if(n=kn(n),z3("collection","path",e),n instanceof Tv){const r=zr.fromString(e,...t);return BC(r),new cu(n,null,r)}{if(!(n instanceof Yn||n instanceof cu))throw new st(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zr.fromString(e,...t));return BC(r),new cu(n.firestore,null,r)}}function Ys(n,e,...t){if(n=kn(n),arguments.length===1&&(e=Hw.newId()),z3("doc","path",e),n instanceof Tv){const r=zr.fromString(e,...t);return vC(r),new Yn(n,null,new ct(r))}{if(!(n instanceof Yn||n instanceof cu))throw new st(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zr.fromString(e,...t));return vC(r),new Yn(n.firestore,n instanceof cu?n.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="AsyncQueue";class LN{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jI(this,"async_queue_retry"),this._c=()=>{const r=Mp();r&&We(QN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Mp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Mp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Wo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Su(e))throw e;We(QN,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",kN(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=xv.createAndSchedule(this,e,t,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Ct(47125,{Pc:kN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function kN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(n,["next","error","complete"])}class no extends Tv{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new LN,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LN(e),this._firestoreClient=void 0,await e}}}function WD(n,e,t){t||(t=u1);const r=Ed(n,"firestore");if(r.isInitialized(t)){const s=r.getImmediate({identifier:t}),i=r.getOptions(t);if(xu(i,e))return s;throw new st(De.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new st(De.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dI)throw new st(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&wf(e.host)&&KE(e.host),r.initialize({options:e,instanceIdentifier:t})}function Tf(n){if(n._terminated)throw new st(De.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ZD(n),n._firestoreClient}function ZD(n){var r,s,i;const e=n._freezeSettings(),t=(function(u,h,g,p){return new jR(u,h,g,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,GI(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new GD(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bA(as.fromBase64String(e))}catch(t){throw new st(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bA(as.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bA._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rg(e,bA._jsonSchema))return bA.fromBase64String(e.bytes)}}bA._jsonSchemaVersion="firestore/bytes/1.0",bA._jsonSchema={type:bs("string",bA._jsonSchemaVersion),bytes:bs("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new st(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new st(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new st(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zo._jsonSchemaVersion}}static fromJSON(e){if(Rg(e,Zo._jsonSchema))return new Zo(e.latitude,e.longitude)}}Zo._jsonSchemaVersion="firestore/geoPoint/1.0",Zo._jsonSchema={type:bs("string",Zo._jsonSchemaVersion),latitude:bs("number"),longitude:bs("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:el._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rg(e,el._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new el(e.vectorValues);throw new st(De.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}el._jsonSchemaVersion="firestore/vectorValue/1.0",el._jsonSchema={type:bs("string",el._jsonSchemaVersion),vectorValues:bs("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=/^__.*__$/;class tO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new nc(e,this.data,this.fieldMask,t,this.fieldTransforms):new _f(e,this.data,t,this.fieldTransforms)}}class XI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new nc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{Ac:n})}}class jv{constructor(e,t,r,s,i,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YI(this.Ac)&&eO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lx(e)}Cc(e,t,r,s=!1){return new jv({Ac:e,methodName:t,Dc:r,path:Hn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xg(n){const e=n._freezeSettings(),t=lx(n._databaseId);return new rO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Uv(n,e,t,r,s,i={}){const l=n.Cc(i.merge||i.mergeFields?2:0,e,t,s);Lv("Data must be an object, but it was:",l,r);const u=WI(r,l);let h,g;if(i.merge)h=new Bi(l.fieldMask),g=l.fieldTransforms;else if(i.mergeFields){const p=[];for(const x of i.mergeFields){const B=Mb(e,x,t);if(!l.contains(B))throw new st(De.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);e6(p,B)||p.push(B)}h=new Bi(p),g=l.fieldTransforms.filter((x=>h.covers(x.field)))}else h=null,g=l.fieldTransforms;return new tO(new Qa(u),h,g)}class hx extends Gg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hx}}class Fv extends Gg{_toFieldTransform(e){return new tv(e.path,new of)}isEqual(e){return e instanceof Fv}}class Qv extends Gg{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new uf(e.serializer,LS(e.serializer,this.Fc));return new tv(e.path,t)}isEqual(e){return e instanceof Qv&&this.Fc===e.Fc}}function $I(n,e,t,r){const s=n.Cc(1,e,t);Lv("Data must be an object, but it was:",s,r);const i=[],l=Qa.empty();Iu(r,((h,g)=>{const p=kv(e,h,t);g=kn(g);const x=s.yc(p);if(g instanceof hx)i.push(p);else{const B=Yg(g,x);B!=null&&(i.push(p),l.set(p,B))}}));const u=new Bi(i);return new XI(l,u,s.fieldTransforms)}function JI(n,e,t,r,s,i){const l=n.Cc(1,e,t),u=[Mb(e,r,t)],h=[s];if(i.length%2!=0)throw new st(De.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<i.length;B+=2)u.push(Mb(e,i[B])),h.push(i[B+1]);const g=[],p=Qa.empty();for(let B=u.length-1;B>=0;--B)if(!e6(g,u[B])){const C=u[B];let U=h[B];U=kn(U);const E=l.yc(C);if(U instanceof hx)g.push(C);else{const P=Yg(U,E);P!=null&&(g.push(C),p.set(C,P))}}const x=new Bi(g);return new XI(p,x,l.fieldTransforms)}function nO(n,e,t,r=!1){return Yg(t,n.Cc(r?4:3,e))}function Yg(n,e){if(ZI(n=kn(n)))return Lv("Unsupported field value:",e,n),WI(n,e);if(n instanceof Gg)return(function(r,s){if(!YI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let l=0;for(const u of r){let h=Yg(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),l++}return{arrayValue:{values:i}}})(n,e)}return(function(r,s){if((r=kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LS(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Wr.fromDate(r);return{timestampValue:df(s.serializer,i)}}if(r instanceof Wr){const i=new Wr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:df(s.serializer,i)}}if(r instanceof Zo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bA)return{bytesValue:qS(s.serializer,r._byteString)};if(r instanceof Yn){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof el)return(function(l,u){return{mapValue:{fields:{[$w]:{stringValue:Jw},[nf]:{arrayValue:{values:l.toArray().map((g=>{if(typeof g!="number")throw u.Sc("VectorValues must only contain numeric values.");return ev(u.serializer,g)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Y1(r)}`)})(n,e)}function WI(n,e){const t={};return lS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Iu(n,((r,s)=>{const i=Yg(s,e.mc(r));i!=null&&(t[r]=i)})),{mapValue:{fields:t}}}function ZI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Wr||n instanceof Zo||n instanceof bA||n instanceof Yn||n instanceof Gg||n instanceof el)}function Lv(n,e,t){if(!ZI(t)||!q3(t)){const r=Y1(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Mb(n,e,t){if((e=kn(e))instanceof qg)return e._internalPath;if(typeof e=="string")return kv(n,e);throw _1("Field path arguments must be of type string or ",n,!1,void 0,t)}const sO=new RegExp("[~\\*/\\[\\]]");function kv(n,e,t){if(e.search(sO)>=0)throw _1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qg(...e.split("."))._internalPath}catch{throw _1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _1(n,e,t,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(i||l)&&(h+=" (found",i&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new st(De.INVALID_ARGUMENT,u+n+h)}function e6(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aO extends t6{data(){return super.data()}}function fx(n,e){return typeof e=="string"?kv(n,e):e instanceof qg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new st(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rv{}class Dv extends Rv{}function ha(n,e,...t){let r=[];e instanceof Rv&&r.push(e),r=r.concat(t),(function(i){const l=i.filter((h=>h instanceof Ov)).length,u=i.filter((h=>h instanceof gx)).length;if(l>1||l>0&&u>0)throw new st(De.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class gx extends Dv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new gx(e,t,r)}_apply(e){const t=this._parse(e);return n6(e._query,t),new sl(e.firestore,e.converter,_b(e._query,t))}_parse(e){const t=Xg(e.firestore);return(function(i,l,u,h,g,p,x){let B;if(g.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new st(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){ON(x,p);const U=[];for(const E of x)U.push(DN(h,i,E));B={arrayValue:{values:U}}}else B=DN(h,i,x)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||ON(x,p),B=nO(u,l,x,p==="in"||p==="not-in");return _r.create(g,p,B)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fa(n,e,t){const r=e,s=fx("where",n);return gx._create(s,r,t)}class Ov extends Rv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ov(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Zr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,i){let l=s;const u=i.getFlattenedFilters();for(const h of u)n6(l,h),l=_b(l,h)})(e._query,t),new sl(e.firestore,e.converter,_b(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mv extends Dv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Mv(e,t)}_apply(e){const t=(function(s,i,l){if(s.startAt!==null)throw new st(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new st(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vg(i,l)})(e._query,this._field,this._direction);return new sl(e.firestore,e.converter,(function(s,i){const l=s.explicitOrderBy.concat([i]);return new Nf(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function jf(n,e="asc"){const t=e,r=fx("orderBy",n);return Mv._create(r,t)}class Pv extends Dv{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Pv(e,t,r)}_apply(e){return new sl(e.firestore,e.converter,f1(e._query,this._limit,this._limitType))}}function Uf(n){return Z7("limit",n),Pv._create("limit",n,"F")}function DN(n,e,t){if(typeof(t=kn(t))=="string"){if(t==="")throw new st(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ES(e)&&t.indexOf("/")!==-1)throw new st(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(zr.fromString(t));if(!ct.isDocumentKey(r))throw new st(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bg(n,new ct(r))}if(t instanceof Yn)return bg(n,t._key);throw new st(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Y1(t)}.`)}function ON(n,e){if(!Array.isArray(n)||n.length===0)throw new st(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function n6(n,e){const t=(function(s,i){for(const l of s)for(const u of l.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new st(De.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(De.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class iO{convertValue(e,t="none"){switch(yu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ct(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Iu(e,((s,i)=>{r[s]=this.convertValue(i,t)})),r}convertVectorValue(e){var r,s,i;const t=(i=(s=(r=e.fields)==null?void 0:r[nf].arrayValue)==null?void 0:s.values)==null?void 0:i.map((l=>Ln(l.doubleValue)));return new el(t)}convertGeoPoint(e){return new Zo(Ln(e.latitude),Ln(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=tx(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xg(e));default:return null}}convertTimestamp(e){const t=Jl(e);return new Wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=zr.fromString(e);Qt(rI(r),9688,{name:e});const s=new xd(r.get(1),r.get(3)),i=new ct(r.popFirst(5));return s.isEqual(t)||ss(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class U0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cd extends t6{constructor(e,t,r,s,i,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(fx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(De.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=cd._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}cd._jsonSchemaVersion="firestore/documentSnapshot/1.0",cd._jsonSchema={type:bs("string",cd._jsonSchemaVersion),bundleSource:bs("string","DocumentSnapshot"),bundleName:bs("string"),bundle:bs("string")};class Pp extends cd{data(e={}){return super.data(e)}}class uu{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new U0(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Pp(this._firestore,this._userDataWriter,r.key,r,new U0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new st(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new Pp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new U0(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>i||u.type!==3)).map((u=>{const h=new Pp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new U0(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,p=-1;return u.type!==0&&(g=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:AO(u.type),doc:h,oldIndex:g,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(De.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(n){n=Ra(n,Yn);const e=Ra(n.firestore,no);return $D(Tf(e),n._key).then((t=>i6(e,n,t)))}uu._jsonSchemaVersion="firestore/querySnapshot/1.0",uu._jsonSchema={type:bs("string",uu._jsonSchemaVersion),bundleSource:bs("string","QuerySnapshot"),bundleName:bs("string"),bundle:bs("string")};class mx extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new bA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function _i(n){n=Ra(n,sl);const e=Ra(n.firestore,no),t=Tf(e),r=new mx(e);return r6(n._query),qI(t,n._query).then((s=>new uu(e,r,n,s)))}function a6(n){n=Ra(n,sl);const e=Ra(n.firestore,no),t=Tf(e),r=new mx(e);return qI(t,n._query,{source:"server"}).then((s=>new uu(e,r,n,s)))}function px(n,e,t){n=Ra(n,Yn);const r=Ra(n.firestore,no),s=Hv(n.converter,e,t);return Jg(r,[Uv(Xg(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Fs.none())])}function pf(n,e,t,...r){n=Ra(n,Yn);const s=Ra(n.firestore,no),i=Xg(s);let l;return l=typeof(e=kn(e))=="string"||e instanceof qg?JI(i,"updateDoc",n._key,e,t,r):$I(i,"updateDoc",n._key,e),Jg(s,[l.toMutation(n._key,Fs.exists(!0))])}function $g(n){return Jg(Ra(n.firestore,no),[new Hg(n._key,Fs.none())])}function so(n,e){const t=Ra(n.firestore,no),r=Ys(n),s=Hv(n.converter,e);return Jg(t,[Uv(Xg(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Fs.exists(!1))]).then((()=>r))}function oO(n,...e){var h,g,p;n=kn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||RN(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(RN(e[r])){const x=e[r];e[r]=(h=x.next)==null?void 0:h.bind(x),e[r+1]=(g=x.error)==null?void 0:g.bind(x),e[r+2]=(p=x.complete)==null?void 0:p.bind(x)}let i,l,u;if(n instanceof Yn)l=Ra(n.firestore,no),u=Mg(n._key.path),i={next:x=>{e[r]&&e[r](i6(l,n,x))},error:e[r+1],complete:e[r+2]};else{const x=Ra(n,sl);l=Ra(x.firestore,no),u=x._query;const B=new mx(l);i={next:C=>{e[r]&&e[r](new uu(l,B,x,C))},error:e[r+1],complete:e[r+2]},r6(n._query)}return(function(B,C,U,E){const P=new Iv(E),F=new Bv(C,P,U);return B.asyncQueue.enqueueAndForget((async()=>bv(await N1(B),F))),()=>{P.Nu(),B.asyncQueue.enqueueAndForget((async()=>wv(await N1(B),F)))}})(Tf(l),u,s,i)}function Jg(n,e){return(function(r,s){const i=new Wo;return r.asyncQueue.enqueueAndForget((async()=>jD(await YD(r),s,i))),i.promise})(Tf(n),e)}function i6(n,e,t){const r=t.docs.get(e._key),s=new mx(n);return new cd(n,s,e._key,r,new U0(t.hasPendingWrites,t.fromCache),e.converter)}class lO{constructor(e){let t;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=hO(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function cO(n){return new lO(n)}class uO{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Cg.provider,this._offlineComponentProvider={build:t=>new KI(t,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class dO{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Cg.provider,this._offlineComponentProvider={build:t=>new qD(t,e==null?void 0:e.cacheSizeBytes)}}}function hO(n){return new uO(n==null?void 0:n.forceOwnership)}function fO(){return new dO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xg(e)}set(e,t,r){this._verifyNotCommitted();const s=h2(e,this._firestore),i=Hv(s.converter,t,r),l=Uv(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(l.toMutation(s._key,Fs.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const i=h2(e,this._firestore);let l;return l=typeof(t=kn(t))=="string"||t instanceof qg?JI(this._dataReader,"WriteBatch.update",i._key,t,r,s):$I(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(l.toMutation(i._key,Fs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=h2(e,this._firestore);return this._mutations=this._mutations.concat(new Hg(t._key,Fs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(De.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function h2(n,e){if((n=kn(n)).firestore!==e)throw new st(De.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Ci(){return new Fv("serverTimestamp")}function Pb(n){return new Qv("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(n){return Tf(n=Ra(n,no)),new gO(n,(e=>Jg(n,e)))}(function(e,t=!0){(function(s){Cf=s})(vf),rl(new to("firestore",((r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),u=new no(new K7(r.getProvider("auth-internal")),new G7(l,r.getProvider("app-check-internal")),(function(g,p){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new st(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xd(g.options.projectId,p)})(l,s),l);return i={useFetchStreams:t,...i},u._setSettings(i),u}),"PUBLIC").setMultipleInstances(!0)),BA(xC,yC,e),BA(xC,yC,"esm2020")})();const A6="@firebase/installations",Vv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=1e4,l6=`w:${Vv}`,c6="FIS_v2",pO="https://firebaseinstallations.googleapis.com/v1",xO=3600*1e3,yO="installations",bO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Cd=new _d(yO,bO,wO);function u6(n){return n instanceof ao&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6({projectId:n}){return`${pO}/projects/${n}/installations`}function h6(n){return{token:n.token,requestStatus:2,expiresIn:BO(n.expiresIn),creationTime:Date.now()}}async function f6(n,e){const r=(await e.json()).error;return Cd.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function g6({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function vO(n,{refreshToken:e}){const t=g6(n);return t.append("Authorization",CO(e)),t}async function m6(n){const e=await n();return e.status>=500&&e.status<600?n():e}function BO(n){return Number(n.replace("s","000"))}function CO(n){return`${c6} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=d6(n),s=g6(n),i=e.getImmediate({optional:!0});if(i){const g=await i.getHeartbeatsHeader();g&&s.append("x-firebase-client",g)}const l={fid:t,authVersion:c6,appId:n.appId,sdkVersion:l6},u={method:"POST",headers:s,body:JSON.stringify(l)},h=await m6(()=>fetch(r,u));if(h.ok){const g=await h.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:h6(g.authToken)}}else throw await f6("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=/^[cdef][\w-]{21}$/,Hb="";function SO(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=IO(n);return EO.test(t)?t:Hb}catch{return Hb}}function IO(n){return _O(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new Map;function y6(n,e){const t=xx(n);b6(t,e),TO(t,e)}function b6(n,e){const t=x6.get(n);if(t)for(const r of t)r(e)}function TO(n,e){const t=jO();t&&t.postMessage({key:n,fid:e}),UO()}let ad=null;function jO(){return!ad&&"BroadcastChannel"in self&&(ad=new BroadcastChannel("[Firebase] FID Change"),ad.onmessage=n=>{b6(n.data.key,n.data.fid)}),ad}function UO(){x6.size===0&&ad&&(ad.close(),ad=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="firebase-installations-database",QO=1,Nd="firebase-installations-store";let f2=null;function Kv(){return f2||(f2=WE(FO,QO,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Nd)}}})),f2}async function E1(n,e){const t=xx(n),s=(await Kv()).transaction(Nd,"readwrite"),i=s.objectStore(Nd),l=await i.get(t);return await i.put(e,t),await s.done,(!l||l.fid!==e.fid)&&y6(n,e.fid),e}async function w6(n){const e=xx(n),r=(await Kv()).transaction(Nd,"readwrite");await r.objectStore(Nd).delete(e),await r.done}async function yx(n,e){const t=xx(n),s=(await Kv()).transaction(Nd,"readwrite"),i=s.objectStore(Nd),l=await i.get(t),u=e(l);return u===void 0?await i.delete(t):await i.put(u,t),await s.done,u&&(!l||l.fid!==u.fid)&&y6(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zv(n){let e;const t=await yx(n.appConfig,r=>{const s=LO(r),i=kO(n,s);return e=i.registrationPromise,i.installationEntry});return t.fid===Hb?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function LO(n){const e=n||{fid:SO(),registrationStatus:0};return v6(e)}function kO(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Cd.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=RO(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:DO(n)}:{installationEntry:e}}async function RO(n,e){try{const t=await NO(n,e);return E1(n.appConfig,t)}catch(t){throw u6(t)&&t.customData.serverCode===409?await w6(n.appConfig):await E1(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function DO(n){let e=await MN(n.appConfig);for(;e.registrationStatus===1;)await p6(100),e=await MN(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await zv(n);return r||t}return e}function MN(n){return yx(n,e=>{if(!e)throw Cd.create("installation-not-found");return v6(e)})}function v6(n){return OO(n)?{fid:n.fid,registrationStatus:0}:n}function OO(n){return n.registrationStatus===1&&n.registrationTime+o6<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO({appConfig:n,heartbeatServiceProvider:e},t){const r=PO(n,t),s=vO(n,t),i=e.getImmediate({optional:!0});if(i){const g=await i.getHeartbeatsHeader();g&&s.append("x-firebase-client",g)}const l={installation:{sdkVersion:l6,appId:n.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},h=await m6(()=>fetch(r,u));if(h.ok){const g=await h.json();return h6(g)}else throw await f6("Generate Auth Token",h)}function PO(n,{fid:e}){return`${d6(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(n,e=!1){let t;const r=await yx(n.appConfig,i=>{if(!B6(i))throw Cd.create("not-registered");const l=i.authToken;if(!e&&KO(l))return i;if(l.requestStatus===1)return t=HO(n,e),i;{if(!navigator.onLine)throw Cd.create("app-offline");const u=qO(i);return t=VO(n,u),u}});return t?await t:r.authToken}async function HO(n,e){let t=await PN(n.appConfig);for(;t.authToken.requestStatus===1;)await p6(100),t=await PN(n.appConfig);const r=t.authToken;return r.requestStatus===0?qv(n,e):r}function PN(n){return yx(n,e=>{if(!B6(e))throw Cd.create("not-registered");const t=e.authToken;return GO(t)?{...e,authToken:{requestStatus:0}}:e})}async function VO(n,e){try{const t=await MO(n,e),r={...e,authToken:t};return await E1(n.appConfig,r),t}catch(t){if(u6(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await w6(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await E1(n.appConfig,r)}throw t}}function B6(n){return n!==void 0&&n.registrationStatus===2}function KO(n){return n.requestStatus===2&&!zO(n)}function zO(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+xO}function qO(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function GO(n){return n.requestStatus===1&&n.requestTime+o6<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(n){const e=n,{installationEntry:t,registrationPromise:r}=await zv(e);return r?r.catch(console.error):qv(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(n,e=!1){const t=n;return await $O(t),(await qv(t,e)).token}async function $O(n){const{registrationPromise:e}=await zv(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(n){if(!n||!n.options)throw g2("App Configuration");if(!n.name)throw g2("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw g2(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function g2(n){return Cd.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="installations",WO="installations-internal",ZO=n=>{const e=n.getProvider("app").getImmediate(),t=JO(e),r=Ed(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},eM=n=>{const e=n.getProvider("app").getImmediate(),t=Ed(e,C6).getImmediate();return{getId:()=>XO(t),getToken:s=>YO(t,s)}};function tM(){rl(new to(C6,ZO,"PUBLIC")),rl(new to(WO,eM,"PRIVATE"))}tM();BA(A6,Vv);BA(A6,Vv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="analytics",rM="firebase_id",nM="origin",sM=60*1e3,aM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new z1("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wi=new _d("analytics","Analytics",iM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(n){if(!n.startsWith(Gv)){const e=Wi.create("invalid-gtag-resource",{gtagURL:n});return ei.warn(e.message),""}return n}function N6(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function oM(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function lM(n,e){const t=oM("firebase-js-sdk-policy",{createScriptURL:AM}),r=document.createElement("script"),s=`${Gv}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function cM(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function uM(n,e,t,r,s,i){const l=r[s];try{if(l)await e[l];else{const h=(await N6(t)).find(g=>g.measurementId===s);h&&await e[h.appId]}}catch(u){ei.error(u)}n("config",s,i)}async function dM(n,e,t,r,s){try{let i=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await N6(t);for(const h of l){const g=u.find(x=>x.measurementId===h),p=g&&e[g.appId];if(p)i.push(p);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),n("event",r,s||{})}catch(i){ei.error(i)}}function hM(n,e,t,r){async function s(i,...l){try{if(i==="event"){const[u,h]=l;await dM(n,e,t,u,h)}else if(i==="config"){const[u,h]=l;await uM(n,e,t,r,u,h)}else if(i==="consent"){const[u,h]=l;n("consent",u,h)}else if(i==="get"){const[u,h,g]=l;n("get",u,h,g)}else if(i==="set"){const[u]=l;n("set",u)}else n(i,...l)}catch(u){ei.error(u)}}return s}function fM(n,e,t,r,s){let i=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=hM(i,n,e,t),{gtagCore:i,wrappedGtag:window[s]}}function gM(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Gv)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=30,pM=1e3;class xM{constructor(e={},t=pM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const _6=new xM;function yM(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function bM(n){var l;const{appId:e,apiKey:t}=n,r={method:"GET",headers:yM(t)},s=aM.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let u="";try{const h=await i.json();(l=h.error)!=null&&l.message&&(u=h.error.message)}catch{}throw Wi.create("config-fetch-failed",{httpStatus:i.status,responseMessage:u})}return i.json()}async function wM(n,e=_6,t){const{appId:r,apiKey:s,measurementId:i}=n.options;if(!r)throw Wi.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Wi.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new CM;return setTimeout(async()=>{u.abort()},sM),E6({appId:r,apiKey:s,measurementId:i},l,u,e)}async function E6(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=_6){var u;const{appId:i,measurementId:l}=n;try{await vM(r,e)}catch(h){if(l)return ei.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:i,measurementId:l};throw h}try{const h=await bM(n);return s.deleteThrottleMetadata(i),h}catch(h){const g=h;if(!BM(g)){if(s.deleteThrottleMetadata(i),l)return ei.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:i,measurementId:l};throw h}const p=Number((u=g==null?void 0:g.customData)==null?void 0:u.httpStatus)===503?VB(t,s.intervalMillis,mM):VB(t,s.intervalMillis),x={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return s.setThrottleMetadata(i,x),ei.debug(`Calling attemptFetch again in ${p} millis`),E6(n,x,r,s)}}function vM(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(i),r(Wi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function BM(n){if(!(n instanceof ao)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class CM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function NM(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const i=await e,l={...r,send_to:i};n("event",t,l)}}async function _M(n,e,t,r){if(r&&r.global){const s={};for(const i of Object.keys(t))s[`user_properties.${i}`]=t[i];return n("set",s),Promise.resolve()}else{const s=await e;n("config",s,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(){if(jw())try{await YE()}catch(n){return ei.warn(Wi.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return ei.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SM(n,e,t,r,s,i,l){const u=wM(n);u.then(B=>{t[B.measurementId]=B.appId,n.options.measurementId&&B.measurementId!==n.options.measurementId&&ei.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${B.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(B=>ei.error(B)),e.push(u);const h=EM().then(B=>{if(B)return r.getId()}),[g,p]=await Promise.all([u,h]);gM(i)||lM(i,g.measurementId),s("js",new Date);const x=(l==null?void 0:l.config)??{};return x[nM]="firebase",x.update=!0,p!=null&&(x[rM]=p),s("config",g.measurementId,x),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.app=e}_delete(){return delete Hh[this.app.options.appId],Promise.resolve()}}let Hh={},HN=[];const VN={};let m2="dataLayer",TM="gtag",KN,Xv,zN=!1;function jM(){const n=[];if(qE()&&n.push("This is a browser extension environment."),nQ()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=Wi.create("invalid-analytics-context",{errorInfo:e});ei.warn(t.message)}}function UM(n,e,t){jM();const r=n.options.appId;if(!r)throw Wi.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)ei.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wi.create("no-api-key");if(Hh[r]!=null)throw Wi.create("already-exists",{id:r});if(!zN){cM(m2);const{wrappedGtag:i,gtagCore:l}=fM(Hh,HN,VN,m2,TM);Xv=i,KN=l,zN=!0}return Hh[r]=SM(n,HN,VN,e,KN,m2,t),new IM(n)}function FM(n=e3()){n=kn(n);const e=Ed(n,S1);return e.isInitialized()?e.getImmediate():QM(n)}function QM(n,e={}){const t=Ed(n,S1);if(t.isInitialized()){const s=t.getImmediate();if(xu(e,t.getOptions()))return s;throw Wi.create("already-initialized")}return t.initialize({options:e})}function LM(n,e,t){n=kn(n),_M(Xv,Hh[n.app.options.appId],e,t).catch(r=>ei.error(r))}function kM(n,e,t,r){n=kn(n),NM(Xv,Hh[n.app.options.appId],e,t,r).catch(s=>ei.error(s))}const qN="@firebase/analytics",GN="0.10.19";function RM(){rl(new to(S1,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return UM(r,s,t)},"PUBLIC")),rl(new to("analytics-internal",n,"PRIVATE")),BA(qN,GN),BA(qN,GN,"esm2020");function n(e){try{const t=e.getProvider(S1).getImmediate();return{logEvent:(r,s,i)=>kM(t,r,s,i),setUserProperties:(r,s)=>LM(t,r,s)}}catch(t){throw Wi.create("interop-component-reg-failed",{reason:t})}}}RM();const DM={apiKey:"AIzaSyBFr--na-wJGHMdev7vUhPufAJHlyP3GNQ",authDomain:"school-9d3db.firebaseapp.com",projectId:"school-9d3db",storageBucket:"school-9d3db.firebasestorage.app",messagingSenderId:"429673694272",appId:"1:429673694272:web:43390c4fdfa5bce4744ba5",measurementId:"G-8YSDYV9VBN"},Yv=ZE(DM),J0=M7(Yv),er=WD(Yv,{localCache:cO({tabManager:fO()})});FM(Yv);const OM=()=>{const n=()=>{window.location.reload()},e=()=>{window.open("https://wa.me/972568401548","_blank")},t=navigator.onLine;return o.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center p-4 text-center animate-fade-in relative overflow-hidden",children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-emerald-900/10 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-red-900/10 rounded-full blur-3xl"})]}),o.jsxs("div",{className:"relative z-10 max-w-md w-full bg-gray-900 border border-gray-800 rounded-[2.5rem] p-8 shadow-2xl",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6 border-4 border-gray-700 shadow-inner",children:t?o.jsx(IE,{className:"w-10 h-10 text-yellow-500/80"}):o.jsx(D8,{className:"w-10 h-10 text-red-500/80"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white mb-3",children:t?" ":" "}),o.jsx("p",{className:"text-gray-400 text-sm md:text-base leading-relaxed mb-8 font-medium",children:t?"      .      .":"    .       ."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:n,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3.5 rounded-xl font-bold transition-all flex items-center justify-center gap-2 shadow-lg shadow-emerald-900/20",children:[o.jsx(Tg,{className:"w-5 h-5"})," "]}),o.jsxs("div",{className:"relative flex py-2 items-center",children:[o.jsx("div",{className:"flex-grow border-t border-gray-700"}),o.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-500 text-xs font-bold",children:""}),o.jsx("div",{className:"flex-grow border-t border-gray-700"})]}),o.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[o.jsx("p",{className:"text-gray-300 text-xs font-bold mb-3",children:"       :"}),o.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-3 rounded-lg border border-gray-700",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-white font-bold text-sm",children:".   "}),o.jsx("p",{className:"text-emerald-500 text-xs dir-ltr",children:"Admin Support"})]}),o.jsx("button",{onClick:e,className:"bg-[#25D366] hover:bg-[#20bd5a] text-white p-2 rounded-full transition-colors shadow-md",children:o.jsx(gu,{className:"w-5 h-5"})})]})]})]})]}),o.jsxs("p",{className:"mt-8 text-gray-600 text-xs font-mono",children:["Status: ",t?"ONLINE_TIMEOUT":"OFFLINE"," / RETRY_PENDING"]})]})},S6=fe.createContext(void 0),MM=({children:n})=>{const[e,t]=fe.useState(null),[r,s]=fe.useState(!0),[i,l]=fe.useState(!1),u=fe.useRef(null),h=fe.useRef(!1),g=U=>{if(!U||U.isSubscriber!==!0||!U.subscriptionExpiry)return!1;const E=Date.now();let P=0;try{if(U.subscriptionExpiry.seconds)P=U.subscriptionExpiry.seconds*1e3;else if(typeof U.subscriptionExpiry=="string")P=new Date(U.subscriptionExpiry).getTime();else if(U.subscriptionExpiry instanceof Date)P=U.subscriptionExpiry.getTime();else return!1}catch(F){return console.error("Date parse error",F),!1}return!(P<=E)},p=(U,E)=>{u.current&&(u.current(),u.current=null);const P=Ys(er,"users",U);u.current=oO(P,F=>{if(F.exists()){const H=F.data(),K=g(H);t(Ae=>{if(!Ae&&!E)return null;const ae=Ae||E||{};return{...ae,...H,uid:U,role:(E==null?void 0:E.role)||H.role||"student",isSubscriber:K,createdAt:H.createdAt||ae.createdAt}})}else E&&t(H=>({...E,isSubscriber:!1}));s(!1)},F=>{console.error("Error syncing profile:",F),s(!1)})},x=(U,E)=>{localStorage.setItem("isTeacher","true"),localStorage.setItem("teacherName",U),localStorage.setItem("teacherEmail",E);const P=`teacher-${E.split("@")[0]}`;let F="https://img.freepik.com/free-vector/teacher-standing-near-blackboard_23-2147517173.jpg";U.includes("")?F="https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P":U.includes("")&&(F="https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj");const H={uid:P,email:E,displayName:U,role:"teacher",avatar:F,gender:"male",isSubscriber:!1,createdAt:{seconds:Date.now()/1e3}};t(H),s(!1),p(P,H)},B=async()=>{try{u.current&&(u.current(),u.current=null),(e==null?void 0:e.role)==="teacher"?(localStorage.removeItem("isTeacher"),localStorage.removeItem("teacherName"),localStorage.removeItem("teacherEmail"),t(null)):(await Ik(J0),e!=null&&e.uid&&localStorage.removeItem(`etqan_user_profile_${e.uid}`),t(null))}catch(U){console.error("Logout error",U)}},C=async U=>{if(e)try{let E={...U};if(U.firstName!==void 0||U.lastName!==void 0){const F=U.firstName!==void 0?U.firstName:e.firstName||"",H=U.lastName!==void 0?U.lastName:e.lastName||"";E.displayName=`${F} ${H}`.trim()}const P=Ys(er,"users",e.uid);await px(P,E,{merge:!0}),t(F=>F?{...F,...E}:null)}catch(E){throw console.error("Error updating profile:",E),E}};return fe.useEffect(()=>{if(!e||!e.isSubscriber)return;const U=setInterval(()=>{g(e)||t(P=>P?{...P,isSubscriber:!1}:null)},6e4);return()=>clearInterval(U)},[e]),fe.useEffect(()=>{const U=setTimeout(()=>{h.current||l(!0)},9e4);let E=null;if(localStorage.getItem("isTeacher")==="true"){const F=localStorage.getItem("teacherName")||"",H=localStorage.getItem("teacherEmail")||"teacher@etqan.edu",K=`teacher-${H.split("@")[0]}`;let Ae="https://img.freepik.com/free-vector/teacher-standing-near-blackboard_23-2147517173.jpg";F.includes("")?Ae="https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P":F.includes("")&&(Ae="https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj");const ae={uid:K,email:H,displayName:F,role:"teacher",avatar:Ae,gender:"male",isSubscriber:!1};t(ae),s(!1),h.current=!0,clearTimeout(U),p(K,ae)}else E=Sk(J0,async F=>{localStorage.getItem("isTeacher")!=="true"&&(h.current=!0,clearTimeout(U),F?p(F.uid,{uid:F.uid,email:F.email||"",displayName:"User",role:"student",isSubscriber:!1}):(t(null),s(!1),u.current&&(u.current(),u.current=null)))});return()=>{E&&E(),u.current&&u.current(),clearTimeout(U)}},[]),i?o.jsx(OM,{}):o.jsx(S6.Provider,{value:{user:e,loading:r,logout:B,setTeacherSession:x,updateUserProfile:C},children:r?o.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-xl rounded-full"}),o.jsx(Ir,{className:"w-12 h-12 text-emerald-500 animate-spin relative z-10"})]}),o.jsx("p",{className:"mt-4 text-gray-400 font-bold text-sm animate-pulse",children:" ..."})]}):n})},CA=()=>{const n=fe.useContext(S6);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},p2=[{id:"teacher-yazan",name:".   "},{id:"teacher-majd",name:".   "}],PM=({onLoginClick:n,onNavigate:e,onLogoutClick:t})=>{var ne;const[r,s]=fe.useState(!1),[i,l]=fe.useState(!1),{user:u}=CA(),[h,g]=fe.useState(!1),[p,x]=fe.useState([]),[B,C]=fe.useState(0),[U,E]=fe.useState(!1),P=fe.useRef(null),[F,H]=fe.useState(!1),[K,Ae]=fe.useState(""),[ae,se]=fe.useState("teacher-yazan"),[j,S]=fe.useState(!1),[O,q]=fe.useState(!1);fe.useEffect(()=>{const he=()=>{l(window.scrollY>10)};return window.addEventListener("scroll",he),()=>window.removeEventListener("scroll",he)},[]),fe.useEffect(()=>{const he=we=>{P.current&&!P.current.contains(we.target)&&g(!1)};return document.addEventListener("mousedown",he),()=>document.removeEventListener("mousedown",he)},[]);const I=async(he=!1)=>{if(!u){x([]);return}const we=`etqan_notifications_${u.uid}`,Y=365*24*60*60*1e3,Q=Date.now();if(!he){const M=localStorage.getItem(we);if(M)try{const{data:z,timestamp:re}=JSON.parse(M);if(Q-re<Y){k(z);return}}catch(z){console.error(z)}}E(!0);try{const z=ha(ln(er,"notifications"),jf("createdAt","desc"),Uf(10)),ue=(await _i(z)).docs.map(me=>({id:me.id,...me.data(),createdAt:me.data().createdAt?{seconds:me.data().createdAt.seconds}:null}));localStorage.setItem(we,JSON.stringify({data:ue,timestamp:Q})),k(ue)}catch(M){console.error("Error fetching notifications:",M)}finally{E(!1)}},k=he=>{const we=[];let Y=0,Q=[];try{const z=localStorage.getItem(`viewed_notifs_${u==null?void 0:u.uid}`);Q=z?JSON.parse(z):[]}catch(z){console.error("Error parsing viewed notifications",z)}let M=0;u!=null&&u.createdAt&&(u.createdAt.seconds?M=u.createdAt.seconds*1e3:u.createdAt instanceof Date?M=u.createdAt.getTime():typeof u.createdAt=="string"&&(M=new Date(u.createdAt).getTime())),he.forEach(z=>{const re=z.createdAt?z.createdAt.seconds?z.createdAt.seconds*1e3:new Date(z.createdAt).getTime():Date.now(),ue=z.recipientId===(u==null?void 0:u.uid),me=z.recipientId==="all",Ne=M===0||re>=M;if(ue||me&&Ne){const de=Q.includes(z.id),Oe=z.read===!0,Re=de||Oe;Re||Y++,we.push({...z,read:Re})}}),x(we),C(Y)};fe.useEffect(()=>{I()},[u]);const D=async()=>{const he=!h;if(g(he),he&&B>0){const we=[...p],Y=we.filter(re=>!re.read),Q=Y.map(re=>re.id);if(Q.length===0)return;try{const re=localStorage.getItem(`viewed_notifs_${u==null?void 0:u.uid}`),ue=re?JSON.parse(re):[],me=new Set([...ue,...Q]);localStorage.setItem(`viewed_notifs_${u==null?void 0:u.uid}`,JSON.stringify(Array.from(me)));const Ne=`etqan_notifications_${u==null?void 0:u.uid}`,de=localStorage.getItem(Ne);if(de){const Oe=JSON.parse(de);localStorage.setItem(Ne,JSON.stringify(Oe))}}catch(re){console.error("Error updating local storage for notifications",re)}const M=we.map(re=>({...re,read:!0}));x(M),C(0);const z=Y.filter(re=>re.recipientId!=="all");if(z.length>0)try{const re=mO(er);z.forEach(ue=>{const me=Ys(er,"notifications",ue.id);re.update(me,{read:!0})}),await re.commit()}catch(re){console.error("Error batch updating notifications:",re)}}},J=async()=>{if(K.trim()){S(!0);try{const he=p2.find(we=>we.id===ae);await so(ln(er,"contact_messages"),{studentId:u==null?void 0:u.uid,studentName:(u==null?void 0:u.displayName)||"",studentEmail:u==null?void 0:u.email,message:K,teacherId:ae,teacherName:he==null?void 0:he.name,createdAt:Ci(),read:!1}),await so(ln(er,"notifications"),{recipientId:ae,title:`   ${(u==null?void 0:u.displayName)||""}`,message:K.substring(0,100)+(K.length>100?"...":""),type:"message",senderName:u==null?void 0:u.displayName,senderId:u==null?void 0:u.uid,createdAt:Ci(),read:!1}),alert("    !"),Ae(""),H(!1),q(!1)}catch(he){console.error(he),alert("   ")}finally{S(!1)}}},pe=he=>{switch(he){case"quiz":return o.jsx(da,{className:"w-4 h-4 text-yellow-400"});case"file":return o.jsx(ka,{className:"w-4 h-4 text-blue-400"});case"explanation":return o.jsx(fd,{className:"w-4 h-4 text-purple-400"});case"message":return o.jsx(qo,{className:"w-4 h-4 text-emerald-400"});default:return o.jsx(Km,{className:"w-4 h-4 text-gray-400"})}},te=he=>{if(!he)return"";const we=he.toDate?he.toDate():new Date(he.seconds*1e3);return isNaN(we.getTime())?"":we.toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",","")},ce=he=>"cursor-pointer px-4 py-2 rounded-xl transition-all font-bold text-sm flex items-center gap-2 text-gray-300 hover:text-white hover:bg-gray-800";return o.jsxs(o.Fragment,{children:[o.jsxs("nav",{className:`fixed w-full z-50 transition-all duration-300 ${i?"bg-gray-950 border-b border-white/5 py-3 shadow-xl":"bg-transparent py-5"}`,children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>e("HOME"),children:[o.jsx("img",{src:"https://lh3.googleusercontent.com/d/13x8Gorb7y4H2qcQ1LVJtHY9-RoUhxg2z",alt:"Logo",className:"w-10 h-10 rounded-full object-cover border-2 border-emerald-500/50"}),o.jsx("span",{className:"text-2xl font-black text-white tracking-tight",children:""})]}),o.jsxs("div",{className:"hidden md:flex items-center bg-gray-950 p-1.5 rounded-2xl border border-white/5 shadow-xl",children:[o.jsxs("button",{onClick:()=>e("HOME"),className:ce(),children:[o.jsx(Ag,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>e("QUIZZES"),className:ce(),children:[o.jsx(da,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>e("LESSONS"),className:ce(),children:[o.jsx(ka,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>e("LESSONS_EXPLANATIONS"),className:ce(),children:[o.jsx(sg,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>e("CONTACT_TEACHER"),className:ce(),children:[o.jsx(gu,{className:"w-4 h-4"}),"  "]})]}),o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[u&&o.jsxs("div",{className:"relative",ref:P,children:[o.jsxs("button",{onClick:D,className:"p-2.5 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white transition-all relative border border-gray-700 flex items-center justify-center group","aria-label":"Notifications",children:[o.jsx(Km,{className:`w-5 h-5 ${B>0?"animate-swing":""}`}),B>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[9px] font-bold flex items-center justify-center rounded-full border-2 border-gray-900 animate-pulse",children:B>9?"+9":B})]}),h&&o.jsxs("div",{className:"absolute top-full left-0 md:left-auto md:right-0 mt-3 w-80 bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl overflow-hidden animate-fade-in-up origin-top-right z-[60]",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-900/50 backdrop-blur-sm",children:[o.jsxs("h3",{className:"font-bold text-white text-sm flex items-center gap-2",children:[o.jsx(Km,{className:"w-4 h-4 text-emerald-400"}),""]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:he=>{he.stopPropagation(),I(!0)},className:"p-1.5 hover:bg-gray-800 rounded-full text-gray-400 hover:text-white transition-colors",title:"",children:o.jsx(Tg,{className:`w-3.5 h-3.5 ${U?"animate-spin text-emerald-500":""}`})}),u.role==="student"&&o.jsx("button",{onClick:()=>{g(!1),H(!0)},className:"text-xs bg-emerald-900/30 text-emerald-400 px-2 py-1 rounded-lg hover:bg-emerald-900/50 transition-colors font-bold border border-emerald-500/30",children:o.jsx(qo,{className:"w-3 h-3"})})]})]}),o.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:U&&p.length===0?o.jsx("div",{className:"p-8 text-center flex justify-center",children:o.jsx(Ir,{className:"w-6 h-6 animate-spin text-emerald-500"})}):p.length===0?o.jsxs("div",{className:"p-12 text-center text-gray-500 text-sm flex flex-col items-center",children:[o.jsx(Km,{className:"w-10 h-10 mb-3 opacity-20"}),o.jsx("p",{children:"   "}),o.jsx("button",{onClick:()=>I(!0),className:"mt-2 text-xs text-blue-400 underline",children:""})]}):o.jsx("div",{className:"divide-y divide-gray-800",children:p.map(he=>o.jsxs("div",{className:`p-4 hover:bg-gray-800/50 transition-colors relative ${he.read?"":"bg-emerald-900/10"}`,children:[!he.read&&o.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 bg-emerald-500 rounded-full"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"mt-1 shrink-0 bg-gray-800 p-1.5 w-8 h-8 flex items-center justify-center rounded-full border border-gray-700",children:pe(he.type)}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`text-sm font-bold mb-1 ${he.read?"text-gray-400":"text-white"}`,children:he.title}),o.jsx("p",{className:"text-xs text-gray-500 leading-relaxed line-clamp-2",children:he.message}),o.jsx("span",{className:"text-[10px] text-gray-600 mt-2 block flex items-center gap-1",children:te(he.createdAt)})]})]})]},he.id))})})]})]}),u?o.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[o.jsxs("div",{className:"relative group",children:[o.jsxs("button",{onClick:()=>e("PROFILE"),className:"flex items-center gap-3 bg-gray-800 hover:bg-gray-700 text-white pr-1 pl-4 py-1.5 rounded-full transition-all border border-gray-700 hover:border-gray-600",children:[u.avatar?o.jsx("img",{src:u.avatar,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover border border-gray-600"}):o.jsx("div",{className:"w-8 h-8 bg-emerald-600 rounded-full flex items-center justify-center text-xs font-bold",children:u.displayName.charAt(0)}),o.jsxs("div",{className:"text-right flex flex-col items-end",children:[o.jsx("div",{className:"text-sm font-bold max-w-[120px] truncate leading-tight",children:u.displayName}),u.isSubscriber&&o.jsxs("div",{className:"flex items-center gap-1 bg-amber-500/10 border border-amber-500/30 px-1.5 py-0.5 rounded-md mt-0.5",children:[o.jsx("span",{className:"text-[9px] font-black text-amber-400",children:""}),o.jsx(ys,{className:"w-2.5 h-2.5 text-amber-400 fill-amber-400"})]})]})]}),o.jsxs("div",{className:"absolute top-full mt-2 left-1/2 -translate-x-1/2 w-max bg-gray-900 text-emerald-400 text-[10px] font-bold px-3 py-1.5 rounded-lg border border-gray-700 opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none shadow-xl z-50",children:["   ",o.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 border-4 border-transparent border-b-gray-900"})]})]}),o.jsx("button",{onClick:t,className:"p-2 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white rounded-full transition-all border border-red-500/20",title:" ",children:o.jsx(og,{className:"w-5 h-5"})})]}):o.jsxs("button",{onClick:n,className:"hidden md:flex bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2.5 rounded-xl font-bold transition-all shadow-lg shadow-emerald-900/20 items-center gap-2",children:[o.jsx(rb,{className:"w-4 h-4"}),""]}),o.jsx("button",{onClick:()=>s(!r),className:"md:hidden p-2.5 text-gray-300 hover:text-white bg-gray-800 rounded-xl hover:bg-gray-700 transition-colors border border-gray-700",children:r?o.jsx(Xs,{className:"w-6 h-6"}):o.jsx(KF,{className:"w-6 h-6"})})]})]})}),r&&o.jsx("div",{className:"md:hidden absolute top-full left-0 w-full bg-gray-950 border-b border-white/5 shadow-2xl animate-fade-in-up h-[calc(100vh-70px)] overflow-y-auto",children:o.jsxs("div",{className:"px-4 py-6 space-y-3",children:[u&&o.jsxs("div",{className:"mb-2",children:[o.jsx("p",{className:"text-[10px] text-emerald-500 font-bold px-4 mb-1",children:"   "}),o.jsxs("button",{onClick:()=>{e("PROFILE"),s(!1)},className:"w-full flex items-center justify-between px-4 py-3 rounded-xl text-emerald-400 hover:bg-emerald-900/20 font-bold transition-colors border border-emerald-900/30",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(YU,{className:"w-5 h-5"})," ",u.displayName]}),u.isSubscriber&&o.jsxs("div",{className:"flex items-center gap-1 bg-amber-500/10 border border-amber-500/30 px-2 py-0.5 rounded",children:[o.jsx("span",{className:"text-[9px] font-black text-amber-400",children:""}),o.jsx(ys,{className:"w-3 h-3 text-amber-400 fill-amber-400"})]})]})]}),o.jsxs("button",{onClick:()=>{e("HOME"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[o.jsx(Ag,{className:"w-5 h-5"})," "]}),o.jsxs("button",{onClick:()=>{e("TEACHER_CV"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[o.jsx(pu,{className:"w-5 h-5"}),"   "]}),o.jsxs("button",{onClick:()=>{e("QUIZZES"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[o.jsx(da,{className:"w-5 h-5"})," "]}),o.jsxs("button",{onClick:()=>{e("LESSONS"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[o.jsx(ka,{className:"w-5 h-5"})," "]}),o.jsxs("button",{onClick:()=>{e("LESSONS_EXPLANATIONS"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[o.jsx(sg,{className:"w-5 h-5"})," "]}),o.jsxs("button",{onClick:()=>{e("CONTACT_TEACHER"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[o.jsx(gu,{className:"w-5 h-5"}),"  "]}),o.jsxs("button",{onClick:()=>{e("PLATFORM_DEFINITION"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[o.jsx(TE,{className:"w-5 h-5"}),"  "]}),o.jsx("div",{className:"border-t border-gray-800 my-2 pt-2",children:u?o.jsxs("button",{onClick:()=>{t(),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-400 hover:bg-red-900/20 font-bold transition-colors",children:[o.jsx(og,{className:"w-5 h-5"}),"  "]}):o.jsxs("button",{onClick:()=>{n(),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl bg-emerald-600 text-white font-bold justify-center shadow-lg",children:[o.jsx(rb,{className:"w-5 h-5"}),"  "]})})]})})]}),F&&o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{H(!1),q(!1)}}),o.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-md relative shadow-2xl p-6 animate-fade-in-up border border-white/10",children:[o.jsx("button",{onClick:()=>{H(!1),q(!1)},className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-white",children:o.jsx(Xs,{className:"w-5 h-5"})}),O?o.jsxs("div",{className:"text-center py-6 animate-fade-in",children:[o.jsx("div",{className:"w-16 h-16 bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-emerald-400 border border-emerald-500/20",children:o.jsx(ZA,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),o.jsxs("p",{className:"text-gray-400 text-sm mb-8",children:["        ",o.jsx("span",{className:"text-emerald-400 font-bold",children:(ne=p2.find(he=>he.id===ae))==null?void 0:ne.name}),""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:J,disabled:j,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-emerald-900/20",children:j?o.jsx(Ir,{className:"w-5 h-5 animate-spin"}):" "}),o.jsx("button",{onClick:()=>q(!1),disabled:j,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-3 rounded-xl font-bold transition-all border border-gray-700",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-emerald-400 border border-emerald-500/20",children:o.jsx(qo,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-xl font-black text-white",children:" "}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"     "})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-2",children:" "}),o.jsx("div",{className:"space-y-2",children:p2.map(he=>o.jsxs("div",{onClick:()=>se(he.id),className:`p-3 rounded-xl border-2 cursor-pointer transition-all flex items-center justify-between ${ae===he.id?"border-emerald-500 bg-emerald-900/20":"border-gray-700 bg-gray-800 hover:bg-gray-750"}`,children:[o.jsx("span",{className:`text-sm font-bold ${ae===he.id?"text-emerald-400":"text-gray-300"}`,children:he.name}),ae===he.id&&o.jsx(ql,{className:"w-4 h-4 text-emerald-500"})]},he.id))})]}),o.jsx("textarea",{value:K,onChange:he=>Ae(he.target.value),placeholder:"",className:"w-full h-32 bg-gray-800 border border-gray-700 rounded-xl p-4 text-white outline-none focus:border-emerald-500 mb-4 resize-none focus:ring-2 focus:ring-emerald-500/20 transition-all"}),o.jsxs("button",{onClick:()=>{K.trim()&&q(!0)},disabled:!K.trim(),className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-emerald-900/30",children:[o.jsx(Vl,{className:"w-5 h-5"})," "]})]})]})]})]})},HM=({className:n})=>o.jsx("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001.002.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V6.79a4.831 4.831 0 0 1-1.003-.104z"})}),VM=({onStartQuiz:n,onLoginClick:e,onNavigate:t})=>{const{user:r}=CA(),[s,i]=fe.useState(!1),[l,u]=fe.useState(!1),[h,g]=fe.useState(!1),p=window.location.origin;fe.useEffect(()=>(l?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[l]);const x=()=>{i(!0),setTimeout(()=>i(!1),3e3)},B=()=>{r?t("QUIZZES"):x()},C=()=>{r?t("LESSONS"):x()},U=()=>{t("LESSONS_EXPLANATIONS")},E=()=>{t("SERVICES")},P=()=>{t("CONTACT_TEACHER")},F=()=>{navigator.clipboard.writeText(p),g(!0),setTimeout(()=>g(!1),2e3)};return o.jsxs("section",{className:"relative w-full min-h-screen flex flex-col items-center bg-transparent overflow-hidden animate-fade-in transition-colors duration-300 pt-24 md:pt-32",children:[s&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none px-4",children:o.jsxs("div",{className:"bg-red-900/90 border border-red-800 shadow-xl rounded-xl p-4 flex items-center gap-3 relative w-full max-w-md animate-fade-in-up pointer-events-auto backdrop-blur-md",children:[o.jsx("div",{className:"bg-red-800 p-2 rounded-full shrink-0",children:o.jsx($p,{className:"w-6 h-6 text-red-200"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-white text-sm",children:"  "}),o.jsx("p",{className:"text-gray-300 text-xs mt-1",children:"        ."})]}),o.jsx("button",{onClick:()=>i(!1),className:"absolute top-2 left-2 text-gray-300 hover:text-white",children:o.jsx(Xs,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{i(!1),e()},className:"mr-auto bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors shrink-0",children:""})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 w-full relative z-10 flex flex-col items-center text-center",children:[o.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black text-white leading-[1.2] lg:leading-[1.15] mb-6 drop-shadow-lg",children:["  ",o.jsx("br",{}),o.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300 inline-block relative pb-2",children:[" ",o.jsx("svg",{className:"absolute w-full h-3 -bottom-1 right-0 text-emerald-900/50 -z-10",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:o.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]}),o.jsx("br",{}),"  "]}),o.jsxs("p",{className:"text-lg md:text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto mb-10",children:["      ",o.jsx("span",{className:"text-emerald-400 font-black text-2xl px-1 relative inline-block",children:"   "}),"."]}),o.jsxs("div",{className:"flex flex-col w-full max-w-md gap-3 justify-center",children:[o.jsxs("button",{onClick:B,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:o.jsx(da,{className:"w-5 h-5 text-white"})}),o.jsx("span",{children:" "})]}),o.jsx(Ko,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),o.jsxs("button",{onClick:U,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:o.jsx(sg,{className:"w-5 h-5 text-white"})}),o.jsx("span",{children:" "})]}),o.jsx(Ko,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),o.jsxs("button",{onClick:C,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:o.jsx(ka,{className:"w-5 h-5 text-white"})}),o.jsx("span",{children:" "})]}),o.jsx(Ko,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),o.jsxs("button",{onClick:E,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:o.jsx(CE,{className:"w-5 h-5 text-white"})}),o.jsx("span",{children:""})]}),o.jsx(Ko,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),o.jsxs("button",{onClick:P,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:o.jsx(gu,{className:"w-5 h-5 text-white"})}),o.jsx("span",{children:"  "})]}),o.jsx(Ko,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),o.jsx("div",{className:"w-full mt-2",children:r?o.jsxs("button",{onClick:()=>t("PROFILE"),className:"w-full bg-gray-900 border-2 border-emerald-900 text-emerald-400 hover:bg-emerald-900/20 text-base font-bold py-3 px-5 rounded-xl transition-all flex items-center justify-center gap-3 shadow-sm hover:shadow-md",children:[o.jsx(Wa,{className:"w-5 h-5"})," "]}):o.jsxs("button",{onClick:e,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-orange-500/40 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-orange-400/20",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:o.jsx(rb,{className:"w-5 h-5 text-white"})}),o.jsx("span",{children:"  "})]}),o.jsx(Ko,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]})}),o.jsx("div",{className:"relative mt-2 flex justify-center z-50",children:o.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors text-xs font-bold bg-white/5 px-6 py-3 rounded-full border border-white/10 hover:bg-white/10 hover:border-emerald-500/30 group shadow-lg backdrop-blur-sm",children:[o.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-full group-hover:bg-emerald-500/20 transition-colors",children:o.jsx(pu,{className:"w-4 h-4 text-emerald-400 group-hover:text-emerald-300"})}),o.jsx("span",{children:"  "})]})}),l&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",onClick:()=>u(!1),children:o.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-[2rem] shadow-2xl p-6 w-full max-w-sm flex flex-col gap-6 animate-fade-in-up relative",onClick:H=>H.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-800 pb-4",children:[o.jsxs("span",{className:"text-white font-black text-lg flex items-center gap-2",children:[o.jsx(pu,{className:"w-5 h-5 text-emerald-500"}),"  "]}),o.jsx("button",{onClick:()=>u(!1),className:"p-2 rounded-full hover:bg-gray-800 text-gray-500 hover:text-white transition-colors",children:o.jsx(Xs,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("a",{href:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",target:"_blank",rel:"noreferrer",className:"flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-[#1877F2]/10 flex items-center justify-center group-hover:bg-[#1877F2] transition-all shadow-lg group-hover:shadow-[#1877F2]/30 group-hover:-translate-y-1 border border-[#1877F2]/20",children:o.jsx(Xh,{className:"w-8 h-8 text-[#1877F2] group-hover:text-white"})}),o.jsx("span",{className:"text-[10px] font-bold text-gray-400 group-hover:text-white transition-colors",children:""})]}),o.jsxs("a",{href:"#",target:"_blank",rel:"noreferrer",className:"flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-tr from-yellow-400/10 via-red-500/10 to-purple-500/10 flex items-center justify-center group-hover:from-yellow-400 group-hover:via-red-500 group-hover:to-purple-500 transition-all shadow-lg group-hover:shadow-pink-500/30 group-hover:-translate-y-1 border border-pink-500/20",children:o.jsx(NF,{className:"w-8 h-8 text-pink-500 group-hover:text-white"})}),o.jsx("span",{className:"text-[10px] font-bold text-gray-400 group-hover:text-white transition-colors",children:""})]}),o.jsxs("a",{href:"#",target:"_blank",rel:"noreferrer",className:"flex flex-col items-center gap-2 group",children:[o.jsxs("div",{className:"w-16 h-16 rounded-2xl bg-[#00f2ea]/10 flex items-center justify-center group-hover:bg-black transition-all shadow-lg group-hover:shadow-[#00f2ea]/30 group-hover:-translate-y-1 border border-[#00f2ea]/20 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#00f2ea] to-[#ff0050] opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsx(HM,{className:"w-8 h-8 text-white relative z-10"})]}),o.jsx("span",{className:"text-[10px] font-bold text-gray-400 group-hover:text-white transition-colors",children:" "})]})]}),o.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-3 flex items-center border border-gray-700/50 mt-2",children:[o.jsx("div",{className:"flex-1 px-3 text-xs text-gray-400 font-mono truncate dir-ltr opacity-70",children:p}),o.jsxs("button",{onClick:F,className:`px-4 py-2.5 rounded-lg font-bold text-xs flex items-center gap-2 transition-all shadow-md shrink-0 ${h?"bg-emerald-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[h?o.jsx(NE,{className:"w-3.5 h-3.5"}):o.jsx(Ew,{className:"w-3.5 h-3.5"}),h?" ":" "]})]})]})})]})]})]})},x2=({className:n})=>o.jsx("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),y2=({className:n})=>o.jsx("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),KM=({className:n})=>o.jsx("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.03 2 11c0 2.87 1.56 5.47 4 7.1V22l3.57-1.96c.78.22 1.6.34 2.43.34 5.52 0 10-4.03 10-9s-4.48-9-10-9zm1.06 12.07l-2.6-2.78-5.07 2.78 5.58-5.93 2.62 2.78 5.05-2.78-5.58 5.93z"})}),qu=[{id:1,name:" ",text:"      . ",platform:"whatsapp",time:"10:30 "},{id:2,name:" ",text:"     . ",platform:"messenger",time:"11:15 "},{id:3,name:" ",text:"    .",platform:"telegram",time:"09:45 "},{id:4,name:" ",text:"      .",platform:"whatsapp",time:"02:20 "},{id:5,name:" ",text:"        .",platform:"messenger",time:"04:10 "},{id:6,name:" ",text:"       . ",platform:"telegram",time:"08:00 "},{id:7,name:"  ",text:"        . ",platform:"whatsapp",time:"01:30 "},{id:8,name:" ",text:"       .",platform:"messenger",time:"06:45 "},{id:9,name:" ",text:"      .",platform:"telegram",time:"03:15 "},{id:10,name:" ",text:"      ! ",platform:"whatsapp",time:"12:00 "},{id:11,name:" ",text:"   .  . ",platform:"messenger",time:"07:30 "},{id:12,name:"  ",text:"       .",platform:"telegram",time:"10:10 "},{id:13,name:" ",text:"     .",platform:"whatsapp",time:"05:50 "},{id:14,name:" ",text:"     . ",platform:"messenger",time:"09:20 "},{id:15,name:" ",text:"      . ",platform:"telegram",time:"08:45 "}],zM=({onNavigate:n})=>{const[e,t]=fe.useState(0),[r,s]=fe.useState(!0);fe.useEffect(()=>{const h=setInterval(()=>{s(!1),setTimeout(()=>{t(g=>(g+1)%qu.length),s(!0)},500)},7e3);return()=>clearInterval(h)},[]);const i=h=>{switch(h){case"whatsapp":return o.jsx(x2,{className:"w-5 h-5 text-white"});case"messenger":return o.jsx(KM,{className:"w-5 h-5 text-white"});case"telegram":return o.jsx(y2,{className:"w-5 h-5 text-white"});default:return null}},l=h=>{switch(h){case"whatsapp":return"bg-green-500";case"messenger":return"bg-blue-600";case"telegram":return"bg-sky-500";default:return"bg-gray-500"}},u=h=>o.jsxs("div",{className:"bg-gray-900 md:bg-white/5 md:backdrop-blur-md rounded-3xl p-6 shadow-sm md:shadow-lg border border-gray-800 md:border-white/5 relative h-full flex flex-col hover:border-white/20 hover:bg-gray-800 md:hover:bg-white/10 transition-all",children:[o.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 bg-gray-900 md:bg-white/5 border-b border-r border-gray-800 md:border-white/5 transform rotate-45"}),o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-900/50 flex items-center justify-center text-emerald-300 font-bold text-lg border border-emerald-500/20",children:h.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white",children:h.name}),o.jsx("span",{className:"text-xs text-gray-500 font-medium",children:h.time})]})]}),o.jsx("div",{className:`w-8 h-8 rounded-full ${l(h.platform)} flex items-center justify-center shadow-md ring-2 ring-black/20`,children:i(h.platform)})]}),o.jsxs("p",{className:"text-gray-300 text-base leading-relaxed font-medium",children:['"',h.text,'"']})]});return o.jsx("section",{className:"py-20 relative overflow-hidden",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-black text-white mb-4 drop-shadow-md",children:" "}),o.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),o.jsx("p",{className:"mt-6 text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"                       ."}),o.jsx("div",{className:"mt-8 flex justify-center animate-fade-in-up delay-200",children:o.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-900/20 border border-emerald-500/30 px-5 py-2.5 rounded-full shadow-lg backdrop-blur-sm",children:[o.jsx(mu,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),o.jsx("span",{className:"text-emerald-300 font-bold text-sm",children:"   "})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[o.jsxs("div",{className:"bg-gray-900 md:bg-white/5 md:backdrop-blur-xl p-6 rounded-[2.5rem] border border-gray-800 md:border-white/10 hover:border-emerald-500/50 transition-all group flex flex-col h-full shadow-lg md:shadow-2xl",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 mb-4",children:[o.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-2xl overflow-hidden shrink-0 border-4 border-gray-800 md:border-white/10 group-hover:border-emerald-500/30 group-hover:scale-105 transition-all",children:o.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"text-center sm:text-right flex-1",children:[o.jsx("h3",{className:"text-2xl font-black text-emerald-400 mb-2 inline-block border-b-2 border-emerald-500/30 pb-1 shadow-[0_2px_10px_-2px_rgba(16,185,129,0.2)]",children:".   "}),o.jsx("p",{className:"text-gray-200 font-bold text-base mb-3 drop-shadow-sm",children:"  "}),o.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-400 text-xs font-medium bg-black/30 px-3 py-1.5 rounded-full inline-flex shadow-inner border border-white/5",children:[o.jsx(nb,{className:"w-3.5 h-3.5 text-emerald-500"}),"   - "]})]})]}),o.jsxs("div",{className:"mt-auto pt-4 border-t border-white/10",children:[o.jsx("p",{className:"text-xs font-bold text-gray-500 mb-3 text-center sm:text-right",children:" "}),o.jsxs("div",{className:"flex gap-3 justify-center sm:justify-start",children:[o.jsx("a",{href:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:o.jsx(Xh,{className:"w-6 h-6"})}),o.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:o.jsx(x2,{className:"w-6 h-6"})}),o.jsx("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:o.jsx(y2,{className:"w-6 h-6"})})]})]})]}),o.jsxs("div",{className:"bg-gray-900 md:bg-white/5 md:backdrop-blur-xl p-6 rounded-[2.5rem] border border-gray-800 md:border-white/10 hover:border-blue-500/50 transition-all group flex flex-col h-full shadow-lg md:shadow-2xl",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 mb-4",children:[o.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-2xl overflow-hidden shrink-0 border-4 border-gray-800 md:border-white/10 group-hover:border-blue-500/30 group-hover:scale-105 transition-all",children:o.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:".   ",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"text-center sm:text-right flex-1",children:[o.jsx("h3",{className:"text-2xl font-black text-emerald-400 mb-2 inline-block border-b-2 border-emerald-500/30 pb-1 shadow-[0_2px_10px_-2px_rgba(16,185,129,0.2)]",children:".   "}),o.jsx("p",{className:"text-gray-200 font-bold text-base mb-3 drop-shadow-sm",children:"  "}),o.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-400 text-xs font-medium bg-black/30 px-3 py-1.5 rounded-full inline-flex shadow-inner border border-white/5",children:[o.jsx(nb,{className:"w-3.5 h-3.5 text-blue-500"}),"   - "]})]})]}),o.jsxs("div",{className:"mt-auto pt-4 border-t border-white/10",children:[o.jsx("p",{className:"text-xs font-bold text-gray-500 mb-3 text-center sm:text-right",children:" "}),o.jsxs("div",{className:"flex gap-3 justify-center sm:justify-start",children:[o.jsx("a",{href:"#",className:"w-12 h-12 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:o.jsx(Xh,{className:"w-6 h-6"})}),o.jsx("a",{href:"#",className:"w-12 h-12 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:o.jsx(x2,{className:"w-6 h-6"})}),o.jsx("a",{href:"#",className:"w-12 h-12 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:o.jsx(y2,{className:"w-6 h-6"})})]})]})]})]}),o.jsx("div",{className:"text-center mb-12",children:o.jsxs("button",{onClick:()=>n("TEACHER_CV"),className:"inline-flex items-center gap-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white text-xl font-bold px-10 py-5 rounded-full shadow-lg hover:shadow-[0_0_20px_rgba(16,185,129,0.4)] transition-all transform hover:-translate-y-1 border border-emerald-500/50",children:[o.jsx(yf,{className:"w-6 h-6"}),"  ",o.jsx(Nw,{className:"w-6 h-6"})]})}),o.jsxs("div",{className:"mb-0 pt-10 border-t border-white/10",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("h2",{className:"text-3xl font-black text-white mb-4",children:"  "}),o.jsx("p",{className:"text-gray-400",children:"          "})]}),o.jsxs("div",{className:`transform transition-all duration-700 ease-out ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[o.jsxs("div",{className:"block md:hidden space-y-4",children:[u(qu[e]),u(qu[(e+1)%qu.length])]}),o.jsx("div",{className:"hidden md:grid md:grid-cols-3 gap-6",children:[0,1,2].map(h=>{const g=(e+h)%qu.length;return o.jsx("div",{children:u(qu[g])},qu[g].id)})})]})]})]})})},XN=({options:n,value:e,onChange:t,placeholder:r,disabled:s})=>{const[i,l]=fe.useState(!1),u=fe.useRef(null);fe.useEffect(()=>{const g=p=>{u.current&&!u.current.contains(p.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=n.find(g=>g.value===e&&!g.isHeader);return o.jsxs("div",{className:`relative ${i?"z-[100]":"z-0"}`,ref:u,children:[o.jsxs("button",{type:"button",onClick:()=>!s&&l(!i),className:`w-full px-3 py-2.5 rounded-lg border flex justify-between items-center outline-none transition-all font-bold text-sm
            ${s?"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 cursor-not-allowed":i?"bg-white dark:bg-gray-800 border-emerald-500 ring-1 ring-emerald-500/20 text-gray-800 dark:text-white shadow-sm":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-emerald-500 text-gray-800 dark:text-white"}
         `,children:[o.jsx("span",{className:`truncate ${h?"":"text-gray-500"}`,children:h?h.label:r}),o.jsx(fu,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ${i?"rotate-180 text-emerald-500":""}`})]}),i&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl max-h-48 overflow-y-auto custom-scrollbar animate-fade-in p-1 z-[100]",children:n.map((g,p)=>{if(g.isHeader)return o.jsx("div",{className:"px-3 py-1.5 text-[10px] font-black text-gray-500 uppercase tracking-wider mt-1 first:mt-0 bg-gray-100 dark:bg-gray-800 rounded-md mb-1",children:g.label},p);const x=g.value===e;return o.jsxs("div",{onClick:()=>{t(g.value),l(!1)},className:`px-3 py-2 rounded-md font-bold text-xs cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${x?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}
                   `,children:[g.label,x&&o.jsx(ql,{className:"w-3 h-3"})]},p)})})]})},qM=({isOpen:n,onClose:e})=>{const[t,r]=fe.useState("ROLE_SELECTION"),[s,i]=fe.useState(!1),[l,u]=fe.useState(null),[h,g]=fe.useState(null),{setTeacherSession:p}=CA(),[x,B]=fe.useState(""),[C,U]=fe.useState(""),[E,P]=fe.useState(""),[F,H]=fe.useState(""),[K,Ae]=fe.useState(""),[ae,se]=fe.useState(""),[j,S]=fe.useState(""),[O,q]=fe.useState(""),[I,k]=fe.useState(""),[D,J]=fe.useState("male"),[pe,te]=fe.useState(""),[ce,ne]=fe.useState(!1),[he,we]=fe.useState(!1),[Y,Q]=fe.useState("");if(!n)return null;const M=()=>{r("ROLE_SELECTION"),u(null),g(null),B(""),U(""),P(""),H(""),Ae(""),se(""),S(""),q(""),k(""),J("male"),Q(""),te(""),ne(!1),we(!1),i(!1)},z=()=>{M(),e()},re=Ee=>{Ee.preventDefault(),u(null),i(!0),setTimeout(()=>{x==="2001"?(p(".   ","yazan@etqan.edu"),g("   !  ..."),setTimeout(()=>window.location.reload(),1e3)):x==="2003"?(p(".   ","majd@etqan.edu"),g("    !  ..."),setTimeout(()=>window.location.reload(),1e3)):(u("   "),i(!1))},100)},ue=async Ee=>{Ee.preventDefault(),u(null),i(!0);try{await Nk(J0,C.trim(),E),g("   !   ..."),setTimeout(()=>{window.location.reload()},1e3)}catch(oe){console.error(oe),u("      "),i(!1)}},me=async Ee=>{if(Ee.preventDefault(),!ce){u("     ");return}u(null),i(!0);try{const At=(await Ck(J0,O.trim(),I)).user,ft="",Ve=j==="university"&&pe?pe:"";await px(Ys(er,"users",At.uid),{firstName:F,lastName:K,age:ae,grade:j,gender:D,school:Ve,avatar:ft,profileBackground:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",email:O.trim(),role:"student",totalXP:0,quizzesCompleted:0,createdAt:new Date,acceptedPrivacy:!0,acceptedPrivacyDate:new Date}),g("   !  ..."),setTimeout(()=>{window.location.reload()},1e3)}catch(oe){console.error(oe),oe.code==="auth/email-already-in-use"?u("   "):oe.code==="auth/weak-password"?u("   "):u("    .    ."),i(!1)}},Ne=async Ee=>{Ee.preventDefault(),u(null),i(!0);try{await Bk(J0,Y.trim()),g("   !")}catch(oe){console.error(oe),oe.code==="auth/user-not-found"?u("    "):oe.code==="auth/invalid-email"?u("    "):oe.code==="auth/too-many-requests"?u("           ."):u("          .")}finally{i(!1)}},de=()=>{switch(t){case"TEACHER_LOGIN":return"    ...";case"STUDENT_LOGIN":return"  ...";case"STUDENT_SIGNUP":return"   ...";case"FORGOT_PASSWORD":return"   ...";default:return" ..."}},Oe=()=>o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800 dark:text-white",children:"   "}),o.jsxs("button",{onClick:()=>r("STUDENT_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all",children:[o.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900 p-3 rounded-full ml-4 group-hover:bg-emerald-200 dark:group-hover:bg-emerald-800 transition-colors",children:o.jsx(Wa,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),o.jsxs("div",{className:"text-right flex-1",children:[o.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"    "})]}),o.jsx($y,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})]}),o.jsxs("button",{onClick:()=>r("TEACHER_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[o.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full ml-4 group-hover:bg-blue-200 dark:group-hover:bg-blue-800 transition-colors",children:o.jsx(Gl,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{className:"text-right flex-1",children:[o.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"   "})]}),o.jsx($y,{className:"w-5 h-5 text-gray-300 group-hover:text-blue-500"})]})]}),Re=()=>o.jsxs("form",{onSubmit:re,className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(WA,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:" "}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"     "})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),o.jsx("input",{type:"password",value:x,onChange:Ee=>B(Ee.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900 outline-none transition-all text-center text-lg tracking-widest bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0})]}),o.jsx("button",{type:"submit",className:"mt-4 w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 dark:shadow-none",children:""})]}),et=()=>o.jsxs("form",{onSubmit:ue,className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:" !   "})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"email",value:C,onChange:Ee=>U(Ee.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),o.jsx(qo,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"password",value:E,onChange:Ee=>P(Ee.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0}),o.jsx(WA,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]}),o.jsx("div",{className:"text-left",children:o.jsx("button",{type:"button",onClick:()=>r("FORGOT_PASSWORD"),className:"text-xs text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})})]}),o.jsx("button",{type:"submit",disabled:s,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),o.jsx("div",{className:"mt-4 text-center",children:o.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["   "," ",o.jsx("button",{type:"button",onClick:()=>r("STUDENT_SIGNUP"),className:"text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})]})})]}),tt=()=>{const Ee=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(At=>({label:` ${At}`,value:At.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"  ",value:"English Major - QOU"},{label:" ",value:"university"}],oe=[{label:"",value:"male"},{label:"",value:"female"}];return o.jsxs("form",{onSubmit:me,className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"   "}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"   "})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),o.jsx("input",{type:"text",value:F,onChange:At=>H(At.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),o.jsx("input",{type:"text",value:K,onChange:At=>Ae(At.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),o.jsx("input",{type:"number",value:ae,onChange:At=>se(At.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),o.jsx(XN,{options:oe,value:D,onChange:At=>J(At),placeholder:" "})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 block mb-1",children:" "}),o.jsx(XN,{options:Ee,value:j,onChange:At=>S(At),placeholder:"  / "})]}),j==="university"&&o.jsxs("div",{className:"space-y-1 animate-fade-in",children:[o.jsx("label",{className:"text-xs font-bold text-blue-400 block mb-1",children:"  / "}),o.jsx("input",{type:"text",value:pe,onChange:At=>te(At.target.value),placeholder:":   - ",className:"w-full px-3 py-2 rounded-lg border border-blue-500/50 focus:border-blue-500 outline-none bg-blue-50 dark:bg-blue-900/10 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),o.jsx("input",{type:"email",value:O,onChange:At=>q(At.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),o.jsx("input",{type:"password",value:I,onChange:At=>k(At.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0,minLength:6})]}),o.jsxs("div",{className:"flex items-center gap-2 px-1 mt-2",children:[o.jsx("input",{id:"privacy-policy",type:"checkbox",checked:ce,onChange:At=>ne(At.target.checked),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500 dark:focus:ring-emerald-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 cursor-pointer"}),o.jsxs("label",{htmlFor:"privacy-policy",className:"text-xs font-bold text-gray-500 dark:text-gray-400 select-none",children:["  ",o.jsx("span",{onClick:At=>{At.preventDefault(),we(!0)},className:"text-emerald-500 dark:text-emerald-400 hover:underline cursor-pointer",children:"   "})]})]}),o.jsx("button",{type:"submit",disabled:s||!ce,className:`mt-2 w-full text-white py-3 rounded-xl font-bold transition-all shadow-lg dark:shadow-none flex items-center justify-center gap-2 ${ce?"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-200":"bg-gray-400 cursor-not-allowed opacity-50"}`,children:" "}),o.jsx("div",{className:"text-center mt-2",children:o.jsx("button",{type:"button",onClick:()=>r("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors",children:"    "})})]})},mt=()=>o.jsxs("form",{onSubmit:Ne,className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),o.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:["     ",o.jsx("strong",{children:""}),"  "]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"email",value:Y,onChange:Ee=>Q(Ee.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),o.jsx(qo,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),o.jsx("button",{type:"submit",disabled:s,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:"  "}),o.jsx("div",{className:"text-center mt-4",children:o.jsxs("button",{type:"button",onClick:()=>r("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors flex items-center justify-center gap-1 mx-auto",children:[o.jsx(Nw,{className:"w-4 h-4"}),"  "]})})]});return o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm transition-opacity duration-300",onClick:z}),o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-md relative shadow-2xl overflow-visible animate-fade-in-up p-6 min-h-[400px] flex flex-col border border-gray-100 dark:border-gray-800",children:[s&&!h&&o.jsxs("div",{className:"absolute inset-0 bg-gray-950/95 backdrop-blur-xl z-50 flex flex-col items-center justify-center animate-fade-in rounded-3xl border border-white/10 transition-all duration-500",children:[o.jsxs("div",{className:"relative mb-8",children:[o.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-2xl rounded-full animate-pulse"}),o.jsxs("div",{className:"relative w-24 h-24",children:[o.jsx("div",{className:"absolute inset-0 border-t-4 border-emerald-500 border-solid rounded-full animate-spin"}),o.jsx("div",{className:"absolute inset-2 border-r-4 border-blue-500 border-solid rounded-full animate-spin-reverse"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(Wa,{className:"w-8 h-8 text-white/80"})})]})]}),o.jsx("h4",{className:"text-xl font-black text-white mb-2 tracking-tight animate-pulse",children:de()}),o.jsxs("p",{className:"text-gray-400 text-sm font-medium flex items-center gap-2",children:[o.jsx(Ir,{className:"w-3 h-3 animate-spin"}),"    ..."]})]}),o.jsx("button",{onClick:z,disabled:s,className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 disabled:opacity-50",children:o.jsx(Xs,{className:"w-5 h-5"})}),t!=="ROLE_SELECTION"&&!h&&t!=="FORGOT_PASSWORD"&&o.jsxs("button",{onClick:()=>r("ROLE_SELECTION"),disabled:s,className:"absolute top-4 right-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 flex items-center gap-1 disabled:opacity-50",children:[o.jsx($y,{className:"w-5 h-5"}),o.jsx("span",{className:"text-xs font-bold",children:""})]}),o.jsx("div",{className:"mt-6 flex-1 flex flex-col justify-center",children:h?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center gap-4 animate-fade-in",children:[o.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-2 animate-[bounce_1s_infinite]",children:o.jsx(ql,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white leading-relaxed px-4 whitespace-pre-line",children:h}),t==="FORGOT_PASSWORD"&&o.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-900 rounded-xl p-4 mx-4 text-sm text-yellow-800 dark:text-yellow-200 text-right shadow-sm mt-4",children:[o.jsxs("p",{className:"font-bold flex items-center gap-2 mb-2 text-yellow-900 dark:text-yellow-100",children:[o.jsx($p,{className:"w-5 h-5"}),"  :"]}),o.jsxs("p",{className:"leading-relaxed",children:["         ",o.jsx("strong",{children:"    (Spam)"}),"  (Junk)."]})]}),t==="FORGOT_PASSWORD"&&o.jsx("button",{onClick:()=>{r("STUDENT_LOGIN"),g(null)},className:"mt-8 bg-emerald-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none transform hover:scale-105 duration-200",children:"  "})]}):o.jsxs(o.Fragment,{children:[t==="ROLE_SELECTION"&&Oe(),t==="TEACHER_LOGIN"&&Re(),t==="STUDENT_LOGIN"&&et(),t==="STUDENT_SIGNUP"&&tt(),t==="FORGOT_PASSWORD"&&mt(),l&&o.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 rounded-lg flex items-start gap-2 text-red-600 dark:text-red-400 text-sm animate-fade-in",children:[o.jsx($p,{className:"w-5 h-5 shrink-0 mt-0.5"}),o.jsx("span",{className:"font-medium",children:l})]})]})}),he&&o.jsxs("div",{className:"absolute inset-0 bg-gray-900 z-[150] rounded-3xl overflow-hidden flex flex-col animate-fade-in-up",children:[o.jsxs("div",{className:"bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700",children:[o.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[o.jsx(jg,{className:"w-5 h-5 text-emerald-500"})," "]}),o.jsx("button",{onClick:()=>we(!1),className:"text-gray-400 hover:text-white",children:o.jsx(Xs,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 text-gray-300 text-sm leading-relaxed space-y-4 custom-scrollbar text-right",children:[o.jsxs("div",{className:"bg-emerald-900/20 p-4 rounded-xl border border-emerald-500/20 mb-4",children:[o.jsx("p",{className:"font-bold text-white mb-1",children:"    !"}),o.jsx("p",{className:"text-xs",children:"       ."})]}),o.jsxs("ul",{className:"space-y-4 list-disc list-inside",children:[o.jsxs("li",{children:[o.jsx("strong",{className:"text-white",children:" :"}),"                ."]}),o.jsxs("li",{children:[o.jsx("strong",{className:"text-white",children:" :"}),"                ."]}),o.jsxs("li",{children:[o.jsx("strong",{className:"text-white",children:" :"}),"            .        ."]}),o.jsxs("li",{children:[o.jsx("strong",{className:"text-white",children:" :"}),"             ( )."]})]}),o.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700 text-center",children:o.jsx("button",{onClick:()=>we(!1),className:"bg-emerald-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-emerald-700 transition-colors w-full",children:" "})})]})]})]})]})},GM=()=>{const{user:n}=CA(),[e,t]=fe.useState(!1),[r,s]=fe.useState(null),[i,l]=fe.useState("MCQ"),[u,h]=fe.useState({title:"",subject:"English",grade:"",category:"Language",description:"",duration:"30",questionDuration:"",isPremium:!1}),[g,p]=fe.useState([]),[x,B]=fe.useState(null),[C,U]=fe.useState({question:"",options:["","","",""],correctAnswer:0,explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"}),[E,P]=fe.useState(""),[F,H]=fe.useState(!1),[K,Ae]=fe.useState([]),[ae,se]=fe.useState(!1),[j,S]=fe.useState(""),O=(M,z)=>{U(re=>({...re,[M]:z}))},q=(M,z)=>{const re=[...C.options];re[M]=z,U(ue=>({...ue,options:re}))},I=()=>{if(!C.question.trim()){alert("   ");return}if((i==="MCQ"||i==="READING")&&C.options.some(re=>!re.trim())){alert("   ");return}if(i==="READING"&&!C.passageContent.trim()){alert("   ");return}if(i==="REORDER"&&!E.trim()){alert("    ");return}let M=[];if(i==="TF")M=["",""];else if(i==="REORDER"){if(M=E.split(" ").filter(re=>re.trim().length>0),M.length<2){alert("       ");return}}else M=C.options;const z={id:x||Date.now(),question:C.question,options:M,correctAnswer:C.correctAnswer,explanation:C.explanation||"",type:i};i==="READING"&&(z.passageContent=C.passageContent,z.generalInstruction=C.generalInstruction,z.passageFontSize=C.passageFontSize),x?(p(g.map(re=>re.id===x?z:re)),B(null)):p([...g,z]),k()},k=()=>{U({question:"",options:["","","",""],correctAnswer:0,explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"}),P(""),B(null),l("MCQ")},D=M=>{const z=g.find(re=>re.id===M);z&&(B(M),l(z.type||"MCQ"),z.type==="REORDER"?(P(z.options.join(" ")),U({question:z.question,options:["","","",""],correctAnswer:z.correctAnswer,explanation:z.explanation||"",passageContent:z.passageContent||"",generalInstruction:z.generalInstruction||"",passageFontSize:z.passageFontSize||"md"})):(U({question:z.question,options:z.type==="TF"?["","","",""]:z.options.length>=4?z.options:[...z.options,...Array(4-z.options.length).fill("")],correctAnswer:z.correctAnswer,explanation:z.explanation||"",passageContent:z.passageContent||"",generalInstruction:z.generalInstruction||"",passageFontSize:z.passageFontSize||"md"}),P("")),window.scrollTo({top:0,behavior:"smooth"}))},J=()=>{k()},pe=M=>{window.confirm("      ")&&(p(g.filter(z=>z.id!==M)),x===M&&k())},te=async()=>{if(!u.title||!u.grade){alert("     ");return}if(g.length===0){alert("     ");return}t(!0);try{const M={title:u.title,subject:u.subject,grade:u.grade,category:u.category,questions:g,createdBy:(n==null?void 0:n.uid)||"teacher",teacherName:(n==null?void 0:n.displayName)||"",description:u.description||"",duration:parseInt(u.duration)||30,questionDuration:u.questionDuration?parseInt(u.questionDuration):null,isPremium:u.isPremium||!1};if(r){const z=Ys(er,"quizzes",r);await pf(z,{...M,updatedAt:Ci()}),alert("    !")}else await so(ln(er,"quizzes"),{...M,createdAt:Ci()}),alert("    !");h({title:"",subject:"English",grade:"",category:"Language",description:"",duration:"30",questionDuration:"",isPremium:!1}),p([]),s(null),k()}catch(M){console.error("Error saving quiz:",M),alert("   ")}finally{t(!1)}},ce=()=>{window.confirm("        .")&&(h({title:"",subject:"English",grade:"",category:"Language",description:"",duration:"30",questionDuration:"",isPremium:!1}),p([]),s(null),k())},ne=async()=>{se(!0);try{const M="etqan_teacher_import_list",re=Date.now(),ue=localStorage.getItem(M);if(ue){const{data:Oe,timestamp:Re}=JSON.parse(ue);if(re-Re<3e5){Ae(Oe),se(!1);return}}const me=ha(ln(er,"quizzes"),jf("createdAt","desc"),Uf(50)),de=(await _i(me)).docs.map(Oe=>({id:Oe.id,...Oe.data()}));Ae(de),localStorage.setItem(M,JSON.stringify({data:de,timestamp:re}))}catch(M){console.error(M)}se(!1)},he=()=>{ne(),H(!0)},we=M=>{g.length>0&&!window.confirm("         .")||(s(M.id||null),h({title:M.title,subject:M.subject,grade:M.grade,category:M.category||"Language",description:M.description||"",duration:M.duration?M.duration.toString():"30",questionDuration:M.questionDuration?M.questionDuration.toString():"",isPremium:M.isPremium||!1}),p(M.questions),H(!1),k(),window.scrollTo({top:0,behavior:"smooth"}))},Y=K.filter(M=>(M.title?M.title.toLowerCase().includes(j.toLowerCase()):!1)||(M.grade?M.grade.includes(j):!1)),Q=[{value:"sm",label:""},{value:"md",label:""},{value:"lg",label:""},{value:"xl",label:" "}];return o.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in transition-colors duration-300 text-gray-100",children:[o.jsx("div",{className:"bg-gray-950 pt-10 pb-28 px-4 border-b border-white/5 shadow-sm relative overflow-hidden",children:o.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("div",{className:"p-4 bg-blue-900/30 rounded-3xl shadow-inner border border-blue-800",children:o.jsx(QB,{className:"w-10 h-10 text-blue-400"})}),o.jsxs("div",{className:"text-center md:text-right",children:[o.jsx("h1",{className:"text-3xl md:text-5xl font-black tracking-tight text-white mb-2",children:" "}),o.jsxs("p",{className:"text-blue-400 font-bold text-lg",children:["  ",n==null?void 0:n.displayName]})]})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs("button",{onClick:he,className:"bg-emerald-600 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-emerald-700 transition-colors shadow-lg",children:[o.jsx(Jp,{className:"w-5 h-5"})," "]})})]})})}),o.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-16 relative z-20",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[o.jsxs("div",{className:`bg-gray-900 rounded-[2rem] shadow-xl border p-6 md:p-8 transition-all ${r?"border-blue-500 ring-2 ring-blue-900":"border-gray-700"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-8 border-b border-gray-700 pb-4",children:[o.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-3",children:[o.jsx("div",{className:"bg-blue-900/30 p-2 rounded-lg",children:o.jsx(da,{className:"w-5 h-5 text-blue-400"})}),r?"  ":"  "]}),r&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"bg-blue-900 text-blue-300 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:" "}),o.jsx("button",{onClick:ce,className:"text-red-500 hover:bg-red-900/20 px-2 rounded",children:o.jsx(Xs,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),o.jsx("input",{type:"text",value:u.title,onChange:M=>h({...u,title:M.target.value}),placeholder:":    - ",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 transition-all outline-none font-bold text-white placeholder-gray-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(H1,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),o.jsxs("select",{value:u.subject,onChange:M=>h({...u,subject:M.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[o.jsx("option",{value:"English",children:"English"}),o.jsx("option",{value:"Science",children:""}),o.jsx("option",{value:"Math",children:""})]})]})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"    "}),o.jsxs("div",{className:"relative",children:[o.jsx(Gl,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),o.jsxs("select",{value:u.grade,onChange:M=>h({...u,grade:M.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[o.jsx("option",{value:"",className:"text-gray-400",children:" "}),o.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(M=>o.jsxs("option",{value:M.toString(),children:[" ",M]},M))}),o.jsx("optgroup",{label:" ",children:o.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:o.jsx(fu,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"col-span-2 md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"  /  (Category)"}),o.jsxs("div",{className:"relative",children:[o.jsx(LE,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),o.jsxs("select",{value:u.category,onChange:M=>h({...u,category:M.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[o.jsx("option",{value:"Language",children:"Language ()"}),o.jsx("option",{value:"Reading",children:"Reading ()"}),o.jsx("option",{value:"Writing",children:"Writing ()"}),o.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"}),o.jsx("option",{value:"General",children:"  (General Quiz)"})]}),o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:o.jsx(fu,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[o.jsx(ig,{className:"w-4 h-4 text-blue-600"}),"  ()"]}),o.jsx("input",{type:"number",min:"1",value:u.duration,onChange:M=>h({...u,duration:M.target.value}),placeholder:": 30",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 transition-all outline-none font-bold text-white"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[o.jsx(kE,{className:"w-4 h-4 text-blue-600"}),"   ()"]}),o.jsx("input",{type:"number",min:"5",value:u.questionDuration,onChange:M=>h({...u,questionDuration:M.target.value}),placeholder:"   ",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 transition-all outline-none font-bold text-white"}),o.jsx("p",{className:"text-[10px] text-gray-500 mt-1 mr-1",children:":         ."})]}),o.jsx("div",{className:"col-span-2",children:o.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-2xl bg-amber-900/10 border border-amber-500/20 cursor-pointer hover:bg-amber-900/20 transition-colors",children:[o.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${u.isPremium?"bg-amber-500":"bg-gray-600"}`,children:o.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all shadow-md ${u.isPremium?"right-1":"right-7"}`})}),o.jsx("input",{type:"checkbox",className:"hidden",checked:u.isPremium,onChange:M=>h({...u,isPremium:M.target.checked})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ys,{className:"w-5 h-5 text-amber-400 fill-amber-400"}),o.jsx("span",{className:"font-bold text-white",children:"  (Premium)"})]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"       ."})]})]})})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"  ()"}),o.jsx("textarea",{value:u.description,onChange:M=>h({...u,description:M.target.value}),className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-medium text-white h-24 resize-none placeholder-gray-500",placeholder:"    ..."})]})]}),o.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-xl border border-gray-700 p-6 md:p-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 border-b border-gray-700 pb-4",children:[o.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-3",children:[o.jsx("div",{className:"bg-blue-900/30 p-2 rounded-lg",children:o.jsx(FB,{className:"w-5 h-5 text-blue-400"})}),x?" ":" "]}),o.jsxs("div",{className:"flex flex-wrap gap-2 bg-gray-800 p-1.5 rounded-xl self-start",children:[o.jsx("button",{onClick:()=>l("MCQ"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${i==="MCQ"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:"  "}),o.jsx("button",{onClick:()=>l("TF"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${i==="TF"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:"  "}),o.jsxs("button",{onClick:()=>l("READING"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${i==="READING"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:[o.jsx(ka,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>l("REORDER"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${i==="REORDER"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:[o.jsx(jE,{className:"w-4 h-4"})," "]})]})]}),o.jsxs("div",{className:"space-y-6",children:[i==="READING"&&o.jsxs("div",{className:"space-y-4 bg-blue-900/20 p-5 rounded-2xl border border-blue-800 mb-6",children:[o.jsxs("h4",{className:"font-bold text-blue-300 flex items-center gap-2 mb-2",children:[o.jsx(N8,{className:"w-5 h-5"})," "]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-blue-300 mb-1",children:"  (General Instruction)"}),o.jsx("input",{type:"text",value:C.generalInstruction,onChange:M=>O("generalInstruction",M.target.value),placeholder:": Read the following text then answer the question",className:"w-full px-4 py-3 rounded-xl border border-blue-700 focus:border-blue-500 outline-none bg-gray-800 text-sm font-medium"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-blue-300 mb-1",children:"  (Passage)"}),o.jsx("textarea",{value:C.passageContent,onChange:M=>O("passageContent",M.target.value),placeholder:"   ... ( Enter   )",className:"w-full px-4 py-3 rounded-xl border border-blue-700 focus:border-blue-500 outline-none bg-gray-800 text-sm font-medium h-40 resize-y whitespace-pre-wrap",style:{direction:"ltr",textAlign:"left"}}),o.jsx("p",{className:"text-[10px] text-blue-500 mt-1",children:"* :        ."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-blue-300 mb-2 flex items-center gap-2",children:[o.jsx(F8,{className:"w-4 h-4"}),"   (  )"]}),o.jsx("div",{className:"flex gap-3",children:Q.map(M=>o.jsx("button",{onClick:()=>O("passageFontSize",M.value),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all border ${C.passageFontSize===M.value?"bg-blue-600 text-white border-blue-600":"bg-gray-800 text-gray-300 border-gray-600 hover:border-blue-400"}`,children:M.label},M.value))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:i==="READING"?"  ":i==="REORDER"?"/ ":" "}),o.jsxs("div",{className:"relative",children:[o.jsx(ZA,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4"}),o.jsx("input",{type:"text",value:C.question,onChange:M=>O("question",M.target.value),placeholder:i==="REORDER"?": Rearrange the following sentence":"   ...",className:"w-full px-5 py-4 pr-12 rounded-2xl border-2 border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none font-bold text-lg text-white bg-gray-800 placeholder-gray-400 transition-all"})]})]}),i==="MCQ"||i==="READING"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.options.map((M,z)=>o.jsxs("div",{className:`relative group transition-all duration-300 ${C.correctAnswer===z?"scale-[1.02]":""}`,children:[o.jsxs("label",{className:"flex items-center justify-between mb-2 px-1",children:[o.jsxs("span",{className:`text-xs font-bold ${C.correctAnswer===z?"text-blue-400":"text-gray-400"}`,children:[" ",z+1]}),o.jsx("button",{onClick:()=>O("correctAnswer",z),className:`text-[10px] px-2 py-1 rounded-md transition-colors font-bold ${C.correctAnswer===z?"bg-blue-900/30 text-blue-300":"bg-gray-700 text-gray-500 hover:bg-gray-600"}`,children:C.correctAnswer===z?" ":" "})]}),o.jsx("input",{type:"text",value:M,onChange:re=>q(z,re.target.value),placeholder:`  ${z+1}`,className:`w-full px-4 py-3 rounded-xl border-2 outline-none transition-all font-medium ${z===C.correctAnswer?"border-blue-500 bg-blue-900/20 text-white shadow-sm ring-2 ring-blue-900/30":"border-gray-600 bg-gray-700 focus:border-blue-400 text-gray-200"}`})]},z))}):i==="REORDER"?o.jsxs("div",{className:"space-y-4",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-1",children:"  (   )"}),o.jsx("input",{type:"text",dir:"ltr",value:E,onChange:M=>P(M.target.value),placeholder:"e.g. The sun rises in the east",className:"w-full px-5 py-4 rounded-2xl border-2 border-emerald-800 focus:border-emerald-500 outline-none text-lg font-medium text-white bg-emerald-900/10 text-left"}),E&&o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:E.split(" ").filter(M=>M.trim()).map((M,z)=>o.jsx("span",{className:"bg-gray-700 px-3 py-1 rounded-lg text-sm font-bold text-gray-300",children:M},z))}),o.jsx("p",{className:"text-xs text-gray-500",children:"      ."})]}):o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:()=>O("correctAnswer",0),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${C.correctAnswer===0?"border-blue-500 bg-blue-900/30 text-blue-400 shadow-md":"border-gray-600 bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[C.correctAnswer===0&&o.jsx(es,{className:"w-6 h-6"})," (True)"]}),o.jsxs("button",{onClick:()=>O("correctAnswer",1),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${C.correctAnswer===1?"border-red-500 bg-red-900/30 text-red-400 shadow-md":"border-gray-600 bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[C.correctAnswer===1&&o.jsx(es,{className:"w-6 h-6"})," (False)"]})]}),o.jsxs("div",{className:"bg-yellow-900/10 p-4 rounded-2xl border border-yellow-900/30",children:[o.jsxs("label",{className:"block text-sm font-bold text-yellow-500 mb-2 flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"  ()"]}),o.jsx("textarea",{value:C.explanation,onChange:M=>O("explanation",M.target.value),placeholder:"        ...",className:"w-full px-4 py-3 rounded-xl border border-yellow-800/50 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-900/30 outline-none text-gray-200 bg-gray-800 h-20 resize-none placeholder-gray-400 text-sm",dir:"auto"})]}),o.jsxs("div",{className:"flex gap-3",children:[x&&o.jsxs("button",{onClick:J,className:"flex-1 bg-gray-700 text-gray-300 py-4 rounded-2xl font-bold hover:bg-gray-600 transition-all flex items-center justify-center gap-2",children:[o.jsx(FE,{className:"w-5 h-5"})," "]}),o.jsx("button",{onClick:I,className:`flex-1 bg-gray-800 text-white py-4 rounded-2xl font-bold hover:bg-gray-900 transition-all shadow-none flex items-center justify-center gap-2 transform hover:-translate-y-1 border border-gray-700 ${x?"bg-blue-600 hover:bg-blue-700 border-blue-600":""}`,children:x?o.jsxs(o.Fragment,{children:[o.jsx(au,{className:"w-5 h-5"})," "]}):o.jsxs(o.Fragment,{children:[o.jsx(FB,{className:"w-5 h-5"}),"  "]})})]})]})]})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"sticky top-24 space-y-6",children:[o.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-xl border border-gray-700 p-6",children:[o.jsxs("h3",{className:"text-lg font-black text-white mb-6 flex items-center gap-2",children:[o.jsx(au,{className:"w-5 h-5 text-blue-400"})," "]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-5 bg-gray-800 rounded-2xl border border-gray-600 flex flex-col gap-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400 font-medium",children:" "}),o.jsx("span",{className:"font-black text-white bg-gray-600 px-3 py-0.5 rounded-md shadow-sm",children:g.length})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400 font-medium",children:" "}),o.jsx("span",{className:"text-blue-400 font-bold bg-blue-900/30 px-2 py-0.5 rounded-md",children:u.category})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400 font-medium",children:" "}),o.jsxs("span",{className:"font-bold text-white",children:[u.duration," "]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400 font-medium",children:" "}),r?o.jsx("span",{className:"text-emerald-400 font-bold bg-emerald-900/30 px-2 py-0.5 rounded-md",children:""}):o.jsx("span",{className:"text-blue-400 font-bold bg-blue-900/30 px-2 py-0.5 rounded-md",children:""})]})]}),o.jsxs("button",{onClick:te,disabled:e||g.length===0,className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all flex items-center justify-center gap-2 transform ${e||g.length===0?"bg-gray-600 cursor-not-allowed shadow-none":"bg-blue-600 hover:bg-blue-700 shadow-none hover:-translate-y-1"}`,children:[e?o.jsx(Ir,{className:"w-5 h-5 animate-spin"}):r?o.jsx(Tg,{className:"w-5 h-5"}):o.jsx(es,{className:"w-5 h-5"}),e?" ...":r?" ":"  "]})]})]}),g.length>0&&o.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-xl border border-gray-700 p-6 animate-fade-in-up",children:[o.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"bg-blue-900/30 p-1.5 rounded-lg",children:o.jsx(QB,{className:"w-4 h-4 text-blue-400"})}),"  (",g.length,")"]}),o.jsx("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 custom-scrollbar",children:g.map((M,z)=>o.jsxs("div",{className:`p-3 rounded-xl border transition-all group relative ${x===M.id?"bg-blue-900/20 border-blue-500 ring-1 ring-blue-500":"bg-gray-700/50 border-gray-600 hover:border-blue-300"}`,children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"bg-gray-600 text-gray-300 font-bold w-6 h-6 flex items-center justify-center rounded-lg text-xs shrink-0 shadow-sm",children:z+1}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-bold text-gray-200 text-sm line-clamp-2 mb-1.5",children:M.question}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-[10px] bg-gray-600 text-gray-300 px-2 py-0.5 rounded border border-gray-500",children:M.type==="REORDER"?"":M.options.length===2?"/":M.passageContent?"":""})})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-600/50 justify-end",children:[o.jsxs("button",{onClick:()=>D(M.id),className:"flex items-center gap-1 text-xs font-bold text-blue-400 hover:bg-blue-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[o.jsx(ab,{className:"w-3.5 h-3.5"}),""]}),o.jsx("div",{className:"w-px h-3 bg-gray-600"}),o.jsxs("button",{onClick:()=>pe(M.id),className:"flex items-center gap-1 text-xs font-bold text-red-500 hover:bg-red-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[o.jsx(Xl,{className:"w-3.5 h-3.5"}),""]})]}),M.explanation&&o.jsxs("div",{className:"mt-2 bg-yellow-900/10 p-2 rounded-lg border border-yellow-900/20 text-xs text-yellow-500/80 line-clamp-1",children:[": ",M.explanation]})]},M.id))})]})]})})]})}),F&&o.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-3xl max-h-[85vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden",children:[o.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-6 flex justify-between items-center shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-emerald-900/30 p-2 rounded-xl",children:o.jsx(Jp,{className:"w-6 h-6 text-emerald-400"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-white",children:" "}),o.jsx("p",{className:"text-sm text-gray-400",children:"    "})]})]}),o.jsx("button",{onClick:()=>H(!1),className:"p-2 hover:bg-gray-700 rounded-full transition-colors text-gray-400",children:o.jsx(Xs,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"p-4 bg-gray-800 border-b border-gray-700",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ni,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-4 pointer-events-none"}),o.jsx("input",{type:"text",placeholder:"   ...",value:j,onChange:M=>S(M.target.value),className:"w-full px-12 py-3 rounded-xl border border-gray-700 focus:border-emerald-500 outline-none bg-gray-700 font-bold text-white transition-all"})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-900 custom-scrollbar",children:ae?o.jsx("div",{className:"flex justify-center py-10",children:o.jsx(Ir,{className:"w-8 h-8 animate-spin text-emerald-600"})}):Y.length===0?o.jsx("div",{className:"text-center py-10 text-gray-400",children:"   "}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Y.map(M=>o.jsxs("div",{onClick:()=>we(M),className:"bg-gray-800 p-4 rounded-2xl border border-gray-700 cursor-pointer hover:border-emerald-500 hover:shadow-lg transition-all group",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("span",{className:"bg-blue-900/30 text-blue-300 text-[10px] font-bold px-2 py-0.5 rounded-md",children:M.subject}),o.jsx("span",{className:"text-xs text-gray-400",children:M.grade})]}),o.jsx("h4",{className:"font-bold text-white mb-2 line-clamp-1 group-hover:text-emerald-400 transition-colors",children:M.title}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[o.jsx(ZA,{className:"w-3 h-3"}),M.questions.length," "]})]},M.id))})})]})})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vb=function(n,e){return Vb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},Vb(n,e)};function io(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vb(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Kb=function(){return Kb=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Kb.apply(this,arguments)};function Ja(n,e,t,r){function s(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function u(p){try{g(r.next(p))}catch(x){l(x)}}function h(p){try{g(r.throw(p))}catch(x){l(x)}}function g(p){p.done?i(p.value):s(p.value).then(u,h)}g((r=r.apply(n,[])).next())})}function Ta(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(g){return function(p){return h([g,p])}}function h(g){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,s&&(i=g[0]&2?s.return:g[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,g[1])).done)return i;switch(s=0,i&&(g=[g[0]&2,i.value]),g[0]){case 0:case 1:i=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,s=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!i||g[1]>i[0]&&g[1]<i[3])){t.label=g[1];break}if(g[0]===6&&t.label<i[1]){t.label=i[1],i=g;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(g);break}i[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(n,t)}catch(p){g=[6,p],s=0}finally{r=i=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}function Zm(n,e,t){if(arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||e)}var Zl=(function(){function n(e,t,r,s){this.left=e,this.top=t,this.width=r,this.height=s}return n.prototype.add=function(e,t,r,s){return new n(this.left+e,this.top+t,this.width+r,this.height+s)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var r=Array.from(t).find(function(s){return s.width!==0});return r?new n(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),bx=function(n,e){return Zl.fromClientRect(n,e.getBoundingClientRect())},XM=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),s=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new Zl(0,0,r,s)},wx=function(n){for(var e=[],t=0,r=n.length;t<r;){var s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<r){var i=n.charCodeAt(t++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),t--)}else e.push(s)}return e},Zn=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],s=-1,i="";++s<t;){var l=n[s];l<=65535?r.push(l):(l-=65536,r.push((l>>10)+55296,l%1024+56320)),(s+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},YN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",YM=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ep=0;ep<YN.length;ep++)YM[YN.charCodeAt(ep)]=ep;var $N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tp=0;tp<$N.length;tp++)F0[$N.charCodeAt(tp)]=tp;var $M=function(n){var e=n.length*.75,t=n.length,r,s=0,i,l,u,h;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var g=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(g)?g:new Uint8Array(g);for(r=0;r<t;r+=4)i=F0[n.charCodeAt(r)],l=F0[n.charCodeAt(r+1)],u=F0[n.charCodeAt(r+2)],h=F0[n.charCodeAt(r+3)],p[s++]=i<<2|l>>4,p[s++]=(l&15)<<4|u>>2,p[s++]=(u&3)<<6|h&63;return g},JM=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},WM=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},ud=5,$v=11,b2=2,ZM=$v-ud,I6=65536>>ud,eP=1<<ud,w2=eP-1,tP=1024>>ud,rP=I6+tP,nP=rP,sP=32,aP=nP+sP,iP=65536>>$v,AP=1<<ZM,oP=AP-1,JN=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},lP=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},cP=function(n,e){var t=$M(n),r=Array.isArray(t)?WM(t):new Uint32Array(t),s=Array.isArray(t)?JM(t):new Uint16Array(t),i=24,l=JN(s,i/2,r[4]/2),u=r[5]===2?JN(s,(i+r[4])/2):lP(r,Math.ceil((i+r[4])/4));return new uP(r[0],r[1],r[2],r[3],l,u)},uP=(function(){function n(e,t,r,s,i,l){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=l}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>ud],t=(t<<b2)+(e&w2),this.data[t];if(e<=65535)return t=this.index[I6+(e-55296>>ud)],t=(t<<b2)+(e&w2),this.data[t];if(e<this.highStart)return t=aP-iP+(e>>$v),t=this.index[t],t+=e>>ud&oP,t=this.index[t],t=(t<<b2)+(e&w2),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),WN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dP=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rp=0;rp<WN.length;rp++)dP[WN.charCodeAt(rp)]=rp;var hP="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",ZN=50,fP=1,T6=2,j6=3,gP=4,mP=5,e_=7,U6=8,t_=9,tu=10,zb=11,r_=12,qb=13,pP=14,Q0=15,Gb=16,np=17,y0=18,xP=19,n_=20,Xb=21,b0=22,v2=23,ph=24,Gi=25,L0=26,k0=27,xh=28,yP=29,rd=30,bP=31,sp=32,ap=33,Yb=34,$b=35,Jb=36,Ng=37,Wb=38,Hp=39,Vp=40,B2=41,F6=42,wP=43,vP=[9001,65288],Q6="!",Cr="",ip="",Zb=cP(hP),Rl=[rd,Jb],ew=[fP,T6,j6,mP],L6=[tu,U6],s_=[k0,L0],BP=ew.concat(L6),a_=[Wb,Hp,Vp,Yb,$b],CP=[Q0,qb],NP=function(n,e){e===void 0&&(e="strict");var t=[],r=[],s=[];return n.forEach(function(i,l){var u=Zb.get(i);if(u>ZN?(s.push(!0),u-=ZN):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(l),t.push(Gb);if(u===gP||u===zb){if(l===0)return r.push(l),t.push(rd);var h=t[l-1];return BP.indexOf(h)===-1?(r.push(r[l-1]),t.push(h)):(r.push(l),t.push(rd))}if(r.push(l),u===bP)return t.push(e==="strict"?Xb:Ng);if(u===F6||u===yP)return t.push(rd);if(u===wP)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(Ng):t.push(rd);t.push(u)}),[r,t,s]},C2=function(n,e,t,r){var s=r[t];if(Array.isArray(n)?n.indexOf(s)!==-1:n===s)for(var i=t;i<=r.length;){i++;var l=r[i];if(l===e)return!0;if(l!==tu)break}if(s===tu)for(var i=t;i>0;){i--;var u=r[i];if(Array.isArray(n)?n.indexOf(u)!==-1:n===u)for(var h=t;h<=r.length;){h++;var l=r[h];if(l===e)return!0;if(l!==tu)break}if(u!==tu)break}return!1},i_=function(n,e){for(var t=n;t>=0;){var r=e[t];if(r===tu)t--;else return r}return 0},_P=function(n,e,t,r,s){if(t[r]===0)return Cr;var i=r-1;if(Array.isArray(s)&&s[i]===!0)return Cr;var l=i-1,u=i+1,h=e[i],g=l>=0?e[l]:0,p=e[u];if(h===T6&&p===j6)return Cr;if(ew.indexOf(h)!==-1)return Q6;if(ew.indexOf(p)!==-1||L6.indexOf(p)!==-1)return Cr;if(i_(i,e)===U6)return ip;if(Zb.get(n[i])===zb||(h===sp||h===ap)&&Zb.get(n[u])===zb||h===e_||p===e_||h===t_||[tu,qb,Q0].indexOf(h)===-1&&p===t_||[np,y0,xP,ph,xh].indexOf(p)!==-1||i_(i,e)===b0||C2(v2,b0,i,e)||C2([np,y0],Xb,i,e)||C2(r_,r_,i,e))return Cr;if(h===tu)return ip;if(h===v2||p===v2)return Cr;if(p===Gb||h===Gb)return ip;if([qb,Q0,Xb].indexOf(p)!==-1||h===pP||g===Jb&&CP.indexOf(h)!==-1||h===xh&&p===Jb||p===n_||Rl.indexOf(p)!==-1&&h===Gi||Rl.indexOf(h)!==-1&&p===Gi||h===k0&&[Ng,sp,ap].indexOf(p)!==-1||[Ng,sp,ap].indexOf(h)!==-1&&p===L0||Rl.indexOf(h)!==-1&&s_.indexOf(p)!==-1||s_.indexOf(h)!==-1&&Rl.indexOf(p)!==-1||[k0,L0].indexOf(h)!==-1&&(p===Gi||[b0,Q0].indexOf(p)!==-1&&e[u+1]===Gi)||[b0,Q0].indexOf(h)!==-1&&p===Gi||h===Gi&&[Gi,xh,ph].indexOf(p)!==-1)return Cr;if([Gi,xh,ph,np,y0].indexOf(p)!==-1)for(var x=i;x>=0;){var B=e[x];if(B===Gi)return Cr;if([xh,ph].indexOf(B)!==-1)x--;else break}if([k0,L0].indexOf(p)!==-1)for(var x=[np,y0].indexOf(h)!==-1?l:i;x>=0;){var B=e[x];if(B===Gi)return Cr;if([xh,ph].indexOf(B)!==-1)x--;else break}if(Wb===h&&[Wb,Hp,Yb,$b].indexOf(p)!==-1||[Hp,Yb].indexOf(h)!==-1&&[Hp,Vp].indexOf(p)!==-1||[Vp,$b].indexOf(h)!==-1&&p===Vp||a_.indexOf(h)!==-1&&[n_,L0].indexOf(p)!==-1||a_.indexOf(p)!==-1&&h===k0||Rl.indexOf(h)!==-1&&Rl.indexOf(p)!==-1||h===ph&&Rl.indexOf(p)!==-1||Rl.concat(Gi).indexOf(h)!==-1&&p===b0&&vP.indexOf(n[u])===-1||Rl.concat(Gi).indexOf(p)!==-1&&h===y0)return Cr;if(h===B2&&p===B2){for(var C=t[i],U=1;C>0&&(C--,e[C]===B2);)U++;if(U%2!==0)return Cr}return h===sp&&p===ap?Cr:ip},EP=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=NP(n,e.lineBreak),r=t[0],s=t[1],i=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(u){return[Gi,rd,F6].indexOf(u)!==-1?Ng:u}));var l=e.wordBreak==="keep-all"?i.map(function(u,h){return u&&n[h]>=19968&&n[h]<=40959}):void 0;return[r,s,l]},SP=(function(){function n(e,t,r,s){this.codePoints=e,this.required=t===Q6,this.start=r,this.end=s}return n.prototype.slice=function(){return Zn.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),IP=function(n,e){var t=wx(n),r=EP(t,e),s=r[0],i=r[1],l=r[2],u=t.length,h=0,g=0;return{next:function(){if(g>=u)return{done:!0,value:null};for(var p=Cr;g<u&&(p=_P(t,i,s,++g,l))===Cr;);if(p!==Cr||g===u){var x=new SP(t,p,h,g);return h=g,{value:x,done:!1}}return{done:!0,value:null}}}},TP=1,jP=2,Wg=4,A_=8,I1=10,o_=47,W0=92,UP=9,FP=32,Ap=34,w0=61,QP=35,LP=36,kP=37,op=39,lp=40,v0=41,RP=95,wi=45,DP=33,OP=60,MP=62,PP=64,HP=91,VP=93,KP=61,zP=123,cp=63,qP=125,l_=124,GP=126,XP=128,c_=65533,N2=42,id=43,YP=44,$P=58,JP=59,_g=46,WP=0,ZP=8,eH=11,tH=14,rH=31,nH=127,Po=-1,k6=48,R6=97,D6=101,sH=102,aH=117,iH=122,O6=65,M6=69,P6=70,AH=85,oH=90,Fa=function(n){return n>=k6&&n<=57},lH=function(n){return n>=55296&&n<=57343},yh=function(n){return Fa(n)||n>=O6&&n<=P6||n>=R6&&n<=sH},cH=function(n){return n>=R6&&n<=iH},uH=function(n){return n>=O6&&n<=oH},dH=function(n){return cH(n)||uH(n)},hH=function(n){return n>=XP},up=function(n){return n===I1||n===UP||n===FP},T1=function(n){return dH(n)||hH(n)||n===RP},u_=function(n){return T1(n)||Fa(n)||n===wi},fH=function(n){return n>=WP&&n<=ZP||n===eH||n>=tH&&n<=rH||n===nH},Xc=function(n,e){return n!==W0?!1:e!==I1},dp=function(n,e,t){return n===wi?T1(e)||Xc(e,t):T1(n)?!0:!!(n===W0&&Xc(n,e))},_2=function(n,e,t){return n===id||n===wi?Fa(e)?!0:e===_g&&Fa(t):Fa(n===_g?e:n)},gH=function(n){var e=0,t=1;(n[e]===id||n[e]===wi)&&(n[e]===wi&&(t=-1),e++);for(var r=[];Fa(n[e]);)r.push(n[e++]);var s=r.length?parseInt(Zn.apply(void 0,r),10):0;n[e]===_g&&e++;for(var i=[];Fa(n[e]);)i.push(n[e++]);var l=i.length,u=l?parseInt(Zn.apply(void 0,i),10):0;(n[e]===M6||n[e]===D6)&&e++;var h=1;(n[e]===id||n[e]===wi)&&(n[e]===wi&&(h=-1),e++);for(var g=[];Fa(n[e]);)g.push(n[e++]);var p=g.length?parseInt(Zn.apply(void 0,g),10):0;return t*(s+u*Math.pow(10,-l))*Math.pow(10,h*p)},mH={type:2},pH={type:3},xH={type:4},yH={type:13},bH={type:8},wH={type:21},vH={type:9},BH={type:10},CH={type:11},NH={type:12},_H={type:14},hp={type:23},EH={type:1},SH={type:25},IH={type:24},TH={type:26},jH={type:27},UH={type:28},FH={type:29},QH={type:31},tw={type:32},H6=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(wx(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==tw;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ap:return this.consumeStringToken(Ap);case QP:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(u_(t)||Xc(r,s)){var i=dp(t,r,s)?jP:TP,l=this.consumeName();return{type:5,value:l,flags:i}}break;case LP:if(this.peekCodePoint(0)===w0)return this.consumeCodePoint(),yH;break;case op:return this.consumeStringToken(op);case lp:return mH;case v0:return pH;case N2:if(this.peekCodePoint(0)===w0)return this.consumeCodePoint(),_H;break;case id:if(_2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case YP:return xH;case wi:var u=e,h=this.peekCodePoint(0),g=this.peekCodePoint(1);if(_2(u,h,g))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(dp(u,h,g))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(h===wi&&g===MP)return this.consumeCodePoint(),this.consumeCodePoint(),IH;break;case _g:if(_2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case o_:if(this.peekCodePoint(0)===N2)for(this.consumeCodePoint();;){var p=this.consumeCodePoint();if(p===N2&&(p=this.consumeCodePoint(),p===o_))return this.consumeToken();if(p===Po)return this.consumeToken()}break;case $P:return TH;case JP:return jH;case OP:if(this.peekCodePoint(0)===DP&&this.peekCodePoint(1)===wi&&this.peekCodePoint(2)===wi)return this.consumeCodePoint(),this.consumeCodePoint(),SH;break;case PP:var x=this.peekCodePoint(0),B=this.peekCodePoint(1),C=this.peekCodePoint(2);if(dp(x,B,C)){var l=this.consumeName();return{type:7,value:l}}break;case HP:return UH;case W0:if(Xc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case VP:return FH;case KP:if(this.peekCodePoint(0)===w0)return this.consumeCodePoint(),bH;break;case zP:return CH;case qP:return NH;case aH:case AH:var U=this.peekCodePoint(0),E=this.peekCodePoint(1);return U===id&&(yh(E)||E===cp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case l_:if(this.peekCodePoint(0)===w0)return this.consumeCodePoint(),vH;if(this.peekCodePoint(0)===l_)return this.consumeCodePoint(),wH;break;case GP:if(this.peekCodePoint(0)===w0)return this.consumeCodePoint(),BH;break;case Po:return tw}return up(e)?(this.consumeWhiteSpace(),QH):Fa(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):T1(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Zn(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();yh(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===cp&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(Zn.apply(void 0,e.map(function(h){return h===cp?k6:h})),16),i=parseInt(Zn.apply(void 0,e.map(function(h){return h===cp?P6:h})),16);return{type:30,start:s,end:i}}var l=parseInt(Zn.apply(void 0,e),16);if(this.peekCodePoint(0)===wi&&yh(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var u=[];yh(t)&&u.length<6;)u.push(t),t=this.consumeCodePoint();var i=parseInt(Zn.apply(void 0,u),16);return{type:30,start:l,end:i}}else return{type:30,start:l,end:l}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===lp?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===lp?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Po)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===op||t===Ap){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Po||this.peekCodePoint(0)===v0)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),hp)}for(;;){var s=this.consumeCodePoint();if(s===Po||s===v0)return{type:22,value:Zn.apply(void 0,e)};if(up(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Po||this.peekCodePoint(0)===v0?(this.consumeCodePoint(),{type:22,value:Zn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),hp);if(s===Ap||s===op||s===lp||fH(s))return this.consumeBadUrlRemnants(),hp;if(s===W0)if(Xc(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),hp;else e.push(s)}},n.prototype.consumeWhiteSpace=function(){for(;up(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===v0||e===Po)return;Xc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var s=Math.min(t,e);r+=Zn.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},n.prototype.consumeStringToken=function(e){var t="",r=0;do{var s=this._value[r];if(s===Po||s===void 0||s===e)return t+=this.consumeStringSlice(r),{type:0,value:t};if(s===I1)return this._value.splice(0,r),EH;if(s===W0){var i=this._value[r+1];i!==Po&&i!==void 0&&(i===I1?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):Xc(s,i)&&(t+=this.consumeStringSlice(r),t+=Zn(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=Wg,r=this.peekCodePoint(0);for((r===id||r===wi)&&e.push(this.consumeCodePoint());Fa(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===_g&&Fa(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=A_;Fa(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===M6||r===D6)&&((s===id||s===wi)&&Fa(i)||Fa(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=A_;Fa(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[gH(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),l=this.peekCodePoint(2);if(dp(s,i,l)){var u=this.consumeName();return{type:15,number:t,flags:r,unit:u}}return s===kP?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(yh(e)){for(var t=Zn(e);yh(this.peekCodePoint(0))&&t.length<6;)t+=Zn(this.consumeCodePoint());up(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||lH(r)||r>1114111?c_:r}return e===Po?c_:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(u_(t))e+=Zn(t);else if(Xc(t,this.peekCodePoint(0)))e+=Zn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),V6=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new H6;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||kH(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?tw:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),Zg=function(n){return n.type===15},Ff=function(n){return n.type===17},on=function(n){return n.type===20},LH=function(n){return n.type===0},rw=function(n,e){return on(n)&&n.value===e},K6=function(n){return n.type!==31},xf=function(n){return n.type!==31&&n.type!==4},al=function(n){var e=[],t=[];return n.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&e.push(t),e},kH=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},Bu=function(n){return n.type===17||n.type===15},xs=function(n){return n.type===16||Bu(n)},z6=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},ua={type:17,number:0,flags:Wg},Jv={type:16,number:50,flags:Wg},ru={type:16,number:100,flags:Wg},R0=function(n,e,t){var r=n[0],s=n[1];return[xn(r,e),xn(typeof s<"u"?s:r,t)]},xn=function(n,e){if(n.type===16)return n.number/100*e;if(Zg(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},q6="deg",G6="grad",X6="rad",Y6="turn",vx={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case q6:return Math.PI*e.number/180;case G6:return Math.PI/200*e.number;case X6:return e.number;case Y6:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},$6=function(n){return n.type===15&&(n.unit===q6||n.unit===G6||n.unit===X6||n.unit===Y6)},J6=function(n){var e=n.filter(on).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ua,ua];case"to top":case"bottom":return wA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ua,ru];case"to right":case"left":return wA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ru,ru];case"to bottom":case"top":return wA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ru,ua];case"to left":case"right":return wA(270)}return 0},wA=function(n){return Math.PI*n/180},du={name:"color",parse:function(n,e){if(e.type===18){var t=RH[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return nu(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),l=e.value.substring(3,4);return nu(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(l+l,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return nu(parseInt(r,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),l=e.value.substring(6,8);return nu(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(l,16)/255)}}if(e.type===20){var u=zl[e.value.toUpperCase()];if(typeof u<"u")return u}return zl.TRANSPARENT}},hu=function(n){return(255&n)===0},zs=function(n){var e=255&n,t=255&n>>8,r=255&n>>16,s=255&n>>24;return e<255?"rgba("+s+","+r+","+t+","+e/255+")":"rgb("+s+","+r+","+t+")"},nu=function(n,e,t,r){return(n<<24|e<<16|t<<8|Math.round(r*255)<<0)>>>0},d_=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},h_=function(n,e){var t=e.filter(xf);if(t.length===3){var r=t.map(d_),s=r[0],i=r[1],l=r[2];return nu(s,i,l,1)}if(t.length===4){var u=t.map(d_),s=u[0],i=u[1],l=u[2],h=u[3];return nu(s,i,l,h)}return 0};function E2(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var f_=function(n,e){var t=e.filter(xf),r=t[0],s=t[1],i=t[2],l=t[3],u=(r.type===17?wA(r.number):vx.parse(n,r))/(Math.PI*2),h=xs(s)?s.number/100:0,g=xs(i)?i.number/100:0,p=typeof l<"u"&&xs(l)?xn(l,1):1;if(h===0)return nu(g*255,g*255,g*255,1);var x=g<=.5?g*(h+1):g+h-g*h,B=g*2-x,C=E2(B,x,u+1/3),U=E2(B,x,u),E=E2(B,x,u-1/3);return nu(C*255,U*255,E*255,p)},RH={hsl:f_,hsla:f_,rgb:h_,rgba:h_},Z0=function(n,e){return du.parse(n,V6.create(e).parseComponentValue())},zl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},DH={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(on(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},OH={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Bx=function(n,e){var t=du.parse(n,e[0]),r=e[1];return r&&xs(r)?{color:t,stop:r}:{color:t,stop:null}},g_=function(n,e){var t=n[0],r=n[n.length-1];t.stop===null&&(t.stop=ua),r.stop===null&&(r.stop=ru);for(var s=[],i=0,l=0;l<n.length;l++){var u=n[l].stop;if(u!==null){var h=xn(u,e);h>i?s.push(h):s.push(i),i=h}else s.push(null)}for(var g=null,l=0;l<s.length;l++){var p=s[l];if(p===null)g===null&&(g=l);else if(g!==null){for(var x=l-g,B=s[g-1],C=(p-B)/(x+1),U=1;U<=x;U++)s[g+U-1]=C*U;g=null}}return n.map(function(E,P){var F=E.color;return{color:F,stop:Math.max(Math.min(1,s[P]/e),0)}})},MH=function(n,e,t){var r=e/2,s=t/2,i=xn(n[0],e)-r,l=s-xn(n[1],t);return(Math.atan2(l,i)+Math.PI*2)%(Math.PI*2)},PH=function(n,e,t){var r=typeof n=="number"?n:MH(n,e,t),s=Math.abs(e*Math.sin(r))+Math.abs(t*Math.cos(r)),i=e/2,l=t/2,u=s/2,h=Math.sin(r-Math.PI/2)*u,g=Math.cos(r-Math.PI/2)*u;return[s,i-g,i+g,l-h,l+h]},YA=function(n,e){return Math.sqrt(n*n+e*e)},m_=function(n,e,t,r,s){var i=[[0,0],[0,e],[n,0],[n,e]];return i.reduce(function(l,u){var h=u[0],g=u[1],p=YA(t-h,r-g);return(s?p<l.optimumDistance:p>l.optimumDistance)?{optimumCorner:u,optimumDistance:p}:l},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},HH=function(n,e,t,r,s){var i=0,l=0;switch(n.size){case 0:n.shape===0?i=l=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-s)):n.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-r)),l=Math.min(Math.abs(t),Math.abs(t-s)));break;case 2:if(n.shape===0)i=l=Math.min(YA(e,t),YA(e,t-s),YA(e-r,t),YA(e-r,t-s));else if(n.shape===1){var u=Math.min(Math.abs(t),Math.abs(t-s))/Math.min(Math.abs(e),Math.abs(e-r)),h=m_(r,s,e,t,!0),g=h[0],p=h[1];i=YA(g-e,(p-t)/u),l=u*i}break;case 1:n.shape===0?i=l=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-s)):n.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-r)),l=Math.max(Math.abs(t),Math.abs(t-s)));break;case 3:if(n.shape===0)i=l=Math.max(YA(e,t),YA(e,t-s),YA(e-r,t),YA(e-r,t-s));else if(n.shape===1){var u=Math.max(Math.abs(t),Math.abs(t-s))/Math.max(Math.abs(e),Math.abs(e-r)),x=m_(r,s,e,t,!1),g=x[0],p=x[1];i=YA(g-e,(p-t)/u),l=u*i}break}return Array.isArray(n.size)&&(i=xn(n.size[0],r),l=n.size.length===2?xn(n.size[1],s):i),[i,l]},VH=function(n,e){var t=wA(180),r=[];return al(e).forEach(function(s,i){if(i===0){var l=s[0];if(l.type===20&&l.value==="to"){t=J6(s);return}else if($6(l)){t=vx.parse(n,l);return}}var u=Bx(n,s);r.push(u)}),{angle:t,stops:r,type:1}},fp=function(n,e){var t=wA(180),r=[];return al(e).forEach(function(s,i){if(i===0){var l=s[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){t=J6(s);return}else if($6(l)){t=(vx.parse(n,l)+wA(270))%wA(360);return}}var u=Bx(n,s);r.push(u)}),{angle:t,stops:r,type:1}},KH=function(n,e){var t=wA(180),r=[],s=1,i=0,l=3,u=[];return al(e).forEach(function(h,g){var p=h[0];if(g===0){if(on(p)&&p.value==="linear"){s=1;return}else if(on(p)&&p.value==="radial"){s=2;return}}if(p.type===18){if(p.name==="from"){var x=du.parse(n,p.values[0]);r.push({stop:ua,color:x})}else if(p.name==="to"){var x=du.parse(n,p.values[0]);r.push({stop:ru,color:x})}else if(p.name==="color-stop"){var B=p.values.filter(xf);if(B.length===2){var x=du.parse(n,B[1]),C=B[0];Ff(C)&&r.push({stop:{type:16,number:C.number*100,flags:C.flags},color:x})}}}}),s===1?{angle:(t+wA(180))%wA(360),stops:r,type:s}:{size:l,shape:i,stops:r,position:u,type:s}},W6="closest-side",Z6="farthest-side",eT="closest-corner",tT="farthest-corner",rT="circle",nT="ellipse",sT="cover",aT="contain",zH=function(n,e){var t=0,r=3,s=[],i=[];return al(e).forEach(function(l,u){var h=!0;if(u===0){var g=!1;h=l.reduce(function(x,B){if(g)if(on(B))switch(B.value){case"center":return i.push(Jv),x;case"top":case"left":return i.push(ua),x;case"right":case"bottom":return i.push(ru),x}else(xs(B)||Bu(B))&&i.push(B);else if(on(B))switch(B.value){case rT:return t=0,!1;case nT:return t=1,!1;case"at":return g=!0,!1;case W6:return r=0,!1;case sT:case Z6:return r=1,!1;case aT:case eT:return r=2,!1;case tT:return r=3,!1}else if(Bu(B)||xs(B))return Array.isArray(r)||(r=[]),r.push(B),!1;return x},h)}if(h){var p=Bx(n,l);s.push(p)}}),{size:r,shape:t,stops:s,position:i,type:2}},gp=function(n,e){var t=0,r=3,s=[],i=[];return al(e).forEach(function(l,u){var h=!0;if(u===0?h=l.reduce(function(p,x){if(on(x))switch(x.value){case"center":return i.push(Jv),!1;case"top":case"left":return i.push(ua),!1;case"right":case"bottom":return i.push(ru),!1}else if(xs(x)||Bu(x))return i.push(x),!1;return p},h):u===1&&(h=l.reduce(function(p,x){if(on(x))switch(x.value){case rT:return t=0,!1;case nT:return t=1,!1;case aT:case W6:return r=0,!1;case Z6:return r=1,!1;case eT:return r=2,!1;case sT:case tT:return r=3,!1}else if(Bu(x)||xs(x))return Array.isArray(r)||(r=[]),r.push(x),!1;return p},h)),h){var g=Bx(n,l);s.push(g)}}),{size:r,shape:t,stops:s,position:i,type:2}},qH=function(n){return n.type===1},GH=function(n){return n.type===2},Wv={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var r=iT[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function XH(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!iT[n.name])}var iT={"linear-gradient":VH,"-moz-linear-gradient":fp,"-ms-linear-gradient":fp,"-o-linear-gradient":fp,"-webkit-linear-gradient":fp,"radial-gradient":zH,"-moz-radial-gradient":gp,"-ms-radial-gradient":gp,"-o-radial-gradient":gp,"-webkit-radial-gradient":gp,"-webkit-gradient":KH},YH={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(r){return xf(r)&&XH(r)}).map(function(r){return Wv.parse(n,r)})}},$H={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(on(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},JH={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return al(e).map(function(t){return t.filter(xs)}).map(z6)}},WH={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return al(e).map(function(t){return t.filter(on).map(function(r){return r.value}).join(" ")}).map(ZH)}},ZH=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Vh;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(Vh||(Vh={}));var eV={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return al(e).map(function(t){return t.filter(tV)})}},tV=function(n){return on(n)||xs(n)},Cx=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},rV=Cx("top"),nV=Cx("right"),sV=Cx("bottom"),aV=Cx("left"),Nx=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return z6(t.filter(xs))}}},iV=Nx("top-left"),AV=Nx("top-right"),oV=Nx("bottom-right"),lV=Nx("bottom-left"),_x=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},cV=_x("top"),uV=_x("right"),dV=_x("bottom"),hV=_x("left"),Ex=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Zg(t)?t.number:0}}},fV=Ex("top"),gV=Ex("right"),mV=Ex("bottom"),pV=Ex("left"),xV={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yV={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},bV={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(on).reduce(function(t,r){return t|wV(r.value)},0)}},wV=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},vV={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},BV={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},j1;(function(n){n.NORMAL="normal",n.STRICT="strict"})(j1||(j1={}));var CV={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return j1.STRICT;case"normal":default:return j1.NORMAL}}},NV={name:"line-height",initialValue:"normal",prefix:!1,type:4},p_=function(n,e){return on(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:xs(n)?xn(n,e):e},_V={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:Wv.parse(n,e)}},EV={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},nw={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Sx=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},SV=Sx("top"),IV=Sx("right"),TV=Sx("bottom"),jV=Sx("left"),UV={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(on).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},FV={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ix=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},QV=Ix("top"),LV=Ix("right"),kV=Ix("bottom"),RV=Ix("left"),DV={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},OV={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},MV={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&rw(e[0],"none")?[]:al(e).map(function(t){for(var r={color:zl.TRANSPARENT,offsetX:ua,offsetY:ua,blur:ua},s=0,i=0;i<t.length;i++){var l=t[i];Bu(l)?(s===0?r.offsetX=l:s===1?r.offsetY=l:r.blur=l,s++):r.color=du.parse(n,l)}return r})}},PV={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},HV={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=zV[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},VV=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},KV=function(n){var e=n.filter(function(h){return h.type===17}).map(function(h){return h.number}),t=e[0],r=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var l=e[12],u=e[13];return e[14],e[15],e.length===16?[t,r,s,i,l,u]:null},zV={matrix:VV,matrix3d:KV},x_={type:16,number:50,flags:Wg},qV=[x_,x_],GV={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter(xs);return t.length!==2?qV:[t[0],t[1]]}},XV={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},eg;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(eg||(eg={}));var YV={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return eg.BREAK_ALL;case"keep-all":return eg.KEEP_ALL;case"normal":default:return eg.NORMAL}}},$V={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(Ff(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},AT={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},JV={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return Ff(e)?e.number:1}},WV={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ZV={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(on).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},eK={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:t.push(s.value);break;case 17:t.push(s.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},tK={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},rK={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(Ff(e))return e.number;if(on(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},nK={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(on).map(function(t){return t.value})}},sK={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Us=function(n,e){return(n&e)!==0},aK={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},iK={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var r=[],s=e.filter(K6),i=0;i<s.length;i++){var l=s[i],u=s[i+1];if(l.type===20){var h=u&&Ff(u)?u.number:1;r.push({counter:l.value,increment:h})}}return r}},AK={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],r=e.filter(K6),s=0;s<r.length;s++){var i=r[s],l=r[s+1];if(on(i)&&i.value!=="none"){var u=l&&Ff(l)?l.number:0;t.push({counter:i.value,reset:u})}}return t}},oK={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(Zg).map(function(t){return AT.parse(n,t)})}},lK={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var r=[],s=e.filter(LH);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var l=s[i].value,u=s[i+1].value;r.push({open:l,close:u})}return r}},y_=function(n,e,t){if(!n)return"";var r=n[Math.min(e,n.length-1)];return r?t?r.open:r.close:""},cK={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&rw(e[0],"none")?[]:al(e).map(function(t){for(var r={color:255,offsetX:ua,offsetY:ua,blur:ua,spread:ua,inset:!1},s=0,i=0;i<t.length;i++){var l=t[i];rw(l,"inset")?r.inset=!0:Bu(l)?(s===0?r.offsetX=l:s===1?r.offsetY=l:s===2?r.blur=l:r.spread=l,s++):r.color=du.parse(n,l)}return r})}},uK={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],r=[];return e.filter(on).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},dK={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},hK={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return Zg(e)?e.number:0}},fK=(function(){function n(e,t){var r,s;this.animationDuration=wt(e,oK,t.animationDuration),this.backgroundClip=wt(e,DH,t.backgroundClip),this.backgroundColor=wt(e,OH,t.backgroundColor),this.backgroundImage=wt(e,YH,t.backgroundImage),this.backgroundOrigin=wt(e,$H,t.backgroundOrigin),this.backgroundPosition=wt(e,JH,t.backgroundPosition),this.backgroundRepeat=wt(e,WH,t.backgroundRepeat),this.backgroundSize=wt(e,eV,t.backgroundSize),this.borderTopColor=wt(e,rV,t.borderTopColor),this.borderRightColor=wt(e,nV,t.borderRightColor),this.borderBottomColor=wt(e,sV,t.borderBottomColor),this.borderLeftColor=wt(e,aV,t.borderLeftColor),this.borderTopLeftRadius=wt(e,iV,t.borderTopLeftRadius),this.borderTopRightRadius=wt(e,AV,t.borderTopRightRadius),this.borderBottomRightRadius=wt(e,oV,t.borderBottomRightRadius),this.borderBottomLeftRadius=wt(e,lV,t.borderBottomLeftRadius),this.borderTopStyle=wt(e,cV,t.borderTopStyle),this.borderRightStyle=wt(e,uV,t.borderRightStyle),this.borderBottomStyle=wt(e,dV,t.borderBottomStyle),this.borderLeftStyle=wt(e,hV,t.borderLeftStyle),this.borderTopWidth=wt(e,fV,t.borderTopWidth),this.borderRightWidth=wt(e,gV,t.borderRightWidth),this.borderBottomWidth=wt(e,mV,t.borderBottomWidth),this.borderLeftWidth=wt(e,pV,t.borderLeftWidth),this.boxShadow=wt(e,cK,t.boxShadow),this.color=wt(e,xV,t.color),this.direction=wt(e,yV,t.direction),this.display=wt(e,bV,t.display),this.float=wt(e,vV,t.cssFloat),this.fontFamily=wt(e,eK,t.fontFamily),this.fontSize=wt(e,tK,t.fontSize),this.fontStyle=wt(e,sK,t.fontStyle),this.fontVariant=wt(e,nK,t.fontVariant),this.fontWeight=wt(e,rK,t.fontWeight),this.letterSpacing=wt(e,BV,t.letterSpacing),this.lineBreak=wt(e,CV,t.lineBreak),this.lineHeight=wt(e,NV,t.lineHeight),this.listStyleImage=wt(e,_V,t.listStyleImage),this.listStylePosition=wt(e,EV,t.listStylePosition),this.listStyleType=wt(e,nw,t.listStyleType),this.marginTop=wt(e,SV,t.marginTop),this.marginRight=wt(e,IV,t.marginRight),this.marginBottom=wt(e,TV,t.marginBottom),this.marginLeft=wt(e,jV,t.marginLeft),this.opacity=wt(e,JV,t.opacity);var i=wt(e,UV,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=wt(e,FV,t.overflowWrap),this.paddingTop=wt(e,QV,t.paddingTop),this.paddingRight=wt(e,LV,t.paddingRight),this.paddingBottom=wt(e,kV,t.paddingBottom),this.paddingLeft=wt(e,RV,t.paddingLeft),this.paintOrder=wt(e,uK,t.paintOrder),this.position=wt(e,OV,t.position),this.textAlign=wt(e,DV,t.textAlign),this.textDecorationColor=wt(e,WV,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=wt(e,ZV,(s=t.textDecorationLine)!==null&&s!==void 0?s:t.textDecoration),this.textShadow=wt(e,MV,t.textShadow),this.textTransform=wt(e,PV,t.textTransform),this.transform=wt(e,HV,t.transform),this.transformOrigin=wt(e,GV,t.transformOrigin),this.visibility=wt(e,XV,t.visibility),this.webkitTextStrokeColor=wt(e,dK,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=wt(e,hK,t.webkitTextStrokeWidth),this.wordBreak=wt(e,YV,t.wordBreak),this.zIndex=wt(e,$V,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return hu(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return Us(this.display,4)||Us(this.display,33554432)||Us(this.display,268435456)||Us(this.display,536870912)||Us(this.display,67108864)||Us(this.display,134217728)},n})(),gK=(function(){function n(e,t){this.content=wt(e,aK,t.content),this.quotes=wt(e,lK,t.quotes)}return n})(),b_=(function(){function n(e,t){this.counterIncrement=wt(e,iK,t.counterIncrement),this.counterReset=wt(e,AK,t.counterReset)}return n})(),wt=function(n,e,t){var r=new H6,s=t!==null&&typeof t<"u"?t.toString():e.initialValue;r.write(s);var i=new V6(r.read());switch(e.type){case 2:var l=i.parseComponentValue();return e.parse(n,on(l)?l.value:e.initialValue);case 0:return e.parse(n,i.parseComponentValue());case 1:return e.parse(n,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return vx.parse(n,i.parseComponentValue());case"color":return du.parse(n,i.parseComponentValue());case"image":return Wv.parse(n,i.parseComponentValue());case"length":var u=i.parseComponentValue();return Bu(u)?u:ua;case"length-percentage":var h=i.parseComponentValue();return xs(h)?h:ua;case"time":return AT.parse(n,i.parseComponentValue())}break}},mK="data-html2canvas-debug",pK=function(n){var e=n.getAttribute(mK);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},sw=function(n,e){var t=pK(n);return t===1||e===t},il=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,sw(t,3))debugger;this.styles=new fK(e,window.getComputedStyle(t,null)),Aw(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=bx(this.context,t),sw(t,4)&&(this.flags|=16)}return n})(),xK="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",w_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mp=0;mp<w_.length;mp++)D0[w_.charCodeAt(mp)]=mp;var yK=function(n){var e=n.length*.75,t=n.length,r,s=0,i,l,u,h;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var g=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),p=Array.isArray(g)?g:new Uint8Array(g);for(r=0;r<t;r+=4)i=D0[n.charCodeAt(r)],l=D0[n.charCodeAt(r+1)],u=D0[n.charCodeAt(r+2)],h=D0[n.charCodeAt(r+3)],p[s++]=i<<2|l>>4,p[s++]=(l&15)<<4|u>>2,p[s++]=(u&3)<<6|h&63;return g},bK=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},wK=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},dd=5,Zv=11,S2=2,vK=Zv-dd,oT=65536>>dd,BK=1<<dd,I2=BK-1,CK=1024>>dd,NK=oT+CK,_K=NK,EK=32,SK=_K+EK,IK=65536>>Zv,TK=1<<vK,jK=TK-1,v_=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},UK=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},FK=function(n,e){var t=yK(n),r=Array.isArray(t)?wK(t):new Uint32Array(t),s=Array.isArray(t)?bK(t):new Uint16Array(t),i=24,l=v_(s,i/2,r[4]/2),u=r[5]===2?v_(s,(i+r[4])/2):UK(r,Math.ceil((i+r[4])/4));return new QK(r[0],r[1],r[2],r[3],l,u)},QK=(function(){function n(e,t,r,s,i,l){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=l}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>dd],t=(t<<S2)+(e&I2),this.data[t];if(e<=65535)return t=this.index[oT+(e-55296>>dd)],t=(t<<S2)+(e&I2),this.data[t];if(e<this.highStart)return t=SK-IK+(e>>Zv),t=this.index[t],t+=e>>dd&jK,t=this.index[t],t=(t<<S2)+(e&I2),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),B_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",LK=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pp=0;pp<B_.length;pp++)LK[B_.charCodeAt(pp)]=pp;var kK=1,T2=2,j2=3,C_=4,N_=5,RK=7,__=8,U2=9,F2=10,E_=11,S_=12,I_=13,T_=14,Q2=15,DK=function(n){for(var e=[],t=0,r=n.length;t<r;){var s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<r){var i=n.charCodeAt(t++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),t--)}else e.push(s)}return e},OK=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],s=-1,i="";++s<t;){var l=n[s];l<=65535?r.push(l):(l-=65536,r.push((l>>10)+55296,l%1024+56320)),(s+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},MK=FK(xK),pA="",L2="",PK=function(n){return MK.get(n)},HK=function(n,e,t){var r=t-2,s=e[r],i=e[t-1],l=e[t];if(i===T2&&l===j2)return pA;if(i===T2||i===j2||i===C_||l===T2||l===j2||l===C_)return L2;if(i===__&&[__,U2,E_,S_].indexOf(l)!==-1||(i===E_||i===U2)&&(l===U2||l===F2)||(i===S_||i===F2)&&l===F2||l===I_||l===N_||l===RK||i===kK)return pA;if(i===I_&&l===T_){for(;s===N_;)s=e[--r];if(s===T_)return pA}if(i===Q2&&l===Q2){for(var u=0;s===Q2;)u++,s=e[--r];if(u%2===0)return pA}return L2},VK=function(n){var e=DK(n),t=e.length,r=0,s=0,i=e.map(PK);return{next:function(){if(r>=t)return{done:!0,value:null};for(var l=pA;r<t&&(l=HK(e,i,++r))===pA;);if(l!==pA||r===t){var u=OK.apply(null,e.slice(s,r));return s=r,{value:u,done:!1}}return{done:!0,value:null}}}},KK=function(n){for(var e=VK(n),t=[],r;!(r=e.next()).done;)r.value&&t.push(r.value.slice());return t},zK=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var r=n.createElement("boundtest");r.style.height=e+"px",r.style.display="block",n.body.appendChild(r),t.selectNode(r);var s=t.getBoundingClientRect(),i=Math.round(s.height);if(n.body.removeChild(r),i===e)return!0}}return!1},qK=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=wx(r.data).map(function(h){return Zn(h)}),i=0,l={},u=s.every(function(h,g){t.setStart(r,i),t.setEnd(r,i+h.length);var p=t.getBoundingClientRect();i+=h.length;var x=p.x>l.x||p.y>l.y;return l=p,g===0?!0:x});return n.body.removeChild(e),u},GK=function(){return typeof new Image().crossOrigin<"u"},XK=function(){return typeof new XMLHttpRequest().responseType=="string"},YK=function(n){var e=new Image,t=n.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},j_=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},$K=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var s=new Image,i=e.toDataURL();s.src=i;var l=aw(t,t,0,0,s);return r.fillStyle="red",r.fillRect(0,0,t,t),U_(l).then(function(u){r.drawImage(u,0,0);var h=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var g=n.createElement("div");return g.style.backgroundImage="url("+i+")",g.style.height=t+"px",j_(h)?U_(aw(t,t,0,0,g)):Promise.reject(!1)}).then(function(u){return r.drawImage(u,0,0),j_(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},aw=function(n,e,t,r,s){var i="http://www.w3.org/2000/svg",l=document.createElementNS(i,"svg"),u=document.createElementNS(i,"foreignObject");return l.setAttributeNS(null,"width",n.toString()),l.setAttributeNS(null,"height",e.toString()),u.setAttributeNS(null,"width","100%"),u.setAttributeNS(null,"height","100%"),u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",r.toString()),u.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(u),u.appendChild(s),l},U_=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},la={get SUPPORT_RANGE_BOUNDS(){var n=zK(document);return Object.defineProperty(la,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=la.SUPPORT_RANGE_BOUNDS&&qK(document);return Object.defineProperty(la,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=YK(document);return Object.defineProperty(la,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?$K(document):Promise.resolve(!1);return Object.defineProperty(la,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=GK();return Object.defineProperty(la,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=XK();return Object.defineProperty(la,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(la,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(la,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},tg=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),JK=function(n,e,t,r){var s=ez(e,t),i=[],l=0;return s.forEach(function(u){if(t.textDecorationLine.length||u.trim().length>0)if(la.SUPPORT_RANGE_BOUNDS){var h=F_(r,l,u.length).getClientRects();if(h.length>1){var g=e5(u),p=0;g.forEach(function(B){i.push(new tg(B,Zl.fromDOMRectList(n,F_(r,p+l,B.length).getClientRects()))),p+=B.length})}else i.push(new tg(u,Zl.fromDOMRectList(n,h)))}else{var x=r.splitText(u.length);i.push(new tg(u,WK(n,r))),r=x}else la.SUPPORT_RANGE_BOUNDS||(r=r.splitText(u.length));l+=u.length}),i},WK=function(n,e){var t=e.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var i=bx(n,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return Zl.EMPTY},F_=function(n,e,t){var r=n.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(n,e),s.setEnd(n,e+t),s},e5=function(n){if(la.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return KK(n)},ZK=function(n,e){if(la.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(r){return r.segment})}return rz(n,e)},ez=function(n,e){return e.letterSpacing!==0?e5(n):ZK(n,e)},tz=[32,160,4961,65792,65793,4153,4241],rz=function(n,e){for(var t=IP(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,i=function(){if(s.value){var l=s.value.slice(),u=wx(l),h="";u.forEach(function(g){tz.indexOf(g)===-1?h+=Zn(g):(h.length&&r.push(h),r.push(Zn(g)),h="")}),h.length&&r.push(h)}};!(s=t.next()).done;)i();return r},nz=(function(){function n(e,t,r){this.text=sz(t.data,r.textTransform),this.textBounds=JK(e,this.text,r,t)}return n})(),sz=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(az,iz);case 2:return n.toUpperCase();default:return n}},az=/(^|\s|:|-|\(|\))([a-z])/g,iz=function(n,e,t){return n.length>0?e+t.toUpperCase():n},lT=(function(n){io(e,n);function e(t,r){var s=n.call(this,t,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e})(il),cT=(function(n){io(e,n);function e(t,r){var s=n.call(this,t,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e})(il),uT=(function(n){io(e,n);function e(t,r){var s=n.call(this,t,r)||this,i=new XMLSerializer,l=bx(t,r);return r.setAttribute("width",l.width+"px"),r.setAttribute("height",l.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e})(il),dT=(function(n){io(e,n);function e(t,r){var s=n.call(this,t,r)||this;return s.value=r.value,s}return e})(il),iw=(function(n){io(e,n);function e(t,r){var s=n.call(this,t,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e})(il),Az=[{type:15,flags:0,unit:"px",number:3}],oz=[{type:16,flags:0,number:50}],lz=function(n){return n.width>n.height?new Zl(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new Zl(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},cz=function(n){var e=n.type===uz?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},U1="checkbox",F1="radio",uz="password",Q_=707406591,t5=(function(n){io(e,n);function e(t,r){var s=n.call(this,t,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=cz(r),(s.type===U1||s.type===F1)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=lz(s.bounds)),s.type){case U1:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Az;break;case F1:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=oz;break}return s}return e})(il),hT=(function(n){io(e,n);function e(t,r){var s=n.call(this,t,r)||this,i=r.options[r.selectedIndex||0];return s.value=i&&i.text||"",s}return e})(il),fT=(function(n){io(e,n);function e(t,r){var s=n.call(this,t,r)||this;return s.value=r.value,s}return e})(il),gT=(function(n){io(e,n);function e(t,r){var s=n.call(this,t,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=pT(t,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?Z0(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):zl.TRANSPARENT,l=r.contentWindow.document.body?Z0(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):zl.TRANSPARENT;s.backgroundColor=hu(i)?hu(l)?s.styles.backgroundColor:l:i}}catch{}return s}return e})(il),dz=["OL","UL","MENU"],Kp=function(n,e,t,r){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,xT(s)&&s.data.trim().length>0)t.textNodes.push(new nz(n,s,t.styles));else if(kh(s))if(vT(s)&&s.assignedNodes)s.assignedNodes().forEach(function(u){return Kp(n,u,t,r)});else{var l=mT(n,s);l.styles.isVisible()&&(hz(s,l,r)?l.flags|=4:fz(l.styles)&&(l.flags|=2),dz.indexOf(s.tagName)!==-1&&(l.flags|=8),t.elements.push(l),s.slot,s.shadowRoot?Kp(n,s.shadowRoot,l,r):!Q1(s)&&!yT(s)&&!L1(s)&&Kp(n,s,l,r))}},mT=function(n,e){return ow(e)?new lT(n,e):bT(e)?new cT(n,e):yT(e)?new uT(n,e):gz(e)?new dT(n,e):mz(e)?new iw(n,e):pz(e)?new t5(n,e):L1(e)?new hT(n,e):Q1(e)?new fT(n,e):wT(e)?new gT(n,e):new il(n,e)},pT=function(n,e){var t=mT(n,e);return t.flags|=4,Kp(n,e,t,t),t},hz=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||r5(n)&&t.styles.isTransparent()},fz=function(n){return n.isPositioned()||n.isFloating()},xT=function(n){return n.nodeType===Node.TEXT_NODE},kh=function(n){return n.nodeType===Node.ELEMENT_NODE},Aw=function(n){return kh(n)&&typeof n.style<"u"&&!zp(n)},zp=function(n){return typeof n.className=="object"},gz=function(n){return n.tagName==="LI"},mz=function(n){return n.tagName==="OL"},pz=function(n){return n.tagName==="INPUT"},xz=function(n){return n.tagName==="HTML"},yT=function(n){return n.tagName==="svg"},r5=function(n){return n.tagName==="BODY"},bT=function(n){return n.tagName==="CANVAS"},L_=function(n){return n.tagName==="VIDEO"},ow=function(n){return n.tagName==="IMG"},wT=function(n){return n.tagName==="IFRAME"},k_=function(n){return n.tagName==="STYLE"},yz=function(n){return n.tagName==="SCRIPT"},Q1=function(n){return n.tagName==="TEXTAREA"},L1=function(n){return n.tagName==="SELECT"},vT=function(n){return n.tagName==="SLOT"},R_=function(n){return n.tagName.indexOf("-")>0},bz=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(r){return t.counters[r].pop()})},n.prototype.parse=function(e){var t=this,r=e.counterIncrement,s=e.counterReset,i=!0;r!==null&&r.forEach(function(u){var h=t.counters[u.counter];h&&u.increment!==0&&(i=!1,h.length||h.push(1),h[Math.max(0,h.length-1)]+=u.increment)});var l=[];return i&&s.forEach(function(u){var h=t.counters[u.counter];l.push(u.counter),h||(h=t.counters[u.counter]=[]),h.push(u.reset)}),l},n})(),D_={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},O_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},wz={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},vz={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},bh=function(n,e,t,r,s,i){return n<e||n>t?Eg(n,s,i.length>0):r.integers.reduce(function(l,u,h){for(;n>=u;)n-=u,l+=r.values[h];return l},"")+i},BT=function(n,e,t,r){var s="";do t||n--,s=r(n)+s,n/=e;while(n*e>=e);return s},Wn=function(n,e,t,r,s){var i=t-e+1;return(n<0?"-":"")+(BT(Math.abs(n),i,r,function(l){return Zn(Math.floor(l%i)+e)})+s)},Gu=function(n,e,t){t===void 0&&(t=". ");var r=e.length;return BT(Math.abs(n),r,!1,function(s){return e[Math.floor(s%r)]})+t},Th=1,qc=2,Gc=4,O0=8,Dl=function(n,e,t,r,s,i){if(n<-9999||n>9999)return Eg(n,4,s.length>0);var l=Math.abs(n),u=s;if(l===0)return e[0]+u;for(var h=0;l>0&&h<=4;h++){var g=l%10;g===0&&Us(i,Th)&&u!==""?u=e[g]+u:g>1||g===1&&h===0||g===1&&h===1&&Us(i,qc)||g===1&&h===1&&Us(i,Gc)&&n>100||g===1&&h>1&&Us(i,O0)?u=e[g]+(h>0?t[h-1]:"")+u:g===1&&h>0&&(u=t[h-1]+u),l=Math.floor(l/10)}return(n<0?r:"")+u},M_="",P_="",H_="",k2="",Eg=function(n,e,t){var r=t?". ":"",s=t?"":"",i=t?", ":"",l=t?" ":"";switch(e){case 0:return""+l;case 1:return""+l;case 2:return""+l;case 5:var u=Wn(n,48,57,!0,r);return u.length<4?"0"+u:u;case 4:return Gu(n,"",s);case 6:return bh(n,1,3999,D_,3,r).toLowerCase();case 7:return bh(n,1,3999,D_,3,r);case 8:return Wn(n,945,969,!1,r);case 9:return Wn(n,97,122,!1,r);case 10:return Wn(n,65,90,!1,r);case 11:return Wn(n,1632,1641,!0,r);case 12:case 49:return bh(n,1,9999,O_,3,r);case 35:return bh(n,1,9999,O_,3,r).toLowerCase();case 13:return Wn(n,2534,2543,!0,r);case 14:case 30:return Wn(n,6112,6121,!0,r);case 15:return Gu(n,"",s);case 16:return Gu(n,"",s);case 17:case 48:return Dl(n,"",M_,"",s,qc|Gc|O0);case 47:return Dl(n,"",P_,"",s,Th|qc|Gc|O0);case 42:return Dl(n,"",M_,"",s,qc|Gc|O0);case 41:return Dl(n,"",P_,"",s,Th|qc|Gc|O0);case 26:return Dl(n,"","",H_,s,0);case 25:return Dl(n,"","",H_,s,Th|qc|Gc);case 31:return Dl(n,"","",k2,i,Th|qc|Gc);case 33:return Dl(n,"","",k2,i,0);case 32:return Dl(n,"","",k2,i,Th|qc|Gc);case 18:return Wn(n,2406,2415,!0,r);case 20:return bh(n,1,19999,vz,3,r);case 21:return Wn(n,2790,2799,!0,r);case 22:return Wn(n,2662,2671,!0,r);case 22:return bh(n,1,10999,wz,3,r);case 23:return Gu(n,"");case 24:return Gu(n,"");case 27:return Wn(n,3302,3311,!0,r);case 28:return Gu(n,"",s);case 29:return Gu(n,"",s);case 34:return Wn(n,3792,3801,!0,r);case 37:return Wn(n,6160,6169,!0,r);case 38:return Wn(n,4160,4169,!0,r);case 39:return Wn(n,2918,2927,!0,r);case 40:return Wn(n,1776,1785,!0,r);case 43:return Wn(n,3046,3055,!0,r);case 44:return Wn(n,3174,3183,!0,r);case 45:return Wn(n,3664,3673,!0,r);case 46:return Wn(n,3872,3881,!0,r);case 3:default:return Wn(n,48,57,!0,r)}},CT="data-html2canvas-ignore",V_=(function(){function n(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new bz,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var r=this,s=Bz(e,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,l=e.defaultView.pageYOffset,u=s.contentWindow,h=u.document,g=_z(s).then(function(){return Ja(r,void 0,void 0,function(){var p,x;return Ta(this,function(B){switch(B.label){case 0:return this.scrolledElements.forEach(Tz),u&&(u.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(u.scrollY!==t.top||u.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(u.scrollX-t.left,u.scrollY-t.top,0,0))),p=this.options.onclone,x=this.clonedReferenceElement,typeof x>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:h.fonts&&h.fonts.ready?[4,h.fonts.ready]:[3,2];case 1:B.sent(),B.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Nz(h)]:[3,4];case 3:B.sent(),B.label=4;case 4:return typeof p=="function"?[2,Promise.resolve().then(function(){return p(h,x)}).then(function(){return s})]:[2,s]}})})});return h.open(),h.write(Sz(document.doctype)+"<html></html>"),Iz(this.referenceElement.ownerDocument,i,l),h.replaceChild(h.adoptNode(this.documentElement),h.documentElement),h.close(),g},n.prototype.createElementClone=function(e){if(sw(e,2))debugger;if(bT(e))return this.createCanvasClone(e);if(L_(e))return this.createVideoClone(e);if(k_(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return ow(t)&&(ow(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),R_(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return R2(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(i,l){return l&&typeof l.cssText=="string"?i+l.cssText:i},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),l=s.getContext("2d");if(l)if(!this.options.allowTaint&&i)l.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var u=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(u){var h=u.getContextAttributes();(h==null?void 0:h.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}l.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},n.prototype.appendChildNode=function(e,t,r){(!kh(t)||!yz(t)&&!t.hasAttribute(CT)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!kh(t)||!k_(t))&&e.appendChild(this.cloneNode(t,r))},n.prototype.cloneChildNodes=function(e,t,r){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(kh(i)&&vT(i)&&typeof i.assignedNodes=="function"){var l=i.assignedNodes();l.length&&l.forEach(function(u){return s.appendChildNode(t,u,r)})}else this.appendChildNode(t,i,r)},n.prototype.cloneNode=function(e,t){if(xT(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&kh(e)&&(Aw(e)||zp(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=r.getComputedStyle(e),l=r.getComputedStyle(e,":before"),u=r.getComputedStyle(e,":after");this.referenceElement===e&&Aw(s)&&(this.clonedReferenceElement=s),r5(s)&&Fz(s);var h=this.counters.parse(new b_(this.context,i)),g=this.resolvePseudoContent(e,s,l,rg.BEFORE);R_(e)&&(t=!0),L_(e)||this.cloneChildNodes(e,s,t),g&&s.insertBefore(g,s.firstChild);var p=this.resolvePseudoContent(e,s,u,rg.AFTER);return p&&s.appendChild(p),this.counters.pop(h),(i&&(this.options.copyStyles||zp(e))&&!wT(e)||t)&&R2(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(Q1(e)||L1(e))&&(Q1(s)||L1(s))&&(s.value=e.value),s}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,r,s){var i=this;if(r){var l=r.content,u=t.ownerDocument;if(!(!u||!l||l==="none"||l==="-moz-alt-content"||r.display==="none")){this.counters.parse(new b_(this.context,r));var h=new gK(this.context,r),g=u.createElement("html2canvaspseudoelement");R2(r,g),h.content.forEach(function(x){if(x.type===0)g.appendChild(u.createTextNode(x.value));else if(x.type===22){var B=u.createElement("img");B.src=x.value,B.style.opacity="1",g.appendChild(B)}else if(x.type===18){if(x.name==="attr"){var C=x.values.filter(on);C.length&&g.appendChild(u.createTextNode(e.getAttribute(C[0].value)||""))}else if(x.name==="counter"){var U=x.values.filter(xf),E=U[0],P=U[1];if(E&&on(E)){var F=i.counters.getCounterValue(E.value),H=P&&on(P)?nw.parse(i.context,P.value):3;g.appendChild(u.createTextNode(Eg(F,H,!1)))}}else if(x.name==="counters"){var K=x.values.filter(xf),E=K[0],Ae=K[1],P=K[2];if(E&&on(E)){var ae=i.counters.getCounterValues(E.value),se=P&&on(P)?nw.parse(i.context,P.value):3,j=Ae&&Ae.type===0?Ae.value:"",S=ae.map(function(I){return Eg(I,se,!1)}).join(j);g.appendChild(u.createTextNode(S))}}}else if(x.type===20)switch(x.value){case"open-quote":g.appendChild(u.createTextNode(y_(h.quotes,i.quoteDepth++,!0)));break;case"close-quote":g.appendChild(u.createTextNode(y_(h.quotes,--i.quoteDepth,!1)));break;default:g.appendChild(u.createTextNode(x.value))}}),g.className=lw+" "+cw;var p=s===rg.BEFORE?" "+lw:" "+cw;return zp(t)?t.className.baseValue+=p:t.className+=p,g}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),rg;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(rg||(rg={}));var Bz=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(CT,"true"),n.body.appendChild(t),t},Cz=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},Nz=function(n){return Promise.all([].slice.call(n.images,0).map(Cz))},_z=function(n){return new Promise(function(e,t){var r=n.contentWindow;if(!r)return t("No window assigned for iframe");var s=r.document;r.onload=n.onload=function(){r.onload=n.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(n))},50)}})},Ez=["all","d","content"],R2=function(n,e){for(var t=n.length-1;t>=0;t--){var r=n.item(t);Ez.indexOf(r)===-1&&e.style.setProperty(r,n.getPropertyValue(r))}return e},Sz=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},Iz=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},Tz=function(n){var e=n[0],t=n[1],r=n[2];e.scrollLeft=t,e.scrollTop=r},jz=":before",Uz=":after",lw="___html2canvas___pseudoelement_before",cw="___html2canvas___pseudoelement_after",K_=`{
    content: "" !important;
    display: none !important;
}`,Fz=function(n){Qz(n,"."+lw+jz+K_+`
         .`+cw+Uz+K_)},Qz=function(n,e){var t=n.ownerDocument;if(t){var r=t.createElement("style");r.textContent=e,n.appendChild(r)}},NT=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),Lz=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(O2(e)||Oz(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return Ja(this,void 0,void 0,function(){var t,r,s,i,l=this;return Ta(this,function(u){switch(u.label){case 0:return t=NT.isSameOrigin(e),r=!D2(e)&&this._options.useCORS===!0&&la.SUPPORT_CORS_IMAGES&&!t,s=!D2(e)&&!t&&!O2(e)&&typeof this._options.proxy=="string"&&la.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!D2(e)&&!O2(e)&&!s&&!r?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=u.sent(),u.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(h,g){var p=new Image;p.onload=function(){return h(p)},p.onerror=g,(Mz(i)||r)&&(p.crossOrigin="anonymous"),p.src=i,p.complete===!0&&setTimeout(function(){return h(p)},500),l._options.imageTimeout>0&&setTimeout(function(){return g("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,u.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,l){var u=la.SUPPORT_RESPONSE_TYPE?"blob":"text",h=new XMLHttpRequest;h.onload=function(){if(h.status===200)if(u==="text")i(h.response);else{var x=new FileReader;x.addEventListener("load",function(){return i(x.result)},!1),x.addEventListener("error",function(B){return l(B)},!1),x.readAsDataURL(h.response)}else l("Failed to proxy resource "+s+" with status code "+h.status)},h.onerror=l;var g=r.indexOf("?")>-1?"&":"?";if(h.open("GET",""+r+g+"url="+encodeURIComponent(e)+"&responseType="+u),u!=="text"&&h instanceof XMLHttpRequest&&(h.responseType=u),t._options.imageTimeout){var p=t._options.imageTimeout;h.timeout=p,h.ontimeout=function(){return l("Timed out ("+p+"ms) proxying "+s)}}h.send()})},n})(),kz=/^data:image\/svg\+xml/i,Rz=/^data:image\/.*;base64,/i,Dz=/^data:image\/.*/i,Oz=function(n){return la.SUPPORT_SVG_DRAWING||!Pz(n)},D2=function(n){return Dz.test(n)},Mz=function(n){return Rz.test(n)},O2=function(n){return n.substr(0,4)==="blob"},Pz=function(n){return n.substr(-3).toLowerCase()==="svg"||kz.test(n)},pt=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),wh=function(n,e,t){return new pt(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},xp=(function(){function n(e,t,r,s){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=s}return n.prototype.subdivide=function(e,t){var r=wh(this.start,this.startControl,e),s=wh(this.startControl,this.endControl,e),i=wh(this.endControl,this.end,e),l=wh(r,s,e),u=wh(s,i,e),h=wh(l,u,e);return t?new n(this.start,r,l,h):new n(h,u,i,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),xA=function(n){return n.type===1},Hz=(function(){function n(e){var t=e.styles,r=e.bounds,s=R0(t.borderTopLeftRadius,r.width,r.height),i=s[0],l=s[1],u=R0(t.borderTopRightRadius,r.width,r.height),h=u[0],g=u[1],p=R0(t.borderBottomRightRadius,r.width,r.height),x=p[0],B=p[1],C=R0(t.borderBottomLeftRadius,r.width,r.height),U=C[0],E=C[1],P=[];P.push((i+h)/r.width),P.push((U+x)/r.width),P.push((l+E)/r.height),P.push((g+B)/r.height);var F=Math.max.apply(Math,P);F>1&&(i/=F,l/=F,h/=F,g/=F,x/=F,B/=F,U/=F,E/=F);var H=r.width-h,K=r.height-B,Ae=r.width-x,ae=r.height-E,se=t.borderTopWidth,j=t.borderRightWidth,S=t.borderBottomWidth,O=t.borderLeftWidth,q=xn(t.paddingTop,e.bounds.width),I=xn(t.paddingRight,e.bounds.width),k=xn(t.paddingBottom,e.bounds.width),D=xn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||l>0?Qn(r.left+O/3,r.top+se/3,i-O/3,l-se/3,Gr.TOP_LEFT):new pt(r.left+O/3,r.top+se/3),this.topRightBorderDoubleOuterBox=i>0||l>0?Qn(r.left+H,r.top+se/3,h-j/3,g-se/3,Gr.TOP_RIGHT):new pt(r.left+r.width-j/3,r.top+se/3),this.bottomRightBorderDoubleOuterBox=x>0||B>0?Qn(r.left+Ae,r.top+K,x-j/3,B-S/3,Gr.BOTTOM_RIGHT):new pt(r.left+r.width-j/3,r.top+r.height-S/3),this.bottomLeftBorderDoubleOuterBox=U>0||E>0?Qn(r.left+O/3,r.top+ae,U-O/3,E-S/3,Gr.BOTTOM_LEFT):new pt(r.left+O/3,r.top+r.height-S/3),this.topLeftBorderDoubleInnerBox=i>0||l>0?Qn(r.left+O*2/3,r.top+se*2/3,i-O*2/3,l-se*2/3,Gr.TOP_LEFT):new pt(r.left+O*2/3,r.top+se*2/3),this.topRightBorderDoubleInnerBox=i>0||l>0?Qn(r.left+H,r.top+se*2/3,h-j*2/3,g-se*2/3,Gr.TOP_RIGHT):new pt(r.left+r.width-j*2/3,r.top+se*2/3),this.bottomRightBorderDoubleInnerBox=x>0||B>0?Qn(r.left+Ae,r.top+K,x-j*2/3,B-S*2/3,Gr.BOTTOM_RIGHT):new pt(r.left+r.width-j*2/3,r.top+r.height-S*2/3),this.bottomLeftBorderDoubleInnerBox=U>0||E>0?Qn(r.left+O*2/3,r.top+ae,U-O*2/3,E-S*2/3,Gr.BOTTOM_LEFT):new pt(r.left+O*2/3,r.top+r.height-S*2/3),this.topLeftBorderStroke=i>0||l>0?Qn(r.left+O/2,r.top+se/2,i-O/2,l-se/2,Gr.TOP_LEFT):new pt(r.left+O/2,r.top+se/2),this.topRightBorderStroke=i>0||l>0?Qn(r.left+H,r.top+se/2,h-j/2,g-se/2,Gr.TOP_RIGHT):new pt(r.left+r.width-j/2,r.top+se/2),this.bottomRightBorderStroke=x>0||B>0?Qn(r.left+Ae,r.top+K,x-j/2,B-S/2,Gr.BOTTOM_RIGHT):new pt(r.left+r.width-j/2,r.top+r.height-S/2),this.bottomLeftBorderStroke=U>0||E>0?Qn(r.left+O/2,r.top+ae,U-O/2,E-S/2,Gr.BOTTOM_LEFT):new pt(r.left+O/2,r.top+r.height-S/2),this.topLeftBorderBox=i>0||l>0?Qn(r.left,r.top,i,l,Gr.TOP_LEFT):new pt(r.left,r.top),this.topRightBorderBox=h>0||g>0?Qn(r.left+H,r.top,h,g,Gr.TOP_RIGHT):new pt(r.left+r.width,r.top),this.bottomRightBorderBox=x>0||B>0?Qn(r.left+Ae,r.top+K,x,B,Gr.BOTTOM_RIGHT):new pt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=U>0||E>0?Qn(r.left,r.top+ae,U,E,Gr.BOTTOM_LEFT):new pt(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||l>0?Qn(r.left+O,r.top+se,Math.max(0,i-O),Math.max(0,l-se),Gr.TOP_LEFT):new pt(r.left+O,r.top+se),this.topRightPaddingBox=h>0||g>0?Qn(r.left+Math.min(H,r.width-j),r.top+se,H>r.width+j?0:Math.max(0,h-j),Math.max(0,g-se),Gr.TOP_RIGHT):new pt(r.left+r.width-j,r.top+se),this.bottomRightPaddingBox=x>0||B>0?Qn(r.left+Math.min(Ae,r.width-O),r.top+Math.min(K,r.height-S),Math.max(0,x-j),Math.max(0,B-S),Gr.BOTTOM_RIGHT):new pt(r.left+r.width-j,r.top+r.height-S),this.bottomLeftPaddingBox=U>0||E>0?Qn(r.left+O,r.top+Math.min(ae,r.height-S),Math.max(0,U-O),Math.max(0,E-S),Gr.BOTTOM_LEFT):new pt(r.left+O,r.top+r.height-S),this.topLeftContentBox=i>0||l>0?Qn(r.left+O+D,r.top+se+q,Math.max(0,i-(O+D)),Math.max(0,l-(se+q)),Gr.TOP_LEFT):new pt(r.left+O+D,r.top+se+q),this.topRightContentBox=h>0||g>0?Qn(r.left+Math.min(H,r.width+O+D),r.top+se+q,H>r.width+O+D?0:h-O+D,g-(se+q),Gr.TOP_RIGHT):new pt(r.left+r.width-(j+I),r.top+se+q),this.bottomRightContentBox=x>0||B>0?Qn(r.left+Math.min(Ae,r.width-(O+D)),r.top+Math.min(K,r.height+se+q),Math.max(0,x-(j+I)),B-(S+k),Gr.BOTTOM_RIGHT):new pt(r.left+r.width-(j+I),r.top+r.height-(S+k)),this.bottomLeftContentBox=U>0||E>0?Qn(r.left+O+D,r.top+ae,Math.max(0,U-(O+D)),E-(S+k),Gr.BOTTOM_LEFT):new pt(r.left+O+D,r.top+r.height-(S+k))}return n})(),Gr;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Gr||(Gr={}));var Qn=function(n,e,t,r,s){var i=4*((Math.sqrt(2)-1)/3),l=t*i,u=r*i,h=n+t,g=e+r;switch(s){case Gr.TOP_LEFT:return new xp(new pt(n,g),new pt(n,g-u),new pt(h-l,e),new pt(h,e));case Gr.TOP_RIGHT:return new xp(new pt(n,e),new pt(n+l,e),new pt(h,g-u),new pt(h,g));case Gr.BOTTOM_RIGHT:return new xp(new pt(h,e),new pt(h,e+u),new pt(n+l,g),new pt(n,g));case Gr.BOTTOM_LEFT:default:return new xp(new pt(h,g),new pt(h-l,g),new pt(n,e+u),new pt(n,e))}},k1=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},Vz=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},R1=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},Kz=(function(){function n(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return n})(),yp=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),zz=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),qz=function(n){return n.type===0},_T=function(n){return n.type===1},Gz=function(n){return n.type===2},z_=function(n,e){return n.length===e.length?n.some(function(t,r){return t===e[r]}):!1},Xz=function(n,e,t,r,s){return n.map(function(i,l){switch(l){case 0:return i.add(e,t);case 1:return i.add(e+r,t);case 2:return i.add(e+r,t+s);case 3:return i.add(e,t+s)}return i})},ET=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),ST=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Hz(this.container),this.container.styles.opacity<1&&this.effects.push(new zz(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Kz(r,s,i))}if(this.container.styles.overflowX!==0){var l=k1(this.curves),u=R1(this.curves);z_(l,u)?this.effects.push(new yp(l,6)):(this.effects.push(new yp(l,2)),this.effects.push(new yp(u,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var i=r.effects.filter(function(h){return!_T(h)});if(t||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,i),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var l=k1(r.curves),u=R1(r.curves);z_(l,u)||s.unshift(new yp(u,6))}}else s.unshift.apply(s,i);r=r.parent}return s.filter(function(h){return Us(h.target,e)})},n})(),uw=function(n,e,t,r){n.container.elements.forEach(function(s){var i=Us(s.flags,4),l=Us(s.flags,2),u=new ST(s,n);Us(s.styles.display,2048)&&r.push(u);var h=Us(s.flags,8)?[]:r;if(i||l){var g=i||s.styles.isPositioned()?t:e,p=new ET(u);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var x=s.styles.zIndex.order;if(x<0){var B=0;g.negativeZIndex.some(function(U,E){return x>U.element.container.styles.zIndex.order?(B=E,!1):B>0}),g.negativeZIndex.splice(B,0,p)}else if(x>0){var C=0;g.positiveZIndex.some(function(U,E){return x>=U.element.container.styles.zIndex.order?(C=E+1,!1):C>0}),g.positiveZIndex.splice(C,0,p)}else g.zeroOrAutoZIndexOrTransformedOrOpacity.push(p)}else s.styles.isFloating()?g.nonPositionedFloats.push(p):g.nonPositionedInlineLevel.push(p);uw(u,p,i?p:t,h)}else s.styles.isInlineLevel()?e.inlineLevel.push(u):e.nonInlineLevel.push(u),uw(u,e,t,h);Us(s.flags,8)&&IT(s,h)})},IT=function(n,e){for(var t=n instanceof iw?n.start:1,r=n instanceof iw?n.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof dT&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=Eg(t,i.container.styles.listStyleType,!0),t+=r?-1:1}},Yz=function(n){var e=new ST(n,null),t=new ET(e),r=[];return uw(e,t,t,r),IT(e.container,r),t},q_=function(n,e){switch(e){case 0:return vA(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return vA(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return vA(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return vA(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},$z=function(n,e){switch(e){case 0:return vA(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return vA(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return vA(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return vA(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},Jz=function(n,e){switch(e){case 0:return vA(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return vA(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return vA(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return vA(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},Wz=function(n,e){switch(e){case 0:return bp(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return bp(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return bp(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return bp(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},bp=function(n,e){var t=[];return xA(n)?t.push(n.subdivide(.5,!1)):t.push(n),xA(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},vA=function(n,e,t,r){var s=[];return xA(n)?s.push(n.subdivide(.5,!1)):s.push(n),xA(t)?s.push(t.subdivide(.5,!0)):s.push(t),xA(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),xA(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},TT=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},D1=function(n){var e=n.styles,t=n.bounds,r=xn(e.paddingLeft,t.width),s=xn(e.paddingRight,t.width),i=xn(e.paddingTop,t.width),l=xn(e.paddingBottom,t.width);return t.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+i+l))},Zz=function(n,e){return n===0?e.bounds:n===2?D1(e):TT(e)},eq=function(n,e){return n===0?e.bounds:n===2?D1(e):TT(e)},M2=function(n,e,t){var r=Zz(jh(n.styles.backgroundOrigin,e),n),s=eq(jh(n.styles.backgroundClip,e),n),i=tq(jh(n.styles.backgroundSize,e),t,r),l=i[0],u=i[1],h=R0(jh(n.styles.backgroundPosition,e),r.width-l,r.height-u),g=rq(jh(n.styles.backgroundRepeat,e),h,i,r,s),p=Math.round(r.left+h[0]),x=Math.round(r.top+h[1]);return[g,p,x,l,u]},vh=function(n){return on(n)&&n.value===Vh.AUTO},wp=function(n){return typeof n=="number"},tq=function(n,e,t){var r=e[0],s=e[1],i=e[2],l=n[0],u=n[1];if(!l)return[0,0];if(xs(l)&&u&&xs(u))return[xn(l,t.width),xn(u,t.height)];var h=wp(i);if(on(l)&&(l.value===Vh.CONTAIN||l.value===Vh.COVER)){if(wp(i)){var g=t.width/t.height;return g<i!=(l.value===Vh.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var p=wp(r),x=wp(s),B=p||x;if(vh(l)&&(!u||vh(u))){if(p&&x)return[r,s];if(!h&&!B)return[t.width,t.height];if(B&&h){var C=p?r:s*i,U=x?s:r/i;return[C,U]}var E=p?r:t.width,P=x?s:t.height;return[E,P]}if(h){var F=0,H=0;return xs(l)?F=xn(l,t.width):xs(u)&&(H=xn(u,t.height)),vh(l)?F=H*i:(!u||vh(u))&&(H=F/i),[F,H]}var K=null,Ae=null;if(xs(l)?K=xn(l,t.width):u&&xs(u)&&(Ae=xn(u,t.height)),K!==null&&(!u||vh(u))&&(Ae=p&&x?K/r*s:t.height),Ae!==null&&vh(l)&&(K=p&&x?Ae/s*r:t.width),K!==null&&Ae!==null)return[K,Ae];throw new Error("Unable to calculate background-size for element")},jh=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},rq=function(n,e,t,r,s){var i=e[0],l=e[1],u=t[0],h=t[1];switch(n){case 2:return[new pt(Math.round(r.left),Math.round(r.top+l)),new pt(Math.round(r.left+r.width),Math.round(r.top+l)),new pt(Math.round(r.left+r.width),Math.round(h+r.top+l)),new pt(Math.round(r.left),Math.round(h+r.top+l))];case 3:return[new pt(Math.round(r.left+i),Math.round(r.top)),new pt(Math.round(r.left+i+u),Math.round(r.top)),new pt(Math.round(r.left+i+u),Math.round(r.height+r.top)),new pt(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new pt(Math.round(r.left+i),Math.round(r.top+l)),new pt(Math.round(r.left+i+u),Math.round(r.top+l)),new pt(Math.round(r.left+i+u),Math.round(r.top+l+h)),new pt(Math.round(r.left+i),Math.round(r.top+l+h))];default:return[new pt(Math.round(s.left),Math.round(s.top)),new pt(Math.round(s.left+s.width),Math.round(s.top)),new pt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new pt(Math.round(s.left),Math.round(s.height+s.top))]}},nq="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",G_="Hidden Text",sq=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),l=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",l.appendChild(r),s.src=nq,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(G_)),r.appendChild(i),r.appendChild(s);var u=s.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(G_)),r.style.lineHeight="normal",s.style.verticalAlign="super";var h=s.offsetTop-r.offsetTop+2;return l.removeChild(r),{baseline:u,middle:h}},n.prototype.getMetrics=function(e,t){var r=e+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},n})(),jT=(function(){function n(e,t){this.context=e,this.options=t}return n})(),aq=1e4,iq=(function(n){io(e,n);function e(t,r){var s=n.call(this,t,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new sq(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(t){this.ctx.save(),Gz(t)&&(this.ctx.globalAlpha=t.opacity),qz(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),_T(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Ja(this,void 0,void 0,function(){var r;return Ta(this,function(s){switch(s.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Ja(this,void 0,void 0,function(){return Ta(this,function(r){switch(r.label){case 0:if(Us(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,r,s){var i=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+s);else{var l=e5(t.text);l.reduce(function(u,h){return i.ctx.fillText(h,u,t.bounds.top+s),u+i.ctx.measureText(h).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),s=uq(t.fontFamily).join(", "),i=Zg(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(t,r){return Ja(this,void 0,void 0,function(){var s,i,l,u,h,g,p,x,B=this;return Ta(this,function(C){return s=this.createFontStyle(r),i=s[0],l=s[1],u=s[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",h=this.fontMetrics.getMetrics(l,u),g=h.baseline,p=h.middle,x=r.paintOrder,t.textBounds.forEach(function(U){x.forEach(function(E){switch(E){case 0:B.ctx.fillStyle=zs(r.color),B.renderTextWithLetterSpacing(U,r.letterSpacing,g);var P=r.textShadow;P.length&&U.text.trim().length&&(P.slice(0).reverse().forEach(function(F){B.ctx.shadowColor=zs(F.color),B.ctx.shadowOffsetX=F.offsetX.number*B.options.scale,B.ctx.shadowOffsetY=F.offsetY.number*B.options.scale,B.ctx.shadowBlur=F.blur.number,B.renderTextWithLetterSpacing(U,r.letterSpacing,g)}),B.ctx.shadowColor="",B.ctx.shadowOffsetX=0,B.ctx.shadowOffsetY=0,B.ctx.shadowBlur=0),r.textDecorationLine.length&&(B.ctx.fillStyle=zs(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(F){switch(F){case 1:B.ctx.fillRect(U.bounds.left,Math.round(U.bounds.top+g),U.bounds.width,1);break;case 2:B.ctx.fillRect(U.bounds.left,Math.round(U.bounds.top),U.bounds.width,1);break;case 3:B.ctx.fillRect(U.bounds.left,Math.ceil(U.bounds.top+p),U.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&U.text.trim().length&&(B.ctx.strokeStyle=zs(r.webkitTextStrokeColor),B.ctx.lineWidth=r.webkitTextStrokeWidth,B.ctx.lineJoin=window.chrome?"miter":"round",B.ctx.strokeText(U.text,U.bounds.left,U.bounds.top+g)),B.ctx.strokeStyle="",B.ctx.lineWidth=0,B.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,r,s){if(s&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=D1(t),l=R1(r);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Ja(this,void 0,void 0,function(){var r,s,i,l,u,h,H,H,g,p,x,B,Ae,C,U,ae,E,P,F,H,K,Ae,ae;return Ta(this,function(se){switch(se.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,s=t.curves,i=r.styles,l=0,u=r.textNodes,se.label=1;case 1:return l<u.length?(h=u[l],[4,this.renderTextNode(h,i)]):[3,4];case 2:se.sent(),se.label=3;case 3:return l++,[3,1];case 4:if(!(r instanceof lT))return[3,8];se.label=5;case 5:return se.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return H=se.sent(),this.renderReplacedElement(r,s,H),[3,8];case 7:return se.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof cT&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof uT))return[3,12];se.label=9;case 9:return se.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return H=se.sent(),this.renderReplacedElement(r,s,H),[3,12];case 11:return se.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof gT&&r.tree?(g=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,g.render(r.tree)]):[3,14];case 13:p=se.sent(),r.width&&r.height&&this.ctx.drawImage(p,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),se.label=14;case 14:if(r instanceof t5&&(x=Math.min(r.bounds.width,r.bounds.height),r.type===U1?r.checked&&(this.ctx.save(),this.path([new pt(r.bounds.left+x*.39363,r.bounds.top+x*.79),new pt(r.bounds.left+x*.16,r.bounds.top+x*.5549),new pt(r.bounds.left+x*.27347,r.bounds.top+x*.44071),new pt(r.bounds.left+x*.39694,r.bounds.top+x*.5649),new pt(r.bounds.left+x*.72983,r.bounds.top+x*.23),new pt(r.bounds.left+x*.84,r.bounds.top+x*.34085),new pt(r.bounds.left+x*.39363,r.bounds.top+x*.79)]),this.ctx.fillStyle=zs(Q_),this.ctx.fill(),this.ctx.restore()):r.type===F1&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+x/2,r.bounds.top+x/2,x/4,0,Math.PI*2,!0),this.ctx.fillStyle=zs(Q_),this.ctx.fill(),this.ctx.restore())),Aq(r)&&r.value.length){switch(B=this.createFontStyle(i),Ae=B[0],C=B[1],U=this.fontMetrics.getMetrics(Ae,C).baseline,this.ctx.font=Ae,this.ctx.fillStyle=zs(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=lq(r.styles.textAlign),ae=D1(r),E=0,r.styles.textAlign){case 1:E+=ae.width/2;break;case 2:E+=ae.width;break}P=ae.add(E,0,0,-ae.height/2+1),this.ctx.save(),this.path([new pt(ae.left,ae.top),new pt(ae.left+ae.width,ae.top),new pt(ae.left+ae.width,ae.top+ae.height),new pt(ae.left,ae.top+ae.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new tg(r.value,P),i.letterSpacing,U),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Us(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(F=r.styles.listStyleImage,F.type!==0)return[3,18];H=void 0,K=F.url,se.label=15;case 15:return se.trys.push([15,17,,18]),[4,this.context.cache.match(K)];case 16:return H=se.sent(),this.ctx.drawImage(H,r.bounds.left-(H.width+10),r.bounds.top),[3,18];case 17:return se.sent(),this.context.logger.error("Error loading list-style-image "+K),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(Ae=this.createFontStyle(i)[0],this.ctx.font=Ae,this.ctx.fillStyle=zs(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ae=new Zl(r.bounds.left,r.bounds.top+xn(r.styles.paddingTop,r.bounds.width),r.bounds.width,p_(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new tg(t.listValue,ae),i.letterSpacing,p_(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),se.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Ja(this,void 0,void 0,function(){var r,s,F,i,l,F,u,h,F,g,p,F,x,B,F,C,U,F,E,P,F;return Ta(this,function(H){switch(H.label){case 0:if(Us(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:H.sent(),r=0,s=t.negativeZIndex,H.label=2;case 2:return r<s.length?(F=s[r],[4,this.renderStack(F)]):[3,5];case 3:H.sent(),H.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:H.sent(),i=0,l=t.nonInlineLevel,H.label=7;case 7:return i<l.length?(F=l[i],[4,this.renderNode(F)]):[3,10];case 8:H.sent(),H.label=9;case 9:return i++,[3,7];case 10:u=0,h=t.nonPositionedFloats,H.label=11;case 11:return u<h.length?(F=h[u],[4,this.renderStack(F)]):[3,14];case 12:H.sent(),H.label=13;case 13:return u++,[3,11];case 14:g=0,p=t.nonPositionedInlineLevel,H.label=15;case 15:return g<p.length?(F=p[g],[4,this.renderStack(F)]):[3,18];case 16:H.sent(),H.label=17;case 17:return g++,[3,15];case 18:x=0,B=t.inlineLevel,H.label=19;case 19:return x<B.length?(F=B[x],[4,this.renderNode(F)]):[3,22];case 20:H.sent(),H.label=21;case 21:return x++,[3,19];case 22:C=0,U=t.zeroOrAutoZIndexOrTransformedOrOpacity,H.label=23;case 23:return C<U.length?(F=U[C],[4,this.renderStack(F)]):[3,26];case 24:H.sent(),H.label=25;case 25:return C++,[3,23];case 26:E=0,P=t.positiveZIndex,H.label=27;case 27:return E<P.length?(F=P[E],[4,this.renderStack(F)]):[3,30];case 28:H.sent(),H.label=29;case 29:return E++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var r=this;t.forEach(function(s,i){var l=xA(s)?s.start:s;i===0?r.ctx.moveTo(l.x,l.y):r.ctx.lineTo(l.x,l.y),xA(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(t,r,s,i){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(t,r,s){var i;if(t.width===r&&t.height===s)return t;var l=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,u=l.createElement("canvas");u.width=Math.max(1,r),u.height=Math.max(1,s);var h=u.getContext("2d");return h.drawImage(t,0,0,t.width,t.height,0,0,r,s),u},e.prototype.renderBackgroundImage=function(t){return Ja(this,void 0,void 0,function(){var r,s,i,l,u,h;return Ta(this,function(g){switch(g.label){case 0:r=t.styles.backgroundImage.length-1,s=function(p){var x,B,C,q,te,ce,D,J,S,U,q,te,ce,D,J,E,P,F,H,K,Ae,ae,se,j,S,O,q,I,k,D,J,pe,te,ce,ne,he,we,Y,Q,M,z,re;return Ta(this,function(ue){switch(ue.label){case 0:if(p.type!==0)return[3,5];x=void 0,B=p.url,ue.label=1;case 1:return ue.trys.push([1,3,,4]),[4,i.context.cache.match(B)];case 2:return x=ue.sent(),[3,4];case 3:return ue.sent(),i.context.logger.error("Error loading background-image "+B),[3,4];case 4:return x&&(C=M2(t,r,[x.width,x.height,x.width/x.height]),q=C[0],te=C[1],ce=C[2],D=C[3],J=C[4],S=i.ctx.createPattern(i.resizeImage(x,D,J),"repeat"),i.renderRepeat(q,S,te,ce)),[3,6];case 5:qH(p)?(U=M2(t,r,[null,null,null]),q=U[0],te=U[1],ce=U[2],D=U[3],J=U[4],E=PH(p.angle,D,J),P=E[0],F=E[1],H=E[2],K=E[3],Ae=E[4],ae=document.createElement("canvas"),ae.width=D,ae.height=J,se=ae.getContext("2d"),j=se.createLinearGradient(F,K,H,Ae),g_(p.stops,P).forEach(function(me){return j.addColorStop(me.stop,zs(me.color))}),se.fillStyle=j,se.fillRect(0,0,D,J),D>0&&J>0&&(S=i.ctx.createPattern(ae,"repeat"),i.renderRepeat(q,S,te,ce))):GH(p)&&(O=M2(t,r,[null,null,null]),q=O[0],I=O[1],k=O[2],D=O[3],J=O[4],pe=p.position.length===0?[Jv]:p.position,te=xn(pe[0],D),ce=xn(pe[pe.length-1],J),ne=HH(p,te,ce,D,J),he=ne[0],we=ne[1],he>0&&we>0&&(Y=i.ctx.createRadialGradient(I+te,k+ce,0,I+te,k+ce,he),g_(p.stops,he*2).forEach(function(me){return Y.addColorStop(me.stop,zs(me.color))}),i.path(q),i.ctx.fillStyle=Y,he!==we?(Q=t.bounds.left+.5*t.bounds.width,M=t.bounds.top+.5*t.bounds.height,z=we/he,re=1/z,i.ctx.save(),i.ctx.translate(Q,M),i.ctx.transform(1,0,0,z,0,0),i.ctx.translate(-Q,-M),i.ctx.fillRect(I,re*(k-M)+M,D,J*re),i.ctx.restore()):i.ctx.fill())),ue.label=6;case 6:return r--,[2]}})},i=this,l=0,u=t.styles.backgroundImage.slice(0).reverse(),g.label=1;case 1:return l<u.length?(h=u[l],[5,s(h)]):[3,4];case 2:g.sent(),g.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,r,s){return Ja(this,void 0,void 0,function(){return Ta(this,function(i){return this.path(q_(s,r)),this.ctx.fillStyle=zs(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,r,s,i){return Ja(this,void 0,void 0,function(){var l,u;return Ta(this,function(h){switch(h.label){case 0:return r<3?[4,this.renderSolidBorder(t,s,i)]:[3,2];case 1:return h.sent(),[2];case 2:return l=$z(i,s),this.path(l),this.ctx.fillStyle=zs(t),this.ctx.fill(),u=Jz(i,s),this.path(u),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Ja(this,void 0,void 0,function(){var r,s,i,l,u,h,g,p,x=this;return Ta(this,function(B){switch(B.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,s=!hu(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],l=oq(jh(r.backgroundClip,0),t.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),hu(r.backgroundColor)||(this.ctx.fillStyle=zs(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:B.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(C){x.ctx.save();var U=k1(t.curves),E=C.inset?0:aq,P=Xz(U,-E+(C.inset?1:-1)*C.spread.number,(C.inset?1:-1)*C.spread.number,C.spread.number*(C.inset?-2:2),C.spread.number*(C.inset?-2:2));C.inset?(x.path(U),x.ctx.clip(),x.mask(P)):(x.mask(U),x.ctx.clip(),x.path(P)),x.ctx.shadowOffsetX=C.offsetX.number+E,x.ctx.shadowOffsetY=C.offsetY.number,x.ctx.shadowColor=zs(C.color),x.ctx.shadowBlur=C.blur.number,x.ctx.fillStyle=C.inset?zs(C.color):"rgba(0,0,0,1)",x.ctx.fill(),x.ctx.restore()}),B.label=2;case 2:u=0,h=0,g=i,B.label=3;case 3:return h<g.length?(p=g[h],p.style!==0&&!hu(p.color)&&p.width>0?p.style!==2?[3,5]:[4,this.renderDashedDottedBorder(p.color,p.width,u,t.curves,2)]:[3,11]):[3,13];case 4:return B.sent(),[3,11];case 5:return p.style!==3?[3,7]:[4,this.renderDashedDottedBorder(p.color,p.width,u,t.curves,3)];case 6:return B.sent(),[3,11];case 7:return p.style!==4?[3,9]:[4,this.renderDoubleBorder(p.color,p.width,u,t.curves)];case 8:return B.sent(),[3,11];case 9:return[4,this.renderSolidBorder(p.color,u,t.curves)];case 10:B.sent(),B.label=11;case 11:u++,B.label=12;case 12:return h++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,r,s,i,l){return Ja(this,void 0,void 0,function(){var u,h,g,p,x,B,C,U,E,P,F,H,K,Ae,ae,se,ae,se;return Ta(this,function(j){return this.ctx.save(),u=Wz(i,s),h=q_(i,s),l===2&&(this.path(h),this.ctx.clip()),xA(h[0])?(g=h[0].start.x,p=h[0].start.y):(g=h[0].x,p=h[0].y),xA(h[1])?(x=h[1].end.x,B=h[1].end.y):(x=h[1].x,B=h[1].y),s===0||s===2?C=Math.abs(g-x):C=Math.abs(p-B),this.ctx.beginPath(),l===3?this.formatPath(u):this.formatPath(h.slice(0,2)),U=r<3?r*3:r*2,E=r<3?r*2:r,l===3&&(U=r,E=r),P=!0,C<=U*2?P=!1:C<=U*2+E?(F=C/(2*U+E),U*=F,E*=F):(H=Math.floor((C+E)/(U+E)),K=(C-H*U)/(H-1),Ae=(C-(H+1)*U)/H,E=Ae<=0||Math.abs(E-K)<Math.abs(E-Ae)?K:Ae),P&&(l===3?this.ctx.setLineDash([0,U+E]):this.ctx.setLineDash([U,E])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=zs(t),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(xA(h[0])&&(ae=h[3],se=h[0],this.ctx.beginPath(),this.formatPath([new pt(ae.end.x,ae.end.y),new pt(se.start.x,se.start.y)]),this.ctx.stroke()),xA(h[1])&&(ae=h[1],se=h[2],this.ctx.beginPath(),this.formatPath([new pt(ae.end.x,ae.end.y),new pt(se.start.x,se.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Ja(this,void 0,void 0,function(){var r;return Ta(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=zs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=Yz(t),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(jT),Aq=function(n){return n instanceof fT||n instanceof hT?!0:n instanceof t5&&n.type!==F1&&n.type!==U1},oq=function(n,e){switch(n){case 0:return k1(e);case 2:return Vz(e);case 1:default:return R1(e)}},lq=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},cq=["-apple-system","system-ui"],uq=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return cq.indexOf(e)===-1}):n},dq=(function(n){io(e,n);function e(t,r){var s=n.call(this,t,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(t){return Ja(this,void 0,void 0,function(){var r,s;return Ta(this,function(i){switch(i.label){case 0:return r=aw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,hq(r)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=zs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(jT),hq=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},fq=(function(){function n(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Zm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Zm([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Zm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Zm([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),gq=(function(){function n(e,t){var r;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new fq({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new Lz(this,e)}return n.instanceCount=1,n})(),UT=function(n,e){return e===void 0&&(e={}),mq(n,e)};typeof window<"u"&&NT.setContext(window);var mq=function(n,e){return Ja(void 0,void 0,void 0,function(){var t,r,s,i,l,u,h,g,p,x,B,C,U,E,P,F,H,K,Ae,ae,j,se,j,S,O,q,I,k,D,J,pe,te,ce,ne,he,we,Y,Q,M,z;return Ta(this,function(re){switch(re.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(S=e.allowTaint)!==null&&S!==void 0?S:!1,imageTimeout:(O=e.imageTimeout)!==null&&O!==void 0?O:15e3,proxy:e.proxy,useCORS:(q=e.useCORS)!==null&&q!==void 0?q:!1},i=Kb({logging:(I=e.logging)!==null&&I!==void 0?I:!0,cache:e.cache},s),l={windowWidth:(k=e.windowWidth)!==null&&k!==void 0?k:r.innerWidth,windowHeight:(D=e.windowHeight)!==null&&D!==void 0?D:r.innerHeight,scrollX:(J=e.scrollX)!==null&&J!==void 0?J:r.pageXOffset,scrollY:(pe=e.scrollY)!==null&&pe!==void 0?pe:r.pageYOffset},u=new Zl(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),h=new gq(i,u),g=(te=e.foreignObjectRendering)!==null&&te!==void 0?te:!1,p={allowTaint:(ce=e.allowTaint)!==null&&ce!==void 0?ce:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:g,copyStyles:g},h.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),x=new V_(h,n,p),B=x.clonedReferenceElement,B?[4,x.toIFrame(t,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return C=re.sent(),U=r5(B)||xz(B)?XM(B.ownerDocument):bx(h,B),E=U.width,P=U.height,F=U.left,H=U.top,K=pq(h,B,e.backgroundColor),Ae={canvas:e.canvas,backgroundColor:K,scale:(he=(ne=e.scale)!==null&&ne!==void 0?ne:r.devicePixelRatio)!==null&&he!==void 0?he:1,x:((we=e.x)!==null&&we!==void 0?we:0)+F,y:((Y=e.y)!==null&&Y!==void 0?Y:0)+H,width:(Q=e.width)!==null&&Q!==void 0?Q:Math.ceil(E),height:(M=e.height)!==null&&M!==void 0?M:Math.ceil(P)},g?(h.logger.debug("Document cloned, using foreign object rendering"),j=new dq(h,Ae),[4,j.render(B)]):[3,3];case 2:return ae=re.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+F+","+H+" with size "+E+"x"+P+" using computed rendering"),h.logger.debug("Starting DOM parsing"),se=pT(h,B),K===se.styles.backgroundColor&&(se.styles.backgroundColor=zl.TRANSPARENT),h.logger.debug("Starting renderer for element at "+Ae.x+","+Ae.y+" with size "+Ae.width+"x"+Ae.height),j=new iq(h,Ae),[4,j.render(se)];case 4:ae=re.sent(),re.label=5;case 5:return(!((z=e.removeContainer)!==null&&z!==void 0)||z)&&(V_.destroy(C)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,ae]}})})},pq=function(n,e,t){var r=e.ownerDocument,s=r.documentElement?Z0(n,getComputedStyle(r.documentElement).backgroundColor):zl.TRANSPARENT,i=r.body?Z0(n,getComputedStyle(r.body).backgroundColor):zl.TRANSPARENT,l=typeof t=="string"?Z0(n,t):t===null?zl.TRANSPARENT:4294967295;return e===r.documentElement?hu(s)?hu(i)?l:i:s:l};const xq=Object.freeze(Object.defineProperty({__proto__:null,default:UT},Symbol.toStringTag,{value:"Module"})),yq="modulepreload",bq=function(n,e){return new URL(n,e).href},X_={},dw=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(x=>Promise.resolve(x).then(B=>({status:"fulfilled",value:B}),B=>({status:"rejected",reason:B}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=l(t.map(p=>{if(p=bq(p,r),p in X_)return;X_[p]=!0;const x=p.endsWith(".css"),B=x?'[rel="stylesheet"]':"";if(!!r)for(let E=u.length-1;E>=0;E--){const P=u[E];if(P.href===p&&(!x||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${B}`))return;const U=document.createElement("link");if(U.rel=x?"stylesheet":yq,x||(U.as="script"),U.crossOrigin="",U.href=p,g&&U.setAttribute("nonce",g),document.head.appendChild(U),x)return new Promise((E,P)=>{U.addEventListener("load",E),U.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};function en(n){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(n)}var La=Uint8Array,$i=Uint16Array,n5=Int32Array,Tx=new La([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),jx=new La([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hw=new La([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),FT=function(n,e){for(var t=new $i(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new n5(t[30]),r=1;r<30;++r)for(var i=t[r];i<t[r+1];++i)s[i]=i-t[r]<<5|r;return{b:t,r:s}},QT=FT(Tx,2),LT=QT.b,fw=QT.r;LT[28]=258,fw[258]=28;var kT=FT(jx,0),wq=kT.b,Y_=kT.r,gw=new $i(32768);for(var Nn=0;Nn<32768;++Nn){var Kc=(Nn&43690)>>1|(Nn&21845)<<1;Kc=(Kc&52428)>>2|(Kc&13107)<<2,Kc=(Kc&61680)>>4|(Kc&3855)<<4,gw[Nn]=((Kc&65280)>>8|(Kc&255)<<8)>>1}var tl=(function(n,e,t){for(var r=n.length,s=0,i=new $i(e);s<r;++s)n[s]&&++i[n[s]-1];var l=new $i(e);for(s=1;s<e;++s)l[s]=l[s-1]+i[s-1]<<1;var u;if(t){u=new $i(1<<e);var h=15-e;for(s=0;s<r;++s)if(n[s])for(var g=s<<4|n[s],p=e-n[s],x=l[n[s]-1]++<<p,B=x|(1<<p)-1;x<=B;++x)u[gw[x]>>h]=g}else for(u=new $i(r),s=0;s<r;++s)n[s]&&(u[s]=gw[l[n[s]-1]++]>>15-n[s]);return u}),Cu=new La(288);for(var Nn=0;Nn<144;++Nn)Cu[Nn]=8;for(var Nn=144;Nn<256;++Nn)Cu[Nn]=9;for(var Nn=256;Nn<280;++Nn)Cu[Nn]=7;for(var Nn=280;Nn<288;++Nn)Cu[Nn]=8;var Sg=new La(32);for(var Nn=0;Nn<32;++Nn)Sg[Nn]=5;var vq=tl(Cu,9,0),Bq=tl(Cu,9,1),Cq=tl(Sg,5,0),Nq=tl(Sg,5,1),P2=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},GA=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},H2=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},s5=function(n){return(n+7)/8|0},RT=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new La(n.subarray(e,t))},_q=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$A=function(n,e,t){var r=new Error(e||_q[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,$A),!t)throw r;return r},Eq=function(n,e,t,r){var s=n.length,i=0;if(!s||e.f&&!e.l)return t||new La(0);var l=!t,u=l||e.i!=2,h=e.i;l&&(t=new La(s*3));var g=function(Re){var et=t.length;if(Re>et){var tt=new La(Math.max(et*2,Re));tt.set(t),t=tt}},p=e.f||0,x=e.p||0,B=e.b||0,C=e.l,U=e.d,E=e.m,P=e.n,F=s*8;do{if(!C){p=GA(n,x,1);var H=GA(n,x+1,3);if(x+=3,H)if(H==1)C=Bq,U=Nq,E=9,P=5;else if(H==2){var se=GA(n,x,31)+257,j=GA(n,x+10,15)+4,S=se+GA(n,x+5,31)+1;x+=14;for(var O=new La(S),q=new La(19),I=0;I<j;++I)q[hw[I]]=GA(n,x+I*3,7);x+=j*3;for(var k=P2(q),D=(1<<k)-1,J=tl(q,k,1),I=0;I<S;){var pe=J[GA(n,x,D)];x+=pe&15;var K=pe>>4;if(K<16)O[I++]=K;else{var te=0,ce=0;for(K==16?(ce=3+GA(n,x,3),x+=2,te=O[I-1]):K==17?(ce=3+GA(n,x,7),x+=3):K==18&&(ce=11+GA(n,x,127),x+=7);ce--;)O[I++]=te}}var ne=O.subarray(0,se),he=O.subarray(se);E=P2(ne),P=P2(he),C=tl(ne,E,1),U=tl(he,P,1)}else $A(1);else{var K=s5(x)+4,Ae=n[K-4]|n[K-3]<<8,ae=K+Ae;if(ae>s){h&&$A(0);break}u&&g(B+Ae),t.set(n.subarray(K,ae),B),e.b=B+=Ae,e.p=x=ae*8,e.f=p;continue}if(x>F){h&&$A(0);break}}u&&g(B+131072);for(var we=(1<<E)-1,Y=(1<<P)-1,Q=x;;Q=x){var te=C[H2(n,x)&we],M=te>>4;if(x+=te&15,x>F){h&&$A(0);break}if(te||$A(2),M<256)t[B++]=M;else if(M==256){Q=x,C=null;break}else{var z=M-254;if(M>264){var I=M-257,re=Tx[I];z=GA(n,x,(1<<re)-1)+LT[I],x+=re}var ue=U[H2(n,x)&Y],me=ue>>4;ue||$A(3),x+=ue&15;var he=wq[me];if(me>3){var re=jx[me];he+=H2(n,x)&(1<<re)-1,x+=re}if(x>F){h&&$A(0);break}u&&g(B+131072);var Ne=B+z;if(B<he){var de=i-he,Oe=Math.min(he,Ne);for(de+B<0&&$A(3);B<Oe;++B)t[B]=r[de+B]}for(;B<Ne;++B)t[B]=t[B-he]}}e.l=C,e.p=Q,e.b=B,e.f=p,C&&(p=1,e.m=E,e.d=U,e.n=P)}while(!p);return B!=t.length&&l?RT(t,0,B):t.subarray(0,B)},Ol=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},B0=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},V2=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,i=t.slice();if(!s)return{t:OT,l:0};if(s==1){var l=new La(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(ae,se){return ae.f-se.f}),t.push({s:-1,f:25001});var u=t[0],h=t[1],g=0,p=1,x=2;for(t[0]={s:-1,f:u.f+h.f,l:u,r:h};p!=s-1;)u=t[t[g].f<t[x].f?g++:x++],h=t[g!=p&&t[g].f<t[x].f?g++:x++],t[p++]={s:-1,f:u.f+h.f,l:u,r:h};for(var B=i[0].s,r=1;r<s;++r)i[r].s>B&&(B=i[r].s);var C=new $i(B+1),U=mw(t[p-1],C,0);if(U>e){var r=0,E=0,P=U-e,F=1<<P;for(i.sort(function(se,j){return C[j.s]-C[se.s]||se.f-j.f});r<s;++r){var H=i[r].s;if(C[H]>e)E+=F-(1<<U-C[H]),C[H]=e;else break}for(E>>=P;E>0;){var K=i[r].s;C[K]<e?E-=1<<e-C[K]++-1:++r}for(;r>=0&&E;--r){var Ae=i[r].s;C[Ae]==e&&(--C[Ae],++E)}U=e}return{t:new La(C),l:U}},mw=function(n,e,t){return n.s==-1?Math.max(mw(n.l,e,t+1),mw(n.r,e,t+1)):e[n.s]=t},$_=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new $i(++e),r=0,s=n[0],i=1,l=function(h){t[r++]=h},u=1;u<=e;++u)if(n[u]==s&&u!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(s),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(s);i=1,s=n[u]}return{c:t.subarray(0,r),n:e}},C0=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},DT=function(n,e,t){var r=t.length,s=s5(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var i=0;i<r;++i)n[s+i+4]=t[i];return(s+4+r)*8},J_=function(n,e,t,r,s,i,l,u,h,g,p){Ol(e,p++,t),++s[256];for(var x=V2(s,15),B=x.t,C=x.l,U=V2(i,15),E=U.t,P=U.l,F=$_(B),H=F.c,K=F.n,Ae=$_(E),ae=Ae.c,se=Ae.n,j=new $i(19),S=0;S<H.length;++S)++j[H[S]&31];for(var S=0;S<ae.length;++S)++j[ae[S]&31];for(var O=V2(j,7),q=O.t,I=O.l,k=19;k>4&&!q[hw[k-1]];--k);var D=g+5<<3,J=C0(s,Cu)+C0(i,Sg)+l,pe=C0(s,B)+C0(i,E)+l+14+3*k+C0(j,q)+2*j[16]+3*j[17]+7*j[18];if(h>=0&&D<=J&&D<=pe)return DT(e,p,n.subarray(h,h+g));var te,ce,ne,he;if(Ol(e,p,1+(pe<J)),p+=2,pe<J){te=tl(B,C,0),ce=B,ne=tl(E,P,0),he=E;var we=tl(q,I,0);Ol(e,p,K-257),Ol(e,p+5,se-1),Ol(e,p+10,k-4),p+=14;for(var S=0;S<k;++S)Ol(e,p+3*S,q[hw[S]]);p+=3*k;for(var Y=[H,ae],Q=0;Q<2;++Q)for(var M=Y[Q],S=0;S<M.length;++S){var z=M[S]&31;Ol(e,p,we[z]),p+=q[z],z>15&&(Ol(e,p,M[S]>>5&127),p+=M[S]>>12)}}else te=vq,ce=Cu,ne=Cq,he=Sg;for(var S=0;S<u;++S){var re=r[S];if(re>255){var z=re>>18&31;B0(e,p,te[z+257]),p+=ce[z+257],z>7&&(Ol(e,p,re>>23&31),p+=Tx[z]);var ue=re&31;B0(e,p,ne[ue]),p+=he[ue],ue>3&&(B0(e,p,re>>5&8191),p+=jx[ue])}else B0(e,p,te[re]),p+=ce[re]}return B0(e,p,te[256]),p+ce[256]},Sq=new n5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),OT=new La(0),Iq=function(n,e,t,r,s,i){var l=i.z||n.length,u=new La(r+l+5*(1+Math.ceil(l/7e3))+s),h=u.subarray(r,u.length-s),g=i.l,p=(i.r||0)&7;if(e){p&&(h[0]=i.r>>3);for(var x=Sq[e-1],B=x>>13,C=x&8191,U=(1<<t)-1,E=i.p||new $i(32768),P=i.h||new $i(U+1),F=Math.ceil(t/3),H=2*F,K=function(mt){return(n[mt]^n[mt+1]<<F^n[mt+2]<<H)&U},Ae=new n5(25e3),ae=new $i(288),se=new $i(32),j=0,S=0,O=i.i||0,q=0,I=i.w||0,k=0;O+2<l;++O){var D=K(O),J=O&32767,pe=P[D];if(E[J]=pe,P[D]=J,I<=O){var te=l-O;if((j>7e3||q>24576)&&(te>423||!g)){p=J_(n,h,0,Ae,ae,se,S,q,k,O-k,p),q=j=S=0,k=O;for(var ce=0;ce<286;++ce)ae[ce]=0;for(var ce=0;ce<30;++ce)se[ce]=0}var ne=2,he=0,we=C,Y=J-pe&32767;if(te>2&&D==K(O-Y))for(var Q=Math.min(B,te)-1,M=Math.min(32767,O),z=Math.min(258,te);Y<=M&&--we&&J!=pe;){if(n[O+ne]==n[O+ne-Y]){for(var re=0;re<z&&n[O+re]==n[O+re-Y];++re);if(re>ne){if(ne=re,he=Y,re>Q)break;for(var ue=Math.min(Y,re-2),me=0,ce=0;ce<ue;++ce){var Ne=O-Y+ce&32767,de=E[Ne],Oe=Ne-de&32767;Oe>me&&(me=Oe,pe=Ne)}}}J=pe,pe=E[J],Y+=J-pe&32767}if(he){Ae[q++]=268435456|fw[ne]<<18|Y_[he];var Re=fw[ne]&31,et=Y_[he]&31;S+=Tx[Re]+jx[et],++ae[257+Re],++se[et],I=O+ne,++j}else Ae[q++]=n[O],++ae[n[O]]}}for(O=Math.max(O,I);O<l;++O)Ae[q++]=n[O],++ae[n[O]];p=J_(n,h,g,Ae,ae,se,S,q,k,O-k,p),g||(i.r=p&7|h[p/8|0]<<3,p-=7,i.h=P,i.p=E,i.i=O,i.w=I)}else{for(var O=i.w||0;O<l+g;O+=65535){var tt=O+65535;tt>=l&&(h[p/8|0]=g,tt=l),p=DT(h,p+1,n.subarray(O,tt))}i.i=l}return RT(u,0,r+s5(p)+s)},MT=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,i=t.length|0,l=0;l!=i;){for(var u=Math.min(l+2655,i);l<u;++l)s+=r+=t[l];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Tq=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),l=new La(i.length+n.length);l.set(i),l.set(n,i.length),n=l,s.w=i.length}return Iq(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},PT=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},jq=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=MT();s.p(e.dictionary),PT(n,2,s.d())}},Uq=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&$A(6,"invalid zlib data"),(n[1]>>5&1)==1&&$A(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function pw(n,e){e||(e={});var t=MT();t.p(n);var r=Tq(n,e,e.dictionary?6:2,4);return jq(r,e),PT(r,r.length-4,t.d()),r}function Fq(n,e){return Eq(n.subarray(Uq(n),-4),{i:2},e,e)}var Qq=typeof TextDecoder<"u"&&new TextDecoder,Lq=0;try{Qq.decode(OT,{stream:!0}),Lq=1}catch{}var zt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function K2(){zt.console&&typeof zt.console.log=="function"&&zt.console.log.apply(zt.console,arguments)}var fn={log:K2,warn:function(n){zt.console&&(typeof zt.console.warn=="function"?zt.console.warn.apply(zt.console,arguments):K2.call(null,arguments))},error:function(n){zt.console&&(typeof zt.console.error=="function"?zt.console.error.apply(zt.console,arguments):K2(n))}};function z2(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ju(r.response,e,t)},r.onerror=function(){fn.error("could not download file")},r.send()}function W_(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function vp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var ng,xw,Ju=zt.saveAs||((typeof window>"u"?"undefined":en(window))!=="object"||window!==zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=zt.URL||zt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?W_(s.href)?z2(n,e,t):vp(s,s.target="_blank"):vp(s)):(s.href=r.createObjectURL(n),setTimeout((function(){r.revokeObjectURL(s.href)}),4e4),setTimeout((function(){vp(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(W_(n))z2(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout((function(){vp(r)}))}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:en(i)!=="object"&&(fn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return z2(n,e,t);var s=n.type==="application/octet-stream",i=/constructor/i.test(zt.HTMLElement)||zt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&i)&&(typeof FileReader>"u"?"undefined":en(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},u.readAsDataURL(n)}else{var h=zt.URL||zt.webkitURL,g=h.createObjectURL(n);r?r.location=g:location.href=g,r=null,setTimeout((function(){h.revokeObjectURL(g)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function HT(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,i=t[r].process,l=s.exec(n);l&&(e=i(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),g=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),g.length==1&&(g="0"+g),"#"+u+h+g}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function q2(n,e){var t=n[0],r=n[1],s=n[2],i=n[3];t=_a(t,r,s,i,e[0],7,-680876936),i=_a(i,t,r,s,e[1],12,-389564586),s=_a(s,i,t,r,e[2],17,606105819),r=_a(r,s,i,t,e[3],22,-1044525330),t=_a(t,r,s,i,e[4],7,-176418897),i=_a(i,t,r,s,e[5],12,1200080426),s=_a(s,i,t,r,e[6],17,-1473231341),r=_a(r,s,i,t,e[7],22,-45705983),t=_a(t,r,s,i,e[8],7,1770035416),i=_a(i,t,r,s,e[9],12,-1958414417),s=_a(s,i,t,r,e[10],17,-42063),r=_a(r,s,i,t,e[11],22,-1990404162),t=_a(t,r,s,i,e[12],7,1804603682),i=_a(i,t,r,s,e[13],12,-40341101),s=_a(s,i,t,r,e[14],17,-1502002290),t=Ea(t,r=_a(r,s,i,t,e[15],22,1236535329),s,i,e[1],5,-165796510),i=Ea(i,t,r,s,e[6],9,-1069501632),s=Ea(s,i,t,r,e[11],14,643717713),r=Ea(r,s,i,t,e[0],20,-373897302),t=Ea(t,r,s,i,e[5],5,-701558691),i=Ea(i,t,r,s,e[10],9,38016083),s=Ea(s,i,t,r,e[15],14,-660478335),r=Ea(r,s,i,t,e[4],20,-405537848),t=Ea(t,r,s,i,e[9],5,568446438),i=Ea(i,t,r,s,e[14],9,-1019803690),s=Ea(s,i,t,r,e[3],14,-187363961),r=Ea(r,s,i,t,e[8],20,1163531501),t=Ea(t,r,s,i,e[13],5,-1444681467),i=Ea(i,t,r,s,e[2],9,-51403784),s=Ea(s,i,t,r,e[7],14,1735328473),t=Sa(t,r=Ea(r,s,i,t,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Sa(i,t,r,s,e[8],11,-2022574463),s=Sa(s,i,t,r,e[11],16,1839030562),r=Sa(r,s,i,t,e[14],23,-35309556),t=Sa(t,r,s,i,e[1],4,-1530992060),i=Sa(i,t,r,s,e[4],11,1272893353),s=Sa(s,i,t,r,e[7],16,-155497632),r=Sa(r,s,i,t,e[10],23,-1094730640),t=Sa(t,r,s,i,e[13],4,681279174),i=Sa(i,t,r,s,e[0],11,-358537222),s=Sa(s,i,t,r,e[3],16,-722521979),r=Sa(r,s,i,t,e[6],23,76029189),t=Sa(t,r,s,i,e[9],4,-640364487),i=Sa(i,t,r,s,e[12],11,-421815835),s=Sa(s,i,t,r,e[15],16,530742520),t=Ia(t,r=Sa(r,s,i,t,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Ia(i,t,r,s,e[7],10,1126891415),s=Ia(s,i,t,r,e[14],15,-1416354905),r=Ia(r,s,i,t,e[5],21,-57434055),t=Ia(t,r,s,i,e[12],6,1700485571),i=Ia(i,t,r,s,e[3],10,-1894986606),s=Ia(s,i,t,r,e[10],15,-1051523),r=Ia(r,s,i,t,e[1],21,-2054922799),t=Ia(t,r,s,i,e[8],6,1873313359),i=Ia(i,t,r,s,e[15],10,-30611744),s=Ia(s,i,t,r,e[6],15,-1560198380),r=Ia(r,s,i,t,e[13],21,1309151649),t=Ia(t,r,s,i,e[4],6,-145523070),i=Ia(i,t,r,s,e[11],10,-1120210379),s=Ia(s,i,t,r,e[2],15,718787259),r=Ia(r,s,i,t,e[9],21,-343485551),n[0]=su(t,n[0]),n[1]=su(r,n[1]),n[2]=su(s,n[2]),n[3]=su(i,n[3])}function Ux(n,e,t,r,s,i){return e=su(su(e,n),su(r,i)),su(e<<s|e>>>32-s,t)}function _a(n,e,t,r,s,i,l){return Ux(e&t|~e&r,n,e,s,i,l)}function Ea(n,e,t,r,s,i,l){return Ux(e&r|t&~r,n,e,s,i,l)}function Sa(n,e,t,r,s,i,l){return Ux(e^t^r,n,e,s,i,l)}function Ia(n,e,t,r,s,i,l){return Ux(t^(e|~r),n,e,s,i,l)}function VT(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)q2(r,kq(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(q2(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,q2(r,s),r}function kq(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}ng=zt.atob.bind(zt),xw=zt.btoa.bind(zt);var Z_="0123456789abcdef".split("");function Rq(n){for(var e="",t=0;t<4;t++)e+=Z_[n>>8*t+4&15]+Z_[n>>8*t&15];return e}function Dq(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function yw(n){return VT(n).map(Dq).join("")}var Oq=(function(n){for(var e=0;e<n.length;e++)n[e]=Rq(n[e]);return n.join("")})(VT("hello"))!="5d41402abc4b2a76b9719d911017c592";function su(n,e){if(Oq){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function bw(n,e){var t,r,s,i;if(n!==t){for(var l=(s=n,i=1+(256/n.length>>0),new Array(i+1).join(s)),u=[],h=0;h<256;h++)u[h]=h;var g=0;for(h=0;h<256;h++){var p=u[h];g=(g+p+l.charCodeAt(h))%256,u[h]=u[g],u[g]=p}t=n,r=u}else u=r;var x=e.length,B=0,C=0,U="";for(h=0;h<x;h++)C=(C+(p=u[B=(B+1)%256]))%256,u[B]=u[C],u[C]=p,l=u[(u[B]+u[C])%256],U+=String.fromCharCode(e.charCodeAt(h)^l);return U}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var eE={print:4,modify:8,copy:16,"annot-forms":32};function Uh(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach((function(u){if(eE.perm!==void 0)throw new Error("Invalid permission: "+u);s+=eE[u]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^s)),this.encryptionKey=yw(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=bw(this.encryptionKey,this.padding)}function Fh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=n[r]}return e}function tE(n){if(en(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[r,!!s],i},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[t]){var l=e[t][i];try{l[0].apply(n,r)}catch(u){zt.console&&fn.error("jsPDF PubSub Error",u.message,u)}l[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function O1(n){if(!(this instanceof O1))return new O1(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function KT(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function nd(n,e,t,r,s){if(!(this instanceof nd))return new nd(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,KT.call(this,r,s)}function Rh(n,e,t,r,s){if(!(this instanceof Rh))return new Rh(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,KT.call(this,r,s)}function Kt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],l=[],u=1,h=16,g="S",p=null;en(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,i=n.compress||n.compressPdf||i,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),g=n.defaultPathOperation||"S"),l=n.filters||(i===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var x=n.putOnlyUsedFonts||!1,B={},C={internal:{},__private__:{}};C.__private__.PubSub=tE;var U="1.3",E=C.__private__.getPdfVersion=function(){return U};C.__private__.setPdfVersion=function(d){U=d};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};C.__private__.getPageFormats=function(){return P};var F=C.__private__.getPageFormat=function(d){return P[d]};s=s||"a4";var H={COMPAT:"compat",ADVANCED:"advanced"},K=H.COMPAT;function Ae(){this.saveGraphicsState(),oe(new Pe(ot,0,0,-ot,0,Ri()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),g="n",K=H.ADVANCED}function ae(){this.restoreGraphicsState(),g="S",K=H.COMPAT}var se=C.__private__.combineFontStyleAndFontWeight=function(d,y){if(d=="bold"&&y=="normal"||d=="bold"&&y==400||d=="normal"&&y=="italic"||d=="bold"&&y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return y&&(d=y==400||y==="normal"?d==="italic"?"italic":"normal":y!=700&&y!=="bold"||d!=="normal"?(y==700?"bold":y)+""+d:"bold"),d};C.advancedAPI=function(d){var y=K===H.COMPAT;return y&&Ae.call(this),typeof d!="function"||(d(this),y&&ae.call(this)),this},C.compatAPI=function(d){var y=K===H.ADVANCED;return y&&ae.call(this),typeof d!="function"||(d(this),y&&Ae.call(this)),this},C.isAdvancedAPI=function(){return K===H.ADVANCED};var j,S=function(d){if(K!==H.ADVANCED)throw new Error(d+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=C.roundToPrecision=C.__private__.roundToPrecision=function(d,y){var N=e||y;if(isNaN(d)||isNaN(N))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return d.toFixed(N).replace(/0+$/,"")};j=C.hpf=C.__private__.hpf=typeof h=="number"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return O(d,h)}:h==="smart"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return O(d,d>-1&&d<1?16:5)}:function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return O(d,16)};var q=C.f2=C.__private__.f2=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f2");return O(d,2)},I=C.__private__.f3=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f3");return O(d,3)},k=C.scale=C.__private__.scale=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.scale");return K===H.COMPAT?d*ot:K===H.ADVANCED?d:void 0},D=function(d){return K===H.COMPAT?Ri()-d:K===H.ADVANCED?d:void 0},J=function(d){return k(D(d))};C.__private__.setPrecision=C.setPrecision=function(d){typeof parseInt(d,10)=="number"&&(e=parseInt(d,10))};var pe,te="00000000000000000000000000000000",ce=C.__private__.getFileId=function(){return te},ne=C.__private__.setFileId=function(d){return te=d!==void 0&&/^[a-fA-F0-9]{32}$/.test(d)?d.toUpperCase():te.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),p!==null&&(nn=new Uh(p.userPermissions,p.userPassword,p.ownerPassword,te)),te};C.setFileId=function(d){return ne(d),this},C.getFileId=function(){return ce()};var he=C.__private__.convertDateToPDFDate=function(d){var y=d.getTimezoneOffset(),N=y<0?"+":"-",L=Math.floor(Math.abs(y/60)),Z=Math.abs(y%60),le=[N,z(L),"'",z(Z),"'"].join("");return["D:",d.getFullYear(),z(d.getMonth()+1),z(d.getDate()),z(d.getHours()),z(d.getMinutes()),z(d.getSeconds()),le].join("")},we=C.__private__.convertPDFDateToDate=function(d){var y=parseInt(d.substr(2,4),10),N=parseInt(d.substr(6,2),10)-1,L=parseInt(d.substr(8,2),10),Z=parseInt(d.substr(10,2),10),le=parseInt(d.substr(12,2),10),Ce=parseInt(d.substr(14,2),10);return new Date(y,N,L,Z,le,Ce,0)},Y=C.__private__.setCreationDate=function(d){var y;if(d===void 0&&(d=new Date),d instanceof Date)y=he(d);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(d))throw new Error("Invalid argument passed to jsPDF.setCreationDate");y=d}return pe=y},Q=C.__private__.getCreationDate=function(d){var y=pe;return d==="jsDate"&&(y=we(pe)),y};C.setCreationDate=function(d){return Y(d),this},C.getCreationDate=function(d){return Q(d)};var M,z=C.__private__.padd2=function(d){return("0"+parseInt(d)).slice(-2)},re=C.__private__.padd2Hex=function(d){return("00"+(d=d.toString())).substr(d.length)},ue=0,me=[],Ne=[],de=0,Oe=[],Re=[],et=!1,tt=Ne,mt=function(){ue=0,de=0,Ne=[],me=[],Oe=[],cr=Ft(),Ar=Ft()};C.__private__.setCustomOutputDestination=function(d){et=!0,tt=d};var Ee=function(d){et||(tt=d)};C.__private__.resetCustomOutputDestination=function(){et=!1,tt=Ne};var oe=C.__private__.out=function(d){return d=d.toString(),de+=d.length+1,tt.push(d),tt},At=C.__private__.write=function(d){return oe(arguments.length===1?d.toString():Array.prototype.join.call(arguments," "))},ft=C.__private__.getArrayBuffer=function(d){for(var y=d.length,N=new ArrayBuffer(y),L=new Uint8Array(N);y--;)L[y]=d.charCodeAt(y);return N},Ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];C.__private__.getStandardFonts=function(){return Ve};var Je=n.fontSize||16;C.__private__.setFontSize=C.setFontSize=function(d){return Je=K===H.ADVANCED?d/ot:d,this};var nt,at=C.__private__.getFontSize=C.getFontSize=function(){return K===H.COMPAT?Je:Je*ot},Nt=n.R2L||!1;C.__private__.setR2L=C.setR2L=function(d){return Nt=d,this},C.__private__.getR2L=C.getR2L=function(){return Nt};var _t,Mt=C.__private__.setZoomMode=function(d){var y=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(d))nt=d;else if(isNaN(d)){if(y.indexOf(d)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+d+'" is not recognized.');nt=d}else nt=parseInt(d,10)};C.__private__.getZoomMode=function(){return nt};var Gt,Xt=C.__private__.setPageMode=function(d){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(d)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+d+'" is not recognized.');_t=d};C.__private__.getPageMode=function(){return _t};var ir=C.__private__.setLayoutMode=function(d){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(d)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+d+'" is not recognized.');Gt=d};C.__private__.getLayoutMode=function(){return Gt},C.__private__.setDisplayMode=C.setDisplayMode=function(d,y,N){return Mt(d),ir(y),Xt(N),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};C.__private__.getDocumentProperty=function(d){if(Object.keys(kt).indexOf(d)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[d]},C.__private__.getDocumentProperties=function(){return kt},C.__private__.setDocumentProperties=C.setProperties=C.setDocumentProperties=function(d){for(var y in kt)kt.hasOwnProperty(y)&&d[y]&&(kt[y]=d[y]);return this},C.__private__.setDocumentProperty=function(d,y){if(Object.keys(kt).indexOf(d)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[d]=y};var Pt,ot,rn,Qe,Ut,gt={},Bt={},mn=[],tr={},qr={},or={},fr={},dr=null,nr=0,yt=[],Yt=new tE(C),$n=n.hotfixes||[],Xr={},bn={},qe=[],Pe=function d(y,N,L,Z,le,Ce){if(!(this instanceof d))return new d(y,N,L,Z,le,Ce);isNaN(y)&&(y=1),isNaN(N)&&(N=0),isNaN(L)&&(L=0),isNaN(Z)&&(Z=1),isNaN(le)&&(le=0),isNaN(Ce)&&(Ce=0),this._matrix=[y,N,L,Z,le,Ce]};Object.defineProperty(Pe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(Pe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(Pe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(Pe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(Pe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(Pe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(Pe.prototype,"a",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(Pe.prototype,"b",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(Pe.prototype,"c",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(Pe.prototype,"d",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(Pe.prototype,"e",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(Pe.prototype,"f",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(Pe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Pe.prototype.join=function(d){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(d)},Pe.prototype.multiply=function(d){var y=d.sx*this.sx+d.shy*this.shx,N=d.sx*this.shy+d.shy*this.sy,L=d.shx*this.sx+d.sy*this.shx,Z=d.shx*this.shy+d.sy*this.sy,le=d.tx*this.sx+d.ty*this.shx+this.tx,Ce=d.tx*this.shy+d.ty*this.sy+this.ty;return new Pe(y,N,L,Z,le,Ce)},Pe.prototype.decompose=function(){var d=this.sx,y=this.shy,N=this.shx,L=this.sy,Z=this.tx,le=this.ty,Ce=Math.sqrt(d*d+y*y),Ye=(d/=Ce)*N+(y/=Ce)*L;N-=d*Ye,L-=y*Ye;var ut=Math.sqrt(N*N+L*L);return Ye/=ut,d*(L/=ut)<y*(N/=ut)&&(d=-d,y=-y,Ye=-Ye,Ce=-Ce),{scale:new Pe(Ce,0,0,ut,0,0),translate:new Pe(1,0,0,1,Z,le),rotate:new Pe(d,y,-y,d,0,0),skew:new Pe(1,0,Ye,1,0,0)}},Pe.prototype.toString=function(d){return this.join(" ")},Pe.prototype.inversed=function(){var d=this.sx,y=this.shy,N=this.shx,L=this.sy,Z=this.tx,le=this.ty,Ce=1/(d*L-y*N),Ye=L*Ce,ut=-y*Ce,ht=-N*Ce,bt=d*Ce;return new Pe(Ye,ut,ht,bt,-Ye*Z-ht*le,-ut*Z-bt*le)},Pe.prototype.applyToPoint=function(d){var y=d.x*this.sx+d.y*this.shx+this.tx,N=d.x*this.shy+d.y*this.sy+this.ty;return new na(y,N)},Pe.prototype.applyToRectangle=function(d){var y=this.applyToPoint(d),N=this.applyToPoint(new na(d.x+d.w,d.y+d.h));return new xo(y.x,y.y,N.x-y.x,N.y-y.y)},Pe.prototype.clone=function(){var d=this.sx,y=this.shy,N=this.shx,L=this.sy,Z=this.tx,le=this.ty;return new Pe(d,y,N,L,Z,le)},C.Matrix=Pe;var rt=C.matrixMult=function(d,y){return y.multiply(d)},xt=new Pe(1,0,0,1,0,0);C.unitMatrix=C.identityMatrix=xt;var Tt=function(d,y){if(!qr[d]){var N=(y instanceof nd?"Sh":"P")+(Object.keys(tr).length+1).toString(10);y.id=N,qr[d]=N,tr[N]=y,Yt.publish("addPattern",y)}};C.ShadingPattern=nd,C.TilingPattern=Rh,C.addShadingPattern=function(d,y){return S("addShadingPattern()"),Tt(d,y),this},C.beginTilingPattern=function(d){S("beginTilingPattern()"),ml(d.boundingBox[0],d.boundingBox[1],d.boundingBox[2]-d.boundingBox[0],d.boundingBox[3]-d.boundingBox[1],d.matrix)},C.endTilingPattern=function(d,y){S("endTilingPattern()"),y.stream=Re[M].join(`
`),Tt(d,y),Yt.publish("endTilingPattern",y),qe.pop().restore()};var vt=C.__private__.newObject=function(){var d=Ft();return lr(d,!0),d},Ft=C.__private__.newObjectDeferred=function(){return ue++,me[ue]=function(){return de},ue},lr=function(d,y){return y=typeof y=="boolean"&&y,me[d]=de,y&&oe(d+" 0 obj"),d},$t=C.__private__.newAdditionalObject=function(){var d={objId:Ft(),content:""};return Oe.push(d),d},cr=Ft(),Ar=Ft(),kr=C.__private__.decodeColorString=function(d){var y=d.split(" ");if(y.length!==2||y[1]!=="g"&&y[1]!=="G")y.length===5&&(y[4]==="k"||y[4]==="K")&&(y=[(1-y[0])*(1-y[3]),(1-y[1])*(1-y[3]),(1-y[2])*(1-y[3]),"r"]);else{var N=parseFloat(y[0]);y=[N,N,N,"r"]}for(var L="#",Z=0;Z<3;Z++)L+=("0"+Math.floor(255*parseFloat(y[Z])).toString(16)).slice(-2);return L},Vn=C.__private__.encodeColorString=function(d){var y;typeof d=="string"&&(d={ch1:d});var N=d.ch1,L=d.ch2,Z=d.ch3,le=d.ch4,Ce=d.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof N=="string"&&N.charAt(0)!=="#"){var Ye=new HT(N);if(Ye.ok)N=Ye.toHex();else if(!/^\d*\.?\d*$/.test(N))throw new Error('Invalid color "'+N+'" passed to jsPDF.encodeColorString.')}if(typeof N=="string"&&/^#[0-9A-Fa-f]{3}$/.test(N)&&(N="#"+N[1]+N[1]+N[2]+N[2]+N[3]+N[3]),typeof N=="string"&&/^#[0-9A-Fa-f]{6}$/.test(N)){var ut=parseInt(N.substr(1),16);N=ut>>16&255,L=ut>>8&255,Z=255&ut}if(L===void 0||le===void 0&&N===L&&L===Z)if(typeof N=="string")y=N+" "+Ce[0];else switch(d.precision){case 2:y=q(N/255)+" "+Ce[0];break;case 3:default:y=I(N/255)+" "+Ce[0]}else if(le===void 0||en(le)==="object"){if(le&&!isNaN(le.a)&&le.a===0)return y=["1.","1.","1.",Ce[1]].join(" ");if(typeof N=="string")y=[N,L,Z,Ce[1]].join(" ");else switch(d.precision){case 2:y=[q(N/255),q(L/255),q(Z/255),Ce[1]].join(" ");break;default:case 3:y=[I(N/255),I(L/255),I(Z/255),Ce[1]].join(" ")}}else if(typeof N=="string")y=[N,L,Z,le,Ce[2]].join(" ");else switch(d.precision){case 2:y=[q(N),q(L),q(Z),q(le),Ce[2]].join(" ");break;case 3:default:y=[I(N),I(L),I(Z),I(le),Ce[2]].join(" ")}return y},$s=C.__private__.getFilters=function(){return l},ga=C.__private__.putStream=function(d){var y=(d=d||{}).data||"",N=d.filters||$s(),L=d.alreadyAppliedFilters||[],Z=d.addLength1||!1,le=y.length,Ce=d.objectId,Ye=function(En){return En};if(p!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Ye=nn.encryptor(Ce,0));var ut={};N===!0&&(N=["FlateEncode"]);var ht=d.additionalKeyValues||[],bt=(ut=Kt.API.processDataByFilters!==void 0?Kt.API.processDataByFilters(y,N):{data:y,reverseChain:[]}).reverseChain+(Array.isArray(L)?L.join(" "):L.toString());if(ut.data.length!==0&&(ht.push({key:"Length",value:ut.data.length}),Z===!0&&ht.push({key:"Length1",value:le})),bt.length!=0)if(bt.split("/").length-1==1)ht.push({key:"Filter",value:bt});else{ht.push({key:"Filter",value:"["+bt+"]"});for(var Jt=0;Jt<ht.length;Jt+=1)if(ht[Jt].key==="DecodeParms"){for(var Tr=[],jr=0;jr<ut.reverseChain.split("/").length-1;jr+=1)Tr.push("null");Tr.push(ht[Jt].value),ht[Jt].value="["+Tr.join(" ")+"]"}}oe("<<");for(var Dr=0;Dr<ht.length;Dr++)oe("/"+ht[Dr].key+" "+ht[Dr].value);oe(">>"),ut.data.length!==0&&(oe("stream"),oe(Ye(ut.data)),oe("endstream"))},Oa=C.__private__.putPage=function(d){var y=d.number,N=d.data,L=d.objId,Z=d.contentsObjId;lr(L,!0),oe("<</Type /Page"),oe("/Parent "+d.rootDictionaryObjId+" 0 R"),oe("/Resources "+d.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(j(d.mediaBox.bottomLeftX))+" "+parseFloat(j(d.mediaBox.bottomLeftY))+" "+j(d.mediaBox.topRightX)+" "+j(d.mediaBox.topRightY)+"]"),d.cropBox!==null&&oe("/CropBox ["+j(d.cropBox.bottomLeftX)+" "+j(d.cropBox.bottomLeftY)+" "+j(d.cropBox.topRightX)+" "+j(d.cropBox.topRightY)+"]"),d.bleedBox!==null&&oe("/BleedBox ["+j(d.bleedBox.bottomLeftX)+" "+j(d.bleedBox.bottomLeftY)+" "+j(d.bleedBox.topRightX)+" "+j(d.bleedBox.topRightY)+"]"),d.trimBox!==null&&oe("/TrimBox ["+j(d.trimBox.bottomLeftX)+" "+j(d.trimBox.bottomLeftY)+" "+j(d.trimBox.topRightX)+" "+j(d.trimBox.topRightY)+"]"),d.artBox!==null&&oe("/ArtBox ["+j(d.artBox.bottomLeftX)+" "+j(d.artBox.bottomLeftY)+" "+j(d.artBox.topRightX)+" "+j(d.artBox.topRightY)+"]"),typeof d.userUnit=="number"&&d.userUnit!==1&&oe("/UserUnit "+d.userUnit),Yt.publish("putPage",{objId:L,pageContext:yt[y],pageNumber:y,page:N}),oe("/Contents "+Z+" 0 R"),oe(">>"),oe("endobj");var le=N.join(`
`);return K===H.ADVANCED&&(le+=`
Q`),lr(Z,!0),ga({data:le,filters:$s(),objectId:Z}),oe("endobj"),L},eA=C.__private__.putPages=function(){var d,y,N=[];for(d=1;d<=nr;d++)yt[d].objId=Ft(),yt[d].contentsObjId=Ft();for(d=1;d<=nr;d++)N.push(Oa({number:d,data:Re[d],objId:yt[d].objId,contentsObjId:yt[d].contentsObjId,mediaBox:yt[d].mediaBox,cropBox:yt[d].cropBox,bleedBox:yt[d].bleedBox,trimBox:yt[d].trimBox,artBox:yt[d].artBox,userUnit:yt[d].userUnit,rootDictionaryObjId:cr,resourceDictionaryObjId:Ar}));lr(cr,!0),oe("<</Type /Pages");var L="/Kids [";for(y=0;y<nr;y++)L+=N[y]+" 0 R ";oe(L+"]"),oe("/Count "+nr),oe(">>"),oe("endobj"),Yt.publish("postPutPages")},Js=function(d){Yt.publish("putFont",{font:d,out:oe,newObject:vt,putStream:ga}),d.isAlreadyPutted!==!0&&(d.objectNumber=vt(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Fh(d.postScriptName)),oe("/Subtype /Type1"),typeof d.encoding=="string"&&oe("/Encoding /"+d.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},Si=function(){for(var d in gt)gt.hasOwnProperty(d)&&(x===!1||x===!0&&B.hasOwnProperty(d))&&Js(gt[d])},Ws=function(d){d.objectNumber=vt();var y=[];y.push({key:"Type",value:"/XObject"}),y.push({key:"Subtype",value:"/Form"}),y.push({key:"BBox",value:"["+[j(d.x),j(d.y),j(d.x+d.width),j(d.y+d.height)].join(" ")+"]"}),y.push({key:"Matrix",value:"["+d.matrix.toString()+"]"});var N=d.pages[1].join(`
`);ga({data:N,additionalKeyValues:y,objectId:d.objectNumber}),oe("endobj")},ws=function(){for(var d in Xr)Xr.hasOwnProperty(d)&&Ws(Xr[d])},ks=function(d,y){var N,L=[],Z=1/(y-1);for(N=0;N<1;N+=Z)L.push(N);if(L.push(1),d[0].offset!=0){var le={offset:0,color:d[0].color};d.unshift(le)}if(d[d.length-1].offset!=1){var Ce={offset:1,color:d[d.length-1].color};d.push(Ce)}for(var Ye="",ut=0,ht=0;ht<L.length;ht++){for(N=L[ht];N>d[ut+1].offset;)ut++;var bt=d[ut].offset,Jt=(N-bt)/(d[ut+1].offset-bt),Tr=d[ut].color,jr=d[ut+1].color;Ye+=re(Math.round((1-Jt)*Tr[0]+Jt*jr[0]).toString(16))+re(Math.round((1-Jt)*Tr[1]+Jt*jr[1]).toString(16))+re(Math.round((1-Jt)*Tr[2]+Jt*jr[2]).toString(16))}return Ye.trim()},ti=function(d,y){y||(y=21);var N=vt(),L=ks(d.colors,y),Z=[];Z.push({key:"FunctionType",value:"0"}),Z.push({key:"Domain",value:"[0.0 1.0]"}),Z.push({key:"Size",value:"["+y+"]"}),Z.push({key:"BitsPerSample",value:"8"}),Z.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Z.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ga({data:L,additionalKeyValues:Z,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:N}),oe("endobj"),d.objectNumber=vt(),oe("<< /ShadingType "+d.type),oe("/ColorSpace /DeviceRGB");var le="/Coords ["+j(parseFloat(d.coords[0]))+" "+j(parseFloat(d.coords[1]))+" ";d.type===2?le+=j(parseFloat(d.coords[2]))+" "+j(parseFloat(d.coords[3])):le+=j(parseFloat(d.coords[2]))+" "+j(parseFloat(d.coords[3]))+" "+j(parseFloat(d.coords[4]))+" "+j(parseFloat(d.coords[5])),oe(le+="]"),d.matrix&&oe("/Matrix ["+d.matrix.toString()+"]"),oe("/Function "+N+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},_n=function(d,y){var N=Ft(),L=vt();y.push({resourcesOid:N,objectOid:L}),d.objectNumber=L;var Z=[];Z.push({key:"Type",value:"/Pattern"}),Z.push({key:"PatternType",value:"1"}),Z.push({key:"PaintType",value:"1"}),Z.push({key:"TilingType",value:"1"}),Z.push({key:"BBox",value:"["+d.boundingBox.map(j).join(" ")+"]"}),Z.push({key:"XStep",value:j(d.xStep)}),Z.push({key:"YStep",value:j(d.yStep)}),Z.push({key:"Resources",value:N+" 0 R"}),d.matrix&&Z.push({key:"Matrix",value:"["+d.matrix.toString()+"]"}),ga({data:d.stream,additionalKeyValues:Z,objectId:d.objectNumber}),oe("endobj")},tA=function(d){var y;for(y in tr)tr.hasOwnProperty(y)&&(tr[y]instanceof nd?ti(tr[y]):tr[y]instanceof Rh&&_n(tr[y],d))},lo=function(d){for(var y in d.objectNumber=vt(),oe("<<"),d)switch(y){case"opacity":oe("/ca "+q(d[y]));break;case"stroke-opacity":oe("/CA "+q(d[y]))}oe(">>"),oe("endobj")},ri=function(){var d;for(d in or)or.hasOwnProperty(d)&&lo(or[d])},ma=function(){for(var d in oe("/XObject <<"),Xr)Xr.hasOwnProperty(d)&&Xr[d].objectNumber>=0&&oe("/"+d+" "+Xr[d].objectNumber+" 0 R");Yt.publish("putXobjectDict"),oe(">>")},ol=function(){nn.oid=vt(),oe("<<"),oe("/Filter /Standard"),oe("/V "+nn.v),oe("/R "+nn.r),oe("/U <"+nn.toHexString(nn.U)+">"),oe("/O <"+nn.toHexString(nn.O)+">"),oe("/P "+nn.P),oe(">>"),oe("endobj")},co=function(){for(var d in oe("/Font <<"),gt)gt.hasOwnProperty(d)&&(x===!1||x===!0&&B.hasOwnProperty(d))&&oe("/"+d+" "+gt[d].objectNumber+" 0 R");oe(">>")},ll=function(){if(Object.keys(tr).length>0){for(var d in oe("/Shading <<"),tr)tr.hasOwnProperty(d)&&tr[d]instanceof nd&&tr[d].objectNumber>=0&&oe("/"+d+" "+tr[d].objectNumber+" 0 R");Yt.publish("putShadingPatternDict"),oe(">>")}},NA=function(d){if(Object.keys(tr).length>0){for(var y in oe("/Pattern <<"),tr)tr.hasOwnProperty(y)&&tr[y]instanceof C.TilingPattern&&tr[y].objectNumber>=0&&tr[y].objectNumber<d&&oe("/"+y+" "+tr[y].objectNumber+" 0 R");Yt.publish("putTilingPatternDict"),oe(">>")}},uo=function(){if(Object.keys(or).length>0){var d;for(d in oe("/ExtGState <<"),or)or.hasOwnProperty(d)&&or[d].objectNumber>=0&&oe("/"+d+" "+or[d].objectNumber+" 0 R");Yt.publish("putGStateDict"),oe(">>")}},Er=function(d){lr(d.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),co(),ll(),NA(d.objectOid),uo(),ma(),oe(">>"),oe("endobj")},wn=function(){var d=[];Si(),ri(),ws(),tA(d),Yt.publish("putResources"),d.forEach(Er),Er({resourcesOid:Ar,objectOid:Number.MAX_SAFE_INTEGER}),Yt.publish("postPutResources")},Rn=function(){Yt.publish("putAdditionalObjects");for(var d=0;d<Oe.length;d++){var y=Oe[d];lr(y.objId,!0),oe(y.content),oe("endobj")}Yt.publish("postPutAdditionalObjects")},Ii=function(d){Bt[d.fontName]=Bt[d.fontName]||{},Bt[d.fontName][d.fontStyle]=d.id},_A=function(d,y,N,L,Z){var le={id:"F"+(Object.keys(gt).length+1).toString(10),postScriptName:d,fontName:y,fontStyle:N,encoding:L,isStandardFont:Z||!1,metadata:{}};return Yt.publish("addFont",{font:le,instance:this}),gt[le.id]=le,Ii(le),le.id},Lr=function(d){for(var y=0,N=Ve.length;y<N;y++){var L=_A.call(this,d[y][0],d[y][1],d[y][2],Ve[y][3],!0);x===!1&&(B[L]=!0);var Z=d[y][0].split("-");Ii({id:L,fontName:Z[0],fontStyle:Z[1]||""})}Yt.publish("addFonts",{fonts:gt,dictionary:Bt})},vs=function(d){return d.foo=function(){try{return d.apply(this,arguments)}catch(L){var y=L.stack||"";~y.indexOf(" at ")&&(y=y.split(" at ")[1]);var N="Error in function "+y.split(`
`)[0].split("<")[0]+": "+L.message;if(!zt.console)throw new Error(N);zt.console.error(N,L),zt.alert&&alert(N)}},d.foo.bar=d,d.foo},Zs=function(d,y){var N,L,Z,le,Ce,Ye,ut,ht,bt;if(Z=(y=y||{}).sourceEncoding||"Unicode",Ce=y.outputEncoding,(y.autoencode||Ce)&&gt[Pt].metadata&&gt[Pt].metadata[Z]&&gt[Pt].metadata[Z].encoding&&(le=gt[Pt].metadata[Z].encoding,!Ce&&gt[Pt].encoding&&(Ce=gt[Pt].encoding),!Ce&&le.codePages&&(Ce=le.codePages[0]),typeof Ce=="string"&&(Ce=le[Ce]),Ce)){for(ut=!1,Ye=[],N=0,L=d.length;N<L;N++)(ht=Ce[d.charCodeAt(N)])?Ye.push(String.fromCharCode(ht)):Ye.push(d[N]),Ye[N].charCodeAt(0)>>8&&(ut=!0);d=Ye.join("")}for(N=d.length;ut===void 0&&N!==0;)d.charCodeAt(N-1)>>8&&(ut=!0),N--;if(!ut)return d;for(Ye=y.noBOM?[]:[254,255],N=0,L=d.length;N<L;N++){if((bt=(ht=d.charCodeAt(N))>>8)>>8)throw new Error("Character at position "+N+" of string '"+d+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ye.push(bt),Ye.push(ht-(bt<<8))}return String.fromCharCode.apply(void 0,Ye)},Kn=C.__private__.pdfEscape=C.pdfEscape=function(d,y){return Zs(d,y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},is=C.__private__.beginPage=function(d){Re[++nr]=[],yt[nr]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(d[0]),topRightY:Number(d[1])}},ho(nr),Ee(Re[M])},EA=function(d,y){var N,L,Z;switch(t=y||t,typeof d=="string"&&(N=F(d.toLowerCase()),Array.isArray(N)&&(L=N[0],Z=N[1])),Array.isArray(d)&&(L=d[0]*ot,Z=d[1]*ot),isNaN(L)&&(L=s[0],Z=s[1]),(L>14400||Z>14400)&&(fn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),L=Math.min(14400,L),Z=Math.min(14400,Z)),s=[L,Z],t.substr(0,1)){case"l":Z>L&&(s=[Z,L]);break;case"p":L>Z&&(s=[Z,L])}is(s),Pa(Dn),oe(Ns),iA!==0&&oe(iA+" J"),po!==0&&oe(po+" j"),Yt.publish("addPage",{pageNumber:nr})},sc=function(d){d>0&&d<=nr&&(Re.splice(d,1),yt.splice(d,1),nr--,M>nr&&(M=nr),this.setPage(M))},ho=function(d){d>0&&d<=nr&&(M=d)},rA=C.__private__.getNumberOfPages=C.getNumberOfPages=function(){return Re.length-1},cl=function(d,y,N){var L,Z=void 0;return N=N||{},d=d!==void 0?d:gt[Pt].fontName,y=y!==void 0?y:gt[Pt].fontStyle,L=d.toLowerCase(),Bt[L]!==void 0&&Bt[L][y]!==void 0?Z=Bt[L][y]:Bt[d]!==void 0&&Bt[d][y]!==void 0?Z=Bt[d][y]:N.disableWarning===!1&&fn.warn("Unable to look up font label for font '"+d+"', '"+y+"'. Refer to getFontList() for available fonts."),Z||N.noFallback||(Z=Bt.times[y])==null&&(Z=Bt.times.normal),Z},nA=C.__private__.putInfo=function(){var d=vt(),y=function(L){return L};for(var N in p!==null&&(y=nn.encryptor(d,0)),oe("<<"),oe("/Producer ("+Kn(y("jsPDF "+Kt.version))+")"),kt)kt.hasOwnProperty(N)&&kt[N]&&oe("/"+N.substr(0,1).toUpperCase()+N.substr(1)+" ("+Kn(y(kt[N]))+")");oe("/CreationDate ("+Kn(y(pe))+")"),oe(">>"),oe("endobj")},As=C.__private__.putCatalog=function(d){var y=(d=d||{}).rootDictionaryObjId||cr;switch(vt(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+y+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var N=""+nt;N.substr(N.length-1)==="%"&&(nt=parseInt(nt)/100),typeof nt=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+q(nt)+"]")}switch(Gt||(Gt="continuous"),Gt){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}_t&&oe("/PageMode /"+_t),Yt.publish("putCatalog"),oe(">>"),oe("endobj")},ac=C.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(ue+1)),oe("/Root "+ue+" 0 R"),oe("/Info "+(ue-1)+" 0 R"),p!==null&&oe("/Encrypt "+nn.oid+" 0 R"),oe("/ID [ <"+te+"> <"+te+"> ]"),oe(">>")},ul=C.__private__.putHeader=function(){oe("%PDF-"+U),oe("%")},dl=C.__private__.putXRef=function(){var d="0000000000";oe("xref"),oe("0 "+(ue+1)),oe("0000000000 65535 f ");for(var y=1;y<=ue;y++)typeof me[y]=="function"?oe((d+me[y]()).slice(-10)+" 00000 n "):me[y]!==void 0?oe((d+me[y]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},pa=C.__private__.buildDocument=function(){mt(),Ee(Ne),Yt.publish("buildDocument"),ul(),eA(),Rn(),wn(),p!==null&&ol(),nA(),As();var d=de;return dl(),ac(),oe("startxref"),oe(""+d),oe("%%EOF"),Ee(Re[M]),Ne.join(`
`)},SA=C.__private__.getBlob=function(d){return new Blob([ft(d)],{type:"application/pdf"})},Ma=C.output=C.__private__.output=vs((function(d,y){switch(typeof(y=y||{})=="string"?y={filename:y}:y.filename=y.filename||"generated.pdf",d){case void 0:return pa();case"save":C.save(y.filename);break;case"arraybuffer":return ft(pa());case"blob":return SA(pa());case"bloburi":case"bloburl":if(zt.URL!==void 0&&typeof zt.URL.createObjectURL=="function")return zt.URL&&zt.URL.createObjectURL(SA(pa()))||void 0;fn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var N="",L=pa();try{N=xw(L)}catch{N=xw(unescape(encodeURIComponent(L)))}return"data:application/pdf;filename="+y.filename+";base64,"+N;case"pdfobjectnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var Z="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",le=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';y.pdfObjectUrl&&(Z=y.pdfObjectUrl,le="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Z+'"'+le+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(y)+");<\/script></body></html>",Ye=zt.open();return Ye!==null&&Ye.document.write(Ce),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+y.filename+'" width="500px" height="400px" /></body></html>',ht=zt.open();if(ht!==null){ht.document.write(ut);var bt=this;ht.document.documentElement.querySelector("#pdfViewer").onload=function(){ht.document.title=y.filename,ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(bt.output("bloburl"))}}return ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(zt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",y)+'"></iframe></body></html>',Tr=zt.open();if(Tr!==null&&(Tr.document.write(Jt),Tr.document.title=y.filename),Tr||typeof safari>"u")return Tr;break;case"datauri":case"dataurl":return zt.document.location.href=this.output("datauristring",y);default:return null}})),IA=function(d){return Array.isArray($n)===!0&&$n.indexOf(d)>-1};switch(r){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=IA("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ot=r}var nn=null;Y(),ne();var hl=function(d){return p!==null?nn.encryptor(d,0):function(y){return y}},ea=C.__private__.getPageInfo=C.getPageInfo=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[d].objId,pageNumber:d,pageContext:yt[d]}},Ot=C.__private__.getPageInfoByObjId=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var y in yt)if(yt[y].objId===d)break;return ea(y)},ni=C.__private__.getCurrentPageInfo=C.getCurrentPageInfo=function(){return{objId:yt[M].objId,pageNumber:M,pageContext:yt[M]}};C.addPage=function(){return EA.apply(this,arguments),this},C.setPage=function(){return ho.apply(this,arguments),Ee.call(this,Re[M]),this},C.insertPage=function(d){return this.addPage(),this.movePage(M,d),this},C.movePage=function(d,y){var N,L;if(d>y){N=Re[d],L=yt[d];for(var Z=d;Z>y;Z--)Re[Z]=Re[Z-1],yt[Z]=yt[Z-1];Re[y]=N,yt[y]=L,this.setPage(y)}else if(d<y){N=Re[d],L=yt[d];for(var le=d;le<y;le++)Re[le]=Re[le+1],yt[le]=yt[le+1];Re[y]=N,yt[y]=L,this.setPage(y)}return this},C.deletePage=function(){return sc.apply(this,arguments),this},C.__private__.text=C.text=function(d,y,N,L,Z){var le,Ce,Ye,ut,ht,bt,Jt,Tr,jr,Dr=(L=L||{}).scope||this;if(typeof d=="number"&&typeof y=="number"&&(typeof N=="string"||Array.isArray(N))){var En=N;N=y,y=d,d=En}if(arguments[3]instanceof Pe?(S("The transform parameter of text() with a Matrix value"),jr=Z):(Ye=arguments[4],ut=arguments[5],en(Jt=arguments[3])==="object"&&Jt!==null||(typeof Ye=="string"&&(ut=Ye,Ye=null),typeof Jt=="string"&&(ut=Jt,Jt=null),typeof Jt=="number"&&(Ye=Jt,Jt=null),L={flags:Jt,angle:Ye,align:ut})),isNaN(y)||isNaN(N)||d==null)throw new Error("Invalid arguments passed to jsPDF.text");if(d.length===0)return Dr;var vn="",Rs=!1,Ka=typeof L.lineHeightFactor=="number"?L.lineHeightFactor:Cs,AA=Dr.internal.scaleFactor;function Td(mr){return mr=mr.split("	").join(Array(L.TabLen||9).join(" ")),Kn(mr,Jt)}function oc(mr){for(var Hr,Ur=mr.concat(),pn=[],Hi=Ur.length;Hi--;)typeof(Hr=Ur.shift())=="string"?pn.push(Hr):Array.isArray(mr)&&(Hr.length===1||Hr[1]===void 0&&Hr[2]===void 0)?pn.push(Hr[0]):pn.push([Hr[0],Hr[1],Hr[2]]);return pn}function lc(mr,Hr){var Ur;if(typeof mr=="string")Ur=Hr(mr)[0];else if(Array.isArray(mr)){for(var pn,Hi,Eo=mr.concat(),RA=[],mc=Eo.length;mc--;)typeof(pn=Eo.shift())=="string"?RA.push(Hr(pn)[0]):Array.isArray(pn)&&typeof pn[0]=="string"&&(Hi=Hr(pn[0],pn[1],pn[2]),RA.push([Hi[0],Hi[1],Hi[2]]));Ur=RA}return Ur}var oA=!1,UA=!0;if(typeof d=="string")oA=!0;else if(Array.isArray(d)){var ju=d.concat();Ce=[];for(var FA,ls=ju.length;ls--;)(typeof(FA=ju.shift())!="string"||Array.isArray(FA)&&typeof FA[0]!="string")&&(UA=!1);oA=UA}if(oA===!1)throw new Error('Type of text must be string or Array. "'+d+'" is not recognized.');typeof d=="string"&&(d=d.match(/[\r?\n]/)?d.split(/\r\n|\r|\n/g):[d]);var pl=Je/Dr.internal.scaleFactor,wo=pl*(Ka-1);switch(L.baseline){case"bottom":N-=wo;break;case"top":N+=pl-wo;break;case"hanging":N+=pl-2*wo;break;case"middle":N+=pl/2-wo}if((bt=L.maxWidth||0)>0&&(typeof d=="string"?d=Dr.splitTextToSize(d,bt):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce((function(mr,Hr){return mr.concat(Dr.splitTextToSize(Hr,bt))}),[]))),le={text:d,x:y,y:N,options:L,mutex:{pdfEscape:Kn,activeFontKey:Pt,fonts:gt,activeFontSize:Je}},Yt.publish("preProcessText",le),d=le.text,Ye=(L=le.options).angle,!(jr instanceof Pe)&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,L.rotationDirection===0&&(Ye=-Ye),K===H.ADVANCED&&(Ye=-Ye);var vo=Math.cos(Ye),cc=Math.sin(Ye);jr=new Pe(vo,cc,-cc,vo,0,0)}else Ye&&Ye instanceof Pe&&(jr=Ye);K!==H.ADVANCED||jr||(jr=xt),(ht=L.charSpace||aA)!==void 0&&(vn+=j(k(ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Tr=L.horizontalScale)!==void 0&&(vn+=j(100*Tr)+` Tz
`),L.lang;var sa=-1,jd=L.renderingMode!==void 0?L.renderingMode:L.stroke,Uu=Dr.internal.getCurrentPageInfo().pageContext;switch(jd){case 0:case!1:case"fill":sa=0;break;case 1:case!0:case"stroke":sa=1;break;case 2:case"fillThenStroke":sa=2;break;case 3:case"invisible":sa=3;break;case 4:case"fillAndAddForClipping":sa=4;break;case 5:case"strokeAndAddPathForClipping":sa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":sa=6;break;case 7:case"addToPathForClipping":sa=7}var Ud=Uu.usedRenderingMode!==void 0?Uu.usedRenderingMode:-1;sa!==-1?vn+=sa+` Tr
`:Ud!==-1&&(vn+=`0 Tr
`),sa!==-1&&(Uu.usedRenderingMode=sa),ut=L.align||"left";var ii,uc=Je*Ka,Fd=Dr.internal.pageSize.getWidth(),Ds=gt[Pt];ht=L.charSpace||aA,bt=L.maxWidth||0,Jt=Object.assign({autoencode:!0,noBOM:!0},L.flags);var Ai=[],Bo=function(mr){return Dr.getStringUnitWidth(mr,{font:Ds,charSpace:ht,fontSize:Je,doKerning:!1})*Je/AA};if(Object.prototype.toString.call(d)==="[object Array]"){var aa;Ce=oc(d),ut!=="left"&&(ii=Ce.map(Bo));var Os,QA=0;if(ut==="right"){y-=ii[0],d=[],ls=Ce.length;for(var Di=0;Di<ls;Di++)Di===0?(Os=ra(y),aa=os(N)):(Os=k(QA-ii[Di]),aa=-uc),d.push([Ce[Di],Os,aa]),QA=ii[Di]}else if(ut==="center"){y-=ii[0]/2,d=[],ls=Ce.length;for(var LA=0;LA<ls;LA++)LA===0?(Os=ra(y),aa=os(N)):(Os=k((QA-ii[LA])/2),aa=-uc),d.push([Ce[LA],Os,aa]),QA=ii[LA]}else if(ut==="left"){d=[],ls=Ce.length;for(var Oi=0;Oi<ls;Oi++)d.push(Ce[Oi])}else if(ut==="justify"&&Ds.encoding==="Identity-H"){d=[],ls=Ce.length,bt=bt!==0?bt:Fd;for(var Mi=0,cn=0;cn<ls;cn++)if(aa=cn===0?os(N):-uc,Os=cn===0?ra(y):Mi,cn<ls-1){var xl=k((bt-ii[cn])/(Ce[cn].split(" ").length-1)),Ms=Ce[cn].split(" ");d.push([Ms[0]+" ",Os,aa]),Mi=0;for(var cs=1;cs<Ms.length;cs++){var Pi=(Bo(Ms[cs-1]+" "+Ms[cs])-Bo(Ms[cs]))*AA+xl;cs==Ms.length-1?d.push([Ms[cs],Pi,0]):d.push([Ms[cs]+" ",Pi,0]),Mi-=Pi}}else d.push([Ce[cn],Os,aa]);d.push(["",Mi,0])}else{if(ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(d=[],ls=Ce.length,bt=bt!==0?bt:Fd,cn=0;cn<ls;cn++)aa=cn===0?os(N):-uc,Os=cn===0?ra(y):0,cn<ls-1?Ai.push(j(k((bt-ii[cn])/(Ce[cn].split(" ").length-1)))):Ai.push(0),d.push([Ce[cn],Os,aa])}}var dc=typeof L.R2L=="boolean"?L.R2L:Nt;dc===!0&&(d=lc(d,(function(mr,Hr,Ur){return[mr.split("").reverse().join(""),Hr,Ur]}))),le={text:d,x:y,y:N,options:L,mutex:{pdfEscape:Kn,activeFontKey:Pt,fonts:gt,activeFontSize:Je}},Yt.publish("postProcessText",le),d=le.text,Rs=le.mutex.isHex||!1;var hc=gt[Pt].encoding;hc!=="WinAnsiEncoding"&&hc!=="StandardEncoding"||(d=lc(d,(function(mr,Hr,Ur){return[Td(mr),Hr,Ur]}))),Ce=oc(d),d=[];for(var za,Co,kA,No=0,fc=1,yl=Array.isArray(Ce[0])?fc:No,_o="",gc=function(mr,Hr,Ur){var pn="";return Ur instanceof Pe?(Ur=typeof L.angle=="number"?rt(Ur,new Pe(1,0,0,1,mr,Hr)):rt(new Pe(1,0,0,1,mr,Hr),Ur),K===H.ADVANCED&&(Ur=rt(new Pe(1,0,0,-1,0,0),Ur)),pn=Ur.join(" ")+` Tm
`):pn=j(mr)+" "+j(Hr)+` Td
`,pn},qa=0;qa<Ce.length;qa++){switch(_o="",yl){case fc:kA=(Rs?"<":"(")+Ce[qa][0]+(Rs?">":")"),za=parseFloat(Ce[qa][1]),Co=parseFloat(Ce[qa][2]);break;case No:kA=(Rs?"<":"(")+Ce[qa]+(Rs?">":")"),za=ra(y),Co=os(N)}Ai!==void 0&&Ai[qa]!==void 0&&(_o=Ai[qa]+` Tw
`),qa===0?d.push(_o+gc(za,Co,jr)+kA):yl===No?d.push(_o+kA):yl===fc&&d.push(_o+gc(za,Co,jr)+kA)}d=yl===No?d.join(` Tj
T* `):d.join(` Tj
`),d+=` Tj
`;var wa=`BT
/`;return wa+=Pt+" "+Je+` Tf
`,wa+=j(Je*Ka)+` TL
`,wa+=sA+`
`,wa+=vn,wa+=d,oe(wa+="ET"),B[Pt]=!0,Dr};var TA=C.__private__.clip=C.clip=function(d){return oe(d==="evenodd"?"W*":"W"),this};C.clipEvenOdd=function(){return TA("evenodd")},C.__private__.discardPath=C.discardPath=function(){return oe("n"),this};var ta=C.__private__.isValidStyle=function(d){var y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(d)!==-1&&(y=!0),y};C.__private__.setDefaultPathOperation=C.setDefaultPathOperation=function(d){return ta(d)&&(g=d),this};var Ti=C.__private__.getStyle=C.getStyle=function(d){var y=g;switch(d){case"D":case"S":y="S";break;case"F":y="f";break;case"FD":case"DF":y="B";break;case"f":case"f*":case"B":case"B*":y=d}return y},xa=C.close=function(){return oe("h"),this};C.stroke=function(){return oe("S"),this},C.fill=function(d){return Bs("f",d),this},C.fillEvenOdd=function(d){return Bs("f*",d),this},C.fillStroke=function(d){return Bs("B",d),this},C.fillStrokeEvenOdd=function(d){return Bs("B*",d),this};var Bs=function(d,y){en(y)==="object"?si(y,d):oe(d)},ji=function(d){d===null||K===H.ADVANCED&&d===void 0||(d=Ti(d),oe(d))};function Rr(d,y,N,L,Z){var le=new Rh(y||this.boundingBox,N||this.xStep,L||this.yStep,this.gState,Z||this.matrix);le.stream=this.stream;var Ce=d+"$$"+this.cloneIndex+++"$$";return Tt(Ce,le),le}var si=function(d,y){var N=qr[d.key],L=tr[N];if(L instanceof nd)oe("q"),oe(fl(y)),L.gState&&C.setGState(L.gState),oe(d.matrix.toString()+" cm"),oe("/"+N+" sh"),oe("Q");else if(L instanceof Rh){var Z=new Pe(1,0,0,-1,0,Ri());d.matrix&&(Z=Z.multiply(d.matrix||xt),N=Rr.call(L,d.key,d.boundingBox,d.xStep,d.yStep,Z).id),oe("q"),oe("/Pattern cs"),oe("/"+N+" scn"),L.gState&&C.setGState(L.gState),oe(y),oe("Q")}},fl=function(d){switch(d){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ui=C.moveTo=function(d,y){return oe(j(k(d))+" "+j(J(y))+" m"),this},Fi=C.lineTo=function(d,y){return oe(j(k(d))+" "+j(J(y))+" l"),this},ya=C.curveTo=function(d,y,N,L,Z,le){return oe([j(k(d)),j(J(y)),j(k(N)),j(J(L)),j(k(Z)),j(J(le)),"c"].join(" ")),this};C.__private__.line=C.line=function(d,y,N,L,Z){if(isNaN(d)||isNaN(y)||isNaN(N)||isNaN(L)||!ta(Z))throw new Error("Invalid arguments passed to jsPDF.line");return K===H.COMPAT?this.lines([[N-d,L-y]],d,y,[1,1],Z||"S"):this.lines([[N-d,L-y]],d,y,[1,1]).stroke()},C.__private__.lines=C.lines=function(d,y,N,L,Z,le){var Ce,Ye,ut,ht,bt,Jt,Tr,jr,Dr,En,vn,Rs;if(typeof d=="number"&&(Rs=N,N=y,y=d,d=Rs),L=L||[1,1],le=le||!1,isNaN(y)||isNaN(N)||!Array.isArray(d)||!Array.isArray(L)||!ta(Z)||typeof le!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ui(y,N),Ce=L[0],Ye=L[1],ht=d.length,En=y,vn=N,ut=0;ut<ht;ut++)(bt=d[ut]).length===2?(En=bt[0]*Ce+En,vn=bt[1]*Ye+vn,Fi(En,vn)):(Jt=bt[0]*Ce+En,Tr=bt[1]*Ye+vn,jr=bt[2]*Ce+En,Dr=bt[3]*Ye+vn,En=bt[4]*Ce+En,vn=bt[5]*Ye+vn,ya(Jt,Tr,jr,Dr,En,vn));return le&&xa(),ji(Z),this},C.path=function(d){for(var y=0;y<d.length;y++){var N=d[y],L=N.c;switch(N.op){case"m":Ui(L[0],L[1]);break;case"l":Fi(L[0],L[1]);break;case"c":ya.apply(this,L);break;case"h":xa()}}return this},C.__private__.rect=C.rect=function(d,y,N,L,Z){if(isNaN(d)||isNaN(y)||isNaN(N)||isNaN(L)||!ta(Z))throw new Error("Invalid arguments passed to jsPDF.rect");return K===H.COMPAT&&(L=-L),oe([j(k(d)),j(J(y)),j(k(N)),j(k(L)),"re"].join(" ")),ji(Z),this},C.__private__.triangle=C.triangle=function(d,y,N,L,Z,le,Ce){if(isNaN(d)||isNaN(y)||isNaN(N)||isNaN(L)||isNaN(Z)||isNaN(le)||!ta(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[N-d,L-y],[Z-N,le-L],[d-Z,y-le]],d,y,[1,1],Ce,!0),this},C.__private__.roundedRect=C.roundedRect=function(d,y,N,L,Z,le,Ce){if(isNaN(d)||isNaN(y)||isNaN(N)||isNaN(L)||isNaN(Z)||isNaN(le)||!ta(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return Z=Math.min(Z,.5*N),le=Math.min(le,.5*L),this.lines([[N-2*Z,0],[Z*Ye,0,Z,le-le*Ye,Z,le],[0,L-2*le],[0,le*Ye,-Z*Ye,le,-Z,le],[2*Z-N,0],[-Z*Ye,0,-Z,-le*Ye,-Z,-le],[0,2*le-L],[0,-le*Ye,Z*Ye,-le,Z,-le]],d+Z,y,[1,1],Ce,!0),this},C.__private__.ellipse=C.ellipse=function(d,y,N,L,Z){if(isNaN(d)||isNaN(y)||isNaN(N)||isNaN(L)||!ta(Z))throw new Error("Invalid arguments passed to jsPDF.ellipse");var le=4/3*(Math.SQRT2-1)*N,Ce=4/3*(Math.SQRT2-1)*L;return Ui(d+N,y),ya(d+N,y-Ce,d+le,y-L,d,y-L),ya(d-le,y-L,d-N,y-Ce,d-N,y),ya(d-N,y+Ce,d-le,y+L,d,y+L),ya(d+le,y+L,d+N,y+Ce,d+N,y),ji(Z),this},C.__private__.circle=C.circle=function(d,y,N,L){if(isNaN(d)||isNaN(y)||isNaN(N)||!ta(L))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(d,y,N,N,L)},C.setFont=function(d,y,N){return N&&(y=se(y,N)),Pt=cl(d,y,{disableWarning:!1}),this};var Qi=C.__private__.getFont=C.getFont=function(){return gt[cl.apply(C,arguments)]};C.__private__.getFontList=C.getFontList=function(){var d,y,N={};for(d in Bt)if(Bt.hasOwnProperty(d))for(y in N[d]=[],Bt[d])Bt[d].hasOwnProperty(y)&&N[d].push(y);return N},C.addFont=function(d,y,N,L,Z){var le=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&le.indexOf(arguments[3])!==-1?Z=arguments[3]:arguments[3]&&le.indexOf(arguments[3])==-1&&(N=se(N,L)),Z=Z||"Identity-H",_A.call(this,d,y,N,Z)};var Cs,Dn=n.lineWidth||.200025,ba=C.__private__.getLineWidth=C.getLineWidth=function(){return Dn},Pa=C.__private__.setLineWidth=C.setLineWidth=function(d){return Dn=d,oe(j(k(d))+" w"),this};C.__private__.setLineDash=Kt.API.setLineDash=Kt.API.setLineDashPattern=function(d,y){if(d=d||[],y=y||0,isNaN(y)||!Array.isArray(d))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return d=d.map((function(N){return j(k(N))})).join(" "),y=j(k(y)),oe("["+d+"] "+y+" d"),this};var Li=C.__private__.getLineHeight=C.getLineHeight=function(){return Je*Cs};C.__private__.getLineHeight=C.getLineHeight=function(){return Je*Cs};var fo=C.__private__.setLineHeightFactor=C.setLineHeightFactor=function(d){return typeof(d=d||1.15)=="number"&&(Cs=d),this},ki=C.__private__.getLineHeightFactor=C.getLineHeightFactor=function(){return Cs};fo(n.lineHeight);var ra=C.__private__.getHorizontalCoordinate=function(d){return k(d)},os=C.__private__.getVerticalCoordinate=function(d){return K===H.ADVANCED?d:yt[M].mediaBox.topRightY-yt[M].mediaBox.bottomLeftY-k(d)},go=C.__private__.getHorizontalCoordinateString=C.getHorizontalCoordinateString=function(d){return j(ra(d))},ai=C.__private__.getVerticalCoordinateString=C.getVerticalCoordinateString=function(d){return j(os(d))},Ns=n.strokeColor||"0 G";C.__private__.getStrokeColor=C.getDrawColor=function(){return kr(Ns)},C.__private__.setStrokeColor=C.setDrawColor=function(d,y,N,L){return Ns=Vn({ch1:d,ch2:y,ch3:N,ch4:L,pdfColorType:"draw",precision:2}),oe(Ns),this};var mo=n.fillColor||"0 g";C.__private__.getFillColor=C.getFillColor=function(){return kr(mo)},C.__private__.setFillColor=C.setFillColor=function(d,y,N,L){return mo=Vn({ch1:d,ch2:y,ch3:N,ch4:L,pdfColorType:"fill",precision:2}),oe(mo),this};var sA=n.textColor||"0 g",jA=C.__private__.getTextColor=C.getTextColor=function(){return kr(sA)};C.__private__.setTextColor=C.setTextColor=function(d,y,N,L){return sA=Vn({ch1:d,ch2:y,ch3:N,ch4:L,pdfColorType:"text",precision:3}),this};var aA=n.charSpace,ic=C.__private__.getCharSpace=C.getCharSpace=function(){return parseFloat(aA||0)};C.__private__.setCharSpace=C.setCharSpace=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return aA=d,this};var iA=0;C.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},C.__private__.setLineCap=C.setLineCap=function(d){var y=C.CapJoinStyles[d];if(y===void 0)throw new Error("Line cap style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return iA=y,oe(y+" J"),this};var po=0;C.__private__.setLineJoin=C.setLineJoin=function(d){var y=C.CapJoinStyles[d];if(y===void 0)throw new Error("Line join style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return po=y,oe(y+" j"),this},C.__private__.setLineMiterLimit=C.__private__.setMiterLimit=C.setLineMiterLimit=C.setMiterLimit=function(d){if(d=d||0,isNaN(d))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(j(k(d))+" M"),this},C.GState=O1,C.setGState=function(d){(d=typeof d=="string"?or[fr[d]]:gl(null,d)).equals(dr)||(oe("/"+d.id+" gs"),dr=d)};var gl=function(d,y){if(!d||!fr[d]){var N=!1;for(var L in or)if(or.hasOwnProperty(L)&&or[L].equals(y)){N=!0;break}if(N)y=or[L];else{var Z="GS"+(Object.keys(or).length+1).toString(10);or[Z]=y,y.id=Z}return d&&(fr[d]=y.id),Yt.publish("addGState",y),y}};C.addGState=function(d,y){return gl(d,y),this},C.saveGraphicsState=function(){return oe("q"),mn.push({key:Pt,size:Je,color:sA}),this},C.restoreGraphicsState=function(){oe("Q");var d=mn.pop();return Pt=d.key,Je=d.size,sA=d.color,dr=null,this},C.setCurrentTransformationMatrix=function(d){return oe(d.toString()+" cm"),this},C.comment=function(d){return oe("#"+d),this};var na=function(d,y){var N=d||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return N},set:function(le){isNaN(le)||(N=parseFloat(le))}});var L=y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return L},set:function(le){isNaN(le)||(L=parseFloat(le))}});var Z="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Z},set:function(le){Z=le.toString()}}),this},xo=function(d,y,N,L){na.call(this,d,y),this.type="rect";var Z=N||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Z},set:function(Ce){isNaN(Ce)||(Z=parseFloat(Ce))}});var le=L||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return le},set:function(Ce){isNaN(Ce)||(le=parseFloat(Ce))}}),this},yo=function(){this.page=nr,this.currentPage=M,this.pages=Re.slice(0),this.pagesContext=yt.slice(0),this.x=rn,this.y=Qe,this.matrix=Ut,this.width=On(M),this.height=Ri(M),this.outputDestination=tt,this.id="",this.objectNumber=-1};yo.prototype.restore=function(){nr=this.page,M=this.currentPage,yt=this.pagesContext,Re=this.pages,rn=this.x,Qe=this.y,Ut=this.matrix,bo(M,this.width),Va(M,this.height),tt=this.outputDestination};var ml=function(d,y,N,L,Z){qe.push(new yo),nr=M=0,Re=[],rn=d,Qe=y,Ut=Z,is([N,L])},Ac=function(d){if(bn[d])qe.pop().restore();else{var y=new yo,N="Xo"+(Object.keys(Xr).length+1).toString(10);y.id=N,bn[d]=N,Xr[N]=y,Yt.publish("addFormObject",y),qe.pop().restore()}};for(var Ha in C.beginFormObject=function(d,y,N,L,Z){return ml(d,y,N,L,Z),this},C.endFormObject=function(d){return Ac(d),this},C.doFormObject=function(d,y){var N=Xr[bn[d]];return oe("q"),oe(y.toString()+" cm"),oe("/"+N.id+" Do"),oe("Q"),this},C.getFormObject=function(d){var y=Xr[bn[d]];return{x:y.x,y:y.y,width:y.width,height:y.height,matrix:y.matrix}},C.save=function(d,y){return d=d||"generated.pdf",(y=y||{}).returnPromise=y.returnPromise||!1,y.returnPromise===!1?(Ju(SA(pa()),d),typeof Ju.unload=="function"&&zt.setTimeout&&setTimeout(Ju.unload,911),this):new Promise((function(N,L){try{var Z=Ju(SA(pa()),d);typeof Ju.unload=="function"&&zt.setTimeout&&setTimeout(Ju.unload,911),N(Z)}catch(le){L(le.message)}}))},Kt.API)Kt.API.hasOwnProperty(Ha)&&(Ha==="events"&&Kt.API.events.length?(function(d,y){var N,L,Z;for(Z=y.length-1;Z!==-1;Z--)N=y[Z][0],L=y[Z][1],d.subscribe.apply(d,[N].concat(typeof L=="function"?[L]:L))})(Yt,Kt.API.events):C[Ha]=Kt.API[Ha]);var On=C.getPageWidth=function(d){return(yt[d=d||M].mediaBox.topRightX-yt[d].mediaBox.bottomLeftX)/ot},bo=C.setPageWidth=function(d,y){yt[d].mediaBox.topRightX=y*ot+yt[d].mediaBox.bottomLeftX},Ri=C.getPageHeight=function(d){return(yt[d=d||M].mediaBox.topRightY-yt[d].mediaBox.bottomLeftY)/ot},Va=C.setPageHeight=function(d,y){yt[d].mediaBox.topRightY=y*ot+yt[d].mediaBox.bottomLeftY};return C.internal={pdfEscape:Kn,getStyle:Ti,getFont:Qi,getFontSize:at,getCharSpace:ic,getTextColor:jA,getLineHeight:Li,getLineHeightFactor:ki,getLineWidth:ba,write:At,getHorizontalCoordinate:ra,getVerticalCoordinate:os,getCoordinateString:go,getVerticalCoordinateString:ai,collections:{},newObject:vt,newAdditionalObject:$t,newObjectDeferred:Ft,newObjectDeferredBegin:lr,getFilters:$s,putStream:ga,events:Yt,scaleFactor:ot,pageSize:{getWidth:function(){return On(M)},setWidth:function(d){bo(M,d)},getHeight:function(){return Ri(M)},setHeight:function(d){Va(M,d)}},encryptionOptions:p,encryption:nn,getEncryptor:hl,output:Ma,getNumberOfPages:rA,pages:Re,out:oe,f2:q,f3:I,getPageInfo:ea,getPageInfoByObjId:Ot,getCurrentPageInfo:ni,getPDFVersion:E,Point:na,Rectangle:xo,Matrix:Pe,hasHotfix:IA},Object.defineProperty(C.internal.pageSize,"width",{get:function(){return On(M)},set:function(d){bo(M,d)},enumerable:!0,configurable:!0}),Object.defineProperty(C.internal.pageSize,"height",{get:function(){return Ri(M)},set:function(d){Va(M,d)},enumerable:!0,configurable:!0}),Lr.call(C,Ve),Pt="F1",EA(s,t),Yt.publish("initialized"),C}Uh.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Uh.prototype.toHexString=function(n){return n.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Uh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Uh.prototype.processOwnerPassword=function(n,e){return bw(yw(e).substr(0,5),n)},Uh.prototype.encryptor=function(n,e){var t=yw(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return bw(t,r)}},O1.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||en(n)!==en(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Kt.API={events:[]},Kt.version="2.5.2";var Gn=Kt.API,a5=1,Id=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ar=function(n){return n.toFixed(2)},zc=function(n){return n.toFixed(5)};Gn.__acroform__={};var Ei=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},rE=function(n){return n*a5},Ho=function(n){var e=new qT,t=St.internal.getHeight(n)||0,r=St.internal.getWidth(n)||0;return e.BBox=[0,0,Number(ar(r)),Number(ar(t))],e},Mq=Gn.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},Pq=Gn.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},Hq=Gn.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},ts=Gn.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Hq(n,e-1)},rs=Gn.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Mq(n,e-1)},ns=Gn.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Pq(n,e-1)},Vq=Gn.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],i=n[1],l=n[2],u=n[3],h={};return h.lowerLeft_X=t(s)||0,h.lowerLeft_Y=r(i+u)||0,h.upperRight_X=t(s+l)||0,h.upperRight_Y=r(i)||0,[Number(ar(h.lowerLeft_X)),Number(ar(h.lowerLeft_Y)),Number(ar(h.upperRight_X)),Number(ar(h.upperRight_Y))]},Kq=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=ww(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+ar(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Ho(n);return i.scope=n.scope,i.stream=e.join(`
`),i}},ww=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map((function(I){return I.split(`
`)})):s.map((function(I){return[I]}));var i=t,l=St.internal.getHeight(n)||0;l=l<0?-l:l;var u=St.internal.getWidth(n)||0;u=u<0?-u:u;var h=function(I,k,D){if(I+1<s.length){var J=k+" "+s[I+1][0];return Bp(J,n,D).width<=u-4}return!1};i++;e:for(;i>0;){e="",i--;var g,p,x=Bp("3",n,i).height,B=n.multiline?l-i:(l-x)/2,C=B+=2,U=0,E=0,P=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Bp(e,n,i=12).width+", FieldWidth:"+u+`
`;break}for(var F="",H=0,K=0;K<s.length;K++)if(s.hasOwnProperty(K)){var Ae=!1;if(s[K].length!==1&&P!==s[K].length-1){if((x+2)*(H+2)+2>l)continue e;F+=s[K][P],Ae=!0,E=K,K--}else{F=(F+=s[K][P]+" ").substr(F.length-1)==" "?F.substr(0,F.length-1):F;var ae=parseInt(K),se=h(ae,F,i),j=K>=s.length-1;if(se&&!j){F+=" ",P=0;continue}if(se||j){if(j)E=ae;else if(n.multiline&&(x+2)*(H+2)+2>l)continue e}else{if(!n.multiline||(x+2)*(H+2)+2>l)continue e;E=ae}}for(var S="",O=U;O<=E;O++){var q=s[O];if(n.multiline){if(O===E){S+=q[P]+" ",P=(P+1)%q.length;continue}if(O===U){S+=q[q.length-1]+" ";continue}}S+=q[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,p=Bp(S,n,i).width,n.textAlign){case"right":g=u-p-2;break;case"center":g=(u-p)/2;break;case"left":default:g=2}e+=ar(g)+" "+ar(C)+` Td
`,e+="("+Id(S)+`) Tj
`,e+=-ar(g)+` 0 Td
`,C=-(i+2),p=0,U=Ae?E:E+1,H++,F=""}break}return r.text=e,r.fontSize=i,r},Bp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},zq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qq=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find((function(r){return r.type===t.type&&r.object===t.object}))===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Gq=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,s=n[t];e.internal.newObjectDeferredBegin(s.objId,!0),en(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete n[r]}},Xq=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ao.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(zq)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");a5=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new GT,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",(function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)})),n.internal.events.subscribe("buildDocument",(function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&qq(i,t)}})(n)})),n.internal.events.subscribe("putCatalog",(function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)})),n.internal.events.subscribe("postPutPages",(function(t){(function(r,s){var i=!r;for(var l in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var u=r[l],h=[],g=u.Rect;if(u.Rect&&(u.Rect=Vq(u.Rect,s)),s.internal.newObjectDeferredBegin(u.objId,!0),u.DA=St.createDefaultAppearanceStream(u),en(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=g,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=Kq(u);h.push({key:"AP",value:"<</N "+p+">>"}),s.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var x="";for(var B in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(B)){var C=u.appearanceStreamContent[B];if(x+="/"+B+" ",x+="<<",Object.keys(C).length>=1||Array.isArray(C)){for(var l in C)if(C.hasOwnProperty(l)){var U=C[l];typeof U=="function"&&(U=U.call(s,u)),x+="/"+l+" "+U+" ",s.internal.acroformPlugin.xForms.indexOf(U)>=0||s.internal.acroformPlugin.xForms.push(U)}}else typeof(U=C)=="function"&&(U=U.call(s,u)),x+="/"+l+" "+U,s.internal.acroformPlugin.xForms.indexOf(U)>=0||s.internal.acroformPlugin.xForms.push(U);x+=">>"}h.push({key:"AP",value:`<<
`+x+">>"})}s.internal.putStream({additionalKeyValues:h,objectId:u.objId}),s.internal.out("endobj")}i&&Gq(s.internal.acroformPlugin.xForms,s)})(t,n)})),n.internal.acroformPlugin.isInitialized=!0}},zT=Gn.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var s="[",i=0;i<n.length;i++)switch(i!==0&&(s+=" "),en(n[i])){case"boolean":case"number":case"object":s+=n[i].toString();break;case"string":n[i].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+Id(r(n[i].toString()))+")"):s+=n[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},G2=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Id(r(n))+")"},Yo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yo.prototype.toString=function(){return this.objId+" 0 R"},Yo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Yo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter((function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"}));for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:zT(s,this.objId,this.scope)}):s instanceof Yo?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var qT=function(){Yo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ei(qT,Yo);var GT=function(){Yo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Id(t(n))+")"}},set:function(t){n=t}})};Ei(GT,Yo);var Ao=function n(){Yo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute F supplied.');e=F}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ts(e,3)},set:function(F){F?this.F=rs(e,3):this.F=ns(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute Ff supplied.');t=F}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(F){r=F!==void 0?F:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(F){r[0]=F}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(F){r[1]=F}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(F){r[2]=F}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(F){r[3]=F}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(F){switch(F){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=F;break;default:throw new Error('Invalid value "'+F+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof M1)return;i="FieldObject"+n.FieldNum++}var F=function(H){return H};return this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),"("+Id(F(i))+")"},set:function(F){i=F.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(F){i=F}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(F){l=F}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(F){u=F}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(F){h=F}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/a5:g},set:function(F){g=F}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(F){p=F}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof M1||this instanceof hd))return G2(x,this.objId,this.scope)},set:function(F){F=F.toString(),x=F}});var B=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(B)return this instanceof Gs?B:G2(B,this.objId,this.scope)},set:function(F){F=F.toString(),B=this instanceof Gs?F:F.substr(0,1)==="("?Bh(F.substr(1,F.length-2)):Bh(F)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gs?Bh(B.substr(1,B.length-1)):B},set:function(F){F=F.toString(),B=this instanceof Gs?"/"+F:F}});var C=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(C)return C},set:function(F){this.V=F}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof Gs?C:G2(C,this.objId,this.scope)},set:function(F){F=F.toString(),C=this instanceof Gs?F:F.substr(0,1)==="("?Bh(F.substr(1,F.length-2)):Bh(F)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gs?Bh(C.substr(1,C.length-1)):C},set:function(F){F=F.toString(),C=this instanceof Gs?"/"+F:F}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var U,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(F){F=!!F,E=F}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(U)return U},set:function(F){U=F}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,1)},set:function(F){F?this.Ff=rs(this.Ff,1):this.Ff=ns(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,2)},set:function(F){F?this.Ff=rs(this.Ff,2):this.Ff=ns(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,3)},set:function(F){F?this.Ff=rs(this.Ff,3):this.Ff=ns(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(F){if([0,1,2].indexOf(F)===-1)throw new Error('Invalid value "'+F+'" for attribute Q supplied.');P=F}}),Object.defineProperty(this,"textAlign",{get:function(){var F;switch(P){case 0:default:F="left";break;case 1:F="center";break;case 2:F="right"}return F},configurable:!0,enumerable:!0,set:function(F){switch(F){case"right":case 2:P=2;break;case"center":case 1:P=1;break;case"left":case 0:default:P=0}}})};Ei(Ao,Yo);var Kh=function(){Ao.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return zT(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(i,l,u){u||(u=1);for(var h,g=[];h=l.exec(i);)g.push(h[u]);return g})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,18)},set:function(t){t?this.Ff=rs(this.Ff,18):this.Ff=ns(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=rs(this.Ff,19):this.Ff=ns(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,20)},set:function(t){t?(this.Ff=rs(this.Ff,20),e.sort()):this.Ff=ns(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,22)},set:function(t){t?this.Ff=rs(this.Ff,22):this.Ff=ns(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,23)},set:function(t){t?this.Ff=rs(this.Ff,23):this.Ff=ns(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,27)},set:function(t){t?this.Ff=rs(this.Ff,27):this.Ff=ns(this.Ff,27)}}),this.hasAppearanceStream=!1};Ei(Kh,Ao);var zh=function(){Kh.call(this),this.fontName="helvetica",this.combo=!1};Ei(zh,Kh);var qh=function(){zh.call(this),this.combo=!0};Ei(qh,zh);var qp=function(){qh.call(this),this.edit=!0};Ei(qp,qh);var Gs=function(){Ao.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,15)},set:function(t){t?this.Ff=rs(this.Ff,15):this.Ff=ns(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,16)},set:function(t){t?this.Ff=rs(this.Ff,16):this.Ff=ns(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,17)},set:function(t){t?this.Ff=rs(this.Ff,17):this.Ff=ns(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,26)},set:function(t){t?this.Ff=rs(this.Ff,26):this.Ff=ns(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+Id(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){en(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ei(Gs,Ao);var Gp=function(){Gs.call(this),this.pushButton=!0};Ei(Gp,Gs);var Gh=function(){Gs.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ei(Gh,Gs);var M1=function(){var n,e;Ao.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(u){return u};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),r)l.push("/"+i+" ("+Id(s(r[i]))+")");return l.push(">>"),l.join(`
`)},set:function(s){en(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=St.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ei(M1,Ao),Gh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Gh.prototype.createOption=function(n){var e=new M1;return e.Parent=this,e.optionName=n,this.Kids.push(e),Yq.call(this.scope,e),e};var Xp=function(){Gs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=St.CheckBox.createAppearanceStream()};Ei(Xp,Gs);var hd=function(){Ao.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,13)},set:function(e){e?this.Ff=rs(this.Ff,13):this.Ff=ns(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,21)},set:function(e){e?this.Ff=rs(this.Ff,21):this.Ff=ns(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,23)},set:function(e){e?this.Ff=rs(this.Ff,23):this.Ff=ns(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,24)},set:function(e){e?this.Ff=rs(this.Ff,24):this.Ff=ns(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,25)},set:function(e){e?this.Ff=rs(this.Ff,25):this.Ff=ns(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,26)},set:function(e){e?this.Ff=rs(this.Ff,26):this.Ff=ns(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ei(hd,Ao);var Yp=function(){hd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ts(this.Ff,14)},set:function(n){n?this.Ff=rs(this.Ff,14):this.Ff=ns(this.Ff,14)}}),this.password=!0};Ei(Yp,hd);var St={CheckBox:{createAppearanceStream:function(){return{N:{On:St.CheckBox.YesNormal},D:{On:St.CheckBox.YesPushDown,Off:St.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ho(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),i=ww(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+ar(St.internal.getWidth(n))+" "+ar(St.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+ar(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ho(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],i=St.internal.getHeight(n),l=St.internal.getWidth(n),u=ww(n,n.caption);return s.push("1 g"),s.push("0 0 "+ar(l)+" "+ar(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+ar(l-1)+" "+ar(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+ar(u.fontSize)+" Tf "+r),s.push(u.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Ho(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ar(St.internal.getWidth(n))+" "+ar(St.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:St.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=St.RadioButton.Circle.YesNormal,e.D[n]=St.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ho(n);e.scope=n.scope;var t=[],r=St.internal.getWidth(n)<=St.internal.getHeight(n)?St.internal.getWidth(n)/4:St.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=St.internal.Bezier_C,i=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+zc(St.internal.getWidth(n)/2)+" "+zc(St.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),t.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),t.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),t.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ho(n);e.scope=n.scope;var t=[],r=St.internal.getWidth(n)<=St.internal.getHeight(n)?St.internal.getWidth(n)/4:St.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*St.internal.Bezier_C).toFixed(5)),l=Number((r*St.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+zc(St.internal.getWidth(n)/2)+" "+zc(St.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+zc(St.internal.getWidth(n)/2)+" "+zc(St.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ho(n);e.scope=n.scope;var t=[],r=St.internal.getWidth(n)<=St.internal.getHeight(n)?St.internal.getWidth(n)/4:St.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*St.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+zc(St.internal.getWidth(n)/2)+" "+zc(St.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:St.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=St.RadioButton.Cross.YesNormal,e.D[n]=St.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ho(n);e.scope=n.scope;var t=[],r=St.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+ar(St.internal.getWidth(n)-2)+" "+ar(St.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(ar(r.x1.x)+" "+ar(r.x1.y)+" m"),t.push(ar(r.x2.x)+" "+ar(r.x2.y)+" l"),t.push(ar(r.x4.x)+" "+ar(r.x4.y)+" m"),t.push(ar(r.x3.x)+" "+ar(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ho(n);e.scope=n.scope;var t=St.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+ar(St.internal.getWidth(n))+" "+ar(St.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ar(St.internal.getWidth(n)-2)+" "+ar(St.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(ar(t.x1.x)+" "+ar(t.x1.y)+" m"),r.push(ar(t.x2.x)+" "+ar(t.x2.y)+" l"),r.push(ar(t.x4.x)+" "+ar(t.x4.y)+" m"),r.push(ar(t.x3.x)+" "+ar(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ho(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+ar(St.internal.getWidth(n))+" "+ar(St.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};St.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=St.internal.getWidth(n),t=St.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},St.internal.getWidth=function(n){var e=0;return en(n)==="object"&&(e=rE(n.Rect[2])),e},St.internal.getHeight=function(n){var e=0;return en(n)==="object"&&(e=rE(n.Rect[3])),e};var Yq=Gn.addField=function(n){if(Xq(this,n),!(n instanceof Ao))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Gn.AcroFormChoiceField=Kh,Gn.AcroFormListBox=zh,Gn.AcroFormComboBox=qh,Gn.AcroFormEditBox=qp,Gn.AcroFormButton=Gs,Gn.AcroFormPushButton=Gp,Gn.AcroFormRadioButton=Gh,Gn.AcroFormCheckBox=Xp,Gn.AcroFormTextField=hd,Gn.AcroFormPasswordField=Yp,Gn.AcroFormAppearance=St,Gn.AcroForm={ChoiceField:Kh,ListBox:zh,ComboBox:qh,EditBox:qp,Button:Gs,PushButton:Gp,RadioButton:Gh,CheckBox:Xp,TextField:hd,PasswordField:Yp,Appearance:St},Kt.AcroForm={ChoiceField:Kh,ListBox:zh,ComboBox:qh,EditBox:qp,Button:Gs,PushButton:Gp,RadioButton:Gh,CheckBox:Xp,TextField:hd,PasswordField:Yp,Appearance:St};Kt.AcroForm;function XT(n){return n.reduce((function(e,t,r){return e[t]=r,e}),{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(I,k){var D,J,pe,te,ce,ne=e;if((k=k||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(se(I))for(ce in t)for(pe=t[ce],D=0;D<pe.length;D+=1){for(te=!0,J=0;J<pe[D].length;J+=1)if(pe[D][J]!==void 0&&pe[D][J]!==I[J]){te=!1;break}if(te===!0){ne=ce;break}}else for(ce in t)for(pe=t[ce],D=0;D<pe.length;D+=1){for(te=!0,J=0;J<pe[D].length;J+=1)if(pe[D][J]!==void 0&&pe[D][J]!==I.charCodeAt(J)){te=!1;break}if(te===!0){ne=ce;break}}return ne===e&&k!==e&&(ne=k),ne},s=function I(k){for(var D=this.internal.write,J=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:k.width}),te.push({key:"Height",value:k.height}),k.colorSpace===P.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===P.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var ce="",ne=0,he=k.transparency.length;ne<he;ne++)ce+=k.transparency[ne]+" "+k.transparency[ne]+" ";te.push({key:"Mask",value:"["+ce+"]"})}k.sMask!==void 0&&te.push({key:"SMask",value:k.objectId+1+" 0 R"});var we=k.filter!==void 0?["/"+k.filter]:void 0;if(J({data:k.data,additionalKeyValues:te,alreadyAppliedFilters:we,objectId:k.objectId}),D("endobj"),"sMask"in k&&k.sMask!==void 0){var Y="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,Q={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:Y,data:k.sMask};"filter"in k&&(Q.filter=k.filter),I.call(this,Q)}if(k.colorSpace===P.INDEXED){var M=this.internal.newObject();J({data:S(new Uint8Array(k.palette)),objectId:M}),D("endobj")}},i=function(){var I=this.internal.collections.addImage_images;for(var k in I)s.call(this,I[k])},l=function(){var I,k=this.internal.collections.addImage_images,D=this.internal.write;for(var J in k)D("/I"+(I=k[J]).index,I.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var I=this.internal.collections.addImage_images;return u.call(this),I},g=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(I){return typeof n["process"+I.toUpperCase()]=="function"},x=function(I){return en(I)==="object"&&I.nodeType===1},B=function(I,k){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var D=""+I.getAttribute("src");if(D.indexOf("data:image/")===0)return ng(unescape(D).split("base64,").pop());var J=n.loadFile(D,!0);if(J!==void 0)return J}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var pe;switch(k){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return ng(I.toDataURL(pe,1).split("base64,").pop())}},C=function(I){var k=this.internal.collections.addImage_images;if(k){for(var D in k)if(I===k[D].alias)return k[D]}},U=function(I,k,D){return I||k||(I=-96,k=-96),I<0&&(I=-1*D.width*72/I/this.internal.scaleFactor),k<0&&(k=-1*D.height*72/k/this.internal.scaleFactor),I===0&&(I=k*D.width/D.height),k===0&&(k=I*D.height/D.width),[I,k]},E=function(I,k,D,J,pe,te){var ce=U.call(this,D,J,pe),ne=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,we=h.call(this);if(D=ce[0],J=ce[1],we[pe.index]=pe,te){te*=Math.PI/180;var Y=Math.cos(te),Q=Math.sin(te),M=function(re){return re.toFixed(4)},z=[M(Y),M(Q),M(-1*Q),M(Y),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,ne(I),he(k+J),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([ne(D),"0","0",ne(J),"0","0","cm"].join(" "))):this.internal.write([ne(D),"0","0",ne(J),ne(I),he(k+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},P=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},H=n.__addimage__.sHashCode=function(I){var k,D,J=0;if(typeof I=="string")for(D=I.length,k=0;k<D;k++)J=(J<<5)-J+I.charCodeAt(k),J|=0;else if(se(I))for(D=I.byteLength/2,k=0;k<D;k++)J=(J<<5)-J+I[k],J|=0;return J},K=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var k=!0;return I.length===0&&(k=!1),I.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(k=!1),k},Ae=n.__addimage__.extractImageFromDataUrl=function(I){var k=(I=I||"").split("base64,"),D=null;if(k.length===2){var J=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(k[0]);Array.isArray(J)&&(D={mimeType:J[1],charset:J[2],data:k[1]})}return D},ae=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(I){return ae()&&I instanceof ArrayBuffer};var se=n.__addimage__.isArrayBufferView=function(I){return ae()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},j=n.__addimage__.binaryStringToUint8Array=function(I){for(var k=I.length,D=new Uint8Array(k),J=0;J<k;J++)D[J]=I.charCodeAt(J);return D},S=n.__addimage__.arrayBufferToBinaryString=function(I){for(var k="",D=se(I)?I:new Uint8Array(I),J=0;J<D.length;J+=8192)k+=String.fromCharCode.apply(null,D.subarray(J,J+8192));return k};n.addImage=function(){var I,k,D,J,pe,te,ce,ne,he;if(typeof arguments[1]=="number"?(k=e,D=arguments[1],J=arguments[2],pe=arguments[3],te=arguments[4],ce=arguments[5],ne=arguments[6],he=arguments[7]):(k=arguments[1],D=arguments[2],J=arguments[3],pe=arguments[4],te=arguments[5],ce=arguments[6],ne=arguments[7],he=arguments[8]),en(I=arguments[0])==="object"&&!x(I)&&"imageData"in I){var we=I;I=we.imageData,k=we.format||k||e,D=we.x||D||0,J=we.y||J||0,pe=we.w||we.width||pe,te=we.h||we.height||te,ce=we.alias||ce,ne=we.compression||ne,he=we.rotation||we.angle||he}var Y=this.internal.getFilters();if(ne===void 0&&Y.indexOf("FlateEncode")!==-1&&(ne="SLOW"),isNaN(D)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var Q=O.call(this,I,k,ce,ne);return E.call(this,D,J,pe,te,Q,he),this};var O=function(I,k,D,J){var pe,te,ce;if(typeof I=="string"&&r(I)===e){I=unescape(I);var ne=q(I,!1);(ne!==""||(ne=n.loadFile(I,!0))!==void 0)&&(I=ne)}if(x(I)&&(I=B(I,k)),k=r(I,k),!p(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((ce=D)==null||ce.length===0)&&(D=(function(he){return typeof he=="string"||se(he)?H(he):se(he.data)?H(he.data):null})(I)),(pe=C.call(this,D))||(ae()&&(I instanceof Uint8Array||k==="RGBA"||(te=I,I=j(I))),pe=this["process"+k.toUpperCase()](I,g.call(this),D,(function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in n.image_compression?he:F.NONE})(J),te)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},q=n.__addimage__.convertBase64ToBinaryString=function(I,k){var D;k=typeof k!="boolean"||k;var J,pe="";if(typeof I=="string"){J=(D=Ae(I))!==null?D.data:I;try{pe=ng(J)}catch(te){if(k)throw K(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return pe};n.getImageProperties=function(I){var k,D,J="";if(x(I)&&(I=B(I)),typeof I=="string"&&r(I)===e&&((J=q(I,!1))===""&&(J=n.loadFile(I)||""),I=J),D=r(I),!p(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!ae()||I instanceof Uint8Array||(I=j(I)),!(k=this["process"+D.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=D,k}})(Kt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Kt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,i,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),g=t.pageContext.annotations,p=!1,x=0;x<g.length&&!p;x++)switch((r=g[x]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var B=0;B<g.length;B++){r=g[B];var C=this.internal.pdfEscape,U=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),F=this.internal.getEncryptor(E.objId),H=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+C(F(r.contents))+")",i+=" /Popup "+P.objId+" 0 R",i+=" /P "+h.objId+" 0 R",i+=" /T ("+C(F(H))+") >>",E.content=i;var K=E.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+K,r.open&&(i+=" /Open true"),i+=" >>",P.content=i,this.internal.write(E.objId,"0 R",P.objId,"0 R");break;case"freetext":s="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var Ae=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+C(U(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Ae+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var ae=this.annotations._nameMap[r.options.name];r.options.pageNumber=ae.page,r.options.top=ae.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+C(U(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var se=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+se+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,i,l){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(t),y:g(r),w:h(t+s),h:g(r+i)},options:l,type:"link"})},n.textWithLink=function(t,r,s,i){var l,u,h=this.getTextWidth(t),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){u=i.maxWidth;var p=this.splitTextToSize(t,u).length;l=Math.ceil(g*p)}else u=h,l=g;return this.text(t,r,s,i),s+=.2*g,i.align==="center"&&(r-=h/2),i.align==="right"&&(r-=h),this.link(r,s-g,u,l,i),h},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Kt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var i=n.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},u=n.__arabicParser__.isArabicEndLetter=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(E){return l(E)&&s.indexOf(E.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length>=1};var g=n.__arabicParser__.arabicLetterHasFinalForm=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(E){return l(E)&&i(E)&&e[E.charCodeAt(0)].length==4},x=n.__arabicParser__.resolveLigatures=function(E){var P=0,F=t,H="",K=0;for(P=0;P<E.length;P+=1)F[E.charCodeAt(P)]!==void 0?(K++,typeof(F=F[E.charCodeAt(P)])=="number"&&(H+=String.fromCharCode(F),F=t,K=0),P===E.length-1&&(F=t,H+=E.charAt(P-(K-1)),P-=K-1,K=0)):(F=t,H+=E.charAt(P-K),P-=K,K=0);return H};n.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&r[E.charCodeAt(0)]!==void 0};var B=n.__arabicParser__.getCorrectForm=function(E,P,F){return l(E)?i(E)===!1?-1:!g(E)||!l(P)&&!l(F)||!l(F)&&u(P)||u(E)&&!l(P)||u(E)&&h(P)||u(E)&&u(P)?0:p(E)&&l(P)&&!u(P)&&l(F)&&g(F)?3:u(E)||!l(F)?1:2:-1},C=function(E){var P=0,F=0,H=0,K="",Ae="",ae="",se=(E=E||"").split("\\s+"),j=[];for(P=0;P<se.length;P+=1){for(j.push(""),F=0;F<se[P].length;F+=1)K=se[P][F],Ae=se[P][F-1],ae=se[P][F+1],l(K)?(H=B(K,Ae,ae),j[P]+=H!==-1?String.fromCharCode(e[K.charCodeAt(0)][H]):K):j[P]+=K;j[P]=x(j[P])}return j.join(" ")},U=n.__arabicParser__.processArabic=n.processArabic=function(){var E,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,F=[];if(Array.isArray(P)){var H=0;for(F=[],H=0;H<P.length;H+=1)Array.isArray(P[H])?F.push([C(P[H][0]),P[H][1],P[H][2]]):F.push([C(P[H])]);E=F}else E=C(P);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};n.events.push(["preProcessText",U])})(Kt.API),Kt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(u){i=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Kt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(E){h=E}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(E){x=E}});var B=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return B},set:function(E){B=E}});var C=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return C},set:function(E){C=E}});var U=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return U},set:function(E){U=E}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,g){r.call(this);var p=(g=g||{}).fontSize||this.getFontSize(),x=g.font||this.getFont(),B=g.scaleFactor||this.internal.scaleFactor,C=0,U=0,E=0,P=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var F=g.maxWidth;F>0?typeof h=="string"?h=this.splitTextToSize(h,F):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce((function(K,Ae){return K.concat(P.splitTextToSize(Ae,F))}),[])):h=Array.isArray(h)?h:[h];for(var H=0;H<h.length;H++)C<(E=this.getStringUnitWidth(h[H],{font:x})*p)&&(C=E);return C!==0&&(U=h.length),{w:C/=B,h:Math.max((U*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/B,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var h;h=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var g=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,B=this.internal.__cell__.tableHeaderRow,C=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===h.lineNumber?(h.x=(g.x||0)+(g.width||0),h.y=g.y||0):g.y+g.height+h.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=x.top,C&&B&&(this.printHeaderRow(h.lineNumber,!0),h.y+=B[0].height)):h.y=g.y+g.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};n.table=function(h,g,p,x,B){if(r.call(this),!p)throw new Error("No data for PDF table.");var C,U,E,P,F=[],H=[],K=[],Ae={},ae={},se=[],j=[],S=(B=B||{}).autoSize||!1,O=B.printHeaders!==!1,q=B.css&&B.css["font-size"]!==void 0?16*B.css["font-size"]:B.fontSize||12,I=B.margins||Object.assign({width:this.getPageWidth()},e),k=typeof B.padding=="number"?B.padding:3,D=B.headerBackgroundColor||"#c8c8c8",J=B.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=J,this.setFontSize(q),x==null)H=F=Object.keys(p[0]),K=F.map((function(){return"left"}));else if(Array.isArray(x)&&en(x[0])==="object")for(F=x.map((function(we){return we.name})),H=x.map((function(we){return we.prompt||we.name||""})),K=x.map((function(we){return we.align||"left"})),C=0;C<x.length;C+=1)ae[x[C].name]=x[C].width*(19.049976/25.4);else Array.isArray(x)&&typeof x[0]=="string"&&(H=F=x,K=F.map((function(){return"left"})));if(S||Array.isArray(x)&&typeof x[0]=="string")for(C=0;C<F.length;C+=1){for(Ae[P=F[C]]=p.map((function(we){return we[P]})),this.setFont(void 0,"bold"),se.push(this.getTextDimensions(H[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),U=Ae[P],this.setFont(void 0,"normal"),E=0;E<U.length;E+=1)se.push(this.getTextDimensions(U[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ae[P]=Math.max.apply(null,se)+k+k,se=[]}if(O){var pe={};for(C=0;C<F.length;C+=1)pe[F[C]]={},pe[F[C]].text=H[C],pe[F[C]].align=K[C];var te=u.call(this,pe,ae);j=F.map((function(we){return new i(h,g,ae[we],te,pe[we].text,void 0,pe[we].align)})),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var ce=x.reduce((function(we,Y){return we[Y.name]=Y.align,we}),{});for(C=0;C<p.length;C+=1){"rowStart"in B&&B.rowStart instanceof Function&&B.rowStart({row:C,data:p[C]},this);var ne=u.call(this,p[C],ae);for(E=0;E<F.length;E+=1){var he=p[C][F[E]];"cellStart"in B&&B.cellStart instanceof Function&&B.cellStart({row:C,col:E,data:he},this),l.call(this,new i(h,g,ae[F[E]],ne,he,C+2,ce[F[E]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=g,this};var u=function(h,g){var p=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,B=this.internal.scaleFactor;return Object.keys(h).map((function(C){var U=h[C];return this.splitTextToSize(U.hasOwnProperty("text")?U.text:U,g[C]-p-p)}),this).map((function(C){return this.getLineHeightFactor()*C.length*x/B+p+p}),this).reduce((function(C,U){return Math.max(C,U)}),0)};n.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,g){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var B=[],C=0;C<this.internal.__cell__.tableHeaderRow.length;C+=1){p=this.internal.__cell__.tableHeaderRow[C].clone(),g&&(p.y=this.internal.__cell__.margins.top||0,B.push(p)),p.lineNumber=h;var U=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(U)}B.length>0&&this.setTableHeaderRow(B),this.setFont(void 0,"normal"),t=!1}})(Kt.API);var YT={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$T=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vw=XT($T),JT=[100,200,300,400,500,600,700,800,900],$q=XT(JT);function Bw(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(i){return YT[i=i||"normal"]?i:"normal"})(n.style),r=(function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}})(n.weight),s=(function(i){return typeof vw[i=i||"normal"]=="number"?i:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function nE(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var Jq={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function aE(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Wq(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},Jq,t.genericFontFamilies||{}),i=null,l=null,u=0;u<e.length;++u)if(s[(i=Bw(e[u])).family]&&(i.family=s[i.family]),n.hasOwnProperty(i.family)){l=n[i.family];break}if(!(l=l||n[r]))throw new Error("Could not find a font-family for the rule '"+aE(i)+"' and default family '"+r+"'.");if(l=(function(h,g){if(g[h])return g[h];var p=vw[h],x=p<=vw.normal?-1:1,B=nE(g,$T,p,x);if(!B)throw new Error("Could not find a matching font-stretch value for "+h);return B})(i.stretch,l),l=(function(h,g){if(g[h])return g[h];for(var p=YT[h],x=0;x<p.length;++x)if(g[p[x]])return g[p[x]];throw new Error("Could not find a matching font-style for "+h)})(i.style,l),!(l=(function(h,g){if(g[h])return g[h];if(h===400&&g[500])return g[500];if(h===500&&g[400])return g[400];var p=$q[h],x=nE(g,JT,p,h<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+h);return x})(i.weight,l)))throw new Error("Failed to resolve a font for the rule '"+aE(i)+"'.");return l}function iE(n){return n.trimLeft()}function Zq(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function eG(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Cp,AE,oE,X2=["times"];(function(n){var e,t,r,s,i,l,u,h,g,p=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new h,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new l,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new l,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,g=new p}]);var x=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=Q;Object.defineProperty(this,"pdf",{get:function(){return M}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Ee){z=!!Ee}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(Ee){re=!!Ee}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Ee){isNaN(Ee)||(ue=Ee)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(Ee){isNaN(Ee)||(me=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(Ee){var oe;typeof Ee=="number"?oe=[Ee,Ee,Ee,Ee]:((oe=new Array(4))[0]=Ee[0],oe[1]=Ee.length>=2?Ee[1]:oe[0],oe[2]=Ee.length>=3?Ee[2]:oe[0],oe[3]=Ee.length>=4?Ee[3]:oe[1]),g.margin=oe}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(Ee){Ne=Ee}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(Ee){de=Ee}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(Ee){Oe=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(Ee){Ee instanceof p&&(g=Ee)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(Ee){g.path=Ee}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(Ee){Re=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var oe;oe=B(Ee),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var oe=B(Ee);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var et=null;function tt(Ee,oe){if(et===null){var At=(function(ft){var Ve=[];return Object.keys(ft).forEach((function(Je){ft[Je].forEach((function(nt){var at=null;switch(nt){case"bold":at={family:Je,weight:"bold"};break;case"italic":at={family:Je,style:"italic"};break;case"bolditalic":at={family:Je,weight:"bold",style:"italic"};break;case"":case"normal":at={family:Je}}at!==null&&(at.ref={name:Je,style:nt},Ve.push(at))}))})),Ve})(Ee.getFontList());et=(function(ft){for(var Ve={},Je=0;Je<ft.length;++Je){var nt=Bw(ft[Je]),at=nt.family,Nt=nt.stretch,_t=nt.style,Mt=nt.weight;Ve[at]=Ve[at]||{},Ve[at][Nt]=Ve[at][Nt]||{},Ve[at][Nt][_t]=Ve[at][Nt][_t]||{},Ve[at][Nt][_t][Mt]=nt}return Ve})(At.concat(oe))}return et}var mt=null;Object.defineProperty(this,"fontFaces",{get:function(){return mt},set:function(Ee){et=null,mt=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var oe;if(this.ctx.font=Ee,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var At=oe[1],ft=(oe[2],oe[3]),Ve=oe[4],Je=(oe[5],oe[6]),nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ve)[2];Ve=Math.floor(nt==="px"?parseFloat(Ve)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(Ve)*this.pdf.getFontSize():parseFloat(Ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ve);var at=(function(kt){var Pt,ot,rn=[],Qe=kt.trim();if(Qe==="")return X2;if(Qe in sE)return[sE[Qe]];for(;Qe!=="";){switch(ot=null,Pt=(Qe=iE(Qe)).charAt(0)){case'"':case"'":ot=Zq(Qe.substring(1),Pt);break;default:ot=eG(Qe)}if(ot===null||(rn.push(ot[0]),(Qe=iE(ot[1]))!==""&&Qe.charAt(0)!==","))return X2;Qe=Qe.replace(/^,/,"")}return rn})(Je);if(this.fontFaces){var Nt=Wq(tt(this.pdf,this.fontFaces),at.map((function(kt){return{family:kt,stretch:"normal",weight:ft,style:At}})));this.pdf.setFont(Nt.ref.name,Nt.ref.style)}else{var _t="";(ft==="bold"||parseInt(ft,10)>=700||At==="bold")&&(_t="bold"),At==="italic"&&(_t+="italic"),_t.length===0&&(_t="normal");for(var Mt="",Gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Xt=0;Xt<at.length;Xt++){if(this.pdf.internal.getFont(at[Xt],_t,{noFallback:!0,disableWarning:!0})!==void 0){Mt=at[Xt];break}if(_t==="bolditalic"&&this.pdf.internal.getFont(at[Xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mt=at[Xt],_t="bold";else if(this.pdf.internal.getFont(at[Xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mt=at[Xt],_t="normal";break}}if(Mt===""){for(var ir=0;ir<at.length;ir++)if(Gt[at[ir]]){Mt=Gt[at[ir]];break}}Mt=Mt===""?"Times":Mt,this.pdf.setFont(Mt,_t)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};x.prototype.setLineDash=function(Q){this.lineDash=Q},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){Ae.call(this,"fill",!1)},x.prototype.stroke=function(){Ae.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(Q,M){if(isNaN(Q)||isNaN(M))throw fn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new l(Q,M));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new l(Q,M)},x.prototype.closePath=function(){var Q=new l(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&en(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){Q=new l(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(Q.x,Q.y)},x.prototype.lineTo=function(Q,M){if(isNaN(Q)||isNaN(M))throw fn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new l(Q,M));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new l(z.x,z.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Ae.call(this,null,!0)},x.prototype.quadraticCurveTo=function(Q,M,z,re){if(isNaN(z)||isNaN(re)||isNaN(Q)||isNaN(M))throw fn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new l(z,re)),me=this.ctx.transform.applyToPoint(new l(Q,M));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new l(ue.x,ue.y)},x.prototype.bezierCurveTo=function(Q,M,z,re,ue,me){if(isNaN(ue)||isNaN(me)||isNaN(Q)||isNaN(M)||isNaN(z)||isNaN(re))throw fn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new l(ue,me)),de=this.ctx.transform.applyToPoint(new l(Q,M)),Oe=this.ctx.transform.applyToPoint(new l(z,re));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:Oe.x,y2:Oe.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new l(Ne.x,Ne.y)},x.prototype.arc=function(Q,M,z,re,ue,me){if(isNaN(Q)||isNaN(M)||isNaN(z)||isNaN(re)||isNaN(ue))throw fn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new l(Q,M));Q=Ne.x,M=Ne.y;var de=this.ctx.transform.applyToPoint(new l(0,z)),Oe=this.ctx.transform.applyToPoint(new l(0,0));z=Math.sqrt(Math.pow(de.x-Oe.x,2)+Math.pow(de.y-Oe.y,2))}Math.abs(ue-re)>=2*Math.PI&&(re=0,ue=2*Math.PI),this.path.push({type:"arc",x:Q,y:M,radius:z,startAngle:re,endAngle:ue,counterclockwise:me})},x.prototype.arcTo=function(Q,M,z,re,ue){throw new Error("arcTo not implemented.")},x.prototype.rect=function(Q,M,z,re){if(isNaN(Q)||isNaN(M)||isNaN(z)||isNaN(re))throw fn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,M),this.lineTo(Q+z,M),this.lineTo(Q+z,M+re),this.lineTo(Q,M+re),this.lineTo(Q,M),this.lineTo(Q+z,M),this.lineTo(Q,M)},x.prototype.fillRect=function(Q,M,z,re){if(isNaN(Q)||isNaN(M)||isNaN(z)||isNaN(re))throw fn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!C.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,M,z,re),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},x.prototype.strokeRect=function(Q,M,z,re){if(isNaN(Q)||isNaN(M)||isNaN(z)||isNaN(re))throw fn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");U.call(this)||(this.beginPath(),this.rect(Q,M,z,re),this.stroke())},x.prototype.clearRect=function(Q,M,z,re){if(isNaN(Q)||isNaN(M)||isNaN(z)||isNaN(re))throw fn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,M,z,re))},x.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},x.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(M),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var B=function(Q){var M,z,re,ue;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))M=0,z=0,re=0,ue=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(me!==null)M=parseInt(me[1]),z=parseInt(me[2]),re=parseInt(me[3]),ue=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)M=parseInt(me[1]),z=parseInt(me[2]),re=parseInt(me[3]),ue=parseFloat(me[4]);else{if(ue=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var Ne=new HT(Q);Q=Ne.ok?Ne.toHex():"#000000"}Q.length===4?(M=Q.substring(1,2),M+=M,z=Q.substring(2,3),z+=z,re=Q.substring(3,4),re+=re):(M=Q.substring(1,3),z=Q.substring(3,5),re=Q.substring(5,7)),M=parseInt(M,16),z=parseInt(z,16),re=parseInt(re,16)}}return{r:M,g:z,b:re,a:ue,style:Q}},C=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},U=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(Q,M,z,re){if(isNaN(M)||isNaN(z)||typeof Q!="string")throw fn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!C.call(this)){var ue=ne(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;k.call(this,{text:Q,x:M,y:z,scale:me,angle:ue,align:this.textAlign,maxWidth:re})}},x.prototype.strokeText=function(Q,M,z,re){if(isNaN(M)||isNaN(z)||typeof Q!="string")throw fn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!U.call(this)){re=isNaN(re)?void 0:re;var ue=ne(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;k.call(this,{text:Q,x:M,y:z,scale:me,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:re})}},x.prototype.measureText=function(Q){if(typeof Q!="string")throw fn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,z=this.pdf.internal.scaleFactor,re=M.internal.getFontSize(),ue=M.getStringUnitWidth(Q)*re/M.internal.scaleFactor,me=function(Ne){var de=(Ne=Ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new me({width:ue*=Math.round(96*z/72*1e4)/1e4})},x.prototype.scale=function(Q,M){if(isNaN(Q)||isNaN(M))throw fn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new h(Q,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},x.prototype.rotate=function(Q){if(isNaN(Q))throw fn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new h(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},x.prototype.translate=function(Q,M){if(isNaN(Q)||isNaN(M))throw fn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new h(1,0,0,1,Q,M);this.ctx.transform=this.ctx.transform.multiply(z)},x.prototype.transform=function(Q,M,z,re,ue,me){if(isNaN(Q)||isNaN(M)||isNaN(z)||isNaN(re)||isNaN(ue)||isNaN(me))throw fn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new h(Q,M,z,re,ue,me);this.ctx.transform=this.ctx.transform.multiply(Ne)},x.prototype.setTransform=function(Q,M,z,re,ue,me){Q=isNaN(Q)?1:Q,M=isNaN(M)?0:M,z=isNaN(z)?0:z,re=isNaN(re)?1:re,ue=isNaN(ue)?0:ue,me=isNaN(me)?0:me,this.ctx.transform=new h(Q,M,z,re,ue,me)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(Q,M,z,re,ue,me,Ne,de,Oe){var Re=this.pdf.getImageProperties(Q),et=1,tt=1,mt=1,Ee=1;re!==void 0&&de!==void 0&&(mt=de/re,Ee=Oe/ue,et=Re.width/re*de/re,tt=Re.height/ue*Oe/ue),me===void 0&&(me=M,Ne=z,M=0,z=0),re!==void 0&&de===void 0&&(de=re,Oe=ue),re===void 0&&de===void 0&&(de=Re.width,Oe=Re.height);for(var oe,At=this.ctx.transform.decompose(),ft=ne(At.rotate.shx),Ve=new h,Je=(Ve=(Ve=(Ve=Ve.multiply(At.translate)).multiply(At.skew)).multiply(At.scale)).applyToRectangle(new u(me-M*mt,Ne-z*Ee,re*et,ue*tt)),nt=P.call(this,Je),at=[],Nt=0;Nt<nt.length;Nt+=1)at.indexOf(nt[Nt])===-1&&at.push(nt[Nt]);if(K(at),this.autoPaging)for(var _t=at[0],Mt=at[at.length-1],Gt=_t;Gt<Mt+1;Gt++){this.pdf.setPage(Gt);var Xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ir=Gt===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Gt===1?0:kt+(Gt-2)*Pt;if(this.ctx.clip_path.length!==0){var rn=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(oe,this.posX+this.margin[3],-ot+ir+this.ctx.prevPageLastElemOffset),ae.call(this,"fill",!0),this.path=rn}var Qe=JSON.parse(JSON.stringify(Je));Qe=H([Qe],this.posX+this.margin[3],-ot+ir+this.ctx.prevPageLastElemOffset)[0];var Ut=(Gt>_t||Gt<Mt)&&E.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,Pt,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,ft),Ut&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,ft)};var P=function(Q,M,z){var re=[];M=M||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":re.push(Math.floor((Q.y+ue)/z)+1);break;case"arc":re.push(Math.floor((Q.y+ue-Q.radius)/z)+1),re.push(Math.floor((Q.y+ue+Q.radius)/z)+1);break;case"qct":var me=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);re.push(Math.floor((me.y+ue)/z)+1),re.push(Math.floor((me.y+me.h+ue)/z)+1);break;case"bct":var Ne=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);re.push(Math.floor((Ne.y+ue)/z)+1),re.push(Math.floor((Ne.y+Ne.h+ue)/z)+1);break;case"rect":re.push(Math.floor((Q.y+ue)/z)+1),re.push(Math.floor((Q.y+Q.h+ue)/z)+1)}for(var de=0;de<re.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<re[de];)F.call(this);return re},F=function(){var Q=this.fillStyle,M=this.strokeStyle,z=this.font,re=this.lineCap,ue=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=M,this.font=z,this.lineCap=re,this.lineWidth=ue,this.lineJoin=me},H=function(Q,M,z){for(var re=0;re<Q.length;re++)switch(Q[re].type){case"bct":Q[re].x2+=M,Q[re].y2+=z;case"qct":Q[re].x1+=M,Q[re].y1+=z;case"mt":case"lt":case"arc":default:Q[re].x+=M,Q[re].y+=z}return Q},K=function(Q){return Q.sort((function(M,z){return M-z}))},Ae=function(Q,M){for(var z,re,ue=this.fillStyle,me=this.strokeStyle,Ne=this.lineCap,de=this.lineWidth,Oe=Math.abs(de*this.ctx.transform.scaleX),Re=this.lineJoin,et=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),mt=[],Ee=0;Ee<tt.length;Ee++)if(tt[Ee].x!==void 0)for(var oe=P.call(this,tt[Ee]),At=0;At<oe.length;At+=1)mt.indexOf(oe[At])===-1&&mt.push(oe[At]);for(var ft=0;ft<mt.length;ft++)for(;this.pdf.internal.getNumberOfPages()<mt[ft];)F.call(this);if(K(mt),this.autoPaging)for(var Ve=mt[0],Je=mt[mt.length-1],nt=Ve;nt<Je+1;nt++){this.pdf.setPage(nt),this.fillStyle=ue,this.strokeStyle=me,this.lineCap=Ne,this.lineWidth=Oe,this.lineJoin=Re;var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=nt===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gt=nt===1?0:_t+(nt-2)*Mt;if(this.ctx.clip_path.length!==0){var Xt=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(z,this.posX+this.margin[3],-Gt+Nt+this.ctx.prevPageLastElemOffset),ae.call(this,Q,!0),this.path=Xt}if(re=JSON.parse(JSON.stringify(et)),this.path=H(re,this.posX+this.margin[3],-Gt+Nt+this.ctx.prevPageLastElemOffset),M===!1||nt===0){var ir=(nt>Ve||nt<Je)&&E.call(this);ir&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Mt,null).clip().discardPath()),ae.call(this,Q,M),ir&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=Oe,ae.call(this,Q,M),this.lineWidth=de;this.path=et},ae=function(Q,M){if((Q!=="stroke"||M||!U.call(this))&&(Q==="stroke"||M||!C.call(this))){for(var z,re,ue=[],me=this.path,Ne=0;Ne<me.length;Ne++){var de=me[Ne];switch(de.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:de,deltas:[],abs:[]});break;case"lt":var Oe=ue.length;if(me[Ne-1]&&!isNaN(me[Ne-1].x)&&(z=[de.x-me[Ne-1].x,de.y-me[Ne-1].y],Oe>0)){for(;Oe>=0;Oe--)if(ue[Oe-1].close!==!0&&ue[Oe-1].begin!==!0){ue[Oe-1].deltas.push(z),ue[Oe-1].abs.push(de);break}}break;case"bct":z=[de.x1-me[Ne-1].x,de.y1-me[Ne-1].y,de.x2-me[Ne-1].x,de.y2-me[Ne-1].y,de.x-me[Ne-1].x,de.y-me[Ne-1].y],ue[ue.length-1].deltas.push(z);break;case"qct":var Re=me[Ne-1].x+2/3*(de.x1-me[Ne-1].x),et=me[Ne-1].y+2/3*(de.y1-me[Ne-1].y),tt=de.x+2/3*(de.x1-de.x),mt=de.y+2/3*(de.y1-de.y),Ee=de.x,oe=de.y;z=[Re-me[Ne-1].x,et-me[Ne-1].y,tt-me[Ne-1].x,mt-me[Ne-1].y,Ee-me[Ne-1].x,oe-me[Ne-1].y],ue[ue.length-1].deltas.push(z);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(de)}}re=M?null:Q==="stroke"?"stroke":"fill";for(var At=!1,ft=0;ft<ue.length;ft++)if(ue[ft].arc)for(var Ve=ue[ft].abs,Je=0;Je<Ve.length;Je++){var nt=Ve[Je];nt.type==="arc"?S.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,M,!At):D.call(this,nt.x,nt.y),At=!0}else if(ue[ft].close===!0)this.pdf.internal.out("h"),At=!1;else if(ue[ft].begin!==!0){var at=ue[ft].start.x,Nt=ue[ft].start.y;J.call(this,ue[ft].deltas,at,Nt),At=!0}re&&O.call(this,re),M&&q.call(this)}},se=function(Q){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-z;case"top":return Q+M-z;case"hanging":return Q+M-2*z;case"middle":return Q+M/2-z;case"ideographic":return Q;case"alphabetic":default:return Q}},j=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(M,z){this.colorStops.push([M,z])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(Q,M,z,re,ue,me,Ne,de,Oe){for(var Re=te.call(this,z,re,ue,me),et=0;et<Re.length;et++){var tt=Re[et];et===0&&(Oe?I.call(this,tt.x1+Q,tt.y1+M):D.call(this,tt.x1+Q,tt.y1+M)),pe.call(this,Q,M,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}de?q.call(this):O.call(this,Ne)},O=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(Q,M){this.pdf.internal.out(t(Q)+" "+r(M)+" m")},k=function(Q){var M;switch(Q.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var z=this.pdf.getTextDimensions(Q.text),re=se.call(this,Q.y),ue=j.call(this,re)-z.h,me=this.ctx.transform.applyToPoint(new l(Q.x,re)),Ne=this.ctx.transform.decompose(),de=new h;de=(de=(de=de.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var Oe,Re,et,tt=this.ctx.transform.applyToRectangle(new u(Q.x,re,z.w,z.h)),mt=de.applyToRectangle(new u(Q.x,ue,z.w,z.h)),Ee=P.call(this,mt),oe=[],At=0;At<Ee.length;At+=1)oe.indexOf(Ee[At])===-1&&oe.push(Ee[At]);if(K(oe),this.autoPaging)for(var ft=oe[0],Ve=oe[oe.length-1],Je=ft;Je<Ve+1;Je++){this.pdf.setPage(Je);var nt=Je===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[2],_t=Nt-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],Gt=Mt-this.margin[3],Xt=Je===1?0:at+(Je-2)*_t;if(this.ctx.clip_path.length!==0){var ir=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(Oe,this.posX+this.margin[3],-1*Xt+nt),ae.call(this,"fill",!0),this.path=ir}var kt=H([JSON.parse(JSON.stringify(mt))],this.posX+this.margin[3],-Xt+nt+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*Q.scale),et=this.lineWidth,this.lineWidth=et*Q.scale);var Pt=this.autoPaging!=="text";if(Pt||kt.y+kt.h<=Nt){if(Pt||kt.y>=nt&&kt.x<=Mt){var ot=Pt?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||Mt-kt.x)[0],rn=H([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-Xt+nt+this.ctx.prevPageLastElemOffset)[0],Qe=Pt&&(Je>ft||Je<Ve)&&E.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,_t,null).clip().discardPath()),this.pdf.text(ot,rn.x,rn.y,{angle:Q.angle,align:M,renderingMode:Q.renderingMode}),Qe&&this.pdf.restoreGraphicsState()}}else kt.y<Nt&&(this.ctx.prevPageLastElemOffset+=Nt-kt.y);Q.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=et)}else Q.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*Q.scale),et=this.lineWidth,this.lineWidth=et*Q.scale),this.pdf.text(Q.text,me.x+this.posX,me.y+this.posY,{angle:Q.angle,align:M,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=et)},D=function(Q,M,z,re){z=z||0,re=re||0,this.pdf.internal.out(t(Q+z)+" "+r(M+re)+" l")},J=function(Q,M,z){return this.pdf.lines(Q,M,z,null,null)},pe=function(Q,M,z,re,ue,me,Ne,de){this.pdf.internal.out([e(s(z+Q)),e(i(re+M)),e(s(ue+Q)),e(i(me+M)),e(s(Ne+Q)),e(i(de+M)),"c"].join(" "))},te=function(Q,M,z,re){for(var ue=2*Math.PI,me=Math.PI/2;M>z;)M-=ue;var Ne=Math.abs(z-M);Ne<ue&&re&&(Ne=ue-Ne);for(var de=[],Oe=re?-1:1,Re=M;Ne>1e-5;){var et=Re+Oe*Math.min(Ne,me);de.push(ce.call(this,Q,Re,et)),Ne-=Math.abs(et-Re),Re=et}return de},ce=function(Q,M,z){var re=(z-M)/2,ue=Q*Math.cos(re),me=Q*Math.sin(re),Ne=ue,de=-me,Oe=Ne*Ne+de*de,Re=Oe+Ne*ue+de*me,et=4/3*(Math.sqrt(2*Oe*Re)-Re)/(Ne*me-de*ue),tt=Ne-et*de,mt=de+et*Ne,Ee=tt,oe=-mt,At=re+M,ft=Math.cos(At),Ve=Math.sin(At);return{x1:Q*Math.cos(M),y1:Q*Math.sin(M),x2:tt*ft-mt*Ve,y2:tt*Ve+mt*ft,x3:Ee*ft-oe*Ve,y3:Ee*Ve+oe*ft,x4:Q*Math.cos(z),y4:Q*Math.sin(z)}},ne=function(Q){return 180*Q/Math.PI},he=function(Q,M,z,re,ue,me){var Ne=Q+.5*(z-Q),de=M+.5*(re-M),Oe=ue+.5*(z-ue),Re=me+.5*(re-me),et=Math.min(Q,ue,Ne,Oe),tt=Math.max(Q,ue,Ne,Oe),mt=Math.min(M,me,de,Re),Ee=Math.max(M,me,de,Re);return new u(et,mt,tt-et,Ee-mt)},we=function(Q,M,z,re,ue,me,Ne,de){var Oe,Re,et,tt,mt,Ee,oe,At,ft,Ve,Je,nt,at,Nt,_t=z-Q,Mt=re-M,Gt=ue-z,Xt=me-re,ir=Ne-ue,kt=de-me;for(Re=0;Re<41;Re++)ft=(oe=(et=Q+(Oe=Re/40)*_t)+Oe*((mt=z+Oe*Gt)-et))+Oe*(mt+Oe*(ue+Oe*ir-mt)-oe),Ve=(At=(tt=M+Oe*Mt)+Oe*((Ee=re+Oe*Xt)-tt))+Oe*(Ee+Oe*(me+Oe*kt-Ee)-At),Re==0?(Je=ft,nt=Ve,at=ft,Nt=Ve):(Je=Math.min(Je,ft),nt=Math.min(nt,Ve),at=Math.max(at,ft),Nt=Math.max(Nt,Ve));return new u(Math.round(Je),Math.round(nt),Math.round(at-Je),Math.round(Nt-nt))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,M,z=(Q=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:M}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(Kt.API),(function(n){var e=function(i){var l,u,h,g,p,x,B,C,U,E;for(u=[],h=0,g=(i+=l="\0\0\0\0".slice(i.length%4||4)).length;g>h;h+=4)(p=(i.charCodeAt(h)<<24)+(i.charCodeAt(h+1)<<16)+(i.charCodeAt(h+2)<<8)+i.charCodeAt(h+3))!==0?(x=(p=((p=((p=((p=(p-(E=p%85))/85)-(U=p%85))/85)-(C=p%85))/85)-(B=p%85))/85)%85,u.push(x+33,B+33,C+33,U+33,E+33)):u.push(122);return(function(P,F){for(var H=F;H>0;H--)P.pop()})(u,l.length),String.fromCharCode.apply(String,u)+"~>"},t=function(i){var l,u,h,g,p,x=String,B="length",C=255,U="charCodeAt",E="slice",P="replace";for(i[E](-2),i=i[E](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),h=[],g=0,p=(i+=l="uuuuu"[E](i[B]%5||5))[B];p>g;g+=5)u=52200625*(i[U](g)-33)+614125*(i[U](g+1)-33)+7225*(i[U](g+2)-33)+85*(i[U](g+3)-33)+(i[U](g+4)-33),h.push(C&u>>24,C&u>>16,C&u>>8,C&u);return(function(F,H){for(var K=H;K>0;K--)F.pop()})(h,l[B]),x.fromCharCode.apply(x,h)},r=function(i){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),l.test(i)===!1)return"";for(var u="",h=0;h<i.length;h+=2)u+=String.fromCharCode("0x"+(i[h]+i[h+1]));return u},s=function(i){for(var l=new Uint8Array(i.length),u=i.length;u--;)l[u]=i.charCodeAt(u);return i=(l=pw(l)).reduce((function(h,g){return h+String.fromCharCode(g)}),"")};n.processDataByFilters=function(i,l){var u=0,h=i||"",g=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=r(h),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map((function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)})).join("")+">",g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:h,reverseChain:g.reverse().join(" ")}}})(Kt.API),(function(n){n.loadFile=function(e,t,r){return(function(s,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=(function(h,g,p){var x=new XMLHttpRequest,B=0,C=function(U){var E=U.length,P=[],F=String.fromCharCode;for(B=0;B<E;B+=1)P.push(F(255&U.charCodeAt(B)));return P.join("")};if(x.open("GET",h,!g),x.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(x.onload=function(){x.status===200?p(C(this.responseText)):p(void 0)}),x.send(null),g&&x.status===200)return C(x.responseText)})(s,i,l)}catch{}return u})(e,t,r)},n.loadImageFile=n.loadFile})(Kt.API),(function(n){function e(){return(zt.html2canvas?Promise.resolve(zt.html2canvas):dw(()=>Promise.resolve().then(()=>xq),void 0,import.meta.url)).catch((function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))})).then((function(l){return l.default?l.default:l}))}function t(){return(zt.DOMPurify?Promise.resolve(zt.DOMPurify):dw(()=>import("./purify.es-C_uT9hQ1.js"),[],import.meta.url)).catch((function(l){return Promise.reject(new Error("Could not load dompurify: "+l))})).then((function(l){return l.default?l.default:l}))}var r=function(l){var u=en(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},s=function(l,u){var h=document.createElement(l);for(var g in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[g]=u.style[g];return h},i=function l(u){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),g=l.convert(Promise.resolve(),h);return g=(g=g.setProgress(1,l,1,[l])).set(u)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(l,u){return l.__proto__=u||i.prototype,l},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(l,u){return this.then((function(){switch(u=u||(function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l)){case"string":return this.then(t).then((function(h){return this.set({src:s("div",{innerHTML:l,dompurify:h})})}));case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}}))},i.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=(function h(g,p){for(var x=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),B=g.firstChild;B;B=B.nextSibling)p!==!0&&B.nodeType===1&&B.nodeName==="SCRIPT"||x.appendChild(h(B,p));return g.nodeType===1&&(g.nodeName==="CANVAS"?(x.width=g.width,x.height=g.height,x.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(x.value=g.value),x.addEventListener("load",(function(){x.scrollTop=g.scrollTop,x.scrollLeft=g.scrollLeft}),!0)),x})(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},i.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then((function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)})).then((function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)}))},i.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then((function(u){var h=this.opt.jsPDF,g=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=g,g)for(var B=0;B<g.length;++B){var C=g[B],U=C.src.find((function(E){return E.format==="truetype"}));U&&h.addFont(U.url,C.ref.name,C.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,h.context2d.save(!0),u(this.prop.container,x)})).then((function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)}))},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l}))},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},i.prototype.output=function(l,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},i.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(l,u)}))},i.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}}))},i.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},i.prototype.set=function(l){if(r(l)!=="object")return this;var u=Object.keys(l||{}).map((function(h){if(h in i.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}}),this);return this.then((function(){return this.thenList(u)}))},i.prototype.get=function(l,u){return this.then((function(){var h=l in i.template.prop?this.prop[l]:this.opt[l];return u?u(h):h}))},i.prototype.setMargin=function(l){return this.then((function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l})).then(this.setPageSize)},i.prototype.setPageSize=function(l){function u(h,g){return Math.floor(h*g/72*96)}return this.then((function(){(l=l||Kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l}))},i.prototype.setProgress=function(l,u,h,g){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(l,u,h,g){return this.setProgress(l?this.progress.val+l:null,u||null,h?this.progress.n+h:null,g?this.progress.stack.concat(g):null)},i.prototype.then=function(l,u){var h=this;return this.thenCore(l,u,(function(g,p){return h.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,(function(x){return h.updateProgress(null,g),x})).then(g,p).then((function(x){return h.updateProgress(1),x}))}))},i.prototype.thenCore=function(l,u,h){h=h||Promise.prototype.then,l&&(l=l.bind(this)),u&&(u=u.bind(this));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),p=h.call(g,l,u);return i.convert(p,this.__proto__)},i.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},i.prototype.thenList=function(l){var u=this;return l.forEach((function(h){u=u.thenCore(h)})),u},i.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return i.convert(u,this)},i.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},i.prototype.error=function(l){return this.then((function(){throw new Error(l)}))},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Kt.getPageSize=function(l,u,h){if(en(l)==="object"){var g=l;l=g.orientation,u=g.unit||u,h=g.format||h}u=u||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var p,x=(""+h).toLowerCase(),B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+u}var C,U=0,E=0;if(B.hasOwnProperty(x))U=B[x][1]/p,E=B[x][0]/p;else try{U=h[1],E=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",E>U&&(C=E,E=U,U=C);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",U>E&&(C=E,E=U,U=C)}return{width:E,height:U,unit:u,k:p,orientation:l}},n.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Bw):null;var h=new i(u);return u.worker?h:h.from(l).doCallback()}})(Kt.API),Kt.API.addJS=function(n){return oE=n,this.internal.events.subscribe("postPutResources",(function(){Cp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Cp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),AE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+oE+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Cp!==void 0&&AE!==void 0&&this.internal.out("/Names <</JavaScript "+Cp+" 0 R>>")})),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var l=s[i],u=r.exec(l);if(u!=null){var h=u[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,p=[];for(i=0;i<g;i++){var x=t.internal.newObject();p.push(x);var B=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+B.objId+" 0 R /XYZ null null null]>> endobj")}var C=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<p.length;i++)t.internal.write("(page_"+(i+1)+")"+p[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+C+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,i){var l={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var l=r.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var h=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var g=0;g<r.children.length;g++)this.renderItems(r.children[g])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])})(Kt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,i,l,u){var h,g=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(h=(function(x){for(var B,C=256*x.charCodeAt(4)+x.charCodeAt(5),U=x.length,E={width:0,height:0,numcomponents:1},P=4;P<U;P+=2){if(P+=C,e.indexOf(x.charCodeAt(P+1))!==-1){B=256*x.charCodeAt(P+5)+x.charCodeAt(P+6),E={width:256*x.charCodeAt(P+7)+x.charCodeAt(P+8),height:B,numcomponents:x.charCodeAt(P+9)};break}C=256*x.charCodeAt(P+2)+x.charCodeAt(P+3)}return E})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:t,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:g,index:r,alias:s}}return p}})(Kt.API);var Ch,Np,lE,cE,uE,tG=(function(){var n,e,t;function r(i){var l,u,h,g,p,x,B,C,U,E,P,F,H,K;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(l=this.readUInt32(),U=(function(){var Ae,ae;for(ae=[],Ae=0;Ae<4;++Ae)ae.push(String.fromCharCode(this.data[this.pos++]));return ae}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),g=this.readUInt16()||100,x.delay=1e3*p/g,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for(U==="fdAT"&&(this.pos+=4,l-=4),i=(x!=null?x.data:void 0)||this.imgData,F=0;0<=l?F<l:F>l;0<=l?++F:--F)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((E=h-this.transparency.indexed.length)>0)for(H=0;0<=E?H<E:H>E;0<=E?++H:--H)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":B=(P=this.read(l)).indexOf(0),C=String.fromCharCode.apply(String,P.slice(0,B)),this.text[C]=String.fromCharCode.apply(String,P.slice(B+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(K=this.colorType)===4||K===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var l,u;for(u=[],l=0;0<=i?l<i:l>i;0<=i?++l:--l)u.push(this.data[this.pos++]);return u},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var l=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*l),h=0,g=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function p(x,B,C,U){var E,P,F,H,K,Ae,ae,se,j,S,O,q,I,k,D,J,pe,te,ce,ne,he,we=Math.ceil((g.width-x)/C),Y=Math.ceil((g.height-B)/U),Q=g.width==we&&g.height==Y;for(k=l*we,q=Q?u:new Uint8Array(k*Y),Ae=i.length,I=0,P=0;I<Y&&h<Ae;){switch(i[h++]){case 0:for(H=pe=0;pe<k;H=pe+=1)q[P++]=i[h++];break;case 1:for(H=te=0;te<k;H=te+=1)E=i[h++],K=H<l?0:q[P-l],q[P++]=(E+K)%256;break;case 2:for(H=ce=0;ce<k;H=ce+=1)E=i[h++],F=(H-H%l)/l,D=I&&q[(I-1)*k+F*l+H%l],q[P++]=(D+E)%256;break;case 3:for(H=ne=0;ne<k;H=ne+=1)E=i[h++],F=(H-H%l)/l,K=H<l?0:q[P-l],D=I&&q[(I-1)*k+F*l+H%l],q[P++]=(E+Math.floor((K+D)/2))%256;break;case 4:for(H=he=0;he<k;H=he+=1)E=i[h++],F=(H-H%l)/l,K=H<l?0:q[P-l],I===0?D=J=0:(D=q[(I-1)*k+F*l+H%l],J=F&&q[(I-1)*k+(F-1)*l+H%l]),ae=K+D-J,se=Math.abs(ae-K),S=Math.abs(ae-D),O=Math.abs(ae-J),j=se<=S&&se<=O?K:S<=O?D:J,q[P++]=(E+j)%256;break;default:throw new Error("Invalid filter algorithm: "+i[h-1])}if(!Q){var M=((B+I*U)*g.width+x)*l,z=I*k;for(H=0;H<we;H+=1){for(var re=0;re<l;re+=1)u[M++]=q[z++];M+=(C-1)*l}}I++}}return i=Fq(i),g.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),u},r.prototype.decodePalette=function(){var i,l,u,h,g,p,x,B,C;for(u=this.palette,p=this.transparency.indexed||[],g=new Uint8Array((p.length||0)+u.length),h=0,i=0,l=x=0,B=u.length;x<B;l=x+=3)g[h++]=u[l],g[h++]=u[l+1],g[h++]=u[l+2],g[h++]=(C=p[i++])!=null?C:255;return g},r.prototype.copyToImageData=function(i,l){var u,h,g,p,x,B,C,U,E,P,F;if(h=this.colors,E=null,u=this.hasAlphaChannel,this.palette.length&&(E=(F=this._decodedPalette)!=null?F:this._decodedPalette=this.decodePalette(),h=4,u=!0),U=(g=i.data||i).length,x=E||l,p=B=0,h===1)for(;p<U;)C=E?4*l[p/4]:B,P=x[C++],g[p++]=P,g[p++]=P,g[p++]=P,g[p++]=u?x[C++]:255,B=C;else for(;p<U;)C=E?4*l[p/4]:B,g[p++]=x[C++],g[p++]=x[C++],g[p++]=x[C++],g[p++]=u?x[C++]:255,B=C},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(zt)==="[object Window]"){try{e=zt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),n=function(i){var l;if(s()===!0)return t.width=i.width,t.height=i.height,t.clearRect(0,0,i.width,i.height),t.putImageData(i,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var l,u,h,g,p,x,B,C;if(this.animation){for(C=[],u=p=0,x=(B=this.animation.frames).length;p<x;u=++p)l=B[u],h=i.createImageData(l.width,l.height),g=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(h,g),l.imageData=h,C.push(l.image=n(h));return C}},r.prototype.renderFrame=function(i,l){var u,h,g;return u=(h=this.animation.frames)[l],g=h[l-1],l===0&&i.clearRect(0,0,this.width,this.height),(g!=null?g.disposeOp:void 0)===1?i.clearRect(g.xOffset,g.yOffset,g.width,g.height):(g!=null?g.disposeOp:void 0)===2&&i.putImageData(g.imageData,g.xOffset,g.yOffset),u.blendOp===0&&i.clearRect(u.xOffset,u.yOffset,u.width,u.height),i.drawImage(u.image,u.xOffset,u.yOffset)},r.prototype.animate=function(i){var l,u,h,g,p,x,B=this;return u=0,x=this.animation,g=x.numFrames,h=x.frames,p=x.numPlays,(l=function(){var C,U;if(C=u++%g,U=h[C],B.renderFrame(i,C),g>1&&u/g<p)return B.animation._timeout=setTimeout(l,U.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var l,u;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,l=i.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(u=l.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),l.putImageData(u,0,0))},r})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function rG(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],i=s>>7,l=1<<(7&s)+1;n[e++],n[e++];var u=null,h=null;i&&(u=e,h=l,e+=3*l);var g=!0,p=[],x=0,B=null,C=0,U=null;for(this.width=t,this.height=r;g&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,U=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=n[e++];x=n[e++]|n[e++]<<8,B=n[e++],(1&E)==0&&(B=null),C=E>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var P=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,H=n[e++]|n[e++]<<8,K=n[e++]|n[e++]<<8,Ae=n[e++],ae=Ae>>6&1,se=1<<(7&Ae)+1,j=u,S=h,O=!1;Ae>>7&&(O=!0,j=e,S=se,e+=3*se);var q=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}p.push({x:P,y:F,width:H,height:K,has_local_palette:O,palette_offset:j,palette_size:S,data_offset:q,data_length:e-q,transparent_index:B,interlaced:!!ae,delay:x,disposal:C});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return U},this.frameInfo=function(k){if(k<0||k>=p.length)throw new Error("Frame index out of range.");return p[k]},this.decodeAndBlitFrameBGRA=function(k,D){var J=this.frameInfo(k),pe=J.width*J.height,te=new Uint8Array(pe);dE(n,J.data_offset,te,pe);var ce=J.palette_offset,ne=J.transparent_index;ne===null&&(ne=256);var he=J.width,we=t-he,Y=he,Q=4*(J.y*t+J.x),M=4*((J.y+J.height)*t+J.x),z=Q,re=4*we;J.interlaced===!0&&(re+=4*t*7);for(var ue=8,me=0,Ne=te.length;me<Ne;++me){var de=te[me];if(Y===0&&(Y=he,(z+=re)>=M&&(re=4*we+4*t*(ue-1),z=Q+(he+we)*(ue<<1),ue>>=1)),de===ne)z+=4;else{var Oe=n[ce+3*de],Re=n[ce+3*de+1],et=n[ce+3*de+2];D[z++]=et,D[z++]=Re,D[z++]=Oe,D[z++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(k,D){var J=this.frameInfo(k),pe=J.width*J.height,te=new Uint8Array(pe);dE(n,J.data_offset,te,pe);var ce=J.palette_offset,ne=J.transparent_index;ne===null&&(ne=256);var he=J.width,we=t-he,Y=he,Q=4*(J.y*t+J.x),M=4*((J.y+J.height)*t+J.x),z=Q,re=4*we;J.interlaced===!0&&(re+=4*t*7);for(var ue=8,me=0,Ne=te.length;me<Ne;++me){var de=te[me];if(Y===0&&(Y=he,(z+=re)>=M&&(re=4*we+4*t*(ue-1),z=Q+(he+we)*(ue<<1),ue>>=1)),de===ne)z+=4;else{var Oe=n[ce+3*de],Re=n[ce+3*de+1],et=n[ce+3*de+2];D[z++]=Oe,D[z++]=Re,D[z++]=et,D[z++]=255}--Y}}}function dE(n,e,t,r){for(var s=n[e++],i=1<<s,l=i+1,u=l+1,h=s+1,g=(1<<h)-1,p=0,x=0,B=0,C=n[e++],U=new Int32Array(4096),E=null;;){for(;p<16&&C!==0;)x|=n[e++]<<p,p+=8,C===1?C=n[e++]:--C;if(p<h)break;var P=x&g;if(x>>=h,p-=h,P!==i){if(P===l)break;for(var F=P<u?P:E,H=0,K=F;K>i;)K=U[K]>>8,++H;var Ae=K;if(B+H+(F!==P?1:0)>r)return void fn.log("Warning, gif stream longer than expected.");t[B++]=Ae;var ae=B+=H;for(F!==P&&(t[B++]=Ae),K=F;H--;)K=U[K],t[--ae]=255&K,K>>=8;E!==null&&u<4096&&(U[u++]=E<<8|Ae,u>=g+1&&h<12&&(++h,g=g<<1|1)),E=P}else u=l+1,g=(1<<(h=s+1))-1,E=null}return B!==r&&fn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Y2(n){var e,t,r,s,i,l=Math.floor,u=new Array(64),h=new Array(64),g=new Array(64),p=new Array(64),x=new Array(65535),B=new Array(65535),C=new Array(64),U=new Array(64),E=[],P=0,F=7,H=new Array(64),K=new Array(64),Ae=new Array(64),ae=new Array(256),se=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(Q,M){for(var z=0,re=0,ue=new Array,me=1;me<=16;me++){for(var Ne=1;Ne<=Q[me];Ne++)ue[M[re]]=[],ue[M[re]][0]=z,ue[M[re]][1]=me,re++,z++;z*=2}return ue}function ce(Q){for(var M=Q[0],z=Q[1]-1;z>=0;)M&1<<z&&(P|=1<<F),z--,--F<0&&(P==255?(ne(255),ne(0)):ne(P),F=7,P=0)}function ne(Q){E.push(Q)}function he(Q){ne(Q>>8&255),ne(255&Q)}function we(Q,M,z,re,ue){for(var me,Ne=ue[0],de=ue[240],Oe=(function(Ve,Je){var nt,at,Nt,_t,Mt,Gt,Xt,ir,kt,Pt,ot=0;for(kt=0;kt<8;++kt){nt=Ve[ot],at=Ve[ot+1],Nt=Ve[ot+2],_t=Ve[ot+3],Mt=Ve[ot+4],Gt=Ve[ot+5],Xt=Ve[ot+6];var rn=nt+(ir=Ve[ot+7]),Qe=nt-ir,Ut=at+Xt,gt=at-Xt,Bt=Nt+Gt,mn=Nt-Gt,tr=_t+Mt,qr=_t-Mt,or=rn+tr,fr=rn-tr,dr=Ut+Bt,nr=Ut-Bt;Ve[ot]=or+dr,Ve[ot+4]=or-dr;var yt=.707106781*(nr+fr);Ve[ot+2]=fr+yt,Ve[ot+6]=fr-yt;var Yt=.382683433*((or=qr+mn)-(nr=gt+Qe)),$n=.5411961*or+Yt,Xr=1.306562965*nr+Yt,bn=.707106781*(dr=mn+gt),qe=Qe+bn,Pe=Qe-bn;Ve[ot+5]=Pe+$n,Ve[ot+3]=Pe-$n,Ve[ot+1]=qe+Xr,Ve[ot+7]=qe-Xr,ot+=8}for(ot=0,kt=0;kt<8;++kt){nt=Ve[ot],at=Ve[ot+8],Nt=Ve[ot+16],_t=Ve[ot+24],Mt=Ve[ot+32],Gt=Ve[ot+40],Xt=Ve[ot+48];var rt=nt+(ir=Ve[ot+56]),xt=nt-ir,Tt=at+Xt,vt=at-Xt,Ft=Nt+Gt,lr=Nt-Gt,$t=_t+Mt,cr=_t-Mt,Ar=rt+$t,kr=rt-$t,Vn=Tt+Ft,$s=Tt-Ft;Ve[ot]=Ar+Vn,Ve[ot+32]=Ar-Vn;var ga=.707106781*($s+kr);Ve[ot+16]=kr+ga,Ve[ot+48]=kr-ga;var Oa=.382683433*((Ar=cr+lr)-($s=vt+xt)),eA=.5411961*Ar+Oa,Js=1.306562965*$s+Oa,Si=.707106781*(Vn=lr+vt),Ws=xt+Si,ws=xt-Si;Ve[ot+40]=ws+eA,Ve[ot+24]=ws-eA,Ve[ot+8]=Ws+Js,Ve[ot+56]=Ws-Js,ot++}for(kt=0;kt<64;++kt)Pt=Ve[kt]*Je[kt],C[kt]=Pt>0?Pt+.5|0:Pt-.5|0;return C})(Q,M),Re=0;Re<64;++Re)U[j[Re]]=Oe[Re];var et=U[0]-z;z=U[0],et==0?ce(re[0]):(ce(re[B[me=32767+et]]),ce(x[me]));for(var tt=63;tt>0&&U[tt]==0;)tt--;if(tt==0)return ce(Ne),z;for(var mt,Ee=1;Ee<=tt;){for(var oe=Ee;U[Ee]==0&&Ee<=tt;)++Ee;var At=Ee-oe;if(At>=16){mt=At>>4;for(var ft=1;ft<=mt;++ft)ce(de);At&=15}me=32767+U[Ee],ce(ue[(At<<4)+B[me]]),ce(x[me]),Ee++}return tt!=63&&ce(Ne),z}function Y(Q){Q=Math.min(Math.max(Q,1),100),i!=Q&&((function(M){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ue=l((z[re]*M+50)/100);ue=Math.min(Math.max(ue,1),255),u[j[re]]=ue}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var de=l((me[Ne]*M+50)/100);de=Math.min(Math.max(de,1),255),h[j[Ne]]=de}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,et=0;et<8;et++)for(var tt=0;tt<8;tt++)g[Re]=1/(u[j[Re]]*Oe[et]*Oe[tt]*8),p[Re]=1/(h[j[Re]]*Oe[et]*Oe[tt]*8),Re++})(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),i=Q)}this.encode=function(Q,M){M&&Y(M),E=new Array,P=0,F=7,he(65496),he(65504),he(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),he(1),he(1),ne(0),ne(0),(function(){he(65499),he(132),ne(0);for(var at=0;at<64;at++)ne(u[at]);ne(1);for(var Nt=0;Nt<64;Nt++)ne(h[Nt])})(),(function(at,Nt){he(65472),he(17),ne(8),he(Nt),he(at),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)})(Q.width,Q.height),(function(){he(65476),he(418),ne(0);for(var at=0;at<16;at++)ne(S[at+1]);for(var Nt=0;Nt<=11;Nt++)ne(O[Nt]);ne(16);for(var _t=0;_t<16;_t++)ne(q[_t+1]);for(var Mt=0;Mt<=161;Mt++)ne(I[Mt]);ne(1);for(var Gt=0;Gt<16;Gt++)ne(k[Gt+1]);for(var Xt=0;Xt<=11;Xt++)ne(D[Xt]);ne(17);for(var ir=0;ir<16;ir++)ne(J[ir+1]);for(var kt=0;kt<=161;kt++)ne(pe[kt])})(),he(65498),he(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var z=0,re=0,ue=0;P=0,F=7,this.encode.displayName="_encode_";for(var me,Ne,de,Oe,Re,et,tt,mt,Ee,oe=Q.data,At=Q.width,ft=Q.height,Ve=4*At,Je=0;Je<ft;){for(me=0;me<Ve;){for(Re=Ve*Je+me,tt=-1,mt=0,Ee=0;Ee<64;Ee++)et=Re+(mt=Ee>>3)*Ve+(tt=4*(7&Ee)),Je+mt>=ft&&(et-=Ve*(Je+1+mt-ft)),me+tt>=Ve&&(et-=me+tt-Ve+4),Ne=oe[et++],de=oe[et++],Oe=oe[et++],H[Ee]=(se[Ne]+se[de+256>>0]+se[Oe+512>>0]>>16)-128,K[Ee]=(se[Ne+768>>0]+se[de+1024>>0]+se[Oe+1280>>0]>>16)-128,Ae[Ee]=(se[Ne+1280>>0]+se[de+1536>>0]+se[Oe+1792>>0]>>16)-128;z=we(H,g,z,e,r),re=we(K,p,re,t,s),ue=we(Ae,p,ue,t,s),me+=32}Je+=8}if(F>=0){var nt=[];nt[1]=F+1,nt[0]=(1<<F+1)-1,ce(nt)}return he(65497),new Uint8Array(E)},n=n||50,(function(){for(var Q=String.fromCharCode,M=0;M<256;M++)ae[M]=Q(M)})(),e=te(S,O),t=te(k,D),r=te(q,I),s=te(J,pe),(function(){for(var Q=1,M=2,z=1;z<=15;z++){for(var re=Q;re<M;re++)B[32767+re]=z,x[32767+re]=[],x[32767+re][1]=z,x[32767+re][0]=re;for(var ue=-(M-1);ue<=-Q;ue++)B[32767+ue]=z,x[32767+ue]=[],x[32767+ue][1]=z,x[32767+ue][0]=M-1+ue;Q<<=1,M<<=1}})(),(function(){for(var Q=0;Q<256;Q++)se[Q]=19595*Q,se[Q+256>>0]=38470*Q,se[Q+512>>0]=7471*Q+32768,se[Q+768>>0]=-11059*Q,se[Q+1024>>0]=-21709*Q,se[Q+1280>>0]=32768*Q+8421375,se[Q+1536>>0]=-27439*Q,se[Q+1792>>0]=-5329*Q})(),Y(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function XA(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function hE(n){function e(S){if(!S)throw Error("assert :P")}function t(S,O,q){for(var I=0;4>I;I++)if(S[O+I]!=q.charCodeAt(I))return!0;return!1}function r(S,O,q,I,k){for(var D=0;D<k;D++)S[O+D]=q[I+D]}function s(S,O,q,I){for(var k=0;k<I;k++)S[O+k]=q}function i(S){return new Int32Array(S)}function l(S,O){for(var q=[],I=0;I<S;I++)q.push(new O);return q}function u(S,O){var q=[];return(function I(k,D,J){for(var pe=J[D],te=0;te<pe&&(k.push(J.length>D+1?[]:new O),!(J.length<D+1));te++)I(k[te],D+1,J)})(q,0,S),q}var h=function(){var S=this;function O(m,w){for(var _=1<<w-1>>>0;m&_;)_>>>=1;return _?(m&_-1)+_:m}function q(m,w,_,T,V){e(!(T%_));do m[w+(T-=_)]=V;while(0<T)}function I(m,w,_,T,V){if(e(2328>=V),512>=V)var G=i(512);else if((G=i(V))==null)return 0;return(function(X,$,ee,ie,xe,Te){var Ie,Be,Ge=$,ke=1<<ee,ye=i(16),ve=i(16);for(e(xe!=0),e(ie!=null),e(X!=null),e(0<ee),Be=0;Be<xe;++Be){if(15<ie[Be])return 0;++ye[ie[Be]]}if(ye[0]==xe)return 0;for(ve[1]=0,Ie=1;15>Ie;++Ie){if(ye[Ie]>1<<Ie)return 0;ve[Ie+1]=ve[Ie]+ye[Ie]}for(Be=0;Be<xe;++Be)Ie=ie[Be],0<ie[Be]&&(Te[ve[Ie]++]=Be);if(ve[15]==1)return(ie=new k).g=0,ie.value=Te[0],q(X,Ge,1,ke,ie),ke;var Ke,$e=-1,He=ke-1,dt=0,it=1,Lt=1,lt=1<<ee;for(Be=0,Ie=1,xe=2;Ie<=ee;++Ie,xe<<=1){if(it+=Lt<<=1,0>(Lt-=ye[Ie]))return 0;for(;0<ye[Ie];--ye[Ie])(ie=new k).g=Ie,ie.value=Te[Be++],q(X,Ge+dt,xe,lt,ie),dt=O(dt,Ie)}for(Ie=ee+1,xe=2;15>=Ie;++Ie,xe<<=1){if(it+=Lt<<=1,0>(Lt-=ye[Ie]))return 0;for(;0<ye[Ie];--ye[Ie]){if(ie=new k,(dt&He)!=$e){for(Ge+=lt,Ke=1<<($e=Ie)-ee;15>$e&&!(0>=(Ke-=ye[$e]));)++$e,Ke<<=1;ke+=lt=1<<(Ke=$e-ee),X[$+($e=dt&He)].g=Ke+ee,X[$+$e].value=Ge-$-$e}ie.g=Ie-ee,ie.value=Te[Be++],q(X,Ge+(dt>>ee),xe,lt,ie),dt=O(dt,Ie)}}return it!=2*ve[15]-1?0:ke})(m,w,_,T,V,G)}function k(){this.value=this.g=0}function D(){this.value=this.g=0}function J(){this.G=l(5,k),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(ls,D)}function pe(m,w,_,T){e(m!=null),e(w!=null),e(2147483648>T),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=w,m.pa=_,m.Jd=w,m.Yc=_+T,m.Zc=4<=T?_+T-4+1:_,me(m)}function te(m,w){for(var _=0;0<w--;)_|=de(m,128)<<w;return _}function ce(m,w){var _=te(m,w);return Ne(m)?-_:_}function ne(m,w,_,T){var V,G=0;for(e(m!=null),e(w!=null),e(4294967288>T),m.Sb=T,m.Ra=0,m.u=0,m.h=0,4<T&&(T=4),V=0;V<T;++V)G+=w[_+V]<<8*V;m.Ra=G,m.bb=T,m.oa=w,m.pa=_}function he(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<vo-8>>>0,++m.bb,m.u-=8;z(m)&&(m.h=1,m.u=0)}function we(m,w){if(e(0<=w),!m.h&&w<=wo){var _=M(m)&pl[w];return m.u+=w,he(m),_}return m.h=1,m.u=0}function Y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(m){return m.Ra>>>(m.u&vo-1)>>>0}function z(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>vo}function re(m,w){m.u=w,m.h=z(m)}function ue(m){m.u>=cc&&(e(m.u>=cc),he(m))}function me(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Ne(m){return te(m,1)}function de(m,w){var _=m.Ca;0>m.b&&me(m);var T=m.b,V=_*w>>>8,G=(m.I>>>T>V)+0;for(G?(_-=V,m.I-=V+1<<T>>>0):_=V+1,T=_,V=0;256<=T;)V+=8,T>>=8;return T=7^V+sa[T],m.b-=T,m.Ca=(_<<T)-1,G}function Oe(m,w,_){m[w+0]=_>>24&255,m[w+1]=_>>16&255,m[w+2]=_>>8&255,m[w+3]=_>>0&255}function Re(m,w){return m[w+0]<<0|m[w+1]<<8}function et(m,w){return Re(m,w)|m[w+2]<<16}function tt(m,w){return Re(m,w)|Re(m,w+2)<<16}function mt(m,w){var _=1<<w;return e(m!=null),e(0<w),m.X=i(_),m.X==null?0:(m.Mb=32-w,m.Xa=w,1)}function Ee(m,w){e(m!=null),e(w!=null),e(m.Xa==w.Xa),r(w.X,0,m.X,0,1<<w.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function At(m,w,_,T){e(_!=null),e(T!=null);var V=_[0],G=T[0];return V==0&&(V=(m*G+w/2)/w),G==0&&(G=(w*V+m/2)/m),0>=V||0>=G?0:(_[0]=V,T[0]=G,1)}function ft(m,w){return m+(1<<w)-1>>>w}function Ve(m,w){return((4278255360&m)+(4278255360&w)>>>0&4278255360)+((16711935&m)+(16711935&w)>>>0&16711935)>>>0}function Je(m,w){S[w]=function(_,T,V,G,X,$,ee){var ie;for(ie=0;ie<X;++ie){var xe=S[m]($[ee+ie-1],V,G+ie);$[ee+ie]=Ve(_[T+ie],xe)}}}function nt(){this.ud=this.hd=this.jd=0}function at(m,w){return((4278124286&(m^w))>>>1)+(m&w)>>>0}function Nt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function _t(m,w){return Nt(m+(m-w+.5>>1))}function Mt(m,w,_){return Math.abs(w-_)-Math.abs(m-_)}function Gt(m,w,_,T,V,G,X){for(T=G[X-1],_=0;_<V;++_)G[X+_]=T=Ve(m[w+_],T)}function Xt(m,w,_,T,V){var G;for(G=0;G<_;++G){var X=m[w+G],$=X>>8&255,ee=16711935&(ee=(ee=16711935&X)+(($<<16)+$));T[V+G]=(4278255360&X)+ee>>>0}}function ir(m,w){w.jd=m>>0&255,w.hd=m>>8&255,w.ud=m>>16&255}function kt(m,w,_,T,V,G){var X;for(X=0;X<T;++X){var $=w[_+X],ee=$>>>8,ie=$,xe=255&(xe=(xe=$>>>16)+((m.jd<<24>>24)*(ee<<24>>24)>>>5));ie=255&(ie=(ie=ie+((m.hd<<24>>24)*(ee<<24>>24)>>>5))+((m.ud<<24>>24)*(xe<<24>>24)>>>5)),V[G+X]=(4278255360&$)+(xe<<16)+ie}}function Pt(m,w,_,T,V){S[w]=function(G,X,$,ee,ie,xe,Te,Ie,Be){for(ee=Te;ee<Ie;++ee)for(Te=0;Te<Be;++Te)ie[xe++]=V($[T(G[X++])])},S[m]=function(G,X,$,ee,ie,xe,Te){var Ie=8>>G.b,Be=G.Ea,Ge=G.K[0],ke=G.w;if(8>Ie)for(G=(1<<G.b)-1,ke=(1<<Ie)-1;X<$;++X){var ye,ve=0;for(ye=0;ye<Be;++ye)ye&G||(ve=T(ee[ie++])),xe[Te++]=V(Ge[ve&ke]),ve>>=Ie}else S["VP8LMapColor"+_](ee,ie,Ge,ke,xe,Te,X,$,Be)}}function ot(m,w,_,T,V){for(_=w+_;w<_;){var G=m[w++];T[V++]=G>>16&255,T[V++]=G>>8&255,T[V++]=G>>0&255}}function rn(m,w,_,T,V){for(_=w+_;w<_;){var G=m[w++];T[V++]=G>>16&255,T[V++]=G>>8&255,T[V++]=G>>0&255,T[V++]=G>>24&255}}function Qe(m,w,_,T,V){for(_=w+_;w<_;){var G=(X=m[w++])>>16&240|X>>12&15,X=X>>0&240|X>>28&15;T[V++]=G,T[V++]=X}}function Ut(m,w,_,T,V){for(_=w+_;w<_;){var G=(X=m[w++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;T[V++]=G,T[V++]=X}}function gt(m,w,_,T,V){for(_=w+_;w<_;){var G=m[w++];T[V++]=G>>0&255,T[V++]=G>>8&255,T[V++]=G>>16&255}}function Bt(m,w,_,T,V,G){if(G==0)for(_=w+_;w<_;)Oe(T,((G=m[w++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),V+=32;else r(T,V,m,w,_)}function mn(m,w){S[w][0]=S[m+"0"],S[w][1]=S[m+"1"],S[w][2]=S[m+"2"],S[w][3]=S[m+"3"],S[w][4]=S[m+"4"],S[w][5]=S[m+"5"],S[w][6]=S[m+"6"],S[w][7]=S[m+"7"],S[w][8]=S[m+"8"],S[w][9]=S[m+"9"],S[w][10]=S[m+"10"],S[w][11]=S[m+"11"],S[w][12]=S[m+"12"],S[w][13]=S[m+"13"],S[w][14]=S[m+"0"],S[w][15]=S[m+"0"]}function tr(m){return m==Lu||m==kd||m==xc||m==Rd}function qr(){this.eb=[],this.size=this.A=this.fb=0}function or(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function fr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new qr,this.f.kb=new or,this.sd=null}function dr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yt(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Yt(m,w){var _=m.T,T=w.ba.f.RGBA,V=T.eb,G=T.fb+m.ka*T.A,X=Ss[w.ba.S],$=m.y,ee=m.O,ie=m.f,xe=m.N,Te=m.ea,Ie=m.W,Be=w.cc,Ge=w.dc,ke=w.Mc,ye=w.Nc,ve=m.ka,Ke=m.ka+m.T,$e=m.U,He=$e+1>>1;for(ve==0?X($,ee,null,null,ie,xe,Te,Ie,ie,xe,Te,Ie,V,G,null,null,$e):(X(w.ec,w.fc,$,ee,Be,Ge,ke,ye,ie,xe,Te,Ie,V,G-T.A,V,G,$e),++_);ve+2<Ke;ve+=2)Be=ie,Ge=xe,ke=Te,ye=Ie,xe+=m.Rc,Ie+=m.Rc,G+=2*T.A,X($,(ee+=2*m.fa)-m.fa,$,ee,Be,Ge,ke,ye,ie,xe,Te,Ie,V,G-T.A,V,G,$e);return ee+=m.fa,m.j+Ke<m.o?(r(w.ec,w.fc,$,ee,$e),r(w.cc,w.dc,ie,xe,He),r(w.Mc,w.Nc,Te,Ie,He),_--):1&Ke||X($,ee,null,null,ie,xe,Te,Ie,ie,xe,Te,Ie,V,G+T.A,null,null,$e),_}function $n(m,w,_){var T=m.F,V=[m.J];if(T!=null){var G=m.U,X=w.ba.S,$=X==Qu||X==xc;w=w.ba.f.RGBA;var ee=[0],ie=m.ka;ee[0]=m.T,m.Kb&&(ie==0?--ee[0]:(--ie,V[0]-=m.width),m.j+m.ka+m.T==m.o&&(ee[0]=m.o-m.j-ie));var xe=w.eb;ie=w.fb+ie*w.A,m=Hr(T,V[0],m.width,G,ee,xe,ie+($?0:3),w.A),e(_==ee),m&&tr(X)&&wa(xe,ie,$,G,ee,w.A)}return 0}function Xr(m){var w=m.ma,_=w.ba.S,T=11>_,V=_==Hs||_==oi||_==Qu||_==pc||_==12||tr(_);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!UA(w.Oa,m,V?11:12))return 0;if(V&&tr(_)&&Ce(),m.da)alert("todo:use_scaling");else{if(T){if(w.Ib=yt,m.Kb){if(_=m.U+1>>1,w.memory=i(m.U+2*_),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+m.U,w.Mc=w.cc,w.Nc=w.dc+_,w.Ib=Yt,Ce()}}else alert("todo:EmitYUV");V&&(w.Jb=$n,T&&Z())}if(T&&!Qo){for(m=0;256>m;++m)Is[m]=89858*(m-128)+wc>>fi,Fx[m]=-22014*(m-128)+wc,rm[m]=-45773*(m-128),Hd[m]=113618*(m-128)+wc>>fi;for(m=vl;m<Fo;++m)w=76283*(m-16)+wc>>fi,Qx[m-vl]=Ka(w,255),Lx[m-vl]=Ka(w+8>>4,15);Qo=1}return 1}function bn(m){var w=m.ma,_=m.U,T=m.T;return e(!(1&m.ka)),0>=_||0>=T?0:(_=w.Ib(m,w),w.Jb!=null&&w.Jb(m,w,_),w.Dc+=_,1)}function qe(m){m.ma.memory=null}function Pe(m,w,_,T){return we(m,8)!=47?0:(w[0]=we(m,14)+1,_[0]=we(m,14)+1,T[0]=we(m,1),we(m,3)!=0?0:!m.h)}function rt(m,w){if(4>m)return m+1;var _=m-2>>1;return(2+(1&m)<<_)+we(w,_)+1}function xt(m,w){return 120<w?w-120:1<=(_=((_=ci[w-1])>>4)*m+(8-(15&_)))?_:1;var _}function Tt(m,w,_){var T=M(_),V=m[w+=255&T].g-8;return 0<V&&(re(_,_.u+8),T=M(_),w+=m[w].value,w+=T&(1<<V)-1),re(_,_.u+m[w].g),m[w].value}function vt(m,w,_){return _.g+=m.g,_.value+=m.value<<w>>>0,e(8>=_.g),m.g}function Ft(m,w,_){var T=m.xc;return e((w=T==0?0:m.vc[m.md*(_>>T)+(w>>T)])<m.Wb),m.Ya[w]}function lr(m,w,_,T){var V=m.ab,G=m.c*w,X=m.C;w=X+w;var $=_,ee=T;for(T=m.Ta,_=m.Ua;0<V--;){var ie=m.gc[V],xe=X,Te=w,Ie=$,Be=ee,Ge=(ee=T,$=_,ie.Ea);switch(e(xe<Te),e(Te<=ie.nc),ie.hc){case 2:Ud(Ie,Be,(Te-xe)*Ge,ee,$);break;case 0:var ke=xe,ye=Te,ve=ee,Ke=$,$e=(lt=ie).Ea;ke==0&&(jd(Ie,Be,null,null,1,ve,Ke),Gt(Ie,Be+1,0,0,$e-1,ve,Ke+1),Be+=$e,Ke+=$e,++ke);for(var He=1<<lt.b,dt=He-1,it=ft($e,lt.b),Lt=lt.K,lt=lt.w+(ke>>lt.b)*it;ke<ye;){var Fr=Lt,xr=lt,wr=1;for(Uu(Ie,Be,ve,Ke-$e,1,ve,Ke);wr<$e;){var rr=(wr&~dt)+He;rr>$e&&(rr=$e),(0,Ai[Fr[xr++]>>8&15])(Ie,Be+ +wr,ve,Ke+wr-$e,rr-wr,ve,Ke+wr),wr=rr}Be+=$e,Ke+=$e,++ke&dt||(lt+=it)}Te!=ie.nc&&r(ee,$-Ge,ee,$+(Te-xe-1)*Ge,Ge);break;case 1:for(Ge=Ie,ye=Be,$e=(Ie=ie.Ea)-(Ke=Ie&~(ve=(Be=1<<ie.b)-1)),ke=ft(Ie,ie.b),He=ie.K,ie=ie.w+(xe>>ie.b)*ke;xe<Te;){for(dt=He,it=ie,Lt=new nt,lt=ye+Ke,Fr=ye+Ie;ye<lt;)ir(dt[it++],Lt),Bo(Lt,Ge,ye,Be,ee,$),ye+=Be,$+=Be;ye<Fr&&(ir(dt[it++],Lt),Bo(Lt,Ge,ye,$e,ee,$),ye+=$e,$+=$e),++xe&ve||(ie+=ke)}break;case 3:if(Ie==ee&&Be==$&&0<ie.b){for(ye=ee,Ie=Ge=$+(Te-xe)*Ge-(Ke=(Te-xe)*ft(ie.Ea,ie.b)),Be=ee,ve=$,ke=[],Ke=($e=Ke)-1;0<=Ke;--Ke)ke[Ke]=Be[ve+Ke];for(Ke=$e-1;0<=Ke;--Ke)ye[Ie+Ke]=ke[Ke];ii(ie,xe,Te,ee,Ge,ee,$)}else ii(ie,xe,Te,Ie,Be,ee,$)}$=T,ee=_}ee!=_&&r(T,_,$,ee,G)}function $t(m,w){var _=m.V,T=m.Ba+m.c*m.C,V=w-m.C;if(e(w<=m.l.o),e(16>=V),0<V){var G=m.l,X=m.Ta,$=m.Ua,ee=G.width;if(lr(m,V,_,T),V=$=[$],e((_=m.C)<(T=w)),e(G.v<G.va),T>G.o&&(T=G.o),_<G.j){var ie=G.j-_;_=G.j,V[0]+=ie*ee}if(_>=T?_=0:(V[0]+=4*G.v,G.ka=_-G.j,G.U=G.va-G.v,G.T=T-_,_=1),_){if($=$[0],11>(_=m.ca).S){var xe=_.f.RGBA,Te=(T=_.S,V=G.U,G=G.T,ie=xe.eb,xe.A),Ie=G;for(xe=xe.fb+m.Ma*xe.A;0<Ie--;){var Be=X,Ge=$,ke=V,ye=ie,ve=xe;switch(T){case Qd:aa(Be,Ge,ke,ye,ve);break;case Hs:Os(Be,Ge,ke,ye,ve);break;case Lu:Os(Be,Ge,ke,ye,ve),wa(ye,ve,0,ke,1,0);break;case Ld:LA(Be,Ge,ke,ye,ve);break;case oi:Bt(Be,Ge,ke,ye,ve,1);break;case kd:Bt(Be,Ge,ke,ye,ve,1),wa(ye,ve,0,ke,1,0);break;case Qu:Bt(Be,Ge,ke,ye,ve,0);break;case xc:Bt(Be,Ge,ke,ye,ve,0),wa(ye,ve,1,ke,1,0);break;case pc:QA(Be,Ge,ke,ye,ve);break;case Rd:QA(Be,Ge,ke,ye,ve),mr(ye,ve,ke,1,0);break;case So:Di(Be,Ge,ke,ye,ve);break;default:e(0)}$+=ee,xe+=Te}m.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=_.height)}}m.C=w,e(m.C<=m.i)}function cr(m){var w;if(0<m.ua)return 0;for(w=0;w<m.Wb;++w){var _=m.Ya[w].G,T=m.Ya[w].H;if(0<_[1][T[1]+0].g||0<_[2][T[2]+0].g||0<_[3][T[3]+0].g)return 0}return 1}function Ar(m,w,_,T,V,G){if(m.Z!=0){var X=m.qd,$=m.rd;for(e(OA[m.Z]!=null);w<_;++w)OA[m.Z](X,$,T,V,T,V,G),X=T,$=V,V+=G;m.qd=X,m.rd=$}}function kr(m,w){var _=m.l.ma,T=_.Z==0||_.Z==1?m.l.j:m.C;if(T=m.C<T?T:m.C,e(w<=m.l.o),w>T){var V=m.l.width,G=_.ca,X=_.tb+V*T,$=m.V,ee=m.Ba+m.c*T,ie=m.gc;e(m.ab==1),e(ie[0].hc==3),Fd(ie[0],T,w,$,ee,G,X),Ar(_,T,w,G,X,V)}m.C=m.Ma=w}function Vn(m,w,_,T,V,G,X){var $=m.$/T,ee=m.$%T,ie=m.m,xe=m.s,Te=_+m.$,Ie=Te;V=_+T*V;var Be=_+T*G,Ge=280+xe.ua,ke=m.Pb?$:16777216,ye=0<xe.ua?xe.Wa:null,ve=xe.wc,Ke=Te<Be?Ft(xe,ee,$):null;e(m.C<G),e(Be<=V);var $e=!1;e:for(;;){for(;$e||Te<Be;){var He=0;if($>=ke){var dt=Te-_;e((ke=m).Pb),ke.wd=ke.m,ke.xd=dt,0<ke.s.ua&&Ee(ke.s.Wa,ke.s.vb),ke=$+Io}if(ee&ve||(Ke=Ft(xe,ee,$)),e(Ke!=null),Ke.Qb&&(w[Te]=Ke.qb,$e=!0),!$e)if(ue(ie),Ke.jc){He=ie,dt=w;var it=Te,Lt=Ke.pd[M(He)&ls-1];e(Ke.jc),256>Lt.g?(re(He,He.u+Lt.g),dt[it]=Lt.value,He=0):(re(He,He.u+Lt.g-256),e(256<=Lt.value),He=Lt.value),He==0&&($e=!0)}else He=Tt(Ke.G[0],Ke.H[0],ie);if(ie.h)break;if($e||256>He){if(!$e)if(Ke.nd)w[Te]=(Ke.qb|He<<8)>>>0;else{if(ue(ie),$e=Tt(Ke.G[1],Ke.H[1],ie),ue(ie),dt=Tt(Ke.G[2],Ke.H[2],ie),it=Tt(Ke.G[3],Ke.H[3],ie),ie.h)break;w[Te]=(it<<24|$e<<16|He<<8|dt)>>>0}if($e=!1,++Te,++ee>=T&&(ee=0,++$,X!=null&&$<=G&&!($%16)&&X(m,$),ye!=null))for(;Ie<Te;)He=w[Ie++],ye.X[(506832829*He&4294967295)>>>ye.Mb]=He}else if(280>He){if(He=rt(He-256,ie),dt=Tt(Ke.G[4],Ke.H[4],ie),ue(ie),dt=xt(T,dt=rt(dt,ie)),ie.h)break;if(Te-_<dt||V-Te<He)break e;for(it=0;it<He;++it)w[Te+it]=w[Te+it-dt];for(Te+=He,ee+=He;ee>=T;)ee-=T,++$,X!=null&&$<=G&&!($%16)&&X(m,$);if(e(Te<=V),ee&ve&&(Ke=Ft(xe,ee,$)),ye!=null)for(;Ie<Te;)He=w[Ie++],ye.X[(506832829*He&4294967295)>>>ye.Mb]=He}else{if(!(He<Ge))break e;for($e=He-280,e(ye!=null);Ie<Te;)He=w[Ie++],ye.X[(506832829*He&4294967295)>>>ye.Mb]=He;He=Te,e(!($e>>>(dt=ye).Xa)),w[He]=dt.X[$e],$e=!0}$e||e(ie.h==z(ie))}if(m.Pb&&ie.h&&Te<V)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Ee(m.s.vb,m.s.Wa);else{if(ie.h)break e;X!=null&&X(m,$>G?G:$),m.a=0,m.$=Te-_}return 1}return m.a=3,0}function $s(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var w=m.Wa;w!=null&&(w.X=null),m.vb=null,e(m!=null)}function ga(){var m=new Ac;return m==null?null:(m.a=0,m.xb=Lf,mn("Predictor","VP8LPredictors"),mn("Predictor","VP8LPredictors_C"),mn("PredictorAdd","VP8LPredictorsAdd"),mn("PredictorAdd","VP8LPredictorsAdd_C"),Ud=Xt,Bo=kt,aa=ot,Os=rn,QA=Qe,Di=Ut,LA=gt,S.VP8LMapColor32b=uc,S.VP8LMapColor8b=Ds,m)}function Oa(m,w,_,T,V){var G=1,X=[m],$=[w],ee=T.m,ie=T.s,xe=null,Te=0;e:for(;;){if(_)for(;G&&we(ee,1);){var Ie=X,Be=$,Ge=T,ke=1,ye=Ge.m,ve=Ge.gc[Ge.ab],Ke=we(ye,2);if(Ge.Oc&1<<Ke)G=0;else{switch(Ge.Oc|=1<<Ke,ve.hc=Ke,ve.Ea=Ie[0],ve.nc=Be[0],ve.K=[null],++Ge.ab,e(4>=Ge.ab),Ke){case 0:case 1:ve.b=we(ye,3)+2,ke=Oa(ft(ve.Ea,ve.b),ft(ve.nc,ve.b),0,Ge,ve.K),ve.K=ve.K[0];break;case 3:var $e,He=we(ye,8)+1,dt=16<He?0:4<He?1:2<He?2:3;if(Ie[0]=ft(ve.Ea,dt),ve.b=dt,$e=ke=Oa(He,1,0,Ge,ve.K)){var it,Lt=He,lt=ve,Fr=1<<(8>>lt.b),xr=i(Fr);if(xr==null)$e=0;else{var wr=lt.K[0],rr=lt.w;for(xr[0]=lt.K[0][0],it=1;it<1*Lt;++it)xr[it]=Ve(wr[rr+it],xr[it-1]);for(;it<4*Fr;++it)xr[it]=0;lt.K[0]=null,lt.K[0]=xr,$e=1}}ke=$e;break;case 2:break;default:e(0)}G=ke}}if(X=X[0],$=$[0],G&&we(ee,1)&&!(G=1<=(Te=we(ee,4))&&11>=Te)){T.a=3;break e}var Vr;if(Vr=G)t:{var Or,Ht,Yr,us=T,In=X,Vs=$,Sr=Te,Ts=_,va=us.m,Jn=us.s,Tn=[null],ds=1,Xa=0,gi=ui[Sr];r:for(;;){if(Ts&&we(va,1)){var zn=we(va,3)+2,Pn=ft(In,zn),hs=ft(Vs,zn),Ya=Pn*hs;if(!Oa(Pn,hs,0,us,Tn))break r;for(Tn=Tn[0],Jn.xc=zn,Or=0;Or<Ya;++Or){var cA=Tn[Or]>>8&65535;Tn[Or]=cA,cA>=ds&&(ds=cA+1)}}if(va.h)break r;for(Ht=0;5>Ht;++Ht){var Bn=bl[Ht];!Ht&&0<Sr&&(Bn+=1<<Sr),Xa<Bn&&(Xa=Bn)}var uA=l(ds*gi,k),Ba=ds,jn=l(Ba,J);if(jn==null)var Bl=null;else e(65536>=Ba),Bl=jn;var $a=i(Xa);if(Bl==null||$a==null||uA==null){us.a=1;break r}var Wt=uA;for(Or=Yr=0;Or<ds;++Or){var hr=Bl[Or],dn=hr.G,MA=hr.H,Cl=0,dA=1,Ou=0;for(Ht=0;5>Ht;++Ht){Bn=bl[Ht],dn[Ht]=Wt,MA[Ht]=Yr,!Ht&&0<Sr&&(Bn+=1<<Sr);s:{var Lo,ko=Bn,Kd=us,sn=$a,Rf=Wt,Df=Yr,zd=0,PA=Kd.m,kx=we(PA,1);if(s(sn,0,0,ko),kx){var Of=we(PA,1)+1,Mf=we(PA,1),qd=we(PA,Mf==0?1:8);sn[qd]=1,Of==2&&(sn[qd=we(PA,8)]=1);var fs=1}else{var Un=i(19),Mu=we(PA,4)+4;if(19<Mu){Kd.a=3;var Ro=0;break s}for(Lo=0;Lo<Mu;++Lo)Un[ku[Lo]]=we(PA,3);var Bc=void 0,Nl=void 0,hA=Kd,Gd=Un,Cc=ko,Xd=sn,Yd=0,HA=hA.m,Pf=8,Hf=l(128,k);n:for(;I(Hf,0,7,Gd,19);){if(we(HA,1)){var nm=2+2*we(HA,3);if((Bc=2+we(HA,nm))>Cc)break n}else Bc=Cc;for(Nl=0;Nl<Cc&&Bc--;){ue(HA);var Vf=Hf[0+(127&M(HA))];re(HA,HA.u+Vf.g);var Do=Vf.value;if(16>Do)Xd[Nl++]=Do,Do!=0&&(Pf=Do);else{var sm=Do==16,am=Do-16,im=yc[am],Kf=we(HA,li[am])+im;if(Nl+Kf>Cc)break n;for(var Am=sm?Pf:0;0<Kf--;)Xd[Nl++]=Am}}Yd=1;break n}Yd||(hA.a=3),fs=Yd}(fs=fs&&!PA.h)&&(zd=I(Rf,Df,8,sn,ko)),fs&&zd!=0?Ro=zd:(Kd.a=3,Ro=0)}if(Ro==0)break r;if(dA&&Dd[Ht]==1&&(dA=Wt[Yr].g==0),Cl+=Wt[Yr].g,Yr+=Ro,3>=Ht){var _l,$d=$a[0];for(_l=1;_l<Bn;++_l)$a[_l]>$d&&($d=$a[_l]);Ou+=$d}}if(hr.nd=dA,hr.Qb=0,dA&&(hr.qb=(dn[3][MA[3]+0].value<<24|dn[1][MA[1]+0].value<<16|dn[2][MA[2]+0].value)>>>0,Cl==0&&256>dn[0][MA[0]+0].value&&(hr.Qb=1,hr.qb+=dn[0][MA[0]+0].value<<8)),hr.jc=!hr.Qb&&6>Ou,hr.jc){var Pu,fA=hr;for(Pu=0;Pu<ls;++Pu){var VA=Pu,KA=fA.pd[VA],Jd=fA.G[0][fA.H[0]+VA];256<=Jd.value?(KA.g=Jd.g+256,KA.value=Jd.value):(KA.g=0,KA.value=0,VA>>=vt(Jd,8,KA),VA>>=vt(fA.G[1][fA.H[1]+VA],16,KA),VA>>=vt(fA.G[2][fA.H[2]+VA],0,KA),vt(fA.G[3][fA.H[3]+VA],24,KA))}}}Jn.vc=Tn,Jn.Wb=ds,Jn.Ya=Bl,Jn.yc=uA,Vr=1;break t}Vr=0}if(!(G=Vr)){T.a=3;break e}if(0<Te){if(ie.ua=1<<Te,!mt(ie.Wa,Te)){T.a=1,G=0;break e}}else ie.ua=0;var Wd=T,El=X,om=$,Nc=Wd.s,_c=Nc.xc;if(Wd.c=El,Wd.i=om,Nc.md=ft(El,_c),Nc.wc=_c==0?-1:(1<<_c)-1,_){T.xb=To;break e}if((xe=i(X*$))==null){T.a=1,G=0;break e}G=(G=Vn(T,xe,0,X,$,$,null))&&!ee.h;break e}return G?(V!=null?V[0]=xe:(e(xe==null),e(_)),T.$=0,_||$s(ie)):$s(ie),G}function eA(m,w){var _=m.c*m.i,T=_+w+16*w;return e(m.c<=w),m.V=i(T),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+_+w,1)}function Js(m,w){var _=m.C,T=w-_,V=m.V,G=m.Ba+m.c*_;for(e(w<=m.l.o);0<T;){var X=16<T?16:T,$=m.l.ma,ee=m.l.width,ie=ee*X,xe=$.ca,Te=$.tb+ee*_,Ie=m.Ta,Be=m.Ua;lr(m,X,V,G),Ur(Ie,Be,xe,Te,ie),Ar($,_,_+X,xe,Te,ee),T-=X,V+=X*m.c,_+=X}e(_==w),m.C=m.Ma=w}function Si(){this.ub=this.yd=this.td=this.Rb=0}function Ws(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ws(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function ks(){this.Yb=(function(){var m=[];return(function w(_,T,V){for(var G=V[T],X=0;X<G&&(_.push(V.length>T+1?[]:0),!(V.length<T+1));X++)w(_[X],T+1,V)})(m,0,[3,11]),m})()}function ti(){this.jb=i(3),this.Wc=u([4,8],ks),this.Xc=u([4,17],ks)}function _n(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function tA(){this.ld=this.La=this.dd=this.tc=0}function lo(){this.Na=this.la=0}function ri(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ma(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ol(){this.uc=this.M=this.Nb=0,this.wa=Array(new tA),this.Y=0,this.ya=Array(new ma),this.aa=0,this.l=new NA}function co(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ll(){this.cb=this.a=0,this.sc="",this.m=new Y,this.Od=new Si,this.Kc=new Ws,this.ed=new _n,this.Qa=new ws,this.Ic=this.$c=this.Aa=0,this.D=new ol,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,Y),this.ia=0,this.pb=l(4,ri),this.Pa=new ti,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new co),this.Hd=0,this.rb=Array(new lo),this.sb=0,this.wa=Array(new tA),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ma),this.L=this.aa=0,this.gd=u([4,2],tA),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function NA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function uo(){var m=new ll;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Ga||(Ga=Ii)),m}function Er(m,w,_){return m.a==0&&(m.a=w,m.sc=_,m.cb=0),0}function wn(m,w,_){return 3<=_&&m[w+0]==157&&m[w+1]==1&&m[w+2]==42}function Rn(m,w){if(m==null)return 0;if(m.a=0,m.sc="OK",w==null)return Er(m,2,"null VP8Io passed to VP8GetHeaders()");var _=w.data,T=w.w,V=w.ha;if(4>V)return Er(m,7,"Truncated header.");var G=_[T+0]|_[T+1]<<8|_[T+2]<<16,X=m.Od;if(X.Rb=!(1&G),X.td=G>>1&7,X.yd=G>>4&1,X.ub=G>>5,3<X.td)return Er(m,3,"Incorrect keyframe parameters.");if(!X.yd)return Er(m,4,"Frame not displayable.");T+=3,V-=3;var $=m.Kc;if(X.Rb){if(7>V)return Er(m,7,"cannot parse picture header");if(!wn(_,T,V))return Er(m,3,"Bad code word");$.c=16383&(_[T+4]<<8|_[T+3]),$.Td=_[T+4]>>6,$.i=16383&(_[T+6]<<8|_[T+5]),$.Ud=_[T+6]>>6,T+=7,V-=7,m.za=$.c+15>>4,m.Ub=$.i+15>>4,w.width=$.c,w.height=$.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,s((G=m.Pa).jb,0,255,G.jb.length),e((G=m.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,s(G.Zb,0,0,G.Zb.length),s(G.Lb,0,0,G.Lb)}if(X.ub>V)return Er(m,7,"bad partition length");pe(G=m.m,_,T,X.ub),T+=X.ub,V-=X.ub,X.Rb&&($.Ld=Ne(G),$.Kd=Ne(G)),$=m.Qa;var ee,ie=m.Pa;if(e(G!=null),e($!=null),$.Cb=Ne(G),$.Cb){if($.Bb=Ne(G),Ne(G)){for($.Fb=Ne(G),ee=0;4>ee;++ee)$.Zb[ee]=Ne(G)?ce(G,7):0;for(ee=0;4>ee;++ee)$.Lb[ee]=Ne(G)?ce(G,6):0}if($.Bb)for(ee=0;3>ee;++ee)ie.jb[ee]=Ne(G)?te(G,8):255}else $.Bb=0;if(G.Ka)return Er(m,3,"cannot parse segment header");if(($=m.ed).zd=Ne(G),$.Tb=te(G,6),$.wb=te(G,3),$.Pc=Ne(G),$.Pc&&Ne(G)){for(ie=0;4>ie;++ie)Ne(G)&&($.vd[ie]=ce(G,6));for(ie=0;4>ie;++ie)Ne(G)&&($.od[ie]=ce(G,6))}if(m.L=$.Tb==0?0:$.zd?1:2,G.Ka)return Er(m,3,"cannot parse filter header");var xe=V;if(V=ee=T,T=ee+xe,$=xe,m.Xb=(1<<te(m.m,2))-1,xe<3*(ie=m.Xb))_=7;else{for(ee+=3*ie,$-=3*ie,xe=0;xe<ie;++xe){var Te=_[V+0]|_[V+1]<<8|_[V+2]<<16;Te>$&&(Te=$),pe(m.Jc[+xe],_,ee,Te),ee+=Te,$-=Te,V+=3}pe(m.Jc[+ie],_,ee,$),_=ee<T?0:5}if(_!=0)return Er(m,_,"cannot parse partitions");for(_=te(ee=m.m,7),V=Ne(ee)?ce(ee,4):0,T=Ne(ee)?ce(ee,4):0,$=Ne(ee)?ce(ee,4):0,ie=Ne(ee)?ce(ee,4):0,ee=Ne(ee)?ce(ee,4):0,xe=m.Qa,Te=0;4>Te;++Te){if(xe.Cb){var Ie=xe.Zb[Te];xe.Fb||(Ie+=_)}else{if(0<Te){m.pb[Te]=m.pb[0];continue}Ie=_}var Be=m.pb[Te];Be.Sc[0]=di[Ka(Ie+V,127)],Be.Sc[1]=hi[Ka(Ie+0,127)],Be.Eb[0]=2*di[Ka(Ie+T,127)],Be.Eb[1]=101581*hi[Ka(Ie+$,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=di[Ka(Ie+ie,117)],Be.Qc[1]=hi[Ka(Ie+ee,127)],Be.lc=Ie+ee}if(!X.Rb)return Er(m,4,"Not a key frame.");for(Ne(G),X=m.Pa,_=0;4>_;++_){for(V=0;8>V;++V)for(T=0;3>T;++T)for($=0;11>$;++$)ie=de(G,un[_][V][T][$])?te(G,8):tm[_][V][T][$],X.Wc[_][V].Yb[T][$]=ie;for(V=0;17>V;++V)X.Xc[_][V]=X.Wc[_][pr[V]]}return m.kc=Ne(G),m.kc&&(m.Bd=te(G,8)),m.cb=1}function Ii(m,w,_,T,V,G,X){var $=w[V].Yb[_];for(_=0;16>V;++V){if(!de(m,$[_+0]))return V;for(;!de(m,$[_+1]);)if($=w[++V].Yb[0],_=0,V==16)return 16;var ee=w[V+1].Yb;if(de(m,$[_+2])){var ie=m,xe=0;if(de(ie,(Ie=$)[(Te=_)+3]))if(de(ie,Ie[Te+6])){for($=0,Te=2*(xe=de(ie,Ie[Te+8]))+(Ie=de(ie,Ie[Te+9+xe])),xe=0,Ie=em[Te];Ie[$];++$)xe+=xe+de(ie,Ie[$]);xe+=3+(8<<Te)}else de(ie,Ie[Te+7])?(xe=7+2*de(ie,165),xe+=de(ie,145)):xe=5+de(ie,159);else xe=de(ie,Ie[Te+4])?3+de(ie,Ie[Te+5]):2;$=ee[2]}else xe=1,$=ee[1];ee=X+Qf[V],0>(ie=m).b&&me(ie);var Te,Ie=ie.b,Be=(Te=ie.Ca>>1)-(ie.I>>Ie)>>31;--ie.b,ie.Ca+=Be,ie.Ca|=1,ie.I-=(Te+1&Be)<<Ie,G[ee]=((xe^Be)-Be)*T[(0<V)+0]}return 16}function _A(m){var w=m.rb[m.sb-1];w.la=0,w.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function Lr(m,w){if(m==null)return 0;if(w==null)return Er(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!Rn(m,w))return 0;if(e(m.cb),w.ac==null||w.ac(w)){w.ob&&(m.L=0);var _=vc[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=w.v-_>>4,m.zb=w.j-_>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=w.o+15+_>>4,m.Hb=w.va+15+_>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var T=m.ed;for(_=0;4>_;++_){var V;if(m.Qa.Cb){var G=m.Qa.Lb[_];m.Qa.Fb||(G+=T.Tb)}else G=T.Tb;for(V=0;1>=V;++V){var X=m.gd[_][V],$=G;if(T.Pc&&($+=T.vd[0],V&&($+=T.od[0])),0<($=0>$?0:63<$?63:$)){var ee=$;0<T.wb&&(ee=4<T.wb?ee>>2:ee>>1)>9-T.wb&&(ee=9-T.wb),1>ee&&(ee=1),X.dd=ee,X.tc=2*$+ee,X.ld=40<=$?2:15<=$?1:0}else X.tc=0;X.La=V}}}_=0}else Er(m,6,"Frame setup failed"),_=m.a;if(_=_==0){if(_){m.$c=0,0<m.Aa||(m.Ic=Du);e:{_=m.Ic,T=4*(ee=m.za);var ie=32*ee,xe=ee+1,Te=0<m.L?ee*(0<m.Aa?2:1):0,Ie=(m.Aa==2?2:1)*ee;if((X=T+832+(V=3*(16*_+vc[m.L])/2*ie)+(G=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=X)_=0;else{if(X>m.Vb){if(m.Vb=0,m.Ec=i(X),m.Fc=0,m.Ec==null){_=Er(m,1,"no memory during frame initialization.");break e}m.Vb=X}X=m.Ec,$=m.Fc,m.Ac=X,m.Bc=$,$+=T,m.Gd=l(ie,co),m.Hd=0,m.rb=l(xe+1,lo),m.sb=1,m.wa=Te?l(Te,tA):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=ee),e(!0),m.oc=X,m.pc=$,$+=832,m.ya=l(Ie,ma),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=ee),m.R=16*ee,m.B=8*ee,ee=(ie=vc[m.L])*m.R,ie=ie/2*m.B,m.sa=X,m.ta=$+ee,m.qa=m.sa,m.ra=m.ta+16*_*m.R+ie,m.Ha=m.qa,m.Ia=m.ra+8*_*m.B+ie,m.$c=0,$+=V,m.mb=G?X:null,m.nb=G?$:null,e($+G<=m.Fc+m.Vb),_A(m),s(m.Ac,m.Bc,0,T),_=1}}if(_){if(w.ka=0,w.y=m.sa,w.O=m.ta,w.f=m.qa,w.N=m.ra,w.ea=m.Ha,w.Vd=m.Ia,w.fa=m.R,w.Rc=m.B,w.F=null,w.J=0,!mc){for(_=-255;255>=_;++_)pn[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)Hi[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)Eo[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)RA[255+_]=0>_?0:255<_?255:_;mc=1}Oi=nA,Mi=sc,xl=ho,Ms=rA,cs=cl,cn=EA,Pi=mo,dc=sA,hc=ic,za=iA,Co=jA,kA=aA,No=po,fc=gl,yl=ki,_o=ra,gc=os,qa=go,Sn[0]=ta,Sn[1]=ac,Sn[2]=ni,Sn[3]=TA,Sn[4]=Ti,Sn[5]=Bs,Sn[6]=xa,Sn[7]=ji,Sn[8]=si,Sn[9]=Rr,ia[0]=IA,ia[1]=dl,ia[2]=pa,ia[3]=SA,ia[4]=nn,ia[5]=hl,ia[6]=ea,Vi[0]=ya,Vi[1]=ul,Vi[2]=fl,Vi[3]=Ui,Vi[4]=Cs,Vi[5]=Qi,Vi[6]=Dn,_=1}else _=0}_&&(_=(function(Be,Ge){for(Be.M=0;Be.M<Be.Va;++Be.M){var ke,ye=Be.Jc[Be.M&Be.Xb],ve=Be.m,Ke=Be;for(ke=0;ke<Ke.za;++ke){var $e=ve,He=Ke,dt=He.Ac,it=He.Bc+4*ke,Lt=He.zc,lt=He.ya[He.aa+ke];if(He.Qa.Bb?lt.$b=de($e,He.Pa.jb[0])?2+de($e,He.Pa.jb[2]):de($e,He.Pa.jb[1]):lt.$b=0,He.kc&&(lt.Ad=de($e,He.Bd)),lt.Za=!de($e,145)+0,lt.Za){var Fr=lt.Ob,xr=0;for(He=0;4>He;++He){var wr,rr=Lt[0+He];for(wr=0;4>wr;++wr){rr=Es[dt[it+wr]][rr];for(var Vr=Od[de($e,rr[0])];0<Vr;)Vr=Od[2*Vr+de($e,rr[Vr])];rr=-Vr,dt[it+wr]=rr}r(Fr,xr,dt,it,4),xr+=4,Lt[0+He]=rr}}else rr=de($e,156)?de($e,128)?1:3:de($e,163)?2:0,lt.Ob[0]=rr,s(dt,it,rr,4),s(Lt,0,rr,4);lt.Dd=de($e,142)?de($e,114)?de($e,183)?1:3:2:0}if(Ke.m.Ka)return Er(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(Ke=ye,$e=(ve=Be).rb[ve.sb-1],dt=ve.rb[ve.sb+ve.ja],ke=ve.ya[ve.aa+ve.ja],it=ve.kc?ke.Ad:0)$e.la=dt.la=0,ke.Za||($e.Na=dt.Na=0),ke.Hc=0,ke.Gc=0,ke.ia=0;else{var Or,Ht;if($e=dt,dt=Ke,it=ve.Pa.Xc,Lt=ve.ya[ve.aa+ve.ja],lt=ve.pb[Lt.$b],He=Lt.ad,Fr=0,xr=ve.rb[ve.sb-1],rr=wr=0,s(He,Fr,0,384),Lt.Za)var Yr=0,us=it[3];else{Vr=i(16);var In=$e.Na+xr.Na;if(In=Ga(dt,it[1],In,lt.Eb,0,Vr,0),$e.Na=xr.Na=(0<In)+0,1<In)Oi(Vr,0,He,Fr);else{var Vs=Vr[0]+3>>3;for(Vr=0;256>Vr;Vr+=16)He[Fr+Vr]=Vs}Yr=1,us=it[0]}var Sr=15&$e.la,Ts=15&xr.la;for(Vr=0;4>Vr;++Vr){var va=1&Ts;for(Vs=Ht=0;4>Vs;++Vs)Sr=Sr>>1|(va=(In=Ga(dt,us,In=va+(1&Sr),lt.Sc,Yr,He,Fr))>Yr)<<7,Ht=Ht<<2|(3<In?3:1<In?2:He[Fr+0]!=0),Fr+=16;Sr>>=4,Ts=Ts>>1|va<<7,wr=(wr<<8|Ht)>>>0}for(us=Sr,Yr=Ts>>4,Or=0;4>Or;Or+=2){for(Ht=0,Sr=$e.la>>4+Or,Ts=xr.la>>4+Or,Vr=0;2>Vr;++Vr){for(va=1&Ts,Vs=0;2>Vs;++Vs)In=va+(1&Sr),Sr=Sr>>1|(va=0<(In=Ga(dt,it[2],In,lt.Qc,0,He,Fr)))<<3,Ht=Ht<<2|(3<In?3:1<In?2:He[Fr+0]!=0),Fr+=16;Sr>>=2,Ts=Ts>>1|va<<5}rr|=Ht<<4*Or,us|=Sr<<4<<Or,Yr|=(240&Ts)<<Or}$e.la=us,xr.la=Yr,Lt.Hc=wr,Lt.Gc=rr,Lt.ia=43690&rr?0:lt.ia,it=!(wr|rr)}if(0<ve.L&&(ve.wa[ve.Y+ve.ja]=ve.gd[ke.$b][ke.Za],ve.wa[ve.Y+ve.ja].La|=!it),Ke.Ka)return Er(Be,7,"Premature end-of-file encountered.")}if(_A(Be),ve=Ge,Ke=1,ke=(ye=Be).D,$e=0<ye.L&&ye.M>=ye.zb&&ye.M<=ye.Va,ye.Aa==0)e:{if(ke.M=ye.M,ke.uc=$e,lc(ye,ke),Ke=1,ke=(Ht=ye.D).Nb,$e=(rr=vc[ye.L])*ye.R,dt=rr/2*ye.B,Vr=16*ke*ye.R,Vs=8*ke*ye.B,it=ye.sa,Lt=ye.ta-$e+Vr,lt=ye.qa,He=ye.ra-dt+Vs,Fr=ye.Ha,xr=ye.Ia-dt+Vs,Ts=(Sr=Ht.M)==0,wr=Sr>=ye.Va-1,ye.Aa==2&&lc(ye,Ht),Ht.uc)for(va=(In=ye).D.M,e(In.D.uc),Ht=In.yb;Ht<In.Hb;++Ht){Yr=Ht,us=va;var Jn=(Tn=(Bn=In).D).Nb;Or=Bn.R;var Tn=Tn.wa[Tn.Y+Yr],ds=Bn.sa,Xa=Bn.ta+16*Jn*Or+16*Yr,gi=Tn.dd,zn=Tn.tc;if(zn!=0)if(e(3<=zn),Bn.L==1)0<Yr&&_o(ds,Xa,Or,zn+4),Tn.La&&qa(ds,Xa,Or,zn),0<us&&yl(ds,Xa,Or,zn+4),Tn.La&&gc(ds,Xa,Or,zn);else{var Pn=Bn.B,hs=Bn.qa,Ya=Bn.ra+8*Jn*Pn+8*Yr,cA=Bn.Ha,Bn=Bn.Ia+8*Jn*Pn+8*Yr;Jn=Tn.ld,0<Yr&&(dc(ds,Xa,Or,zn+4,gi,Jn),za(hs,Ya,cA,Bn,Pn,zn+4,gi,Jn)),Tn.La&&(kA(ds,Xa,Or,zn,gi,Jn),fc(hs,Ya,cA,Bn,Pn,zn,gi,Jn)),0<us&&(Pi(ds,Xa,Or,zn+4,gi,Jn),hc(hs,Ya,cA,Bn,Pn,zn+4,gi,Jn)),Tn.La&&(Co(ds,Xa,Or,zn,gi,Jn),No(hs,Ya,cA,Bn,Pn,zn,gi,Jn))}}if(ye.ia&&alert("todo:DitherRow"),ve.put!=null){if(Ht=16*Sr,Sr=16*(Sr+1),Ts?(ve.y=ye.sa,ve.O=ye.ta+Vr,ve.f=ye.qa,ve.N=ye.ra+Vs,ve.ea=ye.Ha,ve.W=ye.Ia+Vs):(Ht-=rr,ve.y=it,ve.O=Lt,ve.f=lt,ve.N=He,ve.ea=Fr,ve.W=xr),wr||(Sr-=rr),Sr>ve.o&&(Sr=ve.o),ve.F=null,ve.J=null,ye.Fa!=null&&0<ye.Fa.length&&Ht<Sr&&(ve.J=Va(ye,ve,Ht,Sr-Ht),ve.F=ye.mb,ve.F==null&&ve.F.length==0)){Ke=Er(ye,3,"Could not decode alpha data.");break e}Ht<ve.j&&(rr=ve.j-Ht,Ht=ve.j,e(!(1&rr)),ve.O+=ye.R*rr,ve.N+=ye.B*(rr>>1),ve.W+=ye.B*(rr>>1),ve.F!=null&&(ve.J+=ve.width*rr)),Ht<Sr&&(ve.O+=ve.v,ve.N+=ve.v>>1,ve.W+=ve.v>>1,ve.F!=null&&(ve.J+=ve.v),ve.ka=Ht-ve.j,ve.U=ve.va-ve.v,ve.T=Sr-Ht,Ke=ve.put(ve))}ke+1!=ye.Ic||wr||(r(ye.sa,ye.ta-$e,it,Lt+16*ye.R,$e),r(ye.qa,ye.ra-dt,lt,He+8*ye.B,dt),r(ye.Ha,ye.Ia-dt,Fr,xr+8*ye.B,dt))}if(!Ke)return Er(Be,6,"Output aborted.")}return 1})(m,w)),w.bc!=null&&w.bc(w),_&=1}return _?(m.cb=0,_):0}function vs(m,w,_,T,V){V=m[w+_+32*T]+(V>>3),m[w+_+32*T]=-256&V?0>V?0:255:V}function Zs(m,w,_,T,V,G){vs(m,w,0,_,T+V),vs(m,w,1,_,T+G),vs(m,w,2,_,T-G),vs(m,w,3,_,T-V)}function Kn(m){return(20091*m>>16)+m}function is(m,w,_,T){var V,G=0,X=i(16);for(V=0;4>V;++V){var $=m[w+0]+m[w+8],ee=m[w+0]-m[w+8],ie=(35468*m[w+4]>>16)-Kn(m[w+12]),xe=Kn(m[w+4])+(35468*m[w+12]>>16);X[G+0]=$+xe,X[G+1]=ee+ie,X[G+2]=ee-ie,X[G+3]=$-xe,G+=4,w++}for(V=G=0;4>V;++V)$=(m=X[G+0]+4)+X[G+8],ee=m-X[G+8],ie=(35468*X[G+4]>>16)-Kn(X[G+12]),vs(_,T,0,0,$+(xe=Kn(X[G+4])+(35468*X[G+12]>>16))),vs(_,T,1,0,ee+ie),vs(_,T,2,0,ee-ie),vs(_,T,3,0,$-xe),G++,T+=32}function EA(m,w,_,T){var V=m[w+0]+4,G=35468*m[w+4]>>16,X=Kn(m[w+4]),$=35468*m[w+1]>>16;Zs(_,T,0,V+X,m=Kn(m[w+1]),$),Zs(_,T,1,V+G,m,$),Zs(_,T,2,V-G,m,$),Zs(_,T,3,V-X,m,$)}function sc(m,w,_,T,V){is(m,w,_,T),V&&is(m,w+16,_,T+4)}function ho(m,w,_,T){Mi(m,w+0,_,T,1),Mi(m,w+32,_,T+128,1)}function rA(m,w,_,T){var V;for(m=m[w+0]+4,V=0;4>V;++V)for(w=0;4>w;++w)vs(_,T,w,V,m)}function cl(m,w,_,T){m[w+0]&&Ms(m,w+0,_,T),m[w+16]&&Ms(m,w+16,_,T+4),m[w+32]&&Ms(m,w+32,_,T+128),m[w+48]&&Ms(m,w+48,_,T+128+4)}function nA(m,w,_,T){var V,G=i(16);for(V=0;4>V;++V){var X=m[w+0+V]+m[w+12+V],$=m[w+4+V]+m[w+8+V],ee=m[w+4+V]-m[w+8+V],ie=m[w+0+V]-m[w+12+V];G[0+V]=X+$,G[8+V]=X-$,G[4+V]=ie+ee,G[12+V]=ie-ee}for(V=0;4>V;++V)X=(m=G[0+4*V]+3)+G[3+4*V],$=G[1+4*V]+G[2+4*V],ee=G[1+4*V]-G[2+4*V],ie=m-G[3+4*V],_[T+0]=X+$>>3,_[T+16]=ie+ee>>3,_[T+32]=X-$>>3,_[T+48]=ie-ee>>3,T+=64}function As(m,w,_){var T,V=w-32,G=Ps,X=255-m[V-1];for(T=0;T<_;++T){var $,ee=G,ie=X+m[w-1];for($=0;$<_;++$)m[w+$]=ee[ie+m[V+$]];w+=32}}function ac(m,w){As(m,w,4)}function ul(m,w){As(m,w,8)}function dl(m,w){As(m,w,16)}function pa(m,w){var _;for(_=0;16>_;++_)r(m,w+32*_,m,w-32,16)}function SA(m,w){var _;for(_=16;0<_;--_)s(m,w,m[w-1],16),w+=32}function Ma(m,w,_){var T;for(T=0;16>T;++T)s(w,_+32*T,m,16)}function IA(m,w){var _,T=16;for(_=0;16>_;++_)T+=m[w-1+32*_]+m[w+_-32];Ma(T>>5,m,w)}function nn(m,w){var _,T=8;for(_=0;16>_;++_)T+=m[w-1+32*_];Ma(T>>4,m,w)}function hl(m,w){var _,T=8;for(_=0;16>_;++_)T+=m[w+_-32];Ma(T>>4,m,w)}function ea(m,w){Ma(128,m,w)}function Ot(m,w,_){return m+2*w+_+2>>2}function ni(m,w){var _,T=w-32;for(T=new Uint8Array([Ot(m[T-1],m[T+0],m[T+1]),Ot(m[T+0],m[T+1],m[T+2]),Ot(m[T+1],m[T+2],m[T+3]),Ot(m[T+2],m[T+3],m[T+4])]),_=0;4>_;++_)r(m,w+32*_,T,0,T.length)}function TA(m,w){var _=m[w-1],T=m[w-1+32],V=m[w-1+64],G=m[w-1+96];Oe(m,w+0,16843009*Ot(m[w-1-32],_,T)),Oe(m,w+32,16843009*Ot(_,T,V)),Oe(m,w+64,16843009*Ot(T,V,G)),Oe(m,w+96,16843009*Ot(V,G,G))}function ta(m,w){var _,T=4;for(_=0;4>_;++_)T+=m[w+_-32]+m[w-1+32*_];for(T>>=3,_=0;4>_;++_)s(m,w+32*_,T,4)}function Ti(m,w){var _=m[w-1+0],T=m[w-1+32],V=m[w-1+64],G=m[w-1-32],X=m[w+0-32],$=m[w+1-32],ee=m[w+2-32],ie=m[w+3-32];m[w+0+96]=Ot(T,V,m[w-1+96]),m[w+1+96]=m[w+0+64]=Ot(_,T,V),m[w+2+96]=m[w+1+64]=m[w+0+32]=Ot(G,_,T),m[w+3+96]=m[w+2+64]=m[w+1+32]=m[w+0+0]=Ot(X,G,_),m[w+3+64]=m[w+2+32]=m[w+1+0]=Ot($,X,G),m[w+3+32]=m[w+2+0]=Ot(ee,$,X),m[w+3+0]=Ot(ie,ee,$)}function xa(m,w){var _=m[w+1-32],T=m[w+2-32],V=m[w+3-32],G=m[w+4-32],X=m[w+5-32],$=m[w+6-32],ee=m[w+7-32];m[w+0+0]=Ot(m[w+0-32],_,T),m[w+1+0]=m[w+0+32]=Ot(_,T,V),m[w+2+0]=m[w+1+32]=m[w+0+64]=Ot(T,V,G),m[w+3+0]=m[w+2+32]=m[w+1+64]=m[w+0+96]=Ot(V,G,X),m[w+3+32]=m[w+2+64]=m[w+1+96]=Ot(G,X,$),m[w+3+64]=m[w+2+96]=Ot(X,$,ee),m[w+3+96]=Ot($,ee,ee)}function Bs(m,w){var _=m[w-1+0],T=m[w-1+32],V=m[w-1+64],G=m[w-1-32],X=m[w+0-32],$=m[w+1-32],ee=m[w+2-32],ie=m[w+3-32];m[w+0+0]=m[w+1+64]=G+X+1>>1,m[w+1+0]=m[w+2+64]=X+$+1>>1,m[w+2+0]=m[w+3+64]=$+ee+1>>1,m[w+3+0]=ee+ie+1>>1,m[w+0+96]=Ot(V,T,_),m[w+0+64]=Ot(T,_,G),m[w+0+32]=m[w+1+96]=Ot(_,G,X),m[w+1+32]=m[w+2+96]=Ot(G,X,$),m[w+2+32]=m[w+3+96]=Ot(X,$,ee),m[w+3+32]=Ot($,ee,ie)}function ji(m,w){var _=m[w+0-32],T=m[w+1-32],V=m[w+2-32],G=m[w+3-32],X=m[w+4-32],$=m[w+5-32],ee=m[w+6-32],ie=m[w+7-32];m[w+0+0]=_+T+1>>1,m[w+1+0]=m[w+0+64]=T+V+1>>1,m[w+2+0]=m[w+1+64]=V+G+1>>1,m[w+3+0]=m[w+2+64]=G+X+1>>1,m[w+0+32]=Ot(_,T,V),m[w+1+32]=m[w+0+96]=Ot(T,V,G),m[w+2+32]=m[w+1+96]=Ot(V,G,X),m[w+3+32]=m[w+2+96]=Ot(G,X,$),m[w+3+64]=Ot(X,$,ee),m[w+3+96]=Ot($,ee,ie)}function Rr(m,w){var _=m[w-1+0],T=m[w-1+32],V=m[w-1+64],G=m[w-1+96];m[w+0+0]=_+T+1>>1,m[w+2+0]=m[w+0+32]=T+V+1>>1,m[w+2+32]=m[w+0+64]=V+G+1>>1,m[w+1+0]=Ot(_,T,V),m[w+3+0]=m[w+1+32]=Ot(T,V,G),m[w+3+32]=m[w+1+64]=Ot(V,G,G),m[w+3+64]=m[w+2+64]=m[w+0+96]=m[w+1+96]=m[w+2+96]=m[w+3+96]=G}function si(m,w){var _=m[w-1+0],T=m[w-1+32],V=m[w-1+64],G=m[w-1+96],X=m[w-1-32],$=m[w+0-32],ee=m[w+1-32],ie=m[w+2-32];m[w+0+0]=m[w+2+32]=_+X+1>>1,m[w+0+32]=m[w+2+64]=T+_+1>>1,m[w+0+64]=m[w+2+96]=V+T+1>>1,m[w+0+96]=G+V+1>>1,m[w+3+0]=Ot($,ee,ie),m[w+2+0]=Ot(X,$,ee),m[w+1+0]=m[w+3+32]=Ot(_,X,$),m[w+1+32]=m[w+3+64]=Ot(T,_,X),m[w+1+64]=m[w+3+96]=Ot(V,T,_),m[w+1+96]=Ot(G,V,T)}function fl(m,w){var _;for(_=0;8>_;++_)r(m,w+32*_,m,w-32,8)}function Ui(m,w){var _;for(_=0;8>_;++_)s(m,w,m[w-1],8),w+=32}function Fi(m,w,_){var T;for(T=0;8>T;++T)s(w,_+32*T,m,8)}function ya(m,w){var _,T=8;for(_=0;8>_;++_)T+=m[w+_-32]+m[w-1+32*_];Fi(T>>4,m,w)}function Qi(m,w){var _,T=4;for(_=0;8>_;++_)T+=m[w+_-32];Fi(T>>3,m,w)}function Cs(m,w){var _,T=4;for(_=0;8>_;++_)T+=m[w-1+32*_];Fi(T>>3,m,w)}function Dn(m,w){Fi(128,m,w)}function ba(m,w,_){var T=m[w-_],V=m[w+0],G=3*(V-T)+DA[1020+m[w-2*_]-m[w+_]],X=Fu[112+(G+4>>3)];m[w-_]=Ps[255+T+Fu[112+(G+3>>3)]],m[w+0]=Ps[255+V-X]}function Pa(m,w,_,T){var V=m[w+0],G=m[w+_];return _s[255+m[w-2*_]-m[w-_]]>T||_s[255+G-V]>T}function Li(m,w,_,T){return 4*_s[255+m[w-_]-m[w+0]]+_s[255+m[w-2*_]-m[w+_]]<=T}function fo(m,w,_,T,V){var G=m[w-3*_],X=m[w-2*_],$=m[w-_],ee=m[w+0],ie=m[w+_],xe=m[w+2*_],Te=m[w+3*_];return 4*_s[255+$-ee]+_s[255+X-ie]>T?0:_s[255+m[w-4*_]-G]<=V&&_s[255+G-X]<=V&&_s[255+X-$]<=V&&_s[255+Te-xe]<=V&&_s[255+xe-ie]<=V&&_s[255+ie-ee]<=V}function ki(m,w,_,T){var V=2*T+1;for(T=0;16>T;++T)Li(m,w+T,_,V)&&ba(m,w+T,_)}function ra(m,w,_,T){var V=2*T+1;for(T=0;16>T;++T)Li(m,w+T*_,1,V)&&ba(m,w+T*_,1)}function os(m,w,_,T){var V;for(V=3;0<V;--V)ki(m,w+=4*_,_,T)}function go(m,w,_,T){var V;for(V=3;0<V;--V)ra(m,w+=4,_,T)}function ai(m,w,_,T,V,G,X,$){for(G=2*G+1;0<V--;){if(fo(m,w,_,G,X))if(Pa(m,w,_,$))ba(m,w,_);else{var ee=m,ie=w,xe=_,Te=ee[ie-2*xe],Ie=ee[ie-xe],Be=ee[ie+0],Ge=ee[ie+xe],ke=ee[ie+2*xe],ye=27*(Ke=DA[1020+3*(Be-Ie)+DA[1020+Te-Ge]])+63>>7,ve=18*Ke+63>>7,Ke=9*Ke+63>>7;ee[ie-3*xe]=Ps[255+ee[ie-3*xe]+Ke],ee[ie-2*xe]=Ps[255+Te+ve],ee[ie-xe]=Ps[255+Ie+ye],ee[ie+0]=Ps[255+Be-ye],ee[ie+xe]=Ps[255+Ge-ve],ee[ie+2*xe]=Ps[255+ke-Ke]}w+=T}}function Ns(m,w,_,T,V,G,X,$){for(G=2*G+1;0<V--;){if(fo(m,w,_,G,X))if(Pa(m,w,_,$))ba(m,w,_);else{var ee=m,ie=w,xe=_,Te=ee[ie-xe],Ie=ee[ie+0],Be=ee[ie+xe],Ge=Fu[112+((ke=3*(Ie-Te))+4>>3)],ke=Fu[112+(ke+3>>3)],ye=Ge+1>>1;ee[ie-2*xe]=Ps[255+ee[ie-2*xe]+ye],ee[ie-xe]=Ps[255+Te+ke],ee[ie+0]=Ps[255+Ie-Ge],ee[ie+xe]=Ps[255+Be-ye]}w+=T}}function mo(m,w,_,T,V,G){ai(m,w,_,1,16,T,V,G)}function sA(m,w,_,T,V,G){ai(m,w,1,_,16,T,V,G)}function jA(m,w,_,T,V,G){var X;for(X=3;0<X;--X)Ns(m,w+=4*_,_,1,16,T,V,G)}function aA(m,w,_,T,V,G){var X;for(X=3;0<X;--X)Ns(m,w+=4,1,_,16,T,V,G)}function ic(m,w,_,T,V,G,X,$){ai(m,w,V,1,8,G,X,$),ai(_,T,V,1,8,G,X,$)}function iA(m,w,_,T,V,G,X,$){ai(m,w,1,V,8,G,X,$),ai(_,T,1,V,8,G,X,$)}function po(m,w,_,T,V,G,X,$){Ns(m,w+4*V,V,1,8,G,X,$),Ns(_,T+4*V,V,1,8,G,X,$)}function gl(m,w,_,T,V,G,X,$){Ns(m,w+4,1,V,8,G,X,$),Ns(_,T+4,1,V,8,G,X,$)}function na(){this.ba=new fr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ml(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new k}function Ac(){this.xb=this.a=0,this.l=new NA,this.ca=new fr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ml,this.ab=0,this.gc=l(4,yo),this.Oc=0}function Ha(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new NA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function On(m,w,_,T,V,G,X){for(m=m==null?0:m[w+0],w=0;w<X;++w)V[G+w]=m+_[T+w]&255,m=V[G+w]}function bo(m,w,_,T,V,G,X){var $;if(m==null)On(null,null,_,T,V,G,X);else for($=0;$<X;++$)V[G+$]=m[w+$]+_[T+$]&255}function Ri(m,w,_,T,V,G,X){if(m==null)On(null,null,_,T,V,G,X);else{var $,ee=m[w+0],ie=ee,xe=ee;for($=0;$<X;++$)ie=xe+(ee=m[w+$])-ie,xe=_[T+$]+(-256&ie?0>ie?0:255:ie)&255,ie=ee,V[G+$]=xe}}function Va(m,w,_,T){var V=w.width,G=w.o;if(e(m!=null&&w!=null),0>_||0>=T||_+T>G)return null;if(!m.Cc){if(m.ga==null){var X;if(m.ga=new Ha,(X=m.ga==null)||(X=w.width*w.o,e(m.Gb.length==0),m.Gb=i(X),m.Uc=0,m.Gb==null?X=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,X=1),X=!X),!X){X=m.ga;var $=m.Fa,ee=m.P,ie=m.qc,xe=m.mb,Te=m.nb,Ie=ee+1,Be=ie-1,Ge=X.l;if(e($!=null&&xe!=null&&w!=null),OA[0]=null,OA[1]=On,OA[2]=bo,OA[3]=Ri,X.ca=xe,X.tb=Te,X.c=w.width,X.i=w.height,e(0<X.c&&0<X.i),1>=ie)w=0;else if(X.$a=$[ee+0]>>0&3,X.Z=$[ee+0]>>2&3,X.Lc=$[ee+0]>>4&3,ee=$[ee+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||ee)w=0;else if(Ge.put=bn,Ge.ac=Xr,Ge.bc=qe,Ge.ma=X,Ge.width=w.width,Ge.height=w.height,Ge.Da=w.Da,Ge.v=w.v,Ge.va=w.va,Ge.j=w.j,Ge.o=w.o,X.$a)e:{e(X.$a==1),w=ga();t:for(;;){if(w==null){w=0;break e}if(e(X!=null),X.mc=w,w.c=X.c,w.i=X.i,w.l=X.l,w.l.ma=X,w.l.width=X.c,w.l.height=X.i,w.a=0,ne(w.m,$,Ie,Be),!Oa(X.c,X.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&cr(w.s)?(X.ic=1,$=w.c*w.i,w.Ta=null,w.Ua=0,w.V=i($),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(X.ic=0,w=eA(w,X.c)),!w))break t;w=1;break e}X.mc=null,w=0}else w=Be>=X.c*X.i;X=!w}if(X)return null;m.ga.Lc!=1?m.Ga=0:T=G-_}e(m.ga!=null),e(_+T<=G);e:{if(w=($=m.ga).c,G=$.l.o,$.$a==0){if(Ie=m.rc,Be=m.Vc,Ge=m.Fa,ee=m.P+1+_*w,ie=m.mb,xe=m.nb+_*w,e(ee<=m.P+m.qc),$.Z!=0)for(e(OA[$.Z]!=null),X=0;X<T;++X)OA[$.Z](Ie,Be,Ge,ee,ie,xe,w),Ie=ie,Be=xe,xe+=w,ee+=w;else for(X=0;X<T;++X)r(ie,xe,Ge,ee,w),Ie=ie,Be=xe,xe+=w,ee+=w;m.rc=Ie,m.Vc=Be}else{if(e($.mc!=null),w=_+T,e((X=$.mc)!=null),e(w<=X.i),X.C>=w)w=1;else if($.ic||Z(),$.ic){$=X.V,Ie=X.Ba,Be=X.c;var ke=X.i,ye=(Ge=1,ee=X.$/Be,ie=X.$%Be,xe=X.m,Te=X.s,X.$),ve=Be*ke,Ke=Be*w,$e=Te.wc,He=ye<Ke?Ft(Te,ie,ee):null;e(ye<=ve),e(w<=ke),e(cr(Te));t:for(;;){for(;!xe.h&&ye<Ke;){if(ie&$e||(He=Ft(Te,ie,ee)),e(He!=null),ue(xe),256>(ke=Tt(He.G[0],He.H[0],xe)))$[Ie+ye]=ke,++ye,++ie>=Be&&(ie=0,++ee<=w&&!(ee%16)&&kr(X,ee));else{if(!(280>ke)){Ge=0;break t}ke=rt(ke-256,xe);var dt,it=Tt(He.G[4],He.H[4],xe);if(ue(xe),!(ye>=(it=xt(Be,it=rt(it,xe)))&&ve-ye>=ke)){Ge=0;break t}for(dt=0;dt<ke;++dt)$[Ie+ye+dt]=$[Ie+ye+dt-it];for(ye+=ke,ie+=ke;ie>=Be;)ie-=Be,++ee<=w&&!(ee%16)&&kr(X,ee);ye<Ke&&ie&$e&&(He=Ft(Te,ie,ee))}e(xe.h==z(xe))}kr(X,ee>w?w:ee);break t}!Ge||xe.h&&ye<ve?(Ge=0,X.a=xe.h?5:3):X.$=ye,w=Ge}else w=Vn(X,X.V,X.Ba,X.c,X.i,w,Js);if(!w){T=0;break e}}_+T>=G&&(m.Cc=1),T=1}if(!T)return null;if(m.Cc&&((T=m.ga)!=null&&(T.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+_*V}function d(m,w,_,T,V,G){for(;0<V--;){var X,$=m,ee=w+(_?1:0),ie=m,xe=w+(_?0:3);for(X=0;X<T;++X){var Te=ie[xe+4*X];Te!=255&&(Te*=32897,$[ee+4*X+0]=$[ee+4*X+0]*Te>>23,$[ee+4*X+1]=$[ee+4*X+1]*Te>>23,$[ee+4*X+2]=$[ee+4*X+2]*Te>>23)}w+=G}}function y(m,w,_,T,V){for(;0<T--;){var G;for(G=0;G<_;++G){var X=m[w+2*G+0],$=15&(ie=m[w+2*G+1]),ee=4369*$,ie=(240&ie|ie>>4)*ee>>16;m[w+2*G+0]=(240&X|X>>4)*ee>>16&240|(15&X|X<<4)*ee>>16>>4&15,m[w+2*G+1]=240&ie|$}w+=V}}function N(m,w,_,T,V,G,X,$){var ee,ie,xe=255;for(ie=0;ie<V;++ie){for(ee=0;ee<T;++ee){var Te=m[w+ee];G[X+4*ee]=Te,xe&=Te}w+=_,X+=$}return xe!=255}function L(m,w,_,T,V){var G;for(G=0;G<V;++G)_[T+G]=m[w+G]>>8}function Z(){wa=d,mr=y,Hr=N,Ur=L}function le(m,w,_){S[m]=function(T,V,G,X,$,ee,ie,xe,Te,Ie,Be,Ge,ke,ye,ve,Ke,$e){var He,dt=$e-1>>1,it=$[ee+0]|ie[xe+0]<<16,Lt=Te[Ie+0]|Be[Ge+0]<<16;e(T!=null);var lt=3*it+Lt+131074>>2;for(w(T[V+0],255&lt,lt>>16,ke,ye),G!=null&&(lt=3*Lt+it+131074>>2,w(G[X+0],255&lt,lt>>16,ve,Ke)),He=1;He<=dt;++He){var Fr=$[ee+He]|ie[xe+He]<<16,xr=Te[Ie+He]|Be[Ge+He]<<16,wr=it+Fr+Lt+xr+524296,rr=wr+2*(Fr+Lt)>>3;lt=rr+it>>1,it=(wr=wr+2*(it+xr)>>3)+Fr>>1,w(T[V+2*He-1],255&lt,lt>>16,ke,ye+(2*He-1)*_),w(T[V+2*He-0],255&it,it>>16,ke,ye+(2*He-0)*_),G!=null&&(lt=wr+Lt>>1,it=rr+xr>>1,w(G[X+2*He-1],255&lt,lt>>16,ve,Ke+(2*He-1)*_),w(G[X+2*He+0],255&it,it>>16,ve,Ke+(2*He+0)*_)),it=Fr,Lt=xr}1&$e||(lt=3*it+Lt+131074>>2,w(T[V+$e-1],255&lt,lt>>16,ke,ye+($e-1)*_),G!=null&&(lt=3*Lt+it+131074>>2,w(G[X+$e-1],255&lt,lt>>16,ve,Ke+($e-1)*_)))}}function Ce(){Ss[Qd]=wl,Ss[Hs]=bc,Ss[Ld]=kf,Ss[oi]=Md,Ss[Qu]=jo,Ss[pc]=lA,Ss[So]=Uo,Ss[Lu]=bc,Ss[kd]=Md,Ss[xc]=jo,Ss[Rd]=lA}function Ye(m){return m&-16384?0>m?0:255:m>>Pd}function ut(m,w){return Ye((19077*m>>8)+(26149*w>>8)-14234)}function ht(m,w,_){return Ye((19077*m>>8)-(6419*w>>8)-(13320*_>>8)+8708)}function bt(m,w){return Ye((19077*m>>8)+(33050*w>>8)-17685)}function Jt(m,w,_,T,V){T[V+0]=ut(m,_),T[V+1]=ht(m,w,_),T[V+2]=bt(m,w)}function Tr(m,w,_,T,V){T[V+0]=bt(m,w),T[V+1]=ht(m,w,_),T[V+2]=ut(m,_)}function jr(m,w,_,T,V){var G=ht(m,w,_);w=G<<3&224|bt(m,w)>>3,T[V+0]=248&ut(m,_)|G>>5,T[V+1]=w}function Dr(m,w,_,T,V){var G=240&bt(m,w)|15;T[V+0]=240&ut(m,_)|ht(m,w,_)>>4,T[V+1]=G}function En(m,w,_,T,V){T[V+0]=255,Jt(m,w,_,T,V+1)}function vn(m,w,_,T,V){Tr(m,w,_,T,V),T[V+3]=255}function Rs(m,w,_,T,V){Jt(m,w,_,T,V),T[V+3]=255}function Ka(m,w){return 0>m?0:m>w?w:m}function AA(m,w,_){S[m]=function(T,V,G,X,$,ee,ie,xe,Te){for(var Ie=xe+(-2&Te)*_;xe!=Ie;)w(T[V+0],G[X+0],$[ee+0],ie,xe),w(T[V+1],G[X+0],$[ee+0],ie,xe+_),V+=2,++X,++ee,xe+=2*_;1&Te&&w(T[V+0],G[X+0],$[ee+0],ie,xe)}}function Td(m,w,_){return _==0?m==0?w==0?6:5:w==0?4:0:_}function oc(m,w,_,T,V){switch(m>>>30){case 3:Mi(w,_,T,V,0);break;case 2:cn(w,_,T,V);break;case 1:Ms(w,_,T,V)}}function lc(m,w){var _,T,V=w.M,G=w.Nb,X=m.oc,$=m.pc+40,ee=m.oc,ie=m.pc+584,xe=m.oc,Te=m.pc+600;for(_=0;16>_;++_)X[$+32*_-1]=129;for(_=0;8>_;++_)ee[ie+32*_-1]=129,xe[Te+32*_-1]=129;for(0<V?X[$-1-32]=ee[ie-1-32]=xe[Te-1-32]=129:(s(X,$-32-1,127,21),s(ee,ie-32-1,127,9),s(xe,Te-32-1,127,9)),T=0;T<m.za;++T){var Ie=w.ya[w.aa+T];if(0<T){for(_=-1;16>_;++_)r(X,$+32*_-4,X,$+32*_+12,4);for(_=-1;8>_;++_)r(ee,ie+32*_-4,ee,ie+32*_+4,4),r(xe,Te+32*_-4,xe,Te+32*_+4,4)}var Be=m.Gd,Ge=m.Hd+T,ke=Ie.ad,ye=Ie.Hc;if(0<V&&(r(X,$-32,Be[Ge].y,0,16),r(ee,ie-32,Be[Ge].f,0,8),r(xe,Te-32,Be[Ge].ea,0,8)),Ie.Za){var ve=X,Ke=$-32+16;for(0<V&&(T>=m.za-1?s(ve,Ke,Be[Ge].y[15],4):r(ve,Ke,Be[Ge+1].y,0,4)),_=0;4>_;_++)ve[Ke+128+_]=ve[Ke+256+_]=ve[Ke+384+_]=ve[Ke+0+_];for(_=0;16>_;++_,ye<<=2)ve=X,Ke=$+Mn[_],Sn[Ie.Ob[_]](ve,Ke),oc(ye,ke,16*+_,ve,Ke)}else if(ve=Td(T,V,Ie.Ob[0]),ia[ve](X,$),ye!=0)for(_=0;16>_;++_,ye<<=2)oc(ye,ke,16*+_,X,$+Mn[_]);for(_=Ie.Gc,ve=Td(T,V,Ie.Dd),Vi[ve](ee,ie),Vi[ve](xe,Te),ye=ke,ve=ee,Ke=ie,255&(Ie=_>>0)&&(170&Ie?xl(ye,256,ve,Ke):cs(ye,256,ve,Ke)),Ie=xe,ye=Te,255&(_>>=8)&&(170&_?xl(ke,320,Ie,ye):cs(ke,320,Ie,ye)),V<m.Ub-1&&(r(Be[Ge].y,0,X,$+480,16),r(Be[Ge].f,0,ee,ie+224,8),r(Be[Ge].ea,0,xe,Te+224,8)),_=8*G*m.B,Be=m.sa,Ge=m.ta+16*T+16*G*m.R,ke=m.qa,Ie=m.ra+8*T+_,ye=m.Ha,ve=m.Ia+8*T+_,_=0;16>_;++_)r(Be,Ge+_*m.R,X,$+32*_,16);for(_=0;8>_;++_)r(ke,Ie+_*m.B,ee,ie+32*_,8),r(ye,ve+_*m.B,xe,Te+32*_,8)}}function oA(m,w,_,T,V,G,X,$,ee){var ie=[0],xe=[0],Te=0,Ie=ee!=null?ee.kd:0,Be=ee??new xo;if(m==null||12>_)return 7;Be.data=m,Be.w=w,Be.ha=_,w=[w],_=[_],Be.gb=[Be.gb];e:{var Ge=w,ke=_,ye=Be.gb;if(e(m!=null),e(ke!=null),e(ye!=null),ye[0]=0,12<=ke[0]&&!t(m,Ge[0],"RIFF")){if(t(m,Ge[0]+8,"WEBP")){ye=3;break e}var ve=tt(m,Ge[0]+4);if(12>ve||4294967286<ve){ye=3;break e}if(Ie&&ve>ke[0]-8){ye=7;break e}ye[0]=ve,Ge[0]+=12,ke[0]-=12}ye=0}if(ye!=0)return ye;for(ve=0<Be.gb[0],_=_[0];;){e:{var Ke=m;ke=w,ye=_;var $e=ie,He=xe,dt=Ge=[0];if((lt=Te=[Te])[0]=0,8>ye[0])ye=7;else{if(!t(Ke,ke[0],"VP8X")){if(tt(Ke,ke[0]+4)!=10){ye=3;break e}if(18>ye[0]){ye=7;break e}var it=tt(Ke,ke[0]+8),Lt=1+et(Ke,ke[0]+12);if(2147483648<=Lt*(Ke=1+et(Ke,ke[0]+15))){ye=3;break e}dt!=null&&(dt[0]=it),$e!=null&&($e[0]=Lt),He!=null&&(He[0]=Ke),ke[0]+=18,ye[0]-=18,lt[0]=1}ye=0}}if(Te=Te[0],Ge=Ge[0],ye!=0)return ye;if(ke=!!(2&Ge),!ve&&Te)return 3;if(G!=null&&(G[0]=!!(16&Ge)),X!=null&&(X[0]=ke),$!=null&&($[0]=0),X=ie[0],Ge=xe[0],Te&&ke&&ee==null){ye=0;break}if(4>_){ye=7;break}if(ve&&Te||!ve&&!Te&&!t(m,w[0],"ALPH")){_=[_],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{it=m,ye=w,ve=_;var lt=Be.gb;$e=Be.na,He=Be.P,dt=Be.Sa,Lt=22,e(it!=null),e(ve!=null),Ke=ye[0];var Fr=ve[0];for(e($e!=null),e(dt!=null),$e[0]=null,He[0]=null,dt[0]=0;;){if(ye[0]=Ke,ve[0]=Fr,8>Fr){ye=7;break e}var xr=tt(it,Ke+4);if(4294967286<xr){ye=3;break e}var wr=8+xr+1&-2;if(Lt+=wr,0<lt&&Lt>lt){ye=3;break e}if(!t(it,Ke,"VP8 ")||!t(it,Ke,"VP8L")){ye=0;break e}if(Fr[0]<wr){ye=7;break e}t(it,Ke,"ALPH")||($e[0]=it,He[0]=Ke+8,dt[0]=xr),Ke+=wr,Fr-=wr}}if(_=_[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],ye!=0)break}_=[_],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(lt=m,ye=w,ve=_,$e=Be.gb[0],He=Be.Ja,dt=Be.xa,it=ye[0],Ke=!t(lt,it,"VP8 "),Lt=!t(lt,it,"VP8L"),e(lt!=null),e(ve!=null),e(He!=null),e(dt!=null),8>ve[0])ye=7;else{if(Ke||Lt){if(lt=tt(lt,it+4),12<=$e&&lt>$e-12){ye=3;break e}if(Ie&&lt>ve[0]-8){ye=7;break e}He[0]=lt,ye[0]+=8,ve[0]-=8,dt[0]=Lt}else dt[0]=5<=ve[0]&&lt[it+0]==47&&!(lt[it+4]>>5),He[0]=ve[0];ye=0}if(_=_[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],w=w[0],ye!=0)break;if(4294967286<Be.Ja)return 3;if($==null||ke||($[0]=Be.xa?2:1),X=[X],Ge=[Ge],Be.xa){if(5>_){ye=7;break}$=X,Ie=Ge,ke=G,m==null||5>_?m=0:5<=_&&m[w+0]==47&&!(m[w+4]>>5)?(ve=[0],lt=[0],$e=[0],ne(He=new Q,m,w,_),Pe(He,ve,lt,$e)?($!=null&&($[0]=ve[0]),Ie!=null&&(Ie[0]=lt[0]),ke!=null&&(ke[0]=$e[0]),m=1):m=0):m=0}else{if(10>_){ye=7;break}$=Ge,m==null||10>_||!wn(m,w+3,_-3)?m=0:(Ie=m[w+0]|m[w+1]<<8|m[w+2]<<16,ke=16383&(m[w+7]<<8|m[w+6]),m=16383&(m[w+9]<<8|m[w+8]),1&Ie||3<(Ie>>1&7)||!(Ie>>4&1)||Ie>>5>=Be.Ja||!ke||!m?m=0:(X&&(X[0]=ke),$&&($[0]=m),m=1))}if(!m||(X=X[0],Ge=Ge[0],Te&&(ie[0]!=X||xe[0]!=Ge)))return 3;ee!=null&&(ee[0]=Be,ee.offset=w-ee.w,e(4294967286>w-ee.w),e(ee.offset==ee.ha-_));break}return ye==0||ye==7&&Te&&ee==null?(G!=null&&(G[0]|=Be.na!=null&&0<Be.na.length),T!=null&&(T[0]=X),V!=null&&(V[0]=Ge),0):ye}function UA(m,w,_){var T=w.width,V=w.height,G=0,X=0,$=T,ee=V;if(w.Da=m!=null&&0<m.Da,w.Da&&($=m.cd,ee=m.bd,G=m.v,X=m.j,11>_||(G&=-2,X&=-2),0>G||0>X||0>=$||0>=ee||G+$>T||X+ee>V))return 0;if(w.v=G,w.j=X,w.va=G+$,w.o=X+ee,w.U=$,w.T=ee,w.da=m!=null&&0<m.da,w.da){if(!At($,ee,_=[m.ib],G=[m.hb]))return 0;w.ib=_[0],w.hb=G[0]}return w.ob=m!=null&&m.ob,w.Kb=m==null||!m.Sd,w.da&&(w.ob=w.ib<3*T/4&&w.hb<3*V/4,w.Kb=0),1}function ju(m){if(m==null)return 2;if(11>m.S){var w=m.f.RGBA;w.fb+=(m.height-1)*w.A,w.A=-w.A}else w=m.f.kb,m=m.height,w.O+=(m-1)*w.fa,w.fa=-w.fa,w.N+=(m-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(m-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(m-1)*w.lb,w.lb=-w.lb);return 0}function FA(m,w,_,T){if(T==null||0>=m||0>=w)return 2;if(_!=null){if(_.Da){var V=_.cd,G=_.bd,X=-2&_.v,$=-2&_.j;if(0>X||0>$||0>=V||0>=G||X+V>m||$+G>w)return 2;m=V,w=G}if(_.da){if(!At(m,w,V=[_.ib],G=[_.hb]))return 2;m=V[0],w=G[0]}}T.width=m,T.height=w;e:{var ee=T.width,ie=T.height;if(m=T.S,0>=ee||0>=ie||!(m>=Qd&&13>m))m=2;else{if(0>=T.Rd&&T.sd==null){X=G=V=w=0;var xe=($=ee*Vd[m])*ie;if(11>m||(G=(ie+1)/2*(w=(ee+1)/2),m==12&&(X=(V=ee)*ie)),(ie=i(xe+2*G+X))==null){m=1;break e}T.sd=ie,11>m?((ee=T.f.RGBA).eb=ie,ee.fb=0,ee.A=$,ee.size=xe):((ee=T.f.kb).y=ie,ee.O=0,ee.fa=$,ee.Fd=xe,ee.f=ie,ee.N=0+xe,ee.Ab=w,ee.Cd=G,ee.ea=ie,ee.W=0+xe+G,ee.Db=w,ee.Ed=G,m==12&&(ee.F=ie,ee.J=0+xe+2*G),ee.Tc=X,ee.lb=V)}if(w=1,V=T.S,G=T.width,X=T.height,V>=Qd&&13>V)if(11>V)m=T.f.RGBA,w&=($=Math.abs(m.A))*(X-1)+G<=m.size,w&=$>=G*Vd[V],w&=m.eb!=null;else{m=T.f.kb,$=(G+1)/2,xe=(X+1)/2,ee=Math.abs(m.fa),ie=Math.abs(m.Ab);var Te=Math.abs(m.Db),Ie=Math.abs(m.lb),Be=Ie*(X-1)+G;w&=ee*(X-1)+G<=m.Fd,w&=ie*(xe-1)+$<=m.Cd,w=(w&=Te*(xe-1)+$<=m.Ed)&ee>=G&ie>=$&Te>=$,w&=m.y!=null,w&=m.f!=null,w&=m.ea!=null,V==12&&(w&=Ie>=G,w&=Be<=m.Tc,w&=m.F!=null)}else w=0;m=w?0:2}}return m!=0||_!=null&&_.fd&&(m=ju(T)),m}var ls=64,pl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],wo=24,vo=32,cc=8,sa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Je("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(m){return m},S.Predictor2=function(m,w,_){return w[_+0]},S.Predictor3=function(m,w,_){return w[_+1]},S.Predictor4=function(m,w,_){return w[_-1]},S.Predictor5=function(m,w,_){return at(at(m,w[_+1]),w[_+0])},S.Predictor6=function(m,w,_){return at(m,w[_-1])},S.Predictor7=function(m,w,_){return at(m,w[_+0])},S.Predictor8=function(m,w,_){return at(w[_-1],w[_+0])},S.Predictor9=function(m,w,_){return at(w[_+0],w[_+1])},S.Predictor10=function(m,w,_){return at(at(m,w[_-1]),at(w[_+0],w[_+1]))},S.Predictor11=function(m,w,_){var T=w[_+0];return 0>=Mt(T>>24&255,m>>24&255,(w=w[_-1])>>24&255)+Mt(T>>16&255,m>>16&255,w>>16&255)+Mt(T>>8&255,m>>8&255,w>>8&255)+Mt(255&T,255&m,255&w)?T:m},S.Predictor12=function(m,w,_){var T=w[_+0];return(Nt((m>>24&255)+(T>>24&255)-((w=w[_-1])>>24&255))<<24|Nt((m>>16&255)+(T>>16&255)-(w>>16&255))<<16|Nt((m>>8&255)+(T>>8&255)-(w>>8&255))<<8|Nt((255&m)+(255&T)-(255&w)))>>>0},S.Predictor13=function(m,w,_){var T=w[_-1];return(_t((m=at(m,w[_+0]))>>24&255,T>>24&255)<<24|_t(m>>16&255,T>>16&255)<<16|_t(m>>8&255,T>>8&255)<<8|_t(m>>0&255,T>>0&255))>>>0};var jd=S.PredictorAdd0;S.PredictorAdd1=Gt,Je("Predictor2","PredictorAdd2"),Je("Predictor3","PredictorAdd3"),Je("Predictor4","PredictorAdd4"),Je("Predictor5","PredictorAdd5"),Je("Predictor6","PredictorAdd6"),Je("Predictor7","PredictorAdd7"),Je("Predictor8","PredictorAdd8"),Je("Predictor9","PredictorAdd9"),Je("Predictor10","PredictorAdd10"),Je("Predictor11","PredictorAdd11"),Je("Predictor12","PredictorAdd12"),Je("Predictor13","PredictorAdd13");var Uu=S.PredictorAdd2;Pt("ColorIndexInverseTransform","MapARGB","32b",(function(m){return m>>8&255}),(function(m){return m})),Pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(m){return m}),(function(m){return m>>8&255}));var Ud,ii=S.ColorIndexInverseTransform,uc=S.MapARGB,Fd=S.VP8LColorIndexInverseTransformAlpha,Ds=S.MapAlpha,Ai=S.VP8LPredictorsAdd=[];Ai.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Bo,aa,Os,QA,Di,LA,Oi,Mi,cn,xl,Ms,cs,Pi,dc,hc,za,Co,kA,No,fc,yl,_o,gc,qa,wa,mr,Hr,Ur,pn=i(511),Hi=i(2041),Eo=i(225),RA=i(767),mc=0,DA=Hi,Fu=Eo,Ps=RA,_s=pn,Qd=0,Hs=1,Ld=2,oi=3,Qu=4,pc=5,So=6,Lu=7,kd=8,xc=9,Rd=10,li=[2,3,7],yc=[3,3,11],bl=[280,256,256,256,40],Dd=[0,1,1,1,0],ku=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ci=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ui=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Io=8,di=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ga=null,em=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Od=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Es=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],un=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ia=[],Sn=[],Vi=[],To=1,Lf=2,OA=[],Ss=[];le("UpsampleRgbLinePair",Jt,3),le("UpsampleBgrLinePair",Tr,3),le("UpsampleRgbaLinePair",Rs,4),le("UpsampleBgraLinePair",vn,4),le("UpsampleArgbLinePair",En,4),le("UpsampleRgba4444LinePair",Dr,2),le("UpsampleRgb565LinePair",jr,2);var wl=S.UpsampleRgbLinePair,kf=S.UpsampleBgrLinePair,bc=S.UpsampleRgbaLinePair,Md=S.UpsampleBgraLinePair,jo=S.UpsampleArgbLinePair,lA=S.UpsampleRgba4444LinePair,Uo=S.UpsampleRgb565LinePair,fi=16,wc=1<<fi-1,vl=-227,Fo=482,Pd=6,Qo=0,Is=i(256),Hd=i(256),rm=i(256),Fx=i(256),Qx=i(Fo-vl),Lx=i(Fo-vl);AA("YuvToRgbRow",Jt,3),AA("YuvToBgrRow",Tr,3),AA("YuvToRgbaRow",Rs,4),AA("YuvToBgraRow",vn,4),AA("YuvToArgbRow",En,4),AA("YuvToRgba4444Row",Dr,2),AA("YuvToRgb565Row",jr,2);var Mn=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vc=[0,2,8],Ru=[8,7,6,4,4,2,2,2,1,1,1,1],Du=1;this.WebPDecodeRGBA=function(m,w,_,T,V){var G=Hs,X=new na,$=new fr;X.ba=$,$.S=G,$.width=[$.width],$.height=[$.height];var ee=$.width,ie=$.height,xe=new dr;if(xe==null||m==null)var Te=2;else e(xe!=null),Te=oA(m,w,_,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Te!=0?ee=0:(ee!=null&&(ee[0]=xe.width[0]),ie!=null&&(ie[0]=xe.height[0]),ee=1),ee){$.width=$.width[0],$.height=$.height[0],T!=null&&(T[0]=$.width),V!=null&&(V[0]=$.height);e:{if(T=new NA,(V=new xo).data=m,V.w=w,V.ha=_,V.kd=1,w=[0],e(V!=null),((m=oA(V.data,V.w,V.ha,null,null,null,w,null,V))==0||m==7)&&w[0]&&(m=4),(w=m)==0){if(e(X!=null),T.data=V.data,T.w=V.w+V.offset,T.ha=V.ha-V.offset,T.put=bn,T.ac=Xr,T.bc=qe,T.ma=X,V.xa){if((m=ga())==null){X=1;break e}if((function(Ie,Be){var Ge=[0],ke=[0],ye=[0];t:for(;;){if(Ie==null)return 0;if(Be==null)return Ie.a=2,0;if(Ie.l=Be,Ie.a=0,ne(Ie.m,Be.data,Be.w,Be.ha),!Pe(Ie.m,Ge,ke,ye)){Ie.a=3;break t}if(Ie.xb=Lf,Be.width=Ge[0],Be.height=ke[0],!Oa(Ge[0],ke[0],1,Ie,null))break t;return 1}return e(Ie.a!=0),0})(m,T)){if(T=(w=FA(T.width,T.height,X.Oa,X.ba))==0){t:{T=m;r:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((_=T.l)!=null),e((V=_.ma)!=null),T.xb!=0){if(T.ca=V.ba,T.tb=V.tb,e(T.ca!=null),!UA(V.Oa,_,oi)){T.a=2;break r}if(!eA(T,_.width)||_.da)break r;if((_.da||tr(T.ca.S))&&Z(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&Z()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!mt(T.s.vb,T.s.Wa.Xa)){T.a=1;break r}T.xb=0}if(!Vn(T,T.V,T.Ba,T.c,T.i,_.o,$t))break r;V.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(w=m.a)}else w=m.a}else{if((m=new uo)==null){X=1;break e}if(m.Fa=V.na,m.P=V.P,m.qc=V.Sa,Rn(m,T)){if((w=FA(T.width,T.height,X.Oa,X.ba))==0){if(m.Aa=0,_=X.Oa,e((V=m)!=null),_!=null){if(0<(ee=0>(ee=_.Md)?0:100<ee?255:255*ee/100)){for(ie=xe=0;4>ie;++ie)12>(Te=V.pb[ie]).lc&&(Te.ia=ee*Ru[0>Te.lc?0:Te.lc]>>3),xe|=Te.ia;xe&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=_.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}Lr(m,T)||(w=m.a)}}else w=m.a}w==0&&X.Oa!=null&&X.Oa.fd&&(w=ju(X.ba))}X=w}G=X!=0?null:11>G?$.f.RGBA.eb:$.f.kb.y}else G=null;return G};var Vd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(S,O){for(var q="",I=0;I<4;I++)q+=String.fromCharCode(S[O++]);return q}function p(S,O){return(S[O+0]<<0|S[O+1]<<8|S[O+2]<<16)>>>0}function x(S,O){return(S[O+0]<<0|S[O+1]<<8|S[O+2]<<16|S[O+3]<<24)>>>0}new h;var B=[0],C=[0],U=[],E=new h,P=n,F=(function(S,O){var q={},I=0,k=!1,D=0,J=0;if(q.frames=[],!(function(M,z,re,ue){for(var me=0;me<ue;me++)if(M[z+me]!=re.charCodeAt(me))return!0;return!1})(S,O,"RIFF",4)){var pe,te;for(x(S,O+=4),O+=8;O<S.length;){var ce=g(S,O),ne=x(S,O+=4);O+=4;var he=ne+(1&ne);switch(ce){case"VP8 ":case"VP8L":q.frames[I]===void 0&&(q.frames[I]={}),(Q=q.frames[I]).src_off=k?J:O-8,Q.src_size=D+ne+8,I++,k&&(k=!1,D=0,J=0);break;case"VP8X":(Q=q.header={}).feature_flags=S[O];var we=O+4;Q.canvas_width=1+p(S,we),we+=3,Q.canvas_height=1+p(S,we),we+=3;break;case"ALPH":k=!0,D=he+8,J=O-8;break;case"ANIM":(Q=q.header).bgcolor=x(S,O),we=O+4,Q.loop_count=(pe=S)[(te=we)+0]<<0|pe[te+1]<<8,we+=2;break;case"ANMF":var Y,Q;(Q=q.frames[I]={}).offset_x=2*p(S,O),O+=3,Q.offset_y=2*p(S,O),O+=3,Q.width=1+p(S,O),O+=3,Q.height=1+p(S,O),O+=3,Q.duration=p(S,O),O+=3,Y=S[O++],Q.dispose=1&Y,Q.blend=Y>>1&1}ce!="ANMF"&&(O+=he)}return q}})(P,0);F.response=P,F.rgbaoutput=!0,F.dataurl=!1;var H=F.header?F.header:null,K=F.frames?F.frames:null;if(H){H.loop_counter=H.loop_count,B=[H.canvas_height],C=[H.canvas_width];for(var Ae=0;Ae<K.length&&K[Ae].blend!=0;Ae++);}var ae=K[0],se=E.WebPDecodeRGBA(P,ae.src_off,ae.src_size,C,B);ae.rgba=se,ae.imgwidth=C[0],ae.imgheight=B[0];for(var j=0;j<C[0]*B[0]*4;j++)U[j]=se[j];return this.width=C,this.height=B,this.data=U,this}(function(n){var e=function(){return typeof pw=="function"},t=function(B,C,U,E){var P=4,F=l;switch(E){case n.image_compression.FAST:P=1,F=i;break;case n.image_compression.MEDIUM:P=6,F=u;break;case n.image_compression.SLOW:P=9,F=h}B=r(B,C,U,F);var H=pw(B,{level:P});return n.__addimage__.arrayBufferToBinaryString(H)},r=function(B,C,U,E){for(var P,F,H,K=B.length/C,Ae=new Uint8Array(B.length+K),ae=p(),se=0;se<K;se+=1){if(H=se*C,P=B.subarray(H,H+C),E)Ae.set(E(P,U,F),H+se);else{for(var j,S=ae.length,O=[];j<S;j+=1)O[j]=ae[j](P,U,F);var q=x(O.concat());Ae.set(O[q],H+se)}F=P}return Ae},s=function(B){var C=Array.apply([],B);return C.unshift(0),C},i=function(B,C){var U,E=[],P=B.length;E[0]=1;for(var F=0;F<P;F+=1)U=B[F-C]||0,E[F+1]=B[F]-U+256&255;return E},l=function(B,C,U){var E,P=[],F=B.length;P[0]=2;for(var H=0;H<F;H+=1)E=U&&U[H]||0,P[H+1]=B[H]-E+256&255;return P},u=function(B,C,U){var E,P,F=[],H=B.length;F[0]=3;for(var K=0;K<H;K+=1)E=B[K-C]||0,P=U&&U[K]||0,F[K+1]=B[K]+256-(E+P>>>1)&255;return F},h=function(B,C,U){var E,P,F,H,K=[],Ae=B.length;K[0]=4;for(var ae=0;ae<Ae;ae+=1)E=B[ae-C]||0,P=U&&U[ae]||0,F=U&&U[ae-C]||0,H=g(E,P,F),K[ae+1]=B[ae]-H+256&255;return K},g=function(B,C,U){if(B===C&&C===U)return B;var E=Math.abs(C-U),P=Math.abs(B-U),F=Math.abs(B+C-U-U);return E<=P&&E<=F?B:P<=F?C:U},p=function(){return[s,i,l,u,h]},x=function(B){var C=B.map((function(U){return U.reduce((function(E,P){return E+Math.abs(P)}),0)}));return C.indexOf(Math.min.apply(null,C))};n.processPNG=function(B,C,U,E){var P,F,H,K,Ae,ae,se,j,S,O,q,I,k,D,J,pe=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(B)&&(B=new Uint8Array(B)),this.__addimage__.isArrayBufferView(B)){if(B=(H=new tG(B)).imgData,F=H.bits,P=H.colorSpace,Ae=H.colors,[4,6].indexOf(H.colorType)!==-1){if(H.bits===8){S=(j=H.pixelBitlength==32?new Uint32Array(H.decodePixels().buffer):H.pixelBitlength==16?new Uint16Array(H.decodePixels().buffer):new Uint8Array(H.decodePixels().buffer)).length,q=new Uint8Array(S*H.colors),O=new Uint8Array(S);var ce,ne=H.pixelBitlength-H.bits;for(D=0,J=0;D<S;D++){for(k=j[D],ce=0;ce<ne;)q[J++]=k>>>ce&255,ce+=H.bits;O[D]=k>>>ce&255}}if(H.bits===16){S=(j=new Uint32Array(H.decodePixels().buffer)).length,q=new Uint8Array(S*(32/H.pixelBitlength)*H.colors),O=new Uint8Array(S*(32/H.pixelBitlength)),I=H.colors>1,D=0,J=0;for(var he=0;D<S;)k=j[D++],q[J++]=k>>>0&255,I&&(q[J++]=k>>>16&255,k=j[D++],q[J++]=k>>>0&255),O[he++]=k>>>16&255;F=8}E!==n.image_compression.NONE&&e()?(B=t(q,H.width*H.colors,H.colors,E),se=t(O,H.width,1,E)):(B=q,se=O,pe=void 0)}if(H.colorType===3&&(P=this.color_spaces.INDEXED,ae=H.palette,H.transparency.indexed)){var we=H.transparency.indexed,Y=0;for(D=0,S=we.length;D<S;++D)Y+=we[D];if((Y/=255)===S-1&&we.indexOf(0)!==-1)K=[we.indexOf(0)];else if(Y!==S){for(j=H.decodePixels(),O=new Uint8Array(j.length),D=0,S=j.length;D<S;D++)O[D]=we[j[D]];se=t(O,H.width,1)}}var Q=(function(M){var z;switch(M){case n.image_compression.FAST:z=11;break;case n.image_compression.MEDIUM:z=13;break;case n.image_compression.SLOW:z=14;break;default:z=12}return z})(E);return pe===this.decode.FLATE_DECODE&&(te="/Predictor "+Q+" "),te+="/Colors "+Ae+" /BitsPerComponent "+F+" /Columns "+H.width,(this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),(se&&this.__addimage__.isArrayBuffer(se)||this.__addimage__.isArrayBufferView(se))&&(se=this.__addimage__.arrayBufferToBinaryString(se)),{alias:U,data:B,index:C,filter:pe,decodeParameters:te,transparency:K,palette:ae,sMask:se,predictor:Q,width:H.width,height:H.height,bitsPerComponent:F,colorSpace:P}}}})(Kt.API),(function(n){n.processGIF89A=function(e,t,r,s){var i=new rG(e),l=i.width,u=i.height,h=[];i.decodeAndBlitFrameRGBA(0,h);var g={data:h,width:l,height:u},p=new Y2(100).encode(g,100);return n.processJPEG.call(this,p,t,r,s)},n.processGIF87A=n.processGIF89A})(Kt.API),XA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},XA.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){fn.log("bit decode error:"+t)}},XA.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*s*4,u=0;u<8&&8*s+u<this.width;u++){var h=this.palette[i>>7-u&1];this.data[l+4*u]=h.blue,this.data[l+4*u+1]=h.green,this.data[l+4*u+2]=h.red,this.data[l+4*u+3]=255}t!==0&&(this.pos+=4-t)}},XA.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*s*4,u=i>>4,h=15&i,g=this.palette[u];if(this.data[l]=g.blue,this.data[l+1]=g.green,this.data[l+2]=g.red,this.data[l+3]=255,2*s+1>=this.width)break;g=this.palette[h],this.data[l+4]=g.blue,this.data[l+4+1]=g.green,this.data[l+4+2]=g.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},XA.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;if(s<this.palette.length){var l=this.palette[s];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}n!==0&&(this.pos+=4-n)}},XA.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&e)/e*255|0,u=(i>>5&e)/e*255|0,h=(i>>10&e)/e*255|0,g=i>>15?255:0,p=r*this.width*4+4*s;this.data[p]=h,this.data[p+1]=u,this.data[p+2]=l,this.data[p+3]=g}this.pos+=n}},XA.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,h=(l>>5&t)/t*255|0,g=(l>>11)/e*255|0,p=s*this.width*4+4*i;this.data[p]=g,this.data[p+1]=h,this.data[p+2]=u,this.data[p+3]=255}this.pos+=n}},XA.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},XA.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=i,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=l}},XA.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var i=new XA(e,!1),l=i.width,u=i.height,h={data:i.getData(),width:l,height:u},g=new Y2(100).encode(h,100);return n.processJPEG.call(this,g,t,r,s)}})(Kt.API),hE.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var i=new hE(e),l=i.width,u=i.height,h={data:i.getData(),width:l,height:u},g=new Y2(100).encode(h,100);return n.processJPEG.call(this,g,t,r,s)}})(Kt.API),Kt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,i=new Uint8Array(s/4*3),l=new Uint8Array(s/4),u=0,h=0,g=0;g<s;g+=4){var p=r[g],x=r[g+1],B=r[g+2],C=r[g+3];i[u++]=p,i[u++]=x,i[u++]=B,l[h++]=C}var U=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:U,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Kt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Ch=Kt.API,Np=Ch.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:s.metadata.Unicode.widths,h=u.fof?u.fof:1,g=e.kerning?e.kerning:s.metadata.Unicode.kerning,p=g.fof?g.fof:1,x=e.doKerning!==!1,B=0,C=n.length,U=0,E=u[0]||h,P=[];for(t=0;t<C;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?P.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+l*(1e3/i)||0)/1e3):(B=x&&en(g[r])==="object"&&!isNaN(parseInt(g[r][U],10))?g[r][U]/p:0,P.push((u[r]||E)/h+B)),U=r;return P},lE=Ch.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Ch.processArabic&&(n=Ch.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:Np.apply(this,arguments).reduce((function(i,l){return i+l}),0)},cE=function(n,e,t,r){for(var s=[],i=0,l=n.length,u=0;i!==l&&u+e[i]<t;)u+=e[i],i++;s.push(n.slice(0,i));var h=i;for(u=0;i!==l;)u+e[i]>r&&(s.push(n.slice(h,i)),u=0,h=i),u+=e[i],i++;return h!==i&&s.push(n.slice(h,i)),s},uE=function(n,e,t){t||(t={});var r,s,i,l,u,h,g,p=[],x=[p],B=t.textIndent||0,C=0,U=0,E=n.split(" "),P=Np.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?E[0].length+2:t.lineIndent||0){var F=Array(h).join(" "),H=[];E.map((function(Ae){(Ae=Ae.split(/\s*\n/)).length>1?H=H.concat(Ae.map((function(ae,se){return(se&&ae.length?`
`:"")+ae}))):H.push(Ae[0])})),E=H,h=lE.apply(this,[F,t])}for(i=0,l=E.length;i<l;i++){var K=0;if(r=E[i],h&&r[0]==`
`&&(r=r.substr(1),K=1),B+C+(U=(s=Np.apply(this,[r,t])).reduce((function(Ae,ae){return Ae+ae}),0))>e||K){if(U>e){for(u=cE.apply(this,[r,s,e-(B+C),e]),p.push(u.shift()),p=[u.pop()];u.length;)x.push([u.shift()]);U=s.slice(r.length-(p[0]?p[0].length:0)).reduce((function(Ae,ae){return Ae+ae}),0)}else p=[r];x.push(p),B=U+h,C=P}else p.push(r),B+=C+U,C=P}return g=h?function(Ae,ae){return(ae?F:"")+Ae.join(" ")}:function(Ae){return Ae.join(" ")},x.map(g)},Ch.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var x=this.internal.getFont(p.fontName,p.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var u,h,g=[];for(u=0,h=r.length;u<h;u++)g=g.concat(uE.apply(this,[r[u],l,i]));return g},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},s=0;s<e.length;s++)t[e[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=e[s];var i=function(x){return"0x"+parseInt(x,10).toString(16)},l=n.__fontmetrics__.compress=function(x){var B,C,U,E,P=["{"];for(var F in x){if(B=x[F],isNaN(parseInt(F,10))?C="'"+F+"'":(F=parseInt(F,10),C=(C=i(F).slice(2)).slice(0,-1)+r[C.slice(-1)]),typeof B=="number")B<0?(U=i(B).slice(3),E="-"):(U=i(B).slice(2),E=""),U=E+U.slice(0,-1)+r[U.slice(-1)];else{if(en(B)!=="object")throw new Error("Don't know what to do with value type "+en(B)+".");U=l(B)}P.push(C+U)}return P.push("}"),P.join("")},u=n.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var B,C,U,E,P={},F=1,H=P,K=[],Ae="",ae="",se=x.length-1,j=1;j<se;j+=1)(E=x[j])=="'"?B?(U=B.join(""),B=void 0):B=[]:B?B.push(E):E=="{"?(K.push([H,U]),H={},U=void 0):E=="}"?((C=K.pop())[0][C[1]]=H,U=void 0,H=C[0]):E=="-"?F=-1:U===void 0?t.hasOwnProperty(E)?(Ae+=t[E],U=parseInt(Ae,16)*F,F=1,Ae=""):Ae+=E:t.hasOwnProperty(E)?(ae+=t[E],H[U]=parseInt(ae,16)*F,F=1,U=void 0,ae=""):ae+=E;return P},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},p={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(x){var B=x.font,C=p.Unicode[B.postScriptName];C&&(B.metadata.Unicode={},B.metadata.Unicode.widths=C.widths,B.metadata.Unicode.kerning=C.kerning);var U=g.Unicode[B.postScriptName];U&&(B.metadata.Unicode.encoding=U,B.encoding=U.codePages[0])}])})(Kt.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=t.charCodeAt(i);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(ng(u)),l.metadata=n.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,r)}}])})(Kt),(function(n){function e(){return(zt.canvg?Promise.resolve(zt.canvg):dw(()=>import("./index.es-BE5sICeS.js"),[],import.meta.url)).catch((function(t){return Promise.reject(new Error("Could not load canvg: "+t))})).then((function(t){return t.default?t.default:t}))}Kt.API.addSvgAsImage=function(t,r,s,i,l,u,h,g){if(isNaN(r)||isNaN(s))throw fn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(l))throw fn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=i,p.height=l;var x=p.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,p.width,p.height);var B={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},C=this;return e().then((function(U){return U.fromString(x,t,B)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(U){return U.render(B)})).then((function(){C.addImage(p.toDataURL("image/jpeg",1),r,s,i,l,h,g)}))}})(),Kt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},Kt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),h=[],g=0,p=0,x=0;function B(U,E){var P,F=!1;for(P=0;P<U.length;P+=1)U[P]===E&&(F=!0);return F}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var C=u.length;for(x=0;x<C;x+=1)t[u[x]].value=t[u[x]].defaultValue,t[u[x]].explicitSet=!1}if(en(n)==="object"){for(s in n)if(i=n[s],B(u,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&B(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(g=0;g<i.length;g+=1)if(r=!0,i[g].length===1&&typeof i[g][0]=="number")h.push(String(i[g]-1));else if(i[g].length>1){for(p=0;p<i[g].length;p+=1)typeof i[g][p]!="number"&&(r=!1);r===!0&&h.push([i[g][0]-1,i[g][1]-1].join(" "))}t[s].value="["+h.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var U,E=[];for(U in t)t[U].explicitSet===!0&&(t[U].type==="name"?E.push("/"+U+" /"+t[U].value):E.push("/"+U+" "+t[U].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),g=i.length+l.length+u.length+s.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(s+i+l+u+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Kt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(i,l){for(var u,h=l.metadata.Unicode.widths,g=["","0","00","000","0000"],p=[""],x=0,B=i.length;x<B;++x){if(u=l.metadata.characterToGlyph(i.charCodeAt(x)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=i.charCodeAt(x),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(g[4-u.length],u)}return p.join("")},r=function(i){var l,u,h,g,p,x,B;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],x=0,B=(u=Object.keys(i).sort((function(C,U){return C-U}))).length;x<B;x++)l=u[x],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(g=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+g+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(l){var u=l.font,h=l.out,g=l.newObject,p=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var x=u.metadata.Unicode.widths,B=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),C="",U=0;U<B.length;U++)C+=String.fromCharCode(B[U]);var E=g();p({data:C,addLength1:!0,objectId:E}),h("endobj");var P=g();p({data:r(u.metadata.toUnicode),addLength1:!0,objectId:P}),h("endobj");var F=g();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Fh(u.fontName)),h("/FontFile2 "+E+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var H=g();h("<<"),h("/Type /Font"),h("/BaseFont /"+Fh(u.fontName)),h("/FontDescriptor "+F+" 0 R"),h("/W "+n.API.PDFObject.convert(x)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=g(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+P+" 0 R"),h("/BaseFont /"+Fh(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+H+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(l){var u=l.font,h=l.out,g=l.newObject,p=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var x=u.metadata.rawData,B="",C=0;C<x.length;C++)B+=String.fromCharCode(x[C]);var U=g();p({data:B,addLength1:!0,objectId:U}),h("endobj");var E=g();p({data:r(u.metadata.toUnicode),addLength1:!0,objectId:E}),h("endobj");var P=g();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+U+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+Fh(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=g();for(var F=0;F<u.metadata.hmtx.widths.length;F++)u.metadata.hmtx.widths[F]=parseInt(u.metadata.hmtx.widths[F]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Fh(u.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(i)}]);var s=function(i){var l,u=i.text||"",h=i.x,g=i.y,p=i.options||{},x=i.mutex||{},B=x.pdfEscape,C=x.activeFontKey,U=x.fonts,E=C,P="",F=0,H="",K=U[E].encoding;if(U[E].encoding!=="Identity-H")return{text:u,x:h,y:g,options:p,mutex:x};for(H=u,E=C,Array.isArray(u)&&(H=u[0]),F=0;F<H.length;F+=1)U[E].metadata.hasOwnProperty("cmap")&&(l=U[E].metadata.cmap.unicode.codeMap[H[F].charCodeAt(0)]),l||H[F].charCodeAt(0)<256&&U[E].metadata.hasOwnProperty("Unicode")?P+=H[F]:P+="";var Ae="";return parseInt(E.slice(1))<14||K==="WinAnsiEncoding"?Ae=B(P,E).split("").map((function(ae){return ae.charCodeAt(0).toString(16)})).join(""):K==="Identity-H"&&(Ae=t(P,U[E])),x.isHex=!0,{text:Ae,x:h,y:g,options:p,mutex:x}};e.events.push(["postProcessText",function(i){var l=i.text||"",u=[],h={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var g=0;for(g=0;g<l.length;g+=1)Array.isArray(l[g])&&l[g].length===3?u.push([s(Object.assign({},h,{text:l[g][0]})).text,l[g][1],l[g][2]]):u.push(s(Object.assign({},h,{text:l[g]})).text);i.text=u}else i.text=s(Object.assign({},h,{text:l})).text}])})(Kt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Kt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,i,l,u,h,g,p,x=e,B=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],C=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],U={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],F=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),H=!1,K=0;this.__bidiEngine__={};var Ae=function(I){var k=I.charCodeAt(),D=k>>8,J=E[D];return J!==void 0?x[256*J+(255&k)]:D===252||D===253?"AL":F.test(D)?"L":D===8?"R":"N"},ae=function(I){for(var k,D=0;D<I.length;D++){if((k=Ae(I.charAt(D)))==="L")return!1;if(k==="R")return!0}return!1},se=function(I,k,D,J){var pe,te,ce,ne,he=k[J];switch(he){case"L":case"R":H=!1;break;case"N":case"AN":break;case"EN":H&&(he="AN");break;case"AL":H=!0,he="R";break;case"WS":he="N";break;case"CS":J<1||J+1>=k.length||(pe=D[J-1])!=="EN"&&pe!=="AN"||(te=k[J+1])!=="EN"&&te!=="AN"?he="N":H&&(te="AN"),he=te===pe?te:"N";break;case"ES":he=(pe=J>0?D[J-1]:"B")==="EN"&&J+1<k.length&&k[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&D[J-1]==="EN"){he="EN";break}if(H){he="N";break}for(ce=J+1,ne=k.length;ce<ne&&k[ce]==="ET";)ce++;he=ce<ne&&k[ce]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(ne=k.length,ce=J+1;ce<ne&&k[ce]==="NSM";)ce++;if(ce<ne){var we=I[J],Y=we>=1425&&we<=2303||we===64286;if(pe=k[ce],Y&&(pe==="R"||pe==="AL")){he="R";break}}}he=J<1||(pe=k[J-1])==="B"?"N":D[J-1];break;case"B":H=!1,s=!0,he=K;break;case"S":i=!0,he="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":H=!1;break;case"BN":he="N"}return he},j=function(I,k,D){var J=I.split("");return D&&S(J,D,{hiLevel:K}),J.reverse(),k&&k.reverse(),J.join("")},S=function(I,k,D){var J,pe,te,ce,ne,he=-1,we=I.length,Y=0,Q=[],M=K?C:B,z=[];for(H=!1,s=!1,i=!1,pe=0;pe<we;pe++)z[pe]=Ae(I[pe]);for(te=0;te<we;te++){if(ne=Y,Q[te]=se(I,z,Q,te),J=240&(Y=M[ne][U[Q[te]]]),Y&=15,k[te]=ce=M[Y][5],J>0)if(J===16){for(pe=he;pe<te;pe++)k[pe]=1;he=-1}else he=-1;if(M[Y][6])he===-1&&(he=te);else if(he>-1){for(pe=he;pe<te;pe++)k[pe]=ce;he=-1}z[te]==="B"&&(k[te]=0),D.hiLevel|=ce}i&&(function(re,ue,me){for(var Ne=0;Ne<me;Ne++)if(re[Ne]==="S"){ue[Ne]=K;for(var de=Ne-1;de>=0&&re[de]==="WS";de--)ue[de]=K}})(z,k,we)},O=function(I,k,D,J,pe){if(!(pe.hiLevel<I)){if(I===1&&K===1&&!s)return k.reverse(),void(D&&D.reverse());for(var te,ce,ne,he,we=k.length,Y=0;Y<we;){if(J[Y]>=I){for(ne=Y+1;ne<we&&J[ne]>=I;)ne++;for(he=Y,ce=ne-1;he<ce;he++,ce--)te=k[he],k[he]=k[ce],k[ce]=te,D&&(te=D[he],D[he]=D[ce],D[ce]=te);Y=ne}Y++}}},q=function(I,k,D){var J=I.split(""),pe={hiLevel:K};return D||(D=[]),S(J,D,pe),(function(te,ce,ne){if(ne.hiLevel!==0&&p)for(var he,we=0;we<te.length;we++)ce[we]===1&&(he=P.indexOf(te[we]))>=0&&(te[we]=P[he+1])})(J,D,pe),O(2,J,k,D,pe),O(1,J,k,D,pe),J.join("")};return this.__bidiEngine__.doBidiReorder=function(I,k,D){if((function(pe,te){if(te)for(var ce=0;ce<pe.length;ce++)te[ce]=ce;u===void 0&&(u=ae(pe)),g===void 0&&(g=ae(pe))})(I,k),l||!h||g)if(l&&h&&u^g)K=u?1:0,I=j(I,k,D);else if(!l&&h&&g)K=u?1:0,I=q(I,k,D),I=j(I,k);else if(!l||u||h||g){if(l&&!h&&u^g)I=j(I,k),u?(K=0,I=q(I,k,D)):(K=1,I=q(I,k,D),I=j(I,k));else if(l&&u&&!h&&g)K=1,I=q(I,k,D),I=j(I,k);else if(!l&&!h&&u^g){var J=p;u?(K=1,I=q(I,k,D),K=0,p=!1,I=q(I,k,D),p=J):(K=0,I=q(I,k,D),I=j(I,k),K=1,p=!1,I=q(I,k,D),p=J,I=j(I,k))}}else K=0,I=q(I,k,D);else K=u?1:0,I=q(I,k,D);return I},this.__bidiEngine__.setOptions=function(I){I&&(l=I.isInputVisual,h=I.isOutputVisual,u=I.isInputRtl,g=I.isOutputRtl,p=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text,i=(r.x,r.y,r.options||{}),l=(r.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var u=0;for(l=[],u=0;u<s.length;u+=1)Object.prototype.toString.call(s[u])==="[object Array]"?l.push([t.doBidiReorder(s[u][0]),s[u][1],s[u][2]]):l.push([t.doBidiReorder(s[u])]);r.text=l}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(Kt),Kt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Nu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new pG(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new nG(this.contents),this.head=new aG(this),this.name=new cG(this),this.cmap=new WT(this),this.toUnicode={},this.hhea=new iG(this),this.maxp=new uG(this),this.hmtx=new dG(this),this.post=new oG(this),this.os2=new AG(this),this.loca=new mG(this),this.glyf=new hG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,h,g;for(g=[],l=0,u=(h=this.bbox).length;l<u;l++)e=h[l],g.push(Math.round(e*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),(32768&(t=s>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,i,l,u;for(l=0,i=0,u=(e=""+e).length;0<=u?i<u:i>u;i=0<=u?++i:--i)s=e.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var oo,Nu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,i,l,u,h;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),l=this.readByte(),u=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^l)+256*(255^u)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*i+65536*l+256*u+h},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)t=e[r],i.push(this.writeByte(t));return i},n})(),nG=(function(){var n;function e(t){var r,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,i,l,u,h,g,p,x,B,C,U,E;for(E in C=Object.keys(t).length,h=Math.log(2),x=16*Math.floor(Math.log(C)/h),l=Math.floor(x/h),p=16*C-x,(s=new Nu).writeInt(this.scalarType),s.writeShort(C),s.writeShort(x),s.writeShort(l),s.writeShort(p),i=16*C,g=s.pos+i,u=null,U=[],t)for(B=t[E],s.writeString(E),s.writeInt(n(B)),s.writeInt(g),s.writeInt(B.length),U=U.concat(B),E==="head"&&(u=g),g+=B.length;g%4;)U.push(0),g++;return s.write(U),r=2981146554-n(s.data),s.pos=u+8,s.writeUInt32(r),s.data},n=function(t){var r,s,i,l;for(t=ZT.call(t);t.length%4;)t.push(0);for(i=new Nu(t),s=0,r=0,l=t.length;r<l;r=r+=4)s+=i.readUInt32();return 4294967295&s},e})(),sG={}.hasOwnProperty,Al=function(n,e){for(var t in e)sG.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};oo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var aG=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,oo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Nu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),fE=(function(){function n(e,t){var r,s,i,l,u,h,g,p,x,B,C,U,E,P,F,H,K;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(C=e.readUInt16(),B=C/2,e.pos+=6,i=(function(){var Ae,ae;for(ae=[],h=Ae=0;0<=B?Ae<B:Ae>B;h=0<=B?++Ae:--Ae)ae.push(e.readUInt16());return ae})(),e.pos+=2,E=(function(){var Ae,ae;for(ae=[],h=Ae=0;0<=B?Ae<B:Ae>B;h=0<=B?++Ae:--Ae)ae.push(e.readUInt16());return ae})(),g=(function(){var Ae,ae;for(ae=[],h=Ae=0;0<=B?Ae<B:Ae>B;h=0<=B?++Ae:--Ae)ae.push(e.readUInt16());return ae})(),p=(function(){var Ae,ae;for(ae=[],h=Ae=0;0<=B?Ae<B:Ae>B;h=0<=B?++Ae:--Ae)ae.push(e.readUInt16());return ae})(),s=(this.length-e.pos+this.offset)/2,u=(function(){var Ae,ae;for(ae=[],h=Ae=0;0<=s?Ae<s:Ae>s;h=0<=s?++Ae:--Ae)ae.push(e.readUInt16());return ae})(),h=F=0,K=i.length;F<K;h=++F)for(P=i[h],r=H=U=E[h];U<=P?H<=P:H>=P;r=U<=P?++H:--H)p[h]===0?l=r+g[h]:(l=u[p[h]/2+(r-U)-(B-h)]||0)!==0&&(l+=g[h]),this.codeMap[r]=65535&l}e.pos=x}return n.encode=function(e,t){var r,s,i,l,u,h,g,p,x,B,C,U,E,P,F,H,K,Ae,ae,se,j,S,O,q,I,k,D,J,pe,te,ce,ne,he,we,Y,Q,M,z,re,ue,me,Ne,de,Oe,Re,et;switch(J=new Nu,l=Object.keys(e).sort((function(tt,mt){return tt-mt})),t){case"macroman":for(E=0,P=(function(){var tt=[];for(U=0;U<256;++U)tt.push(0);return tt})(),H={0:0},i={},pe=0,he=l.length;pe<he;pe++)H[de=e[s=l[pe]]]==null&&(H[de]=++E),i[s]={old:e[s],new:H[e[s]]},P[s]=H[e[s]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(P),{charMap:i,subtable:J.data,maxGlyphID:E+1};case"unicode":for(k=[],x=[],K=0,H={},r={},F=g=null,te=0,we=l.length;te<we;te++)H[ae=e[s=l[te]]]==null&&(H[ae]=++K),r[s]={old:ae,new:H[ae]},u=H[ae]-s,F!=null&&u===g||(F&&x.push(F),k.push(s),g=u),F=s;for(F&&x.push(F),x.push(65535),k.push(65535),q=2*(O=k.length),S=2*Math.pow(Math.log(O)/Math.LN2,2),B=Math.log(S/2)/Math.LN2,j=2*O-S,h=[],se=[],C=[],U=ce=0,Y=k.length;ce<Y;U=++ce){if(I=k[U],p=x[U],I===65535){h.push(0),se.push(0);break}if(I-(D=r[I].new)>=32768)for(h.push(0),se.push(2*(C.length+O-U)),s=ne=I;I<=p?ne<=p:ne>=p;s=I<=p?++ne:--ne)C.push(r[s].new);else h.push(D-I),se.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*O+2*C.length),J.writeUInt16(0),J.writeUInt16(q),J.writeUInt16(S),J.writeUInt16(B),J.writeUInt16(j),me=0,Q=x.length;me<Q;me++)s=x[me],J.writeUInt16(s);for(J.writeUInt16(0),Ne=0,M=k.length;Ne<M;Ne++)s=k[Ne],J.writeUInt16(s);for(Oe=0,z=h.length;Oe<z;Oe++)u=h[Oe],J.writeUInt16(u);for(Re=0,re=se.length;Re<re;Re++)Ae=se[Re],J.writeUInt16(Ae);for(et=0,ue=C.length;et<ue;et++)E=C[et],J.writeUInt16(E);return{charMap:r,subtable:J.data,maxGlyphID:K+1}}},n})(),WT=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,oo),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,s,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r=new fE(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var s,i;return r==null&&(r="macroman"),s=fE.encode(t,r),(i=new Nu).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e})(),iG=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,oo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),AG=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,oo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,s;for(s=[],r=0;r<10;++r)s.push(t.readByte());return s})(),this.charRange=(function(){var r,s;for(s=[],r=0;r<4;++r)s.push(t.readInt());return s})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(t.readInt());return s})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),oG=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,oo),e.prototype.tag="post",e.prototype.parse=function(t){var r,s,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var l;for(s=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=(function(){var u,h,g;for(g=[],l=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;l=0<=h?++u:--u)g.push(t.readUInt32());return g}).call(this)}},e})(),lG=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},cG=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,oo),e.prototype.tag="name",e.prototype.parse=function(t){var r,s,i,l,u,h,g,p,x,B,C;for(t.pos=this.offset,t.readShort(),r=t.readShort(),h=t.readShort(),s=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(g={},l=x=0,B=s.length;x<B;l=++x)i=s[l],t.pos=i.offset,p=t.readString(i.length),u=new lG(p,i),g[C=i.nameID]==null&&(g[C]=[]),g[i.nameID].push(u);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},e})(),uG=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,oo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),dG=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,oo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,s,i,l,u,h,g;for(t.pos=this.offset,this.metrics=[],r=0,h=this.file.hhea.numberOfMetrics;0<=h?r<h:r>h;r=0<=h?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,x;for(x=[],r=p=0;0<=i?p<i:p>i;r=0<=i?++p:--p)x.push(t.readInt16());return x})(),this.widths=(function(){var p,x,B,C;for(C=[],p=0,x=(B=this.metrics).length;p<x;p++)l=B[p],C.push(l.advance);return C}).call(this),s=this.widths[this.widths.length-1],g=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)g.push(this.widths.push(s));return g},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),ZT=[].slice,hG=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,oo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,s,i,l,u,h,g,p,x,B;return t in this.cache?this.cache[t]:(l=this.file.loca,r=this.file.contents,s=l.indexOf(t),(i=l.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+s,u=(h=new Nu(r.read(i))).readShort(),p=h.readShort(),B=h.readShort(),g=h.readShort(),x=h.readShort(),this.cache[t]=u===-1?new gG(h,p,B,g,x):new fG(h,u,p,B,g,x),this.cache[t]))},e.prototype.encode=function(t,r,s){var i,l,u,h,g;for(u=[],l=[],h=0,g=r.length;h<g;h++)i=t[r[h]],l.push(u.length),i&&(u=u.concat(i.encode(s)));return l.push(u.length),{table:u,offsets:l}},e})(),fG=(function(){function n(e,t,r,s,i,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),gG=(function(){function n(e,t,r,s,i){var l,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Nu(ZT.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),mG=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Al(e,oo),e.prototype.tag="loca",e.prototype.parse=function(t){var r,s;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,l;for(l=[],s=0,i=this.length;s<i;s+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var i,l;for(l=[],s=0,i=this.length;s<i;s+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var s=new Uint32Array(this.offsets.length),i=0,l=0,u=0;u<s.length;++u)if(s[u]=i,l<r.length&&r[l]==u){++l,s[u]=i;var h=this.offsets[u],g=this.offsets[u+1]-h;g>0&&(i+=g)}for(var p=new Array(4*s.length),x=0;x<s.length;++x)p[4*x+3]=255&s[x],p[4*x+2]=(65280&s[x])>>8,p[4*x+1]=(16711680&s[x])>>16,p[4*x]=(4278190080&s[x])>>24;return p},e})(),pG=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,i;for(t in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,i,l,u,h;for(s={},l=0,u=e.length;l<u;l++)s[i=e[l]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(r=s[i])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(i in h=this.glyphsFor(t))r=h[i],s[i]=r;return s},n.prototype.encode=function(e,t){var r,s,i,l,u,h,g,p,x,B,C,U,E,P,F;for(s in r=WT.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),C={0:0},F=r.charMap)C[(h=F[s]).old]=h.new;for(U in B=r.maxGlyphID,l)U in C||(C[U]=B++);return p=(function(H){var K,Ae;for(K in Ae={},H)Ae[H[K]]=K;return Ae})(C),x=Object.keys(p).sort((function(H,K){return H-K})),E=(function(){var H,K,Ae;for(Ae=[],H=0,K=x.length;H<K;H++)u=x[H],Ae.push(p[u]);return Ae})(),i=this.font.glyf.encode(l,E,C),g=this.font.loca.encode(i.offsets,E),P={cmap:this.font.cmap.raw(),glyf:i.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},n})();Kt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,i,l;if(Array.isArray(t))return"["+(function(){var u,h,g;for(g=[],u=0,h=t.length;u<h;u++)r=t[u],g.push(e.convert(r));return g})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)l=t[s],i.push("/"+s+" "+e.convert(l));return i.push(">>"),i.join(`
`)}return""+t},e})();const N0=[{minLevel:1,title:" ",color:"bg-gray-100 text-gray-600 border-gray-200",icon:Sw},{minLevel:5,title:" ",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:da},{minLevel:10,title:" ",color:"bg-blue-100 text-blue-700 border-blue-200",icon:Ni},{minLevel:15,title:" ",color:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:yf},{minLevel:20,title:" ",color:"bg-purple-100 text-purple-700 border-purple-200",icon:bf},{minLevel:30,title:" ",color:"bg-amber-100 text-amber-700 border-amber-200",icon:ys}],xG=[{id:"first_step",title:" ",desc:"   ",icon:Sw,color:"text-emerald-500",bg:"bg-emerald-500/10",condition:n=>n.quizzesCompleted>=1},{id:"perfect_score",title:" ",desc:"  100%   ",icon:mu,color:"text-yellow-500",bg:"bg-yellow-500/10",condition:n=>n.hasPerfectScore},{id:"dedicated",title:" ",desc:" 5  ",icon:da,color:"text-blue-500",bg:"bg-blue-500/10",condition:n=>n.quizzesCompleted>=5},{id:"high_level",title:" ",desc:"  5",icon:bf,color:"text-orange-500",bg:"bg-orange-500/10",condition:n=>n.level>=5},{id:"expert",title:" ",desc:" 10 ",icon:$h,color:"text-purple-500",bg:"bg-purple-500/10",condition:n=>n.quizzesCompleted>=10},{id:"scholar",title:" ",desc:" 1000   (XP)",icon:Ni,color:"text-cyan-500",bg:"bg-cyan-500/10",condition:n=>n.totalXP>=1e3},{id:"sharpshooter",title:"",desc:"    3 ",icon:V1,color:"text-red-500",bg:"bg-red-500/10",condition:n=>n.perfectScoresCount>=3},{id:"veteran",title:"",desc:" 20 ",icon:jg,color:"text-indigo-500",bg:"bg-indigo-500/10",condition:n=>n.quizzesCompleted>=20},{id:"rocket",title:"",desc:"  15",icon:UE,color:"text-pink-500",bg:"bg-pink-500/10",condition:n=>n.level>=15},{id:"master",title:"",desc:"  30",icon:ys,color:"text-amber-500",bg:"bg-amber-500/10",condition:n=>n.level>=30}],yG=[{url:"https://lh3.googleusercontent.com/d/1ufUwP7M3wdxWBW60s2xdpZC6W7jfpXv4",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1AqS4xhkK53MwCO-LFRdmtYBQsYSH6vz1",minLevel:1},{url:"https://lh3.googleusercontent.com/d/198SBde0OI07puyVx53mi9MpZ7F-iKltI",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1E--pczIn4ZCSWpWYhKZutLX8lfhtmCrp",minLevel:5},{url:"https://lh3.googleusercontent.com/d/1ep_ggXFs0rCkGJ212WkY5DuRbLNkyLyr",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1siamCZMGjbXH6L9bop_dN1UPSSwfyIwc",minLevel:15},{url:"https://lh3.googleusercontent.com/d/1seg3JDYcNsDBtTY4gU9N5empajSAT_-E",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1QnacjkYXRr-N4yhmt44LubRxbRnzNgqH",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1h5uzg3mZaeaozqEkzwItA14xqDq7kbMb",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1qKn7YfQr7VaDPXB8EjUvlCW-qt3v5E0u",minLevel:15}],$2=[{id:"nature_1",url:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",name:" ",minLevel:1},{id:"nature_2",url:"https://lh3.googleusercontent.com/d/1tBjHedpcXQiEjXro--zG3iWDokgrDbgZ",name:" ",minLevel:5},{id:"nature_3",url:"https://lh3.googleusercontent.com/d/1Chp7z63_XfLlt4ZC0MRmKwNsSTlCWwOa",name:" ",minLevel:10},{id:"nature_4",url:"https://lh3.googleusercontent.com/d/12RHK_FCMJt8D24AB3UV7nHxbD50EF4MX",name:" ",minLevel:15},{id:"nature_5",url:"https://lh3.googleusercontent.com/d/1We4c8009ObQB9ZDrpQ8ssUuos4V_4b9w",name:" ",minLevel:20}],gE=({options:n,value:e,onChange:t,placeholder:r,disabled:s})=>{const[i,l]=fe.useState(!1),u=fe.useRef(null);fe.useEffect(()=>{const g=p=>{u.current&&!u.current.contains(p.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=n.find(g=>g.value===e&&!g.isHeader);return o.jsxs("div",{className:`relative ${i?"z-[100]":"z-0"}`,ref:u,children:[o.jsxs("button",{type:"button",onClick:()=>!s&&l(!i),className:`w-full px-4 py-3 rounded-xl border flex justify-between items-center outline-none transition-all font-bold text-sm
            ${s?"bg-gray-950 border-gray-800 text-gray-600 cursor-not-allowed":i?"bg-gray-950 border-blue-500 ring-2 ring-blue-900 text-white shadow-lg":"bg-gray-950 border-gray-800 hover:border-blue-900 text-white shadow-inner"}
         `,children:[o.jsx("span",{className:`truncate ${h?"":"text-gray-600"}`,children:h?h.label:r}),o.jsx(fu,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ${i?"rotate-180 text-blue-500":""}`})]}),i&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-900 border border-gray-700 rounded-xl shadow-xl max-h-60 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-[100]",children:n.map((g,p)=>{if(g.isHeader)return o.jsx("div",{className:"px-4 py-2 text-[10px] font-black text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-800/50 rounded-lg mb-1",children:g.label},p);const x=g.value===e;return o.jsxs("div",{onClick:()=>{t(g.value),l(!1)},className:`px-4 py-2.5 rounded-lg font-bold text-xs cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${x?"bg-blue-900/30 text-blue-400":"text-gray-300 hover:bg-gray-800"}
                   `,children:[g.label,x&&o.jsx(ql,{className:"w-3 h-3"})]},p)})})]})},bG=({onNavigate:n})=>{const{user:e,updateUserProfile:t}=CA(),[r,s]=fe.useState(!1),[i,l]=fe.useState(null),[u,h]=fe.useState(!1),[g,p]=fe.useState(!1),[x,B]=fe.useState(!1),[C,U]=fe.useState(!1),[E,P]=fe.useState(!1),[F,H]=fe.useState(null),[K,Ae]=fe.useState((e==null?void 0:e.avatar)||""),[ae,se]=fe.useState((e==null?void 0:e.profileBackground)||$2[0].url),[j,S]=fe.useState([]),[O,q]=fe.useState(!0),[I,k]=fe.useState(0),[D,J]=fe.useState(1),[pe,te]=fe.useState(N0[0]),[ce,ne]=fe.useState({quizzesCompleted:0,hasPerfectScore:!1,level:1,totalXP:0,perfectScoresCount:0}),[he,we]=fe.useState([]),[Y,Q]=fe.useState(""),[M,z]=fe.useState(!1),[re,ue]=fe.useState("50"),[me,Ne]=fe.useState(null),[de,Oe]=fe.useState(!1),[Re,et]=fe.useState(""),[tt,mt]=fe.useState(!1),[Ee,oe]=fe.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",age:(e==null?void 0:e.age)||"",grade:(e==null?void 0:e.grade)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",school:(e==null?void 0:e.school)||"",gender:(e==null?void 0:e.gender)||"male",universityName:""});fe.useEffect(()=>{e&&(oe(Qe=>({...Qe,firstName:e.firstName||Qe.firstName,lastName:e.lastName||Qe.lastName,gender:e.gender||Qe.gender,grade:e.grade||Qe.grade,school:e.school||Qe.school})),e.avatar&&Ae(e.avatar),e.profileBackground&&se(e.profileBackground))},[e]),fe.useEffect(()=>{(async()=>{if(!e)return;const Ut=`etqan_quiz_history_${e.uid}`,gt="etqan_all_students_teacher",Bt=365*24*60*60*1e3;if(e.role==="teacher"){q(!1),z(!0);const qr=localStorage.getItem(gt),or=Date.now();if(qr)try{const{data:fr,timestamp:dr}=JSON.parse(qr);if(or-dr<Bt){we(fr),z(!1);return}}catch(fr){console.error(fr)}try{const fr=ha(ln(er,"users"),fa("role","==","student")),nr=(await _i(fr)).docs.map(yt=>({id:yt.id,...yt.data()}));we(nr),localStorage.setItem(gt,JSON.stringify({data:nr,timestamp:or}))}catch(fr){console.error("Error fetching students:",fr)}finally{z(!1)}return}const mn=localStorage.getItem(Ut),tr=Date.now();if(mn)try{const{history:qr,totalXP:or,rankLevel:fr,stats:dr,timestamp:nr}=JSON.parse(mn);if(tr-nr<Bt){S(qr),k(or),J(fr),te(N0.find(yt=>fr>=yt.minLevel)||N0[0]),ne(dr),q(!1);return}}catch(qr){console.error(qr)}try{const qr=ha(ln(er,"quiz_results"),fa("userId","==",e.uid)),or=await _i(qr),fr=[];let dr=0,nr=!1,yt=0;or.forEach(Pe=>{const rt=Pe.data();fr.push({id:Pe.id,...Pe.data(),createdAt:Pe.data().createdAt?{seconds:Pe.data().createdAt.seconds}:null});let xt=10+rt.percentage*2;rt.passed&&(xt+=50),rt.percentage===100&&(xt+=100,nr=!0,yt++),dr+=Math.round(xt)}),fr.sort((Pe,rt)=>{const xt=Pe.createdAt?Pe.createdAt.seconds:0;return(rt.createdAt?rt.createdAt.seconds:0)-xt});const Yt=fr.slice(0,10);let $n=dr;try{const Pe=Ys(er,"users",e.uid),rt=await s6(Pe);rt.exists()&&rt.data().totalXP!==void 0?$n=rt.data().totalXP:e.totalXP!==void 0&&($n=e.totalXP)}catch{e.totalXP!==void 0&&($n=e.totalXP)}S(Yt),k($n);const Xr=Math.floor($n/500)+1;J(Xr);const bn=[...N0].reverse().find(Pe=>Xr>=Pe.minLevel)||N0[0];te(bn);const qe={quizzesCompleted:fr.length,hasPerfectScore:nr,level:Xr,totalXP:$n,perfectScoresCount:yt};ne(qe),localStorage.setItem(Ut,JSON.stringify({history:Yt,totalXP:$n,rankLevel:Xr,stats:qe,timestamp:tr}))}catch(qr){console.error(qr)}finally{q(!1)}})()},[e]);const At=async Qe=>{Qe.preventDefault(),s(!0),l(null);try{let Ut={...Ee};Ee.grade==="university"&&Ee.universityName&&(Ut.school=Ee.universityName),delete Ut.universityName,await t(Ut),l("   !"),setTimeout(()=>l(null),3e3)}catch(Ut){console.error(Ut),alert("   ")}finally{s(!1)}},ft=async()=>{s(!0);try{await t({avatar:K}),h(!1)}catch(Qe){console.error(Qe)}finally{s(!1)}},Ve=async()=>{s(!0);try{await t({profileBackground:ae}),p(!1)}catch(Qe){console.error(Qe)}finally{s(!1)}},Je=async(Qe,Ut)=>{if(!Qe)return;const gt=parseInt(re);if(isNaN(gt)||gt<=0){alert("    ");return}if(window.confirm(`     ${gt} XP  ${Ut}`)){s(!0),Ne(null);try{const Bt=Ys(er,"users",Qe);await pf(Bt,{totalXP:Pb(gt)});const mn=he.map(qr=>qr.id===Qe?{...qr,totalXP:(qr.totalXP||0)+gt}:qr);we(mn),localStorage.setItem("etqan_all_students_teacher",JSON.stringify({data:mn,timestamp:Date.now()})),Ne(`  ${gt} XP  ${Ut} !`),setTimeout(()=>Ne(null),3e3)}catch(Bt){console.error(Bt),alert("    ")}finally{s(!1)}}},nt=async()=>{if(!Re.trim()){alert("   ");return}mt(!0);try{await so(ln(er,"announcements"),{title:Re,teacherName:(e==null?void 0:e.displayName)||"",teacherId:e==null?void 0:e.uid,createdAt:Ci()}),await so(ln(er,"notifications"),{recipientId:"all",title:"  ",message:Re,type:"info",createdAt:Ci(),read:!1}),alert("   "),et(""),Oe(!1)}catch(Qe){console.error(Qe),alert("   ")}finally{mt(!1)}},at=async()=>{U(!0);const Qe=document.getElementById("certificate-node");if(Qe)try{const gt=(await UT(Qe,{scale:2})).toDataURL("image/png"),Bt=new Kt("l","mm","a4"),mn=Bt.internal.pageSize.getWidth(),tr=Bt.internal.pageSize.getHeight();Bt.addImage(gt,"PNG",0,0,mn,tr),Bt.save(`certificate-${(e==null?void 0:e.displayName)||"student"}.pdf`),B(!1)}catch(Ut){console.error(Ut),alert("    ")}finally{U(!1)}else U(!1)},Nt=he.filter(Qe=>{const Ut=(Qe.displayName||"").toLowerCase(),gt=(Qe.email||"").toLowerCase(),Bt=Y.toLowerCase();return Ut.includes(Bt)||gt.includes(Bt)}),_t=Qe=>Qe?Qe.startsWith("http")?{backgroundImage:`url(${Qe})`,backgroundSize:"cover",backgroundPosition:"center"}:{}:{backgroundImage:`url(${$2[0].url})`,backgroundSize:"cover",backgroundPosition:"center"},Mt=Qe=>!Qe||Qe.startsWith("http")?"bg-no-repeat bg-center":Qe,Gt=Qe=>Qe<=3?"text-gray-400":Qe<=6?"text-emerald-400 font-bold":Qe<=9?"text-blue-400 font-bold":Qe<=12?"text-cyan-400 font-black":Qe<=15?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400 font-black":Qe<=20?"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 font-black drop-shadow-sm":Qe<=25?"text-transparent bg-clip-text bg-gradient-to-r from-amber-300 to-orange-500 font-black drop-shadow-md":"text-transparent bg-clip-text bg-gradient-to-r from-red-500 via-orange-500 to-yellow-500 font-black animate-pulse drop-shadow-lg",Xt=j.slice(0,10).map(Qe=>Qe.percentage);Xt.length>0&&Math.max(...Xt);const ir=Xt.length>0?Math.round(Xt.reduce((Qe,Ut)=>Qe+Ut,0)/Xt.length):0,kt=Math.min(100,Math.max(0,(I-(D-1)*500)/500*100)),Pt="w-full px-4 py-3 rounded-xl bg-gray-950 border border-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-900 outline-none font-bold text-white transition-all placeholder-gray-600 shadow-inner text-sm",ot=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(Qe=>({label:` ${Qe}`,value:Qe.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"  ",value:"English Major - QOU"},{label:" ",value:"university"}],rn=[{label:"",value:"male"},{label:"",value:"female"}];return(e==null?void 0:e.role)==="teacher"?o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up",children:[o.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-12 p-2",children:[o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden border-4 border-gray-800 shadow-2xl bg-gray-700",children:e.avatar?o.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):o.jsx(Wa,{className:"w-full h-full p-4 text-gray-400"})}),o.jsx("div",{className:"absolute bottom-0 right-0 bg-emerald-500 text-white p-1.5 rounded-full border-4 border-gray-900 shadow-sm",children:o.jsx(es,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"text-center md:text-right space-y-2",children:[o.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-white",children:[" ",e.displayName]}),o.jsxs("p",{className:"text-gray-400 font-medium text-lg flex items-center justify-center md:justify-start gap-2",children:[o.jsx(qo,{className:"w-4 h-4 text-blue-500"}),e.email]}),o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-blue-900/30 text-blue-300 text-xs font-bold border border-blue-800",children:[o.jsx(Gl,{className:"w-3.5 h-3.5"})," "]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-12",children:[o.jsxs("button",{onClick:()=>n&&n("TEACHER_DASHBOARD"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-blue-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-900/20 text-blue-400 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-colors",children:o.jsx(hF,{className:"w-6 h-6"})}),o.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),o.jsxs("button",{onClick:()=>n&&n("QUESTION_BANK"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-purple-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-900/20 text-purple-400 flex items-center justify-center group-hover:bg-purple-600 group-hover:text-white transition-colors",children:o.jsx(Yh,{className:"w-6 h-6"})}),o.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),o.jsxs("button",{onClick:()=>n&&n("TEACHER_UPLOAD_FILES"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-emerald-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-900/20 text-emerald-400 flex items-center justify-center group-hover:bg-emerald-600 group-hover:text-white transition-colors",children:o.jsx(EE,{className:"w-6 h-6"})}),o.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),o.jsxs("button",{onClick:()=>n&&n("TEACHER_EXPLANATIONS"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-orange-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-900/20 text-orange-400 flex items-center justify-center group-hover:bg-orange-600 group-hover:text-white transition-colors",children:o.jsx(fd,{className:"w-6 h-6"})}),o.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),o.jsxs("button",{onClick:()=>Oe(!0),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-red-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-900/20 text-red-400 flex items-center justify-center group-hover:bg-red-600 group-hover:text-white transition-colors",children:o.jsx(LB,{className:"w-6 h-6"})}),o.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),o.jsxs("button",{onClick:()=>n&&n("TEACHER_REVIEWS"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-yellow-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-yellow-900/20 text-yellow-400 flex items-center justify-center group-hover:bg-yellow-600 group-hover:text-white transition-colors",children:o.jsx(P1,{className:"w-6 h-6"})}),o.jsx("span",{className:"font-bold text-gray-200 text-sm",children:""})]}),o.jsxs("button",{onClick:()=>n&&n("TEACHER_CORRESPONDENCE"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-cyan-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-cyan-900/20 text-cyan-400 flex items-center justify-center group-hover:bg-cyan-600 group-hover:text-white transition-colors",children:o.jsx(Vl,{className:"w-6 h-6"})}),o.jsx("span",{className:"font-bold text-gray-200 text-sm",children:""})]}),o.jsxs("button",{onClick:()=>n&&n("SUBSCRIPTION_MANAGEMENT"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-amber-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-900/20 text-amber-400 flex items-center justify-center group-hover:bg-amber-600 group-hover:text-white transition-colors",children:o.jsx(SE,{className:"w-6 h-6"})}),o.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]})]}),o.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-sm border border-gray-700 overflow-hidden",children:[o.jsxs("div",{className:"p-8 border-b border-gray-700 bg-gray-800/50 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-2",children:[o.jsx($h,{className:"w-6 h-6 text-yellow-500"}),"   (XP)"]}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"      "})]}),me&&o.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 text-green-400 px-4 py-2 rounded-xl text-sm font-bold animate-fade-in flex items-center gap-2",children:[o.jsx(es,{className:"w-4 h-4"})," ",me]})]}),o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx(Ni,{className:"absolute top-3.5 right-4 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"   ...",value:Y,onChange:Qe=>Q(Qe.target.value),className:"w-full px-12 py-3 rounded-xl bg-gray-900 border border-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none font-bold text-white transition-all"})]}),o.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar p-1",children:M?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(Ir,{className:"w-8 h-8 animate-spin text-blue-500"})}):Y===""?o.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"    ..."}):Nt.length===0?o.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"    "}):Nt.map(Qe=>o.jsxs("div",{className:"flex items-center justify-between bg-gray-900/50 p-4 rounded-2xl border border-gray-700 hover:border-blue-700 transition-all",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden",children:Qe.avatar?o.jsx("img",{src:Qe.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):o.jsx(Wa,{className:"w-5 h-5 text-gray-400"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-white text-sm",children:Qe.displayName}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[o.jsxs("span",{className:"bg-yellow-500/10 text-yellow-400 px-1.5 rounded font-bold flex items-center gap-0.5",children:[o.jsx(Wp,{className:"w-3 h-3"})," ",Qe.totalXP||0]}),o.jsxs("span",{children:[" ",Qe.email]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{className:"bg-gray-800 border border-gray-700 text-gray-300 text-xs font-bold rounded-lg px-2 py-2 outline-none",value:re,onChange:Ut=>ue(Ut.target.value),children:[o.jsx("option",{value:"10",children:"+10 XP"}),o.jsx("option",{value:"50",children:"+50 XP"}),o.jsx("option",{value:"100",children:"+100 XP"}),o.jsx("option",{value:"200",children:"+200 XP"}),o.jsx("option",{value:"500",children:"+500 XP"})]}),o.jsx("button",{onClick:()=>Je(Qe.id,Qe.displayName),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg transition-colors shadow-lg shadow-blue-500/30",title:" ",children:o.jsx(Vl,{className:"w-4 h-4"})})]})]},Qe.id))})]})]}),de&&o.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-md shadow-2xl animate-fade-in-up overflow-hidden border border-gray-700",children:[o.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-6 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-orange-900/30 p-2 rounded-xl",children:o.jsx(LB,{className:"w-6 h-6 text-orange-400"})}),o.jsx("h2",{className:"text-xl font-black text-white",children:"  "})]}),o.jsx("button",{onClick:()=>Oe(!1),className:"p-2 hover:bg-gray-700 rounded-full text-gray-400",children:o.jsx(Xs,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),o.jsx("input",{type:"text",value:Re,onChange:Qe=>et(Qe.target.value),placeholder:":      ",className:"w-full px-4 py-3 rounded-xl border border-gray-600 bg-gray-800 text-white focus:border-orange-500 outline-none mb-6"}),o.jsxs("button",{onClick:nt,disabled:tt,className:"w-full bg-orange-600 hover:bg-orange-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[tt?o.jsx(Ir,{className:"w-5 h-5 animate-spin"}):o.jsx(au,{className:"w-5 h-5"}),"   "]})]})]})})]}):o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up relative",children:[E&&o.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 animate-slide-up-fade",children:o.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md border border-gray-700 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-3",children:[o.jsx("div",{className:"bg-emerald-500/20 p-1 rounded-full",children:o.jsx(es,{className:"w-4 h-4 text-emerald-400"})}),o.jsx("span",{className:"font-bold text-sm",children:"    "})]})}),u&&o.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:o.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-sm max-h-[85vh] flex flex-col shadow-2xl border border-gray-700 overflow-hidden relative",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center shrink-0",children:[o.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[o.jsx(Wa,{className:"w-5 h-5 text-purple-500"}),"  "]}),o.jsx("button",{onClick:()=>h(!1),className:"p-1.5 hover:bg-gray-800 rounded-full transition-colors",children:o.jsx(Xs,{className:"w-5 h-5 text-gray-500"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:o.jsx("div",{className:"grid grid-cols-3 gap-3",children:yG.map((Qe,Ut)=>{const gt=D<Qe.minLevel;return o.jsxs("button",{onClick:()=>!gt&&Ae(Qe.url),disabled:gt,className:`relative aspect-square rounded-xl overflow-hidden border-2 transition-all bg-gray-800 ${K===Qe.url?"border-emerald-500 shadow-md ring-2 ring-emerald-900/30":"border-transparent hover:border-gray-600"} ${gt?"opacity-60 grayscale":"hover:scale-105 active:scale-95"}`,children:[o.jsx("img",{src:Qe.url,alt:`Avatar ${Ut}`,className:"w-full h-full object-cover"}),gt&&o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 text-white backdrop-blur-[1px]",children:[o.jsx(WA,{className:"w-4 h-4 mb-0.5"}),o.jsxs("span",{className:"text-[10px] font-bold",children:[" ",Qe.minLevel]})]}),!gt&&K===Qe.url&&o.jsx("div",{className:"absolute top-1 right-1 bg-emerald-500 text-white rounded-full p-0.5 shadow-sm",children:o.jsx(es,{className:"w-3 h-3"})})]},Ut)})})}),o.jsx("div",{className:"p-4 border-t border-gray-800 shrink-0",children:o.jsxs("button",{onClick:ft,disabled:r,className:"w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:[r?o.jsx(Ir,{className:"w-5 h-5 animate-spin"}):o.jsx(au,{className:"w-5 h-5"}),"  "]})})]})}),g&&o.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:o.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-2xl max-h-[85vh] flex flex-col shadow-2xl border border-gray-700 overflow-hidden relative",children:[o.jsxs("div",{className:"p-5 border-b border-gray-800 flex justify-between items-center shrink-0",children:[o.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(kB,{className:"w-6 h-6 text-emerald-500"}),"  "]}),o.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:o.jsx(Xs,{className:"w-6 h-6 text-gray-500"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:$2.map((Qe,Ut)=>{const gt=D<Qe.minLevel,Bt=ae===Qe.url;return o.jsxs("button",{onClick:()=>!gt&&se(Qe.url),disabled:gt,className:`relative h-28 rounded-2xl overflow-hidden border-4 transition-all duration-300 group ${Bt?"border-emerald-500 scale-[1.02] shadow-md":"border-transparent"} ${gt?"opacity-60 cursor-not-allowed grayscale":"hover:scale-[1.02] cursor-pointer"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${Qe.url})`}}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:gt?o.jsxs("div",{className:"bg-black/60 px-3 py-1.5 rounded-lg backdrop-blur-sm flex items-center gap-1.5",children:[o.jsx(WA,{className:"w-4 h-4 text-white"}),o.jsxs("span",{className:"text-xs text-white font-bold",children:[" ",Qe.minLevel]})]}):Bt&&o.jsx(es,{className:"w-8 h-8 text-white drop-shadow-md"})}),o.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-black/80 to-transparent p-2 text-center",children:o.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:Qe.name})})]},Ut)})})}),o.jsxs("div",{className:"p-5 border-t border-gray-800 shrink-0 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>p(!1),className:"px-6 py-2.5 rounded-xl font-bold text-gray-500 hover:bg-gray-800 transition-colors",children:""}),o.jsx("button",{onClick:Ve,disabled:r,className:"bg-emerald-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center gap-2",children:r?o.jsx(Ir,{className:"w-5 h-5 animate-spin"}):" "})]})]})}),x&&o.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4 bg-black/90 backdrop-blur-md animate-fade-in overflow-y-auto py-8",children:o.jsxs("div",{className:"bg-gray-900 w-full max-w-4xl rounded-[2rem] border border-gray-700 shadow-2xl relative flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center shrink-0",children:[o.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(RB,{className:"w-6 h-6 text-amber-500"}),"  "]}),o.jsx("button",{onClick:()=>B(!1),className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:o.jsx(Xs,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"p-4 md:p-8 flex justify-center bg-gray-800 overflow-x-auto w-full",children:o.jsx("div",{className:"w-full flex justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"md:hidden absolute -top-3 left-1/2 -translate-x-1/2 bg-gray-900 text-gray-400 text-[10px] px-3 py-1 rounded-full border border-gray-700 flex items-center gap-1 opacity-80 pointer-events-none z-20 whitespace-nowrap",children:[o.jsx(YF,{className:"w-3 h-3"}),"    "]}),o.jsxs("div",{id:"certificate-node",className:"bg-[#fffef0] text-black relative w-[800px] h-[560px] p-8 shrink-0 shadow-2xl mx-auto",style:{fontFamily:"serif"},children:[o.jsx("div",{className:"absolute inset-4 border-4 border-double border-amber-600 pointer-events-none"}),o.jsx("div",{className:"absolute inset-6 border border-amber-800/30 pointer-events-none"}),o.jsx("div",{className:"absolute top-4 left-4 w-16 h-16 border-t-4 border-l-4 border-amber-700"}),o.jsx("div",{className:"absolute top-4 right-4 w-16 h-16 border-t-4 border-r-4 border-amber-700"}),o.jsx("div",{className:"absolute bottom-4 left-4 w-16 h-16 border-b-4 border-l-4 border-amber-700"}),o.jsx("div",{className:"absolute bottom-4 right-4 w-16 h-16 border-b-4 border-r-4 border-amber-700"}),o.jsx("div",{className:"absolute top-8 left-8 w-24 h-24 border-4 border-double border-red-800/60 rounded-full flex items-center justify-center transform -rotate-12 opacity-80 pointer-events-none",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-[8px] font-bold text-red-900 uppercase tracking-widest mb-1",children:"Etqan Platform"}),o.jsx(mu,{className:"w-6 h-6 text-red-800 mx-auto"}),o.jsx("div",{className:"text-[10px] font-black text-red-900 mt-1",children:""})]})}),o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center relative z-10 space-y-5",children:[o.jsxs("div",{className:"mb-2",children:[o.jsx("h1",{className:"text-4xl font-black text-amber-800 mb-2",style:{fontFamily:"Amiri, serif"},children:"  "}),o.jsx("p",{className:"text-gray-600 text-sm tracking-widest uppercase",children:"Etqan Educational Platform"})]}),o.jsx("h2",{className:"text-5xl font-bold text-amber-600",style:{fontFamily:"Great Vibes, cursive"},children:" "}),o.jsx("p",{className:"text-xl text-gray-800 mt-2 max-w-xl leading-relaxed",children:"    /"}),o.jsx("h3",{className:"text-4xl font-black text-black border-b-2 border-amber-500/50 pb-2 px-10 min-w-[300px]",children:e==null?void 0:e.displayName}),o.jsxs("div",{className:"flex items-center justify-center gap-8 py-4 w-full px-12",children:[o.jsxs("div",{className:"text-center border-l-2 border-amber-200 pl-8",children:[o.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:" "}),o.jsxs("p",{className:"text-2xl font-black text-emerald-700",children:[ir,"%"]})]}),o.jsxs("div",{className:"text-center border-l-2 border-amber-200 pl-8",children:[o.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:" "}),o.jsx("p",{className:"text-xl font-black text-amber-700",children:pe.title})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:" "}),o.jsx("p",{className:"text-2xl font-black text-blue-700",children:ce.quizzesCompleted})]})]}),o.jsx("p",{className:"text-base text-gray-700 max-w-2xl leading-relaxed font-medium",children:"               ."}),o.jsxs("div",{className:"flex justify-between items-end w-full px-16 mt-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-bold text-gray-500 mb-2",children:""}),o.jsx("p",{className:"font-mono font-bold text-base border-b border-gray-400 pb-1",children:new Date().toLocaleDateString("ar-EG")})]}),o.jsxs("div",{className:"text-center relative",children:[o.jsx("div",{className:"w-20 h-20 bg-amber-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg border-4 border-amber-600 border-double absolute -top-8 left-1/2 -translate-x-1/2 opacity-20",children:o.jsx(yf,{className:"w-10 h-10"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("p",{className:"text-sm font-bold text-gray-500 mb-1",children:" "}),o.jsx("p",{className:"font-bold text-lg text-amber-800",style:{fontFamily:"Great Vibes, cursive"},children:"Yazan Abu Kahil"}),o.jsx("p",{className:"text-[10px] font-bold text-black mt-0.5",children:".   "})]})]})]})]})]})]})})}),o.jsxs("div",{className:"p-6 border-t border-gray-800 flex justify-end gap-3 bg-gray-900 rounded-b-[2rem] shrink-0",children:[o.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 rounded-lg font-bold text-sm text-gray-400 hover:text-white hover:bg-gray-800 transition-colors",disabled:C,children:""}),o.jsxs("button",{onClick:at,disabled:C,className:"bg-gradient-to-r from-amber-500 to-orange-600 text-white px-6 py-2 rounded-lg font-bold text-sm hover:shadow-lg hover:shadow-amber-500/20 transition-all flex items-center gap-2",children:[C?o.jsx(Ir,{className:"w-4 h-4 animate-spin"}):o.jsx(Jp,{className:"w-4 h-4"}),C?" ...":" PDF"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[o.jsx("div",{className:"lg:col-span-7 lg:order-1 space-y-8",children:o.jsxs("div",{className:"bg-gray-900 rounded-[3rem] shadow-xl border border-gray-700 relative group",children:[o.jsxs("div",{className:`relative w-full h-48 md:h-64 transition-all duration-500 rounded-t-[3rem] overflow-hidden ${Mt(e==null?void 0:e.profileBackground)}`,style:_t(e==null?void 0:e.profileBackground),children:[o.jsxs("button",{onClick:()=>p(!0),className:"absolute top-4 left-4 bg-black/30 hover:bg-black/50 text-white backdrop-blur-md px-4 py-2 rounded-full text-xs md:text-sm font-bold flex items-center gap-2 transition-all border border-white/20 z-20",children:[o.jsx(kB,{className:"w-4 h-4"}),"  "]}),o.jsxs("div",{className:`absolute top-4 right-4 px-4 py-1.5 rounded-full text-xs font-black flex items-center gap-2 backdrop-blur-md shadow-lg border-2 z-10 ${pe.color}`,children:[o.jsx(pe.icon,{className:"w-4 h-4"})," ",pe.title]})]}),o.jsx("div",{className:"absolute top-32 md:top-44 right-8 md:right-12 z-20",children:o.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>h(!0),children:[o.jsx("div",{className:"w-28 h-28 md:w-36 md:h-36 rounded-full border-[6px] border-gray-800 overflow-hidden bg-gray-700 relative z-10 flex items-center justify-center",children:e!=null&&e.avatar?o.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):o.jsx(Wa,{className:"w-16 h-16 text-gray-500"})}),o.jsx("div",{className:"absolute bottom-1 right-1 bg-emerald-500 text-white p-2 rounded-full border-4 border-gray-800 shadow-sm z-20 hover:bg-emerald-600 transition-colors",children:o.jsx(t8,{className:"w-4 h-4"})})]})}),o.jsxs("div",{className:"pt-16 md:pt-20 px-8 pb-8",children:[o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsxs("div",{className:"flex items-center flex-wrap gap-3 mb-1",children:[o.jsx("h2",{className:"text-3xl font-black text-white",children:e==null?void 0:e.displayName}),(e==null?void 0:e.isSubscriber)&&o.jsxs("div",{className:"flex items-center gap-1 bg-amber-500/10 border border-amber-500/30 px-2 py-0.5 rounded-md",children:[o.jsx("span",{className:"text-[10px] font-black text-amber-400",children:""}),o.jsx(ys,{className:"w-3 h-3 text-amber-400 fill-amber-400"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-4 bg-gray-800/50 px-3 py-1.5 rounded-lg border border-gray-700/50 hover:bg-gray-800 transition-colors group cursor-pointer",title:" ",onClick:()=>{navigator.clipboard.writeText((e==null?void 0:e.uid)||""),P(!0),setTimeout(()=>P(!1),2e3)},children:[o.jsx(Ew,{className:"w-3.5 h-3.5 text-gray-500 group-hover:text-emerald-400 transition-colors"}),o.jsxs("span",{className:"text-[10px] font-mono text-gray-500 group-hover:text-gray-300 transition-colors tracking-wider",children:["ID: ",e==null?void 0:e.uid.substring(0,8).toUpperCase(),"..."]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium mb-6",children:[o.jsx("span",{className:"text-gray-400",children:e==null?void 0:e.email}),o.jsx("span",{className:"text-gray-300",children:""}),o.jsxs("span",{className:`flex items-center gap-1 ${Gt(D)}`,children:[o.jsx($h,{className:"w-3 h-3"}),"  ",D]})]})]}),o.jsx("div",{className:"mb-6 flex justify-end",children:o.jsxs("button",{onClick:()=>B(!0),className:"bg-gray-800 hover:bg-gray-700 text-amber-400 font-bold py-2 px-4 rounded-xl shadow-sm border border-amber-500/20 transition-all transform hover:-translate-y-0.5 flex items-center gap-2 text-xs",children:[o.jsx(RB,{className:"w-4 h-4"})," "]})}),o.jsxs("form",{onSubmit:At,className:"space-y-6 border-t border-gray-700 pt-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-4",children:[o.jsx(Wa,{className:"w-5 h-5 text-blue-500"}),"  "]})}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),o.jsx("input",{type:"text",value:Ee.firstName,onChange:Qe=>oe({...Ee,firstName:Qe.target.value}),className:Pt})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),o.jsx("input",{type:"text",value:Ee.lastName,onChange:Qe=>oe({...Ee,lastName:Qe.target.value}),className:Pt})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),o.jsx(gE,{options:rn,value:Ee.gender,onChange:Qe=>!(e!=null&&e.genderChanged)&&oe({...Ee,gender:Qe}),placeholder:" ",disabled:e==null?void 0:e.genderChanged}),(e==null?void 0:e.genderChanged)&&o.jsxs("p",{className:"text-[10px] text-red-400 mt-1 mr-1 flex items-center gap-1",children:[o.jsx(WA,{className:"w-3 h-3"}),"        "]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),o.jsx("input",{type:"text",value:Ee.phone,onChange:Qe=>oe({...Ee,phone:Qe.target.value}),className:Pt})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),o.jsx("input",{type:"text",value:Ee.address,onChange:Qe=>oe({...Ee,address:Qe.target.value}),className:Pt})]}),o.jsx("div",{className:"md:col-span-2 mt-2",children:o.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-4",children:[o.jsx(Gl,{className:"w-5 h-5 text-emerald-500"}),"  "]})}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),o.jsx("input",{type:"text",value:Ee.school,onChange:Qe=>oe({...Ee,school:Qe.target.value}),className:Pt})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),o.jsx(gE,{options:ot,value:Ee.grade,onChange:Qe=>oe({...Ee,grade:Qe}),placeholder:" "})]}),Ee.grade==="university"&&o.jsxs("div",{className:"md:col-span-2 animate-fade-in",children:[o.jsx("label",{className:"text-xs font-bold text-blue-400 mb-1 block",children:"  / "}),o.jsx("input",{type:"text",value:Ee.universityName||Ee.school,onChange:Qe=>oe({...Ee,universityName:Qe.target.value}),placeholder:"   ...",className:`${Pt} border-blue-500 bg-blue-900/10`})]})]}),o.jsxs("div",{className:"flex items-center justify-end pt-4 gap-4",children:[i&&o.jsxs("span",{className:"text-green-600 font-bold text-sm animate-fade-in flex items-center gap-1",children:[o.jsx(es,{className:"w-4 h-4"})," ",i]}),o.jsxs("button",{type:"submit",disabled:r,className:"bg-emerald-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-900/20 flex items-center gap-2",children:[r?o.jsx(Ir,{className:"w-5 h-5 animate-spin"}):o.jsx(au,{className:"w-5 h-5"}),"  "]})]})]})]})]})}),o.jsxs("div",{className:"lg:col-span-5 lg:order-2 space-y-6 mt-8 lg:mt-0",children:[o.jsxs("div",{className:"bg-gradient-to-br from-indigo-700 via-purple-700 to-fuchsia-700 rounded-3xl md:rounded-[2.5rem] shadow-2xl p-3 md:p-6 text-white relative overflow-hidden border-2 md:border-4 border-gray-800 ring-2 md:ring-4 ring-gray-900",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-500 opacity-20 rounded-full translate-y-1/2 -translate-x-1/2 blur-3xl"}),o.jsx("div",{className:"flex items-center justify-between mb-2 md:mb-6 relative z-10",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-md opacity-50 rounded-full"}),o.jsx("div",{className:"p-2 md:p-3 bg-gradient-to-br from-yellow-300 to-orange-500 rounded-2xl shadow-lg relative border border-white/30",children:o.jsx(pe.icon,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg md:text-3xl font-black tracking-tight",children:[" ",D]}),o.jsxs("p",{className:"text-indigo-100 text-xs md:text-sm font-medium flex items-center gap-1.5 mt-0.5 bg-black/20 px-2 md:px-3 py-1 rounded-full w-fit",children:[o.jsx(Wp,{className:"w-3 h-3 md:w-3.5 md:h-3.5 text-orange-400 fill-orange-400"})," ",I,"   (XP)"]})]})]})}),o.jsxs("div",{className:"relative mb-6 md:mb-8",children:[o.jsxs("div",{className:"flex justify-between text-[10px] md:text-xs font-bold text-indigo-200 mb-1 px-1",children:[o.jsx("span",{children:pe.title}),o.jsxs("span",{children:["  ",D+1]})]}),o.jsx("div",{className:"w-full bg-black/30 h-3 md:h-3.5 rounded-full relative overflow-hidden backdrop-blur-sm border border-white/10",children:o.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 h-full rounded-full transition-all duration-1000 ease-out relative shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${kt}%`},children:o.jsx("div",{className:"absolute inset-0 bg-white/30 w-full h-full animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite]"})})})]}),o.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 md:p-5 backdrop-blur-md border border-white/10",children:[o.jsxs("h4",{className:"text-xs md:text-sm font-bold text-indigo-100 mb-2 flex items-center gap-2",children:[o.jsx(ys,{className:"w-3 h-3 md:w-4 md:h-4 text-yellow-300"}),"  "]}),o.jsx("div",{className:"text-base md:text-xl font-black text-white tracking-wide mb-1",children:pe.title}),o.jsx("div",{className:"text-[10px] md:text-xs text-indigo-200",children:"     !"})]})]}),o.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 p-4 md:p-5",children:[o.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2 border-b border-gray-700 pb-3",children:[o.jsx("div",{className:"p-2 bg-yellow-900/30 rounded-lg",children:o.jsx(sb,{className:"w-5 h-5 text-yellow-400"})})," "]}),o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:xG.map((Qe,Ut)=>{const gt=Qe.condition(ce);return o.jsxs("button",{onClick:()=>H({badge:Qe,isUnlocked:gt}),className:`relative p-2 rounded-xl border flex flex-col items-center text-center transition-all hover:scale-105 active:scale-95 ${gt?"bg-gray-700/50 border-gray-600 shadow-sm hover:shadow-md cursor-pointer":"bg-gray-800/50 border-gray-700 opacity-60 grayscale hover:opacity-100 cursor-pointer"}`,children:[o.jsx("div",{className:`w-8 h-8 md:w-9 md:h-9 rounded-full flex items-center justify-center mb-1 ${gt?Qe.bg:"bg-gray-700"}`,children:o.jsx(Qe.icon,{className:`w-4 h-4 md:w-5 md:h-5 ${gt?Qe.color:"text-gray-400"}`})}),o.jsx("h4",{className:"font-bold text-[9px] text-gray-300 leading-tight line-clamp-1",children:Qe.title}),!gt&&o.jsx("div",{className:"absolute top-1 right-1",children:o.jsx(WA,{className:"w-2.5 h-2.5 text-gray-500"})})]},Ut)})}),F&&o.jsxs("div",{className:"mt-4 bg-gray-800/80 rounded-2xl p-4 border border-gray-700 animate-fade-in flex items-start gap-4 relative",children:[o.jsx("button",{onClick:()=>H(null),className:"absolute top-3 left-3 text-gray-500 hover:text-white transition-colors",children:o.jsx(Xs,{className:"w-4 h-4"})}),o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center shrink-0 ${F.isUnlocked?F.badge.bg:"bg-gray-700"}`,children:o.jsx(F.badge.icon,{className:`w-6 h-6 ${F.isUnlocked?F.badge.color:"text-gray-400"}`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-sm font-bold text-white mb-1",children:F.badge.title}),o.jsxs("div",{className:"text-xs mb-1",children:[o.jsx("span",{className:`font-bold ${F.isUnlocked?"text-emerald-400":"text-gray-400"}`,children:F.isUnlocked?" : ":": "}),o.jsx("span",{className:"text-gray-300",children:F.badge.desc})]}),!F.isUnlocked&&o.jsxs("div",{className:"mt-2 flex items-center gap-1 text-[10px] text-gray-500",children:[o.jsx(WA,{className:"w-3 h-3"}),o.jsx("span",{children:"    "})]}),F.isUnlocked&&o.jsxs("div",{className:"mt-2 flex items-center gap-1 text-[10px] text-emerald-500",children:[o.jsx(es,{className:"w-3 h-3"}),o.jsx("span",{children:" "})]})]})]})]}),o.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 p-6 hover:shadow-md transition-shadow",children:[o.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:o.jsx(I8,{className:"w-5 h-5 text-emerald-400"})}),"   "]}),O?o.jsx("div",{className:"h-48 flex items-center justify-center",children:o.jsx(Ir,{className:"w-6 h-6 animate-spin text-emerald-500"})}):o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex justify-between items-center bg-gray-700/50 p-4 rounded-xl border border-gray-700",children:[o.jsx("span",{className:"text-gray-300 text-sm font-bold",children:" "}),o.jsxs("span",{className:`font-black text-xl ${ir>=90?"text-emerald-400":"text-blue-400"}`,children:[ir,"%"]})]})})]})]})]})]})},wG=[{id:"All",label:" (All)"},{id:"Language",label:"Language ()"},{id:"Reading",label:"Reading ()"},{id:"Writing",label:"Writing ()"},{id:"Vocabulary",label:"Vocabulary ()"},{id:"General",label:"  (General Quiz)"}],J2=({options:n,value:e,onChange:t,placeholder:r,disabled:s})=>{const[i,l]=fe.useState(!1),u=fe.useRef(null);fe.useEffect(()=>{const g=p=>{u.current&&!u.current.contains(p.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=n.find(g=>g.value===e&&!g.isHeader);return o.jsxs("div",{className:`relative ${i?"z-50":"z-0"}`,ref:u,children:[o.jsxs("button",{type:"button",onClick:()=>!s&&l(!i),className:`w-full px-5 py-4 rounded-2xl font-bold text-right border-2 flex justify-between items-center outline-none transition-all
            ${s?"bg-gray-800 border-gray-700 text-gray-400 cursor-not-allowed":i?"bg-gray-800 border-emerald-500 ring-4 ring-emerald-900/20 text-white shadow-lg":"bg-gray-800 border-transparent hover:border-emerald-700 text-white shadow-sm"}
         `,children:[o.jsx("span",{className:`truncate ${h?"":"text-gray-500"}`,children:h?h.label:r}),o.jsx(fu,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${i?"rotate-180 text-emerald-500":""}`})]}),i&&o.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 border border-gray-700 rounded-2xl shadow-xl max-h-72 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-50",children:[n.map((g,p)=>{if(g.isHeader)return o.jsx("div",{className:"px-4 py-2 text-xs font-black text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-700/50 rounded-lg mb-1",children:g.label},p);const x=g.value===e;return o.jsxs("div",{onClick:()=>{t(g.value),l(!1)},className:`px-4 py-3 rounded-xl font-bold text-sm cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${x?"bg-emerald-900/30 text-emerald-400":"text-gray-300 hover:bg-gray-700"}
                   `,children:[g.label,x&&o.jsx(ql,{className:"w-4 h-4"})]},p)}),n.length===0&&o.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"   "})]})]})},vG=(n="General")=>{switch(n){case"Language":return{label:"",bg:"bg-indigo-500/10",border:"border-indigo-500/20",text:"text-indigo-400",hoverBorder:"group-hover:border-indigo-500/50",buttonHover:"group-hover:bg-indigo-600 group-hover:border-indigo-500 group-hover:text-white",icon:Yh};case"Reading":return{label:"",bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-400",hoverBorder:"group-hover:border-emerald-500/50",buttonHover:"group-hover:bg-emerald-600 group-hover:border-emerald-500 group-hover:text-white",icon:ka};case"Writing":return{label:"",bg:"bg-orange-500/10",border:"border-orange-500/20",text:"text-orange-400",hoverBorder:"group-hover:border-orange-500/50",buttonHover:"group-hover:bg-orange-600 group-hover:border-orange-500 group-hover:text-white",icon:H1};case"Vocabulary":return{label:"",bg:"bg-purple-500/10",border:"border-purple-500/20",text:"text-purple-400",hoverBorder:"group-hover:border-purple-500/50",buttonHover:"group-hover:bg-purple-600 group-hover:border-purple-500 group-hover:text-white",icon:Ig};case"General":default:return{label:"",bg:"bg-gray-700/30",border:"border-gray-700",text:"text-gray-400",hoverBorder:"group-hover:border-gray-500",buttonHover:"group-hover:bg-gray-700 group-hover:border-gray-500 group-hover:text-white",icon:da}}},BG=({onBack:n,onNavigate:e})=>{const{user:t}=CA(),[r,s]=fe.useState("SELECTION"),[i,l]=fe.useState(""),[u,h]=fe.useState(""),[g,p]=fe.useState("All"),[x,B]=fe.useState([]),[C,U]=fe.useState(!1),[E,P]=fe.useState(null),[F,H]=fe.useState(0),[K,Ae]=fe.useState({}),[ae,se]=fe.useState(1800),[j,S]=fe.useState(null),[O,q]=fe.useState(!1),[I,k]=fe.useState(0),[D,J]=fe.useState({}),[pe,te]=fe.useState(!1),[ce,ne]=fe.useState(null),[he,we]=fe.useState(!1),[Y,Q]=fe.useState(!1),[M,z]=fe.useState(!1),[re,ue]=fe.useState(0),[me,Ne]=fe.useState(!1),[de,Oe]=fe.useState(!1),[Re,et]=fe.useState(null),[tt,mt]=fe.useState(0),[Ee,oe]=fe.useState(""),[At,ft]=fe.useState(!1),[Ve,Je]=fe.useState(!1),[nt,at]=fe.useState(null),[,Nt]=fe.useState(0);fe.useEffect(()=>{const qe=setInterval(()=>Nt(Pe=>Pe+1),5e3);return()=>clearInterval(qe)},[]);const _t=()=>{if(!(t!=null&&t.isSubscriber)||!t.subscriptionExpiry)return!1;const qe=t.subscriptionExpiry.seconds?t.subscriptionExpiry.seconds*1e3:new Date(t.subscriptionExpiry).getTime();return Date.now()<qe};fe.useEffect(()=>{window.scrollTo(0,0)},[r]),fe.useEffect(()=>{if(t&&r==="SELECTION"){const qe=`quiz_session_${t.uid}`,Pe=localStorage.getItem(qe);if(Pe)try{const rt=JSON.parse(Pe);Date.now()-rt.timestamp<7200*1e3?at(rt):localStorage.removeItem(qe)}catch{localStorage.removeItem(qe)}}},[t,r]),fe.useEffect(()=>{if(r==="ACTIVE"&&E&&t){const qe={quiz:E,answers:K,index:F,timeLeft:ae,reorderShuffles:D,timestamp:Date.now()};localStorage.setItem(`quiz_session_${t.uid}`,JSON.stringify(qe))}},[E,K,F,ae,t,r,D]),fe.useEffect(()=>{u?Mt():B([])},[u,t==null?void 0:t.isSubscriber]),fe.useEffect(()=>{let qe;return r==="ACTIVE"&&ae>0&&(qe=setInterval(()=>{se(Pe=>Pe<=1?(Ut(),0):Pe-1)},1e3)),()=>clearInterval(qe)},[r,ae]),fe.useEffect(()=>{let qe;return r==="ACTIVE"&&(E!=null&&E.questionDuration)&&j!==null&&(j>0?qe=setInterval(()=>{S(Pe=>Pe!==null&&Pe>0?Pe-1:0)},1e3):j===0&&Qe()),()=>clearInterval(qe)},[r,E,j]),fe.useEffect(()=>{E!=null&&E.questionDuration?S(E.questionDuration):S(null)},[F,E]),fe.useEffect(()=>{if(r!=="ACTIVE")return;const qe=()=>{ue(Tt=>{const vt=Tt+1;return vt===1?Q(!0):vt>=2&&(Q(!1),z(!0)),vt})},Pe=()=>{document.hidden&&qe()},rt=Tt=>{(Tt.key==="PrintScreen"||Tt.ctrlKey&&Tt.key==="p"||Tt.metaKey&&Tt.shiftKey)&&(Tt.preventDefault(),qe())},xt=Tt=>Tt.preventDefault();return document.addEventListener("visibilitychange",Pe),document.addEventListener("keydown",rt),document.addEventListener("contextmenu",xt),document.addEventListener("copy",xt),document.addEventListener("paste",xt),document.addEventListener("cut",xt),document.addEventListener("selectstart",xt),()=>{document.removeEventListener("visibilitychange",Pe),document.removeEventListener("keydown",rt),document.removeEventListener("contextmenu",xt),document.removeEventListener("copy",xt),document.removeEventListener("paste",xt),document.removeEventListener("cut",xt),document.removeEventListener("selectstart",xt)}},[r]);const Mt=async()=>{U(!0);try{const qe=ha(ln(er,"quizzes"),fa("grade","==",u)),Pe=await a6(qe),rt=[];Pe.forEach(xt=>{rt.push({id:xt.id,...xt.data()})}),B(rt)}catch(qe){console.error("Error fetching quizzes:",qe)}finally{U(!1)}},Gt=Array.from(new Set(x.map(qe=>qe.subject))),Xt=x.filter(qe=>{const Pe=i?qe.subject===i:!0,rt=g&&g!=="All"?qe.category===g:!0;return Pe&&rt}),ir=qe=>{const Pe=_t();if(qe.isPremium&&!Pe){Ne(!0);return}ne(qe),te(!0)},kt=qe=>{if(!qe.questions||qe.questions.length===0){alert("      ");return}t&&localStorage.removeItem(`quiz_session_${t.uid}`),at(null);const rt=[...qe.questions].sort(()=>Math.random()-.5).map(Ft=>{if(Ft.type==="MCQ"||Ft.type==="TF"){const lr=Ft.options.map((Ar,kr)=>({opt:Ar,originalIndex:kr}));lr.sort(()=>Math.random()-.5);const $t=lr.map(Ar=>Ar.opt),cr=lr.findIndex(Ar=>Ar.originalIndex===Ft.correctAnswer);return{...Ft,options:$t,correctAnswer:cr}}return Ft}),xt={...qe,questions:rt},Tt={};rt.forEach((Ft,lr)=>{if(Ft.type==="REORDER"){const $t=Ft.options.map((cr,Ar)=>Ar);for(let cr=$t.length-1;cr>0;cr--){const Ar=Math.floor(Math.random()*(cr+1));[$t[cr],$t[Ar]]=[$t[Ar],$t[cr]]}Tt[lr]=$t}}),J(Tt),P(xt),H(0),Ae({});const vt=qe.duration?qe.duration*60:1800;se(vt),k(0),ue(0),z(!1),mt(0),oe(""),Je(!1),te(!1),ne(null),s("ACTIVE")},Pt=()=>{nt&&(P(nt.quiz),Ae(nt.answers),H(nt.index),se(nt.timeLeft),nt.reorderShuffles&&J(nt.reorderShuffles),s("ACTIVE"),at(null))},ot=()=>{ce&&kt(ce)},rn=qe=>{Ae(Pe=>({...Pe,[F]:qe}))},Qe=()=>{E&&(S(null),F<E.questions.length-1?H(qe=>qe+1):Ut())},Ut=async()=>{if(t&&localStorage.removeItem(`quiz_session_${t.uid}`),!E||!t){s("RESULT");return}q(!0);const qe=mn(),Pe=Math.round(qe/E.questions.length*100);let rt=qe*30;k(rt);try{await so(ln(er,"quiz_results"),{userId:t.uid,userName:t.displayName,quizId:E.id||"unknown",quizTitle:E.title,subject:E.subject,score:qe,totalQuestions:E.questions.length,percentage:Pe,passed:Pe>=50,earnedXP:rt,createdAt:Ci()});const xt=Ys(er,"users",t.uid);await px(xt,{totalXP:Pb(rt),quizzesCompleted:Pb(1),lastQuizDate:Ci(),role:t.role==="teacher"?"teacher":"student",email:t.email,displayName:t.displayName},{merge:!0});const Tt=`etqan_user_profile_${t.uid}`,vt=localStorage.getItem(Tt);if(vt){const{data:Ft,timestamp:lr}=JSON.parse(vt),$t={...Ft,totalXP:(Ft.totalXP||0)+rt,quizzesCompleted:(Ft.quizzesCompleted||0)+1};localStorage.setItem(Tt,JSON.stringify({data:$t,timestamp:lr}))}localStorage.removeItem(`etqan_quiz_history_${t.uid}`)}catch(xt){console.error("Error saving quiz result:",xt)}finally{q(!1),s("RESULT")}},gt=async()=>{if(tt!==0&&!(!E||!t)){ft(!0);try{await so(ln(er,"reviews"),{type:"quiz",targetId:E.id,targetTitle:E.title,teacherId:E.createdBy||"teacher",teacherName:E.teacherName||"",rating:tt,comment:Ee,studentId:t.uid,studentName:t.displayName,createdAt:Ci()}),Je(!0)}catch(qe){console.error("Error saving review:",qe),alert("    ")}finally{ft(!1)}}},Bt=qe=>{const Pe=Math.floor(qe/60),rt=qe%60;return`${Pe}:${rt<10?"0":""}${rt}`},mn=()=>{if(!E)return 0;let qe=0;return E.questions.forEach((Pe,rt)=>{if(Pe.type==="REORDER"){const xt=K[rt];if(xt&&xt.length===Pe.options.length){let Tt=!0;for(let vt=0;vt<Pe.options.length;vt++)if(xt[vt]!==vt){Tt=!1;break}Tt&&qe++}}else K[rt]===Pe.correctAnswer&&qe++}),qe},tr=()=>{we(!0)},qr=()=>{t&&localStorage.removeItem(`quiz_session_${t.uid}`),we(!1),s("SELECTION")},or=()=>{t&&localStorage.removeItem(`quiz_session_${t.uid}`),z(!1),s("SELECTION")},fr=qe=>{et(qe),Oe(!0)},dr=()=>{if(Oe(!1),Re==="REVIEW")s("REVIEW");else if(Re==="RETAKE"){const qe=x.find(Pe=>Pe.id===(E==null?void 0:E.id));qe?kt(qe):s("SELECTION")}else Re==="LIST"?s("SELECTION"):Re==="HOME"&&n();et(null)},nr=(qe,Pe)=>{const rt=K[F]||[];rn(Pe?[...rt,qe]:rt.filter(xt=>xt!==qe))},yt=({title:qe,message:Pe,onConfirm:rt,onCancel:xt,icon:Tt=ZA,confirmText:vt="",cancelText:Ft="",confirmColor:lr="emerald",isStatic:$t=!1})=>o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:Ft?xt:void 0}),o.jsxs("div",{className:`bg-gray-900 rounded-[2.5rem] p-8 max-w-sm w-full relative z-10 text-center border border-white/10 shadow-2xl shadow-black/50 ${$t?"":"animate-fade-in-up"}`,children:[o.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 ${lr==="red"?"bg-red-500/20":"bg-emerald-500/20"}`,children:o.jsx(Tt,{className:`w-10 h-10 ${lr==="red"?"text-red-500":"text-emerald-500"}`})}),o.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:qe}),o.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:Pe}),o.jsxs("div",{className:"flex gap-4 justify-center",children:[o.jsx("button",{onClick:rt,className:`flex-1 py-3.5 rounded-xl font-bold text-white transition-all shadow-lg ${lr==="red"?"bg-gradient-to-r from-red-600 to-pink-600 shadow-red-900/30":"bg-gradient-to-r from-emerald-500 to-teal-600 shadow-emerald-900/30"} ${$t?"":"transform hover:scale-105 active:scale-95"} ${Ft?"":"max-w-[200px]"}`,children:vt}),Ft&&o.jsx("button",{onClick:xt,className:"flex-1 bg-gray-800 text-gray-300 py-3.5 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-gray-700",children:Ft})]})]})]}),Yt=()=>{const qe=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(rt=>({label:` ${rt}`,value:rt.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"   -   ",value:"English Major - QOU"}],Pe=[{label:"  ",value:""},...Gt.map(rt=>({label:String(rt),value:String(rt)}))];return o.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 animate-fade-in relative z-10",children:[o.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(156, 163, 175, 0.5);
          border-radius: 20px;
        }
      `}),nt&&o.jsxs("div",{className:"mb-8 p-4 rounded-3xl bg-gradient-to-r from-purple-900/40 to-blue-900/40 border border-purple-500/30 flex flex-col sm:flex-row items-center justify-between gap-4 animate-fade-in",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-purple-500/20 p-3 rounded-full border border-purple-500/30",children:o.jsx(_E,{className:"w-6 h-6 text-purple-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold text-lg",children:"   "}),o.jsxs("p",{className:"text-gray-400 text-sm",children:['    "',nt.quiz.title,'"']})]})]}),o.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[o.jsx("button",{onClick:Pt,className:"flex-1 sm:flex-none bg-purple-600 hover:bg-purple-700 text-white px-6 py-2.5 rounded-xl font-bold transition-all shadow-lg shadow-purple-900/30",children:" "}),o.jsx("button",{onClick:()=>{t&&localStorage.removeItem(`quiz_session_${t.uid}`),at(null)},className:"px-4 py-2.5 rounded-xl bg-gray-800 text-gray-400 hover:text-white font-bold transition-colors",children:""})]})]}),o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white mb-2",children:" "}),o.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"       "})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-6",children:[o.jsxs("div",{className:"lg:col-span-7 bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 relative z-30",children:[o.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[o.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:o.jsx(Gl,{className:"w-5 h-5 text-emerald-400"})}),"     "]}),o.jsx(J2,{options:qe,value:u,onChange:rt=>{h(rt),l(""),p("All")},placeholder:"--    --"})]}),o.jsxs("div",{className:"lg:col-span-5 bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 relative z-20",children:[o.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[o.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:o.jsx(da,{className:"w-5 h-5 text-emerald-400"})})," "]}),o.jsx(J2,{options:Pe,value:i,onChange:l,placeholder:u?" ":"   ",disabled:!u})]})]}),u&&o.jsx("div",{className:"mb-10 animate-fade-in relative z-10",children:o.jsxs("div",{className:"bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700",children:[o.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[o.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:o.jsx(LE,{className:"w-5 h-5 text-emerald-400"})}),"  ()"]}),o.jsx(J2,{options:wG.map(rt=>({label:rt.label,value:rt.id})),value:g,onChange:p,placeholder:"  "})]})}),u&&o.jsxs("div",{className:"space-y-6 animate-fade-in-up relative z-0",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-100 border-r-4 border-emerald-500 pr-3 flex items-center gap-2",children:[o.jsx(UF,{className:"w-5 h-5"})," "]}),C?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx(Ir,{className:"w-8 h-8 animate-spin text-emerald-400"})}):x.length===0?o.jsxs("div",{className:"bg-gray-900 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-700",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ni,{className:"w-8 h-8 text-gray-500"})}),o.jsx("p",{className:"text-gray-400 font-medium",children:"      "})]}):Xt.length===0?o.jsxs("div",{className:"bg-gray-900 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-700",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ni,{className:"w-8 h-8 text-gray-500"})}),o.jsx("p",{className:"text-gray-400 font-medium",children:"     "})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Xt.map(rt=>{const xt=_t(),Tt=rt.isPremium&&!xt,vt=vG(rt.category);return o.jsxs("div",{className:`bg-gray-900 rounded-3xl p-5 border-2 transition-all duration-300 group relative overflow-hidden flex flex-col gap-4 ${Tt?"border-gray-800 opacity-90":`${vt.border} ${vt.hoverBorder} hover:-translate-y-1 hover:shadow-xl`}`,children:[rt.isPremium&&o.jsxs("div",{className:"absolute top-0 left-0 bg-amber-500 text-gray-900 text-[10px] font-black px-3 py-1 rounded-br-xl z-20 flex items-center gap-1",children:[o.jsx(ys,{className:"w-3 h-3 fill-gray-900"}),"PREMIUM"]}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${vt.bg} ${vt.text}`,children:[o.jsx(vt.icon,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs font-bold",children:vt.label})]}),o.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500 text-xs bg-gray-950 px-2 py-1 rounded-lg border border-gray-800",children:[o.jsx(ig,{className:"w-3 h-3"}),o.jsxs("span",{className:"font-mono font-bold pt-0.5",children:[rt.duration||30," "]})]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:`text-lg font-black text-white leading-tight mb-2 ${Tt?"text-gray-400":""}`,children:rt.title}),o.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-400 font-medium",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Iw,{className:"w-3.5 h-3.5"}),o.jsx("span",{children:rt.grade==="English Major - QOU"?"":` ${rt.grade}`})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ZA,{className:"w-3.5 h-3.5"}),o.jsxs("span",{children:[rt.questions.length," "]})]})]})]}),o.jsx("button",{onClick:()=>ir(rt),className:`w-full py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all shadow-lg ${Tt?"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700":`bg-gray-800 text-white border border-gray-700 ${vt.buttonHover}`}`,children:Tt?o.jsxs(o.Fragment,{children:[o.jsx(WA,{className:"w-4 h-4"})," "]}):o.jsxs(o.Fragment,{children:[" ",o.jsx(gn,{className:"w-4 h-4"})]})})]},rt.id)})})]}),pe&&o.jsx(yt,{title:"  ",message:`   ${ce==null?void 0:ce.title} `,onConfirm:ot,onCancel:()=>te(!1),confirmText:" ",cancelText:"",icon:ZA}),me&&o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:()=>Ne(!1)}),o.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-8 max-w-sm w-full relative z-10 text-center border border-amber-500/30 shadow-2xl shadow-amber-900/20 animate-fade-in-up",children:[o.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 bg-amber-500/20",children:o.jsx(ys,{className:"w-10 h-10 text-amber-500 fill-amber-500"})}),o.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:" "}),o.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:"       .    ."}),o.jsx("button",{onClick:()=>{Ne(!1),e("SERVICES")},className:"w-full py-3.5 rounded-xl font-bold text-white transition-all shadow-lg bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 border border-amber-500",children:" "})]})]})]})},$n=()=>{if(!E||!E.questions||!E.questions[F])return o.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 gap-4",children:[o.jsx("div",{className:"text-red-500 font-bold text-lg",children:"    "}),o.jsx("button",{onClick:()=>s("SELECTION"),className:"text-blue-400 underline",children:" "})]});const qe=E.questions[F],Pe=qe.type==="REORDER";let rt=!1;if(Pe){const $t=K[F];rt=$t!==void 0&&$t.length===qe.options.length}else rt=K[F]!==void 0;const xt=F===E.questions.length-1,Tt=E.subject.toLowerCase().includes("english")||E.subject.includes("")||E.subject.includes(""),vt=Tt?"ltr":"rtl",Ft=Tt?"text-left":"text-right",lr={sm:"text-sm leading-relaxed",md:"text-base leading-relaxed",lg:"text-xl leading-loose",xl:"text-2xl leading-loose"}[qe.passageFontSize||"md"];return o.jsxs("div",{className:"fixed inset-0 z-[9999] bg-gray-950 overflow-y-auto select-none",onContextMenu:$t=>$t.preventDefault(),style:{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTouchCallout:"none"},children:[o.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[o.jsx("img",{src:"https://lh3.googleusercontent.com/d/1e-JYkv-JKpi3PBXLAB5qy2E5UG4klP6j",alt:"Active Quiz Background",className:"w-full h-full object-cover opacity-20"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/90 via-gray-900/40 to-gray-950/90"}),o.jsx("div",{className:"absolute inset-0 shadow-[inset_0_0_150px_rgba(0,0,0,0.9)]"})]}),M&&o.jsx(yt,{title:"   ",message:"      .   .",onConfirm:or,cancelText:null,confirmText:"",icon:g8,confirmColor:"red",isStatic:!0}),Y&&!M&&o.jsx(yt,{title:" !",message:"     .   .",onConfirm:()=>Q(!1),cancelText:null,confirmText:"",icon:Tw,confirmColor:"red",isStatic:!0}),he&&o.jsx(yt,{title:" ",message:"       .",onConfirm:qr,onCancel:()=>we(!1),confirmText:" ",cancelText:"",icon:og,confirmColor:"red"}),o.jsxs("div",{className:"bg-gray-950/80 backdrop-blur-md border-b border-gray-700 sticky top-0 z-50 shadow-sm relative",children:[o.jsxs("div",{className:"max-w-4xl mx-auto px-3 h-16 flex justify-between items-center",children:[o.jsxs("button",{onClick:tr,className:"flex items-center gap-2 text-red-500 hover:bg-red-900/20 px-3 py-1.5 rounded-lg transition-colors font-bold text-sm",children:[o.jsx(og,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:""})]}),o.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-1",children:o.jsxs("div",{className:`flex items-center gap-2 px-4 py-1.5 rounded-full font-mono font-bold text-base shadow-inner border border-gray-600 ${ae<300?"bg-red-900/50 text-red-200 animate-pulse":"bg-gray-700 text-emerald-400"}`,children:[o.jsx(ig,{className:"w-4 h-4"}),Bt(ae)]})}),o.jsxs("div",{className:"text-xs font-bold text-gray-400",children:[F+1," / ",E.questions.length]})]}),o.jsx("div",{className:"w-full bg-gray-700 h-1",children:o.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-500 ease-out",style:{width:`${(F+1)/E.questions.length*100}%`}})})]}),j!==null&&E.questionDuration&&o.jsxs("div",{className:"max-w-3xl mx-auto px-4 mt-4 relative z-10",children:[o.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full transition-all duration-1000 linear ${j<10?"bg-red-500":"bg-blue-500"}`,style:{width:`${j/E.questionDuration*100}%`}})}),o.jsxs("div",{className:"text-center mt-1 text-xs font-bold text-gray-500",children:[" : ",j," "]})]}),o.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8 relative z-10",children:[o.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 overflow-hidden animate-fade-in-up",dir:vt,children:[o.jsxs("div",{className:"bg-gray-800/50 border-b border-gray-700 p-4 flex items-center justify-between",children:[o.jsx("h2",{className:"font-bold text-gray-200 text-sm md:text-base",children:E.title}),o.jsx("div",{className:"bg-gray-700 p-1.5 rounded-lg shadow-sm",children:Pe?o.jsx(jE,{className:"w-4 h-4 text-emerald-500"}):o.jsx(WA,{className:"w-4 h-4 text-gray-300"})})]}),o.jsxs("div",{className:"p-6 md:p-8",children:[qe.passageContent&&o.jsxs("div",{className:"mb-8",children:[qe.generalInstruction&&o.jsx("div",{className:`text-gray-400 font-bold mb-3 text-sm bg-gray-800/50 px-4 py-2.5 rounded-xl border-l-4 border-emerald-500 ${Ft}`,children:qe.generalInstruction}),o.jsx("div",{className:`bg-blue-900/20 p-5 rounded-2xl border border-blue-800 ${Ft}`,children:o.jsx("div",{className:`text-gray-200 whitespace-pre-wrap font-medium ${lr}`,children:qe.passageContent})})]}),o.jsx("h3",{className:`text-lg md:text-2xl font-black text-white leading-relaxed mb-8 ${Ft}`,children:qe.question}),Pe?o.jsxs("div",{className:"space-y-6",dir:"ltr",children:[o.jsxs("div",{className:"min-h-[120px] p-4 bg-gray-950/50 rounded-2xl border-2 border-dashed border-gray-600 flex flex-wrap gap-2 items-start content-start transition-all",children:[(K[F]||[]).map(($t,cr)=>o.jsx("button",{onClick:()=>nr($t,!1),className:"bg-emerald-600 text-white px-4 py-2 rounded-xl font-bold shadow-md hover:bg-red-500 transition-colors animate-fade-in",children:qe.options[$t]},`ans-${cr}`)),(!K[F]||K[F].length===0)&&o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm font-medium italic",children:"      "})]}),o.jsx("div",{className:"flex flex-wrap gap-3 justify-center bg-gray-900 p-4 rounded-2xl border border-gray-700",children:(D[F]||[]).filter($t=>!(K[F]||[]).includes($t)).map(($t,cr)=>o.jsx("button",{onClick:()=>nr($t,!0),className:"bg-gray-800 border-2 border-gray-700 text-gray-200 px-4 py-2 rounded-xl font-bold shadow-sm hover:border-emerald-500 hover:text-emerald-400 transition-all transform hover:scale-105 active:scale-95",children:qe.options[$t]},`bank-${cr}`))}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:()=>rn([]),className:"text-xs font-bold text-gray-400 hover:text-red-500 flex items-center gap-1",children:[o.jsx(FE,{className:"w-3 h-3"})," "]})})]}):o.jsx("div",{className:"space-y-3",children:qe.options.map(($t,cr)=>o.jsxs("button",{onClick:()=>rn(cr),className:`w-full ${Ft} p-4 rounded-xl border-2 transition-all flex items-center justify-between group hover:scale-[1.01] active:scale-[0.99] duration-200 outline-none ${K[F]===cr?"border-emerald-500 bg-emerald-900/30 shadow-md outline-none":"border-gray-700 bg-gray-900 hover:bg-gray-800 hover:border-gray-600 shadow-sm"}`,children:[o.jsx("span",{className:`text-base font-bold ${K[F]===cr?"text-emerald-300":"text-gray-300"}`,children:$t}),o.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 ml-2 transition-colors ${K[F]===cr?"border-emerald-600 bg-emerald-600":"border-gray-600 group-hover:border-emerald-400"}`,children:K[F]===cr&&o.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]},cr))})]})]}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx("button",{onClick:Qe,disabled:!rt||O,className:`w-full sm:w-auto px-10 py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-2 shadow-xl transition-all ${!rt||O?"bg-gray-700 text-gray-500 cursor-not-allowed shadow-none":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-emerald-500/20 active:scale-95"}`,children:O?o.jsxs(o.Fragment,{children:["  ",o.jsx(Ir,{className:"w-5 h-5 animate-spin"})]}):o.jsxs(o.Fragment,{children:[xt?" ":" ",vt==="rtl"?o.jsx(Nw,{className:"w-5 h-5"}):o.jsx(gn,{className:"w-5 h-5"})]})})})]})]})},Xr=()=>{if(!E)return null;const qe=mn(),Pe=E.questions.length,rt=Math.round(qe/Pe*100);let xt="text-red-500",Tt=JU,vt=" ";rt>=90?(xt="text-emerald-500",Tt=ys,vt="!"):rt>=75?(xt="text-blue-500",Tt=yf,vt="!"):rt>=50&&(xt="text-yellow-500",Tt=ql,vt=" ");const Ft=Tt;return o.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center p-4 animate-fade-in overflow-y-auto",children:[o.jsxs("div",{className:"w-full max-w-sm bg-gray-900 rounded-[2.5rem] border border-gray-800 p-8 relative overflow-hidden text-center shadow-2xl",children:[o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx(Ft,{className:`w-16 h-16 ${xt} mb-3 drop-shadow-md`}),o.jsx("h2",{className:"text-2xl font-black text-white mb-1",children:vt}),o.jsx("p",{className:"text-gray-400 font-medium text-sm mb-3",children:E.title}),o.jsxs("div",{className:"inline-flex items-center gap-1 bg-gray-800 px-3 py-1 rounded-full border border-gray-700",children:[o.jsx(Wp,{className:"w-3.5 h-3.5 text-yellow-400 fill-yellow-400"}),o.jsxs("span",{className:"font-bold text-white text-xs",children:["+",I," XP"]})]})]}),o.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 text-center mb-6 border border-gray-800",children:[o.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider mb-2",children:" "}),o.jsxs("span",{className:`text-6xl font-black ${xt}`,children:[rt,"%"]}),o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700/50 flex items-center justify-center gap-2 text-gray-400 text-sm font-bold",children:[o.jsx("span",{children:"  :"}),o.jsxs("span",{className:`text-white bg-gray-700 px-3 py-1 rounded-lg ${xt}`,children:[qe," / ",Pe]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>fr("REVIEW"),className:"w-full py-3.5 bg-orange-500 text-white font-black text-sm rounded-xl hover:bg-orange-600 transition-all flex items-center justify-center gap-2 active:scale-95 shadow-lg shadow-orange-900/20",children:[o.jsx(tb,{className:"w-4 h-4"}),"  "]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{onClick:()=>fr("HOME"),className:"py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-xs shadow-lg shadow-emerald-900/20",children:[o.jsx(Ag,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>fr("RETAKE"),className:"py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-xs shadow-lg shadow-emerald-900/20",children:[o.jsx(Tg,{className:"w-4 h-4"}),"  "]})]})]})]}),o.jsx("div",{className:"w-full max-w-sm bg-gray-900 rounded-[2rem] border border-gray-800 p-6 text-center relative mt-4",children:Ve?o.jsxs("div",{className:"py-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400 mb-1",children:[o.jsx(ql,{className:"w-5 h-5"}),o.jsx("h3",{className:"font-bold text-sm",children:" !"})]}),o.jsx("p",{className:"text-gray-500 text-xs",children:"   ."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3 text-white",children:[o.jsx(P1,{className:"w-4 h-4 text-yellow-400"}),o.jsx("h3",{className:"font-bold text-sm",children:"  "})]}),o.jsx("div",{className:"flex justify-center gap-1.5 mb-3 flex-wrap",children:[1,2,3,4,5,6,7,8,9,10].map(lr=>o.jsx("button",{onClick:()=>mt(lr),className:`w-8 h-8 rounded-lg text-sm font-bold transition-all ${tt===lr?"bg-yellow-500 text-gray-900 scale-110":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:lr},lr))}),o.jsx("textarea",{value:Ee,onChange:lr=>oe(lr.target.value),placeholder:"  ()...",className:"w-full bg-gray-800 border border-gray-700 rounded-xl p-3 text-xs text-white outline-none focus:border-yellow-500 mb-3 min-h-[60px] resize-none"}),o.jsxs("button",{onClick:gt,disabled:At||tt===0,className:`w-full py-2.5 rounded-xl font-bold text-xs flex items-center justify-center gap-2 transition-all ${tt===0?"bg-gray-800 text-gray-600 cursor-not-allowed":"bg-yellow-600 text-white hover:bg-yellow-700"}`,children:[At?o.jsx(Ir,{className:"w-3 h-3 animate-spin"}):o.jsx(Vl,{className:"w-3 h-3"}),""]})]})})]})},bn=()=>o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in text-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(tb,{className:"w-5 h-5 text-emerald-400"})," "]}),o.jsxs("button",{onClick:()=>s("RESULT"),className:"text-gray-400 hover:text-white font-medium flex items-center gap-1 text-sm",children:[o.jsx(gn,{className:"w-4 h-4"})," "]})]}),o.jsx("div",{className:"space-y-6",children:E==null?void 0:E.questions.map((qe,Pe)=>{const rt=qe.type==="REORDER";let xt=!1,Tt=null;if(rt){const vt=K[Pe];vt?(Tt=vt.map(Ft=>qe.options[Ft]).join(" "),xt=vt.length===qe.options.length&&vt.every((Ft,lr)=>Ft===lr)):(Tt="  ",xt=!1)}else{const vt=K[Pe];xt=vt===qe.correctAnswer,Tt=vt!==void 0?qe.options[vt]:"  "}return o.jsxs("div",{className:`bg-gray-900 rounded-2xl shadow-sm border p-5 ${xt?"border-gray-700":"border-red-900/50"}`,children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[o.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shrink-0 mt-0.5 ${xt?"bg-emerald-900 text-emerald-300":"bg-red-900 text-red-300"}`,children:Pe+1}),o.jsx("h3",{className:"text-base font-bold text-white leading-relaxed",children:qe.question})]}),o.jsxs("div",{className:`p-3 rounded-xl border text-sm ${xt?"bg-emerald-900/20 border-emerald-500":"bg-red-900/20 border-red-500"}`,children:[o.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:":"}),o.jsx("span",{className:"font-bold",children:Tt})]}),!xt&&o.jsxs("div",{className:"mt-2 p-3 rounded-xl border bg-gray-800 border-gray-700 text-sm",children:[o.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:" :"}),o.jsx("span",{className:"font-bold text-emerald-400",children:rt?qe.options.join(" "):qe.options[qe.correctAnswer]})]}),qe.explanation&&o.jsxs("div",{className:"mt-3 p-3 bg-yellow-900/20 border border-yellow-800 rounded-xl text-sm text-yellow-200 animate-fade-in",children:[o.jsxs("span",{className:"font-bold block mb-1 flex items-center gap-1",children:[o.jsx(ZA,{className:"w-3 h-3"}),":"]}),o.jsx("p",{className:"leading-relaxed opacity-90",dir:"auto",children:qe.explanation})]})]},qe.id)})})]});return o.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 text-gray-100",children:[r==="SELECTION"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[o.jsx("img",{src:"https://lh3.googleusercontent.com/d/1NKy8h05zQTNaEJ9C35Rzwys5QXFUxFHD",alt:"Background",className:"w-full h-full object-cover opacity-25"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/80 via-gray-900/20 to-gray-950"}),o.jsx("div",{className:"absolute inset-0 shadow-[inset_0_0_150px_rgba(0,0,0,0.9)]"})]}),o.jsx("div",{className:"bg-gray-950/80 backdrop-blur-md border-b border-white/5 py-4 px-4 sticky top-0 z-30 shadow-sm relative",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:n,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:" "})]})}),Yt()]}),r==="ACTIVE"&&$n(),r==="RESULT"&&Xr(),r==="REVIEW"&&bn(),de&&o.jsx(yt,{title:"  ",message:Re==="REVIEW"?"   ":Re==="RETAKE"?"     ":Re==="LIST"?"    ":"    ",onConfirm:dr,onCancel:()=>Oe(!1),confirmText:"",cancelText:"",icon:WF})]})},CG=({className:n})=>o.jsx("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),NG=({className:n})=>o.jsx("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),_G=({onBack:n})=>{const e=[{name:".   ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",title:"  ",school:"  ",location:" ",color:"emerald",bio:"         .              .",skills:["  ","  "],social:{facebook:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",whatsapp:"https://wa.me/972568401548",telegram:"https://t.me/yazan1342"}},{name:".   ",image:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",title:"  ",school:"  ",location:" ",color:"blue",bio:"       .                .",skills:[" "],social:{facebook:"#",whatsapp:"#",telegram:"#"}}];return o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-6 px-4 sticky top-0 z-30 shadow-sm",children:o.jsxs("div",{className:"max-w-6xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-300 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:n,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:" "})]})}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h1",{className:"text-4xl font-black text-white mb-4",children:"  "}),o.jsx("p",{className:"text-xl text-gray-400",children:"       "})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:e.map((t,r)=>o.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-lg border border-white/5 flex flex-col hover:shadow-2xl transition-all duration-300 p-8 hover:border-emerald-500/20",children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("div",{className:"w-48 h-48 rounded-full p-1 bg-gray-800 shadow-md border border-white/5",children:o.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full rounded-full object-cover"})})}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:t.name}),o.jsx("p",{className:`text-${t.color}-400 font-bold text-lg mb-4`,children:t.title}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-gray-400 text-sm font-medium",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(CE,{className:"w-4 h-4"}),t.school]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(nb,{className:"w-4 h-4"}),t.location]})]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[o.jsx(mu,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),o.jsx("h3",{className:"font-bold text-white",children:" "})]}),o.jsx("p",{className:"text-gray-300 leading-relaxed text-sm",children:t.bio})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center justify-center gap-2",children:[o.jsx(yf,{className:`w-5 h-5 text-${t.color}-400`})," "]}),o.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:t.skills.map((s,i)=>o.jsx("span",{className:`bg-${t.color}-900/20 text-${t.color}-300 px-4 py-2 rounded-xl text-sm font-bold border border-${t.color}-900/30`,children:s},i))})]})]}),o.jsx("div",{className:"pt-6 border-t border-white/5",children:o.jsxs("div",{className:"flex justify-center gap-4",children:[o.jsx("a",{href:t.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-blue-900/20 text-blue-400 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all border border-blue-900/30",children:o.jsx(Xh,{className:"w-5 h-5"})}),o.jsx("a",{href:t.social.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-900/20 text-green-400 flex items-center justify-center hover:bg-green-600 hover:text-white transition-all border border-green-900/30",children:o.jsx(CG,{className:"w-5 h-5"})}),o.jsx("a",{href:t.social.telegram,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-sky-900/20 text-sky-400 flex items-center justify-center hover:bg-sky-600 hover:text-white transition-all border border-sky-900/30",children:o.jsx(NG,{className:"w-5 h-5"})})]})})]},r))})]})]})},EG=({onBack:n})=>o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-6 px-4 sticky top-0 z-30 shadow-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-300 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:n,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:" "})]})}),o.jsx("div",{className:"relative bg-emerald-900/20 py-20 overflow-hidden border-b border-white/5",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10 text-center",children:[o.jsx("span",{className:"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30 px-4 py-1 rounded-full text-sm font-medium mb-6 inline-block backdrop-blur-sm",children:"    "}),o.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight",children:["   ",o.jsx("br",{}),"   "]}),o.jsx("p",{className:"text-gray-300 text-xl max-w-2xl mx-auto leading-relaxed",children:"                    ."})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-20",children:[o.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-sm border border-white/5 hover:shadow-lg transition-all hover:bg-gray-800",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:o.jsx(tb,{className:"w-8 h-8 text-blue-400"})}),o.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:""}),o.jsx("p",{className:"text-gray-400 leading-relaxed text-lg",children:"                   ."})]}),o.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-sm border border-white/5 hover:shadow-lg transition-all hover:bg-gray-800",children:[o.jsx("div",{className:"w-16 h-16 bg-emerald-900/30 rounded-2xl flex items-center justify-center mb-6 border border-emerald-500/20",children:o.jsx(V1,{className:"w-8 h-8 text-emerald-400"})}),o.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:""}),o.jsx("p",{className:"text-gray-400 leading-relaxed text-lg",children:"                  ."})]})]}),o.jsxs("div",{className:"mb-20",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-black text-white mb-4",children:"   "}),o.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:jg,title:" ",desc:"       ."},{icon:IE,title:" ",desc:"           ."},{icon:RU,title:" ",desc:"         ."},{icon:pu,title:" ",desc:"          ."}].map((e,t)=>o.jsxs("div",{className:"bg-gray-900 p-6 rounded-2xl border border-white/5 text-center hover:border-emerald-500/30 transition-all group hover:-translate-y-1",children:[o.jsx("div",{className:"w-14 h-14 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-emerald-900/30 transition-colors border border-white/5",children:o.jsx(e.icon,{className:"w-7 h-7 text-gray-300 group-hover:text-emerald-400"})}),o.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:e.title}),o.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:e.desc})]},t))})]})]})]}),mE=({options:n,value:e,onChange:t,placeholder:r,disabled:s})=>{const[i,l]=fe.useState(!1),u=fe.useRef(null);fe.useEffect(()=>{const g=p=>{u.current&&!u.current.contains(p.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=n.find(g=>g.value===e&&!g.isHeader);return o.jsxs("div",{className:`relative ${i?"z-50":"z-0"}`,ref:u,children:[o.jsxs("button",{type:"button",onClick:()=>!s&&l(!i),className:`w-full px-3 py-3 rounded-xl font-bold text-right border-2 flex justify-between items-center outline-none transition-all text-xs md:text-sm
            ${s?"bg-gray-800 border-gray-700 text-gray-400 cursor-not-allowed":i?"bg-gray-800 border-emerald-500 ring-4 ring-emerald-900/20 text-white shadow-lg":"bg-gray-700 border-transparent hover:border-emerald-700 text-white shadow-sm"}
         `,children:[o.jsx("span",{className:`truncate ${h?"":"text-gray-500"}`,children:h?h.label:r}),o.jsx(fu,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ${i?"rotate-180 text-emerald-500":""}`})]}),i&&o.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 border border-gray-700 rounded-2xl shadow-xl max-h-72 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-50",children:[n.map((g,p)=>{if(g.isHeader)return o.jsx("div",{className:"px-4 py-2 text-[10px] font-black text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-700/50 rounded-lg mb-1",children:g.label},p);const x=g.value===e;return o.jsxs("div",{onClick:()=>{t(g.value),l(!1)},className:`px-4 py-3 rounded-xl font-bold text-sm cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${x?"bg-emerald-900/30 text-emerald-400":"text-gray-300 hover:bg-gray-700"}
                   `,children:[g.label,x&&o.jsx(ql,{className:"w-4 h-4"})]},p)}),n.length===0&&o.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"   "})]})]})},SG=({onBack:n})=>{const[e,t]=fe.useState(""),[r,s]=fe.useState(""),[i,l]=fe.useState("SELECTION"),[u,h]=fe.useState(["handouts"]),[g,p]=fe.useState([]),[x,B]=fe.useState(!1);fe.useEffect(()=>{i==="CONTENT"&&r&&e&&C()},[i,r,e]);const C=async()=>{B(!0);const ae=`etqan_materials_${r}_${e}`,se=365*24*60*60*1e3,j=localStorage.getItem(ae);if(j)try{const{data:S,timestamp:O}=JSON.parse(j);if(Date.now()-O<se){p(S),B(!1);return}}catch(S){console.error("Cache parsing error",S)}try{const S=ha(ln(er,"study_materials"),fa("grade","==",r),fa("subject","==",e)),O=await _i(S),q=[];O.forEach(I=>{q.push({id:I.id,...I.data()})}),q.sort((I,k)=>{var pe,te;const D=((pe=I.createdAt)==null?void 0:pe.seconds)||0;return(((te=k.createdAt)==null?void 0:te.seconds)||0)-D}),p(q),localStorage.setItem(ae,JSON.stringify({data:q,timestamp:Date.now()}))}catch(S){console.error("Error fetching materials:",S)}finally{B(!1)}},U=()=>{e&&r&&l("CONTENT")},E=ae=>{h(se=>se.includes(ae)?se.filter(j=>j!==ae):[...se,ae])},P=()=>{const ae=g.filter(S=>S.category==="handouts"),se=g.filter(S=>S.category==="worksheets"),j=g.filter(S=>S.category==="exams");return[{id:"handouts",title:" ",files:ae},{id:"worksheets",title:" ",files:se},{id:"exams",title:" ",files:j}]},F=ae=>ae?(ae.toDate?ae.toDate():new Date(ae.seconds*1e3)).toLocaleDateString("ar-EG"):"",H=P(),K=()=>{const ae=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(j=>({label:` ${j}`,value:j.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"   -   ",value:"English Major - QOU"}],se=[{label:"  (English)",value:"English"}];return o.jsxs("div",{className:"w-full animate-fade-in pb-20 bg-gray-950 min-h-screen text-gray-100",children:[o.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(156, 163, 175, 0.5);
          border-radius: 20px;
        }
      `}),o.jsxs("div",{className:"relative pt-32 pb-48 px-4 overflow-hidden rounded-b-[3rem] shadow-2xl shadow-gray-900/50 mb-16 border-b border-white/5",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:"https://lh3.googleusercontent.com/d/1gSDH-0a3cWa8m8APr5qXGkKxINXZcSid",alt:"Background",className:"w-full h-full object-cover object-center scale-105 opacity-50"}),o.jsx("div",{className:"absolute inset-0 bg-emerald-900/80 mix-blend-multiply"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-transparent to-gray-950/90"})]}),o.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-white/10 backdrop-blur-md rounded-2xl mb-4 border border-white/20 shadow-inner ring-1 ring-white/30 animate-fade-in-up",children:o.jsx(Qh,{className:"w-8 h-8 text-white drop-shadow-md"})}),o.jsx("h2",{className:"text-4xl md:text-6xl font-black text-white mb-4 tracking-tight drop-shadow-2xl animate-fade-in-up delay-100",children:"  "}),o.jsx("p",{className:"text-white/95 text-lg md:text-xl max-w-2xl mx-auto font-medium leading-relaxed drop-shadow-lg mb-6 animate-fade-in-up delay-200",children:"         PDF."})]})]}),o.jsx("div",{className:"max-w-3xl mx-auto px-4 -mt-32 relative z-20 animate-fade-in-up delay-300",children:o.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-2xl border border-white/5 p-6 md:p-6 backdrop-blur-xl mb-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:"group relative z-20",children:[o.jsxs("label",{className:"block text-xs font-bold text-gray-300 mb-2 flex items-center gap-2 group-hover:text-emerald-400 transition-colors",children:[o.jsx("div",{className:"p-1.5 bg-emerald-900/20 rounded-lg group-hover:bg-emerald-900/40 transition-colors",children:o.jsx(da,{className:"w-3.5 h-3.5 text-emerald-400"})})," "]}),o.jsx(mE,{options:se,value:e,onChange:t,placeholder:" "})]}),o.jsxs("div",{className:"group relative z-10",children:[o.jsxs("label",{className:"block text-xs font-bold text-gray-300 mb-2 flex items-center gap-2 group-hover:text-teal-400 transition-colors",children:[o.jsx("div",{className:"p-1.5 bg-teal-900/20 rounded-lg group-hover:bg-teal-900/40 transition-colors",children:o.jsx(Gl,{className:"w-3.5 h-3.5 text-teal-400"})})," "]}),o.jsx(mE,{options:ae,value:r,onChange:s,placeholder:" "})]})]}),o.jsxs("button",{onClick:U,disabled:!e||!r,className:`w-full py-3.5 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all shadow-lg ${!e||!r?"bg-gray-700 text-gray-500 cursor-not-allowed shadow-none":"bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 hover:shadow-emerald-900/50 hover:-translate-y-1"}`,children:[o.jsx(Ni,{className:"w-5 h-5"})," "]})]})})]})},Ae=()=>o.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8 animate-fade-in-up min-h-screen",children:[o.jsxs("div",{className:"text-center mb-8 bg-gray-900 p-6 rounded-3xl shadow-sm border border-white/5 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-teal-500"}),o.jsx("div",{className:"w-16 h-16 bg-emerald-900/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx(ka,{className:"w-8 h-8 text-emerald-400"})}),o.jsxs("h2",{className:"text-2xl font-black text-white mb-2",children:[" ",e]}),o.jsxs("p",{className:"text-gray-400 font-medium text-sm md:text-base",children:["        ",o.jsx("span",{className:"font-bold text-emerald-400",children:r==="English Major - QOU"?"  ":r})]})]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("button",{onClick:()=>l("SELECTION"),className:"flex items-center gap-2 bg-gray-800 text-gray-200 px-5 py-3 rounded-xl font-bold shadow-sm border border-gray-700 hover:border-emerald-600 hover:text-emerald-400 transition-all hover:-translate-y-0.5",children:[o.jsx(gn,{className:"w-5 h-5"})," "]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs font-bold text-gray-400 bg-gray-800 px-3 py-1.5 rounded-lg border border-gray-700",children:[o.jsx(Qh,{className:"w-3.5 h-3.5"}),H.reduce((ae,se)=>ae+se.files.length,0)," "]})]}),x?o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[o.jsx(Ir,{className:"w-10 h-10 animate-spin text-emerald-400"}),o.jsx("p",{className:"text-gray-400 font-bold",children:"  ..."})]}):o.jsx("div",{className:"space-y-4",children:H.map(ae=>{const se=u.includes(ae.id);return o.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("button",{onClick:()=>E(ae.id),className:`w-full flex items-center justify-between p-5 transition-colors ${se?"bg-gray-700/30":"hover:bg-gray-700/30"}`,children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`p-2.5 rounded-xl ${se?"bg-emerald-900/30 text-emerald-400":"bg-gray-700 text-gray-400"}`,children:o.jsx(Qh,{className:"w-6 h-6"})}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"font-bold text-base text-white block",children:ae.title}),o.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:[ae.files.length," "]})]})]}),o.jsx("div",{className:`transition-transform duration-300 ${se?"rotate-180":""}`,children:o.jsx(fu,{className:"w-5 h-5 text-gray-400"})})]}),se&&o.jsx("div",{className:"bg-gray-900 border-t border-gray-700",children:ae.files.length===0?o.jsxs("div",{className:"p-8 text-center flex flex-col items-center justify-center text-gray-400",children:[o.jsx(Qh,{className:"w-10 h-10 mb-2 opacity-20"}),o.jsx("p",{className:"text-sm font-medium",children:"       "})]}):o.jsx("div",{className:"divide-y divide-gray-700/50",children:ae.files.map((j,S)=>o.jsxs("div",{onClick:()=>j.url&&window.open(j.url,"_blank"),className:"flex items-center justify-between p-4 hover:bg-emerald-900/10 transition-colors group cursor-pointer",children:[o.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-900/20 flex items-center justify-center shrink-0 text-red-500",children:o.jsx(ka,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[o.jsx("span",{className:"text-sm font-bold text-gray-200 group-hover:text-emerald-300 transition-colors whitespace-normal break-words",children:j.title}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-0.5",children:[o.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded",children:j.size}),o.jsx("span",{children:""}),o.jsx("span",{children:F(j.createdAt)})]})]})]}),o.jsx("button",{className:"p-2.5 rounded-full bg-gray-700 text-gray-400 group-hover:bg-emerald-900/30 group-hover:text-emerald-400 transition-all shrink-0 ml-3",children:o.jsx(Jp,{className:"w-5 h-5"})})]},S))})})]},ae.id)})}),o.jsxs("div",{className:"mt-8 flex items-center gap-3 justify-center text-xs text-gray-400 bg-gray-800 p-4 rounded-2xl border border-dashed border-gray-700",children:[o.jsx($p,{className:"w-4 h-4 text-emerald-500 shrink-0"}),o.jsx("span",{children:"      PDF  "})]})]});return o.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 transition-colors duration-300",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-4 px-4 sticky top-0 z-30 shadow-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-700 rounded-full transition-colors group text-gray-400 hover:text-emerald-400",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:n,className:"font-bold text-gray-400 hover:text-emerald-400 cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:" "})]})}),i==="SELECTION"?K():Ae()]})},IG=({className:n})=>o.jsx("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),TG=[{id:"yazan",name:".   ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",role:"English Teacher",phone:"972568401548",color:"emerald"},{id:"majd",name:".   ",image:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",role:"English Teacher",phone:"972568401548",color:"blue"}],jG=[{id:"inquiry",label:" ",icon:Iw,message:"",color:"text-orange-400",bg:"bg-orange-900/20"},{id:"question",label:"  ",icon:ZA,message:"",color:"text-blue-400",bg:"bg-blue-900/20"},{id:"review",label:" ",icon:gF,message:"",color:"text-purple-400",bg:"bg-purple-900/20"},{id:"message",label:" ",icon:gu,message:"",color:"text-emerald-400",bg:"bg-emerald-900/20"}],UG=({onBack:n})=>{const[e,t]=fe.useState(null),r=s=>{if(!e)return;const i=s||" ",l=`https://wa.me/${e.phone}?text=${encodeURIComponent(i)}`;window.open(l,"_blank"),t(null)};return o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in pb-20 transition-colors duration-300 text-gray-100",children:[o.jsxs("div",{className:"relative pt-32 pb-48 px-4 overflow-hidden rounded-b-[3.5rem] shadow-2xl shadow-gray-900/50 mb-16 bg-gray-900 border-b border-white/5",children:[o.jsxs("div",{className:"absolute top-6 right-6 z-30 md:top-10 md:right-10 flex items-center gap-2 md:gap-4",children:[o.jsxs("button",{onClick:n,className:"flex items-center gap-2 bg-white/10 backdrop-blur-md text-white px-4 md:px-5 py-2.5 rounded-full font-bold hover:bg-white/20 transition-all border border-white/20 shadow-lg group",children:[o.jsx(gn,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),o.jsx("span",{className:"hidden sm:inline",children:""})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-black/40 backdrop-blur-md text-white px-4 py-2 rounded-full font-bold border border-white/10 shadow-md",children:[o.jsx("span",{className:"text-gray-300",children:""}),o.jsx("span",{className:"text-gray-500",children:"/"}),o.jsx("span",{className:"text-emerald-400",children:"  "})]})]}),o.jsxs("div",{className:"absolute inset-0 z-0 bg-gray-900",children:[o.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover opacity-80",poster:"https://images.unsplash.com/photo-1524178232363-1fb2b075b655?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",children:[o.jsx("source",{src:"https://drive.google.com/uc?export=download&id=1gfQre4TEqHyomoSblHjn-abxK_cduc8t",type:"video/mp4"}),o.jsx("source",{src:"https://assets.mixkit.co/videos/preview/mixkit-online-learning-man-student-on-laptop-4612-large.mp4",type:"video/mp4"})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/70 via-emerald-900/40 to-gray-900/90"})]}),o.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto text-white",children:[o.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-6 leading-tight animate-fade-in-up delay-100 drop-shadow-2xl text-emerald-400",children:"  "}),o.jsx("p",{className:"text-xl md:text-2xl text-emerald-200 font-bold max-w-2xl mx-auto leading-relaxed animate-fade-in-up delay-200 drop-shadow-lg",children:"         "})]})]}),o.jsx("div",{className:"max-w-5xl mx-auto px-4 -mt-32 relative z-20",children:o.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-xl rounded-[3rem] border border-white/10 p-8 md:p-12 shadow-2xl",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("span",{className:"bg-emerald-900/30 text-emerald-400 px-4 py-1.5 rounded-full text-sm font-bold border border-emerald-500/20 mb-4 inline-block",children:"English Department"}),o.jsx("h2",{className:"text-3xl font-black text-white",children:"  "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-3xl mx-auto",children:TG.map(s=>o.jsxs("div",{className:"bg-gray-800/50 rounded-[2rem] p-6 border border-gray-700 hover:border-emerald-500/50 transition-all hover:bg-gray-800 group flex flex-col items-center text-center shadow-lg hover:shadow-emerald-900/20 hover:-translate-y-1",children:[o.jsx("div",{className:"w-40 h-40 rounded-full p-1 bg-gradient-to-br from-gray-700 to-gray-800 shadow-xl mb-5 group-hover:from-emerald-500 group-hover:to-teal-500 transition-all",children:o.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full rounded-full object-cover border-4 border-gray-900"})}),o.jsx("h3",{className:"text-2xl font-black text-white mb-1",children:s.name}),o.jsx("p",{className:"text-gray-400 font-medium text-sm mb-6",children:"English Language Teacher"}),o.jsxs("button",{onClick:()=>t(s),className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 hover:shadow-lg hover:shadow-emerald-900/40 transition-all active:scale-95",children:[o.jsx(Vl,{className:"w-4 h-4"})," "]})]},s.id))})]})}),e&&o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity",onClick:()=>t(null)}),o.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] w-full max-w-md relative z-10 animate-fade-in-up shadow-2xl border border-white/10 overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 p-6 border-b border-white/5 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-emerald-500/30",children:o.jsx("img",{src:e.image,alt:"",className:"w-full h-full object-cover"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 font-bold",children:" "}),o.jsx("h3",{className:"text-lg font-black text-white",children:e.name})]})]}),o.jsx("button",{onClick:()=>t(null),className:"p-2 bg-white/5 hover:bg-white/10 rounded-full text-gray-400 hover:text-white transition-colors",children:o.jsx(Xs,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6 space-y-3",children:[o.jsx("p",{className:"text-center text-gray-400 text-sm mb-4 font-medium",children:"     :"}),jG.map(s=>o.jsxs("button",{onClick:()=>r(s.message),className:"w-full flex items-center gap-4 p-4 rounded-2xl bg-gray-800/50 border border-gray-700 hover:border-emerald-500/50 hover:bg-gray-800 transition-all group",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${s.bg} ${s.color} group-hover:scale-110 transition-transform`,children:o.jsx(s.icon,{className:"w-6 h-6"})}),o.jsxs("div",{className:"text-right flex-1",children:[o.jsx("h4",{className:"font-bold text-white group-hover:text-emerald-400 transition-colors",children:s.label}),s.message&&o.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5 truncate max-w-[200px]",children:s.message})]}),o.jsx(Ko,{className:"w-5 h-5 text-gray-600 group-hover:text-emerald-500 group-hover:-translate-x-1 transition-all"})]},s.id))]}),o.jsx("div",{className:"p-4 bg-black/20 text-center",children:o.jsxs("p",{className:"text-[10px] text-gray-500 flex items-center justify-center gap-1",children:[o.jsx(IG,{className:"w-3 h-3 text-green-500"}),"    "]})})]})]})]})},pE=[{minLevel:1,title:" ",icon:Sw,color:"text-gray-400",border:"border-gray-400",gradient:"from-gray-500 to-gray-700"},{minLevel:5,title:" ",icon:da,color:"text-emerald-400",border:"border-emerald-400",gradient:"from-emerald-500 to-teal-600"},{minLevel:10,title:"",icon:Ni,color:"text-blue-400",border:"border-blue-400",gradient:"from-blue-500 to-indigo-600"},{minLevel:15,title:" ",icon:yf,color:"text-indigo-400",border:"border-indigo-400",gradient:"from-indigo-500 to-purple-600"},{minLevel:20,title:"",icon:bf,color:"text-purple-400",border:"border-purple-400",gradient:"from-purple-500 to-fuchsia-600"},{minLevel:30,title:"",icon:ys,color:"text-amber-400",border:"border-amber-400",gradient:"from-amber-400 to-orange-600"}],FG=({onLoginClick:n})=>{const[e,t]=fe.useState([]),[r,s]=fe.useState(!0),[i,l]=fe.useState(null);fe.useEffect(()=>{(async()=>{s(!0);const p="etqan_leaderboard_cache_v2",x=365*24*60*60*1e3,B=localStorage.getItem(p),C=Date.now();let U=[],E=!1;if(B)try{const P=JSON.parse(B);C-P.timestamp<x&&(U=P.data,E=!0)}catch(P){console.error("Cache parse error",P)}if(E)t(U);else try{const P=ha(ln(er,"users"),jf("totalXP","desc"),Uf(5)),H=(await _i(P)).docs.map(K=>({...K.data(),uid:K.id}));t(H),localStorage.setItem(p,JSON.stringify({timestamp:C,data:H}))}catch(P){console.error("Error fetching leaderboard:",P)}s(!1)})()},[]);const u=g=>{switch(g){case 0:return o.jsx(ys,{className:"w-5 h-5 md:w-6 md:h-6 text-yellow-400 fill-yellow-400"});case 1:return o.jsx(sb,{className:"w-5 h-5 md:w-6 md:h-6 text-gray-300 fill-gray-300"});case 2:return o.jsx(sb,{className:"w-5 h-5 md:w-6 md:h-6 text-amber-600 fill-amber-600"});default:return o.jsx($h,{className:"w-4 h-4 md:w-5 md:h-5 text-emerald-600/50"})}},h=g=>{const p=Math.floor((g||0)/500)+1;return[...pE].reverse().find(x=>p>=x.minLevel)||pE[0]};return o.jsxs("section",{className:"py-12 md:py-20 relative overflow-hidden bg-gray-950",id:"achievements",children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-1/4 -right-20 w-72 h-72 bg-emerald-900/10 rounded-full blur-[80px]"}),o.jsx("div",{className:"absolute bottom-1/4 -left-20 w-72 h-72 bg-blue-900/10 rounded-full blur-[80px]"})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[o.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[o.jsxs("h2",{className:"text-3xl md:text-5xl font-black text-white mb-3 drop-shadow-lg flex items-center justify-center gap-2",children:[o.jsx($h,{className:"w-8 h-8 md:w-10 md:h-10 text-yellow-500"})," "]}),o.jsx("p",{className:"text-gray-400 text-sm md:text-lg",children:"    ( 5)"})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-full max-w-3xl",children:o.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-[2rem] border border-white/10 p-4 md:p-8 shadow-2xl relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[o.jsxs("h3",{className:"text-lg md:text-xl font-bold text-white flex items-center gap-2",children:[o.jsx(Wp,{className:"w-5 h-5 text-orange-500"})," "]}),o.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium bg-gray-800 text-gray-400 px-3 py-1.5 rounded-full border border-gray-700",children:[o.jsx(TE,{className:"w-3 h-3 md:w-3.5 md:h-3.5 text-blue-400"}),"   "]})]}),r?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(Ir,{className:"w-8 h-8 animate-spin text-emerald-500 mb-2"}),o.jsx("p",{className:"text-gray-500 text-xs font-bold",children:"  ..."})]}):e.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:o.jsx("p",{children:"      !"})}):o.jsx("div",{className:"space-y-2 md:space-y-3",children:e.map((g,p)=>o.jsxs("div",{onClick:()=>l(g),className:`relative flex items-center justify-between p-3 md:p-4 rounded-2xl border transition-all active:scale-98 cursor-pointer
                                        ${p===0?"bg-gradient-to-r from-yellow-900/20 to-gray-900 border-yellow-500/30 shadow-lg shadow-yellow-900/10":p===1?"bg-gray-800/60 border-gray-600/50":p===2?"bg-gray-800/40 border-amber-800/40":"bg-gray-900 border-gray-800 hover:bg-gray-800"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 md:gap-4 overflow-hidden",children:[o.jsx("div",{className:`flex items-center justify-center w-6 md:w-8 font-black text-base md:text-lg ${p<3?"text-white":"text-gray-600"}`,children:p<3?u(p):p+1}),o.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gray-800 border-2 border-gray-700 overflow-hidden shrink-0",children:g.avatar?o.jsx("img",{src:g.avatar,alt:g.displayName,className:"w-full h-full object-cover"}):o.jsx(Wa,{className:"w-full h-full p-2 text-gray-400"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h4",{className:"font-bold text-white text-sm md:text-base truncate",children:g.displayName}),o.jsxs("div",{className:"flex items-center gap-1 text-[10px] md:text-xs text-gray-400 truncate",children:[o.jsx(Gl,{className:"w-3 h-3"}),g.school||" "]})]})]}),o.jsxs("div",{className:"shrink-0 flex items-center gap-1 md:gap-2 bg-black/30 px-2 md:px-3 py-1 rounded-lg border border-white/5",children:[o.jsx("span",{className:"font-black text-emerald-400 text-sm md:text-base",children:g.totalXP||0}),o.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"XP"})]}),p===0&&o.jsx("div",{className:"absolute -top-1 -right-1 pointer-events-none",children:o.jsxs("span",{className:"flex h-3 w-3",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-yellow-500"})]})})]},p))})]})})})]}),i&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/80 backdrop-blur-md animate-fade-in",children:o.jsxs("div",{className:"bg-gray-900 w-full max-w-sm rounded-[2.5rem] overflow-hidden border border-gray-700 shadow-2xl relative animate-fade-in-up",children:[o.jsx("button",{onClick:()=>l(null),className:"absolute top-4 right-4 p-2 bg-black/20 hover:bg-black/40 text-white rounded-full transition-colors z-20",children:o.jsx(Xs,{className:"w-5 h-5"})}),o.jsx("div",{className:`h-32 bg-gradient-to-br ${h(i.totalXP||0).gradient} relative`,children:o.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"})}),o.jsxs("div",{className:"px-6 pb-8 -mt-16 text-center relative z-10",children:[o.jsx("div",{className:`w-32 h-32 mx-auto rounded-full border-4 bg-gray-800 overflow-hidden shadow-xl mb-4 ${h(i.totalXP||0).border}`,children:i.avatar?o.jsx("img",{src:i.avatar,alt:i.displayName,className:"w-full h-full object-cover"}):o.jsx(Wa,{className:"w-full h-full p-6 text-gray-500"})}),o.jsx("h2",{className:"text-2xl font-black text-white mb-1",children:i.displayName}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm mb-4",children:[o.jsx(Iw,{className:"w-3 h-3"}),i.school||" "]}),o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-gray-800 border border-gray-700 mb-6 shadow-sm",children:[vE.createElement(h(i.totalXP||0).icon,{className:`w-4 h-4 ${h(i.totalXP||0).color}`}),o.jsx("span",{className:`text-sm font-bold ${h(i.totalXP||0).color}`,children:h(i.totalXP||0).title})]}),o.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-2xl border border-gray-700/50 mb-6 relative",children:[o.jsx(s8,{className:"w-6 h-6 text-gray-600 absolute -top-3 right-4 bg-gray-900 px-1"}),o.jsx("p",{className:"text-gray-300 text-sm font-medium leading-relaxed italic",children:'"        .           ."'})]}),o.jsx("div",{className:"pt-4 border-t border-gray-800",children:o.jsxs("div",{className:"flex justify-between items-center px-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl md:text-2xl text-emerald-500",style:{fontFamily:"'Great Vibes', cursive"},children:"Yazan Abu Kahil"}),o.jsx("div",{className:"text-[9px] text-gray-600 mt-1 font-bold",children:".   "})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl md:text-2xl text-blue-500",style:{fontFamily:"'Great Vibes', cursive"},children:"Majd Al-Din"}),o.jsx("div",{className:"text-[9px] text-gray-600 mt-1 font-bold",children:".   "})]})]})})]})]})})]})},QG=()=>{const n=[{id:1,label:" ",value:"+500",icon:pu,color:"text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/20",textColor:"text-blue-200"},{id:2,label:" ",value:"+50",icon:da,color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/20",textColor:"text-emerald-200"},{id:3,label:"",value:"+20",icon:ka,color:"text-yellow-400",bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/20",textColor:"text-yellow-200"},{id:4,label:"",value:"+30",icon:fd,color:"text-purple-400",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/20",textColor:"text-purple-200"}];return o.jsx("section",{className:"py-12 bg-gray-950 relative overflow-hidden border-t border-white/5",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-10",children:[o.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-full animate-pulse border border-emerald-500/20",children:o.jsx(NU,{className:"w-6 h-6 text-emerald-500"})}),o.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white",children:" "})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:n.map(e=>o.jsxs("div",{className:`bg-gray-900/50 backdrop-blur-sm p-6 rounded-3xl border ${e.borderColor} flex flex-col items-center justify-center text-center group hover:bg-gray-900 transition-all duration-300 hover:-translate-y-1 shadow-lg`,children:[o.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center mb-4 ${e.bgColor} ${e.color} shadow-lg group-hover:scale-110 transition-transform duration-300 ring-1 ring-white/5`,children:o.jsx(e.icon,{className:"w-7 h-7"})}),o.jsx("div",{className:`text-3xl md:text-4xl font-black mb-2 ${e.color} drop-shadow-sm`,children:e.value}),o.jsx("div",{className:`font-bold text-sm md:text-base transition-colors ${e.textColor}`,children:e.label})]},e.id))})]})})},LG=({onBack:n})=>{const[e,t]=fe.useState([]),[r,s]=fe.useState(!0),[i,l]=fe.useState(""),[u,h]=fe.useState(null),[g,p]=fe.useState(!1);fe.useEffect(()=>{x()},[]);const x=async()=>{s(!0);const j="etqan_question_bank_v1",S=localStorage.getItem(j);if(S)try{const O=JSON.parse(S);if(O&&Array.isArray(O)){t(O),s(!1);return}}catch(O){console.error("Cache parsing error",O)}try{const O=ha(ln(er,"quizzes"),jf("createdAt","desc"),Uf(50)),I=(await _i(O)).docs.map(k=>({id:k.id,...k.data()}));t(I),localStorage.setItem(j,JSON.stringify(I))}catch(O){console.error("Error fetching quizzes:",O)}finally{s(!1)}},B=j=>{h({category:"Language",...j})},C=j=>{localStorage.setItem("etqan_question_bank_v1",JSON.stringify(j))},U=async(j,S)=>{if(j.stopPropagation(),!S){alert(":   ");return}if(window.confirm("  "))try{await $g(Ys(er,"quizzes",S));const O=e.filter(q=>q.id!==S);t(O),C(O)}catch(O){console.error("Error deleting quiz:",O),alert("   : "+O.message)}},E=(j,S)=>{u&&h({...u,[j]:S})},P=(j,S,O)=>{if(!u)return;const q=[...u.questions];q[j]={...q[j],[S]:O},h({...u,questions:q})},F=(j,S,O)=>{if(!u)return;const q=[...u.questions],I=[...q[j].options];I[S]=O,q[j]={...q[j],options:I},h({...u,questions:q})},H=j=>{if(u&&window.confirm("      ")){const S=u.questions.filter((O,q)=>q!==j);h({...u,questions:S})}},K=async()=>{if(!(!u||!u.id)){if(u.questions.length===0){alert("     !");return}p(!0);try{const j=Ys(er,"quizzes",u.id);await pf(j,{title:u.title,subject:u.subject,grade:u.grade,category:u.category,questions:u.questions});const S=e.map(O=>O.id===u.id?u:O);t(S),C(S),h(null),alert("   ")}catch(j){console.error("Error updating quiz:",j),alert("   ")}finally{p(!1)}}},Ae=e.filter(j=>(j.title?j.title.toLowerCase().includes(i.toLowerCase()):!1)||j.teacherName&&j.teacherName.toLowerCase().includes(i.toLowerCase())),ae=j=>j?(j.toDate?j.toDate():new Date(j.seconds*1e3)).toLocaleDateString("ar-EG"):"",se="w-full p-3 rounded-xl border-2 border-gray-600 focus:border-blue-400 outline-none font-bold text-white bg-gray-700 shadow-sm transition-colors placeholder-gray-400";return o.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in relative transition-colors duration-300 text-gray-100",children:[o.jsx("style",{children:`
        .custom-scrollbar {
          scrollbar-width: thin;
          scrollbar-color: #475569 transparent;
        }
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
          height: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #475569;
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),o.jsx("div",{className:"bg-gray-950 border-b border-white/5 pt-8 pb-20 px-4 shadow-sm relative overflow-hidden",children:o.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-3 text-sm md:text-base mb-6",children:[o.jsx("button",{onClick:n,className:"bg-gray-800 hover:bg-gray-700 p-2 rounded-full transition-colors text-gray-300",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:n,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:" "})]}),o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end justify-between gap-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-black text-white mb-2 tracking-tight",children:"  "}),o.jsx("p",{className:"text-gray-400 font-medium",children:"      "})]}),o.jsxs("div",{className:"w-full md:w-auto bg-gray-800 p-2 rounded-2xl shadow-lg border border-gray-600 flex items-center gap-2",children:[o.jsx(Ni,{className:"w-5 h-5 text-gray-300 mr-2"}),o.jsx("input",{type:"text",placeholder:"    ...",value:i,onChange:j=>l(j.target.value),className:"w-full md:w-64 outline-none text-sm font-bold text-gray-200 placeholder-gray-500 bg-transparent"})]})]})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-12 relative z-20",children:r?o.jsx("div",{className:"flex justify-center items-center py-20",children:o.jsx(Ir,{className:"w-10 h-10 animate-spin text-blue-400"})}):Ae.length===0?o.jsxs("div",{className:"bg-gray-800 rounded-3xl shadow-sm border border-white/5 p-12 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Yh,{className:"w-8 h-8 text-gray-500"})}),o.jsx("h3",{className:"text-xl font-bold text-white",children:"  "}),o.jsx("p",{className:"text-gray-400 mt-1",children:"       ."})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ae.map(j=>o.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm hover:shadow-xl transition-all duration-300 border border-white/5 overflow-hidden group flex flex-col",children:[o.jsxs("div",{className:"p-6 flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("span",{className:"bg-blue-900/30 text-blue-300 px-3 py-1 rounded-lg text-xs font-bold",children:j.subject}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>B(j),className:"bg-emerald-900/20 text-emerald-400 p-1.5 rounded-lg hover:bg-emerald-900/40 transition-colors",title:" ",children:o.jsx(ab,{className:"w-4 h-4"})}),o.jsx("button",{onClick:S=>U(S,j.id),className:"bg-red-900/20 text-red-400 p-1.5 rounded-lg hover:bg-red-900/40 transition-colors",title:" ",children:o.jsx(Xl,{className:"w-4 h-4"})})]})]}),o.jsxs("h3",{className:"text-xl font-black text-white mb-2 line-clamp-2 group-hover:text-blue-400 transition-colors flex items-center gap-2",children:[j.title,j.isPremium&&o.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 p-1 rounded-full",title:" ",children:o.jsx(ys,{className:"w-4 h-4 text-amber-500 fill-amber-500"})})]}),j.category&&o.jsx("span",{className:"inline-block mb-4 bg-amber-900/20 text-amber-400 text-[10px] font-bold px-2 py-1 rounded-md border border-amber-800/50",children:j.category}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-6",children:[o.jsxs("span",{className:"bg-gray-700 px-2 py-0.5 rounded border border-gray-600 font-bold",children:[" ",j.grade]}),o.jsx("span",{className:"text-gray-600",children:"|"}),o.jsxs("span",{className:"bg-gray-700/50 text-gray-400 px-2 py-0.5 rounded-lg text-xs font-bold flex items-center gap-1",children:[o.jsx(ag,{className:"w-3 h-3"}),ae(j.createdAt)]})]})]}),o.jsxs("div",{className:"bg-gray-900/50 p-4 border-t border-white/5 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-full border border-gray-600 flex items-center justify-center shadow-sm text-gray-300",children:o.jsx(Wa,{className:"w-4 h-4"})}),o.jsx("p",{className:"text-sm font-bold text-gray-300",children:j.teacherName||""})]}),o.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-gray-400 bg-gray-700 px-2 py-1 rounded-md border border-gray-600",children:[o.jsx(ZA,{className:"w-3 h-3"}),j.questions.length," "]})]})]},j.id))})}),u&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden border border-gray-700",children:[o.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-6 flex justify-between items-center shrink-0 sticky top-0 z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-emerald-900/30 p-2 rounded-xl",children:o.jsx(ab,{className:"w-6 h-6 text-emerald-400"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-white",children:" "}),o.jsx("p",{className:"text-sm text-gray-400",children:"     "})]})]}),o.jsx("button",{onClick:()=>h(null),className:"p-2 hover:bg-gray-700 rounded-full transition-colors text-gray-400",children:o.jsx(Xs,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-900 custom-scrollbar",children:[o.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-700 mb-8",children:[o.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[o.jsx(Yh,{className:"w-5 h-5 text-blue-400"})," "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:" "}),o.jsx("input",{type:"text",value:u.title,onChange:j=>E("title",j.target.value),className:se})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:""}),o.jsx("input",{type:"text",value:u.subject,onChange:j=>E("subject",j.target.value),className:se})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:""}),o.jsx("select",{value:u.grade,onChange:j=>E("grade",j.target.value),className:se,children:[5,6,7,8,9,10,11,12].map(j=>o.jsxs("option",{value:j,children:[" ",j]},j))})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"  (Category)"}),o.jsxs("select",{value:u.category||"Language",onChange:j=>E("category",j.target.value),className:se,children:[o.jsx("option",{value:"Language",children:"Language ()"}),o.jsx("option",{value:"Reading",children:"Reading ()"}),o.jsx("option",{value:"Writing",children:"Writing ()"}),o.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("h3",{className:"font-bold text-white flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(ZA,{className:"w-5 h-5 text-blue-400"})," (",u.questions.length,")"]}),o.jsx("span",{className:"text-xs bg-yellow-900/30 text-yellow-300 px-2 py-1 rounded-lg",children:"*        "})]}),u.questions.map((j,S)=>o.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-700 relative group",children:[o.jsx("button",{onClick:()=>H(S),className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-red-900/20 hover:text-red-400 rounded-lg transition-colors",title:" ",children:o.jsx(Xl,{className:"w-5 h-5"})}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("label",{className:"block text-xs font-bold text-gray-400 mb-1.5",children:["  ",S+1]}),o.jsx("input",{type:"text",dir:"ltr",value:j.question,onChange:O=>P(S,"question",O.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-600 focus:border-emerald-500 outline-none font-bold text-white bg-gray-700 shadow-sm text-lg transition-colors placeholder-gray-400 text-left"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:j.options.map((O,q)=>o.jsxs("div",{className:"relative",children:[o.jsxs("label",{className:"flex items-center justify-between text-xs font-bold text-gray-400 mb-1 px-1",children:[o.jsxs("span",{children:[" ",q+1]}),o.jsxs("button",{onClick:()=>P(S,"correctAnswer",q),className:`flex items-center gap-1 px-2 py-0.5 rounded cursor-pointer transition-colors ${j.correctAnswer===q?"bg-emerald-900/30 text-emerald-400":"bg-gray-700 text-gray-500 hover:bg-gray-600"}`,children:[j.correctAnswer===q?o.jsx(es,{className:"w-3 h-3"}):o.jsx("div",{className:"w-3 h-3 border border-gray-400 rounded-full"}),j.correctAnswer===q?" ":" "]})]}),o.jsx("input",{type:"text",dir:"ltr",value:O,onChange:I=>F(S,q,I.target.value),className:`w-full p-3 rounded-xl border-2 outline-none font-bold transition-colors shadow-sm text-left ${j.correctAnswer===q?"border-emerald-500 bg-emerald-900/20 text-emerald-300":"border-gray-600 focus:border-blue-400 text-white bg-gray-700"}`})]},q))}),o.jsxs("div",{className:"bg-yellow-900/20 p-4 rounded-xl border border-yellow-800",children:[o.jsx("label",{className:"block text-xs font-bold text-yellow-200 mb-1",children:" "}),o.jsx("textarea",{value:j.explanation||"",onChange:O=>P(S,"explanation",O.target.value),className:"w-full p-3 rounded-lg border border-yellow-700 focus:border-yellow-500 outline-none text-gray-200 bg-gray-800 text-sm h-20 resize-none shadow-sm custom-scrollbar text-left",placeholder:"  ...",dir:"ltr"})]})]},S))]})]}),o.jsxs("div",{className:"p-6 bg-gray-800 border-t border-gray-700 flex justify-end gap-3 shrink-0 sticky bottom-0 z-10",children:[o.jsx("button",{onClick:()=>h(null),className:"px-6 py-3 rounded-xl font-bold text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:""}),o.jsxs("button",{onClick:K,disabled:g,className:"px-8 py-3 rounded-xl font-bold text-white bg-emerald-600 hover:bg-emerald-700 transition-colors flex items-center gap-2 shadow-lg shadow-none",children:[g?o.jsx(Ir,{className:"w-5 h-5 animate-spin"}):o.jsx(au,{className:"w-5 h-5"})," "]})]})]})})]})},kG=[{id:"grammar",title:" (Grammar)",icon:Yh,desc:"   ",color:"bg-blue-900/20 text-blue-400"},{id:"reading",title:" (Reading)",icon:da,desc:"    ",color:"bg-emerald-900/20 text-emerald-400"},{id:"vocabulary",title:" (Vocabulary)",icon:Ig,desc:"   ",color:"bg-purple-900/20 text-purple-400"},{id:"writing",title:" (Writing)",icon:H1,desc:"   ",color:"bg-orange-900/20 text-orange-400"}],RG=[{id:"English",title:" ",icon:Ig,color:"text-purple-400",bg:"bg-purple-900/20"}],DG=({onBack:n,onNavigate:e})=>{const{user:t}=CA(),[r,s]=fe.useState("INTRO"),[i,l]=fe.useState(""),[u,h]=fe.useState(""),[g,p]=fe.useState(null),[x,B]=fe.useState([]),[C,U]=fe.useState(!1),[E,P]=fe.useState(null),[F,H]=fe.useState(0),[K,Ae]=fe.useState(""),[ae,se]=fe.useState(!1),[j,S]=fe.useState(!1),[O,q]=fe.useState(!1),[,I]=fe.useState(0);fe.useEffect(()=>{const de=setInterval(()=>I(Oe=>Oe+1),5e3);return()=>clearInterval(de)},[]),fe.useEffect(()=>{window.history.replaceState({view:"LESSONS_EXPLANATIONS",subView:"INTRO"},"","");const de=Oe=>{Oe.state&&Oe.state.subView?s(Oe.state.subView):r==="INTRO"?n&&n():s("INTRO")};return window.addEventListener("popstate",de),()=>window.removeEventListener("popstate",de)},[]);const k=de=>{window.history.pushState({view:"LESSONS_EXPLANATIONS",subView:de},"",""),s(de)},D=()=>{window.history.back()},J=()=>{if(!(t!=null&&t.isSubscriber)||!t.subscriptionExpiry)return!1;const de=t.subscriptionExpiry.seconds?t.subscriptionExpiry.seconds*1e3:new Date(t.subscriptionExpiry).getTime();return Date.now()<de};fe.useEffect(()=>{window.scrollTo(0,0)},[r]);const pe=()=>k("SUBJECTS"),te=de=>{l(de),k("GRADES")},ce=de=>{h(de),k("CATEGORIES")},ne=de=>{p(de),k("TOPICS")},he=de=>{if(de.isPremium&&!J()){q(!0);return}P(de),H(0),Ae(""),S(!1),k("DETAILS")};fe.useEffect(()=>{r==="TOPICS"&&u&&g&&i&&we()},[r,u,g,i,t==null?void 0:t.isSubscriber]);const we=async()=>{U(!0);try{const de=ha(ln(er,"explanations"),fa("subject","==",i),fa("grade","==",u),fa("category","==",g==null?void 0:g.id)),Oe=await a6(de),Re=[];Oe.forEach(et=>{Re.push({id:et.id,...et.data()})}),Re.sort((et,tt)=>{var oe,At;const mt=((oe=et.createdAt)==null?void 0:oe.seconds)||0;return(((At=tt.createdAt)==null?void 0:At.seconds)||0)-mt}),B(Re)}catch(de){console.error("Error fetching explanations:",de)}finally{U(!1)}},Y=async()=>{if(F!==0&&!(!E||!t)){se(!0);try{await so(ln(er,"reviews"),{type:"explanation",targetId:E.id,targetTitle:E.title,teacherId:E.teacherName||"",teacherName:E.teacherName||"",rating:F,comment:K,studentId:t.uid,studentName:t.displayName,createdAt:Ci()}),S(!0)}catch(de){console.error("Error saving review:",de),alert("    ")}finally{se(!1)}}},Q=de=>de?(de.toDate?de.toDate():new Date(de.seconds*1e3)).toLocaleDateString("ar-EG"):"",M=()=>o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in flex flex-col relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",poster:"https://images.unsplash.com/photo-1497633762265-9d179a990aa6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",className:"w-full h-full object-cover",children:o.jsx("source",{src:"https://drive.google.com/uc?export=download&id=1wHw0wEWltdWfMqblwZLRgLKZ_ah3lCKm",type:"video/mp4"})}),o.jsx("div",{className:"absolute inset-0 bg-gray-950/70"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-transparent to-gray-950/80"})]}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center flex-1 px-6 text-center pt-10",children:[o.jsx("span",{className:"inline-block px-6 py-2 rounded-full bg-white/10 backdrop-blur-md text-emerald-300 font-bold text-sm mb-6 border border-white/20 shadow-lg animate-fade-in-up",children:"  "}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white mb-6 leading-tight drop-shadow-2xl animate-fade-in-up delay-100",children:[" ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-400",children:" "})]}),o.jsx("p",{className:"text-gray-200 text-lg md:text-2xl max-w-2xl mx-auto mb-12 leading-relaxed font-medium drop-shadow-md animate-fade-in-up delay-200",children:"         ."}),o.jsxs("button",{onClick:pe,className:"w-full md:w-auto bg-white text-gray-900 text-xl font-black px-12 py-5 rounded-2xl hover:scale-105 hover:bg-emerald-50 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)] flex items-center justify-center gap-3 animate-fade-in-up delay-300",children:[" ",o.jsx(gn,{className:"w-6 h-6"})]})]}),o.jsx("div",{className:"p-6 text-center relative z-10",children:o.jsxs("button",{onClick:n,className:"text-white/70 font-bold hover:text-white transition-colors flex items-center justify-center gap-2 mx-auto",children:[o.jsx(Ag,{className:"w-4 h-4"})," "]})})]}),z=()=>o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-4 px-4 sticky top-0 z-30 shadow-sm",children:o.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:D,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:" "})]})}),o.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:RG.map(de=>o.jsxs("button",{onClick:()=>te(de.id),className:"bg-gray-900 p-8 rounded-[2.5rem] shadow-sm border border-gray-700 hover:border-emerald-500 hover:shadow-xl hover:-translate-y-2 transition-all group flex flex-col items-center gap-4",children:[o.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center ${de.bg} ${de.color} group-hover:scale-110 transition-transform`,children:o.jsx(de.icon,{className:"w-10 h-10"})}),o.jsx("span",{className:"font-black text-xl text-gray-200 group-hover:text-white",children:de.title})]},de.id))})})]}),re=()=>{const de={5:"border-emerald-500/30 hover:border-emerald-500 hover:shadow-emerald-900/20 group-hover:text-emerald-400",6:"border-cyan-500/30 hover:border-cyan-500 hover:shadow-cyan-900/20 group-hover:text-cyan-400",7:"border-sky-500/30 hover:border-sky-500 hover:shadow-sky-900/20 group-hover:text-sky-400",8:"border-blue-500/30 hover:border-blue-500 hover:shadow-blue-900/20 group-hover:text-blue-400",9:"border-indigo-500/30 hover:border-indigo-500 hover:shadow-indigo-900/20 group-hover:text-indigo-400",10:"border-violet-500/30 hover:border-violet-500 hover:shadow-violet-900/20 group-hover:text-violet-400",11:"border-purple-500/30 hover:border-purple-500 hover:shadow-purple-900/20 group-hover:text-purple-400",12:"border-pink-500/30 hover:border-pink-500 hover:shadow-pink-900/20 group-hover:text-pink-400"},Oe={5:"bg-emerald-900/20 text-emerald-400 group-hover:bg-emerald-500 group-hover:text-white",6:"bg-cyan-900/20 text-cyan-400 group-hover:bg-cyan-500 group-hover:text-white",7:"bg-sky-900/20 text-sky-400 group-hover:bg-sky-500 group-hover:text-white",8:"bg-blue-900/20 text-blue-400 group-hover:bg-blue-500 group-hover:text-white",9:"bg-indigo-900/20 text-indigo-400 group-hover:bg-indigo-500 group-hover:text-white",10:"bg-violet-900/20 text-violet-400 group-hover:bg-violet-500 group-hover:text-white",11:"bg-purple-900/20 text-purple-400 group-hover:bg-purple-500 group-hover:text-white",12:"bg-pink-900/20 text-pink-400 group-hover:bg-pink-500 group-hover:text-white"};return o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-4 px-4 sticky top-0 z-30 shadow-sm",children:o.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:D,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:" "})]})}),o.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[5,6,7,8,9,10,11,12].map(Re=>{const et=Re.toString(),tt=de[et],mt=Oe[et];return o.jsxs("button",{onClick:()=>ce(Re.toString()),className:`bg-gray-900 p-5 rounded-2xl shadow-sm border transition-all group flex flex-col items-center gap-3 hover:-translate-y-1 hover:shadow-lg ${tt}`,children:[o.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center transition-colors ${mt}`,children:o.jsx("span",{className:"font-black text-xl",children:Re})}),o.jsxs("span",{className:"font-black text-gray-300 transition-colors text-base group-hover:text-white",children:[" ",Re]})]},Re)})})})]})},ue=()=>o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-4 px-4 sticky top-0 z-30 shadow-sm",children:o.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:D,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:" "})]})}),o.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:kG.map(de=>o.jsx("button",{onClick:()=>ne(de),className:"bg-gray-900 rounded-3xl p-5 shadow-sm border border-gray-700 hover:shadow-xl hover:border-emerald-800 transition-all group text-right relative overflow-hidden",children:o.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[o.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 ${de.color} group-hover:scale-110 transition-transform`,children:o.jsx(de.icon,{className:"w-7 h-7"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-black text-white mb-1",children:de.title}),o.jsx("p",{className:"text-gray-400 text-xs font-medium",children:de.desc})]}),o.jsx("div",{className:"absolute top-1/2 -left-4 -translate-y-1/2 bg-gray-700 p-2 rounded-full opacity-0 group-hover:opacity-100 group-hover:translate-x-2 transition-all",children:o.jsx(Ko,{className:"w-5 h-5 text-gray-400"})})]})},de.id))})})]}),me=()=>o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-4 px-4 sticky top-0 z-30 shadow-sm",children:o.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:D,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:g==null?void 0:g.title})]})}),o.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8",children:C?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx(Ir,{className:"w-8 h-8 animate-spin text-emerald-400"})}):x.length===0?o.jsx("div",{className:"flex flex-col items-center justify-center text-center",children:o.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-sm border border-gray-700 max-w-md w-full",children:[o.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:"   "}),o.jsxs("p",{className:"text-gray-400 font-medium leading-relaxed mb-6",children:["      ",o.jsx("span",{className:"text-emerald-600 font-bold",children:g==null?void 0:g.title}),"    ."]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs font-bold text-gray-400 bg-gray-700 py-2 px-4 rounded-full",children:[o.jsx(sg,{className:"w-4 h-4"}),"     "]})]})}):o.jsx("div",{className:"grid grid-cols-1 gap-4",children:x.map(de=>{const Oe=J(),Re=de.isPremium&&!Oe,et=Re?"border-amber-900/50":de.isPremium?"border-amber-600":"border-gray-700";return o.jsxs("button",{onClick:()=>he(de),className:`bg-gray-900 p-5 rounded-2xl shadow-sm border ${et} hover:shadow-md transition-all group text-right flex items-center justify-between relative overflow-hidden`,children:[de.isPremium&&o.jsxs("div",{className:"absolute top-0 left-0 bg-amber-500/20 border-b border-r border-amber-500/30 text-amber-400 text-[9px] font-bold px-2 py-0.5 rounded-br-lg z-10 flex items-center gap-1",children:[o.jsx(ys,{className:"w-3 h-3 fill-amber-400"}),"PREMIUM"]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`p-3 rounded-xl transition-colors ${Re?"bg-gray-800":"bg-gray-700 group-hover:bg-emerald-900/20"}`,children:Re?o.jsx(WA,{className:"w-6 h-6 text-gray-500"}):o.jsx(ka,{className:"w-6 h-6 text-gray-500 group-hover:text-emerald-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:`text-lg font-bold mb-1 transition-colors ${Re?"text-gray-500":"text-white group-hover:text-emerald-400"}`,children:de.title}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 font-medium",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ag,{className:"w-3 h-3"}),Q(de.createdAt)]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Wa,{className:"w-3 h-3"}),de.teacherName]})]})]})]}),o.jsx("div",{className:`transition-transform duration-300 ${Re?"":"group-hover:-translate-x-1"}`,children:Re?o.jsx(WA,{className:"w-5 h-5 text-gray-600"}):o.jsx(Ko,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})})]},de.id)})})})]}),Ne=()=>E?o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100 pb-20",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-4 px-4 sticky top-0 z-30 shadow-sm backdrop-blur-md bg-opacity-90",children:o.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-800 rounded-full transition-colors text-gray-400 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:D,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:g==null?void 0:g.title}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white truncate",children:E.title}),E.isPremium&&o.jsxs("div",{className:"mr-auto hidden sm:flex items-center gap-1.5 bg-gradient-to-r from-amber-500/10 to-yellow-500/10 border border-amber-500/30 px-3 py-1 rounded-lg text-amber-400 text-xs font-black shadow-[0_0_10px_rgba(245,158,11,0.1)]",children:[o.jsx(ys,{className:"w-3.5 h-3.5 fill-amber-400 animate-pulse"}),o.jsx("span",{children:"  (Premium)"})]})]})}),o.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:`bg-gray-900 rounded-3xl shadow-2xl overflow-hidden mb-8 relative transition-all ${E.isPremium?"border-2 border-amber-500/20 shadow-amber-900/10":"border border-gray-700"}`,children:[E.isPremium&&o.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-amber-600 via-yellow-400 to-amber-600 shadow-[0_0_15px_rgba(245,158,11,0.5)]"}),o.jsxs("div",{className:"p-6 md:p-10 pt-10",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-8 text-sm text-gray-400 border-b border-gray-800 pb-6",children:[o.jsx("span",{className:"bg-gray-800 px-3 py-1.5 rounded-lg font-bold border border-gray-700 text-gray-300",children:u==="English Major - QOU"?"":` ${u}`}),o.jsx(Ko,{className:"w-4 h-4 opacity-50"}),o.jsx("span",{className:"bg-gray-800 px-3 py-1.5 rounded-lg font-bold border border-gray-700 text-gray-300",children:g==null?void 0:g.title})]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-black text-white mb-8 leading-relaxed tracking-tight drop-shadow-sm",dir:"auto",children:E.title}),o.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-200 whitespace-pre-wrap leading-loose text-lg font-medium selection:bg-emerald-500/30",dir:"auto",children:E.content})]}),o.jsxs("div",{className:"bg-gray-950/30 p-6 border-t border-gray-800 flex flex-wrap justify-between items-center text-sm text-gray-400 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 bg-gray-900/50 px-4 py-2 rounded-full border border-gray-800 shadow-sm",children:[o.jsx("div",{className:"p-1.5 bg-gray-800 rounded-full",children:o.jsx(Wa,{className:"w-4 h-4 text-emerald-400"})}),o.jsxs("span",{children:[": ",o.jsx("span",{className:"font-bold text-white",children:E.teacherName})]})]}),o.jsxs("div",{className:"flex items-center gap-2 opacity-80",children:[o.jsx(ag,{className:"w-4 h-4"}),o.jsx("span",{className:"font-mono dir-ltr",children:Q(E.createdAt)})]})]})]}),t&&o.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-xl border border-gray-700 p-8 text-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500/20 via-blue-500/50 to-blue-500/20"}),j?o.jsxs("div",{className:"py-12 animate-fade-in",children:[o.jsx("div",{className:"w-20 h-20 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-green-500/20 shadow-lg shadow-green-900/20",children:o.jsx(ql,{className:"w-10 h-10 text-green-400"})}),o.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:" !"}),o.jsx("p",{className:"text-gray-400 font-medium",children:"     ."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[o.jsx("div",{className:"p-3 bg-blue-500/10 rounded-2xl border border-blue-500/20",children:o.jsx(P1,{className:"w-6 h-6 text-blue-400"})}),o.jsx("h3",{className:"font-bold text-xl text-white",children:"    "})]}),o.jsx("p",{className:"text-gray-400 text-sm mb-6 font-medium",children:"     ()"}),o.jsx("div",{className:"flex justify-center gap-2 mb-6 flex-wrap",children:[1,2,3,4,5,6,7,8,9,10].map(de=>o.jsx("button",{onClick:()=>H(de),className:`w-10 h-10 rounded-xl text-sm font-bold transition-all shadow-sm ${F===de?"bg-blue-600 text-white scale-110 shadow-blue-900/50 shadow-lg":"bg-gray-800 text-gray-400 hover:bg-gray-700 border border-gray-700"}`,children:de},de))}),o.jsx("div",{className:"relative mb-6",children:o.jsx("textarea",{value:K,onChange:de=>Ae(de.target.value),placeholder:"  ...",className:"w-full bg-gray-950 border border-gray-700 rounded-2xl p-4 text-sm text-white outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500/50 min-h-[100px] resize-none transition-all placeholder-gray-600"})}),o.jsxs("button",{onClick:Y,disabled:ae||F===0,className:`w-full py-4 rounded-2xl font-bold text-base flex items-center justify-center gap-3 transition-all shadow-lg ${F===0?"bg-gray-800 text-gray-500 cursor-not-allowed shadow-none":"bg-blue-600 text-white hover:bg-blue-500 hover:shadow-blue-500/20 hover:-translate-y-1"}`,children:[ae?o.jsx(Ir,{className:"w-5 h-5 animate-spin"}):o.jsx(Vl,{className:"w-5 h-5"})," "]})]})]})]})]}):null;return o.jsxs(o.Fragment,{children:[r==="INTRO"&&M(),r==="SUBJECTS"&&z(),r==="GRADES"&&re(),r==="CATEGORIES"&&ue(),r==="TOPICS"&&me(),r==="DETAILS"&&Ne(),O&&o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:()=>q(!1)}),o.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-8 max-w-sm w-full relative z-10 text-center border border-amber-500/30 shadow-2xl shadow-amber-900/20 animate-fade-in-up",children:[o.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 bg-amber-500/20",children:o.jsx(ys,{className:"w-10 h-10 text-amber-500 fill-amber-500"})}),o.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:" "}),o.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:"        (Premium).    ."}),o.jsxs("button",{onClick:()=>{q(!1),e("SERVICES")},className:"w-full py-3.5 rounded-xl font-bold text-white transition-all shadow-lg bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 border border-amber-500 flex items-center justify-center gap-2",children:[o.jsx(ys,{className:"w-5 h-5 fill-white"})," "]})]})]})]})},xE=[{id:"grammar",title:" (Grammar)",icon:Yh},{id:"reading",title:" (Reading)",icon:da},{id:"vocabulary",title:" (Vocabulary)",icon:Ig},{id:"writing",title:" (Writing)",icon:H1}],OG=[{id:"English",title:"  (English)",icon:Ig}],MG=({onBack:n,onNavigate:e})=>{const{user:t}=CA(),[r,s]=fe.useState(""),[i,l]=fe.useState(""),[u,h]=fe.useState(""),[g,p]=fe.useState(""),[x,B]=fe.useState(""),[C,U]=fe.useState(!1),[E,P]=fe.useState(!1),[F,H]=fe.useState(!1),[K,Ae]=fe.useState(""),[ae,se]=fe.useState([]),[j,S]=fe.useState(!1),[O,q]=fe.useState(!1),[I,k]=fe.useState(null),[D,J]=fe.useState(!1),pe=async()=>{if(!r||!i||!u||!g||!x){alert("    ");return}P(!0);try{await so(ln(er,"explanations"),{subject:r,grade:i,category:u,title:g,content:x,teacherName:(t==null?void 0:t.displayName)||"",teacherId:t==null?void 0:t.uid,isPremium:C,createdAt:Ci()}),H(!0),setTimeout(()=>{H(!1),p(""),B(""),U(!1)},2e3)}catch(Y){console.error("Error saving explanation:",Y),alert("   ")}finally{P(!1)}},te=async()=>{if(K.trim()&&t!=null&&t.uid){S(!0),q(!0),se([]);try{const Y=ha(ln(er,"explanations"),fa("title",">=",K),fa("title","<=",K+"")),Q=await _i(Y),M=[];Q.forEach(z=>{const re=z.data();re.teacherId===t.uid&&M.push({id:z.id,...re})}),se(M)}catch(Y){console.error("Error searching explanations:",Y)}finally{S(!1)}}},ce=async()=>{if(I){J(!0);try{await $g(Ys(er,"explanations",I)),se(Y=>Y.filter(Q=>Q.id!==I)),k(null)}catch(Y){console.error(Y),alert("   ")}finally{J(!1)}}},ne=()=>{n?n():e("HOME")},he=Y=>Y?(Y.toDate?Y.toDate():new Date(Y.seconds*1e3)).toLocaleDateString("ar-EG"):"",we=Y=>{const Q=xE.find(M=>M.id===Y);return Q?Q.title:Y};return o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-6 px-4 sticky top-0 z-30 shadow-sm",children:o.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:ne,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-300 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:ne,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:"  "})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8 mb-12",children:[o.jsxs("h2",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[o.jsx(fd,{className:"w-6 h-6 text-purple-500"}),"  "]}),F?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-fade-in",children:[o.jsx("div",{className:"w-20 h-20 bg-green-900 rounded-full flex items-center justify-center mb-4 border border-green-500/20",children:o.jsx(es,{className:"w-10 h-10 text-green-400"})}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"  !"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"      ."}),o.jsx("button",{onClick:()=>H(!1),className:"bg-gray-800 text-gray-300 px-6 py-2 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-white/5",children:"  "})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:"1.   "}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:OG.map(Y=>o.jsxs("button",{onClick:()=>s(Y.id),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all ${r===Y.id?"bg-purple-600 text-white border-purple-600 shadow-lg":"bg-gray-800 text-gray-300 border-gray-700 hover:border-purple-500/50"}`,children:[o.jsx(Y.icon,{className:"w-6 h-6"}),o.jsx("span",{children:Y.title})]},Y.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:"2.   "}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[[5,6,7,8,9,10,11,12].map(Y=>o.jsxs("button",{onClick:()=>l(Y.toString()),className:`py-3 rounded-xl font-bold transition-all border-2 ${i===Y.toString()?"bg-purple-600 text-white border-purple-600 shadow-lg":"bg-gray-800 text-gray-300 border-gray-700 hover:border-purple-500/50"}`,children:[" ",Y]},Y)),o.jsx("button",{onClick:()=>l("English Major - QOU"),className:`col-span-2 sm:col-span-4 py-3 rounded-xl font-bold transition-all border-2 ${i==="English Major - QOU"?"bg-purple-600 text-white border-purple-600 shadow-lg":"bg-gray-800 text-gray-300 border-gray-700 hover:border-purple-500/50"}`,children:"  "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:"3.   ()"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:xE.map(Y=>o.jsxs("button",{onClick:()=>h(Y.id),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all text-right ${u===Y.id?"bg-purple-900/20 border-purple-500 text-purple-300":"bg-gray-800 border-gray-700 text-gray-300 hover:border-purple-500/50"}`,children:[o.jsx("div",{className:`p-2 rounded-lg ${u===Y.id?"bg-purple-800":"bg-gray-700"}`,children:o.jsx(Y.icon,{className:"w-5 h-5"})}),o.jsx("span",{className:"font-bold",children:Y.title})]},Y.id))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"  / "}),o.jsx("input",{type:"text",value:g,onChange:Y=>p(Y.target.value),placeholder:":   Present Simple",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-purple-500 outline-none font-bold text-white bg-gray-800 transition-all"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),o.jsx("textarea",{value:x,onChange:Y=>B(Y.target.value),placeholder:"  ...",className:"w-full h-64 px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-purple-500 outline-none font-medium text-white bg-gray-800 transition-all resize-none leading-relaxed",dir:"auto"}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"          ."})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-xl bg-amber-900/10 border border-amber-500/20 cursor-pointer hover:bg-amber-900/20 transition-colors",children:[o.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${C?"bg-amber-500":"bg-gray-600"}`,children:o.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all shadow-md ${C?"right-1":"right-7"}`})}),o.jsx("input",{type:"checkbox",className:"hidden",checked:C,onChange:Y=>U(Y.target.checked)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ys,{className:"w-5 h-5 text-amber-400 fill-amber-400"}),o.jsx("span",{className:"font-bold text-white",children:"  (Premium)"})]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"       ."})]})]})})]}),o.jsx("div",{className:"pt-4 border-t border-white/5 flex justify-end",children:o.jsxs("button",{onClick:pe,disabled:E,className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl font-bold shadow-lg transition-all flex items-center gap-2 transform hover:-translate-y-1",children:[E?o.jsx(Ir,{className:"w-5 h-5 animate-spin"}):o.jsx(au,{className:"w-5 h-5"}),"  "]})})]})]}),o.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8",children:[o.jsxs("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[o.jsx(Xl,{className:"w-6 h-6 text-red-500"}),"  ()"]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"    ...",value:K,onChange:Y=>Ae(Y.target.value),onKeyDown:Y=>Y.key==="Enter"&&te(),className:"w-full px-5 py-3 pl-12 rounded-xl bg-gray-800 border border-gray-700 focus:border-red-500 outline-none text-white font-bold"}),o.jsx("button",{onClick:te,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-700 hover:bg-gray-600 p-2 rounded-lg text-gray-300 transition-colors",children:j?o.jsx(Ir,{className:"w-4 h-4 animate-spin"}):o.jsx(Ni,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2 mr-1",children:"      .        ."})]}),ae.length>0?o.jsx("div",{className:"space-y-3 animate-fade-in",children:ae.map(Y=>o.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700 flex items-center justify-between group hover:border-red-500/50 transition-all",children:[o.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-900/20 flex items-center justify-center text-purple-400 shrink-0",children:o.jsx(ka,{className:"w-5 h-5"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-bold text-white truncate",children:Y.title}),Y.isPremium&&o.jsx("span",{className:"text-[9px] bg-amber-900/40 text-amber-300 px-1.5 py-0.5 rounded border border-amber-800/50",children:"VIP"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400",children:[o.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded",children:Y.subject||"English"}),o.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded",children:we(Y.category)}),o.jsx("span",{children:Y.grade==="English Major - QOU"?"":` ${Y.grade}`}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ag,{className:"w-3 h-3"})," ",he(Y.createdAt)]})]})]})]}),o.jsx("button",{onClick:()=>Y.id&&k(Y.id),className:"p-2 bg-red-900/20 text-red-400 rounded-lg hover:bg-red-600 hover:text-white transition-colors",title:" ",children:o.jsx(Xl,{className:"w-4 h-4"})})]},Y.id))}):O&&!j&&o.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-800 rounded-xl",children:[o.jsx(fd,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),o.jsx("p",{children:"      "})]})]})]}),I&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:o.jsxs("div",{className:"bg-gray-900 rounded-3xl p-8 max-w-sm w-full border border-gray-700 shadow-2xl text-center transform scale-100",children:[o.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:o.jsx(Tw,{className:"w-8 h-8 text-red-500"})}),o.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),o.jsx("p",{className:"text-gray-400 mb-8 text-sm",children:"            ."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:ce,disabled:D,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:D?o.jsx(Ir,{className:"w-4 h-4 animate-spin"}):" "}),o.jsx("button",{onClick:()=>k(null),disabled:D,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-3 rounded-xl font-bold transition-colors",children:""})]})]})})]})},PG=[{id:"handouts",title:" ",icon:ka,color:"text-blue-400",bg:"bg-blue-900/20"},{id:"worksheets",title:" ",icon:Qh,color:"text-emerald-400",bg:"bg-emerald-900/20"},{id:"exams",title:"  ",icon:da,color:"text-purple-400",bg:"bg-purple-900/20"}],HG=[{id:"English",title:"  (English)"},{id:"Math",title:""},{id:"Science",title:""}],VG=({onBack:n,onNavigate:e})=>{const{user:t}=CA(),[r,s]=fe.useState(""),[i,l]=fe.useState(""),[u,h]=fe.useState(""),[g,p]=fe.useState(""),[x,B]=fe.useState(""),[C,U]=fe.useState(!1),[E,P]=fe.useState(!1),[F,H]=fe.useState(""),[K,Ae]=fe.useState([]),[ae,se]=fe.useState(!1),[j,S]=fe.useState(!1),[O,q]=fe.useState(null),[I,k]=fe.useState(!1),D=async()=>{if(!r||!i||!u||!g||!x){alert("    ");return}if(!x.startsWith("http")){alert("        http  https");return}U(!0);try{await so(ln(er,"study_materials"),{grade:r,subject:i,category:u,title:g,url:x,size:"Drive Link",teacherName:(t==null?void 0:t.displayName)||"",teacherId:t==null?void 0:t.uid,createdAt:Ci()}),P(!0),setTimeout(()=>{P(!1),p(""),B("")},2e3)}catch(ne){console.error("Error saving file:",ne),alert("   ")}finally{U(!1)}},J=async()=>{if(F.trim()&&t!=null&&t.uid){se(!0),S(!0),Ae([]);try{const ne=ha(ln(er,"study_materials"),fa("title",">=",F),fa("title","<=",F+"")),he=await _i(ne),we=[];he.forEach(Y=>{const Q=Y.data();Q.teacherId===t.uid&&we.push({id:Y.id,...Q})}),Ae(we)}catch(ne){console.error("Error searching files:",ne)}finally{se(!1)}}},pe=async()=>{if(O){k(!0);try{await $g(Ys(er,"study_materials",O)),Ae(ne=>ne.filter(he=>he.id!==O)),q(null)}catch(ne){console.error(ne),alert("   ")}finally{k(!1)}}},te=()=>{n?n():e("PROFILE")},ce=ne=>ne?(ne.toDate?ne.toDate():new Date(ne.seconds*1e3)).toLocaleDateString("ar-EG"):"";return o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-6 px-4 sticky top-0 z-30 shadow-sm",children:o.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:te,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-300 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:te,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:"  "})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8 mb-12",children:[o.jsxs("h2",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[o.jsx(EE,{className:"w-6 h-6 text-blue-500"}),"  "]}),E?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-fade-in",children:[o.jsx("div",{className:"w-20 h-20 bg-green-900 rounded-full flex items-center justify-center mb-4 border border-green-500/20",children:o.jsx(es,{className:"w-10 h-10 text-green-400"})}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"  !"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"       ."}),o.jsx("button",{onClick:()=>P(!1),className:"bg-gray-800 text-gray-300 px-6 py-2 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-white/5",children:"  "})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-3 flex items-center gap-2",children:[o.jsx(Gl,{className:"w-4 h-4 text-blue-500"})," "]}),o.jsxs("select",{value:r,onChange:ne=>s(ne.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 bg-gray-800 focus:border-blue-500 outline-none font-bold text-white appearance-none cursor-pointer",children:[o.jsx("option",{value:"",children:" "}),[5,6,7,8,9,10,11,12].map(ne=>o.jsxs("option",{value:ne.toString(),children:[" ",ne]},ne)),o.jsx("option",{value:"English Major - QOU",children:"  "})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-3 flex items-center gap-2",children:[o.jsx(da,{className:"w-4 h-4 text-blue-500"}),""]}),o.jsxs("select",{value:i,onChange:ne=>l(ne.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 bg-gray-800 focus:border-blue-500 outline-none font-bold text-white appearance-none cursor-pointer",children:[o.jsx("option",{value:"",children:" "}),HG.map(ne=>o.jsx("option",{value:ne.id,children:ne.title},ne.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:"  ()"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:PG.map(ne=>o.jsxs("button",{onClick:()=>h(ne.id),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all text-center h-full ${u===ne.id?"bg-blue-900/30 border-blue-500 text-blue-300 ring-1 ring-blue-500":"bg-gray-800 border-gray-700 text-gray-300 hover:border-blue-500/50"}`,children:[o.jsx("div",{className:`p-2 rounded-lg ${ne.bg}`,children:o.jsx(ne.icon,{className:`w-6 h-6 ${ne.color}`})}),o.jsx("span",{className:"font-bold text-sm",children:ne.title})]},ne.id))})]}),o.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),o.jsx("input",{type:"text",value:g,onChange:ne=>p(ne.target.value),placeholder:":    -  ",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-blue-500 outline-none font-bold text-white bg-gray-800 transition-all"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[o.jsx(TF,{className:"w-4 h-4 text-blue-500"}),"  (Google Drive Link)"]}),o.jsx("input",{type:"url",value:x,onChange:ne=>B(ne.target.value),placeholder:"https://drive.google.com/file/d/...",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-blue-500 outline-none font-medium text-blue-400 bg-gray-800 transition-all text-left",dir:"ltr"}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'    " " (Anyone with the link)    .'})]})]}),o.jsx("div",{className:"pt-4 flex justify-end",children:o.jsxs("button",{onClick:D,disabled:C,className:"w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white px-10 py-3 rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 transform hover:-translate-y-1",children:[C?o.jsx(Ir,{className:"w-5 h-5 animate-spin"}):o.jsx(au,{className:"w-5 h-5"}),"  "]})})]})]}),o.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8",children:[o.jsxs("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[o.jsx(Xl,{className:"w-6 h-6 text-red-500"}),"  ()"]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"    ...",value:F,onChange:ne=>H(ne.target.value),onKeyDown:ne=>ne.key==="Enter"&&J(),className:"w-full px-5 py-3 pl-12 rounded-xl bg-gray-800 border border-gray-700 focus:border-red-500 outline-none text-white font-bold"}),o.jsx("button",{onClick:J,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-700 hover:bg-gray-600 p-2 rounded-lg text-gray-300 transition-colors",children:ae?o.jsx(Ir,{className:"w-4 h-4 animate-spin"}):o.jsx(Ni,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2 mr-1",children:"      .        ."})]}),K.length>0?o.jsx("div",{className:"space-y-3 animate-fade-in",children:K.map(ne=>o.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700 flex items-center justify-between group hover:border-red-500/50 transition-all",children:[o.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-900/20 flex items-center justify-center text-blue-400 shrink-0",children:o.jsx(ka,{className:"w-5 h-5"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h4",{className:"font-bold text-white truncate mb-1",children:ne.title}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400",children:[o.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded",children:ne.subject}),o.jsx("span",{children:ne.grade==="English Major - QOU"?"":` ${ne.grade}`}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ag,{className:"w-3 h-3"})," ",ce(ne.createdAt)]})]})]})]}),o.jsx("button",{onClick:()=>ne.id&&q(ne.id),className:"p-2 bg-red-900/20 text-red-400 rounded-lg hover:bg-red-600 hover:text-white transition-colors",title:" ",children:o.jsx(Xl,{className:"w-4 h-4"})})]},ne.id))}):j&&!ae&&o.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-800 rounded-xl",children:[o.jsx(ka,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),o.jsx("p",{children:"      "})]})]})]}),O&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:o.jsxs("div",{className:"bg-gray-900 rounded-3xl p-8 max-w-sm w-full border border-gray-700 shadow-2xl text-center transform scale-100",children:[o.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:o.jsx(Tw,{className:"w-8 h-8 text-red-500"})}),o.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),o.jsx("p",{className:"text-gray-400 mb-8 text-sm",children:"            ."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:pe,disabled:I,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:I?o.jsx(Ir,{className:"w-4 h-4 animate-spin"}):" "}),o.jsx("button",{onClick:()=>q(null),disabled:I,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-3 rounded-xl font-bold transition-colors",children:""})]})]})})]})},W2=({title:n,subtitle:e,description:t,icon:r,secondaryIcon:s,buttonText:i,onClick:l,theme:u,direction:h,isLast:g=!1})=>{const x={emerald:{gradient:"from-emerald-500/20 to-teal-500/20",border:"border-emerald-500/20",text:"text-emerald-400",bgIcon:"bg-emerald-500/10",button:"bg-gradient-to-r from-emerald-600 to-teal-600 shadow-emerald-500/20",glow:"bg-emerald-500/30",divider:"from-transparent via-emerald-500 to-transparent"},violet:{gradient:"from-violet-500/20 to-purple-500/20",border:"border-violet-500/20",text:"text-violet-400",bgIcon:"bg-violet-500/10",button:"bg-gradient-to-r from-violet-600 to-purple-600 shadow-violet-500/20",glow:"bg-violet-500/30",divider:"from-transparent via-violet-500 to-transparent"},sky:{gradient:"from-sky-500/20 to-blue-500/20",border:"border-sky-500/20",text:"text-sky-400",bgIcon:"bg-sky-500/10",button:"bg-gradient-to-r from-sky-600 to-blue-600 shadow-sky-500/20",glow:"bg-sky-500/30",divider:"from-transparent via-sky-500 to-transparent"}}[u],B=h==="rtl"?"md:flex-row":"md:flex-row-reverse",C=h==="rtl"?"md:text-right":"md:text-left";return o.jsxs("div",{className:"relative py-16 md:py-28 overflow-hidden group",children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-12 relative z-10",children:o.jsxs("div",{className:`flex flex-col items-center gap-10 md:gap-20 ${B}`,children:[o.jsxs("div",{className:"w-full md:w-1/2 flex justify-center relative",children:[o.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 md:w-96 md:h-96 rounded-full blur-[60px] md:blur-[100px] opacity-40 animate-pulse ${x.glow}`}),o.jsxs("div",{className:`relative w-72 h-72 md:w-full md:max-w-md md:aspect-square rounded-[2.5rem] md:rounded-[3rem] border ${x.border} bg-gray-900/60 backdrop-blur-xl shadow-2xl flex items-center justify-center overflow-hidden group-hover:scale-[1.02] transition-transform duration-700`,children:[o.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[o.jsx("div",{className:`p-6 md:p-8 rounded-3xl ${x.bgIcon} border ${x.border} shadow-[0_0_50px_rgba(0,0,0,0.5)] backdrop-blur-sm transform rotate-3 group-hover:rotate-0 transition-all duration-500`,children:o.jsx(r,{className:`w-20 h-20 md:w-32 md:h-32 ${x.text} drop-shadow-lg`,strokeWidth:1.5})}),o.jsx("div",{className:`absolute -bottom-10 -right-10 md:-bottom-12 md:-right-12 p-4 md:p-5 rounded-2xl bg-gray-800/80 border ${x.border} shadow-xl backdrop-blur-md transform -rotate-6 group-hover:rotate-0 transition-all duration-700 delay-100`,children:o.jsx(s,{className:`w-8 h-8 md:w-10 md:h-10 ${x.text}`})})]})]})]}),o.jsxs("div",{className:`w-full md:w-1/2 text-center ${C} space-y-6 md:space-y-8`,children:[o.jsxs("div",{className:"space-y-3 md:space-y-4",children:[o.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 md:px-4 md:py-1.5 rounded-full bg-gray-900/50 border ${x.border} ${x.text} text-xs md:text-sm font-bold shadow-sm backdrop-blur-md`,children:[o.jsx(s,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),o.jsx("span",{children:e})]}),o.jsx("h2",{className:"text-3xl md:text-5xl lg:text-6xl font-black text-white leading-tight drop-shadow-xl",children:n})]}),o.jsx("p",{className:"text-base md:text-xl text-gray-300 leading-relaxed md:leading-loose font-medium opacity-90 max-w-xl mx-auto md:mx-0",children:t}),o.jsx("div",{className:"pt-2 md:pt-4",children:o.jsxs("button",{onClick:l,className:`w-full md:w-auto inline-flex justify-center items-center gap-3 ${x.button} text-white text-base md:text-lg font-bold px-8 py-4 rounded-2xl shadow-lg hover:shadow-2xl transition-all transform hover:-translate-y-1 active:scale-95 border-t border-white/10`,children:[i,o.jsx(gn,{className:`w-5 h-5 ${h==="rtl"?"rotate-180":""}`})]})})]})]})}),!g&&o.jsxs("div",{className:"absolute bottom-0 left-0 w-full flex justify-center items-center",children:[o.jsx("div",{className:`w-full h-px bg-gradient-to-r ${x.divider} opacity-30`}),o.jsx("div",{className:`absolute w-3/4 h-1 bg-gradient-to-r ${x.divider} blur-sm opacity-50`}),o.jsx("div",{className:"absolute w-1/2 h-0.5 bg-gradient-to-r from-transparent via-emerald-500 to-transparent shadow-[0_0_20px_rgba(16,185,129,0.8)] opacity-80"})]})]})},KG=({onNavigate:n})=>o.jsxs("div",{className:"bg-gray-950 relative z-10",children:[o.jsx(W2,{theme:"emerald",direction:"rtl",title:" ..  ",subtitle:"  ",description:"       !              .           .",icon:_w,secondaryIcon:es,buttonText:"  ",onClick:()=>n("QUIZZES")}),o.jsx(W2,{theme:"violet",direction:"ltr",title:"   ",subtitle:" ",description:"         .                     .",icon:sg,secondaryIcon:_E,buttonText:" ",onClick:()=>n("LESSONS_EXPLANATIONS")}),o.jsx(W2,{theme:"sky",direction:"rtl",title:"  ",subtitle:"   ",description:"    .               .            .",icon:Qh,secondaryIcon:eF,buttonText:" ",onClick:()=>n("LESSONS"),isLast:!0})]}),zG=()=>o.jsx("section",{className:"relative w-full overflow-hidden bg-gray-950",children:o.jsxs("div",{className:"w-full h-[650px] md:h-[900px] relative group",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:"https://lh3.googleusercontent.com/d/11PvY6sdTvurXqkNuWjoEpYTcM8FUHOB0",alt:".    -  ",className:"w-full h-full object-cover object-top transition-transform duration-1000 group-hover:scale-105"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-gray-900/40 to-transparent"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-950/90 via-transparent to-gray-950/90"})]}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-24 flex flex-col items-center text-center z-20",children:o.jsxs("div",{className:"max-w-5xl mx-auto transform translate-y-0 transition-all duration-700",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-5xl md:text-8xl font-black text-white mb-6 drop-shadow-2xl tracking-tight",children:".   "}),o.jsx("div",{className:"h-2 w-40 bg-emerald-500 rounded-full mx-auto mb-8 shadow-[0_0_20px_rgba(16,185,129,0.6)]"}),o.jsx("p",{className:"text-2xl md:text-4xl text-emerald-400 font-bold drop-shadow-lg tracking-wide",children:"   "})]}),o.jsx("div",{className:"relative",children:o.jsx("p",{className:"text-gray-200 text-xl md:text-3xl leading-loose font-medium relative z-10 px-4 max-w-4xl mx-auto drop-shadow-md",children:"          .              ."})})]})})]})}),qG=({onLoginClick:n})=>o.jsxs("section",{className:"py-32 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950 via-emerald-950/40 to-gray-950"}),o.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')]"}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-emerald-500/50 to-transparent"}),o.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative z-10 text-center",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-sm font-bold mb-8 animate-pulse",children:[o.jsx(QE,{className:"w-4 h-4"}),o.jsx("span",{children:"  "})]}),o.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white mb-8 leading-tight tracking-tight drop-shadow-2xl",children:["  ",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400",children:" "})]}),o.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto mb-12 leading-relaxed font-medium",children:"      .         ."}),o.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:o.jsxs("button",{onClick:n,className:"w-full sm:w-auto bg-white text-emerald-950 px-10 py-5 rounded-2xl font-black text-xl hover:bg-emerald-50 transition-all shadow-[0_0_40px_rgba(255,255,255,0.2)] hover:shadow-[0_0_60px_rgba(16,185,129,0.4)] transform hover:-translate-y-1 flex items-center justify-center gap-3",children:["  ",o.jsx(gn,{className:"w-6 h-6"})]})})]})]}),GG=()=>o.jsxs("section",{className:"relative w-full min-h-[800px] flex items-center bg-gray-950 overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:"https://lh3.googleusercontent.com/d/1ZcMqKedYcXUq7RPYqUGCRr2RsEA6F6JN",alt:"  ",className:"w-full h-full object-cover object-center opacity-30"}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-64 bg-gradient-to-b from-gray-950 via-gray-950/80 to-transparent"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-full h-64 bg-gradient-to-t from-gray-950 via-gray-950/80 to-transparent"}),o.jsx("div",{className:"absolute inset-0 bg-gray-950/50"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-950/80 via-transparent to-gray-950/80"})]}),o.jsx("div",{className:"relative z-10 w-full py-24 px-6 md:px-12 flex flex-col justify-center h-full",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center transform translate-y-0 transition-all duration-700 animate-fade-in-up",children:[o.jsx("h2",{className:"text-4xl md:text-7xl font-black text-white mb-8 drop-shadow-2xl tracking-tight",children:" "}),o.jsx("div",{className:"h-1.5 w-32 bg-emerald-500 rounded-full mx-auto mb-12 shadow-[0_0_20px_rgba(16,185,129,0.6)]"}),o.jsxs("div",{className:"space-y-8 text-gray-100 font-medium leading-relaxed drop-shadow-lg",children:[o.jsx("p",{className:"text-2xl md:text-4xl font-black text-emerald-400 mb-6",children:" :   "}),o.jsx("p",{className:"text-lg md:text-2xl opacity-95 leading-loose",children:"            .                    ."}),o.jsx("p",{className:"text-lg md:text-2xl opacity-95 leading-loose",children:"                         .        ."}),o.jsx("p",{className:"text-lg md:text-2xl opacity-95 leading-loose",children:"                                      ."})]})]})})]}),i5=()=>{const n=fe.useRef(null);return fe.useEffect(()=>{const e=n.current;if(!e)return;const t=e.getContext("2d");if(!t)return;let r,s=window.innerWidth,i=window.innerHeight;const l=s<768?75:200,u=.1,h=["255, 255, 255","50, 150, 255","255, 80, 80","80, 255, 120","255, 215, 0"];e.width=s,e.height=i;const g=[];for(let B=0;B<l;B++)g.push({x:Math.random()*s,y:Math.random()*i,z:Math.random()*s,size:Math.random()*2,color:h[Math.floor(Math.random()*h.length)],alpha:Math.random()});const p=()=>{s=window.innerWidth,i=window.innerHeight,e.width=s,e.height=i};window.addEventListener("resize",p);const x=()=>{t.clearRect(0,0,s,i),g.forEach(B=>{Math.random()>.99&&(B.alpha=Math.random()),B.y-=u*(B.size*.5),B.y<0&&(B.y=i,B.x=Math.random()*s),t.beginPath(),t.fillStyle=`rgba(${B.color}, ${B.alpha})`,t.arc(B.x,B.y,B.size,0,Math.PI*2),t.fill()}),r=requestAnimationFrame(x)};return x(),()=>{window.removeEventListener("resize",p),cancelAnimationFrame(r)}},[]),o.jsx("canvas",{ref:n,className:"fixed inset-0 pointer-events-none z-0",style:{opacity:1}})},XG=({onBack:n})=>{const e=[{icon:_w,title:" ",desc:"              ."},{icon:x8,title:" 24/7",desc:"                 ."},{icon:bf,title:"  (XP)",desc:"  !    (XP)         ."},{icon:ka,title:" ",desc:"           ."}];return o.jsxs("div",{className:"min-h-screen bg-gray-950 relative overflow-hidden text-gray-100",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx(i5,{}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/90 via-gray-900/60 to-gray-950 pointer-events-none"}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"})]}),o.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[o.jsx("div",{className:"border-b border-white/10 py-6 px-4 sticky top-0 z-30 backdrop-blur-md bg-gray-950/30",children:o.jsxs("div",{className:"max-w-3xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-300 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:n,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:" "})]})}),o.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12 pb-20",children:[o.jsxs("div",{className:"text-center mb-16 animate-fade-in-up",children:[o.jsxs("div",{className:"inline-flex items-center justify-center p-5 bg-emerald-500/10 backdrop-blur-xl rounded-full mb-8 border border-emerald-500/30 shadow-[0_0_40px_rgba(16,185,129,0.3)] relative group",children:[o.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full blur-xl group-hover:blur-2xl transition-all"}),o.jsx(mu,{className:"w-12 h-12 text-emerald-400 fill-emerald-400 animate-pulse relative z-10"})]}),o.jsxs("h1",{className:"text-5xl md:text-6xl font-black text-white mb-6 leading-tight drop-shadow-2xl",children:["   ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-300",children:""}),""]}),o.jsx("p",{className:"text-xl text-gray-200 leading-relaxed max-w-2xl mx-auto font-medium drop-shadow-md",children:"                     ."})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-[2.5rem] p-8 md:p-10 shadow-2xl border border-white/10 mb-16 relative overflow-hidden group hover:bg-white/10 transition-all duration-500",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-600/20 rounded-full blur-[80px] -mr-16 -mt-16 pointer-events-none"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-purple-600/20 rounded-full blur-[80px] -ml-16 -mb-16 pointer-events-none"}),o.jsxs("h2",{className:"text-3xl font-black text-white mb-8 flex items-center gap-3 relative z-10",children:[o.jsx("div",{className:"p-2 bg-blue-500/20 rounded-xl border border-blue-500/30",children:o.jsx(V1,{className:"w-8 h-8 text-blue-400"})})," "]}),o.jsxs("div",{className:"space-y-6 text-gray-200 font-medium leading-loose text-lg relative z-10",children:[o.jsx("p",{children:'  ""         .                    .'}),o.jsxs("p",{children:["       ",o.jsx("span",{className:"text-white font-bold border-b-2 border-emerald-500 shadow-[0_4px_20px_-5px_rgba(16,185,129,0.5)]",children:"  "}),".                ."]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-16",children:e.map((t,r)=>o.jsxs("div",{className:"bg-gray-900/40 backdrop-blur-md p-6 rounded-3xl border border-white/10 flex flex-col gap-4 hover:border-emerald-500/40 hover:bg-gray-900/60 transition-all group hover:-translate-y-2 shadow-lg",children:[o.jsx("div",{className:"bg-gray-800/50 p-4 rounded-2xl w-fit group-hover:bg-emerald-900/30 transition-colors border border-white/5 group-hover:border-emerald-500/20",children:o.jsx(t.icon,{className:"w-8 h-8 text-gray-300 group-hover:text-emerald-400 transition-colors"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-emerald-300 transition-colors",children:t.title}),o.jsx("p",{className:"text-gray-400 text-sm leading-relaxed group-hover:text-gray-300",children:t.desc})]})]},r))}),o.jsxs("div",{className:"bg-gradient-to-br from-emerald-900/40 to-gray-900/40 backdrop-blur-md rounded-[2.5rem] p-8 md:p-10 border border-emerald-500/20 text-center shadow-2xl relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),o.jsx("h2",{className:"text-3xl font-black text-white mb-8 relative z-10",children:"  "}),o.jsxs("div",{className:"flex flex-col gap-4 relative z-10",children:[o.jsxs("div",{className:"bg-gray-950/40 p-5 rounded-2xl flex items-center gap-4 border border-white/10 hover:border-emerald-500/30 transition-colors",children:[o.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-full shrink-0",children:o.jsx(es,{className:"w-6 h-6 text-emerald-400"})}),o.jsx("span",{className:"text-gray-200 font-bold text-right text-lg",children:"      ."})]}),o.jsxs("div",{className:"bg-gray-950/40 p-5 rounded-2xl flex items-center gap-4 border border-white/10 hover:border-emerald-500/30 transition-colors",children:[o.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-full shrink-0",children:o.jsx(es,{className:"w-6 h-6 text-emerald-400"})}),o.jsx("span",{className:"text-gray-200 font-bold text-right text-lg",children:" ."})]}),o.jsxs("div",{className:"bg-gray-950/40 p-5 rounded-2xl flex items-center gap-4 border border-white/10 hover:border-emerald-500/30 transition-colors",children:[o.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-full shrink-0",children:o.jsx(es,{className:"w-6 h-6 text-emerald-400"})}),o.jsx("span",{className:"text-gray-200 font-bold text-right text-lg",children:"       ."})]})]})]}),o.jsx("div",{className:"mt-16 text-center",children:o.jsxs("p",{className:"text-gray-400 text-sm font-medium bg-gray-900/50 inline-block px-6 py-3 rounded-full border border-white/5 backdrop-blur-sm",children:["  ",o.jsx("span",{className:"text-emerald-400 font-black",children:"   "})]})})]})]})]})},YG=({onNavigate:n})=>o.jsxs("div",{className:"relative w-full py-20 overflow-hidden bg-gray-950 border-t border-white/5 border-b border-white/5",children:[o.jsx("div",{className:"absolute inset-0 z-0 opacity-100",children:o.jsx(i5,{})}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-950 via-transparent to-gray-950 z-0 pointer-events-none"}),o.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto px-6 text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-white/5 rounded-full mb-6 shadow-[0_0_30px_rgba(255,255,255,0.1)] border border-white/10 animate-pulse",children:o.jsx(mu,{className:"w-8 h-8 text-emerald-400 fill-emerald-400"})}),o.jsxs("h2",{className:"text-4xl md:text-6xl font-black text-white mb-6 drop-shadow-2xl leading-tight",children:["   ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300",children:""}),""]}),o.jsx("p",{className:"text-gray-300 text-xl md:text-2xl max-w-3xl mx-auto mb-10 leading-relaxed font-medium drop-shadow-md",children:"                ."}),o.jsxs("button",{onClick:n,className:"inline-flex items-center gap-3 bg-emerald-600 hover:bg-emerald-500 text-white text-lg font-bold px-10 py-4 rounded-2xl shadow-lg hover:shadow-[0_0_25px_rgba(16,185,129,0.5)] transition-all transform hover:-translate-y-1 border-b-4 border-emerald-800 hover:border-emerald-700 active:border-b-0 active:translate-y-1",children:[o.jsx("span",{children:" "}),o.jsx(gn,{className:"w-5 h-5"})]})]})]}),$G=({onBack:n,onNavigate:e})=>{const{user:t}=CA(),[r,s]=fe.useState("INBOX"),[i,l]=fe.useState([]),[u,h]=fe.useState(""),[g,p]=fe.useState(""),[x,B]=fe.useState(""),[C,U]=fe.useState(!1),[E,P]=fe.useState(!1),[F,H]=fe.useState(""),[K,Ae]=fe.useState([]),[ae,se]=fe.useState(!1);fe.useEffect(()=>{r==="COMPOSE"?j():S()},[r,t]);const j=async()=>{P(!0);try{const J=ha(ln(er,"users"),fa("role","==","student")),te=(await _i(J)).docs.map(ce=>({id:ce.id,...ce.data()}));l(te)}catch(J){console.error("Error fetching students",J)}finally{P(!1)}},S=async(J=!1)=>{if(!t)return;const pe=`etqan_inbox_${t.uid}`,te=365*24*60*60*1e3,ce=Date.now();if(!J){const ne=localStorage.getItem(pe);if(ne)try{const{data:he,timestamp:we}=JSON.parse(ne);if(ce-we<te){Ae(he);return}}catch(he){console.error(he)}}se(!0);try{const ne=ha(ln(er,"contact_messages"),fa("teacherId","==",t.uid)),we=(await _i(ne)).docs.map(Y=>({id:Y.id,...Y.data(),createdAt:Y.data().createdAt?{seconds:Y.data().createdAt.seconds}:null}));we.sort((Y,Q)=>{var re,ue;const M=((re=Y.createdAt)==null?void 0:re.seconds)||0;return(((ue=Q.createdAt)==null?void 0:ue.seconds)||0)-M}),Ae(we),localStorage.setItem(pe,JSON.stringify({timestamp:ce,data:we}))}catch(ne){console.error("Error fetching inbox",ne)}finally{se(!1)}},O=async()=>{if(!g||!x){alert("    ");return}if(!u){alert("  ");return}U(!0);try{await so(ln(er,"notifications"),{recipientId:u,title:g,message:x,type:"message",senderName:(t==null?void 0:t.displayName)||"",senderId:t==null?void 0:t.uid,createdAt:Ci(),read:!1}),alert("   !"),p(""),B(""),h(""),H("")}catch(J){console.error("Error sending message",J),alert("   ")}finally{U(!1)}},q=async J=>{if(window.confirm("      "))try{await $g(Ys(er,"contact_messages",J));const pe=K.filter(ne=>ne.id!==J);Ae(pe);const te=`etqan_inbox_${t==null?void 0:t.uid}`,ce=localStorage.getItem(te);if(ce){const ne=JSON.parse(ce);ne.data=pe,localStorage.setItem(te,JSON.stringify(ne))}}catch(pe){console.error(pe)}},I=async J=>{try{await pf(Ys(er,"contact_messages",J),{read:!0});const pe=K.map(ne=>ne.id===J?{...ne,read:!0}:ne);Ae(pe);const te=`etqan_inbox_${t==null?void 0:t.uid}`,ce=localStorage.getItem(te);if(ce){const ne=JSON.parse(ce);ne.data=pe,localStorage.setItem(te,JSON.stringify(ne))}}catch(pe){console.error(pe)}},k=i.filter(J=>{const pe=J.displayName?J.displayName.toLowerCase():"",te=J.email?J.email.toLowerCase():"",ce=F.toLowerCase();return pe.includes(ce)||te.includes(ce)}),D=J=>J?(J.toDate?J.toDate():new Date(J.seconds*1e3)).toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",",""):"";return o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-6 px-4 sticky top-0 z-30 shadow-sm",children:o.jsxs("div",{className:"max-w-5xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:()=>e("PROFILE"),className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-300 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:()=>e("PROFILE"),className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:""})]})}),o.jsx("div",{className:"max-w-5xl mx-auto px-4 py-8",children:o.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-xl border border-gray-700 overflow-hidden min-h-[600px] flex flex-col md:flex-row",children:[o.jsxs("div",{className:"w-full md:w-64 bg-gray-800/50 border-l border-gray-700 p-4 flex flex-col gap-2",children:[o.jsxs("button",{onClick:()=>s("INBOX"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all ${r==="INBOX"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[o.jsx(qo,{className:"w-5 h-5"})," ",K.some(J=>!J.read)&&o.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})]}),o.jsxs("button",{onClick:()=>s("COMPOSE"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all ${r==="COMPOSE"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[o.jsx(Vl,{className:"w-5 h-5"})," "]})]}),o.jsx("div",{className:"flex-1 p-6 md:p-8 overflow-y-auto",children:r==="COMPOSE"?o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("h2",{className:"text-2xl font-black text-white mb-6 flex items-center gap-2",children:[o.jsx(Vl,{className:"w-6 h-6 text-emerald-400"}),"  "]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:":"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex gap-4",children:o.jsxs("label",{className:`flex items-center gap-2 cursor-pointer bg-gray-800 px-4 py-3 rounded-xl border transition-colors flex-1 ${u==="all"?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-emerald-500"}`,children:[o.jsx("input",{type:"radio",name:"recipient",checked:u==="all",onChange:()=>h("all"),className:"w-4 h-4 accent-emerald-500"}),o.jsx("span",{className:"font-bold text-sm text-white",children:" "}),o.jsx(pu,{className:"w-4 h-4 text-emerald-400 mr-auto"})]})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:o.jsx(Ni,{className:"h-4 w-4 text-gray-500"})}),o.jsx("input",{type:"text",placeholder:"    ...",value:F,onChange:J=>{H(J.target.value),u==="all"&&h("")},className:"block w-full pr-10 pl-3 py-3 border border-gray-700 rounded-xl leading-5 bg-gray-800 text-gray-300 placeholder-gray-500 focus:outline-none focus:bg-gray-900 focus:border-emerald-500 transition duration-150 ease-in-out sm:text-sm font-bold"})]}),F&&o.jsx("div",{className:"max-h-40 overflow-y-auto bg-gray-800 border border-gray-700 rounded-xl custom-scrollbar",children:k.map(J=>o.jsxs("div",{onClick:()=>{h(J.id),H(J.displayName)},className:`p-3 cursor-pointer flex items-center gap-3 hover:bg-gray-700 transition-colors ${u===J.id?"bg-emerald-900/20":""}`,children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center",children:J.avatar?o.jsx("img",{src:J.avatar,className:"w-full h-full rounded-full object-cover"}):o.jsx(Wa,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-bold text-white",children:J.displayName}),o.jsx("div",{className:"text-xs text-gray-400",children:J.email})]}),u===J.id&&o.jsx(es,{className:"w-4 h-4 text-emerald-500 mr-auto"})]},J.id))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:" "}),o.jsx("input",{type:"text",value:g,onChange:J=>p(J.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-700 bg-gray-800 text-white focus:border-emerald-500 outline-none font-bold",placeholder:":    "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:" "}),o.jsx("textarea",{value:x,onChange:J=>B(J.target.value),className:"w-full h-32 px-4 py-3 rounded-xl border border-gray-700 bg-gray-800 text-white focus:border-emerald-500 outline-none resize-none leading-relaxed",placeholder:"  ..."})]}),o.jsxs("button",{onClick:O,disabled:C,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2",children:[C?o.jsx(Ir,{className:"w-5 h-5 animate-spin"}):o.jsx(Vl,{className:"w-5 h-5"})," "]})]})]}):o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-2",children:[o.jsx(qo,{className:"w-6 h-6 text-emerald-400"})," "]}),o.jsx("button",{onClick:()=>S(!0),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:" ( )",children:o.jsx(Tg,{className:"w-5 h-5 text-gray-400"})})]}),ae?o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsx(Ir,{className:"w-8 h-8 animate-spin text-emerald-500"})}):K.length===0?o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[o.jsx(qo,{className:"w-16 h-16 mb-4 opacity-20"}),o.jsx("p",{children:"   "})]}):o.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto custom-scrollbar pr-2",children:K.map(J=>o.jsxs("div",{className:`bg-gray-800 p-5 rounded-2xl border transition-all hover:border-emerald-500/30 relative overflow-hidden ${J.read?"border-gray-700":"border-emerald-500/50 bg-emerald-900/5"}`,children:[o.jsxs("div",{className:"flex flex-row items-start gap-4 relative z-10",children:[o.jsx("div",{className:`w-10 h-10 rounded-full shrink-0 flex items-center justify-center text-base font-bold shadow-md border-2 ${J.read?"bg-gray-700 border-gray-600 text-gray-400":"bg-emerald-600 border-emerald-500 text-white"}`,children:J.studentName?J.studentName.charAt(0).toUpperCase():o.jsx(Wa,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("div",{children:[o.jsx("h4",{className:`font-bold text-base leading-tight ${J.read?"text-gray-300":"text-white"}`,children:J.studentName||""}),o.jsx("p",{className:"text-xs text-gray-500 font-mono mt-0.5",children:J.studentEmail})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-gray-900/50 px-3 py-1 rounded-full border border-gray-700/50",children:[o.jsx(ig,{className:"w-3 h-3 text-gray-500"}),o.jsx("span",{className:"text-[10px] font-bold text-gray-400 dir-ltr",children:D(J.createdAt)})]})]}),o.jsx("div",{className:"p-3 bg-gray-900/50 rounded-xl border border-gray-700/30 text-sm text-gray-300 leading-relaxed whitespace-pre-wrap",children:J.message}),o.jsxs("div",{className:"flex justify-end gap-3 mt-3",children:[!J.read&&o.jsxs("button",{onClick:()=>I(J.id),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 text-xs font-bold transition-colors",children:[o.jsx(es,{className:"w-3.5 h-3.5"})," "]}),o.jsxs("button",{onClick:()=>q(J.id),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-red-500/10 text-red-400 hover:bg-red-500/20 text-xs font-bold transition-colors",children:[o.jsx(Xl,{className:"w-3.5 h-3.5"}),""]})]})]}),o.jsx("div",{className:"flex flex-col items-center justify-center gap-1 self-center opacity-30",children:o.jsx("div",{className:"w-8 h-10 border-2 border-gray-500 rounded-lg flex items-center justify-center",children:o.jsx(qo,{className:"w-4 h-4 text-gray-500"})})})]}),!J.read&&o.jsx("div",{className:"absolute top-0 right-0 w-1.5 h-full bg-emerald-500"})]},J.id))})]})})]})})]})},JG=({onBack:n,onNavigate:e})=>{const[t,r]=fe.useState([]),[s,i]=fe.useState(!0),[l,u]=fe.useState("ALL");fe.useEffect(()=>{h()},[]);const h=async()=>{i(!0);const B="etqan_teacher_reviews_v1",C=365*24*60*60*1e3,U=Date.now(),E=localStorage.getItem(B);if(E)try{const{data:P,timestamp:F}=JSON.parse(E);if(U-F<C){r(P),i(!1);return}}catch(P){console.error("Cache parsing error",P)}try{const P=ha(ln(er,"reviews"),jf("createdAt","desc"),Uf(50)),H=(await _i(P)).docs.map(K=>({id:K.id,...K.data(),createdAt:K.data().createdAt?{seconds:K.data().createdAt.seconds}:null}));r(H),localStorage.setItem(B,JSON.stringify({timestamp:U,data:H}))}catch(P){console.error("Error fetching reviews:",P)}finally{i(!1)}},g=t.filter(B=>l==="ALL"?!0:l==="QUIZ"?B.type==="quiz":l==="EXPLANATION"?B.type==="explanation":!0),p=B=>B?(B.toDate?B.toDate():new Date(B.seconds*1e3)).toLocaleDateString("ar-EG"):"",x=t.length>0?(t.reduce((B,C)=>B+C.rating,0)/t.length).toFixed(1):"0.0";return o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-6 px-4 sticky top-0 z-30 shadow-sm",children:o.jsxs("div",{className:"max-w-5xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:()=>e("PROFILE"),className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-300 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:()=>e("PROFILE"),className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:" "})]})}),o.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-xl border border-gray-700 p-8 mb-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-900/20 rounded-2xl flex items-center justify-center border border-yellow-500/20 text-yellow-400",children:o.jsx(mu,{className:"w-8 h-8 fill-yellow-400"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-black text-white",children:x}),o.jsx("p",{className:"text-gray-400 text-sm font-bold",children:"  "})]})]}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"text-center px-6 py-3 bg-gray-800 rounded-xl border border-gray-700",children:[o.jsx("span",{className:"block text-2xl font-bold text-white",children:t.length}),o.jsx("span",{className:"text-xs text-gray-400",children:" "})]})})]}),o.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[o.jsx("button",{onClick:()=>u("ALL"),className:`px-4 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${l==="ALL"?"bg-white text-gray-900":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:""}),o.jsx("button",{onClick:()=>u("QUIZ"),className:`px-4 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${l==="QUIZ"?"bg-blue-500 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:" "}),o.jsx("button",{onClick:()=>u("EXPLANATION"),className:`px-4 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${l==="EXPLANATION"?"bg-purple-500 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:" "})]}),o.jsx("div",{className:"bg-gray-900 rounded-3xl border border-gray-700 min-h-[400px] p-6 relative",children:s?o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(Ir,{className:"w-10 h-10 animate-spin text-emerald-500"})}):g.length===0?o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-500",children:[o.jsx(P1,{className:"w-16 h-16 mb-4 opacity-20"}),o.jsx("p",{className:"text-lg font-bold",children:"     "})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(B=>o.jsxs("div",{className:"bg-gray-800 p-5 rounded-2xl border border-gray-700 hover:border-gray-600 transition-all",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-bold text-white text-lg flex items-center gap-2",children:[B.studentName,o.jsx("span",{className:"text-xs font-normal text-gray-500 bg-gray-900 px-2 py-0.5 rounded-md border border-gray-700",children:p(B.createdAt)})]}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[[...Array(5)].map((C,U)=>o.jsx(mu,{className:`w-3 h-3 ${U<Math.round(B.rating/2)?"text-yellow-400 fill-yellow-400":"text-gray-600"}`},U)),o.jsxs("span",{className:"text-xs text-yellow-500 font-bold mr-1",children:["(",B.rating,"/10)"]})]})]}),o.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-bold ${B.type==="quiz"?"bg-blue-900/30 text-blue-300 border border-blue-900":"bg-purple-900/30 text-purple-300 border border-purple-900"}`,children:B.type==="quiz"?"":""})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:" :"}),o.jsx("p",{className:"text-emerald-400 font-bold text-sm line-clamp-1",children:B.targetTitle})]}),B.comment?o.jsx("div",{className:"bg-gray-900/50 p-3 rounded-xl border border-gray-700/50",children:o.jsxs("p",{className:"text-gray-300 text-sm leading-relaxed",children:['"',B.comment,'"']})}):o.jsx("p",{className:"text-gray-600 text-xs italic",children:"   "})]},B.id))})})]})]})},WG=({onNavigate:n})=>o.jsxs("section",{className:"py-24 relative overflow-hidden bg-gray-950 border-t border-white/5",children:[o.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[o.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-emerald-900/10 rounded-full blur-[100px]"}),o.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-blue-900/10 rounded-full blur-[100px]"})]}),o.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative z-10 text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-gradient-to-br from-gray-800 to-gray-900 rounded-3xl mb-8 border border-white/10 shadow-2xl transform rotate-3 hover:rotate-0 transition-transform duration-500",children:o.jsx(gu,{className:"w-10 h-10 text-emerald-400"})}),o.jsx("h2",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight tracking-tight",children:"   "}),o.jsx("p",{className:"text-xl text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed font-medium",children:"       .         ."}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-8",children:[o.jsxs("div",{className:"flex items-center -space-x-4 space-x-reverse",children:[o.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-gray-950 overflow-hidden bg-gray-800 shadow-lg relative z-20",children:o.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:"Teacher",className:"w-full h-full object-cover"})}),o.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-gray-950 overflow-hidden bg-gray-800 shadow-lg relative z-10",children:o.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:"Teacher",className:"w-full h-full object-cover"})}),o.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-gray-950 bg-gray-800 flex items-center justify-center text-xs font-bold text-gray-400 shadow-lg relative z-0",children:"+2"})]}),o.jsxs("button",{onClick:()=>n("CONTACT_TEACHER"),className:"group relative bg-white text-gray-900 px-8 py-4 rounded-2xl font-black text-lg hover:bg-emerald-50 transition-all shadow-[0_0_30px_rgba(255,255,255,0.1)] hover:shadow-[0_0_40px_rgba(16,185,129,0.3)] flex items-center gap-3 transform hover:-translate-y-1",children:["  ",o.jsx(gn,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform text-emerald-600"})]})]})]})]}),Z2=()=>o.jsxs("div",{className:"relative w-full h-16 flex items-center justify-center my-8 overflow-hidden",children:[o.jsx("div",{className:"absolute w-full h-px bg-gray-800"}),o.jsx("div",{className:"absolute w-3/4 h-px bg-gradient-to-r from-transparent via-emerald-500 to-transparent shadow-[0_0_20px_rgba(16,185,129,1)]"}),o.jsx("div",{className:"relative bg-gray-950 p-2 rounded-full border border-emerald-500/30 shadow-[0_0_15px_rgba(16,185,129,0.4)]",children:o.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"})})]}),ZG=()=>{const n=[{icon:MF,title:" ",desc:"     .",color:"text-blue-400",bg:"bg-blue-900/20"},{icon:_w,title:" ",desc:"     .",color:"text-purple-400",bg:"bg-purple-900/20"},{icon:bf,title:" ",desc:"    .",color:"text-yellow-400",bg:"bg-yellow-900/20"},{icon:$h,title:" ",desc:"      .",color:"text-emerald-400",bg:"bg-emerald-900/20"}];return o.jsxs("div",{className:"py-12 px-4 relative",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:" "}),o.jsx("p",{className:"text-gray-400 text-sm",children:"    "})]}),o.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[o.jsx("div",{className:"absolute right-8 md:right-1/2 top-0 bottom-0 w-1 bg-gradient-to-b from-emerald-500/10 via-emerald-500 to-emerald-500/10 rounded-full"}),o.jsx("div",{className:"space-y-12",children:n.map((e,t)=>o.jsxs("div",{className:"relative flex items-center gap-6 group",children:[o.jsx("div",{className:`relative z-10 w-16 h-16 rounded-2xl flex items-center justify-center shrink-0 border-4 border-gray-950 shadow-xl ${e.bg} transition-transform group-hover:scale-110 duration-300`,children:o.jsx(e.icon,{className:`w-8 h-8 ${e.color}`})}),o.jsxs("div",{className:"flex-1 bg-gray-900/60 backdrop-blur-sm p-5 rounded-2xl border border-white/5 shadow-lg group-hover:border-emerald-500/30 transition-all group-hover:-translate-x-2",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:e.title}),o.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:e.desc})]})]},t))})]})]})},eX=()=>o.jsxs("div",{className:"py-12 px-4",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:" "}),o.jsx("p",{className:"text-gray-400 text-sm",children:"    "})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 p-6 rounded-[2rem] border border-white/5 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-transparent"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"w-12 h-12 bg-emerald-900/30 rounded-xl flex items-center justify-center mb-4 text-emerald-400 group-hover:scale-110 transition-transform",children:o.jsx(UE,{className:"w-6 h-6"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:" "}),o.jsx("p",{className:"text-gray-400 text-sm",children:"         ."})]}),o.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-emerald-500/10 rounded-full blur-3xl group-hover:bg-emerald-500/20 transition-colors"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 p-6 rounded-[2rem] border border-white/5 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-full h-1 bg-gradient-to-l from-blue-500 to-transparent"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-900/30 rounded-xl flex items-center justify-center mb-4 text-blue-400 group-hover:scale-110 transition-transform",children:o.jsx(jg,{className:"w-6 h-6"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:" "}),o.jsx("p",{className:"text-gray-400 text-sm",children:"         ."})]}),o.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl group-hover:bg-blue-500/20 transition-colors"})]}),o.jsxs("div",{className:"md:col-span-2 bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 p-6 rounded-[2rem] border border-white/5 relative overflow-hidden group text-center md:text-right flex flex-col md:flex-row items-center gap-6",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-900/30 rounded-full flex items-center justify-center text-yellow-400 shrink-0 border border-yellow-500/20 shadow-lg shadow-yellow-900/20 animate-pulse",children:o.jsx(V1,{className:"w-8 h-8"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"  "}),o.jsx("p",{className:"text-gray-400 text-sm",children:"          ."})]})]})]})]}),tX=()=>{const[n,e]=fe.useState(null),t=[{q:"   ",a:"        ."},{q:"    ",a:'   "  "       .'},{q:"    ",a:'!     "Mobile First"     .'},{q:"  ",a:"           100%."}];return o.jsxs("div",{className:"py-12 px-4 mb-12",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:" "}),o.jsx("p",{className:"text-gray-400 text-sm",children:"    "})]}),o.jsx("div",{className:"max-w-2xl mx-auto space-y-3",children:t.map((r,s)=>o.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl overflow-hidden transition-all duration-300",children:[o.jsxs("button",{onClick:()=>e(n===s?null:s),className:"w-full p-5 flex items-center justify-between text-right bg-gray-900 hover:bg-gray-800/50 transition-colors",children:[o.jsxs("span",{className:"font-bold text-white text-sm md:text-base flex items-center gap-3",children:[o.jsx(ZA,{className:"w-5 h-5 text-emerald-500"}),r.q]}),o.jsx(fu,{className:`w-5 h-5 text-gray-500 transition-transform duration-300 ${n===s?"rotate-180 text-emerald-400":""}`})]}),o.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${n===s?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:o.jsx("div",{className:"p-5 pt-0 text-gray-400 text-sm leading-relaxed border-t border-gray-800/50",children:r.a})})]},s))}),o.jsx("div",{className:"mt-12 flex justify-center",children:o.jsxs("div",{className:"bg-gray-800/50 px-6 py-3 rounded-full flex items-center gap-3 border border-white/5",children:[o.jsx(nF,{className:"w-5 h-5 text-yellow-500"}),o.jsx("span",{className:"text-gray-300 text-xs font-bold",children:"     "})]})})]})},rX=()=>o.jsxs("div",{className:"relative z-10 w-full bg-gray-950",children:[o.jsx(Z2,{}),o.jsx(ZG,{}),o.jsx(Z2,{}),o.jsx(eX,{}),o.jsx(Z2,{}),o.jsx(tX,{})]}),yE=({className:n})=>o.jsx("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),nX=({className:n})=>o.jsx("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),sX=({onNavigate:n})=>{const[e,t]=fe.useState(!1),[r,s]=fe.useState(!1),i=window.location.origin,l="   -   ",u=()=>{const B=`https://t.me/share/url?url=${encodeURIComponent(i)}&text=${encodeURIComponent(l)}`;window.open(B,"_blank"),t(!1)},h=()=>{const B=`https://wa.me/?text=${encodeURIComponent(l+" "+i)}`;window.open(B,"_blank"),t(!1)},g=()=>{const B=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(i)}`;window.open(B,"_blank"),t(!1)},p=()=>{navigator.clipboard.writeText(i),s(!0),setTimeout(()=>s(!1),2e3)},x=async()=>{if(navigator.share)try{await navigator.share({title:" ",text:l,url:i}),t(!1)}catch(B){console.log("Error sharing",B)}else p()};return o.jsxs("footer",{className:"relative bg-gray-950 border-t border-white/5 py-4 md:py-6",children:[o.jsxs("div",{className:"w-full px-6 flex flex-col md:flex-row items-center justify-between gap-4 md:gap-8",children:[o.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[o.jsx("div",{className:"w-8 h-8 bg-gray-900 rounded-lg flex items-center justify-center border border-emerald-500/30 overflow-hidden",children:o.jsx("img",{src:"https://lh3.googleusercontent.com/d/13x8Gorb7y4H2qcQ1LVJtHY9-RoUhxg2z",alt:"Logo",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"text-lg font-bold text-white tracking-tight block leading-none",children:""}),o.jsx("span",{className:"text-[10px] text-gray-500",children:" "})]})]}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6",children:[o.jsxs("button",{onClick:()=>n&&n("HOME"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[o.jsx(Ag,{className:"w-3 h-3"})," "]}),o.jsxs("button",{onClick:()=>n&&n("QUIZZES"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[o.jsx(da,{className:"w-3 h-3"})," "]}),o.jsxs("button",{onClick:()=>n&&n("LESSONS"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[o.jsx(ka,{className:"w-3 h-3"})," "]}),o.jsxs("button",{onClick:()=>n&&n("LESSONS_EXPLANATIONS"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[o.jsx(fd,{className:"w-3 h-3"})," "]}),o.jsxs("button",{onClick:()=>n&&n("CONTACT_TEACHER"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[o.jsx(gu,{className:"w-3 h-3"}),"  "]})]}),o.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[o.jsx("div",{className:"h-4 w-px bg-gray-800 mx-1 hidden md:block"}),o.jsx("a",{href:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-[#1877F2] transition-colors",children:o.jsx(Xh,{className:"w-4 h-4"})}),o.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-[#25D366] transition-colors",children:o.jsx(yE,{className:"w-4 h-4"})}),o.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 bg-emerald-600/10 text-emerald-500 px-3 py-1.5 rounded-lg hover:bg-emerald-600/20 transition-colors text-[10px] font-bold border border-emerald-500/20 ml-2",children:[o.jsx(DB,{className:"w-3 h-3"}),""]})]})]}),o.jsx("div",{className:"text-center mt-4 border-t border-gray-900 pt-2",children:o.jsxs("p",{className:"text-[9px] text-gray-600 font-mono dir-ltr",children:[" ",new Date().getFullYear()," Etqan. By Mr. Yazan Abu Kahil"]})}),e&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",onClick:()=>t(!1),children:o.jsxs("div",{className:"w-full max-w-xs bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl p-4 flex flex-col gap-4 animate-fade-in-up relative",onClick:B=>B.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-800 pb-2",children:[o.jsxs("span",{className:"text-white font-bold text-sm flex items-center gap-2",children:[o.jsx(DB,{className:"w-4 h-4 text-emerald-500"})," "]}),o.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-white transition-colors",children:o.jsx(Xs,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[o.jsxs("button",{onClick:h,className:"flex flex-col items-center gap-1 group",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#25D366]/10 flex items-center justify-center group-hover:bg-[#25D366] transition-all border border-[#25D366]/20",children:o.jsx(yE,{className:"w-5 h-5 text-[#25D366] group-hover:text-white"})}),o.jsx("span",{className:"text-[9px] text-gray-400",children:""})]}),o.jsxs("button",{onClick:u,className:"flex flex-col items-center gap-1 group",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#0088cc]/10 flex items-center justify-center group-hover:bg-[#0088cc] transition-all border border-[#0088cc]/20",children:o.jsx(nX,{className:"w-5 h-5 text-[#0088cc] group-hover:text-white"})}),o.jsx("span",{className:"text-[9px] text-gray-400",children:""})]}),o.jsxs("button",{onClick:g,className:"flex flex-col items-center gap-1 group",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1877F2]/10 flex items-center justify-center group-hover:bg-[#1877F2] transition-all border border-[#1877F2]/20",children:o.jsx(Xh,{className:"w-5 h-5 text-[#1877F2] group-hover:text-white"})}),o.jsx("span",{className:"text-[9px] text-gray-400",children:""})]}),o.jsxs("button",{onClick:x,className:"flex flex-col items-center gap-1 group",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-800 flex items-center justify-center group-hover:bg-gray-700 transition-all border border-gray-700",children:o.jsx(lF,{className:"w-5 h-5 text-gray-300 group-hover:text-white"})}),o.jsx("span",{className:"text-[9px] text-gray-400",children:""})]})]}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-2 flex items-center border border-gray-700",children:[o.jsx("div",{className:"flex-1 px-2 text-[10px] text-gray-400 font-mono truncate dir-ltr",children:i}),o.jsx("button",{onClick:p,className:`p-1.5 rounded-md transition-all ${r?"bg-emerald-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:r?o.jsx(NE,{className:"w-3 h-3"}):o.jsx(Ew,{className:"w-3 h-3"})})]})]})})]})},aX=({onBack:n})=>{const e=()=>{window.open(`https://wa.me/972568401548?text=${encodeURIComponent("        .")}`,"_blank")};return o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in flex flex-col transition-colors duration-300 text-gray-100",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-6 px-4 sticky top-0 z-30 shadow-sm backdrop-blur-md bg-opacity-90",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-300 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:n,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsxs("span",{className:"font-bold text-white flex items-center gap-2",children:[o.jsx(ys,{className:"w-4 h-4 text-amber-400"})," Premium"]})]})}),o.jsxs("div",{className:"relative py-20 px-4 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full bg-gradient-to-b from-amber-900/10 to-gray-950 pointer-events-none"}),o.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto text-center",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 bg-amber-500/10 border border-amber-500/30 text-amber-400 px-6 py-2 rounded-full text-sm font-bold mb-8 animate-fade-in-up shadow-[0_0_20px_rgba(245,158,11,0.2)]",children:[o.jsx(QE,{className:"w-4 h-4"}),o.jsx("span",{children:"  "})]}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white mb-6 drop-shadow-2xl tracking-tight leading-tight",children:["  ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-300 to-orange-500",children:""})]}),o.jsx("p",{className:"text-gray-300 text-lg md:text-2xl max-w-2xl mx-auto leading-relaxed",children:"             ."})]})]}),o.jsx("div",{className:"max-w-xl mx-auto px-4 pb-24 relative z-10 w-full",children:o.jsxs("div",{className:"bg-gray-900 rounded-[3rem] p-1 border-2 border-amber-500/30 shadow-[0_0_50px_rgba(245,158,11,0.15)] relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-amber-900/20 to-transparent pointer-events-none"}),o.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-xl rounded-[2.8rem] p-8 md:p-12 relative h-full flex flex-col",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-amber-400 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl shadow-amber-500/30 animate-pulse-slow",children:o.jsx(ys,{className:"w-12 h-12 text-white fill-white"})}),o.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:" Premium"}),o.jsx("p",{className:"text-amber-400/80 font-bold text-sm uppercase tracking-widest",children:"   "})]}),o.jsxs("div",{className:"space-y-5 mb-12 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-4 bg-gray-800/50 p-4 rounded-2xl border border-gray-700/50",children:[o.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-full text-emerald-400",children:o.jsx(es,{className:"w-6 h-6"})}),o.jsxs("div",{className:"text-right",children:[o.jsx("h4",{className:"font-bold text-white text-lg",children:"  "}),o.jsx("p",{className:"text-gray-400 text-sm",children:"     "})]})]}),o.jsxs("div",{className:"flex items-center gap-4 bg-gray-800/50 p-4 rounded-2xl border border-gray-700/50",children:[o.jsx("div",{className:"bg-blue-500/20 p-2 rounded-full text-blue-400",children:o.jsx(fd,{className:"w-6 h-6"})}),o.jsxs("div",{className:"text-right",children:[o.jsx("h4",{className:"font-bold text-white text-lg",children:" "}),o.jsx("p",{className:"text-gray-400 text-sm",children:"     (VIP)"})]})]}),o.jsxs("div",{className:"flex items-center gap-4 bg-gray-800/50 p-4 rounded-2xl border border-gray-700/50",children:[o.jsx("div",{className:"bg-purple-500/20 p-2 rounded-full text-purple-400",children:o.jsx(bf,{className:"w-6 h-6"})}),o.jsxs("div",{className:"text-right",children:[o.jsx("h4",{className:"font-bold text-white text-lg",children:" "}),o.jsx("p",{className:"text-gray-400 text-sm",children:"     "})]})]})]}),o.jsxs("button",{onClick:e,className:"w-full py-5 rounded-2xl font-black text-xl text-white shadow-xl flex items-center justify-center gap-3 transition-all transform hover:-translate-y-1 active:scale-95 bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 shadow-amber-900/30",children:[o.jsx(gu,{className:"w-6 h-6"}),"   "]}),o.jsx("p",{className:"text-center text-gray-500 text-xs mt-4 font-medium",children:"      "})]})]})}),o.jsx("div",{className:"text-center pb-20 animate-fade-in",children:o.jsxs("p",{className:"text-gray-500 text-sm font-bold flex items-center justify-center gap-2 bg-gray-900/50 inline-block px-6 py-3 rounded-full border border-white/5",children:[o.jsx(Gl,{className:"w-5 h-5 text-gray-400"}),"      "]})})]})},eb="etqan_active_subs_v3_strict",iX=1440*60*1e3,AX=({expiryDate:n})=>{const[e,t]=fe.useState(""),[r,s]=fe.useState(!1);return fe.useEffect(()=>{const i=()=>{let h=0;if(!n)return 0;n.seconds?h=n.seconds*1e3:n instanceof Date?h=n.getTime():h=new Date(n).getTime();const g=Date.now(),p=h-g;return p<=0?(s(!0),0):p},l=()=>{const h=i();if(h<=0){t("");return}const g=Math.floor(h/(1e3*60*60*24)),p=Math.floor(h%(1e3*60*60*24)/(1e3*60*60)),x=Math.floor(h%(1e3*60*60)/(1e3*60));g>0?t(`${g}   ${p} `):t(`${p}:${x.toString().padStart(2,"0")}`)};l();const u=setInterval(l,6e4);return()=>clearInterval(u)},[n]),o.jsx("span",{className:`font-mono font-bold text-[10px] ${r?"text-red-400":"text-emerald-400"}`,children:e})},oX=({onBack:n})=>{const{user:e}=CA(),[t,r]=fe.useState([]),[s,i]=fe.useState([]),[l,u]=fe.useState(""),[h,g]=fe.useState(!1),[p,x]=fe.useState(null),[B,C]=fe.useState(null);fe.useEffect(()=>{(async()=>{const Ae=localStorage.getItem(eb),ae=Date.now();if(Ae)try{const{data:se,timestamp:j}=JSON.parse(Ae);ae-j<iX&&i(se)}catch(se){console.error("Cache parse error",se)}try{const se=ha(ln(er,"subscriptions"),jf("expiryDate","desc")),j=await _i(se),S=[];j.forEach(O=>{S.push({id:O.id,...O.data()})}),i(S),localStorage.setItem(eb,JSON.stringify({data:S,timestamp:ae}))}catch(se){console.error("Error fetching subscription collection:",se)}})()},[]);const U=async()=>{if(!l.trim())return;g(!0),r([]);const K=l.trim();let Ae=[];try{const ae=Ys(er,"users",K);try{const se=await s6(ae);se.exists()&&Ae.push({id:se.id,...se.data()})}catch{}if(Ae.length===0){const se=[ha(ln(er,"users"),fa("email","==",K)),ha(ln(er,"users"),fa("displayName",">=",K),fa("displayName","<=",K+""),Uf(5))];(await Promise.all(se.map(S=>_i(S)))).forEach(S=>{S.forEach(O=>{const q=O.data();Ae.find(I=>I.id===O.id)||Ae.push({id:O.id,...q})})})}r(Ae)}catch(ae){console.error("Error searching user",ae),alert("   ")}finally{g(!1)}},E=(K,Ae,ae,se)=>{C({isOpen:!0,studentId:K,isCurrentlyActive:Ae,studentName:ae,studentData:se})},P=async()=>{if(!B)return;const{studentId:K,isCurrentlyActive:Ae,studentName:ae,studentData:se}=B;C(null),x(K);try{const j=Ys(er,"users",K),S=Ys(er,"subscriptions",K),O=!Ae,q=30,I=O?new Date(Date.now()+q*24*60*60*1e3):null,k=I?{seconds:Math.floor(I.getTime()/1e3)}:null;if(O){const J={studentId:K,displayName:se.displayName||ae,email:se.email||"",avatar:se.avatar||"",grade:se.grade||"",isActive:!0,startDate:Ci(),expiryDate:I};await px(S,J),await pf(j,{isSubscriber:!0,subscriptionExpiry:I}),i(pe=>[{...J,id:K,expiryDate:k},...pe.filter(ce=>ce.id!==K)])}else await $g(S),await pf(j,{isSubscriber:!1,subscriptionExpiry:null}),i(J=>J.filter(pe=>pe.id!==K));r(J=>J.map(pe=>pe.id===K?{...pe,isSubscriber:O,subscriptionExpiry:k}:pe));const D=O?[{...se,id:K,expiryDate:k},...s]:s.filter(J=>J.id!==K);localStorage.setItem(eb,JSON.stringify({data:D,timestamp:Date.now()}))}catch(j){console.error("Error updating subscription",j),alert("    ")}finally{x(null)}},F=()=>{r([]),u("")},H=K=>{if(!K)return"-";let Ae;return K.seconds?Ae=new Date(K.seconds*1e3):Ae=new Date(K),Ae.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(",","")};return o.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[o.jsx("div",{className:"bg-gray-950 border-b border-white/5 py-6 px-4 sticky top-0 z-30 shadow-sm",children:o.jsxs("div",{className:"max-w-6xl mx-auto flex items-center gap-3 text-sm md:text-base",children:[o.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-300 hover:text-white",children:o.jsx(gn,{className:"w-5 h-5"})}),o.jsx("span",{onClick:n,className:"font-bold text-gray-400 hover:text-white cursor-pointer transition-colors",children:""}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"font-bold text-white",children:" "})]})}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 space-y-8",children:[o.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-xl border border-gray-700 p-6 md:p-8 animate-fade-in-up",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 mb-8 border-b border-gray-700 pb-6",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-2 mb-2",children:[o.jsx(SE,{className:"w-8 h-8 text-amber-500"}),"  "]}),o.jsx("p",{className:"text-gray-400 text-sm",children:"        "})]}),o.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[o.jsxs("div",{className:"relative w-full md:w-80",children:[o.jsx("input",{type:"text",placeholder:"    ID...",value:l,onChange:K=>u(K.target.value),onKeyDown:K=>K.key==="Enter"&&U(),className:"w-full px-5 py-3 rounded-xl bg-gray-800 border border-gray-700 focus:border-amber-500 outline-none text-white font-bold transition-all text-sm pr-10"}),l&&o.jsx("button",{onClick:F,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white",children:o.jsx(Xs,{className:"w-4 h-4"})})]}),o.jsx("button",{onClick:U,disabled:h,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 rounded-xl flex items-center justify-center transition-colors shadow-lg disabled:opacity-50",children:h?o.jsx(Ir,{className:"w-5 h-5 animate-spin"}):o.jsx(Ni,{className:"w-5 h-5"})})]})]}),o.jsx("div",{className:"overflow-x-auto min-h-[100px]",children:t.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-gray-500 bg-gray-800/20 rounded-3xl border border-dashed border-gray-800",children:[o.jsx(Ni,{className:"w-10 h-10 mb-3 opacity-20"}),o.jsx("p",{className:"font-bold text-sm",children:"   .   ."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("span",{className:"text-sm font-bold text-gray-400",children:["  (",t.length,")"]}),o.jsxs("button",{onClick:F,className:"text-[10px] text-red-400 hover:text-red-300 flex items-center gap-1 bg-red-900/10 px-3 py-1.5 rounded-lg border border-red-900/30 transition-colors",children:[o.jsx(Xl,{className:"w-3 h-3"}),"  "]})]}),o.jsxs("table",{className:"w-full text-right border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-700 text-gray-400 text-[10px] uppercase tracking-wider font-bold",children:[o.jsx("th",{className:"pb-3 pr-4",children:""}),o.jsx("th",{className:"pb-3",children:" (ID)"}),o.jsx("th",{className:"pb-3",children:" "}),o.jsx("th",{className:"pb-3 pl-4 text-left",children:""})]})}),o.jsx("tbody",{className:"divide-y divide-gray-800",children:t.map(K=>o.jsxs("tr",{className:"group hover:bg-gray-800/50 transition-colors",children:[o.jsx("td",{className:"py-3 pr-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden border border-gray-600 shrink-0",children:K.avatar?o.jsx("img",{src:K.avatar,className:"w-full h-full object-cover",alt:"avatar"}):o.jsx(pu,{className:"w-4 h-4 text-gray-400"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-white text-xs",children:K.displayName}),o.jsx("div",{className:"text-[10px] text-gray-500",children:K.email})]})]})}),o.jsx("td",{className:"py-3 font-mono text-[10px] text-amber-200/70 select-all",children:K.id}),o.jsx("td",{className:"py-3",children:K.isSubscriber?o.jsxs("span",{className:"inline-flex items-center gap-1 bg-green-900/30 text-green-400 px-2 py-0.5 rounded-full text-[10px] font-bold border border-green-500/20",children:[o.jsx(es,{className:"w-3 h-3"})," "]}):o.jsx("span",{className:"inline-flex items-center gap-1 bg-gray-700/50 text-gray-400 px-2 py-0.5 rounded-full text-[10px] font-bold border border-gray-600",children:" "})}),o.jsx("td",{className:"py-3 pl-4 text-left",children:o.jsx("button",{onClick:()=>E(K.id,K.isSubscriber,K.displayName,K),disabled:p===K.id,className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all flex items-center justify-center gap-1 ml-auto w-28 ${p===K.id?"bg-gray-700 cursor-not-allowed text-gray-400":K.isSubscriber?"bg-red-900/20 text-red-400 hover:bg-red-900/40 border border-red-900/30":"bg-amber-600 text-white hover:bg-amber-700 shadow-md hover:shadow-amber-900/20"}`,children:p===K.id?o.jsx(Ir,{className:"w-3 h-3 animate-spin"}):K.isSubscriber?o.jsxs(o.Fragment,{children:[o.jsx(Vm,{className:"w-3 h-3"})," "]}):o.jsxs(o.Fragment,{children:[o.jsx(OB,{className:"w-3 h-3"})," 30 "]})})})]},K.id))})]})]})})]}),o.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-xl border border-emerald-500/20 p-6 md:p-8 animate-fade-in-up",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-gray-800 pb-4",children:[o.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-xl border border-emerald-500/20",children:o.jsx(jg,{className:"w-6 h-6 text-emerald-500"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),o.jsxs("p",{className:"text-xs text-gray-400",children:["     (Real-time DB) - : ",s.length]})]})]}),s.length===0?o.jsxs("div",{className:"text-center py-10 text-gray-500",children:[o.jsx(Vm,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),o.jsx("p",{children:"      "})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(K=>o.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-4 border border-emerald-500/10 hover:border-emerald-500/30 transition-all flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden border border-gray-600 shrink-0",children:K.avatar?o.jsx("img",{src:K.avatar,className:"w-full h-full object-cover",alt:"avatar"}):o.jsx(pu,{className:"w-5 h-5 text-gray-400"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h4",{className:"font-bold text-white text-xs truncate",children:K.displayName}),o.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-gray-400 font-mono mt-0.5",children:[o.jsx(ig,{className:"w-2.5 h-2.5 text-emerald-500"}),": ",H(K.expiryDate||K.subscriptionExpiry)]}),o.jsxs("div",{className:"flex items-center gap-1 text-[9px] mt-0.5 bg-gray-900/50 w-fit px-1.5 py-0.5 rounded border border-gray-700",children:[o.jsx(kE,{className:"w-2.5 h-2.5 text-emerald-400"}),o.jsx(AX,{expiryDate:K.expiryDate||K.subscriptionExpiry})]})]})]}),o.jsx("button",{onClick:()=>E(K.id,!0,K.displayName,K),disabled:p===K.id,className:"bg-red-500/10 hover:bg-red-500/20 text-red-400 p-2 rounded-lg transition-colors disabled:opacity-50",title:" ",children:p===K.id?o.jsx(Ir,{className:"w-4 h-4 animate-spin"}):o.jsx(Vm,{className:"w-4 h-4"})})]},K.id))})]})]}),B&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:o.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-8 max-w-sm w-full border border-gray-700 shadow-2xl relative text-center animate-fade-in-up",children:[o.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 ${B.isCurrentlyActive?"bg-red-500/20 text-red-500":"bg-green-500/20 text-green-500"}`,children:B.isCurrentlyActive?o.jsx(Vm,{className:"w-10 h-10"}):o.jsx(OB,{className:"w-10 h-10"})}),o.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:B.isCurrentlyActive?" ":" "}),o.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:B.isCurrentlyActive?o.jsxs(o.Fragment,{children:["       ",o.jsx("span",{className:"text-white font-bold",children:B.studentName}),"         ."]}):o.jsxs(o.Fragment,{children:["     ",o.jsx("span",{className:"text-white font-bold",children:B.studentName}),"  30      ."]})}),o.jsxs("div",{className:"flex gap-4 justify-center",children:[o.jsx("button",{onClick:P,className:`flex-1 py-3.5 rounded-xl font-bold text-white transition-all shadow-lg transform hover:scale-105 active:scale-95 ${B.isCurrentlyActive?"bg-gradient-to-r from-red-600 to-pink-600 shadow-red-900/30":"bg-gradient-to-r from-emerald-600 to-teal-600 shadow-emerald-900/30"}`,children:B.isCurrentlyActive?" ":" "}),o.jsx("button",{onClick:()=>C(null),className:"flex-1 bg-gray-800 text-gray-300 py-3.5 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-gray-700",children:""})]})]})})]})},bE=()=>o.jsx("div",{className:"relative w-full h-20 flex items-center justify-center my-6 overflow-hidden pointer-events-none z-20",children:o.jsxs("div",{className:"transform -skew-x-[20deg] flex items-center justify-center w-full max-w-xl opacity-60",children:[o.jsx("div",{className:"h-[2px] w-full bg-gradient-to-r from-transparent via-emerald-500/50 to-emerald-500 rounded-l-full blur-[1px]"}),o.jsxs("div",{className:"relative mx-3 shrink-0",children:[o.jsx("div",{className:"w-3 h-3 bg-gray-950 rounded-full border border-emerald-500/80 shadow-[0_0_15px_rgba(16,185,129,0.6)] flex items-center justify-center relative z-10",children:o.jsx("div",{className:"w-1 h-1 bg-emerald-400 rounded-full animate-pulse"})}),o.jsx("div",{className:"absolute inset-0 bg-emerald-500/30 blur-md rounded-full"})]}),o.jsx("div",{className:"h-[2px] w-full bg-gradient-to-l from-transparent via-emerald-500/50 to-emerald-500 rounded-r-full blur-[1px]"})]})});function lX(){const[n,e]=fe.useState("HOME"),[t,r]=fe.useState(!1),[s,i]=fe.useState(!1),l=fe.useRef({}),u=fe.useRef(!1),{logout:h}=CA();fe.useEffect(()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0),window.history.replaceState({view:"HOME"},"","");const x=B=>{B.state&&B.state.view?(u.current=!0,e(B.state.view)):(u.current=!0,e("HOME"))};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[]),fe.useEffect(()=>{if(u.current){const x=l.current[n]||0;setTimeout(()=>window.scrollTo(0,x),10)}else window.scrollTo(0,0)},[n]);const g=(x,B=!1)=>{if(x===n){x==="HOME"&&window.scrollTo({top:0,behavior:"smooth"});return}l.current[n]=window.scrollY,u.current=B,window.history.pushState({view:x},"",""),e(x)},p=async()=>{i(!0),setTimeout(async()=>{await h(),i(!1),g("HOME")},2500)};return o.jsxs("div",{className:"min-h-screen flex flex-col relative transition-colors duration-500 bg-gray-950 text-gray-100 selection:bg-emerald-500/30",children:[n==="HOME"&&o.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden bg-gray-950",children:[o.jsx(i5,{}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/20 via-transparent to-gray-950/40"}),o.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('https://www.transparenttextures.com/patterns/noise.png')]"})]}),s&&o.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-black/90 backdrop-blur-2xl transition-all duration-700 animate-fade-in",children:[o.jsxs("div",{className:"relative scale-150 transform transition-transform duration-700",children:[o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-emerald-500/20 rounded-full blur-[80px] animate-pulse"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 bg-blue-500/10 rounded-full blur-[60px] animate-pulse delay-75"}),o.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center",children:[o.jsx("svg",{className:"w-full h-full absolute inset-0 animate-[spin_3s_linear_infinite] text-emerald-500/20",viewBox:"0 0 100 100",children:o.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeDasharray:"20 10"})}),o.jsx("svg",{className:"w-full h-full absolute inset-0 animate-[spin_2s_linear_infinite_reverse] text-emerald-500/60",viewBox:"0 0 100 100",children:o.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"60 100",strokeLinecap:"round"})}),o.jsx("svg",{className:"w-full h-full absolute inset-0 animate-spin text-blue-500/50",viewBox:"0 0 100 100",children:o.jsx("circle",{cx:"50",cy:"50",r:"32",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"40 40",strokeLinecap:"round"})}),o.jsxs("div",{className:"bg-gray-900 p-4 rounded-full border border-white/10 shadow-2xl relative z-10 animate-bounce-subtle",children:[o.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-md rounded-full"}),o.jsx(og,{className:"w-8 h-8 text-emerald-400 relative z-20"})]})]})]}),o.jsxs("div",{className:"mt-12 text-center space-y-4 animate-slide-up-fade",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400 tracking-tight drop-shadow-lg",children:" "}),o.jsxs("div",{className:"flex items-center justify-center gap-3 text-emerald-400 text-sm md:text-base font-bold bg-emerald-950/30 px-6 py-2.5 rounded-full border border-emerald-500/20 shadow-lg backdrop-blur-md",children:[o.jsx(Ir,{className:"w-4 h-4 animate-spin"}),"    ..."]})]})]}),o.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[o.jsx(PM,{onLoginClick:()=>r(!0),onNavigate:x=>g(x),onLogoutClick:p}),o.jsxs("main",{className:`flex-grow ${n!=="HOME"?"pt-24":""}`,children:[n==="HOME"&&o.jsxs(o.Fragment,{children:[o.jsx(VM,{onStartQuiz:()=>g("QUIZZES"),onLoginClick:()=>r(!0),onNavigate:x=>g(x)}),o.jsx(zM,{onNavigate:x=>g(x)}),o.jsx(FG,{onLoginClick:()=>r(!0)}),o.jsx(bE,{}),o.jsx(QG,{}),o.jsx(bE,{}),o.jsx(YG,{onNavigate:()=>g("PLATFORM_DEFINITION")}),o.jsx(zG,{}),o.jsx(qG,{onLoginClick:()=>r(!0)}),o.jsx("div",{className:"w-full h-1 bg-gradient-to-r from-transparent via-emerald-500 to-transparent shadow-[0_0_35px_rgba(16,185,129,1)] relative z-20 opacity-100"}),o.jsx(GG,{}),o.jsx("div",{className:"w-full h-0.5 bg-gradient-to-r from-transparent via-emerald-500 to-transparent shadow-[0_0_30px_rgba(16,185,129,1)] relative z-20 opacity-80"}),o.jsx(KG,{onNavigate:x=>g(x)}),o.jsx(rX,{}),o.jsx(WG,{onNavigate:x=>g(x)})]}),n==="ABOUT_PLATFORM"&&o.jsx(EG,{onBack:()=>g("HOME",!0)}),n==="PLATFORM_DEFINITION"&&o.jsx(XG,{onBack:()=>g("HOME",!0)}),n==="TEACHER_CV"&&o.jsx(_G,{onBack:()=>g("HOME",!0)}),n==="PROFILE"&&o.jsx(bG,{onNavigate:x=>g(x)}),n==="TEACHER_DASHBOARD"&&o.jsx(GM,{}),n==="QUESTION_BANK"&&o.jsx(LG,{onBack:()=>g("HOME",!0)}),n==="TEACHER_EXPLANATIONS"&&o.jsx(MG,{onNavigate:x=>g(x),onBack:()=>g("PROFILE",!0)}),n==="TEACHER_UPLOAD_FILES"&&o.jsx(VG,{onNavigate:x=>g(x),onBack:()=>g("PROFILE",!0)}),n==="QUIZZES"&&o.jsx(BG,{onBack:()=>g("HOME",!0),onNavigate:x=>g(x)}),n==="LESSONS"&&o.jsx(SG,{onBack:()=>g("HOME",!0)}),n==="LESSONS_EXPLANATIONS"&&o.jsx(DG,{onBack:()=>g("HOME",!0),onNavigate:x=>g(x)}),n==="CONTACT_TEACHER"&&o.jsx(UG,{onBack:()=>g("HOME",!0)}),n==="SERVICES"&&o.jsx(aX,{onBack:()=>g("HOME",!0)}),n==="TEACHER_CORRESPONDENCE"&&o.jsx($G,{onNavigate:x=>g(x)}),n==="TEACHER_REVIEWS"&&o.jsx(JG,{onNavigate:x=>g(x)}),n==="SUBSCRIPTION_MANAGEMENT"&&o.jsx(oX,{onBack:()=>g("PROFILE",!0)})]}),o.jsx(qM,{isOpen:t,onClose:()=>r(!1)}),o.jsx(sX,{onNavigate:x=>g(x)})]})]})}const ej=document.getElementById("root");if(!ej)throw new Error("Could not find root element to mount to");const cX=xU.createRoot(ej);cX.render(o.jsx(vE.StrictMode,{children:o.jsx(MM,{children:o.jsx(lX,{})})}));export{en as _,uX as c,wE as g};
