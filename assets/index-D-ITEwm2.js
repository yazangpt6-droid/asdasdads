(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function cv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var N0={exports:{}},$o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx;function tT(){if(nx)return $o;nx=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:a,type:s,key:f,ref:l!==void 0?l:null,props:u}}return $o.Fragment=e,$o.jsx=n,$o.jsxs=n,$o}var rx;function nT(){return rx||(rx=1,N0.exports=tT()),N0.exports}var c=nT(),k0={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function rT(){if(ax)return Ce;ax=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),j=Symbol.iterator;function P(D){return D===null||typeof D!="object"?null:(D=j&&D[j]||D["@@iterator"],typeof D=="function"?D:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,G={};function K(D,X,se){this.props=D,this.context=X,this.refs=G,this.updater=se||F}K.prototype.isReactComponent={},K.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},K.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ae(){}ae.prototype=K.prototype;function ce(D,X,se){this.props=D,this.context=X,this.refs=G,this.updater=se||F}var ve=ce.prototype=new ae;ve.constructor=ce,re(ve,K.prototype),ve.isPureReactComponent=!0;var ue=Array.isArray;function $(){}var k={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function S(D,X,se){var oe=se.ref;return{$$typeof:a,type:D,key:X,ref:oe!==void 0?oe:null,props:se}}function I(D,X){return S(D.type,X,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function M(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return X[se]})}var A=/\/+/g;function je(D,X){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):X.toString(36)}function Ge(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then($,$):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Q(D,X,se,oe,W){var xe=typeof D;(xe==="undefined"||xe==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(xe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case a:case e:Te=!0;break;case _:return Te=D._init,Q(Te(D._payload),X,se,oe,W)}}if(Te)return W=W(D),Te=oe===""?"."+je(D,0):oe,ue(W)?(se="",Te!=null&&(se=Te.replace(A,"$&/")+"/"),Q(W,X,se,"",function(mt){return mt})):W!=null&&(R(W)&&(W=I(W,se+(W.key==null||D&&D.key===W.key?"":(""+W.key).replace(A,"$&/")+"/")+Te)),X.push(W)),1;Te=0;var Xe=oe===""?".":oe+":";if(ue(D))for(var ye=0;ye<D.length;ye++)oe=D[ye],xe=Xe+je(oe,ye),Te+=Q(oe,X,se,xe,W);else if(ye=P(D),typeof ye=="function")for(D=ye.call(D),ye=0;!(oe=D.next()).done;)oe=oe.value,xe=Xe+je(oe,ye++),Te+=Q(oe,X,se,xe,W);else if(xe==="object"){if(typeof D.then=="function")return Q(Ge(D),X,se,oe,W);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ie(D,X,se){if(D==null)return D;var oe=[],W=0;return Q(D,oe,"","",function(xe){return X.call(se,xe,W++)}),oe}function me(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var Oe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ve={map:ie,forEach:function(D,X,se){ie(D,function(){X.apply(this,arguments)},se)},count:function(D){var X=0;return ie(D,function(){X++}),X},toArray:function(D){return ie(D,function(X){return X})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ce.Activity=E,Ce.Children=Ve,Ce.Component=K,Ce.Fragment=n,Ce.Profiler=l,Ce.PureComponent=ce,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(D){return k.H.useMemoCache(D)}},Ce.cache=function(D){return function(){return D.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(D,X,se){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=re({},D.props),W=D.key;if(X!=null)for(xe in X.key!==void 0&&(W=""+X.key),X)!N.call(X,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&X.ref===void 0||(oe[xe]=X[xe]);var xe=arguments.length-2;if(xe===1)oe.children=se;else if(1<xe){for(var Te=Array(xe),Xe=0;Xe<xe;Xe++)Te[Xe]=arguments[Xe+2];oe.children=Te}return S(D.type,W,oe)},Ce.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ce.createElement=function(D,X,se){var oe,W={},xe=null;if(X!=null)for(oe in X.key!==void 0&&(xe=""+X.key),X)N.call(X,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(W[oe]=X[oe]);var Te=arguments.length-2;if(Te===1)W.children=se;else if(1<Te){for(var Xe=Array(Te),ye=0;ye<Te;ye++)Xe[ye]=arguments[ye+2];W.children=Xe}if(D&&D.defaultProps)for(oe in Te=D.defaultProps,Te)W[oe]===void 0&&(W[oe]=Te[oe]);return S(D,xe,W)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(D){return{$$typeof:g,render:D}},Ce.isValidElement=R,Ce.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:me}},Ce.memo=function(D,X){return{$$typeof:y,type:D,compare:X===void 0?null:X}},Ce.startTransition=function(D){var X=k.T,se={};k.T=se;try{var oe=D(),W=k.S;W!==null&&W(se,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then($,Oe)}catch(xe){Oe(xe)}finally{X!==null&&se.types!==null&&(X.types=se.types),k.T=X}},Ce.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ce.use=function(D){return k.H.use(D)},Ce.useActionState=function(D,X,se){return k.H.useActionState(D,X,se)},Ce.useCallback=function(D,X){return k.H.useCallback(D,X)},Ce.useContext=function(D){return k.H.useContext(D)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(D,X){return k.H.useDeferredValue(D,X)},Ce.useEffect=function(D,X){return k.H.useEffect(D,X)},Ce.useEffectEvent=function(D){return k.H.useEffectEvent(D)},Ce.useId=function(){return k.H.useId()},Ce.useImperativeHandle=function(D,X,se){return k.H.useImperativeHandle(D,X,se)},Ce.useInsertionEffect=function(D,X){return k.H.useInsertionEffect(D,X)},Ce.useLayoutEffect=function(D,X){return k.H.useLayoutEffect(D,X)},Ce.useMemo=function(D,X){return k.H.useMemo(D,X)},Ce.useOptimistic=function(D,X){return k.H.useOptimistic(D,X)},Ce.useReducer=function(D,X,se){return k.H.useReducer(D,X,se)},Ce.useRef=function(D){return k.H.useRef(D)},Ce.useState=function(D){return k.H.useState(D)},Ce.useSyncExternalStore=function(D,X,se){return k.H.useSyncExternalStore(D,X,se)},Ce.useTransition=function(){return k.H.useTransition()},Ce.version="19.2.0",Ce}var sx;function Rm(){return sx||(sx=1,k0.exports=rT()),k0.exports}var ne=Rm();const uv=cv(ne);var S0={exports:{}},Ko={},A0={exports:{}},j0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function aT(){return ix||(ix=1,(function(a){function e(Q,ie){var me=Q.length;Q.push(ie);e:for(;0<me;){var Oe=me-1>>>1,Ve=Q[Oe];if(0<l(Ve,ie))Q[Oe]=ie,Q[me]=Ve,me=Oe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ie=Q[0],me=Q.pop();if(me!==ie){Q[0]=me;e:for(var Oe=0,Ve=Q.length,D=Ve>>>1;Oe<D;){var X=2*(Oe+1)-1,se=Q[X],oe=X+1,W=Q[oe];if(0>l(se,me))oe<Ve&&0>l(W,se)?(Q[Oe]=W,Q[oe]=me,Oe=oe):(Q[Oe]=se,Q[X]=me,Oe=X);else if(oe<Ve&&0>l(W,me))Q[Oe]=W,Q[oe]=me,Oe=oe;else break e}}return ie}function l(Q,ie){var me=Q.sortIndex-ie.sortIndex;return me!==0?me:Q.id-ie.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();a.unstable_now=function(){return f.now()-g}}var p=[],y=[],_=1,E=null,j=3,P=!1,F=!1,re=!1,G=!1,K=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function ve(Q){for(var ie=n(y);ie!==null;){if(ie.callback===null)s(y);else if(ie.startTime<=Q)s(y),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(y)}}function ue(Q){if(re=!1,ve(Q),!F)if(n(p)!==null)F=!0,$||($=!0,M());else{var ie=n(y);ie!==null&&Ge(ue,ie.startTime-Q)}}var $=!1,k=-1,N=5,S=-1;function I(){return G?!0:!(a.unstable_now()-S<N)}function R(){if(G=!1,$){var Q=a.unstable_now();S=Q;var ie=!0;try{e:{F=!1,re&&(re=!1,ae(k),k=-1),P=!0;var me=j;try{t:{for(ve(Q),E=n(p);E!==null&&!(E.expirationTime>Q&&I());){var Oe=E.callback;if(typeof Oe=="function"){E.callback=null,j=E.priorityLevel;var Ve=Oe(E.expirationTime<=Q);if(Q=a.unstable_now(),typeof Ve=="function"){E.callback=Ve,ve(Q),ie=!0;break t}E===n(p)&&s(p),ve(Q)}else s(p);E=n(p)}if(E!==null)ie=!0;else{var D=n(y);D!==null&&Ge(ue,D.startTime-Q),ie=!1}}break e}finally{E=null,j=me,P=!1}ie=void 0}}finally{ie?M():$=!1}}}var M;if(typeof ce=="function")M=function(){ce(R)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,je=A.port2;A.port1.onmessage=R,M=function(){je.postMessage(null)}}else M=function(){K(R,0)};function Ge(Q,ie){k=K(function(){Q(a.unstable_now())},ie)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Q){Q.callback=null},a.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},a.unstable_getCurrentPriorityLevel=function(){return j},a.unstable_next=function(Q){switch(j){case 1:case 2:case 3:var ie=3;break;default:ie=j}var me=j;j=ie;try{return Q()}finally{j=me}},a.unstable_requestPaint=function(){G=!0},a.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var me=j;j=Q;try{return ie()}finally{j=me}},a.unstable_scheduleCallback=function(Q,ie,me){var Oe=a.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Oe+me:Oe):me=Oe,Q){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=me+Ve,Q={id:_++,callback:ie,priorityLevel:Q,startTime:me,expirationTime:Ve,sortIndex:-1},me>Oe?(Q.sortIndex=me,e(y,Q),n(p)===null&&Q===n(y)&&(re?(ae(k),k=-1):re=!0,Ge(ue,me-Oe))):(Q.sortIndex=Ve,e(p,Q),F||P||(F=!0,$||($=!0,M()))),Q},a.unstable_shouldYield=I,a.unstable_wrapCallback=function(Q){var ie=j;return function(){var me=j;j=ie;try{return Q.apply(this,arguments)}finally{j=me}}}})(j0)),j0}var lx;function sT(){return lx||(lx=1,A0.exports=aT()),A0.exports}var C0={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function iT(){if(ox)return cn;ox=1;var a=Rm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:p,containerInfo:y,implementation:_}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(p,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,_)},cn.flushSync=function(p){var y=f.T,_=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=_,s.d.f()}},cn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},cn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},cn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var _=y.as,E=g(_,y.crossOrigin),j=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:j,fetchPriority:P}):_==="script"&&s.d.X(p,{crossOrigin:E,integrity:j,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},cn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},cn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,E=g(_,y.crossOrigin);s.d.L(p,_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},cn.preloadModule=function(p,y){if(typeof p=="string")if(y){var _=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},cn.requestFormReset=function(p){s.d.r(p)},cn.unstable_batchedUpdates=function(p,y){return p(y)},cn.useFormState=function(p,y,_){return f.H.useFormState(p,y,_)},cn.useFormStatus=function(){return f.H.useHostTransitionStatus()},cn.version="19.2.0",cn}var cx;function lT(){if(cx)return C0.exports;cx=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),C0.exports=iT(),C0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function oT(){if(ux)return Ko;ux=1;var a=sT(),e=Rm(),n=lT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,i=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(i=r.return),t=r.return;while(t)}return r.tag===3?i:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var i=t,o=r;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){i=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return p(h),t;if(m===o)return p(h),r;m=m.sibling}throw Error(s(188))}if(i.return!==o.return)i=h,o=m;else{for(var x=!1,w=h.child;w;){if(w===i){x=!0,i=h,o=m;break}if(w===o){x=!0,o=h,i=m;break}w=w.sibling}if(!x){for(w=m.child;w;){if(w===i){x=!0,i=m,o=h;break}if(w===o){x=!0,o=m,i=h;break}w=w.sibling}if(!x)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,j=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case K:return"Profiler";case G:return"StrictMode";case ue:return"Suspense";case $:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ce:return t.displayName||"Context";case ae:return(t._context.displayName||"Context")+".Consumer";case ve:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return r=t.displayName||null,r!==null?r:je(t.type)||"Memo";case N:r=t._payload,t=t._init;try{return je(t(r))}catch{}}return null}var Ge=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Oe=[],Ve=-1;function D(t){return{current:t}}function X(t){0>Ve||(t.current=Oe[Ve],Oe[Ve]=null,Ve--)}function se(t,r){Ve++,Oe[Ve]=t.current,t.current=r}var oe=D(null),W=D(null),xe=D(null),Te=D(null);function Xe(t,r){switch(se(xe,r),se(W,t),se(oe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Nb(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Nb(r),t=kb(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(oe),se(oe,t)}function ye(){X(oe),X(W),X(xe)}function mt(t){t.memoizedState!==null&&se(Te,t);var r=oe.current,i=kb(r,t.type);r!==i&&(se(W,t),se(oe,i))}function zn(t){W.current===t&&(X(oe),X(W)),Te.current===t&&(X(Te),Ho._currentValue=me)}var ln,on;function Ft(t){if(ln===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);ln=r&&r[1]||"",on=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ln+t+on}var _r=!1;function Bn(t,r){if(!t||_r)return"";_r=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(H){var B=H}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(H){B=H}t.call(ee.prototype)}}else{try{throw Error()}catch(H){B=H}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),x=m[0],w=m[1];if(x&&w){var C=x.split(`
`),z=w.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var Y=`
`+C[o].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=o&&0<=h);break}}}finally{_r=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Ft(i):""}function wr(t,r){switch(t.tag){case 26:case 27:case 5:return Ft(t.type);case 16:return Ft("Lazy");case 13:return t.child!==r&&r!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return Bn(t.type,!1);case 11:return Bn(t.type.render,!1);case 1:return Bn(t.type,!0);case 31:return Ft("Activity");default:return""}}function Ms(t){try{var r="",i=null;do r+=wr(t,i),i=t,t=t.return;while(t);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ut=Object.prototype.hasOwnProperty,Tt=a.unstable_scheduleCallback,Er=a.unstable_cancelCallback,Ql=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Yt=a.unstable_now,_e=a.unstable_getCurrentPriorityLevel,Le=a.unstable_ImmediatePriority,We=a.unstable_UserBlockingPriority,pe=a.unstable_NormalPriority,gt=a.unstable_LowPriority,Xt=a.unstable_IdlePriority,ar=a.log,Tr=a.unstable_setDisableYieldValue,Ct=null,bt=null;function Wt(t){if(typeof ar=="function"&&Tr(t),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Ct,t)}catch{}}var Nt=Math.clz32?Math.clz32:zc,Uc=Math.log,ji=Math.LN2;function zc(t){return t>>>=0,t===0?32:31-(Uc(t)/ji|0)|0}var Nr=256,Vs=262144,Rt=4194304;function kr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sr(t,r,i){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var w=o&134217727;return w!==0?(o=w&~m,o!==0?h=kr(o):(x&=w,x!==0?h=kr(x):i||(i=w&~t,i!==0&&(h=kr(i))))):(w=o&~m,w!==0?h=kr(w):x!==0?h=kr(x):i||(i=o&~t,i!==0&&(h=kr(i)))),h===0?0:r!==0&&r!==h&&(r&m)===0&&(m=h&-h,i=r&-r,m>=i||m===32&&(i&4194048)!==0)?r:h}function sr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ah(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bc(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function Ar(t){for(var r=[],i=0;31>i;i++)r.push(t);return r}function Ls(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jh(t,r,i,o,h,m){var x=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var w=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(i=x&~i;0<i;){var Y=31-Nt(i),ee=1<<Y;w[Y]=0,C[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var H=B[Y];H!==null&&(H.lane&=-536870913)}i&=~ee}o!==0&&Ps(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(x&~r))}function Ps(t,r,i){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-Nt(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|i&261930}function $l(t,r){var i=t.entangledLanes|=r;for(t=t.entanglements;i;){var o=31-Nt(i),h=1<<o;h&r|t[o]&r&&(t[o]|=r),i&=~h}}function Kl(t,r){var i=r&-r;return i=(i&42)!==0?1:Us(i),(i&(t.suspendedLanes|r))!==0?0:i}function Us(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function aa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qc(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Yb(t.type))}function ir(t,r){var i=ie.p;try{return ie.p=t,r()}finally{ie.p=i}}var lr=Math.random().toString(36).slice(2),It="__reactFiber$"+lr,Gt="__reactProps$"+lr,jr="__reactContainer$"+lr,Ci="__reactEvents$"+lr,Ch="__reactListeners$"+lr,Hc="__reactHandles$"+lr,Fc="__reactResources$"+lr,Cr="__reactMarker$"+lr;function Ri(t){delete t[It],delete t[Gt],delete t[Ci],delete t[Ch],delete t[Hc]}function Rr(t){var r=t[It];if(r)return r;for(var i=t.parentNode;i;){if(r=i[jr]||i[It]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(t=Db(t);t!==null;){if(i=t[It])return i;t=Db(t)}return r}t=i,i=t.parentNode}return null}function qn(t){if(t=t[It]||t[jr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function jn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ir(t){var r=t[Fc];return r||(r=t[Fc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Dt(t){t[Cr]=!0}var Yl=new Set,Xl={};function Dr(t,r){Or(t,r),Or(t+"Capture",r)}function Or(t,r){for(Xl[t]=r,t=0;t<r.length;t++)Yl.add(r[t])}var Wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},Jl={};function Gc(t){return ut.call(Jl,t)?!0:ut.call(Zl,t)?!1:Wl.test(t)?Jl[t]=!0:(Zl[t]=!0,!1)}function Ii(t,r,i){if(Gc(r))if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+i)}}function Cn(t,r,i){if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+i)}}function Ot(t,r,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(r,i,""+o)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oa(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function eo(t,r,i){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(x){i=""+x,m.call(this,x)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(x){i=""+x},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function tt(t){if(!t._valueTracker){var r=Oa(t)?"checked":"value";t._valueTracker=eo(t,r,""+t[r])}}function zs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var i=r.getValue(),o="";return t&&(o=Oa(t)?t.checked?"true":"false":t.value),t=o,t!==i?(r.setValue(t),!0):!1}function Mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Bs=/[\n"\\]/g;function bn(t){return t.replace(Bs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Di(t,r,i,o,h,m,x,w){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),r!=null?x==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Qt(r)):t.value!==""+Qt(r)&&(t.value=""+Qt(r)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),r!=null?to(t,x,Qt(r)):i!=null?to(t,x,Qt(i)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Qt(w):t.removeAttribute("name")}function Qc(t,r,i,o,h,m,x,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){tt(t);return}i=i!=null?""+Qt(i):"",r=r!=null?""+Qt(r):i,w||r===t.value||(t.value=r),t.defaultValue=r}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=w?t.checked:!!o,t.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x),tt(t)}function to(t,r,i){r==="number"&&Mr(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Ma(t,r,i,o){if(t=t.options,r){r={};for(var h=0;h<i.length;h++)r["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=r.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&o&&(t[i].defaultSelected=!0)}else{for(i=""+Qt(i),r=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function $c(t,r,i){if(r!=null&&(r=""+Qt(r),r!==t.value&&(t.value=r),i==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=i!=null?""+Qt(i):""}function Va(t,r,i,o){if(r==null){if(o!=null){if(i!=null)throw Error(s(92));if(Ge(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),r=i}i=Qt(r),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o),tt(t)}function xn(t,r){if(r){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=r;return}}t.textContent=r}var Kc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(t,r,i){var o=r.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,i):typeof i!="number"||i===0||Kc.has(r)?r==="float"?t.cssFloat=i:t[r]=(""+i).trim():t[r]=i+"px"}function ro(t,r,i){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in r)o=r[h],r.hasOwnProperty(h)&&i[h]!==o&&no(t,h,o)}else for(var m in r)r.hasOwnProperty(m)&&no(t,m,r[m])}function Oi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),La=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mi(t){return La.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function or(){}var ao=null;function Hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pa=null,Vr=null;function qs(t){var r=qn(t);if(r&&(t=r.stateNode)){var i=t[Gt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Di(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),r=i.name,i.type==="radio"&&r!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<i.length;r++){var o=i[r];if(o!==t&&o.form===t.form){var h=o[Gt]||null;if(!h)throw Error(s(90));Di(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<i.length;r++)o=i[r],o.form===t.form&&zs(o)}break e;case"textarea":$c(t,i.value,i.defaultValue);break e;case"select":r=i.value,r!=null&&Ma(t,!!i.multiple,r,!1)}}}var Vi=!1;function Ua(t,r,i){if(Vi)return t(r,i);Vi=!0;try{var o=t(r);return o}finally{if(Vi=!1,(Pa!==null||Vr!==null)&&(qu(),Pa&&(r=Pa,t=Vr,Vr=Pa=null,qs(r),t)))for(r=0;r<t.length;r++)qs(t[r])}}function cr(t,r){var i=t.stateNode;if(i===null)return null;var o=i[Gt]||null;if(o===null)return null;i=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,r,typeof i));return i}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if(Fn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Hs=!1}var Lr=null,so=null,Fs=null;function io(){if(Fs)return Fs;var t,r=so,i=r.length,o,h="value"in Lr?Lr.value:Lr.textContent,m=h.length;for(t=0;t<i&&r[t]===h[t];t++);var x=i-t;for(o=1;o<=x&&r[i-o]===h[m-o];o++);return Fs=h.slice(t,1<o?1-o:void 0)}function Gs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function sa(){return!0}function ur(){return!1}function Zt(t){function r(i,o,h,m,x){this._reactName=i,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(i=t[w],this[w]=i?i(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?sa:ur,this.isPropagationStopped=ur,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),r}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pr=Zt(ia),za=E({},ia,{view:0,detail:0}),lo=Zt(za),Ba,Li,Ur,Pi=E({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ur&&(Ur&&t.type==="mousemove"?(Ba=t.screenX-Ur.screenX,Li=t.screenY-Ur.screenY):Li=Ba=0,Ur=t),Ba)},movementY:function(t){return"movementY"in t?t.movementY:Li}}),oo=Zt(Pi),Qs=E({},Pi,{dataTransfer:0}),Xc=Zt(Qs),Wc=E({},za,{relatedTarget:0}),$s=Zt(Wc),co=E({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),Zc=Zt(co),Ui=E({},ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jc=Zt(Ui),eu=E({},ia,{data:0}),zr=Zt(eu),tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ru[t])?!!r[t]:!1}function qa(){return au}var mn=E({},za,{key:function(t){if(t.key){var r=tu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(t){return t.type==="keypress"?Gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),su=Zt(mn),iu=E({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),la=Zt(iu),d=E({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),b=Zt(d),v=E({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Zt(v),L=E({},Pi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Zt(L),le=E({},ia,{newState:0,oldState:0}),Ie=Zt(le),kt=[9,13,27,32],Ze=Fn&&"CompositionEvent"in window,pt=null;Fn&&"documentMode"in document&&(pt=document.documentMode);var Gn=Fn&&"TextEvent"in window&&!pt,Br=Fn&&(!Ze||pt&&8<pt&&11>=pt),dr=" ",hr=!1;function Ks(t,r){switch(t){case"keyup":return kt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zi(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bi=!1;function N2(t,r){switch(t){case"compositionend":return zi(r);case"keypress":return r.which!==32?null:(hr=!0,dr);case"textInput":return t=r.data,t===dr&&hr?null:t;default:return null}}function k2(t,r){if(Bi)return t==="compositionend"||!Ze&&Ks(t,r)?(t=io(),Fs=so=Lr=null,Bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Br&&r.locale!=="ko"?null:r.data;default:return null}}var S2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!S2[t.type]:r==="textarea"}function Lg(t,r,i,o){Pa?Vr?Vr.push(o):Vr=[o]:Pa=o,r=Yu(r,"onChange"),0<r.length&&(i=new Pr("onChange","change",null,i,o),t.push({event:i,listeners:r}))}var uo=null,ho=null;function A2(t){xb(t,0)}function lu(t){var r=jn(t);if(zs(r))return t}function Pg(t,r){if(t==="change")return r}var Ug=!1;if(Fn){var Rh;if(Fn){var Ih="oninput"in document;if(!Ih){var zg=document.createElement("div");zg.setAttribute("oninput","return;"),Ih=typeof zg.oninput=="function"}Rh=Ih}else Rh=!1;Ug=Rh&&(!document.documentMode||9<document.documentMode)}function Bg(){uo&&(uo.detachEvent("onpropertychange",qg),ho=uo=null)}function qg(t){if(t.propertyName==="value"&&lu(ho)){var r=[];Lg(r,ho,t,Hn(t)),Ua(A2,r)}}function j2(t,r,i){t==="focusin"?(Bg(),uo=r,ho=i,uo.attachEvent("onpropertychange",qg)):t==="focusout"&&Bg()}function C2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lu(ho)}function R2(t,r){if(t==="click")return lu(r)}function I2(t,r){if(t==="input"||t==="change")return lu(r)}function D2(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Rn=typeof Object.is=="function"?Object.is:D2;function fo(t,r){if(Rn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var i=Object.keys(t),o=Object.keys(r);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var h=i[o];if(!ut.call(r,h)||!Rn(t[h],r[h]))return!1}return!0}function Hg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fg(t,r){var i=Hg(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=r&&o>=r)return{node:i,offset:r-t};t=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Hg(i)}}function Gg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Gg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Mr(t.document);r instanceof t.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)t=r.contentWindow;else break;r=Mr(t.document)}return r}function Dh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var O2=Fn&&"documentMode"in document&&11>=document.documentMode,qi=null,Oh=null,mo=null,Mh=!1;function $g(t,r,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Mh||qi==null||qi!==Mr(o)||(o=qi,"selectionStart"in o&&Dh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),mo&&fo(mo,o)||(mo=o,o=Yu(Oh,"onSelect"),0<o.length&&(r=new Pr("onSelect","select",null,r,i),t.push({event:r,listeners:o}),r.target=qi)))}function Ys(t,r){var i={};return i[t.toLowerCase()]=r.toLowerCase(),i["Webkit"+t]="webkit"+r,i["Moz"+t]="moz"+r,i}var Hi={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},Vh={},Kg={};Fn&&(Kg=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Xs(t){if(Vh[t])return Vh[t];if(!Hi[t])return t;var r=Hi[t],i;for(i in r)if(r.hasOwnProperty(i)&&i in Kg)return Vh[t]=r[i];return t}var Yg=Xs("animationend"),Xg=Xs("animationiteration"),Wg=Xs("animationstart"),M2=Xs("transitionrun"),V2=Xs("transitionstart"),L2=Xs("transitioncancel"),Zg=Xs("transitionend"),Jg=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function fr(t,r){Jg.set(t,r),Dr(r,[t])}var ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],Fi=0,Ph=0;function cu(){for(var t=Fi,r=Ph=Fi=0;r<t;){var i=Qn[r];Qn[r++]=null;var o=Qn[r];Qn[r++]=null;var h=Qn[r];Qn[r++]=null;var m=Qn[r];if(Qn[r++]=null,o!==null&&h!==null){var x=o.pending;x===null?h.next=h:(h.next=x.next,x.next=h),o.pending=h}m!==0&&ep(i,h,m)}}function uu(t,r,i,o){Qn[Fi++]=t,Qn[Fi++]=r,Qn[Fi++]=i,Qn[Fi++]=o,Ph|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Uh(t,r,i,o){return uu(t,r,i,o),du(t)}function Ws(t,r){return uu(t,null,null,r),du(t)}function ep(t,r,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var h=!1,m=t.return;m!==null;)m.childLanes|=i,o=m.alternate,o!==null&&(o.childLanes|=i),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&r!==null&&(h=31-Nt(i),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[r]:o.push(r),r.lane=i|536870912),m):null}function du(t){if(50<Vo)throw Vo=0,Yf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Gi={};function P2(t,r,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,r,i,o){return new P2(t,r,i,o)}function zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oa(t,r){var i=t.alternate;return i===null?(i=In(t.tag,r,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=r,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,r=t.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function tp(t,r){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,r=i.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function hu(t,r,i,o,h,m){var x=0;if(o=t,typeof t=="function")zh(t)&&(x=1);else if(typeof t=="string")x=HE(t,i,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case S:return t=In(31,i,r,h),t.elementType=S,t.lanes=m,t;case re:return Zs(i.children,h,m,r);case G:x=8,h|=24;break;case K:return t=In(12,i,r,h|2),t.elementType=K,t.lanes=m,t;case ue:return t=In(13,i,r,h),t.elementType=ue,t.lanes=m,t;case $:return t=In(19,i,r,h),t.elementType=$,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ce:x=10;break e;case ae:x=9;break e;case ve:x=11;break e;case k:x=14;break e;case N:x=16,o=null;break e}x=29,i=Error(s(130,t===null?"null":typeof t,"")),o=null}return r=In(x,i,r,h),r.elementType=t,r.type=o,r.lanes=m,r}function Zs(t,r,i,o){return t=In(7,t,o,r),t.lanes=i,t}function Bh(t,r,i){return t=In(6,t,null,r),t.lanes=i,t}function np(t){var r=In(18,null,null,0);return r.stateNode=t,r}function qh(t,r,i){return r=In(4,t.children!==null?t.children:[],t.key,r),r.lanes=i,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var rp=new WeakMap;function $n(t,r){if(typeof t=="object"&&t!==null){var i=rp.get(t);return i!==void 0?i:(r={value:t,source:r,stack:Ms(r)},rp.set(t,r),r)}return{value:t,source:r,stack:Ms(r)}}var Qi=[],$i=0,fu=null,go=0,Kn=[],Yn=0,Ha=null,qr=1,Hr="";function ca(t,r){Qi[$i++]=go,Qi[$i++]=fu,fu=t,go=r}function ap(t,r,i){Kn[Yn++]=qr,Kn[Yn++]=Hr,Kn[Yn++]=Ha,Ha=t;var o=qr;t=Hr;var h=32-Nt(o)-1;o&=~(1<<h),i+=1;var m=32-Nt(r)+h;if(30<m){var x=h-h%5;m=(o&(1<<x)-1).toString(32),o>>=x,h-=x,qr=1<<32-Nt(r)+h|i<<h|o,Hr=m+t}else qr=1<<m|i<<h|o,Hr=t}function Hh(t){t.return!==null&&(ca(t,1),ap(t,1,0))}function Fh(t){for(;t===fu;)fu=Qi[--$i],Qi[$i]=null,go=Qi[--$i],Qi[$i]=null;for(;t===Ha;)Ha=Kn[--Yn],Kn[Yn]=null,Hr=Kn[--Yn],Kn[Yn]=null,qr=Kn[--Yn],Kn[Yn]=null}function sp(t,r){Kn[Yn++]=qr,Kn[Yn++]=Hr,Kn[Yn++]=Ha,qr=r.id,Hr=r.overflow,Ha=t}var Jt=null,dt=null,Qe=!1,Fa=null,Xn=!1,Gh=Error(s(519));function Ga(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po($n(r,t)),Gh}function ip(t){var r=t.stateNode,i=t.type,o=t.memoizedProps;switch(r[It]=t,r[Gt]=o,i){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<Po.length;i++)Ue(Po[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),Qc(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),Va(r,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||r.textContent===""+i||o.suppressHydrationWarning===!0||Eb(r.textContent,i)?(o.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),o.onScroll!=null&&Ue("scroll",r),o.onScrollEnd!=null&&Ue("scrollend",r),o.onClick!=null&&(r.onclick=or),r=!0):r=!1,r||Ga(t,!0)}function lp(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Jt=Jt.return}}function Ki(t){if(t!==Jt)return!1;if(!Qe)return lp(t),Qe=!0,!1;var r=t.tag,i;if((i=r!==3&&r!==27)&&((i=r===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||u0(t.type,t.memoizedProps)),i=!i),i&&dt&&Ga(t),lp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));dt=Ib(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));dt=Ib(t)}else r===27?(r=dt,ss(t.type)?(t=g0,g0=null,dt=t):dt=r):dt=Jt?Zn(t.stateNode.nextSibling):null;return!0}function Js(){dt=Jt=null,Qe=!1}function Qh(){var t=Fa;return t!==null&&(En===null?En=t:En.push.apply(En,t),Fa=null),t}function po(t){Fa===null?Fa=[t]:Fa.push(t)}var $h=D(null),ei=null,ua=null;function Qa(t,r,i){se($h,r._currentValue),r._currentValue=i}function da(t){t._currentValue=$h.current,X($h)}function Kh(t,r,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===i)break;t=t.return}}function Yh(t,r,i,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var x=h.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=h;for(var C=0;C<r.length;C++)if(w.context===r[C]){m.lanes|=i,w=m.alternate,w!==null&&(w.lanes|=i),Kh(m.return,i,t),o||(x=null);break e}m=w.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(s(341));x.lanes|=i,m=x.alternate,m!==null&&(m.lanes|=i),Kh(x,i,t),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===t){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function Yi(t,r,i,o){t=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var w=h.type;Rn(h.pendingProps.value,x.value)||(t!==null?t.push(w):t=[w])}}else if(h===Te.current){if(x=h.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ho):t=[Ho])}h=h.return}t!==null&&Yh(r,t,i,o),r.flags|=262144}function mu(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ti(t){ei=t,ua=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return op(ei,t)}function gu(t,r){return ei===null&&ti(t),op(t,r)}function op(t,r){var i=r._currentValue;if(r={context:r,memoizedValue:i,next:null},ua===null){if(t===null)throw Error(s(308));ua=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ua=ua.next=r;return i}var U2=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(i){return i()})}},z2=a.unstable_scheduleCallback,B2=a.unstable_NormalPriority,Mt={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new U2,data:new Map,refCount:0}}function yo(t){t.refCount--,t.refCount===0&&z2(B2,function(){t.controller.abort()})}var bo=null,Wh=0,Xi=0,Wi=null;function q2(t,r){if(bo===null){var i=bo=[];Wh=0,Xi=t0(),Wi={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Wh++,r.then(cp,cp),r}function cp(){if(--Wh===0&&bo!==null){Wi!==null&&(Wi.status="fulfilled");var t=bo;bo=null,Xi=0,Wi=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function H2(t,r){var i=[],o={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var h=0;h<i.length;h++)(0,i[h])(r)},function(h){for(o.status="rejected",o.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),o}var up=Q.S;Q.S=function(t,r){$y=Yt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&q2(t,r),up!==null&&up(t,r)};var ni=D(null);function Zh(){var t=ni.current;return t!==null?t:ot.pooledCache}function pu(t,r){r===null?se(ni,ni.current):se(ni,r.pool)}function dp(){var t=Zh();return t===null?null:{parent:Mt._currentValue,pool:t}}var Zi=Error(s(460)),Jh=Error(s(474)),yu=Error(s(542)),bu={then:function(){}};function hp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fp(t,r,i){switch(i=t[i],i===void 0?t.push(r):i!==r&&(r.then(or,or),r=i),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,gp(t),t;default:if(typeof r.status=="string")r.then(or,or);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=o}},function(o){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,gp(t),t}throw ai=r,Zi}}function ri(t){try{var r=t._init;return r(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ai=i,Zi):i}}var ai=null;function mp(){if(ai===null)throw Error(s(459));var t=ai;return ai=null,t}function gp(t){if(t===Zi||t===yu)throw Error(s(483))}var Ji=null,xo=0;function xu(t){var r=xo;return xo+=1,Ji===null&&(Ji=[]),fp(Ji,t,r)}function vo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function vu(t,r){throw r.$$typeof===j?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function pp(t){function r(V,O){if(t){var U=V.deletions;U===null?(V.deletions=[O],V.flags|=16):U.push(O)}}function i(V,O){if(!t)return null;for(;O!==null;)r(V,O),O=O.sibling;return null}function o(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=oa(V,O),V.index=0,V.sibling=null,V}function m(V,O,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<O?(V.flags|=67108866,O):U):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function x(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function w(V,O,U,Z){return O===null||O.tag!==6?(O=Bh(U,V.mode,Z),O.return=V,O):(O=h(O,U),O.return=V,O)}function C(V,O,U,Z){var we=U.type;return we===re?Y(V,O,U.props.children,Z,U.key):O!==null&&(O.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&ri(we)===O.type)?(O=h(O,U.props),vo(O,U),O.return=V,O):(O=hu(U.type,U.key,U.props,null,V.mode,Z),vo(O,U),O.return=V,O)}function z(V,O,U,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=qh(U,V.mode,Z),O.return=V,O):(O=h(O,U.children||[]),O.return=V,O)}function Y(V,O,U,Z,we){return O===null||O.tag!==7?(O=Zs(U,V.mode,Z,we),O.return=V,O):(O=h(O,U),O.return=V,O)}function ee(V,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Bh(""+O,V.mode,U),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return U=hu(O.type,O.key,O.props,null,V.mode,U),vo(U,O),U.return=V,U;case F:return O=qh(O,V.mode,U),O.return=V,O;case N:return O=ri(O),ee(V,O,U)}if(Ge(O)||M(O))return O=Zs(O,V.mode,U,null),O.return=V,O;if(typeof O.then=="function")return ee(V,xu(O),U);if(O.$$typeof===ce)return ee(V,gu(V,O),U);vu(V,O)}return null}function B(V,O,U,Z){var we=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return we!==null?null:w(V,O,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===we?C(V,O,U,Z):null;case F:return U.key===we?z(V,O,U,Z):null;case N:return U=ri(U),B(V,O,U,Z)}if(Ge(U)||M(U))return we!==null?null:Y(V,O,U,Z,null);if(typeof U.then=="function")return B(V,O,xu(U),Z);if(U.$$typeof===ce)return B(V,O,gu(V,U),Z);vu(V,U)}return null}function H(V,O,U,Z,we){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return V=V.get(U)||null,w(O,V,""+Z,we);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:return V=V.get(Z.key===null?U:Z.key)||null,C(O,V,Z,we);case F:return V=V.get(Z.key===null?U:Z.key)||null,z(O,V,Z,we);case N:return Z=ri(Z),H(V,O,U,Z,we)}if(Ge(Z)||M(Z))return V=V.get(U)||null,Y(O,V,Z,we,null);if(typeof Z.then=="function")return H(V,O,U,xu(Z),we);if(Z.$$typeof===ce)return H(V,O,U,gu(O,Z),we);vu(O,Z)}return null}function ge(V,O,U,Z){for(var we=null,Ke=null,be=O,Me=O=0,Be=null;be!==null&&Me<U.length;Me++){be.index>Me?(Be=be,be=null):Be=be.sibling;var Ye=B(V,be,U[Me],Z);if(Ye===null){be===null&&(be=Be);break}t&&be&&Ye.alternate===null&&r(V,be),O=m(Ye,O,Me),Ke===null?we=Ye:Ke.sibling=Ye,Ke=Ye,be=Be}if(Me===U.length)return i(V,be),Qe&&ca(V,Me),we;if(be===null){for(;Me<U.length;Me++)be=ee(V,U[Me],Z),be!==null&&(O=m(be,O,Me),Ke===null?we=be:Ke.sibling=be,Ke=be);return Qe&&ca(V,Me),we}for(be=o(be);Me<U.length;Me++)Be=H(be,V,Me,U[Me],Z),Be!==null&&(t&&Be.alternate!==null&&be.delete(Be.key===null?Me:Be.key),O=m(Be,O,Me),Ke===null?we=Be:Ke.sibling=Be,Ke=Be);return t&&be.forEach(function(us){return r(V,us)}),Qe&&ca(V,Me),we}function Ne(V,O,U,Z){if(U==null)throw Error(s(151));for(var we=null,Ke=null,be=O,Me=O=0,Be=null,Ye=U.next();be!==null&&!Ye.done;Me++,Ye=U.next()){be.index>Me?(Be=be,be=null):Be=be.sibling;var us=B(V,be,Ye.value,Z);if(us===null){be===null&&(be=Be);break}t&&be&&us.alternate===null&&r(V,be),O=m(us,O,Me),Ke===null?we=us:Ke.sibling=us,Ke=us,be=Be}if(Ye.done)return i(V,be),Qe&&ca(V,Me),we;if(be===null){for(;!Ye.done;Me++,Ye=U.next())Ye=ee(V,Ye.value,Z),Ye!==null&&(O=m(Ye,O,Me),Ke===null?we=Ye:Ke.sibling=Ye,Ke=Ye);return Qe&&ca(V,Me),we}for(be=o(be);!Ye.done;Me++,Ye=U.next())Ye=H(be,V,Me,Ye.value,Z),Ye!==null&&(t&&Ye.alternate!==null&&be.delete(Ye.key===null?Me:Ye.key),O=m(Ye,O,Me),Ke===null?we=Ye:Ke.sibling=Ye,Ke=Ye);return t&&be.forEach(function(eT){return r(V,eT)}),Qe&&ca(V,Me),we}function lt(V,O,U,Z){if(typeof U=="object"&&U!==null&&U.type===re&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:e:{for(var we=U.key;O!==null;){if(O.key===we){if(we=U.type,we===re){if(O.tag===7){i(V,O.sibling),Z=h(O,U.props.children),Z.return=V,V=Z;break e}}else if(O.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&ri(we)===O.type){i(V,O.sibling),Z=h(O,U.props),vo(Z,U),Z.return=V,V=Z;break e}i(V,O);break}else r(V,O);O=O.sibling}U.type===re?(Z=Zs(U.props.children,V.mode,Z,U.key),Z.return=V,V=Z):(Z=hu(U.type,U.key,U.props,null,V.mode,Z),vo(Z,U),Z.return=V,V=Z)}return x(V);case F:e:{for(we=U.key;O!==null;){if(O.key===we)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){i(V,O.sibling),Z=h(O,U.children||[]),Z.return=V,V=Z;break e}else{i(V,O);break}else r(V,O);O=O.sibling}Z=qh(U,V.mode,Z),Z.return=V,V=Z}return x(V);case N:return U=ri(U),lt(V,O,U,Z)}if(Ge(U))return ge(V,O,U,Z);if(M(U)){if(we=M(U),typeof we!="function")throw Error(s(150));return U=we.call(U),Ne(V,O,U,Z)}if(typeof U.then=="function")return lt(V,O,xu(U),Z);if(U.$$typeof===ce)return lt(V,O,gu(V,U),Z);vu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(i(V,O.sibling),Z=h(O,U),Z.return=V,V=Z):(i(V,O),Z=Bh(U,V.mode,Z),Z.return=V,V=Z),x(V)):i(V,O)}return function(V,O,U,Z){try{xo=0;var we=lt(V,O,U,Z);return Ji=null,we}catch(be){if(be===Zi||be===yu)throw be;var Ke=In(29,be,null,V.mode);return Ke.lanes=Z,Ke.return=V,Ke}finally{}}}var si=pp(!0),yp=pp(!1),$a=!1;function ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ka(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ya(t,r,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Je&2)!==0){var h=o.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),o.pending=r,r=du(t),ep(t,null,i),r}return uu(t,o,r,i),du(t)}function _o(t,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,i|=o,r.lanes=i,$l(t,i)}}function nf(t,r){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var x={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?h=m=x:m=m.next=x,i=i.next}while(i!==null);m===null?h=m=r:m=m.next=r}else h=m=r;i={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=r:t.next=r,i.lastBaseUpdate=r}var rf=!1;function wo(){if(rf){var t=Wi;if(t!==null)throw t}}function Eo(t,r,i,o){rf=!1;var h=t.updateQueue;$a=!1;var m=h.firstBaseUpdate,x=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,z=C.next;C.next=null,x===null?m=z:x.next=z,x=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==x&&(w===null?Y.firstBaseUpdate=z:w.next=z,Y.lastBaseUpdate=C))}if(m!==null){var ee=h.baseState;x=0,Y=z=C=null,w=m;do{var B=w.lane&-536870913,H=B!==w.lane;if(H?(ze&B)===B:(o&B)===B){B!==0&&B===Xi&&(rf=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ge=t,Ne=w;B=r;var lt=i;switch(Ne.tag){case 1:if(ge=Ne.payload,typeof ge=="function"){ee=ge.call(lt,ee,B);break e}ee=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ne.payload,B=typeof ge=="function"?ge.call(lt,ee,B):ge,B==null)break e;ee=E({},ee,B);break e;case 2:$a=!0}}B=w.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(z=Y=H,C=ee):Y=Y.next=H,x|=B;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;H=w,w=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(C=ee),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,m===null&&(h.shared.lanes=0),es|=x,t.lanes=x,t.memoizedState=ee}}function bp(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function xp(t,r){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)bp(i[t],r)}var el=D(null),_u=D(0);function vp(t,r){t=va,se(_u,t),se(el,r),va=t|r.baseLanes}function af(){se(_u,va),se(el,el.current)}function sf(){va=_u.current,X(el),X(_u)}var Dn=D(null),Wn=null;function Xa(t){var r=t.alternate;se(St,St.current&1),se(Dn,t),Wn===null&&(r===null||el.current!==null||r.memoizedState!==null)&&(Wn=t)}function lf(t){se(St,St.current),se(Dn,t),Wn===null&&(Wn=t)}function _p(t){t.tag===22?(se(St,St.current),se(Dn,t),Wn===null&&(Wn=t)):Wa()}function Wa(){se(St,St.current),se(Dn,Dn.current)}function On(t){X(Dn),Wn===t&&(Wn=null),X(St)}var St=D(0);function wu(t){for(var r=t;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||f0(i)||m0(i)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ha=0,De=null,st=null,Vt=null,Eu=!1,tl=!1,ii=!1,Tu=0,To=0,nl=null,F2=0;function vt(){throw Error(s(321))}function of(t,r){if(r===null)return!1;for(var i=0;i<r.length&&i<t.length;i++)if(!Rn(t[i],r[i]))return!1;return!0}function cf(t,r,i,o,h,m){return ha=m,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?ay:Tf,ii=!1,m=i(o,h),ii=!1,tl&&(m=Ep(r,i,o,h)),wp(t),m}function wp(t){Q.H=So;var r=st!==null&&st.next!==null;if(ha=0,Vt=st=De=null,Eu=!1,To=0,nl=null,r)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&mu(t)&&(Lt=!0))}function Ep(t,r,i,o){De=t;var h=0;do{if(tl&&(nl=null),To=0,tl=!1,25<=h)throw Error(s(301));if(h+=1,Vt=st=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=sy,m=r(i,o)}while(tl);return m}function G2(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?No(r):r,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(De.flags|=1024),r}function uf(){var t=Tu!==0;return Tu=0,t}function df(t,r,i){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~i}function hf(t){if(Eu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Eu=!1}ha=0,Vt=st=De=null,tl=!1,To=Tu=0,nl=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?De.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function At(){if(st===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var r=Vt===null?De.memoizedState:Vt.next;if(r!==null)Vt=r,st=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Vt===null?De.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function No(t){var r=To;return To+=1,nl===null&&(nl=[]),t=fp(nl,t,r),r=De,(Vt===null?r.memoizedState:Vt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?ay:Tf),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return No(t);if(t.$$typeof===ce)return en(t)}throw Error(s(438,String(t)))}function ff(t){var r=null,i=De.updateQueue;if(i!==null&&(r=i.memoCache),r==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),i===null&&(i=Nu(),De.updateQueue=i),i.memoCache=r,i=r.data[r.index],i===void 0)for(i=r.data[r.index]=Array(t),o=0;o<t;o++)i[o]=I;return r.index++,i}function fa(t,r){return typeof r=="function"?r(t):r}function Su(t){var r=At();return mf(r,st,t)}function mf(t,r,i){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var x=h.next;h.next=m.next,m.next=x}r.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{r=h.next;var w=x=null,C=null,z=r,Y=!1;do{var ee=z.lane&-536870913;if(ee!==z.lane?(ze&ee)===ee:(ha&ee)===ee){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ee===Xi&&(Y=!0);else if((ha&B)===B){z=z.next,B===Xi&&(Y=!0);continue}else ee={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(w=C=ee,x=m):C=C.next=ee,De.lanes|=B,es|=B;ee=z.action,ii&&i(m,ee),m=z.hasEagerState?z.eagerState:i(m,ee)}else B={lane:ee,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(w=C=B,x=m):C=C.next=B,De.lanes|=ee,es|=ee;z=z.next}while(z!==null&&z!==r);if(C===null?x=m:C.next=w,!Rn(m,t.memoizedState)&&(Lt=!0,Y&&(i=Wi,i!==null)))throw i;t.memoizedState=m,t.baseState=x,t.baseQueue=C,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function gf(t){var r=At(),i=r.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var o=i.dispatch,h=i.pending,m=r.memoizedState;if(h!==null){i.pending=null;var x=h=h.next;do m=t(m,x.action),x=x.next;while(x!==h);Rn(m,r.memoizedState)||(Lt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),i.lastRenderedState=m}return[m,o]}function Tp(t,r,i){var o=De,h=At(),m=Qe;if(m){if(i===void 0)throw Error(s(407));i=i()}else i=r();var x=!Rn((st||h).memoizedState,i);if(x&&(h.memoizedState=i,Lt=!0),h=h.queue,bf(Sp.bind(null,o,h,t),[t]),h.getSnapshot!==r||x||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,rl(9,{destroy:void 0},kp.bind(null,o,h,i,r),null),ot===null)throw Error(s(349));m||(ha&127)!==0||Np(o,r,i)}return i}function Np(t,r,i){t.flags|=16384,t={getSnapshot:r,value:i},r=De.updateQueue,r===null?(r=Nu(),De.updateQueue=r,r.stores=[t]):(i=r.stores,i===null?r.stores=[t]:i.push(t))}function kp(t,r,i,o){r.value=i,r.getSnapshot=o,Ap(r)&&jp(t)}function Sp(t,r,i){return i(function(){Ap(r)&&jp(t)})}function Ap(t){var r=t.getSnapshot;t=t.value;try{var i=r();return!Rn(t,i)}catch{return!0}}function jp(t){var r=Ws(t,2);r!==null&&Tn(r,t,2)}function pf(t){var r=gn();if(typeof t=="function"){var i=t;if(t=i(),ii){Wt(!0);try{i()}finally{Wt(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},r}function Cp(t,r,i,o){return t.baseState=i,mf(t,st,typeof o=="function"?o:fa)}function Q2(t,r,i,o,h){if(Cu(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};Q.T!==null?i(!0):m.isTransition=!1,o(m),i=r.pending,i===null?(m.next=r.pending=m,Rp(r,m)):(m.next=i.next,r.pending=i.next=m)}}function Rp(t,r){var i=r.action,o=r.payload,h=t.state;if(r.isTransition){var m=Q.T,x={};Q.T=x;try{var w=i(h,o),C=Q.S;C!==null&&C(x,w),Ip(t,r,w)}catch(z){yf(t,r,z)}finally{m!==null&&x.types!==null&&(m.types=x.types),Q.T=m}}else try{m=i(h,o),Ip(t,r,m)}catch(z){yf(t,r,z)}}function Ip(t,r,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Dp(t,r,o)},function(o){return yf(t,r,o)}):Dp(t,r,i)}function Dp(t,r,i){r.status="fulfilled",r.value=i,Op(r),t.state=i,r=t.pending,r!==null&&(i=r.next,i===r?t.pending=null:(i=i.next,r.next=i,Rp(t,i)))}function yf(t,r,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=i,Op(r),r=r.next;while(r!==o)}t.action=null}function Op(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Mp(t,r){return r}function Vp(t,r){if(Qe){var i=ot.formState;if(i!==null){e:{var o=De;if(Qe){if(dt){t:{for(var h=dt,m=Xn;h.nodeType!==8;){if(!m){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){dt=Zn(h.nextSibling),o=h.data==="F!";break e}}Ga(o)}o=!1}o&&(r=i[0])}}return i=gn(),i.memoizedState=i.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mp,lastRenderedState:r},i.queue=o,i=ty.bind(null,De,o),o.dispatch=i,o=pf(!1),m=Ef.bind(null,De,!1,o.queue),o=gn(),h={state:r,dispatch:null,action:t,pending:null},o.queue=h,i=Q2.bind(null,De,h,m,i),h.dispatch=i,o.memoizedState=t,[r,i,!1]}function Lp(t){var r=At();return Pp(r,st,t)}function Pp(t,r,i){if(r=mf(t,r,Mp)[0],t=Su(fa)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=No(r)}catch(x){throw x===Zi?yu:x}else o=r;r=At();var h=r.queue,m=h.dispatch;return i!==r.memoizedState&&(De.flags|=2048,rl(9,{destroy:void 0},$2.bind(null,h,i),null)),[o,m,t]}function $2(t,r){t.action=r}function Up(t){var r=At(),i=st;if(i!==null)return Pp(r,i,t);At(),r=r.memoizedState,i=At();var o=i.queue.dispatch;return i.memoizedState=t,[r,o,!1]}function rl(t,r,i,o){return t={tag:t,create:i,deps:o,inst:r,next:null},r=De.updateQueue,r===null&&(r=Nu(),De.updateQueue=r),i=r.lastEffect,i===null?r.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,r.lastEffect=t),t}function zp(){return At().memoizedState}function Au(t,r,i,o){var h=gn();De.flags|=t,h.memoizedState=rl(1|r,{destroy:void 0},i,o===void 0?null:o)}function ju(t,r,i,o){var h=At();o=o===void 0?null:o;var m=h.memoizedState.inst;st!==null&&o!==null&&of(o,st.memoizedState.deps)?h.memoizedState=rl(r,m,i,o):(De.flags|=t,h.memoizedState=rl(1|r,m,i,o))}function Bp(t,r){Au(8390656,8,t,r)}function bf(t,r){ju(2048,8,t,r)}function K2(t){De.flags|=4;var r=De.updateQueue;if(r===null)r=Nu(),De.updateQueue=r,r.events=[t];else{var i=r.events;i===null?r.events=[t]:i.push(t)}}function qp(t){var r=At().memoizedState;return K2({ref:r,nextImpl:t}),function(){if((Je&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Hp(t,r){return ju(4,2,t,r)}function Fp(t,r){return ju(4,4,t,r)}function Gp(t,r){if(typeof r=="function"){t=t();var i=r(t);return function(){typeof i=="function"?i():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Qp(t,r,i){i=i!=null?i.concat([t]):null,ju(4,4,Gp.bind(null,r,t),i)}function xf(){}function $p(t,r){var i=At();r=r===void 0?null:r;var o=i.memoizedState;return r!==null&&of(r,o[1])?o[0]:(i.memoizedState=[t,r],t)}function Kp(t,r){var i=At();r=r===void 0?null:r;var o=i.memoizedState;if(r!==null&&of(r,o[1]))return o[0];if(o=t(),ii){Wt(!0);try{t()}finally{Wt(!1)}}return i.memoizedState=[o,r],o}function vf(t,r,i){return i===void 0||(ha&1073741824)!==0&&(ze&261930)===0?t.memoizedState=r:(t.memoizedState=i,t=Yy(),De.lanes|=t,es|=t,i)}function Yp(t,r,i,o){return Rn(i,r)?i:el.current!==null?(t=vf(t,i,o),Rn(t,r)||(Lt=!0),t):(ha&42)===0||(ha&1073741824)!==0&&(ze&261930)===0?(Lt=!0,t.memoizedState=i):(t=Yy(),De.lanes|=t,es|=t,r)}function Xp(t,r,i,o,h){var m=ie.p;ie.p=m!==0&&8>m?m:8;var x=Q.T,w={};Q.T=w,Ef(t,!1,r,i);try{var C=h(),z=Q.S;if(z!==null&&z(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=H2(C,o);ko(t,r,Y,Ln(t))}else ko(t,r,o,Ln(t))}catch(ee){ko(t,r,{then:function(){},status:"rejected",reason:ee},Ln())}finally{ie.p=m,x!==null&&w.types!==null&&(x.types=w.types),Q.T=x}}function Y2(){}function _f(t,r,i,o){if(t.tag!==5)throw Error(s(476));var h=Wp(t).queue;Xp(t,h,r,me,i===null?Y2:function(){return Zp(t),i(o)})}function Wp(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:me},next:null};var i={};return r.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:i},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Zp(t){var r=Wp(t);r.next===null&&(r=t.alternate.memoizedState),ko(t,r.next.queue,{},Ln())}function wf(){return en(Ho)}function Jp(){return At().memoizedState}function ey(){return At().memoizedState}function X2(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var i=Ln();t=Ka(i);var o=Ya(r,t,i);o!==null&&(Tn(o,r,i),_o(o,r,i)),r={cache:Xh()},t.payload=r;return}r=r.return}}function W2(t,r,i){var o=Ln();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Cu(t)?ny(r,i):(i=Uh(t,r,i,o),i!==null&&(Tn(i,t,o),ry(i,r,o)))}function ty(t,r,i){var o=Ln();ko(t,r,i,o)}function ko(t,r,i,o){var h={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Cu(t))ny(r,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var x=r.lastRenderedState,w=m(x,i);if(h.hasEagerState=!0,h.eagerState=w,Rn(w,x))return uu(t,r,h,0),ot===null&&cu(),!1}catch{}finally{}if(i=Uh(t,r,h,o),i!==null)return Tn(i,t,o),ry(i,r,o),!0}return!1}function Ef(t,r,i,o){if(o={lane:2,revertLane:t0(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Cu(t)){if(r)throw Error(s(479))}else r=Uh(t,i,o,2),r!==null&&Tn(r,t,2)}function Cu(t){var r=t.alternate;return t===De||r!==null&&r===De}function ny(t,r){tl=Eu=!0;var i=t.pending;i===null?r.next=r:(r.next=i.next,i.next=r),t.pending=r}function ry(t,r,i){if((i&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,i|=o,r.lanes=i,$l(t,i)}}var So={readContext:en,use:ku,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};So.useEffectEvent=vt;var ay={readContext:en,use:ku,useCallback:function(t,r){return gn().memoizedState=[t,r===void 0?null:r],t},useContext:en,useEffect:Bp,useImperativeHandle:function(t,r,i){i=i!=null?i.concat([t]):null,Au(4194308,4,Gp.bind(null,r,t),i)},useLayoutEffect:function(t,r){return Au(4194308,4,t,r)},useInsertionEffect:function(t,r){Au(4,2,t,r)},useMemo:function(t,r){var i=gn();r=r===void 0?null:r;var o=t();if(ii){Wt(!0);try{t()}finally{Wt(!1)}}return i.memoizedState=[o,r],o},useReducer:function(t,r,i){var o=gn();if(i!==void 0){var h=i(r);if(ii){Wt(!0);try{i(r)}finally{Wt(!1)}}}else h=r;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=W2.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var r=gn();return t={current:t},r.memoizedState=t},useState:function(t){t=pf(t);var r=t.queue,i=ty.bind(null,De,r);return r.dispatch=i,[t.memoizedState,i]},useDebugValue:xf,useDeferredValue:function(t,r){var i=gn();return vf(i,t,r)},useTransition:function(){var t=pf(!1);return t=Xp.bind(null,De,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,i){var o=De,h=gn();if(Qe){if(i===void 0)throw Error(s(407));i=i()}else{if(i=r(),ot===null)throw Error(s(349));(ze&127)!==0||Np(o,r,i)}h.memoizedState=i;var m={value:i,getSnapshot:r};return h.queue=m,Bp(Sp.bind(null,o,m,t),[t]),o.flags|=2048,rl(9,{destroy:void 0},kp.bind(null,o,m,i,r),null),i},useId:function(){var t=gn(),r=ot.identifierPrefix;if(Qe){var i=Hr,o=qr;i=(o&~(1<<32-Nt(o)-1)).toString(32)+i,r="_"+r+"R_"+i,i=Tu++,0<i&&(r+="H"+i.toString(32)),r+="_"}else i=F2++,r="_"+r+"r_"+i.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:wf,useFormState:Vp,useActionState:Vp,useOptimistic:function(t){var r=gn();r.memoizedState=r.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=i,r=Ef.bind(null,De,!0,i),i.dispatch=r,[t,r]},useMemoCache:ff,useCacheRefresh:function(){return gn().memoizedState=X2.bind(null,De)},useEffectEvent:function(t){var r=gn(),i={impl:t};return r.memoizedState=i,function(){if((Je&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Tf={readContext:en,use:ku,useCallback:$p,useContext:en,useEffect:bf,useImperativeHandle:Qp,useInsertionEffect:Hp,useLayoutEffect:Fp,useMemo:Kp,useReducer:Su,useRef:zp,useState:function(){return Su(fa)},useDebugValue:xf,useDeferredValue:function(t,r){var i=At();return Yp(i,st.memoizedState,t,r)},useTransition:function(){var t=Su(fa)[0],r=At().memoizedState;return[typeof t=="boolean"?t:No(t),r]},useSyncExternalStore:Tp,useId:Jp,useHostTransitionStatus:wf,useFormState:Lp,useActionState:Lp,useOptimistic:function(t,r){var i=At();return Cp(i,st,t,r)},useMemoCache:ff,useCacheRefresh:ey};Tf.useEffectEvent=qp;var sy={readContext:en,use:ku,useCallback:$p,useContext:en,useEffect:bf,useImperativeHandle:Qp,useInsertionEffect:Hp,useLayoutEffect:Fp,useMemo:Kp,useReducer:gf,useRef:zp,useState:function(){return gf(fa)},useDebugValue:xf,useDeferredValue:function(t,r){var i=At();return st===null?vf(i,t,r):Yp(i,st.memoizedState,t,r)},useTransition:function(){var t=gf(fa)[0],r=At().memoizedState;return[typeof t=="boolean"?t:No(t),r]},useSyncExternalStore:Tp,useId:Jp,useHostTransitionStatus:wf,useFormState:Up,useActionState:Up,useOptimistic:function(t,r){var i=At();return st!==null?Cp(i,st,t,r):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:ff,useCacheRefresh:ey};sy.useEffectEvent=qp;function Nf(t,r,i,o){r=t.memoizedState,i=i(o,r),i=i==null?r:E({},r,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var kf={enqueueSetState:function(t,r,i){t=t._reactInternals;var o=Ln(),h=Ka(o);h.payload=r,i!=null&&(h.callback=i),r=Ya(t,h,o),r!==null&&(Tn(r,t,o),_o(r,t,o))},enqueueReplaceState:function(t,r,i){t=t._reactInternals;var o=Ln(),h=Ka(o);h.tag=1,h.payload=r,i!=null&&(h.callback=i),r=Ya(t,h,o),r!==null&&(Tn(r,t,o),_o(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var i=Ln(),o=Ka(i);o.tag=2,r!=null&&(o.callback=r),r=Ya(t,o,i),r!==null&&(Tn(r,t,i),_o(r,t,i))}};function iy(t,r,i,o,h,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,x):r.prototype&&r.prototype.isPureReactComponent?!fo(i,o)||!fo(h,m):!0}function ly(t,r,i,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,o),r.state!==t&&kf.enqueueReplaceState(r,r.state,null)}function li(t,r){var i=r;if("ref"in r){i={};for(var o in r)o!=="ref"&&(i[o]=r[o])}if(t=t.defaultProps){i===r&&(i=E({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function oy(t){ou(t)}function cy(t){console.error(t)}function uy(t){ou(t)}function Ru(t,r){try{var i=t.onUncaughtError;i(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function dy(t,r,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(t,r,i){return i=Ka(i),i.tag=3,i.payload={element:null},i.callback=function(){Ru(t,r)},i}function hy(t){return t=Ka(t),t.tag=3,t}function fy(t,r,i,o){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){dy(r,i,o)}}var x=i.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){dy(r,i,o),typeof h!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function Z2(t,r,i,o,h){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=i.alternate,r!==null&&Yi(r,i,h,!0),i=Dn.current,i!==null){switch(i.tag){case 31:case 13:return Wn===null?Hu():i.alternate===null&&_t===0&&(_t=3),i.flags&=-257,i.flags|=65536,i.lanes=h,o===bu?i.flags|=16384:(r=i.updateQueue,r===null?i.updateQueue=new Set([o]):r.add(o),Zf(t,o,h)),!1;case 22:return i.flags|=65536,o===bu?i.flags|=16384:(r=i.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=r):(i=r.retryQueue,i===null?r.retryQueue=new Set([o]):i.add(o)),Zf(t,o,h)),!1}throw Error(s(435,i.tag))}return Zf(t,o,h),Hu(),!1}if(Qe)return r=Dn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,o!==Gh&&(t=Error(s(422),{cause:o}),po($n(t,i)))):(o!==Gh&&(r=Error(s(423),{cause:o}),po($n(r,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=$n(o,i),h=Sf(t.stateNode,o,h),nf(t,h),_t!==4&&(_t=2)),!1;var m=Error(s(520),{cause:o});if(m=$n(m,i),Mo===null?Mo=[m]:Mo.push(m),_t!==4&&(_t=2),r===null)return!0;o=$n(o,i),i=r;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=Sf(i.stateNode,o,t),nf(i,t),!1;case 1:if(r=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ts===null||!ts.has(m))))return i.flags|=65536,h&=-h,i.lanes|=h,h=hy(h),fy(h,t,i,o),nf(i,h),!1}i=i.return}while(i!==null);return!1}var Af=Error(s(461)),Lt=!1;function tn(t,r,i,o){r.child=t===null?yp(r,null,i,o):si(r,t.child,i,o)}function my(t,r,i,o,h){i=i.render;var m=r.ref;if("ref"in o){var x={};for(var w in o)w!=="ref"&&(x[w]=o[w])}else x=o;return ti(r),o=cf(t,r,i,x,m,h),w=uf(),t!==null&&!Lt?(df(t,r,h),ma(t,r,h)):(Qe&&w&&Hh(r),r.flags|=1,tn(t,r,o,h),r.child)}function gy(t,r,i,o,h){if(t===null){var m=i.type;return typeof m=="function"&&!zh(m)&&m.defaultProps===void 0&&i.compare===null?(r.tag=15,r.type=m,py(t,r,m,o,h)):(t=hu(i.type,null,o,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!Vf(t,h)){var x=m.memoizedProps;if(i=i.compare,i=i!==null?i:fo,i(x,o)&&t.ref===r.ref)return ma(t,r,h)}return r.flags|=1,t=oa(m,o),t.ref=r.ref,t.return=r,r.child=t}function py(t,r,i,o,h){if(t!==null){var m=t.memoizedProps;if(fo(m,o)&&t.ref===r.ref)if(Lt=!1,r.pendingProps=o=m,Vf(t,h))(t.flags&131072)!==0&&(Lt=!0);else return r.lanes=t.lanes,ma(t,r,h)}return jf(t,r,i,o,h)}function yy(t,r,i,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,t!==null){for(o=r.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,r.child=null;return by(t,r,m,i,o)}if((i&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&pu(r,m!==null?m.cachePool:null),m!==null?vp(r,m):af(),_p(r);else return o=r.lanes=536870912,by(t,r,m!==null?m.baseLanes|i:i,i,o)}else m!==null?(pu(r,m.cachePool),vp(r,m),Wa(),r.memoizedState=null):(t!==null&&pu(r,null),af(),Wa());return tn(t,r,h,i),r.child}function Ao(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function by(t,r,i,o,h){var m=Zh();return m=m===null?null:{parent:Mt._currentValue,pool:m},r.memoizedState={baseLanes:i,cachePool:m},t!==null&&pu(r,null),af(),_p(r),t!==null&&Yi(t,r,o,!0),r.childLanes=h,null}function Iu(t,r){return r=Ou({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function xy(t,r,i){return si(r,t.child,null,i),t=Iu(r,r.pendingProps),t.flags|=2,On(r),r.memoizedState=null,t}function J2(t,r,i){var o=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Qe){if(o.mode==="hidden")return t=Iu(r,o),r.lanes=536870912,Ao(null,t);if(lf(r),(t=dt)?(t=Rb(t,Xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ha!==null?{id:qr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},i=np(t),i.return=r,r.child=i,Jt=r,dt=null)):t=null,t===null)throw Ga(r);return r.lanes=536870912,null}return Iu(r,o)}var m=t.memoizedState;if(m!==null){var x=m.dehydrated;if(lf(r),h)if(r.flags&256)r.flags&=-257,r=xy(t,r,i);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Lt||Yi(t,r,i,!1),h=(i&t.childLanes)!==0,Lt||h){if(o=ot,o!==null&&(x=Kl(o,i),x!==0&&x!==m.retryLane))throw m.retryLane=x,Ws(t,x),Tn(o,t,x),Af;Hu(),r=xy(t,r,i)}else t=m.treeContext,dt=Zn(x.nextSibling),Jt=r,Qe=!0,Fa=null,Xn=!1,t!==null&&sp(r,t),r=Iu(r,o),r.flags|=4096;return r}return t=oa(t.child,{mode:o.mode,children:o.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Du(t,r){var i=r.ref;if(i===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(r.flags|=4194816)}}function jf(t,r,i,o,h){return ti(r),i=cf(t,r,i,o,void 0,h),o=uf(),t!==null&&!Lt?(df(t,r,h),ma(t,r,h)):(Qe&&o&&Hh(r),r.flags|=1,tn(t,r,i,h),r.child)}function vy(t,r,i,o,h,m){return ti(r),r.updateQueue=null,i=Ep(r,o,i,h),wp(t),o=uf(),t!==null&&!Lt?(df(t,r,m),ma(t,r,m)):(Qe&&o&&Hh(r),r.flags|=1,tn(t,r,i,m),r.child)}function _y(t,r,i,o,h){if(ti(r),r.stateNode===null){var m=Gi,x=i.contextType;typeof x=="object"&&x!==null&&(m=en(x)),m=new i(o,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=kf,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=o,m.state=r.memoizedState,m.refs={},ef(r),x=i.contextType,m.context=typeof x=="object"&&x!==null?en(x):Gi,m.state=r.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(Nf(r,i,x,o),m.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&kf.enqueueReplaceState(m,m.state,null),Eo(r,o,m,h),wo(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){m=r.stateNode;var w=r.memoizedProps,C=li(i,w);m.props=C;var z=m.context,Y=i.contextType;x=Gi,typeof Y=="object"&&Y!==null&&(x=en(Y));var ee=i.getDerivedStateFromProps;Y=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||z!==x)&&ly(r,m,o,x),$a=!1;var B=r.memoizedState;m.state=B,Eo(r,o,m,h),wo(),z=r.memoizedState,w||B!==z||$a?(typeof ee=="function"&&(Nf(r,i,ee,o),z=r.memoizedState),(C=$a||iy(r,i,C,o,B,z,x))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=z),m.props=o,m.state=z,m.context=x,o=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{m=r.stateNode,tf(t,r),x=r.memoizedProps,Y=li(i,x),m.props=Y,ee=r.pendingProps,B=m.context,z=i.contextType,C=Gi,typeof z=="object"&&z!==null&&(C=en(z)),w=i.getDerivedStateFromProps,(z=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==ee||B!==C)&&ly(r,m,o,C),$a=!1,B=r.memoizedState,m.state=B,Eo(r,o,m,h),wo();var H=r.memoizedState;x!==ee||B!==H||$a||t!==null&&t.dependencies!==null&&mu(t.dependencies)?(typeof w=="function"&&(Nf(r,i,w,o),H=r.memoizedState),(Y=$a||iy(r,i,Y,o,B,H,C)||t!==null&&t.dependencies!==null&&mu(t.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,H,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,H,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=H),m.props=o,m.state=H,m.context=C,o=Y):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),o=!1)}return m=o,Du(t,r),o=(r.flags&128)!==0,m||o?(m=r.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&o?(r.child=si(r,t.child,null,h),r.child=si(r,null,i,h)):tn(t,r,i,h),r.memoizedState=m.state,t=r.child):t=ma(t,r,h),t}function wy(t,r,i,o){return Js(),r.flags|=256,tn(t,r,i,o),r.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(t){return{baseLanes:t,cachePool:dp()}}function If(t,r,i){return t=t!==null?t.childLanes&~i:0,r&&(t|=Vn),t}function Ey(t,r,i){var o=r.pendingProps,h=!1,m=(r.flags&128)!==0,x;if((x=m)||(x=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),x&&(h=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,t===null){if(Qe){if(h?Xa(r):Wa(),(t=dt)?(t=Rb(t,Xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ha!==null?{id:qr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},i=np(t),i.return=r,r.child=i,Jt=r,dt=null)):t=null,t===null)throw Ga(r);return m0(t)?r.lanes=32:r.lanes=536870912,null}var w=o.children;return o=o.fallback,h?(Wa(),h=r.mode,w=Ou({mode:"hidden",children:w},h),o=Zs(o,h,i,null),w.return=r,o.return=r,w.sibling=o,r.child=w,o=r.child,o.memoizedState=Rf(i),o.childLanes=If(t,x,i),r.memoizedState=Cf,Ao(null,o)):(Xa(r),Df(r,w))}var C=t.memoizedState;if(C!==null&&(w=C.dehydrated,w!==null)){if(m)r.flags&256?(Xa(r),r.flags&=-257,r=Of(t,r,i)):r.memoizedState!==null?(Wa(),r.child=t.child,r.flags|=128,r=null):(Wa(),w=o.fallback,h=r.mode,o=Ou({mode:"visible",children:o.children},h),w=Zs(w,h,i,null),w.flags|=2,o.return=r,w.return=r,o.sibling=w,r.child=o,si(r,t.child,null,i),o=r.child,o.memoizedState=Rf(i),o.childLanes=If(t,x,i),r.memoizedState=Cf,r=Ao(null,o));else if(Xa(r),m0(w)){if(x=w.nextSibling&&w.nextSibling.dataset,x)var z=x.dgst;x=z,o=Error(s(419)),o.stack="",o.digest=x,po({value:o,source:null,stack:null}),r=Of(t,r,i)}else if(Lt||Yi(t,r,i,!1),x=(i&t.childLanes)!==0,Lt||x){if(x=ot,x!==null&&(o=Kl(x,i),o!==0&&o!==C.retryLane))throw C.retryLane=o,Ws(t,o),Tn(x,t,o),Af;f0(w)||Hu(),r=Of(t,r,i)}else f0(w)?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,dt=Zn(w.nextSibling),Jt=r,Qe=!0,Fa=null,Xn=!1,t!==null&&sp(r,t),r=Df(r,o.children),r.flags|=4096);return r}return h?(Wa(),w=o.fallback,h=r.mode,C=t.child,z=C.sibling,o=oa(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?w=oa(z,w):(w=Zs(w,h,i,null),w.flags|=2),w.return=r,o.return=r,o.sibling=w,r.child=o,Ao(null,o),o=r.child,w=t.child.memoizedState,w===null?w=Rf(i):(h=w.cachePool,h!==null?(C=Mt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=dp(),w={baseLanes:w.baseLanes|i,cachePool:h}),o.memoizedState=w,o.childLanes=If(t,x,i),r.memoizedState=Cf,Ao(t.child,o)):(Xa(r),i=t.child,t=i.sibling,i=oa(i,{mode:"visible",children:o.children}),i.return=r,i.sibling=null,t!==null&&(x=r.deletions,x===null?(r.deletions=[t],r.flags|=16):x.push(t)),r.child=i,r.memoizedState=null,i)}function Df(t,r){return r=Ou({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Ou(t,r){return t=In(22,t,null,r),t.lanes=0,t}function Of(t,r,i){return si(r,t.child,null,i),t=Df(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ty(t,r,i){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),Kh(t.return,r,i)}function Mf(t,r,i,o,h,m){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:h,treeForkCount:m}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=o,x.tail=i,x.tailMode=h,x.treeForkCount=m)}function Ny(t,r,i){var o=r.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var x=St.current,w=(x&2)!==0;if(w?(x=x&1|2,r.flags|=128):x&=1,se(St,x),tn(t,r,o,i),o=Qe?go:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,i,r);else if(t.tag===19)Ty(t,i,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=r.child,h=null;i!==null;)t=i.alternate,t!==null&&wu(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=r.child,r.child=null):(h=i.sibling,i.sibling=null),Mf(r,!1,h,i,m,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&wu(t)===null){r.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Mf(r,!0,i,null,m,o);break;case"together":Mf(r,!1,null,null,void 0,o);break;default:r.memoizedState=null}return r.child}function ma(t,r,i){if(t!==null&&(r.dependencies=t.dependencies),es|=r.lanes,(i&r.childLanes)===0)if(t!==null){if(Yi(t,r,i,!1),(i&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,i=oa(t,t.pendingProps),r.child=i,i.return=r;t.sibling!==null;)t=t.sibling,i=i.sibling=oa(t,t.pendingProps),i.return=r;i.sibling=null}return r.child}function Vf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&mu(t)))}function eE(t,r,i){switch(r.tag){case 3:Xe(r,r.stateNode.containerInfo),Qa(r,Mt,t.memoizedState.cache),Js();break;case 27:case 5:mt(r);break;case 4:Xe(r,r.stateNode.containerInfo);break;case 10:Qa(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,lf(r),null;break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Xa(r),r.flags|=128,null):(i&r.child.childLanes)!==0?Ey(t,r,i):(Xa(r),t=ma(t,r,i),t!==null?t.sibling:null);Xa(r);break;case 19:var h=(t.flags&128)!==0;if(o=(i&r.childLanes)!==0,o||(Yi(t,r,i,!1),o=(i&r.childLanes)!==0),h){if(o)return Ny(t,r,i);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(St,St.current),o)break;return null;case 22:return r.lanes=0,yy(t,r,i,r.pendingProps);case 24:Qa(r,Mt,t.memoizedState.cache)}return ma(t,r,i)}function ky(t,r,i){if(t!==null)if(t.memoizedProps!==r.pendingProps)Lt=!0;else{if(!Vf(t,i)&&(r.flags&128)===0)return Lt=!1,eE(t,r,i);Lt=(t.flags&131072)!==0}else Lt=!1,Qe&&(r.flags&1048576)!==0&&ap(r,go,r.index);switch(r.lanes=0,r.tag){case 16:e:{var o=r.pendingProps;if(t=ri(r.elementType),r.type=t,typeof t=="function")zh(t)?(o=li(t,o),r.tag=1,r=_y(null,r,t,o,i)):(r.tag=0,r=jf(null,r,t,o,i));else{if(t!=null){var h=t.$$typeof;if(h===ve){r.tag=11,r=my(null,r,t,o,i);break e}else if(h===k){r.tag=14,r=gy(null,r,t,o,i);break e}}throw r=je(t)||t,Error(s(306,r,""))}}return r;case 0:return jf(t,r,r.type,r.pendingProps,i);case 1:return o=r.type,h=li(o,r.pendingProps),_y(t,r,o,h,i);case 3:e:{if(Xe(r,r.stateNode.containerInfo),t===null)throw Error(s(387));o=r.pendingProps;var m=r.memoizedState;h=m.element,tf(t,r),Eo(r,o,null,i);var x=r.memoizedState;if(o=x.cache,Qa(r,Mt,o),o!==m.cache&&Yh(r,[Mt],i,!0),wo(),o=x.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=wy(t,r,o,i);break e}else if(o!==h){h=$n(Error(s(424)),r),po(h),r=wy(t,r,o,i);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Zn(t.firstChild),Jt=r,Qe=!0,Fa=null,Xn=!0,i=yp(r,null,o,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Js(),o===h){r=ma(t,r,i);break e}tn(t,r,o,i)}r=r.child}return r;case 26:return Du(t,r),t===null?(i=Lb(r.type,null,r.pendingProps,null))?r.memoizedState=i:Qe||(i=r.type,t=r.pendingProps,o=Xu(xe.current).createElement(i),o[It]=r,o[Gt]=t,nn(o,i,t),Dt(o),r.stateNode=o):r.memoizedState=Lb(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return mt(r),t===null&&Qe&&(o=r.stateNode=Ob(r.type,r.pendingProps,xe.current),Jt=r,Xn=!0,h=dt,ss(r.type)?(g0=h,dt=Zn(o.firstChild)):dt=h),tn(t,r,r.pendingProps.children,i),Du(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Qe&&((h=o=dt)&&(o=CE(o,r.type,r.pendingProps,Xn),o!==null?(r.stateNode=o,Jt=r,dt=Zn(o.firstChild),Xn=!1,h=!0):h=!1),h||Ga(r)),mt(r),h=r.type,m=r.pendingProps,x=t!==null?t.memoizedProps:null,o=m.children,u0(h,m)?o=null:x!==null&&u0(h,x)&&(r.flags|=32),r.memoizedState!==null&&(h=cf(t,r,G2,null,null,i),Ho._currentValue=h),Du(t,r),tn(t,r,o,i),r.child;case 6:return t===null&&Qe&&((t=i=dt)&&(i=RE(i,r.pendingProps,Xn),i!==null?(r.stateNode=i,Jt=r,dt=null,t=!0):t=!1),t||Ga(r)),null;case 13:return Ey(t,r,i);case 4:return Xe(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=si(r,null,o,i):tn(t,r,o,i),r.child;case 11:return my(t,r,r.type,r.pendingProps,i);case 7:return tn(t,r,r.pendingProps,i),r.child;case 8:return tn(t,r,r.pendingProps.children,i),r.child;case 12:return tn(t,r,r.pendingProps.children,i),r.child;case 10:return o=r.pendingProps,Qa(r,r.type,o.value),tn(t,r,o.children,i),r.child;case 9:return h=r.type._context,o=r.pendingProps.children,ti(r),h=en(h),o=o(h),r.flags|=1,tn(t,r,o,i),r.child;case 14:return gy(t,r,r.type,r.pendingProps,i);case 15:return py(t,r,r.type,r.pendingProps,i);case 19:return Ny(t,r,i);case 31:return J2(t,r,i);case 22:return yy(t,r,i,r.pendingProps);case 24:return ti(r),o=en(Mt),t===null?(h=Zh(),h===null&&(h=ot,m=Xh(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=i),h=m),r.memoizedState={parent:o,cache:h},ef(r),Qa(r,Mt,h)):((t.lanes&i)!==0&&(tf(t,r),Eo(r,null,null,i),wo()),h=t.memoizedState,m=r.memoizedState,h.parent!==o?(h={parent:o,cache:o},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Qa(r,Mt,o)):(o=m.cache,Qa(r,Mt,o),o!==h.cache&&Yh(r,[Mt],i,!0))),tn(t,r,r.pendingProps.children,i),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ga(t){t.flags|=4}function Lf(t,r,i,o,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Jy())t.flags|=8192;else throw ai=bu,Jh}else t.flags&=-16777217}function Sy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qb(r))if(Jy())t.flags|=8192;else throw ai=bu,Jh}function Mu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Bc():536870912,t.lanes|=r,ll|=r)}function jo(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ht(t){var r=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(r)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=i,r}function tE(t,r,i){var o=r.pendingProps;switch(Fh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return i=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),da(Mt),ye(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ki(r)?ga(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Qh())),ht(r),null;case 26:var h=r.type,m=r.memoizedState;return t===null?(ga(r),m!==null?(ht(r),Sy(r,m)):(ht(r),Lf(r,h,null,o,i))):m?m!==t.memoizedState?(ga(r),ht(r),Sy(r,m)):(ht(r),r.flags&=-16777217):(t=t.memoizedProps,t!==o&&ga(r),ht(r),Lf(r,h,t,o,i)),null;case 27:if(zn(r),i=xe.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&ga(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return ht(r),null}t=oe.current,Ki(r)?ip(r):(t=Ob(h,o,i),r.stateNode=t,ga(r))}return ht(r),null;case 5:if(zn(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&ga(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(m=oe.current,Ki(r))ip(r);else{var x=Xu(xe.current);switch(m){case 1:m=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=x.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?x.createElement("select",{is:o.is}):x.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?x.createElement(h,{is:o.is}):x.createElement(h)}}m[It]=r,m[Gt]=o;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)m.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=m;e:switch(nn(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ga(r)}}return ht(r),Lf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,i),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&ga(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(s(166));if(t=xe.current,Ki(r)){if(t=r.stateNode,i=r.memoizedProps,o=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[It]=r,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||Eb(t.nodeValue,i)),t||Ga(r,!0)}else t=Xu(t).createTextNode(o),t[It]=r,r.stateNode=t}return ht(r),null;case 31:if(i=r.memoizedState,t===null||t.memoizedState!==null){if(o=Ki(r),i!==null){if(t===null){if(!o)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[It]=r}else Js(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),t=!1}else i=Qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ht(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ki(r),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=r}else Js(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),h=!1}else h=Qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=i,r):(i=o!==null,t=t!==null&&t.memoizedState!==null,i&&(o=r.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),i!==t&&i&&(r.child.flags|=8192),Mu(r,r.updateQueue),ht(r),null);case 4:return ye(),t===null&&s0(r.stateNode.containerInfo),ht(r),null;case 10:return da(r.type),ht(r),null;case 19:if(X(St),o=r.memoizedState,o===null)return ht(r),null;if(h=(r.flags&128)!==0,m=o.rendering,m===null)if(h)jo(o,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=wu(t),m!==null){for(r.flags|=128,jo(o,!1),t=m.updateQueue,r.updateQueue=t,Mu(r,t),r.subtreeFlags=0,t=i,i=r.child;i!==null;)tp(i,t),i=i.sibling;return se(St,St.current&1|2),Qe&&ca(r,o.treeForkCount),r.child}t=t.sibling}o.tail!==null&&Yt()>zu&&(r.flags|=128,h=!0,jo(o,!1),r.lanes=4194304)}else{if(!h)if(t=wu(m),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,Mu(r,t),jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Qe)return ht(r),null}else 2*Yt()-o.renderingStartTime>zu&&i!==536870912&&(r.flags|=128,h=!0,jo(o,!1),r.lanes=4194304);o.isBackwards?(m.sibling=r.child,r.child=m):(t=o.last,t!==null?t.sibling=m:r.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Yt(),t.sibling=null,i=St.current,se(St,h?i&1|2:i&1),Qe&&ca(r,o.treeForkCount),t):(ht(r),null);case 22:case 23:return On(r),sf(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(i&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),i=r.updateQueue,i!==null&&Mu(r,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048),t!==null&&X(ni),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),r.memoizedState.cache!==i&&(r.flags|=2048),da(Mt),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function nE(t,r){switch(Fh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return da(Mt),ye(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return zn(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(s(340));Js()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(On(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Js()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return X(St),null;case 4:return ye(),null;case 10:return da(r.type),null;case 22:case 23:return On(r),sf(),t!==null&&X(ni),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return da(Mt),null;case 25:return null;default:return null}}function Ay(t,r){switch(Fh(r),r.tag){case 3:da(Mt),ye();break;case 26:case 27:case 5:zn(r);break;case 4:ye();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:X(St);break;case 10:da(r.type);break;case 22:case 23:On(r),sf(),t!==null&&X(ni);break;case 24:da(Mt)}}function Co(t,r){try{var i=r.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var h=o.next;i=h;do{if((i.tag&t)===t){o=void 0;var m=i.create,x=i.inst;o=m(),x.destroy=o}i=i.next}while(i!==h)}}catch(w){rt(r,r.return,w)}}function Za(t,r,i){try{var o=r.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var x=o.inst,w=x.destroy;if(w!==void 0){x.destroy=void 0,h=r;var C=i,z=w;try{z()}catch(Y){rt(h,C,Y)}}}o=o.next}while(o!==m)}}catch(Y){rt(r,r.return,Y)}}function jy(t){var r=t.updateQueue;if(r!==null){var i=t.stateNode;try{xp(r,i)}catch(o){rt(t,t.return,o)}}}function Cy(t,r,i){i.props=li(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){rt(t,r,o)}}function Ro(t,r){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof i=="function"?t.refCleanup=i(o):i.current=o}}catch(h){rt(t,r,h)}}function Fr(t,r){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(h){rt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){rt(t,r,h)}else i.current=null}function Ry(t){var r=t.type,i=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(h){rt(t,t.return,h)}}function Pf(t,r,i){try{var o=t.stateNode;TE(o,t.type,i,r),o[Gt]=r}catch(h){rt(t,t.return,h)}}function Iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ss(t.type)||t.tag===4}function Uf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ss(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zf(t,r,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,r):(r=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,r.appendChild(t),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=or));else if(o!==4&&(o===27&&ss(t.type)&&(i=t.stateNode,r=null),t=t.child,t!==null))for(zf(t,r,i),t=t.sibling;t!==null;)zf(t,r,i),t=t.sibling}function Vu(t,r,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?i.insertBefore(t,r):i.appendChild(t);else if(o!==4&&(o===27&&ss(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Vu(t,r,i),t=t.sibling;t!==null;)Vu(t,r,i),t=t.sibling}function Dy(t){var r=t.stateNode,i=t.memoizedProps;try{for(var o=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);nn(r,o,i),r[It]=t,r[Gt]=i}catch(m){rt(t,t.return,m)}}var pa=!1,Pt=!1,Bf=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,$t=null;function rE(t,r){if(t=t.containerInfo,o0=rd,t=Qg(t),Dh(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var x=0,w=-1,C=-1,z=0,Y=0,ee=t,B=null;t:for(;;){for(var H;ee!==i||h!==0&&ee.nodeType!==3||(w=x+h),ee!==m||o!==0&&ee.nodeType!==3||(C=x+o),ee.nodeType===3&&(x+=ee.nodeValue.length),(H=ee.firstChild)!==null;)B=ee,ee=H;for(;;){if(ee===t)break t;if(B===i&&++z===h&&(w=x),B===m&&++Y===o&&(C=x),(H=ee.nextSibling)!==null)break;ee=B,B=ee.parentNode}ee=H}i=w===-1||C===-1?null:{start:w,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(c0={focusedElem:t,selectionRange:i},rd=!1,$t=r;$t!==null;)if(r=$t,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,$t=t;else for(;$t!==null;){switch(r=$t,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,i=r,h=m.memoizedProps,m=m.memoizedState,o=i.stateNode;try{var ge=li(i.type,h);t=o.getSnapshotBeforeUpdate(ge,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){rt(i,i.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,i=t.nodeType,i===9)h0(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":h0(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,$t=t;break}$t=r.return}}function My(t,r,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:ba(t,i),o&4&&Co(5,i);break;case 1:if(ba(t,i),o&4)if(t=i.stateNode,r===null)try{t.componentDidMount()}catch(x){rt(i,i.return,x)}else{var h=li(i.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(x){rt(i,i.return,x)}}o&64&&jy(i),o&512&&Ro(i,i.return);break;case 3:if(ba(t,i),o&64&&(t=i.updateQueue,t!==null)){if(r=null,i.child!==null)switch(i.child.tag){case 27:case 5:r=i.child.stateNode;break;case 1:r=i.child.stateNode}try{xp(t,r)}catch(x){rt(i,i.return,x)}}break;case 27:r===null&&o&4&&Dy(i);case 26:case 5:ba(t,i),r===null&&o&4&&Ry(i),o&512&&Ro(i,i.return);break;case 12:ba(t,i);break;case 31:ba(t,i),o&4&&Py(t,i);break;case 13:ba(t,i),o&4&&Uy(t,i),o&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=hE.bind(null,i),IE(t,i))));break;case 22:if(o=i.memoizedState!==null||pa,!o){r=r!==null&&r.memoizedState!==null||Pt,h=pa;var m=Pt;pa=o,(Pt=r)&&!m?xa(t,i,(i.subtreeFlags&8772)!==0):ba(t,i),pa=h,Pt=m}break;case 30:break;default:ba(t,i)}}function Vy(t){var r=t.alternate;r!==null&&(t.alternate=null,Vy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ri(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,vn=!1;function ya(t,r,i){for(i=i.child;i!==null;)Ly(t,r,i),i=i.sibling}function Ly(t,r,i){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Ct,i)}catch{}switch(i.tag){case 26:Pt||Fr(i,r),ya(t,r,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Pt||Fr(i,r);var o=yt,h=vn;ss(i.type)&&(yt=i.stateNode,vn=!1),ya(t,r,i),zo(i.stateNode),yt=o,vn=h;break;case 5:Pt||Fr(i,r);case 6:if(o=yt,h=vn,yt=null,ya(t,r,i),yt=o,vn=h,yt!==null)if(vn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(i.stateNode)}catch(m){rt(i,r,m)}else try{yt.removeChild(i.stateNode)}catch(m){rt(i,r,m)}break;case 18:yt!==null&&(vn?(t=yt,jb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),gl(t)):jb(yt,i.stateNode));break;case 4:o=yt,h=vn,yt=i.stateNode.containerInfo,vn=!0,ya(t,r,i),yt=o,vn=h;break;case 0:case 11:case 14:case 15:Za(2,i,r),Pt||Za(4,i,r),ya(t,r,i);break;case 1:Pt||(Fr(i,r),o=i.stateNode,typeof o.componentWillUnmount=="function"&&Cy(i,r,o)),ya(t,r,i);break;case 21:ya(t,r,i);break;case 22:Pt=(o=Pt)||i.memoizedState!==null,ya(t,r,i),Pt=o;break;default:ya(t,r,i)}}function Py(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{gl(t)}catch(i){rt(r,r.return,i)}}}function Uy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gl(t)}catch(i){rt(r,r.return,i)}}function aE(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Oy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Oy),r;default:throw Error(s(435,t.tag))}}function Lu(t,r){var i=aE(t);r.forEach(function(o){if(!i.has(o)){i.add(o);var h=fE.bind(null,t,o);o.then(h,h)}})}function _n(t,r){var i=r.deletions;if(i!==null)for(var o=0;o<i.length;o++){var h=i[o],m=t,x=r,w=x;e:for(;w!==null;){switch(w.tag){case 27:if(ss(w.type)){yt=w.stateNode,vn=!1;break e}break;case 5:yt=w.stateNode,vn=!1;break e;case 3:case 4:yt=w.stateNode.containerInfo,vn=!0;break e}w=w.return}if(yt===null)throw Error(s(160));Ly(m,x,h),yt=null,vn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)zy(r,t),r=r.sibling}var mr=null;function zy(t,r){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(r,t),wn(t),o&4&&(Za(3,t,t.return),Co(3,t),Za(5,t,t.return));break;case 1:_n(r,t),wn(t),o&512&&(Pt||i===null||Fr(i,i.return)),o&64&&pa&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var h=mr;if(_n(r,t),wn(t),o&512&&(Pt||i===null||Fr(i,i.return)),o&4){var m=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){e:{o=t.type,i=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Cr]||m[It]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),nn(m,o,i),m[It]=t,Dt(m),o=m;break e;case"link":var x=zb("link","href",h).get(o+(i.href||""));if(x){for(var w=0;w<x.length;w++)if(m=x[w],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){x.splice(w,1);break t}}m=h.createElement(o),nn(m,o,i),h.head.appendChild(m);break;case"meta":if(x=zb("meta","content",h).get(o+(i.content||""))){for(w=0;w<x.length;w++)if(m=x[w],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){x.splice(w,1);break t}}m=h.createElement(o),nn(m,o,i),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[It]=t,Dt(m),o=m}t.stateNode=o}else Bb(h,t.type,t.stateNode);else t.stateNode=Ub(h,o,t.memoizedProps);else m!==o?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,o===null?Bb(h,t.type,t.stateNode):Ub(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,i.memoizedProps)}break;case 27:_n(r,t),wn(t),o&512&&(Pt||i===null||Fr(i,i.return)),i!==null&&o&4&&Pf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(_n(r,t),wn(t),o&512&&(Pt||i===null||Fr(i,i.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(ge){rt(t,t.return,ge)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Pf(t,h,i!==null?i.memoizedProps:h)),o&1024&&(Bf=!0);break;case 6:if(_n(r,t),wn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(ge){rt(t,t.return,ge)}}break;case 3:if(Ju=null,h=mr,mr=Wu(r.containerInfo),_n(r,t),mr=h,wn(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{gl(r.containerInfo)}catch(ge){rt(t,t.return,ge)}Bf&&(Bf=!1,By(t));break;case 4:o=mr,mr=Wu(t.stateNode.containerInfo),_n(r,t),wn(t),mr=o;break;case 12:_n(r,t),wn(t);break;case 31:_n(r,t),wn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Lu(t,o)));break;case 13:_n(r,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Uu=Yt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Lu(t,o)));break;case 22:h=t.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,z=pa,Y=Pt;if(pa=z||h,Pt=Y||C,_n(r,t),Pt=Y,pa=z,wn(t),o&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(i===null||C||pa||Pt||oi(t)),i=null,r=t;;){if(r.tag===5||r.tag===26){if(i===null){C=i=r;try{if(m=C.stateNode,h)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{w=C.stateNode;var ee=C.memoizedProps.style,B=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ge){rt(C,C.return,ge)}}}else if(r.tag===6){if(i===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ge){rt(C,C.return,ge)}}}else if(r.tag===18){if(i===null){C=r;try{var H=C.stateNode;h?Cb(H,!0):Cb(C.stateNode,!1)}catch(ge){rt(C,C.return,ge)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;i===r&&(i=null),r=r.return}i===r&&(i=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Lu(t,i))));break;case 19:_n(r,t),wn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Lu(t,o)));break;case 30:break;case 21:break;default:_n(r,t),wn(t)}}function wn(t){var r=t.flags;if(r&2){try{for(var i,o=t.return;o!==null;){if(Iy(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var h=i.stateNode,m=Uf(t);Vu(t,m,h);break;case 5:var x=i.stateNode;i.flags&32&&(xn(x,""),i.flags&=-33);var w=Uf(t);Vu(t,w,x);break;case 3:case 4:var C=i.stateNode.containerInfo,z=Uf(t);zf(t,z,C);break;default:throw Error(s(161))}}catch(Y){rt(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function By(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;By(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ba(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)My(t,r.alternate,r),r=r.sibling}function oi(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Za(4,r,r.return),oi(r);break;case 1:Fr(r,r.return);var i=r.stateNode;typeof i.componentWillUnmount=="function"&&Cy(r,r.return,i),oi(r);break;case 27:zo(r.stateNode);case 26:case 5:Fr(r,r.return),oi(r);break;case 22:r.memoizedState===null&&oi(r);break;case 30:oi(r);break;default:oi(r)}t=t.sibling}}function xa(t,r,i){for(i=i&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,h=t,m=r,x=m.flags;switch(m.tag){case 0:case 11:case 15:xa(h,m,i),Co(4,m);break;case 1:if(xa(h,m,i),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){rt(o,o.return,z)}if(o=m,h=o.updateQueue,h!==null){var w=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)bp(C[h],w)}catch(z){rt(o,o.return,z)}}i&&x&64&&jy(m),Ro(m,m.return);break;case 27:Dy(m);case 26:case 5:xa(h,m,i),i&&o===null&&x&4&&Ry(m),Ro(m,m.return);break;case 12:xa(h,m,i);break;case 31:xa(h,m,i),i&&x&4&&Py(h,m);break;case 13:xa(h,m,i),i&&x&4&&Uy(h,m);break;case 22:m.memoizedState===null&&xa(h,m,i),Ro(m,m.return);break;case 30:break;default:xa(h,m,i)}r=r.sibling}}function qf(t,r){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&yo(i))}function Hf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&yo(t))}function gr(t,r,i,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)qy(t,r,i,o),r=r.sibling}function qy(t,r,i,o){var h=r.flags;switch(r.tag){case 0:case 11:case 15:gr(t,r,i,o),h&2048&&Co(9,r);break;case 1:gr(t,r,i,o);break;case 3:gr(t,r,i,o),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&yo(t)));break;case 12:if(h&2048){gr(t,r,i,o),t=r.stateNode;try{var m=r.memoizedProps,x=m.id,w=m.onPostCommit;typeof w=="function"&&w(x,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){rt(r,r.return,C)}}else gr(t,r,i,o);break;case 31:gr(t,r,i,o);break;case 13:gr(t,r,i,o);break;case 23:break;case 22:m=r.stateNode,x=r.alternate,r.memoizedState!==null?m._visibility&2?gr(t,r,i,o):Io(t,r):m._visibility&2?gr(t,r,i,o):(m._visibility|=2,al(t,r,i,o,(r.subtreeFlags&10256)!==0||!1)),h&2048&&qf(x,r);break;case 24:gr(t,r,i,o),h&2048&&Hf(r.alternate,r);break;default:gr(t,r,i,o)}}function al(t,r,i,o,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,x=r,w=i,C=o,z=x.flags;switch(x.tag){case 0:case 11:case 15:al(m,x,w,C,h),Co(8,x);break;case 23:break;case 22:var Y=x.stateNode;x.memoizedState!==null?Y._visibility&2?al(m,x,w,C,h):Io(m,x):(Y._visibility|=2,al(m,x,w,C,h)),h&&z&2048&&qf(x.alternate,x);break;case 24:al(m,x,w,C,h),h&&z&2048&&Hf(x.alternate,x);break;default:al(m,x,w,C,h)}r=r.sibling}}function Io(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var i=t,o=r,h=o.flags;switch(o.tag){case 22:Io(i,o),h&2048&&qf(o.alternate,o);break;case 24:Io(i,o),h&2048&&Hf(o.alternate,o);break;default:Io(i,o)}r=r.sibling}}var Do=8192;function sl(t,r,i){if(t.subtreeFlags&Do)for(t=t.child;t!==null;)Hy(t,r,i),t=t.sibling}function Hy(t,r,i){switch(t.tag){case 26:sl(t,r,i),t.flags&Do&&t.memoizedState!==null&&FE(i,mr,t.memoizedState,t.memoizedProps);break;case 5:sl(t,r,i);break;case 3:case 4:var o=mr;mr=Wu(t.stateNode.containerInfo),sl(t,r,i),mr=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Do,Do=16777216,sl(t,r,i),Do=o):sl(t,r,i));break;default:sl(t,r,i)}}function Fy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Oo(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];$t=o,Qy(o,t)}Fy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gy(t),t=t.sibling}function Gy(t){switch(t.tag){case 0:case 11:case 15:Oo(t),t.flags&2048&&Za(9,t,t.return);break;case 3:Oo(t);break;case 12:Oo(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Pu(t)):Oo(t);break;default:Oo(t)}}function Pu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];$t=o,Qy(o,t)}Fy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Za(8,r,r.return),Pu(r);break;case 22:i=r.stateNode,i._visibility&2&&(i._visibility&=-3,Pu(r));break;default:Pu(r)}t=t.sibling}}function Qy(t,r){for(;$t!==null;){var i=$t;switch(i.tag){case 0:case 11:case 15:Za(8,i,r);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:yo(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,$t=o;else e:for(i=t;$t!==null;){o=$t;var h=o.sibling,m=o.return;if(Vy(o),o===i){$t=null;break e}if(h!==null){h.return=m,$t=h;break e}$t=m}}}var sE={getCacheForType:function(t){var r=en(Mt),i=r.data.get(t);return i===void 0&&(i=t(),r.data.set(t,i)),i},cacheSignal:function(){return en(Mt).controller.signal}},iE=typeof WeakMap=="function"?WeakMap:Map,Je=0,ot=null,Pe=null,ze=0,nt=0,Mn=null,Ja=!1,il=!1,Ff=!1,va=0,_t=0,es=0,ci=0,Gf=0,Vn=0,ll=0,Mo=null,En=null,Qf=!1,Uu=0,$y=0,zu=1/0,Bu=null,ts=null,qt=0,ns=null,ol=null,_a=0,$f=0,Kf=null,Ky=null,Vo=0,Yf=null;function Ln(){return(Je&2)!==0&&ze!==0?ze&-ze:Q.T!==null?t0():qc()}function Yy(){if(Vn===0)if((ze&536870912)===0||Qe){var t=Vs;Vs<<=1,(Vs&3932160)===0&&(Vs=262144),Vn=t}else Vn=536870912;return t=Dn.current,t!==null&&(t.flags|=32),Vn}function Tn(t,r,i){(t===ot&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(cl(t,0),rs(t,ze,Vn,!1)),Ls(t,i),((Je&2)===0||t!==ot)&&(t===ot&&((Je&2)===0&&(ci|=i),_t===4&&rs(t,ze,Vn,!1)),Gr(t))}function Xy(t,r,i){if((Je&6)!==0)throw Error(s(327));var o=!i&&(r&127)===0&&(r&t.expiredLanes)===0||sr(t,r),h=o?cE(t,r):Wf(t,r,!0),m=o;do{if(h===0){il&&!o&&rs(t,r,0,!1);break}else{if(i=t.current.alternate,m&&!lE(i)){h=Wf(t,r,!1),m=!1;continue}if(h===2){if(m=r,t.errorRecoveryDisabledLanes&m)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var w=t;h=Mo;var C=w.current.memoizedState.isDehydrated;if(C&&(cl(w,x).flags|=256),x=Wf(w,x,!1),x!==2){if(Ff&&!C){w.errorRecoveryDisabledLanes|=m,ci|=m,h=4;break e}m=En,En=h,m!==null&&(En===null?En=m:En.push.apply(En,m))}h=x}if(m=!1,h!==2)continue}}if(h===1){cl(t,0),rs(t,r,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:rs(o,r,Vn,!Ja);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Uu+300-Yt(),10<h)){if(rs(o,r,Vn,!Ja),Sr(o,0,!0)!==0)break e;_a=r,o.timeoutHandle=Sb(Wy.bind(null,o,i,En,Bu,Qf,r,Vn,ci,ll,Ja,m,"Throttled",-0,0),h);break e}Wy(o,i,En,Bu,Qf,r,Vn,ci,ll,Ja,m,null,-0,0)}}break}while(!0);Gr(t)}function Wy(t,r,i,o,h,m,x,w,C,z,Y,ee,B,H){if(t.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:or},Hy(r,m,ee);var ge=(m&62914560)===m?Uu-Yt():(m&4194048)===m?$y-Yt():0;if(ge=GE(ee,ge),ge!==null){_a=m,t.cancelPendingCommit=ge(sb.bind(null,t,r,m,i,o,h,x,w,C,Y,ee,null,B,H)),rs(t,m,x,!z);return}}sb(t,r,m,i,o,h,x,w,C)}function lE(t){for(var r=t;;){var i=r.tag;if((i===0||i===11||i===15)&&r.flags&16384&&(i=r.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var h=i[o],m=h.getSnapshot;h=h.value;try{if(!Rn(m(),h))return!1}catch{return!1}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function rs(t,r,i,o){r&=~Gf,r&=~ci,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var h=r;0<h;){var m=31-Nt(h),x=1<<m;o[m]=-1,h&=~x}i!==0&&Ps(t,i,r)}function qu(){return(Je&6)===0?(Lo(0),!1):!0}function Xf(){if(Pe!==null){if(nt===0)var t=Pe.return;else t=Pe,ua=ei=null,hf(t),Ji=null,xo=0,t=Pe;for(;t!==null;)Ay(t.alternate,t),t=t.return;Pe=null}}function cl(t,r){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,SE(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),_a=0,Xf(),ot=t,Pe=i=oa(t.current,null),ze=r,nt=0,Mn=null,Ja=!1,il=sr(t,r),Ff=!1,ll=Vn=Gf=ci=es=_t=0,En=Mo=null,Qf=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var h=31-Nt(o),m=1<<h;r|=t[h],o&=~m}return va=r,cu(),i}function Zy(t,r){De=null,Q.H=So,r===Zi||r===yu?(r=mp(),nt=3):r===Jh?(r=mp(),nt=4):nt=r===Af?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Mn=r,Pe===null&&(_t=1,Ru(t,$n(r,t.current)))}function Jy(){var t=Dn.current;return t===null?!0:(ze&4194048)===ze?Wn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===Wn:!1}function eb(){var t=Q.H;return Q.H=So,t===null?So:t}function tb(){var t=Q.A;return Q.A=sE,t}function Hu(){_t=4,Ja||(ze&4194048)!==ze&&Dn.current!==null||(il=!0),(es&134217727)===0&&(ci&134217727)===0||ot===null||rs(ot,ze,Vn,!1)}function Wf(t,r,i){var o=Je;Je|=2;var h=eb(),m=tb();(ot!==t||ze!==r)&&(Bu=null,cl(t,r)),r=!1;var x=_t;e:do try{if(nt!==0&&Pe!==null){var w=Pe,C=Mn;switch(nt){case 8:Xf(),x=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(r=!0);var z=nt;if(nt=0,Mn=null,ul(t,w,C,z),i&&il){x=0;break e}break;default:z=nt,nt=0,Mn=null,ul(t,w,C,z)}}oE(),x=_t;break}catch(Y){Zy(t,Y)}while(!0);return r&&t.shellSuspendCounter++,ua=ei=null,Je=o,Q.H=h,Q.A=m,Pe===null&&(ot=null,ze=0,cu()),x}function oE(){for(;Pe!==null;)nb(Pe)}function cE(t,r){var i=Je;Je|=2;var o=eb(),h=tb();ot!==t||ze!==r?(Bu=null,zu=Yt()+500,cl(t,r)):il=sr(t,r);e:do try{if(nt!==0&&Pe!==null){r=Pe;var m=Mn;t:switch(nt){case 1:nt=0,Mn=null,ul(t,r,m,1);break;case 2:case 9:if(hp(m)){nt=0,Mn=null,rb(r);break}r=function(){nt!==2&&nt!==9||ot!==t||(nt=7),Gr(t)},m.then(r,r);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:hp(m)?(nt=0,Mn=null,rb(r)):(nt=0,Mn=null,ul(t,r,m,7));break;case 5:var x=null;switch(Pe.tag){case 26:x=Pe.memoizedState;case 5:case 27:var w=Pe;if(x?qb(x):w.stateNode.complete){nt=0,Mn=null;var C=w.sibling;if(C!==null)Pe=C;else{var z=w.return;z!==null?(Pe=z,Fu(z)):Pe=null}break t}}nt=0,Mn=null,ul(t,r,m,5);break;case 6:nt=0,Mn=null,ul(t,r,m,6);break;case 8:Xf(),_t=6;break e;default:throw Error(s(462))}}uE();break}catch(Y){Zy(t,Y)}while(!0);return ua=ei=null,Q.H=o,Q.A=h,Je=i,Pe!==null?0:(ot=null,ze=0,cu(),_t)}function uE(){for(;Pe!==null&&!Ql();)nb(Pe)}function nb(t){var r=ky(t.alternate,t,va);t.memoizedProps=t.pendingProps,r===null?Fu(t):Pe=r}function rb(t){var r=t,i=r.alternate;switch(r.tag){case 15:case 0:r=vy(i,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=vy(i,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:hf(r);default:Ay(i,r),r=Pe=tp(r,va),r=ky(i,r,va)}t.memoizedProps=t.pendingProps,r===null?Fu(t):Pe=r}function ul(t,r,i,o){ua=ei=null,hf(r),Ji=null,xo=0;var h=r.return;try{if(Z2(t,h,r,i,ze)){_t=1,Ru(t,$n(i,t.current)),Pe=null;return}}catch(m){if(h!==null)throw Pe=h,m;_t=1,Ru(t,$n(i,t.current)),Pe=null;return}r.flags&32768?(Qe||o===1?t=!0:il||(ze&536870912)!==0?t=!1:(Ja=t=!0,(o===2||o===9||o===3||o===6)&&(o=Dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ab(r,t)):Fu(r)}function Fu(t){var r=t;do{if((r.flags&32768)!==0){ab(r,Ja);return}t=r.return;var i=tE(r.alternate,r,va);if(i!==null){Pe=i;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=t}while(r!==null);_t===0&&(_t=5)}function ab(t,r){do{var i=nE(t.alternate,t);if(i!==null){i.flags&=32767,Pe=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!r&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=i}while(t!==null);_t=6,Pe=null}function sb(t,r,i,o,h,m,x,w,C){t.cancelPendingCommit=null;do Gu();while(qt!==0);if((Je&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Ph,jh(t,i,m,x,w,C),t===ot&&(Pe=ot=null,ze=0),ol=r,ns=t,_a=i,$f=m,Kf=h,Ky=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mE(pe,function(){return ub(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=ie.p,ie.p=2,x=Je,Je|=4;try{rE(t,r,i)}finally{Je=x,ie.p=h,Q.T=o}}qt=1,ib(),lb(),ob()}}function ib(){if(qt===1){qt=0;var t=ns,r=ol,i=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||i){i=Q.T,Q.T=null;var o=ie.p;ie.p=2;var h=Je;Je|=4;try{zy(r,t);var m=c0,x=Qg(t.containerInfo),w=m.focusedElem,C=m.selectionRange;if(x!==w&&w&&w.ownerDocument&&Gg(w.ownerDocument.documentElement,w)){if(C!==null&&Dh(w)){var z=C.start,Y=C.end;if(Y===void 0&&(Y=z),"selectionStart"in w)w.selectionStart=z,w.selectionEnd=Math.min(Y,w.value.length);else{var ee=w.ownerDocument||document,B=ee&&ee.defaultView||window;if(B.getSelection){var H=B.getSelection(),ge=w.textContent.length,Ne=Math.min(C.start,ge),lt=C.end===void 0?Ne:Math.min(C.end,ge);!H.extend&&Ne>lt&&(x=lt,lt=Ne,Ne=x);var V=Fg(w,Ne),O=Fg(w,lt);if(V&&O&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var U=ee.createRange();U.setStart(V.node,V.offset),H.removeAllRanges(),Ne>lt?(H.addRange(U),H.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),H.addRange(U))}}}}for(ee=[],H=w;H=H.parentNode;)H.nodeType===1&&ee.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var Z=ee[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}rd=!!o0,c0=o0=null}finally{Je=h,ie.p=o,Q.T=i}}t.current=r,qt=2}}function lb(){if(qt===2){qt=0;var t=ns,r=ol,i=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||i){i=Q.T,Q.T=null;var o=ie.p;ie.p=2;var h=Je;Je|=4;try{My(t,r.alternate,r)}finally{Je=h,ie.p=o,Q.T=i}}qt=3}}function ob(){if(qt===4||qt===3){qt=0,Ai();var t=ns,r=ol,i=_a,o=Ky;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,ol=ns=null,cb(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ts=null),aa(i),r=r.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Ct,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=Q.T,h=ie.p,ie.p=2,Q.T=null;try{for(var m=t.onRecoverableError,x=0;x<o.length;x++){var w=o[x];m(w.value,{componentStack:w.stack})}}finally{Q.T=r,ie.p=h}}(_a&3)!==0&&Gu(),Gr(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===Yf?Vo++:(Vo=0,Yf=t):Vo=0,Lo(0)}}function cb(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,yo(r)))}function Gu(){return ib(),lb(),ob(),ub()}function ub(){if(qt!==5)return!1;var t=ns,r=$f;$f=0;var i=aa(_a),o=Q.T,h=ie.p;try{ie.p=32>i?32:i,Q.T=null,i=Kf,Kf=null;var m=ns,x=_a;if(qt=0,ol=ns=null,_a=0,(Je&6)!==0)throw Error(s(331));var w=Je;if(Je|=4,Gy(m.current),qy(m,m.current,x,i),Je=w,Lo(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Ct,m)}catch{}return!0}finally{ie.p=h,Q.T=o,cb(t,r)}}function db(t,r,i){r=$n(i,r),r=Sf(t.stateNode,r,2),t=Ya(t,r,2),t!==null&&(Ls(t,2),Gr(t))}function rt(t,r,i){if(t.tag===3)db(t,t,i);else for(;r!==null;){if(r.tag===3){db(r,t,i);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ts===null||!ts.has(o))){t=$n(i,t),i=hy(2),o=Ya(r,i,2),o!==null&&(fy(i,o,r,t),Ls(o,2),Gr(o));break}}r=r.return}}function Zf(t,r,i){var o=t.pingCache;if(o===null){o=t.pingCache=new iE;var h=new Set;o.set(r,h)}else h=o.get(r),h===void 0&&(h=new Set,o.set(r,h));h.has(i)||(Ff=!0,h.add(i),t=dE.bind(null,t,r,i),r.then(t,t))}function dE(t,r,i){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,ot===t&&(ze&i)===i&&(_t===4||_t===3&&(ze&62914560)===ze&&300>Yt()-Uu?(Je&2)===0&&cl(t,0):Gf|=i,ll===ze&&(ll=0)),Gr(t)}function hb(t,r){r===0&&(r=Bc()),t=Ws(t,r),t!==null&&(Ls(t,r),Gr(t))}function hE(t){var r=t.memoizedState,i=0;r!==null&&(i=r.retryLane),hb(t,i)}function fE(t,r){var i=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(r),hb(t,i)}function mE(t,r){return Tt(t,r)}var Qu=null,dl=null,Jf=!1,$u=!1,e0=!1,as=0;function Gr(t){t!==dl&&t.next===null&&(dl===null?Qu=dl=t:dl=dl.next=t),$u=!0,Jf||(Jf=!0,pE())}function Lo(t,r){if(!e0&&$u){e0=!0;do for(var i=!1,o=Qu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var x=o.suspendedLanes,w=o.pingedLanes;m=(1<<31-Nt(42|t)+1)-1,m&=h&~(x&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,pb(o,m))}else m=ze,m=Sr(o,o===ot?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||sr(o,m)||(i=!0,pb(o,m));o=o.next}while(i);e0=!1}}function gE(){fb()}function fb(){$u=Jf=!1;var t=0;as!==0&&kE()&&(t=as);for(var r=Yt(),i=null,o=Qu;o!==null;){var h=o.next,m=mb(o,r);m===0?(o.next=null,i===null?Qu=h:i.next=h,h===null&&(dl=i)):(i=o,(t!==0||(m&3)!==0)&&($u=!0)),o=h}qt!==0&&qt!==5||Lo(t),as!==0&&(as=0)}function mb(t,r){for(var i=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var x=31-Nt(m),w=1<<x,C=h[x];C===-1?((w&i)===0||(w&o)!==0)&&(h[x]=Ah(w,r)):C<=r&&(t.expiredLanes|=w),m&=~w}if(r=ot,i=ze,i=Sr(t,t===r?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,i===0||t===r&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Er(o),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||sr(t,i)){if(r=i&-i,r===t.callbackPriority)return r;switch(o!==null&&Er(o),aa(i)){case 2:case 8:i=We;break;case 32:i=pe;break;case 268435456:i=Xt;break;default:i=pe}return o=gb.bind(null,t),i=Tt(i,o),t.callbackPriority=r,t.callbackNode=i,r}return o!==null&&o!==null&&Er(o),t.callbackPriority=2,t.callbackNode=null,2}function gb(t,r){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Gu()&&t.callbackNode!==i)return null;var o=ze;return o=Sr(t,t===ot?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Xy(t,o,r),mb(t,Yt()),t.callbackNode!=null&&t.callbackNode===i?gb.bind(null,t):null)}function pb(t,r){if(Gu())return null;Xy(t,r,!0)}function pE(){AE(function(){(Je&6)!==0?Tt(Le,gE):fb()})}function t0(){if(as===0){var t=Xi;t===0&&(t=Nr,Nr<<=1,(Nr&261888)===0&&(Nr=256)),as=t}return as}function yb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Mi(""+t)}function bb(t,r){var i=r.ownerDocument.createElement("input");return i.name=r.name,i.value=r.value,t.id&&i.setAttribute("form",t.id),r.parentNode.insertBefore(i,r),t=new FormData(t),i.parentNode.removeChild(i),t}function yE(t,r,i,o,h){if(r==="submit"&&i&&i.stateNode===h){var m=yb((h[Gt]||null).action),x=o.submitter;x&&(r=(r=x[Gt]||null)?yb(r.formAction):x.getAttribute("formAction"),r!==null&&(m=r,x=null));var w=new Pr("action","action",null,o,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(as!==0){var C=x?bb(h,x):new FormData(h);_f(i,{pending:!0,data:C,method:h.method,action:m},null,C)}}else typeof m=="function"&&(w.preventDefault(),C=x?bb(h,x):new FormData(h),_f(i,{pending:!0,data:C,method:h.method,action:m},m,C))},currentTarget:h}]})}}for(var n0=0;n0<Lh.length;n0++){var r0=Lh[n0],bE=r0.toLowerCase(),xE=r0[0].toUpperCase()+r0.slice(1);fr(bE,"on"+xE)}fr(Yg,"onAnimationEnd"),fr(Xg,"onAnimationIteration"),fr(Wg,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(M2,"onTransitionRun"),fr(V2,"onTransitionStart"),fr(L2,"onTransitionCancel"),fr(Zg,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Po));function xb(t,r){r=(r&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],h=o.event;o=o.listeners;e:{var m=void 0;if(r)for(var x=o.length-1;0<=x;x--){var w=o[x],C=w.instance,z=w.currentTarget;if(w=w.listener,C!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=z;try{m(h)}catch(Y){ou(Y)}h.currentTarget=null,m=C}else for(x=0;x<o.length;x++){if(w=o[x],C=w.instance,z=w.currentTarget,w=w.listener,C!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=z;try{m(h)}catch(Y){ou(Y)}h.currentTarget=null,m=C}}}}function Ue(t,r){var i=r[Ci];i===void 0&&(i=r[Ci]=new Set);var o=t+"__bubble";i.has(o)||(vb(r,t,2,!1),i.add(o))}function a0(t,r,i){var o=0;r&&(o|=4),vb(i,t,o,r)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function s0(t){if(!t[Ku]){t[Ku]=!0,Yl.forEach(function(i){i!=="selectionchange"&&(vE.has(i)||a0(i,!1,t),a0(i,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ku]||(r[Ku]=!0,a0("selectionchange",!1,r))}}function vb(t,r,i,o){switch(Yb(r)){case 2:var h=KE;break;case 8:h=YE;break;default:h=v0}i=h.bind(null,r,i,t),h=void 0,!Hs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(r,i,{capture:!0,passive:h}):t.addEventListener(r,i,!0):h!==void 0?t.addEventListener(r,i,{passive:h}):t.addEventListener(r,i,!1)}function i0(t,r,i,o,h){var m=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var w=o.stateNode.containerInfo;if(w===h)break;if(x===4)for(x=o.return;x!==null;){var C=x.tag;if((C===3||C===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;w!==null;){if(x=Rr(w),x===null)return;if(C=x.tag,C===5||C===6||C===26||C===27){o=m=x;continue e}w=w.parentNode}}o=o.return}Ua(function(){var z=m,Y=Hn(i),ee=[];e:{var B=Jg.get(t);if(B!==void 0){var H=Pr,ge=t;switch(t){case"keypress":if(Gs(i)===0)break e;case"keydown":case"keyup":H=su;break;case"focusin":ge="focus",H=$s;break;case"focusout":ge="blur",H=$s;break;case"beforeblur":case"afterblur":H=$s;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=b;break;case Yg:case Xg:case Wg:H=Zc;break;case Zg:H=T;break;case"scroll":case"scrollend":H=lo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=la;break;case"toggle":case"beforetoggle":H=Ie}var Ne=(r&4)!==0,lt=!Ne&&(t==="scroll"||t==="scrollend"),V=Ne?B!==null?B+"Capture":null:B;Ne=[];for(var O=z,U;O!==null;){var Z=O;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||V===null||(Z=cr(O,V),Z!=null&&Ne.push(Uo(O,Z,U))),lt)break;O=O.return}0<Ne.length&&(B=new H(B,ge,null,i,Y),ee.push({event:B,listeners:Ne}))}}if((r&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&i!==ao&&(ge=i.relatedTarget||i.fromElement)&&(Rr(ge)||ge[jr]))break e;if((H||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ge=i.relatedTarget||i.toElement,H=z,ge=ge?Rr(ge):null,ge!==null&&(lt=u(ge),Ne=ge.tag,ge!==lt||Ne!==5&&Ne!==27&&Ne!==6)&&(ge=null)):(H=null,ge=z),H!==ge)){if(Ne=oo,Z="onMouseLeave",V="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=la,Z="onPointerLeave",V="onPointerEnter",O="pointer"),lt=H==null?B:jn(H),U=ge==null?B:jn(ge),B=new Ne(Z,O+"leave",H,i,Y),B.target=lt,B.relatedTarget=U,Z=null,Rr(Y)===z&&(Ne=new Ne(V,O+"enter",ge,i,Y),Ne.target=U,Ne.relatedTarget=lt,Z=Ne),lt=Z,H&&ge)t:{for(Ne=_E,V=H,O=ge,U=0,Z=V;Z;Z=Ne(Z))U++;Z=0;for(var we=O;we;we=Ne(we))Z++;for(;0<U-Z;)V=Ne(V),U--;for(;0<Z-U;)O=Ne(O),Z--;for(;U--;){if(V===O||O!==null&&V===O.alternate){Ne=V;break t}V=Ne(V),O=Ne(O)}Ne=null}else Ne=null;H!==null&&_b(ee,B,H,Ne,!1),ge!==null&&lt!==null&&_b(ee,lt,ge,Ne,!0)}}e:{if(B=z?jn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ke=Pg;else if(Vg(B))if(Ug)Ke=I2;else{Ke=C2;var be=j2}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Oi(z.elementType)&&(Ke=Pg):Ke=R2;if(Ke&&(Ke=Ke(t,z))){Lg(ee,Ke,i,Y);break e}be&&be(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&to(B,"number",B.value)}switch(be=z?jn(z):window,t){case"focusin":(Vg(be)||be.contentEditable==="true")&&(qi=be,Oh=z,mo=null);break;case"focusout":mo=Oh=qi=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,$g(ee,i,Y);break;case"selectionchange":if(O2)break;case"keydown":case"keyup":$g(ee,i,Y)}var Me;if(Ze)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Bi?Ks(t,i)&&(Be="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Be="onCompositionStart");Be&&(Br&&i.locale!=="ko"&&(Bi||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Bi&&(Me=io()):(Lr=Y,so="value"in Lr?Lr.value:Lr.textContent,Bi=!0)),be=Yu(z,Be),0<be.length&&(Be=new zr(Be,t,null,i,Y),ee.push({event:Be,listeners:be}),Me?Be.data=Me:(Me=zi(i),Me!==null&&(Be.data=Me)))),(Me=Gn?N2(t,i):k2(t,i))&&(Be=Yu(z,"onBeforeInput"),0<Be.length&&(be=new zr("onBeforeInput","beforeinput",null,i,Y),ee.push({event:be,listeners:Be}),be.data=Me)),yE(ee,t,z,i,Y)}xb(ee,r)})}function Uo(t,r,i){return{instance:t,listener:r,currentTarget:i}}function Yu(t,r){for(var i=r+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=cr(t,i),h!=null&&o.unshift(Uo(t,h,m)),h=cr(t,r),h!=null&&o.push(Uo(t,h,m))),t.tag===3)return o;t=t.return}return[]}function _E(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _b(t,r,i,o,h){for(var m=r._reactName,x=[];i!==null&&i!==o;){var w=i,C=w.alternate,z=w.stateNode;if(w=w.tag,C!==null&&C===o)break;w!==5&&w!==26&&w!==27||z===null||(C=z,h?(z=cr(i,m),z!=null&&x.unshift(Uo(i,z,C))):h||(z=cr(i,m),z!=null&&x.push(Uo(i,z,C)))),i=i.return}x.length!==0&&t.push({event:r,listeners:x})}var wE=/\r\n?/g,EE=/\u0000|\uFFFD/g;function wb(t){return(typeof t=="string"?t:""+t).replace(wE,`
`).replace(EE,"")}function Eb(t,r){return r=wb(r),wb(t)===r}function it(t,r,i,o,h,m){switch(i){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||xn(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&xn(t,""+o);break;case"className":Cn(t,"class",o);break;case"tabIndex":Cn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,i,o);break;case"style":ro(t,o,m);break;case"data":if(r!=="object"){Cn(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=Mi(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(r!=="input"&&it(t,r,"name",h.name,h,null),it(t,r,"formEncType",h.formEncType,h,null),it(t,r,"formMethod",h.formMethod,h,null),it(t,r,"formTarget",h.formTarget,h,null)):(it(t,r,"encType",h.encType,h,null),it(t,r,"method",h.method,h,null),it(t,r,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=Mi(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=or);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=Mi(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Ii(t,"popover",o);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ii(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Yc.get(i)||i,Ii(t,i,o))}}function l0(t,r,i,o,h,m){switch(i){case"style":ro(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof o=="string"?xn(t,o):(typeof o=="number"||typeof o=="bigint")&&xn(t,""+o);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xl.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),r=i.slice(2,h?i.length-7:void 0),m=t[Gt]||null,m=m!=null?m[i]:null,typeof m=="function"&&t.removeEventListener(r,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(r,o,h);break e}i in t?t[i]=o:o===!0?t.setAttribute(i,""):Ii(t,i,o)}}}function nn(t,r,i){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var o=!1,h=!1,m;for(m in i)if(i.hasOwnProperty(m)){var x=i[m];if(x!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(t,r,m,x,i,null)}}h&&it(t,r,"srcSet",i.srcSet,i,null),o&&it(t,r,"src",i.src,i,null);return;case"input":Ue("invalid",t);var w=m=x=h=null,C=null,z=null;for(o in i)if(i.hasOwnProperty(o)){var Y=i[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":x=Y;break;case"checked":C=Y;break;case"defaultChecked":z=Y;break;case"value":m=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:it(t,r,o,Y,i,null)}}Qc(t,m,w,C,z,x,h,!1);return;case"select":Ue("invalid",t),o=x=m=null;for(h in i)if(i.hasOwnProperty(h)&&(w=i[h],w!=null))switch(h){case"value":m=w;break;case"defaultValue":x=w;break;case"multiple":o=w;default:it(t,r,h,w,i,null)}r=m,i=x,t.multiple=!!o,r!=null?Ma(t,!!o,r,!1):i!=null&&Ma(t,!!o,i,!0);return;case"textarea":Ue("invalid",t),m=h=o=null;for(x in i)if(i.hasOwnProperty(x)&&(w=i[x],w!=null))switch(x){case"value":o=w;break;case"defaultValue":h=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:it(t,r,x,w,i,null)}Va(t,o,h,m);return;case"option":for(C in i)if(i.hasOwnProperty(C)&&(o=i[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:it(t,r,C,o,i,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(o=0;o<Po.length;o++)Ue(Po[o],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in i)if(i.hasOwnProperty(z)&&(o=i[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(t,r,z,o,i,null)}return;default:if(Oi(r)){for(Y in i)i.hasOwnProperty(Y)&&(o=i[Y],o!==void 0&&l0(t,r,Y,o,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(o=i[w],o!=null&&it(t,r,w,o,i,null))}function TE(t,r,i,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,x=null,w=null,C=null,z=null,Y=null;for(H in i){var ee=i[H];if(i.hasOwnProperty(H)&&ee!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=ee;default:o.hasOwnProperty(H)||it(t,r,H,null,o,ee)}}for(var B in o){var H=o[B];if(ee=i[B],o.hasOwnProperty(B)&&(H!=null||ee!=null))switch(B){case"type":m=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Y=H;break;case"value":x=H;break;case"defaultValue":w=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==ee&&it(t,r,B,H,o,ee)}}Di(t,x,w,C,z,Y,m,h);return;case"select":H=x=w=B=null;for(m in i)if(C=i[m],i.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(m)||it(t,r,m,null,o,C)}for(h in o)if(m=o[h],C=i[h],o.hasOwnProperty(h)&&(m!=null||C!=null))switch(h){case"value":B=m;break;case"defaultValue":w=m;break;case"multiple":x=m;default:m!==C&&it(t,r,h,m,o,C)}r=w,i=x,o=H,B!=null?Ma(t,!!i,B,!1):!!o!=!!i&&(r!=null?Ma(t,!!i,r,!0):Ma(t,!!i,i?[]:"",!1));return;case"textarea":H=B=null;for(w in i)if(h=i[w],i.hasOwnProperty(w)&&h!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:it(t,r,w,null,o,h)}for(x in o)if(h=o[x],m=i[x],o.hasOwnProperty(x)&&(h!=null||m!=null))switch(x){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&it(t,r,x,h,o,m)}$c(t,B,H);return;case"option":for(var ge in i)if(B=i[ge],i.hasOwnProperty(ge)&&B!=null&&!o.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:it(t,r,ge,null,o,B)}for(C in o)if(B=o[C],H=i[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:it(t,r,C,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in i)B=i[Ne],i.hasOwnProperty(Ne)&&B!=null&&!o.hasOwnProperty(Ne)&&it(t,r,Ne,null,o,B);for(z in o)if(B=o[z],H=i[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:it(t,r,z,B,o,H)}return;default:if(Oi(r)){for(var lt in i)B=i[lt],i.hasOwnProperty(lt)&&B!==void 0&&!o.hasOwnProperty(lt)&&l0(t,r,lt,void 0,o,B);for(Y in o)B=o[Y],H=i[Y],!o.hasOwnProperty(Y)||B===H||B===void 0&&H===void 0||l0(t,r,Y,B,o,H);return}}for(var V in i)B=i[V],i.hasOwnProperty(V)&&B!=null&&!o.hasOwnProperty(V)&&it(t,r,V,null,o,B);for(ee in o)B=o[ee],H=i[ee],!o.hasOwnProperty(ee)||B===H||B==null&&H==null||it(t,r,ee,B,o,H)}function Tb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var h=i[o],m=h.transferSize,x=h.initiatorType,w=h.duration;if(m&&w&&Tb(x)){for(x=0,w=h.responseEnd,o+=1;o<i.length;o++){var C=i[o],z=C.startTime;if(z>w)break;var Y=C.transferSize,ee=C.initiatorType;Y&&Tb(ee)&&(C=C.responseEnd,x+=Y*(C<w?1:(w-z)/(C-z)))}if(--o,r+=8*(m+x)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var o0=null,c0=null;function Xu(t){return t.nodeType===9?t:t.ownerDocument}function Nb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kb(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function u0(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var d0=null;function kE(){var t=window.event;return t&&t.type==="popstate"?t===d0?!1:(d0=t,!0):(d0=null,!1)}var Sb=typeof setTimeout=="function"?setTimeout:void 0,SE=typeof clearTimeout=="function"?clearTimeout:void 0,Ab=typeof Promise=="function"?Promise:void 0,AE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ab<"u"?function(t){return Ab.resolve(null).then(t).catch(jE)}:Sb;function jE(t){setTimeout(function(){throw t})}function ss(t){return t==="head"}function jb(t,r){var i=r,o=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(o===0){t.removeChild(h),gl(r);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")zo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,zo(i);for(var m=i.firstChild;m;){var x=m.nextSibling,w=m.nodeName;m[Cr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=x}}else i==="body"&&zo(t.ownerDocument.body);i=h}while(i);gl(r)}function Cb(t,r){var i=t;t=0;do{var o=i.nextSibling;if(i.nodeType===1?r?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(r?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=o}while(i)}function h0(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var i=r;switch(r=r.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":h0(i),Ri(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function CE(t,r,i,o){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Cr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function RE(t,r,i){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Zn(t.nextSibling),t===null))return null;return t}function Rb(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Zn(t.nextSibling),t===null))return null;return t}function f0(t){return t.data==="$?"||t.data==="$~"}function m0(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function IE(t,r){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||i.readyState!=="loading")r();else{var o=function(){r(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Zn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var g0=null;function Ib(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(r===0)return Zn(t.nextSibling);r--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||r++}t=t.nextSibling}return null}function Db(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(r===0)return t;r--}else i!=="/$"&&i!=="/&"||r++}t=t.previousSibling}return null}function Ob(t,r,i){switch(r=Xu(i),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ri(t)}var Jn=new Map,Mb=new Set;function Wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wa=ie.d;ie.d={f:DE,r:OE,D:ME,C:VE,L:LE,m:PE,X:zE,S:UE,M:BE};function DE(){var t=wa.f(),r=qu();return t||r}function OE(t){var r=qn(t);r!==null&&r.tag===5&&r.type==="form"?Zp(r):wa.r(t)}var hl=typeof document>"u"?null:document;function Vb(t,r,i){var o=hl;if(o&&typeof r=="string"&&r){var h=bn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Mb.has(h)||(Mb.add(h),t={rel:t,crossOrigin:i,href:r},o.querySelector(h)===null&&(r=o.createElement("link"),nn(r,"link",t),Dt(r),o.head.appendChild(r)))}}function ME(t){wa.D(t),Vb("dns-prefetch",t,null)}function VE(t,r){wa.C(t,r),Vb("preconnect",t,r)}function LE(t,r,i){wa.L(t,r,i);var o=hl;if(o&&t&&r){var h='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+bn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+bn(i.imageSizes)+'"]')):h+='[href="'+bn(t)+'"]';var m=h;switch(r){case"style":m=fl(t);break;case"script":m=ml(t)}Jn.has(m)||(t=E({rel:"preload",href:r==="image"&&i&&i.imageSrcSet?void 0:t,as:r},i),Jn.set(m,t),o.querySelector(h)!==null||r==="style"&&o.querySelector(Bo(m))||r==="script"&&o.querySelector(qo(m))||(r=o.createElement("link"),nn(r,"link",t),Dt(r),o.head.appendChild(r)))}}function PE(t,r){wa.m(t,r);var i=hl;if(i&&t){var o=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+bn(o)+'"][href="'+bn(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ml(t)}if(!Jn.has(m)&&(t=E({rel:"modulepreload",href:t},r),Jn.set(m,t),i.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(qo(m)))return}o=i.createElement("link"),nn(o,"link",t),Dt(o),i.head.appendChild(o)}}}function UE(t,r,i){wa.S(t,r,i);var o=hl;if(o&&t){var h=Ir(o).hoistableStyles,m=fl(t);r=r||"default";var x=h.get(m);if(!x){var w={loading:0,preload:null};if(x=o.querySelector(Bo(m)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},i),(i=Jn.get(m))&&p0(t,i);var C=x=o.createElement("link");Dt(C),nn(C,"link",t),C._p=new Promise(function(z,Y){C.onload=z,C.onerror=Y}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Zu(x,r,o)}x={type:"stylesheet",instance:x,count:1,state:w},h.set(m,x)}}}function zE(t,r){wa.X(t,r);var i=hl;if(i&&t){var o=Ir(i).hoistableScripts,h=ml(t),m=o.get(h);m||(m=i.querySelector(qo(h)),m||(t=E({src:t,async:!0},r),(r=Jn.get(h))&&y0(t,r),m=i.createElement("script"),Dt(m),nn(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function BE(t,r){wa.M(t,r);var i=hl;if(i&&t){var o=Ir(i).hoistableScripts,h=ml(t),m=o.get(h);m||(m=i.querySelector(qo(h)),m||(t=E({src:t,async:!0,type:"module"},r),(r=Jn.get(h))&&y0(t,r),m=i.createElement("script"),Dt(m),nn(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Lb(t,r,i,o){var h=(h=xe.current)?Wu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(r=fl(i.href),i=Ir(h).hoistableStyles,o=i.get(r),o||(o={type:"style",instance:null,count:0,state:null},i.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=fl(i.href);var m=Ir(h).hoistableStyles,x=m.get(t);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,x),(m=h.querySelector(Bo(t)))&&!m._p&&(x.instance=m,x.state.loading=5),Jn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Jn.set(t,i),m||qE(h,t,i,x.state))),r&&o===null)throw Error(s(528,""));return x}if(r&&o!==null)throw Error(s(529,""));return null;case"script":return r=i.async,i=i.src,typeof i=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ml(i),i=Ir(h).hoistableScripts,o=i.get(r),o||(o={type:"script",instance:null,count:0,state:null},i.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fl(t){return'href="'+bn(t)+'"'}function Bo(t){return'link[rel="stylesheet"]['+t+"]"}function Pb(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function qE(t,r,i,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),nn(r,"link",i),Dt(r),t.head.appendChild(r))}function ml(t){return'[src="'+bn(t)+'"]'}function qo(t){return"script[async]"+t}function Ub(t,r,i){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+bn(i.href)+'"]');if(o)return r.instance=o,Dt(o),o;var h=E({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),nn(o,"style",h),Zu(o,i.precedence,t),r.instance=o;case"stylesheet":h=fl(i.href);var m=t.querySelector(Bo(h));if(m)return r.state.loading|=4,r.instance=m,Dt(m),m;o=Pb(i),(h=Jn.get(h))&&p0(o,h),m=(t.ownerDocument||t).createElement("link"),Dt(m);var x=m;return x._p=new Promise(function(w,C){x.onload=w,x.onerror=C}),nn(m,"link",o),r.state.loading|=4,Zu(m,i.precedence,t),r.instance=m;case"script":return m=ml(i.src),(h=t.querySelector(qo(m)))?(r.instance=h,Dt(h),h):(o=i,(h=Jn.get(m))&&(o=E({},i),y0(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),nn(h,"link",o),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Zu(o,i.precedence,t));return r.instance}function Zu(t,r,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,x=0;x<o.length;x++){var w=o[x];if(w.dataset.precedence===r)m=w;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=i.nodeType===9?i.head:i,r.insertBefore(t,r.firstChild))}function p0(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function y0(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Ju=null;function zb(t,r,i){if(Ju===null){var o=new Map,h=Ju=new Map;h.set(i,o)}else h=Ju,o=h.get(i),o||(o=new Map,h.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var m=i[h];if(!(m[Cr]||m[It]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(r)||"";x=t+x;var w=o.get(x);w?w.push(m):o.set(x,[m])}}return o}function Bb(t,r,i){t=t.ownerDocument||t,t.head.insertBefore(i,r==="title"?t.querySelector("head > title"):null)}function HE(t,r,i){if(i===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function qb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function FE(t,r,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=fl(o.href),m=r.querySelector(Bo(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=ed.bind(t),r.then(t,t)),i.state.loading|=4,i.instance=m,Dt(m);return}m=r.ownerDocument||r,o=Pb(o),(h=Jn.get(h))&&p0(o,h),m=m.createElement("link"),Dt(m);var x=m;x._p=new Promise(function(w,C){x.onload=w,x.onerror=C}),nn(m,"link",o),i.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=ed.bind(t),r.addEventListener("load",i),r.addEventListener("error",i))}}var b0=0;function GE(t,r){return t.stylesheets&&t.count===0&&nd(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var o=setTimeout(function(){if(t.stylesheets&&nd(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&b0===0&&(b0=62500*NE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nd(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>b0?50:800)+r);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ed(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var td=null;function nd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,td=new Map,r.forEach(QE,t),td=null,ed.call(t))}function QE(t,r){if(!(r.state.loading&4)){var i=td.get(t);if(i)var o=i.get(null);else{i=new Map,td.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var x=h[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(i.set(x.dataset.precedence,x),o=x)}o&&i.set(null,o)}h=r.instance,x=h.getAttribute("data-precedence"),m=i.get(x)||o,m===o&&i.set(null,h),i.set(x,h),this.count++,o=ed.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Ho={$$typeof:ce,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function $E(t,r,i,o,h,m,x,w,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Hb(t,r,i,o,h,m,x,w,C,z,Y,ee){return t=new $E(t,r,i,x,C,z,Y,ee,w),r=1,m===!0&&(r|=24),m=In(3,null,null,r),t.current=m,m.stateNode=t,r=Xh(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:o,isDehydrated:i,cache:r},ef(m),t}function Fb(t){return t?(t=Gi,t):Gi}function Gb(t,r,i,o,h,m){h=Fb(h),o.context===null?o.context=h:o.pendingContext=h,o=Ka(r),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=Ya(t,o,r),i!==null&&(Tn(i,t,r),_o(i,t,r))}function Qb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<r?i:r}}function x0(t,r){Qb(t,r),(t=t.alternate)&&Qb(t,r)}function $b(t){if(t.tag===13||t.tag===31){var r=Ws(t,67108864);r!==null&&Tn(r,t,67108864),x0(t,67108864)}}function Kb(t){if(t.tag===13||t.tag===31){var r=Ln();r=Us(r);var i=Ws(t,r);i!==null&&Tn(i,t,r),x0(t,r)}}var rd=!0;function KE(t,r,i,o){var h=Q.T;Q.T=null;var m=ie.p;try{ie.p=2,v0(t,r,i,o)}finally{ie.p=m,Q.T=h}}function YE(t,r,i,o){var h=Q.T;Q.T=null;var m=ie.p;try{ie.p=8,v0(t,r,i,o)}finally{ie.p=m,Q.T=h}}function v0(t,r,i,o){if(rd){var h=_0(o);if(h===null)i0(t,r,o,ad,i),Xb(t,o);else if(WE(h,t,r,i,o))o.stopPropagation();else if(Xb(t,o),r&4&&-1<XE.indexOf(t)){for(;h!==null;){var m=qn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=kr(m.pendingLanes);if(x!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;x;){var C=1<<31-Nt(x);w.entanglements[1]|=C,x&=~C}Gr(m),(Je&6)===0&&(zu=Yt()+500,Lo(0))}}break;case 31:case 13:w=Ws(m,2),w!==null&&Tn(w,m,2),qu(),x0(m,2)}if(m=_0(o),m===null&&i0(t,r,o,ad,i),m===h)break;h=m}h!==null&&o.stopPropagation()}else i0(t,r,o,null,i)}}function _0(t){return t=Hn(t),w0(t)}var ad=null;function w0(t){if(ad=null,t=Rr(t),t!==null){var r=u(t);if(r===null)t=null;else{var i=r.tag;if(i===13){if(t=f(r),t!==null)return t;t=null}else if(i===31){if(t=g(r),t!==null)return t;t=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return ad=t,null}function Yb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_e()){case Le:return 2;case We:return 8;case pe:case gt:return 32;case Xt:return 268435456;default:return 32}default:return 32}}var E0=!1,is=null,ls=null,os=null,Fo=new Map,Go=new Map,cs=[],XE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xb(t,r){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":Fo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(r.pointerId)}}function Qo(t,r,i,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:i,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},r!==null&&(r=qn(r),r!==null&&$b(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function WE(t,r,i,o,h){switch(r){case"focusin":return is=Qo(is,t,r,i,o,h),!0;case"dragenter":return ls=Qo(ls,t,r,i,o,h),!0;case"mouseover":return os=Qo(os,t,r,i,o,h),!0;case"pointerover":var m=h.pointerId;return Fo.set(m,Qo(Fo.get(m)||null,t,r,i,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Go.set(m,Qo(Go.get(m)||null,t,r,i,o,h)),!0}return!1}function Wb(t){var r=Rr(t.target);if(r!==null){var i=u(r);if(i!==null){if(r=i.tag,r===13){if(r=f(i),r!==null){t.blockedOn=r,ir(t.priority,function(){Kb(i)});return}}else if(r===31){if(r=g(i),r!==null){t.blockedOn=r,ir(t.priority,function(){Kb(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sd(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var i=_0(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);ao=o,i.target.dispatchEvent(o),ao=null}else return r=qn(i),r!==null&&$b(r),t.blockedOn=i,!1;r.shift()}return!0}function Zb(t,r,i){sd(t)&&i.delete(r)}function ZE(){E0=!1,is!==null&&sd(is)&&(is=null),ls!==null&&sd(ls)&&(ls=null),os!==null&&sd(os)&&(os=null),Fo.forEach(Zb),Go.forEach(Zb)}function id(t,r){t.blockedOn===r&&(t.blockedOn=null,E0||(E0=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ZE)))}var ld=null;function Jb(t){ld!==t&&(ld=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ld===t&&(ld=null);for(var r=0;r<t.length;r+=3){var i=t[r],o=t[r+1],h=t[r+2];if(typeof o!="function"){if(w0(o||i)===null)continue;break}var m=qn(i);m!==null&&(t.splice(r,3),r-=3,_f(m,{pending:!0,data:h,method:i.method,action:o},o,h))}}))}function gl(t){function r(C){return id(C,t)}is!==null&&id(is,t),ls!==null&&id(ls,t),os!==null&&id(os,t),Fo.forEach(r),Go.forEach(r);for(var i=0;i<cs.length;i++){var o=cs[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<cs.length&&(i=cs[0],i.blockedOn===null);)Wb(i),i.blockedOn===null&&cs.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var h=i[o],m=i[o+1],x=h[Gt]||null;if(typeof m=="function")x||Jb(i);else if(x){var w=null;if(m&&m.hasAttribute("formAction")){if(h=m,x=m[Gt]||null)w=x.formAction;else if(w0(h)!==null)continue}else w=x.action;typeof w=="function"?i[o+1]=w:(i.splice(o,3),o-=3),Jb(i)}}}function ex(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(x){return h=x})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function T0(t){this._internalRoot=t}od.prototype.render=T0.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var i=r.current,o=Ln();Gb(i,o,t,r,null,null)},od.prototype.unmount=T0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Gb(t.current,2,null,t,null,null),qu(),r[jr]=null}};function od(t){this._internalRoot=t}od.prototype.unstable_scheduleHydration=function(t){if(t){var r=qc();t={blockedOn:null,target:t,priority:r};for(var i=0;i<cs.length&&r!==0&&r<cs[i].priority;i++);cs.splice(i,0,t),i===0&&Wb(t)}};var tx=e.version;if(tx!=="19.2.0")throw Error(s(527,tx,"19.2.0"));ie.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var JE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{Ct=cd.inject(JE),bt=cd}catch{}}return Ko.createRoot=function(t,r){if(!l(t))throw Error(s(299));var i=!1,o="",h=oy,m=cy,x=uy;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=Hb(t,1,!1,null,null,i,o,null,h,m,x,ex),t[jr]=r.current,s0(t),new T0(r)},Ko.hydrateRoot=function(t,r,i){if(!l(t))throw Error(s(299));var o=!1,h="",m=oy,x=cy,w=uy,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),r=Hb(t,1,!0,r,i??null,o,h,C,m,x,w,ex),r.context=Fb(null),i=r.current,o=Ln(),o=Us(o),h=Ka(o),h.callback=null,Ya(i,h,o),i=o,r.current.lanes=i,Ls(r,i),Gr(r),t[jr]=r.current,s0(t),new od(r)},Ko.version="19.2.0",Ko}var dx;function cT(){if(dx)return S0.exports;dx=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),S0.exports=oT(),S0.exports}var uT=cT();const dT=cv(uT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fT=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),hx=a=>{const e=fT(a);return e.charAt(0).toUpperCase()+e.slice(1)},dv=(...a)=>a.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),mT=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ne.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:f,...g},p)=>ne.createElement("svg",{ref:p,...gT,width:e,height:e,stroke:a,strokeWidth:s?Number(n)*24/Number(e):n,className:dv("lucide",l),...!u&&!mT(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,_])=>ne.createElement(y,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(a,e)=>{const n=ne.forwardRef(({className:s,...l},u)=>ne.createElement(pT,{ref:u,iconNode:e,className:dv(`lucide-${hT(hx(a))}`,`lucide-${a}`,s),...l}));return n.displayName=hx(a),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Sd=he("arrow-left",yT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Kr=he("arrow-right",bT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],gi=he("award",xT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ta=he("book-open",vT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],hv=he("briefcase",_T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fv=he("calendar",wT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],TT=he("chart-column",ET);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],kT=he("chart-pie",NT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cc=he("chevron-down",ST);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tc=he("chevron-left",AT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],R0=he("chevron-right",jT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ad=he("circle-alert",CT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Im=he("circle-check-big",RT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ps=he("circle-check",IT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],uc=he("circle-plus",DT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sl=he("circle-question-mark",OT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],VT=he("circle-user",MT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mv=he("circle-x",LT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gv=he("clock",PT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],dc=he("crown",UT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],BT=he("download",zT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Z0=he("eye",qT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],J0=he("facebook",HT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],fx=he("file-check",FT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],QT=he("file-search",GT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jd=he("file-text",$T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],pv=he("flag",KT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Dm=he("flame",YT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],ud=he("folder-open",XT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ZT=he("globe",WT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ll=he("graduation-cap",JT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],em=he("house",eN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],nN=he("info",tN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],hc=he("layers",rN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],sN=he("layout-dashboard",aN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],mx=he("list",iN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pn=he("loader-circle",lN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],gx=he("log-in",oN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_l=he("lock",cN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Cd=he("log-out",uN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],px=he("mail",dN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],tm=he("map-pin",hN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],yx=he("medal",fN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],gN=he("menu",mN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],fc=he("message-circle",pN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],bx=he("palette",yN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xN=he("pen-line",bN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],_N=he("pen-tool",vN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],EN=he("play",wN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],NN=he("refresh-cw",TN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rd=he("save",kN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Id=he("school",SN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Al=he("search",AN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],CN=he("shield-alert",jN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],IN=he("shield-check",RN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ON=he("sparkles",DN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],VN=he("square-check-big",MN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xx=he("square-pen",LN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Om=he("star",PN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],yv=he("tag",UN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],BN=he("target",zN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],bv=he("text-align-start",qN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nm=he("trash-2",HN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],vx=he("trending-up",FN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xv=he("triangle-alert",GN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],vv=he("trophy",QN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],KN=he("type",$N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],XN=he("user-plus",YN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$r=he("user",WN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],JN=he("users",ZN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pi=he("x",ek);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_v=he("zap",tk),nk=()=>{};var _x={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=function(a){const e=[];let n=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},rk=function(a){const e=[];let n=0,s=0;for(;n<a.length;){const l=a[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=a[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=a[n++],f=a[n++],g=a[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=a[n++],f=a[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const u=a[l],f=l+1<a.length,g=f?a[l+1]:0,p=l+2<a.length,y=p?a[l+2]:0,_=u>>2,E=(u&3)<<4|g>>4;let j=(g&15)<<2|y>>6,P=y&63;p||(P=64,f||(j=64)),s.push(n[_],n[E],n[j],n[P])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(wv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):rk(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const u=n[a.charAt(l++)],g=l<a.length?n[a.charAt(l)]:0;++l;const y=l<a.length?n[a.charAt(l)]:64;++l;const E=l<a.length?n[a.charAt(l)]:64;if(++l,u==null||g==null||y==null||E==null)throw new ak;const j=u<<2|g>>4;if(s.push(j),y!==64){const P=g<<4&240|y>>2;if(s.push(P),E!==64){const F=y<<6&192|E;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class ak extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sk=function(a){const e=wv(a);return Ev.encodeByteArray(e,!0)},Dd=function(a){return sk(a).replace(/\./g,"")},Tv=function(a){try{return Ev.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=()=>ik().__FIREBASE_DEFAULTS__,ok=()=>{if(typeof process>"u"||typeof _x>"u")return;const a=_x.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},ck=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Tv(a[1]);return e&&JSON.parse(e)},eh=()=>{try{return nk()||lk()||ok()||ck()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Nv=a=>{var e,n;return(n=(e=eh())==null?void 0:e.emulatorHosts)==null?void 0:n[a]},uk=a=>{const e=Nv(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},kv=()=>{var a;return(a=eh())==null?void 0:a.config},Sv=a=>{var e;return(e=eh())==null?void 0:e[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Av(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Dd(JSON.stringify(n)),Dd(JSON.stringify(f)),""].join(".")}const nc={};function fk(){const a={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?a.emulator.push(e):a.prod.push(e);return a}function mk(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let wx=!1;function jv(a,e){if(typeof window>"u"||typeof document>"u"||!Pl(window.location.host)||nc[a]===e||nc[a]||wx)return;nc[a]=e;function n(j){return`__firebase__banner__${j}`}const s="__firebase__banner",u=fk().prod.length>0;function f(){const j=document.getElementById(s);j&&j.remove()}function g(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function p(j,P){j.setAttribute("width","24"),j.setAttribute("id",P),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function y(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{wx=!0,f()},j}function _(j,P){j.setAttribute("id",P),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function E(){const j=mk(s),P=n("text"),F=document.getElementById(P)||document.createElement("span"),re=n("learnmore"),G=document.getElementById(re)||document.createElement("a"),K=n("preprendIcon"),ae=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const ce=j.element;g(ce),_(G,re);const ve=y();p(ae,K),ce.append(ae,F,G,ve),document.body.appendChild(ce)}u?(F.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function pk(){var e;const a=(e=eh())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cv(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function bk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xk(){const a=fn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function vk(){return!pk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rv(){try{return typeof indexedDB=="object"}catch{return!1}}function Iv(){return new Promise((a,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}function _k(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="FirebaseError";class vr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=wk,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ti.prototype.create)}}class Ti{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?Ek(u,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new vr(l,g,s)}}function Ek(a,e){return a.replace(Tk,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Tk=/\{\$([^}]+)}/g;function Nk(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function ws(a,e){if(a===e)return!0;const n=Object.keys(a),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=a[l],f=e[l];if(Ex(u)&&Ex(f)){if(!ws(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Ex(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(a){const e=[];for(const[n,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Yo(a){const e={};return a.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Xo(a){const e=a.indexOf("?");if(!e)return"";const n=a.indexOf("#",e);return a.substring(e,n>0?n:void 0)}function kk(a,e){const n=new Sk(a,e);return n.subscribe.bind(n)}class Sk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ak(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=I0),l.error===void 0&&(l.error=I0),l.complete===void 0&&(l.complete=I0);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ak(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function I0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=1e3,Ck=2,Rk=14400*1e3,Ik=.5;function Tx(a,e=jk,n=Ck){const s=e*Math.pow(n,a),l=Math.round(Ik*s*(Math.random()-.5)*2);return Math.min(Rk,s+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(a){return a&&a._delegate?a._delegate:a}class yr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new dk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Mk(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ok(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ok(a){return a===ui?void 0:a}function Mk(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Dk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(qe||(qe={}));const Lk={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Pk=qe.INFO,Uk={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},zk=(a,e,...n)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),l=Uk[e];if(l)console[l](`[${s}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class th{constructor(e){this.name=e,this._logLevel=Pk,this._logHandler=zk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const Bk=(a,e)=>e.some(n=>a instanceof n);let Nx,kx;function qk(){return Nx||(Nx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hk(){return kx||(kx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dv=new WeakMap,rm=new WeakMap,Ov=new WeakMap,D0=new WeakMap,Mm=new WeakMap;function Fk(a){const e=new Promise((n,s)=>{const l=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{n(bs(a.result)),l()},f=()=>{s(a.error),l()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Dv.set(n,a)}).catch(()=>{}),Mm.set(e,a),e}function Gk(a){if(rm.has(a))return;const e=new Promise((n,s)=>{const l=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});rm.set(a,e)}let am={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return rm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Ov.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Qk(a){am=a(am)}function $k(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=a.call(O0(this),e,...n);return Ov.set(s,e.sort?e.sort():[e]),bs(s)}:Hk().includes(a)?function(...e){return a.apply(O0(this),e),bs(Dv.get(this))}:function(...e){return bs(a.apply(O0(this),e))}}function Kk(a){return typeof a=="function"?$k(a):(a instanceof IDBTransaction&&Gk(a),Bk(a,qk())?new Proxy(a,am):a)}function bs(a){if(a instanceof IDBRequest)return Fk(a);if(D0.has(a))return D0.get(a);const e=Kk(a);return e!==a&&(D0.set(a,e),Mm.set(e,a)),e}const O0=a=>Mm.get(a);function Mv(a,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(a,e),g=bs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(bs(f.result),p.oldVersion,p.newVersion,bs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const Yk=["get","getKey","getAll","getAllKeys","count"],Xk=["put","add","delete","clear"],M0=new Map;function Sx(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(M0.get(e))return M0.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=Xk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Yk.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&p.done]))[0]};return M0.set(e,u),u}Qk(a=>({...a,get:(e,n,s)=>Sx(e,n)||a.get(e,n,s),has:(e,n)=>!!Sx(e,n)||a.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Zk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Zk(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sm="@firebase/app",Ax="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new th("@firebase/app"),Jk="@firebase/app-compat",e4="@firebase/analytics-compat",t4="@firebase/analytics",n4="@firebase/app-check-compat",r4="@firebase/app-check",a4="@firebase/auth",s4="@firebase/auth-compat",i4="@firebase/database",l4="@firebase/data-connect",o4="@firebase/database-compat",c4="@firebase/functions",u4="@firebase/functions-compat",d4="@firebase/installations",h4="@firebase/installations-compat",f4="@firebase/messaging",m4="@firebase/messaging-compat",g4="@firebase/performance",p4="@firebase/performance-compat",y4="@firebase/remote-config",b4="@firebase/remote-config-compat",x4="@firebase/storage",v4="@firebase/storage-compat",_4="@firebase/firestore",w4="@firebase/ai",E4="@firebase/firestore-compat",T4="firebase",N4="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",k4={[sm]:"fire-core",[Jk]:"fire-core-compat",[t4]:"fire-analytics",[e4]:"fire-analytics-compat",[r4]:"fire-app-check",[n4]:"fire-app-check-compat",[a4]:"fire-auth",[s4]:"fire-auth-compat",[i4]:"fire-rtdb",[l4]:"fire-data-connect",[o4]:"fire-rtdb-compat",[c4]:"fire-fn",[u4]:"fire-fn-compat",[d4]:"fire-iid",[h4]:"fire-iid-compat",[f4]:"fire-fcm",[m4]:"fire-fcm-compat",[g4]:"fire-perf",[p4]:"fire-perf-compat",[y4]:"fire-rc",[b4]:"fire-rc-compat",[x4]:"fire-gcs",[v4]:"fire-gcs-compat",[_4]:"fire-fst",[E4]:"fire-fst-compat",[w4]:"fire-vertex","fire-js":"fire-js",[T4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new Map,S4=new Map,lm=new Map;function jx(a,e){try{a.container.addComponent(e)}catch(n){Sa.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function na(a){const e=a.name;if(lm.has(e))return Sa.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,a);for(const n of Od.values())jx(n,a);for(const n of S4.values())jx(n,a);return!0}function Ni(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function er(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new Ti("app","Firebase",A4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=N4;function Vv(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const s={name:im,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw xs.create("bad-app-name",{appName:String(l)});if(n||(n=kv()),!n)throw xs.create("no-options");const u=Od.get(l);if(u){if(ws(n,u.options)&&ws(s,u.config))return u;throw xs.create("duplicate-app",{appName:l})}const f=new Vk(l);for(const p of lm.values())f.addComponent(p);const g=new j4(n,s,f);return Od.set(l,g),g}function Vm(a=im){const e=Od.get(a);if(!e&&a===im&&kv())return Vv();if(!e)throw xs.create("no-app",{appName:a});return e}function nr(a,e,n){let s=k4[a]??a;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sa.warn(f.join(" "));return}na(new yr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="firebase-heartbeat-database",R4=1,mc="firebase-heartbeat-store";let V0=null;function Lv(){return V0||(V0=Mv(C4,R4,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(mc)}catch(n){console.warn(n)}}}}).catch(a=>{throw xs.create("idb-open",{originalErrorMessage:a.message})})),V0}async function I4(a){try{const n=(await Lv()).transaction(mc),s=await n.objectStore(mc).get(Pv(a));return await n.done,s}catch(e){if(e instanceof vr)Sa.warn(e.message);else{const n=xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sa.warn(n.message)}}}async function Cx(a,e){try{const s=(await Lv()).transaction(mc,"readwrite");await s.objectStore(mc).put(e,Pv(a)),await s.done}catch(n){if(n instanceof vr)Sa.warn(n.message);else{const s=xs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sa.warn(s.message)}}}function Pv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=1024,O4=30;class M4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Rx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>O4){const f=P4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Sa.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rx(),{heartbeatsToSend:s,unsentEntries:l}=V4(this._heartbeatsCache.heartbeats),u=Dd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Sa.warn(n),""}}}function Rx(){return new Date().toISOString().substring(0,10)}function V4(a,e=D4){const n=[];let s=a.slice();for(const l of a){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Ix(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Ix(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class L4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rv()?Iv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ix(a){return Dd(JSON.stringify({version:2,heartbeats:a})).length}function P4(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let s=1;s<a.length;s++)a[s].date<n&&(n=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(a){na(new yr("platform-logger",e=>new Wk(e),"PRIVATE")),na(new yr("heartbeat",e=>new M4(e),"PRIVATE")),nr(sm,Ax,a),nr(sm,Ax,"esm2020"),nr("fire-js","")}U4("");var z4="firebase",B4="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(z4,B4,"app");function Uv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q4=Uv,zv=new Ti("auth","Firebase",Uv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new th("@firebase/auth");function H4(a,...e){Md.logLevel<=qe.WARN&&Md.warn(`Auth (${Ul}): ${a}`,...e)}function yd(a,...e){Md.logLevel<=qe.ERROR&&Md.error(`Auth (${Ul}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(a,...e){throw Lm(a,...e)}function Yr(a,...e){return Lm(a,...e)}function Bv(a,e,n){const s={...q4(),[e]:n};return new Ti("auth","Firebase",s).create(e,{appName:a.name})}function Na(a){return Bv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lm(a,...e){if(typeof a!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(n,...s)}return zv.create(a,...e)}function ke(a,e,...n){if(!a)throw Lm(e,...n)}function Ea(a){const e="INTERNAL ASSERTION FAILED: "+a;throw yd(e),new Error(e)}function Aa(a,e){a||Ea(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.href)||""}function F4(){return Dx()==="http:"||Dx()==="https:"}function Dx(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F4()||Cv()||"connection"in navigator)?navigator.onLine:!0}function Q4(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Aa(n>e,"Short delay should be less than long delay!"),this.isMobile=gk()||bk()}get(){return G4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(a,e){Aa(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y4=new Sc(3e4,6e4);function Ia(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function Da(a,e,n,s,l={}){return Hv(a,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const g=kc({key:a.config.apiKey,...f}).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const y={method:e,headers:p,...u};return yk()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&Pl(a.emulatorConfig.host)&&(y.credentials="include"),qv.fetch()(await Fv(a,a.config.apiHost,n,g),y)})}async function Hv(a,e,n){a._canInitEmulator=!1;const s={...$4,...e};try{const l=new W4(a),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw dd(a,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw dd(a,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw dd(a,"email-already-in-use",f);if(p==="USER_DISABLED")throw dd(a,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Bv(a,_,y);br(a,_)}}catch(l){if(l instanceof vr)throw l;br(a,"network-request-failed",{message:String(l)})}}async function Ac(a,e,n,s,l={}){const u=await Da(a,e,n,s,l);return"mfaPendingCredential"in u&&br(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function Fv(a,e,n,s){const l=`${e}${n}?${s}`,u=a,f=u.config.emulator?Pm(a.config,l):`${a.config.apiScheme}://${l}`;return K4.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function X4(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Yr(this.auth,"network-request-failed")),Y4.get())})}}function dd(a,e,n){const s={appName:a.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Yr(a,e,s);return l.customData._tokenResponse=n,l}function Ox(a){return a!==void 0&&a.enterprise!==void 0}class Z4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return X4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J4(a,e){return Da(a,"GET","/v2/recaptchaConfig",Ia(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eS(a,e){return Da(a,"POST","/v1/accounts:delete",e)}async function Vd(a,e){return Da(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tS(a,e=!1){const n=Et(a),s=await n.getIdToken(e),l=Um(s);ke(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:rc(L0(l.auth_time)),issuedAtTime:rc(L0(l.iat)),expirationTime:rc(L0(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function L0(a){return Number(a)*1e3}function Um(a){const[e,n,s]=a.split(".");if(e===void 0||n===void 0||s===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const l=Tv(n);return l?JSON.parse(l):(yd("Failed to decode base64 JWT payload"),null)}catch(l){return yd("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Mx(a){const e=Um(a);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(a,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof vr&&nS(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function nS({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(a){var E;const e=a.auth,n=await a.getIdToken(),s=await gc(a,Vd(e,{idToken:n}));ke(s==null?void 0:s.users.length,e,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const u=(E=l.providerUserInfo)!=null&&E.length?Gv(l.providerUserInfo):[],f=sS(a.providerData,u),g=a.isAnonymous,p=!(a.email&&l.passwordHash)&&!(f!=null&&f.length),y=g?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(a,_)}async function aS(a){const e=Et(a);await Ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sS(a,e){return[...a.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function Gv(a){return a.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS(a,e){const n=await Hv(a,{},async()=>{const s=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=a.config,f=await Fv(a,l,"/v1/token",`key=${u}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return a.emulatorConfig&&Pl(a.emulatorConfig.host)&&(p.credentials="include"),qv.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lS(a,e){return Da(a,"POST","/v2/accounts:revokeToken",Ia(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=Mx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await iS(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new wl;return s&&(ke(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(ke(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ke(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return Ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(a,e){ke(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class pr{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new rS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await gc(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tS(this,e)}reload(){return aS(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ld(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(Na(this.auth));const e=await this.getIdToken();return await gc(this,eS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:j,isAnonymous:P,providerData:F,stsTokenManager:re}=n;ke(E&&re,e,"internal-error");const G=wl.fromJSON(this.name,re);ke(typeof E=="string",e,"internal-error"),ds(s,e.name),ds(l,e.name),ke(typeof j=="boolean",e,"internal-error"),ke(typeof P=="boolean",e,"internal-error"),ds(u,e.name),ds(f,e.name),ds(g,e.name),ds(p,e.name),ds(y,e.name),ds(_,e.name);const K=new pr({uid:E,auth:e,email:l,emailVerified:j,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:G,createdAt:y,lastLoginAt:_});return F&&Array.isArray(F)&&(K.providerData=F.map(ae=>({...ae}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(e,n,s=!1){const l=new wl;l.updateFromServerResponse(n);const u=new pr({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Ld(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];ke(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Gv(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new wl;g.updateFromIdToken(s);const p=new pr({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=new Map;function Ta(a){Aa(a instanceof Function,"Expected a class definition");let e=Vx.get(a);return e?(Aa(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,Vx.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Qv.type="NONE";const Lx=Qv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(a,e,n){return`firebase:${a}:${e}:${n}`}class El{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=bd(this.userKey,l.apiKey,u),this.fullPersistenceKey=bd("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vd(this.auth,{idToken:e}).catch(()=>{});return n?pr._fromGetAccountInfoResponse(this.auth,n,e):null}return pr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new El(Ta(Lx),e,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Ta(Lx);const f=bd(s,e.config.apiKey,e.name);let g=null;for(const y of n)try{const _=await y._get(f);if(_){let E;if(typeof _=="string"){const j=await Vd(e,{idToken:_}).catch(()=>{});if(!j)break;E=await pr._fromGetAccountInfoResponse(e,j,_)}else E=pr._fromJSON(e,_);y!==u&&(g=E),u=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new El(u,e,s):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new El(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($v(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zv(e))return"Blackberry";if(Jv(e))return"Webos";if(Kv(e))return"Safari";if((e.includes("chrome/")||Yv(e))&&!e.includes("edge/"))return"Chrome";if(Wv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function $v(a=fn()){return/firefox\//i.test(a)}function Kv(a=fn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yv(a=fn()){return/crios\//i.test(a)}function Xv(a=fn()){return/iemobile/i.test(a)}function Wv(a=fn()){return/android/i.test(a)}function Zv(a=fn()){return/blackberry/i.test(a)}function Jv(a=fn()){return/webos/i.test(a)}function zm(a=fn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function oS(a=fn()){var e;return zm(a)&&!!((e=window.navigator)!=null&&e.standalone)}function cS(){return xk()&&document.documentMode===10}function e_(a=fn()){return zm(a)||Wv(a)||Jv(a)||Zv(a)||/windows phone/i.test(a)||Xv(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(a,e=[]){let n;switch(a){case"Browser":n=Px(fn());break;case"Worker":n=`${Px(fn())}-${a}`;break;default:n=a}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ul}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,g)=>{try{const p=e(u);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(a,e={}){return Da(a,"GET","/v2/passwordPolicy",Ia(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=6;class fS{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hS,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ux(this),this.idTokenSubscription=new Ux(this),this.beforeStateQueue=new uS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ta(n)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await El.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vd(this,{idToken:e}),s=await pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(er(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===g)&&(p!=null&&p.user)&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ld(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(Na(this));const n=e?Et(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(Na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(Na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ta(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dS(this),n=new fS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ti("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await lS(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ta(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await El.create(this,[Ta(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&H4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Cs(a){return Et(a)}class Ux{constructor(e){this.auth=e,this.observer=null,this.addObserver=kk(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gS(a){nh=a}function n_(a){return nh.loadJS(a)}function pS(){return nh.recaptchaEnterpriseScript}function yS(){return nh.gapiScript}function bS(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class xS{constructor(){this.enterprise=new vS}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vS{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _S="recaptcha-enterprise",r_="NO_RECAPTCHA";class wS{constructor(e){this.type=_S,this.auth=Cs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{J4(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new Z4(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{g(p)})})}function l(u,f,g){const p=window.grecaptcha;Ox(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(r_)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xS().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(g=>{if(!n&&Ox(window.grecaptcha))l(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pS();p.length!==0&&(p+=g),n_(p).then(()=>{l(g,u,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function zx(a,e,n,s=!1,l=!1){const u=new wS(a);let f;if(l)f=r_;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Pd(a,e,n,s,l){var u;if((u=a._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await zx(a,e,n,n==="getOobCode");return s(a,f)}else return s(a,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await zx(a,e,n,n==="getOobCode");return s(a,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(a,e){const n=Ni(a,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ws(u,e??{}))return l;br(l,"already-initialized")}return n.initialize({options:e})}function TS(a,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ta);e!=null&&e.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function NS(a,e,n){const s=Cs(a);ke(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=a_(e),{host:f,port:g}=kS(e),p=g===null?"":`:${g}`,y={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ke(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ke(ws(y,s.config.emulator)&&ws(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Pl(f)?(Av(`${u}//${f}${p}`),jv("Auth",!0)):SS()}function a_(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function kS(a){const e=a_(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Bx(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Bx(f)}}}function Bx(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function SS(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ea("not implemented")}_getIdTokenResponse(e){return Ea("not implemented")}_linkToIdToken(e,n){return Ea("not implemented")}_getReauthenticationResolver(e){return Ea("not implemented")}}async function AS(a,e){return Da(a,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(a,e){return Ac(a,"POST","/v1/accounts:signInWithPassword",Ia(a,e))}async function CS(a,e){return Da(a,"POST","/v1/accounts:sendOobCode",Ia(a,e))}async function RS(a,e){return CS(a,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(a,e){return Ac(a,"POST","/v1/accounts:signInWithEmailLink",Ia(a,e))}async function DS(a,e){return Ac(a,"POST","/v1/accounts:signInWithEmailLink",Ia(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Bm{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new pc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new pc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pd(e,n,"signInWithPassword",jS);case"emailLink":return IS(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pd(e,s,"signUpPassword",AS);case"emailLink":return DS(e,{idToken:n,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(a,e){return Ac(a,"POST","/v1/accounts:signInWithIdp",Ia(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="http://localhost";class yi extends Bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const f=new yi(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Tl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Tl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tl(e,n)}buildRequest(){const e={requestUri:OS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VS(a){const e=Yo(Xo(a)).link,n=e?Yo(Xo(e)).deep_link_id:null,s=Yo(Xo(a)).deep_link_id;return(s?Yo(Xo(s)).link:null)||s||n||e||a}class qm{constructor(e){const n=Yo(Xo(e)),s=n.apiKey??null,l=n.oobCode??null,u=MS(n.mode??null);ke(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VS(e);try{return new qm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.providerId=zl.PROVIDER_ID}static credential(e,n){return pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=qm.parseLink(n);return ke(s,"argument-error"),pc._fromEmailAndCode(e,s.code,s.tenantId)}}zl.PROVIDER_ID="password";zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends s_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends jc{constructor(){super("facebook.com")}static credential(e){return yi._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yi._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fs.credential(n,s)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends jc{constructor(){super("github.com")}static credential(e){return yi._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends jc{constructor(){super("twitter.com")}static credential(e,n){return yi._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return gs.credential(n,s)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LS(a,e){return Ac(a,"POST","/v1/accounts:signUp",Ia(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await pr._fromIdTokenResponse(e,s,l),f=qx(s);return new bi({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=qx(s);return new bi({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function qx(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends vr{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Ud.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Ud(e,n,s,l)}}function i_(a,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ud._fromErrorAndOperation(a,u,e,s):u})}async function PS(a,e,n=!1){const s=await gc(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return bi._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function US(a,e,n=!1){const{auth:s}=a;if(er(s.app))return Promise.reject(Na(s));const l="reauthenticate";try{const u=await gc(a,i_(s,l,e,a),n);ke(u.idToken,s,"internal-error");const f=Um(u.idToken);ke(f,s,"internal-error");const{sub:g}=f;return ke(a.uid===g,s,"user-mismatch"),bi._forOperation(a,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&br(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l_(a,e,n=!1){if(er(a.app))return Promise.reject(Na(a));const s="signIn",l=await i_(a,s,e),u=await bi._fromIdTokenResponse(a,s,l);return n||await a._updateCurrentUser(u.user),u}async function zS(a,e){return l_(Cs(a),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o_(a){const e=Cs(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BS(a,e,n){const s=Cs(a);await Pd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",RS)}async function qS(a,e,n){if(er(a.app))return Promise.reject(Na(a));const s=Cs(a),f=await Pd(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LS).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&o_(a),p}),g=await bi._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function HS(a,e,n){return er(a.app)?Promise.reject(Na(a)):zS(Et(a),zl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&o_(a),s})}function FS(a,e,n,s){return Et(a).onIdTokenChanged(e,n,s)}function GS(a,e,n){return Et(a).beforeAuthStateChanged(e,n)}function QS(a,e,n,s){return Et(a).onAuthStateChanged(e,n,s)}function $S(a){return Et(a).signOut()}const zd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zd,"1"),this.storage.removeItem(zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=1e3,YS=10;class u_ extends c_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);cS()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,YS):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},KS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}u_.type="LOCAL";const XS=u_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends c_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}d_.type="SESSION";const h_=d_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new rh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async y=>y(n.origin,u)),p=await WS(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(a="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return a+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const y=Hm("",20);l.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(E){const j=E;if(j.data.eventId===y)switch(j.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(j.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return window}function JS(a){Xr().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function eA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tA(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)==null?void 0:a.controller)||null}function nA(){return f_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="firebaseLocalStorageDb",rA=1,Bd="firebaseLocalStorage",g_="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ah(a,e){return a.transaction([Bd],e?"readwrite":"readonly").objectStore(Bd)}function aA(){const a=indexedDB.deleteDatabase(m_);return new Cc(a).toPromise()}function um(){const a=indexedDB.open(m_,rA);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Bd,{keyPath:g_})}catch(l){n(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Bd)?e(s):(s.close(),await aA(),e(await um()))})})}async function Hx(a,e,n){const s=ah(a,!0).put({[g_]:e,value:n});return new Cc(s).toPromise()}async function sA(a,e){const n=ah(a,!1).get(e),s=await new Cc(n).toPromise();return s===void 0?null:s.value}function Fx(a,e){const n=ah(a,!0).delete(e);return new Cc(n).toPromise()}const iA=800,lA=3;class p_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>lA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(nA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await eA(),!this.activeServiceWorker)return;this.sender=new ZS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await Hx(e,zd,"1"),await Fx(e,zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Hx(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>sA(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=ah(l,!1).getAll();return new Cc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p_.type="LOCAL";const oA=p_;new Sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(a,e){return e?Ta(e):(ke(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends Bm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uA(a){return l_(a.auth,new Fm(a),a.bypassAuthState)}function dA(a){const{auth:e,user:n}=a;return ke(n,e,"internal-error"),US(n,new Fm(a),a.bypassAuthState)}async function hA(a){const{auth:e,user:n}=a;return ke(n,e,"internal-error"),PS(n,new Fm(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uA;case"linkViaPopup":case"linkViaRedirect":return hA;case"reauthViaPopup":case"reauthViaRedirect":return dA;default:br(this.auth,"internal-error")}}resolve(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new Sc(2e3,1e4);class vl extends y_{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,vl.currentPopupAction&&vl.currentPopupAction.cancel(),vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Aa(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fA.get())};e()}}vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="pendingRedirect",xd=new Map;class gA extends y_{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=xd.get(this.auth._key());if(!e){try{const s=await pA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}xd.set(this.auth._key(),e)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pA(a,e){const n=xA(e),s=bA(a);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function yA(a,e){xd.set(a._key(),e)}function bA(a){return Ta(a._redirectPersistence)}function xA(a){return bd(mA,a.config.apiKey,a.name)}async function vA(a,e,n=!1){if(er(a.app))return Promise.reject(Na(a));const s=Cs(a),l=cA(s,e),f=await new gA(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=600*1e3;class wA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!b_(e)){const l=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Yr(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_A&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gx(e))}saveEventToCache(e){this.cachedEventUids.add(Gx(e)),this.lastProcessedEventTime=Date.now()}}function Gx(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function b_({type:a,error:e}){return a==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EA(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b_(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(a,e={}){return Da(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kA=/^https?/;async function SA(a){if(a.config.emulator)return;const{authorizedDomains:e}=await TA(a);for(const n of e)try{if(AA(n))return}catch{}br(a,"unauthorized-domain")}function AA(a){const e=om(),{protocol:n,hostname:s}=new URL(e);if(a.startsWith("chrome-extension://")){const f=new URL(a);return f.hostname===""&&s===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!kA.test(n))return!1;if(NA.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new Sc(3e4,6e4);function Qx(){const a=Xr().___jsl;if(a!=null&&a.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function CA(a){return new Promise((e,n)=>{var l,u,f;function s(){Qx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qx(),n(Yr(a,"network-request-failed"))},timeout:jA.get()})}if((u=(l=Xr().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=Xr().gapi)!=null&&f.load)s();else{const g=bS("iframefcb");return Xr()[g]=()=>{gapi.load?s():n(Yr(a,"network-request-failed"))},n_(`${yS()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw vd=null,e})}let vd=null;function RA(a){return vd=vd||CA(a),vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new Sc(5e3,15e3),DA="__/auth/iframe",OA="emulator/auth/iframe",MA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LA(a){const e=a.config;ke(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?Pm(e,OA):`https://${a.config.authDomain}/${DA}`,s={apiKey:e.apiKey,appName:a.name,v:Ul},l=VA.get(a.config.apiHost);l&&(s.eid=l);const u=a._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${kc(s).slice(1)}`}async function PA(a){const e=await RA(a),n=Xr().gapi;return ke(n,a,"internal-error"),e.open({where:document.body,url:LA(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MA,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=Yr(a,"network-request-failed"),g=Xr().setTimeout(()=>{u(f)},IA.get());function p(){Xr().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zA=500,BA=600,qA="_blank",HA="http://localhost";class $x{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FA(a,e,n,s=zA,l=BA){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...UA,width:s.toString(),height:l.toString(),top:u,left:f},y=fn().toLowerCase();n&&(g=Yv(y)?qA:n),$v(y)&&(e=e||HA,p.scrollbars="yes");const _=Object.entries(p).reduce((j,[P,F])=>`${j}${P}=${F},`,"");if(oS(y)&&g!=="_self")return GA(e||"",g),new $x(null);const E=window.open(e||"",g,_);ke(E,a,"popup-blocked");try{E.focus()}catch{}return new $x(E)}function GA(a,e){const n=document.createElement("a");n.href=a,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="__/auth/handler",$A="emulator/auth/handler",KA=encodeURIComponent("fac");async function Kx(a,e,n,s,l,u){ke(a.config.authDomain,a,"auth-domain-config-required"),ke(a.config.apiKey,a,"invalid-api-key");const f={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:s,v:Ul,eventId:l};if(e instanceof s_){e.setDefaultLanguage(a.languageCode),f.providerId=e.providerId||"",Nk(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))f[_]=E}if(e instanceof jc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(f.scopes=_.join(","))}a.tenantId&&(f.tid=a.tenantId);const g=f;for(const _ of Object.keys(g))g[_]===void 0&&delete g[_];const p=await a._getAppCheckToken(),y=p?`#${KA}=${encodeURIComponent(p)}`:"";return`${YA(a)}?${kc(g).slice(1)}${y}`}function YA({config:a}){return a.emulator?Pm(a,$A):`https://${a.authDomain}/${QA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="webStorageSupport";class XA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h_,this._completeRedirectFn=vA,this._overrideRedirectResult=yA}async _openPopup(e,n,s,l){var f;Aa((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await Kx(e,n,s,om(),l);return FA(e,u,Hm())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await Kx(e,n,s,om(),l);return JS(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Aa(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await PA(e),s=new wA(e);return n.register("authEvent",l=>(ke(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(P0,{type:P0},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[P0];u!==void 0&&n(!!u),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return e_()||Kv()||zm()}}const WA=XA;var Yx="@firebase/auth",Xx="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e5(a){na(new yr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;ke(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t_(a)},y=new mS(s,l,u,p);return TS(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),na(new yr("auth-internal",e=>{const n=Cs(e.getProvider("auth").getImmediate());return(s=>new ZA(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(Yx,Xx,JA(a)),nr(Yx,Xx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=300,n5=Sv("authIdTokenMaxAge")||t5;let Wx=null;const r5=a=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>n5)return;const l=n==null?void 0:n.token;Wx!==l&&(Wx=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function a5(a=Vm()){const e=Ni(a,"auth");if(e.isInitialized())return e.getImmediate();const n=ES(a,{popupRedirectResolver:WA,persistence:[oA,XS,h_]}),s=Sv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=r5(u.toString());GS(n,f,()=>f(n.currentUser)),FS(n,g=>f(g))}}const l=Nv("auth");return l&&NS(n,`http://${l}`),n}function s5(){var a;return((a=document.getElementsByTagName("head"))==null?void 0:a[0])??document}gS({loadJS(a){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=e,s.onerror=l=>{const u=Yr("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",s5().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e5("Browser");var Zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,x_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,N){function S(){}S.prototype=N.prototype,k.F=N.prototype,k.prototype=new S,k.prototype.constructor=k,k.D=function(I,R,M){for(var A=Array(arguments.length-2),je=2;je<arguments.length;je++)A[je-2]=arguments[je];return N.prototype[R].apply(I,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,N,S){S||(S=0);const I=Array(16);if(typeof N=="string")for(var R=0;R<16;++R)I[R]=N.charCodeAt(S++)|N.charCodeAt(S++)<<8|N.charCodeAt(S++)<<16|N.charCodeAt(S++)<<24;else for(R=0;R<16;++R)I[R]=N[S++]|N[S++]<<8|N[S++]<<16|N[S++]<<24;N=k.g[0],S=k.g[1],R=k.g[2];let M=k.g[3],A;A=N+(M^S&(R^M))+I[0]+3614090360&4294967295,N=S+(A<<7&4294967295|A>>>25),A=M+(R^N&(S^R))+I[1]+3905402710&4294967295,M=N+(A<<12&4294967295|A>>>20),A=R+(S^M&(N^S))+I[2]+606105819&4294967295,R=M+(A<<17&4294967295|A>>>15),A=S+(N^R&(M^N))+I[3]+3250441966&4294967295,S=R+(A<<22&4294967295|A>>>10),A=N+(M^S&(R^M))+I[4]+4118548399&4294967295,N=S+(A<<7&4294967295|A>>>25),A=M+(R^N&(S^R))+I[5]+1200080426&4294967295,M=N+(A<<12&4294967295|A>>>20),A=R+(S^M&(N^S))+I[6]+2821735955&4294967295,R=M+(A<<17&4294967295|A>>>15),A=S+(N^R&(M^N))+I[7]+4249261313&4294967295,S=R+(A<<22&4294967295|A>>>10),A=N+(M^S&(R^M))+I[8]+1770035416&4294967295,N=S+(A<<7&4294967295|A>>>25),A=M+(R^N&(S^R))+I[9]+2336552879&4294967295,M=N+(A<<12&4294967295|A>>>20),A=R+(S^M&(N^S))+I[10]+4294925233&4294967295,R=M+(A<<17&4294967295|A>>>15),A=S+(N^R&(M^N))+I[11]+2304563134&4294967295,S=R+(A<<22&4294967295|A>>>10),A=N+(M^S&(R^M))+I[12]+1804603682&4294967295,N=S+(A<<7&4294967295|A>>>25),A=M+(R^N&(S^R))+I[13]+4254626195&4294967295,M=N+(A<<12&4294967295|A>>>20),A=R+(S^M&(N^S))+I[14]+2792965006&4294967295,R=M+(A<<17&4294967295|A>>>15),A=S+(N^R&(M^N))+I[15]+1236535329&4294967295,S=R+(A<<22&4294967295|A>>>10),A=N+(R^M&(S^R))+I[1]+4129170786&4294967295,N=S+(A<<5&4294967295|A>>>27),A=M+(S^R&(N^S))+I[6]+3225465664&4294967295,M=N+(A<<9&4294967295|A>>>23),A=R+(N^S&(M^N))+I[11]+643717713&4294967295,R=M+(A<<14&4294967295|A>>>18),A=S+(M^N&(R^M))+I[0]+3921069994&4294967295,S=R+(A<<20&4294967295|A>>>12),A=N+(R^M&(S^R))+I[5]+3593408605&4294967295,N=S+(A<<5&4294967295|A>>>27),A=M+(S^R&(N^S))+I[10]+38016083&4294967295,M=N+(A<<9&4294967295|A>>>23),A=R+(N^S&(M^N))+I[15]+3634488961&4294967295,R=M+(A<<14&4294967295|A>>>18),A=S+(M^N&(R^M))+I[4]+3889429448&4294967295,S=R+(A<<20&4294967295|A>>>12),A=N+(R^M&(S^R))+I[9]+568446438&4294967295,N=S+(A<<5&4294967295|A>>>27),A=M+(S^R&(N^S))+I[14]+3275163606&4294967295,M=N+(A<<9&4294967295|A>>>23),A=R+(N^S&(M^N))+I[3]+4107603335&4294967295,R=M+(A<<14&4294967295|A>>>18),A=S+(M^N&(R^M))+I[8]+1163531501&4294967295,S=R+(A<<20&4294967295|A>>>12),A=N+(R^M&(S^R))+I[13]+2850285829&4294967295,N=S+(A<<5&4294967295|A>>>27),A=M+(S^R&(N^S))+I[2]+4243563512&4294967295,M=N+(A<<9&4294967295|A>>>23),A=R+(N^S&(M^N))+I[7]+1735328473&4294967295,R=M+(A<<14&4294967295|A>>>18),A=S+(M^N&(R^M))+I[12]+2368359562&4294967295,S=R+(A<<20&4294967295|A>>>12),A=N+(S^R^M)+I[5]+4294588738&4294967295,N=S+(A<<4&4294967295|A>>>28),A=M+(N^S^R)+I[8]+2272392833&4294967295,M=N+(A<<11&4294967295|A>>>21),A=R+(M^N^S)+I[11]+1839030562&4294967295,R=M+(A<<16&4294967295|A>>>16),A=S+(R^M^N)+I[14]+4259657740&4294967295,S=R+(A<<23&4294967295|A>>>9),A=N+(S^R^M)+I[1]+2763975236&4294967295,N=S+(A<<4&4294967295|A>>>28),A=M+(N^S^R)+I[4]+1272893353&4294967295,M=N+(A<<11&4294967295|A>>>21),A=R+(M^N^S)+I[7]+4139469664&4294967295,R=M+(A<<16&4294967295|A>>>16),A=S+(R^M^N)+I[10]+3200236656&4294967295,S=R+(A<<23&4294967295|A>>>9),A=N+(S^R^M)+I[13]+681279174&4294967295,N=S+(A<<4&4294967295|A>>>28),A=M+(N^S^R)+I[0]+3936430074&4294967295,M=N+(A<<11&4294967295|A>>>21),A=R+(M^N^S)+I[3]+3572445317&4294967295,R=M+(A<<16&4294967295|A>>>16),A=S+(R^M^N)+I[6]+76029189&4294967295,S=R+(A<<23&4294967295|A>>>9),A=N+(S^R^M)+I[9]+3654602809&4294967295,N=S+(A<<4&4294967295|A>>>28),A=M+(N^S^R)+I[12]+3873151461&4294967295,M=N+(A<<11&4294967295|A>>>21),A=R+(M^N^S)+I[15]+530742520&4294967295,R=M+(A<<16&4294967295|A>>>16),A=S+(R^M^N)+I[2]+3299628645&4294967295,S=R+(A<<23&4294967295|A>>>9),A=N+(R^(S|~M))+I[0]+4096336452&4294967295,N=S+(A<<6&4294967295|A>>>26),A=M+(S^(N|~R))+I[7]+1126891415&4294967295,M=N+(A<<10&4294967295|A>>>22),A=R+(N^(M|~S))+I[14]+2878612391&4294967295,R=M+(A<<15&4294967295|A>>>17),A=S+(M^(R|~N))+I[5]+4237533241&4294967295,S=R+(A<<21&4294967295|A>>>11),A=N+(R^(S|~M))+I[12]+1700485571&4294967295,N=S+(A<<6&4294967295|A>>>26),A=M+(S^(N|~R))+I[3]+2399980690&4294967295,M=N+(A<<10&4294967295|A>>>22),A=R+(N^(M|~S))+I[10]+4293915773&4294967295,R=M+(A<<15&4294967295|A>>>17),A=S+(M^(R|~N))+I[1]+2240044497&4294967295,S=R+(A<<21&4294967295|A>>>11),A=N+(R^(S|~M))+I[8]+1873313359&4294967295,N=S+(A<<6&4294967295|A>>>26),A=M+(S^(N|~R))+I[15]+4264355552&4294967295,M=N+(A<<10&4294967295|A>>>22),A=R+(N^(M|~S))+I[6]+2734768916&4294967295,R=M+(A<<15&4294967295|A>>>17),A=S+(M^(R|~N))+I[13]+1309151649&4294967295,S=R+(A<<21&4294967295|A>>>11),A=N+(R^(S|~M))+I[4]+4149444226&4294967295,N=S+(A<<6&4294967295|A>>>26),A=M+(S^(N|~R))+I[11]+3174756917&4294967295,M=N+(A<<10&4294967295|A>>>22),A=R+(N^(M|~S))+I[2]+718787259&4294967295,R=M+(A<<15&4294967295|A>>>17),A=S+(M^(R|~N))+I[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+R&4294967295,k.g[3]=k.g[3]+M&4294967295}s.prototype.v=function(k,N){N===void 0&&(N=k.length);const S=N-this.blockSize,I=this.C;let R=this.h,M=0;for(;M<N;){if(R==0)for(;M<=S;)l(this,k,M),M+=this.blockSize;if(typeof k=="string"){for(;M<N;)if(I[R++]=k.charCodeAt(M++),R==this.blockSize){l(this,I),R=0;break}}else for(;M<N;)if(I[R++]=k[M++],R==this.blockSize){l(this,I),R=0;break}}this.h=R,this.o+=N},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;N=this.o*8;for(var S=k.length-8;S<k.length;++S)k[S]=N&255,N/=256;for(this.v(k),k=Array(16),N=0,S=0;S<4;++S)for(let I=0;I<32;I+=8)k[N++]=this.g[S]>>>I&255;return k};function u(k,N){var S=g;return Object.prototype.hasOwnProperty.call(S,k)?S[k]:S[k]=N(k)}function f(k,N){this.h=N;const S=[];let I=!0;for(let R=k.length-1;R>=0;R--){const M=k[R]|0;I&&M==N||(S[R]=M,I=!1)}this.g=S}var g={};function p(k){return-128<=k&&k<128?u(k,function(N){return new f([N|0],N<0?-1:0)}):new f([k|0],k<0?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return E;if(k<0)return G(y(-k));const N=[];let S=1;for(let I=0;k>=S;I++)N[I]=k/S|0,S*=4294967296;return new f(N,0)}function _(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return G(_(k.substring(1),N));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=y(Math.pow(N,8));let I=E;for(let M=0;M<k.length;M+=8){var R=Math.min(8,k.length-M);const A=parseInt(k.substring(M,M+R),N);R<8?(R=y(Math.pow(N,R)),I=I.j(R).add(y(A))):(I=I.j(S),I=I.add(y(A)))}return I}var E=p(0),j=p(1),P=p(16777216);a=f.prototype,a.m=function(){if(re(this))return-G(this).m();let k=0,N=1;for(let S=0;S<this.g.length;S++){const I=this.i(S);k+=(I>=0?I:4294967296+I)*N,N*=4294967296}return k},a.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(F(this))return"0";if(re(this))return"-"+G(this).toString(k);const N=y(Math.pow(k,6));var S=this;let I="";for(;;){const R=ve(S,N).g;S=K(S,R.j(N));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(k);if(S=R,F(S))return M+I;for(;M.length<6;)M="0"+M;I=M+I}},a.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function F(k){if(k.h!=0)return!1;for(let N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function re(k){return k.h==-1}a.l=function(k){return k=K(this,k),re(k)?-1:F(k)?0:1};function G(k){const N=k.g.length,S=[];for(let I=0;I<N;I++)S[I]=~k.g[I];return new f(S,~k.h).add(j)}a.abs=function(){return re(this)?G(this):this},a.add=function(k){const N=Math.max(this.g.length,k.g.length),S=[];let I=0;for(let R=0;R<=N;R++){let M=I+(this.i(R)&65535)+(k.i(R)&65535),A=(M>>>16)+(this.i(R)>>>16)+(k.i(R)>>>16);I=A>>>16,M&=65535,A&=65535,S[R]=A<<16|M}return new f(S,S[S.length-1]&-2147483648?-1:0)};function K(k,N){return k.add(G(N))}a.j=function(k){if(F(this)||F(k))return E;if(re(this))return re(k)?G(this).j(G(k)):G(G(this).j(k));if(re(k))return G(this.j(G(k)));if(this.l(P)<0&&k.l(P)<0)return y(this.m()*k.m());const N=this.g.length+k.g.length,S=[];for(var I=0;I<2*N;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(let R=0;R<k.g.length;R++){const M=this.i(I)>>>16,A=this.i(I)&65535,je=k.i(R)>>>16,Ge=k.i(R)&65535;S[2*I+2*R]+=A*Ge,ae(S,2*I+2*R),S[2*I+2*R+1]+=M*Ge,ae(S,2*I+2*R+1),S[2*I+2*R+1]+=A*je,ae(S,2*I+2*R+1),S[2*I+2*R+2]+=M*je,ae(S,2*I+2*R+2)}for(k=0;k<N;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=N;k<2*N;k++)S[k]=0;return new f(S,0)};function ae(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function ce(k,N){this.g=k,this.h=N}function ve(k,N){if(F(N))throw Error("division by zero");if(F(k))return new ce(E,E);if(re(k))return N=ve(G(k),N),new ce(G(N.g),G(N.h));if(re(N))return N=ve(k,G(N)),new ce(G(N.g),N.h);if(k.g.length>30){if(re(k)||re(N))throw Error("slowDivide_ only works with positive integers.");for(var S=j,I=N;I.l(k)<=0;)S=ue(S),I=ue(I);var R=$(S,1),M=$(I,1);for(I=$(I,2),S=$(S,2);!F(I);){var A=M.add(I);A.l(k)<=0&&(R=R.add(S),M=A),I=$(I,1),S=$(S,1)}return N=K(k,R.j(N)),new ce(R,N)}for(R=E;k.l(N)>=0;){for(S=Math.max(1,Math.floor(k.m()/N.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),M=y(S),A=M.j(N);re(A)||A.l(k)>0;)S-=I,M=y(S),A=M.j(N);F(M)&&(M=j),R=R.add(M),k=K(k,A)}return new ce(R,k)}a.B=function(k){return ve(this,k).h},a.and=function(k){const N=Math.max(this.g.length,k.g.length),S=[];for(let I=0;I<N;I++)S[I]=this.i(I)&k.i(I);return new f(S,this.h&k.h)},a.or=function(k){const N=Math.max(this.g.length,k.g.length),S=[];for(let I=0;I<N;I++)S[I]=this.i(I)|k.i(I);return new f(S,this.h|k.h)},a.xor=function(k){const N=Math.max(this.g.length,k.g.length),S=[];for(let I=0;I<N;I++)S[I]=this.i(I)^k.i(I);return new f(S,this.h^k.h)};function ue(k){const N=k.g.length+1,S=[];for(let I=0;I<N;I++)S[I]=k.i(I)<<1|k.i(I-1)>>>31;return new f(S,k.h)}function $(k,N){const S=N>>5;N%=32;const I=k.g.length-S,R=[];for(let M=0;M<I;M++)R[M]=N>0?k.i(M+S)>>>N|k.i(M+S+1)<<32-N:k.i(M+S);return new f(R,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,x_=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=_,vs=f}).apply(typeof Zx<"u"?Zx:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v_,Wo,__,_d,dm,w_,E_,T_;(function(){var a,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var b=0;b<d.length;++b){var v=d[b];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(d,b){if(b)e:{var v=s;d=d.split(".");for(var T=0;T<d.length-1;T++){var L=d[T];if(!(L in v))break e;v=v[L]}d=d[d.length-1],T=v[d],b=b(T),b!=T&&b!=null&&e(v,d,{configurable:!0,writable:!0,value:b})}}l("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(d){return d||function(b){var v=[],T;for(T in b)Object.prototype.hasOwnProperty.call(b,T)&&v.push([T,b[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function p(d,b,v){return d.call.apply(d.bind,arguments)}function y(d,b,v){return y=p,y.apply(null,arguments)}function _(d,b){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),d.apply(this,T)}}function E(d,b){function v(){}v.prototype=b.prototype,d.Z=b.prototype,d.prototype=new v,d.prototype.constructor=d,d.Ob=function(T,L,q){for(var le=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)le[Ie-2]=arguments[Ie];return b.prototype[L].apply(T,le)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function P(d){const b=d.length;if(b>0){const v=Array(b);for(let T=0;T<b;T++)v[T]=d[T];return v}return[]}function F(d,b){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=d.length||0;const q=L.length||0;d.length=v+q;for(let le=0;le<q;le++)d[v+le]=L[le]}else d.push(L)}}class re{constructor(b,v){this.i=b,this.j=v,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function G(d){f.setTimeout(()=>{throw d},0)}function K(){var d=k;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class ae{constructor(){this.h=this.g=null}add(b,v){const T=ce.get();T.set(b,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ce=new re(()=>new ve,d=>d.reset());class ve{constructor(){this.next=this.g=this.h=null}set(b,v){this.h=b,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,$=!1,k=new ae,N=()=>{const d=Promise.resolve(void 0);ue=()=>{d.then(S)}};function S(){for(var d;d=K();){try{d.h.call(d.g)}catch(v){G(v)}var b=ce;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}$=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const v=()=>{};f.addEventListener("test",v,b),f.removeEventListener("test",v,b)}catch{}return d})();function A(d){return/^[\s\xa0]*$/.test(d)}function je(d,b){R.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}E(je,R),je.prototype.init=function(d,b){const v=this.type=d.type,T=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(v=="mouseover"?b=d.fromElement:v=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ie(d,b,v,T,L){this.listener=d,this.proxy=null,this.src=b,this.type=v,this.capture=!!T,this.ha=L,this.key=++Q,this.da=this.fa=!1}function me(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Oe(d,b,v){for(const T in d)b.call(v,d[T],T,d)}function Ve(d,b){for(const v in d)b.call(void 0,d[v],v,d)}function D(d){const b={};for(const v in d)b[v]=d[v];return b}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(d,b){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)d[v]=T[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(T,v)&&(d[v]=T[v])}}function oe(d){this.src=d,this.g={},this.h=0}oe.prototype.add=function(d,b,v,T,L){const q=d.toString();d=this.g[q],d||(d=this.g[q]=[],this.h++);const le=xe(d,b,T,L);return le>-1?(b=d[le],v||(b.fa=!1)):(b=new ie(b,this.src,q,!!T,L),b.fa=v,d.push(b)),b};function W(d,b){const v=b.type;if(v in d.g){var T=d.g[v],L=Array.prototype.indexOf.call(T,b,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(me(b),d.g[v].length==0&&(delete d.g[v],d.h--))}}function xe(d,b,v,T){for(let L=0;L<d.length;++L){const q=d[L];if(!q.da&&q.listener==b&&q.capture==!!v&&q.ha==T)return L}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),Xe={};function ye(d,b,v,T,L){if(Array.isArray(b)){for(let q=0;q<b.length;q++)ye(d,b[q],v,T,L);return null}return v=Ms(v),d&&d[Ge]?d.J(b,v,g(T)?!!T.capture:!1,L):mt(d,b,v,!1,T,L)}function mt(d,b,v,T,L,q){if(!b)throw Error("Invalid event type");const le=g(L)?!!L.capture:!!L;let Ie=Bn(d);if(Ie||(d[Te]=Ie=new oe(d)),v=Ie.add(b,v,T,le,q),v.proxy)return v;if(T=zn(),v.proxy=T,T.src=d,T.listener=v,d.addEventListener)M||(L=le),L===void 0&&(L=!1),d.addEventListener(b.toString(),T,L);else if(d.attachEvent)d.attachEvent(Ft(b.toString()),T);else if(d.addListener&&d.removeListener)d.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function zn(){function d(v){return b.call(d.src,d.listener,v)}const b=_r;return d}function ln(d,b,v,T,L){if(Array.isArray(b))for(var q=0;q<b.length;q++)ln(d,b[q],v,T,L);else T=g(T)?!!T.capture:!!T,v=Ms(v),d&&d[Ge]?(d=d.i,q=String(b).toString(),q in d.g&&(b=d.g[q],v=xe(b,v,T,L),v>-1&&(me(b[v]),Array.prototype.splice.call(b,v,1),b.length==0&&(delete d.g[q],d.h--)))):d&&(d=Bn(d))&&(b=d.g[b.toString()],d=-1,b&&(d=xe(b,v,T,L)),(v=d>-1?b[d]:null)&&on(v))}function on(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[Ge])W(b.i,d);else{var v=d.type,T=d.proxy;b.removeEventListener?b.removeEventListener(v,T,d.capture):b.detachEvent?b.detachEvent(Ft(v),T):b.addListener&&b.removeListener&&b.removeListener(T),(v=Bn(b))?(W(v,d),v.h==0&&(v.src=null,b[Te]=null)):me(d)}}}function Ft(d){return d in Xe?Xe[d]:Xe[d]="on"+d}function _r(d,b){if(d.da)d=!0;else{b=new je(b,this);const v=d.listener,T=d.ha||d.src;d.fa&&on(d),d=v.call(T,b)}return d}function Bn(d){return d=d[Te],d instanceof oe?d:null}var wr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ms(d){return typeof d=="function"?d:(d[wr]||(d[wr]=function(b){return d.handleEvent(b)}),d[wr])}function ut(){I.call(this),this.i=new oe(this),this.M=this,this.G=null}E(ut,I),ut.prototype[Ge]=!0,ut.prototype.removeEventListener=function(d,b,v,T){ln(this,d,b,v,T)};function Tt(d,b){var v,T=d.G;if(T)for(v=[];T;T=T.G)v.push(T);if(d=d.M,T=b.type||b,typeof b=="string")b=new R(b,d);else if(b instanceof R)b.target=b.target||d;else{var L=b;b=new R(T,d),se(b,L)}L=!0;let q,le;if(v)for(le=v.length-1;le>=0;le--)q=b.g=v[le],L=Er(q,T,!0,b)&&L;if(q=b.g=d,L=Er(q,T,!0,b)&&L,L=Er(q,T,!1,b)&&L,v)for(le=0;le<v.length;le++)q=b.g=v[le],L=Er(q,T,!1,b)&&L}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const v=d.g[b];for(let T=0;T<v.length;T++)me(v[T]);delete d.g[b],d.h--}}this.G=null},ut.prototype.J=function(d,b,v,T){return this.i.add(String(d),b,!1,v,T)},ut.prototype.K=function(d,b,v,T){return this.i.add(String(d),b,!0,v,T)};function Er(d,b,v,T){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let L=!0;for(let q=0;q<b.length;++q){const le=b[q];if(le&&!le.da&&le.capture==v){const Ie=le.listener,kt=le.ha||le.src;le.fa&&W(d.i,le),L=Ie.call(kt,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ql(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:f.setTimeout(d,b||0)}function Ai(d){d.g=Ql(()=>{d.g=null,d.i&&(d.i=!1,Ai(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class Yt extends I{constructor(b,v){super(),this.m=b,this.l=v,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Ai(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _e(d){I.call(this),this.h=d,this.g={}}E(_e,I);var Le=[];function We(d){Oe(d.g,function(b,v){this.g.hasOwnProperty(v)&&on(b)},d),d.g={}}_e.prototype.N=function(){_e.Z.N.call(this),We(this)},_e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pe=f.JSON.stringify,gt=f.JSON.parse,Xt=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function ar(){}function Tr(){}var Ct={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bt(){R.call(this,"d")}E(bt,R);function Wt(){R.call(this,"c")}E(Wt,R);var Nt={},Uc=null;function ji(){return Uc=Uc||new ut}Nt.Ia="serverreachability";function zc(d){R.call(this,Nt.Ia,d)}E(zc,R);function Nr(d){const b=ji();Tt(b,new zc(b))}Nt.STAT_EVENT="statevent";function Vs(d,b){R.call(this,Nt.STAT_EVENT,d),this.stat=b}E(Vs,R);function Rt(d){const b=ji();Tt(b,new Vs(b,d))}Nt.Ja="timingevent";function kr(d,b){R.call(this,Nt.Ja,d),this.size=b}E(kr,R);function Sr(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},b)}function sr(){this.g=!0}sr.prototype.ua=function(){this.g=!1};function Ah(d,b,v,T,L,q){d.info(function(){if(d.g)if(q){var le="",Ie=q.split("&");for(let Ze=0;Ze<Ie.length;Ze++){var kt=Ie[Ze].split("=");if(kt.length>1){const pt=kt[0];kt=kt[1];const Gn=pt.split("_");le=Gn.length>=2&&Gn[1]=="type"?le+(pt+"="+kt+"&"):le+(pt+"=redacted&")}}}else le=null;else le=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+b+`
`+v+`
`+le})}function Bc(d,b,v,T,L,q,le){d.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+b+`
`+v+`
`+q+" "+le})}function Ar(d,b,v,T){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+jh(d,v)+(T?" "+T:"")})}function Ls(d,b){d.info(function(){return"TIMEOUT: "+b})}sr.prototype.info=function(){};function jh(d,b){if(!d.g)return b;if(!b)return null;try{const q=JSON.parse(b);if(q){for(d=0;d<q.length;d++)if(Array.isArray(q[d])){var v=q[d];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let le=1;le<T.length;le++)T[le]=""}}}}return pe(q)}catch{return b}}var Ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kl;function Us(){}E(Us,ar),Us.prototype.g=function(){return new XMLHttpRequest},Kl=new Us;function aa(d){return encodeURIComponent(String(d))}function qc(d){var b=1;d=d.split(":");const v=[];for(;b>0&&d.length;)v.push(d.shift()),b--;return d.length&&v.push(d.join(":")),v}function ir(d,b,v,T){this.j=d,this.i=b,this.l=v,this.S=T||1,this.V=new _e(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lr}function lr(){this.i=null,this.g="",this.h=!1}var It={},Gt={};function jr(d,b,v){d.M=1,d.A=zs(Ot(b)),d.u=v,d.R=!0,Ci(d,null)}function Ci(d,b){d.F=Date.now(),Cr(d),d.B=Ot(d.A);var v=d.B,T=d.S;Array.isArray(T)||(T=[String(T)]),Oi(v.i,"t",T),d.C=0,v=d.j.L,d.h=new lr,d.g=ru(d.j,v?b:null,!d.u),d.P>0&&(d.O=new Yt(y(d.Y,d,d.g),d.P)),b=d.V,v=d.g,T=d.ba;var L="readystatechange";Array.isArray(L)||(L&&(Le[0]=L.toString()),L=Le);for(let q=0;q<L.length;q++){const le=ye(v,L[q],T||b.handleEvent,!1,b.h||b);if(!le)break;b.g[le.key]=le}b=d.J?D(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),Nr(),Ah(d.i,d.v,d.B,d.l,d.S,d.u)}ir.prototype.ba=function(d){d=d.target;const b=this.O;b&&ur(d)==3?b.j():this.Y(d)},ir.prototype.Y=function(d){try{if(d==this.g)e:{const Ie=ur(this.g),kt=this.g.ya(),Ze=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||Ie!=4||kt==7||(kt==8||Ze<=0?Nr(3):Nr(2)),Rr(this);var b=this.g.ca();this.X=b;var v=Ch(this);if(this.o=b==200,Bc(this.i,this.v,this.B,this.l,this.S,Ie,b),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(T)){var q=T;break t}}q=null}if(d=q)Ar(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ir(this,d);else{this.o=!1,this.m=3,Rt(12),jn(this),qn(this);break e}}if(this.R){d=!0;let pt;for(;!this.K&&this.C<v.length;)if(pt=Fc(this,v),pt==Gt){Ie==4&&(this.m=4,Rt(14),d=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==It){this.m=4,Rt(15),Ar(this.i,this.l,v,"[Invalid Chunk]"),d=!1;break}else Ar(this.i,this.l,pt,null),Ir(this,pt);if(Hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,Rt(16),d=!1),this.o=this.o&&d,!d)Ar(this.i,this.l,v,"[Invalid Chunked Response]"),jn(this),qn(this);else if(v.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),co(le),le.P=!0,Rt(11))}}else Ar(this.i,this.l,v,null),Ir(this,v);Ie==4&&jn(this),this.o&&!this.K&&(Ie==4?Jc(this.j,this):(this.o=!1,Cr(this)))}else ia(this.g),b==400&&v.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),jn(this),qn(this)}}}catch{}finally{}};function Ch(d){if(!Hc(d))return d.g.la();const b=Zt(d.g);if(b==="")return"";let v="";const T=b.length,L=ur(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return jn(d),qn(d),"";d.h.i=new f.TextDecoder}for(let q=0;q<T;q++)d.h.h=!0,v+=d.h.i.decode(b[q],{stream:!(L&&q==T-1)});return b.length=0,d.h.g+=v,d.C=0,d.h.g}function Hc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Fc(d,b){var v=d.C,T=b.indexOf(`
`,v);return T==-1?Gt:(v=Number(b.substring(v,T)),isNaN(v)?It:(T+=1,T+v>b.length?Gt:(b=b.slice(T,T+v),d.C=T+v,b)))}ir.prototype.cancel=function(){this.K=!0,jn(this)};function Cr(d){d.T=Date.now()+d.H,Ri(d,d.H)}function Ri(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Sr(y(d.aa,d),b)}function Rr(d){d.D&&(f.clearTimeout(d.D),d.D=null)}ir.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ls(this.i,this.B),this.M!=2&&(Nr(),Rt(17)),jn(this),this.m=2,qn(this)):Ri(this,this.T-d)};function qn(d){d.j.I==0||d.K||Jc(d.j,d)}function jn(d){Rr(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,We(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function Ir(d,b){try{var v=d.j;if(v.I!=0&&(v.g==d||Or(v.h,d))){if(!d.L&&Or(v.h,d)&&v.I==3){try{var T=v.Ba.g.parse(b)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<d.F)Ui(v),Ba(v);else break e;$s(v),Rt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Sr(y(v.Va,v),6e3));Dr(v.h)<=1&&v.ta&&(v.ta=void 0)}else zr(v,11)}else if((d.L||v.g==d)&&Ui(v),!A(b))for(L=v.Ba.g.parse(b),b=0;b<L.length;b++){let Ze=L[b];const pt=Ze[0];if(!(pt<=v.K))if(v.K=pt,Ze=Ze[1],v.I==2)if(Ze[0]=="c"){v.M=Ze[1],v.ba=Ze[2];const Gn=Ze[3];Gn!=null&&(v.ka=Gn,v.j.info("VER="+v.ka));const Br=Ze[4];Br!=null&&(v.za=Br,v.j.info("SVER="+v.za));const dr=Ze[5];dr!=null&&typeof dr=="number"&&dr>0&&(T=1.5*dr,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const hr=d.g;if(hr){const Ks=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ks){var q=T.h;q.g||Ks.indexOf("spdy")==-1&&Ks.indexOf("quic")==-1&&Ks.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Wl(q,q.h),q.h=null))}if(T.G){const zi=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;zi&&(T.wa=zi,tt(T.J,T.G,zi))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-d.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var le=d;if(T.na=nu(T,T.L?T.ba:null,T.W),le.L){Zl(T.h,le);var Ie=le,kt=T.O;kt&&(Ie.H=kt),Ie.D&&(Rr(Ie),Cr(Ie)),T.g=le}else Wc(T);v.i.length>0&&Ur(v)}else Ze[0]!="stop"&&Ze[0]!="close"||zr(v,7);else v.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?zr(v,7):lo(v):Ze[0]!="noop"&&v.l&&v.l.qa(Ze),v.A=0)}}Nr(4)}catch{}}var Dt=class{constructor(d,b){this.g=d,this.map=b}};function Yl(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Dr(d){return d.h?1:d.g?d.g.size:0}function Or(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function Wl(d,b){d.g?d.g.add(b):d.h=b}function Zl(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}Yl.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Jl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const v of d.g.values())b=b.concat(v.G);return b}return P(d.i)}var Gc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ii(d,b){if(d){d=d.split("&");for(let v=0;v<d.length;v++){const T=d[v].indexOf("=");let L,q=null;T>=0?(L=d[v].substring(0,T),q=d[v].substring(T+1)):L=d[v],b(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Cn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof Cn?(this.l=d.l,Qt(this,d.j),this.o=d.o,this.g=d.g,Oa(this,d.u),this.h=d.h,eo(this,Yc(d.i)),this.m=d.m):d&&(b=String(d).match(Gc))?(this.l=!1,Qt(this,b[1]||"",!0),this.o=Mr(b[2]||""),this.g=Mr(b[3]||"",!0),Oa(this,b[4]),this.h=Mr(b[5]||"",!0),eo(this,b[6]||"",!0),this.m=Mr(b[7]||"")):(this.l=!1,this.i=new Va(null,this.l))}Cn.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(Bs(b,Di,!0),":");var v=this.g;return(v||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Bs(b,Di,!0),"@"),d.push(aa(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&d.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push(Bs(v,v.charAt(0)=="/"?to:Qc,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",Bs(v,$c)),d.join("")},Cn.prototype.resolve=function(d){const b=Ot(this);let v=!!d.j;v?Qt(b,d.j):v=!!d.o,v?b.o=d.o:v=!!d.g,v?b.g=d.g:v=d.u!=null;var T=d.h;if(v)Oa(b,d.u);else if(v=!!d.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=b.h.lastIndexOf("/");L!=-1&&(T=b.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let le=0;le<L.length;){const Ie=L[le++];Ie=="."?T&&le==L.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&le==L.length&&q.push("")):(q.push(Ie),T=!0)}T=q.join("/")}else T=L}return v?b.h=T:v=d.i.toString()!=="",v?eo(b,Yc(d.i)):v=!!d.m,v&&(b.m=d.m),b};function Ot(d){return new Cn(d)}function Qt(d,b,v){d.j=v?Mr(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function Oa(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function eo(d,b,v){b instanceof Va?(d.i=b,Mi(d.i,d.l)):(v||(b=Bs(b,Ma)),d.i=new Va(b,d.l))}function tt(d,b,v){d.i.set(b,v)}function zs(d){return tt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Mr(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Bs(d,b,v){return typeof d=="string"?(d=encodeURI(d).replace(b,bn),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function bn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Di=/[#\/\?@]/g,Qc=/[#\?:]/g,to=/[#\?]/g,Ma=/[#\?@]/g,$c=/#/g;function Va(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function xn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ii(d.i,function(b,v){d.add(decodeURIComponent(b.replace(/\+/g," ")),v)}))}a=Va.prototype,a.add=function(d,b){xn(this),this.i=null,d=La(this,d);let v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(b),this.h+=1,this};function Kc(d,b){xn(d),b=La(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function no(d,b){return xn(d),b=La(d,b),d.g.has(b)}a.forEach=function(d,b){xn(this),this.g.forEach(function(v,T){v.forEach(function(L){d.call(b,L,T,this)},this)},this)};function ro(d,b){xn(d);let v=[];if(typeof b=="string")no(d,b)&&(v=v.concat(d.g.get(La(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)v=v.concat(d[b]);return v}a.set=function(d,b){return xn(this),this.i=null,d=La(this,d),no(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},a.get=function(d,b){return d?(d=ro(this,d),d.length>0?String(d[0]):b):b};function Oi(d,b,v){Kc(d,b),v.length>0&&(d.i=null,d.g.set(La(d,b),P(v)),d.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let T=0;T<b.length;T++){var v=b[T];const L=aa(v);v=ro(this,v);for(let q=0;q<v.length;q++){let le=L;v[q]!==""&&(le+="="+aa(v[q])),d.push(le)}}return this.i=d.join("&")};function Yc(d){const b=new Va;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function La(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function Mi(d,b){b&&!d.j&&(xn(d),d.i=null,d.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(Kc(this,T),Oi(this,L,v))},d)),d.j=b}function or(d,b){const v=new sr;if(f.Image){const T=new Image;T.onload=_(Hn,v,"TestLoadImage: loaded",!0,b,T),T.onerror=_(Hn,v,"TestLoadImage: error",!1,b,T),T.onabort=_(Hn,v,"TestLoadImage: abort",!1,b,T),T.ontimeout=_(Hn,v,"TestLoadImage: timeout",!1,b,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=d}else b(!1)}function ao(d,b){const v=new sr,T=new AbortController,L=setTimeout(()=>{T.abort(),Hn(v,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Hn(v,"TestPingServer: ok",!0,b):Hn(v,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(L),Hn(v,"TestPingServer: error",!1,b)})}function Hn(d,b,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function Pa(){this.g=new Xt}function Vr(d){this.i=d.Sb||null,this.h=d.ab||!1}E(Vr,ar),Vr.prototype.g=function(){return new qs(this.i,this.h)};function qs(d,b){ut.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(qs,ut),a=qs.prototype,a.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,cr(this)},a.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||f).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ua(this)),this.readyState=0},a.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vi(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vi(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}a.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Ua(this):cr(this),this.readyState==3&&Vi(this)}},a.Oa=function(d){this.g&&(this.response=this.responseText=d,Ua(this))},a.Na=function(d){this.g&&(this.response=d,Ua(this))},a.ga=function(){this.g&&Ua(this)};function Ua(d){d.readyState=4,d.l=null,d.j=null,d.B=null,cr(d)}a.setRequestHeader=function(d,b){this.A.append(d,b)},a.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var v=b.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=b.next();return d.join(`\r
`)};function cr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Fn(d){let b="";return Oe(d,function(v,T){b+=T,b+=":",b+=v,b+=`\r
`}),b}function Hs(d,b,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Fn(v),typeof d=="string"?v!=null&&aa(v):tt(d,b,v))}function at(d){ut.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(at,ut);var Lr=/^https?$/i,so=["POST","PUT"];a=at.prototype,a.Fa=function(d){this.H=d},a.ea=function(d,b,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kl.g(),this.g.onreadystatechange=j(y(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(q){Fs(this,q);return}if(d=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(so,b,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,le]of v)this.g.setRequestHeader(q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(q){Fs(this,q)}};function Fs(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,io(d),sa(d)}function io(d){d.A||(d.A=!0,Tt(d,"complete"),Tt(d,"error"))}a.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Tt(this,"complete"),Tt(this,"abort"),sa(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sa(this,!0)),at.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Gs(this):this.Xa())},a.Xa=function(){Gs(this)};function Gs(d){if(d.h&&typeof u<"u"){if(d.v&&ur(d)==4)setTimeout(d.Ca.bind(d),0);else if(Tt(d,"readystatechange"),ur(d)==4){d.h=!1;try{const q=d.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var v;if(!(v=b)){var T;if(T=q===0){let le=String(d.D).match(Gc)[1]||null;!le&&f.self&&f.self.location&&(le=f.self.location.protocol.slice(0,-1)),T=!Lr.test(le?le.toLowerCase():"")}v=T}if(v)Tt(d,"complete"),Tt(d,"success");else{d.o=6;try{var L=ur(d)>2?d.g.statusText:""}catch{L=""}d.l=L+" ["+d.ca()+"]",io(d)}}finally{sa(d)}}}}function sa(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const v=d.g;d.g=null,b||Tt(d,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function ur(d){return d.g?d.g.readyState:0}a.ca=function(){try{return ur(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),gt(b)}};function Zt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ia(d){const b={};d=(d.g&&ur(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<d.length;T++){if(A(d[T]))continue;var v=qc(d[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=b[L]||[];b[L]=q,q.push(v)}Ve(b,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(d,b,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||b}function za(d){this.za=0,this.i=[],this.j=new sr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pr("baseRetryDelayMs",5e3,d),this.Za=Pr("retryDelaySeedMs",1e4,d),this.Ta=Pr("forwardChannelMaxRetries",2,d),this.va=Pr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Yl(d&&d.concurrentRequestLimit),this.Ba=new Pa,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=za.prototype,a.ka=8,a.I=1,a.connect=function(d,b,v,T){Rt(0),this.W=d,this.H=b||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=nu(this,null,this.W),Ur(this)};function lo(d){if(Li(d),d.I==3){var b=d.V++,v=Ot(d.J);if(tt(v,"SID",d.M),tt(v,"RID",b),tt(v,"TYPE","terminate"),Qs(d,v),b=new ir(d,d.j,b),b.M=2,b.A=zs(Ot(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(b.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=b.A,v=!0),v||(b.g=ru(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Cr(b)}tu(d)}function Ba(d){d.g&&(co(d),d.g.cancel(),d.g=null)}function Li(d){Ba(d),d.v&&(f.clearTimeout(d.v),d.v=null),Ui(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function Ur(d){if(!Xl(d.h)&&!d.m){d.m=!0;var b=d.Ea;ue||N(),$||(ue(),$=!0),k.add(b,d),d.D=0}}function Pi(d,b){return Dr(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Sr(y(d.Ea,d,b),eu(d,d.D)),d.D++,!0)}a.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const L=new ir(this,this.j,d);let q=this.o;if(this.U&&(q?(q=D(q),se(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var b=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(b+=T,b>4096){b=v;break e}if(b===4096||v===this.i.length-1){b=v+1;break e}}b=1e3}else b=1e3;b=Xc(this,L,b),v=Ot(this.J),tt(v,"RID",d),tt(v,"CVER",22),this.G&&tt(v,"X-HTTP-Session-Id",this.G),Qs(this,v),q&&(this.R?b="headers="+aa(Fn(q))+"&"+b:this.u&&Hs(v,this.u,q)),Wl(this.h,L),this.Ra&&tt(v,"TYPE","init"),this.S?(tt(v,"$req",b),tt(v,"SID","null"),L.U=!0,jr(L,v,null)):jr(L,v,b),this.I=2}}else this.I==3&&(d?oo(this,d):this.i.length==0||Xl(this.h)||oo(this))};function oo(d,b){var v;b?v=b.l:v=d.V++;const T=Ot(d.J);tt(T,"SID",d.M),tt(T,"RID",v),tt(T,"AID",d.K),Qs(d,T),d.u&&d.o&&Hs(T,d.u,d.o),v=new ir(d,d.j,v,d.D+1),d.u===null&&(v.J=d.o),b&&(d.i=b.G.concat(d.i)),b=Xc(d,v,1e3),v.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Wl(d.h,v),jr(v,T,b)}function Qs(d,b){d.H&&Oe(d.H,function(v,T){tt(b,T,v)}),d.l&&Oe({},function(v,T){tt(b,T,v)})}function Xc(d,b,v){v=Math.min(d.i.length,v);const T=d.l?y(d.l.Ka,d.l,d):null;e:{var L=d.i;let Ie=-1;for(;;){const kt=["count="+v];Ie==-1?v>0?(Ie=L[0].g,kt.push("ofs="+Ie)):Ie=0:kt.push("ofs="+Ie);let Ze=!0;for(let pt=0;pt<v;pt++){var q=L[pt].g;const Gn=L[pt].map;if(q-=Ie,q<0)Ie=Math.max(0,L[pt].g-100),Ze=!1;else try{q="req"+q+"_"||"";try{var le=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Br,dr]of le){let hr=dr;g(dr)&&(hr=pe(dr)),kt.push(q+Br+"="+encodeURIComponent(hr))}}catch(Br){throw kt.push(q+"type="+encodeURIComponent("_badmap")),Br}}catch{T&&T(Gn)}}if(Ze){le=kt.join("&");break e}}le=void 0}return d=d.i.splice(0,v),b.G=d,le}function Wc(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;ue||N(),$||(ue(),$=!0),k.add(b,d),d.A=0}}function $s(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Sr(y(d.Da,d),eu(d,d.A)),d.A++,!0)}a.Da=function(){if(this.v=null,Zc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Sr(y(this.Wa,this),d)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Ba(this),Zc(this))};function co(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function Zc(d){d.g=new ir(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=Ot(d.na);tt(b,"RID","rpc"),tt(b,"SID",d.M),tt(b,"AID",d.K),tt(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&tt(b,"TO",d.ia),tt(b,"TYPE","xmlhttp"),Qs(d,b),d.u&&d.o&&Hs(b,d.u,d.o),d.O&&(d.g.H=d.O);var v=d.g;d=d.ba,v.M=1,v.A=zs(Ot(b)),v.u=null,v.R=!0,Ci(v,d)}a.Va=function(){this.C!=null&&(this.C=null,Ba(this),$s(this),Rt(19))};function Ui(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Jc(d,b){var v=null;if(d.g==b){Ui(d),co(d),d.g=null;var T=2}else if(Or(d.h,b))v=b.G,Zl(d.h,b),T=1;else return;if(d.I!=0){if(b.o)if(T==1){v=b.u?b.u.length:0,b=Date.now()-b.F;var L=d.D;T=ji(),Tt(T,new kr(T,v)),Ur(d)}else Wc(d);else if(L=b.m,L==3||L==0&&b.X>0||!(T==1&&Pi(d,b)||T==2&&$s(d)))switch(v&&v.length>0&&(b=d.h,b.i=b.i.concat(v)),L){case 1:zr(d,5);break;case 4:zr(d,10);break;case 3:zr(d,6);break;default:zr(d,2)}}}function eu(d,b){let v=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(v*=2),v*b}function zr(d,b){if(d.j.info("Error code "+b),b==2){var v=y(d.bb,d),T=d.Ua;const L=!T;T=new Cn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Qt(T,"https"),zs(T),L?or(T.toString(),v):ao(T.toString(),v)}else Rt(2);d.I=0,d.l&&d.l.pa(b),tu(d),Li(d)}a.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function tu(d){if(d.I=0,d.ja=[],d.l){const b=Jl(d.h);(b.length!=0||d.i.length!=0)&&(F(d.ja,b),F(d.ja,d.i),d.h.i.length=0,P(d.i),d.i.length=0),d.l.oa()}}function nu(d,b,v){var T=v instanceof Cn?Ot(v):new Cn(v);if(T.g!="")b&&(T.g=b+"."+T.g),Oa(T,T.u);else{var L=f.location;T=L.protocol,b=b?b+"."+L.hostname:L.hostname,L=+L.port;const q=new Cn(null);T&&Qt(q,T),b&&(q.g=b),L&&Oa(q,L),v&&(q.h=v),T=q}return v=d.G,b=d.wa,v&&b&&tt(T,v,b),tt(T,"VER",d.ka),Qs(d,T),T}function ru(d,b,v){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new at(new Vr({ab:v})):new at(d.ma),b.Fa(d.L),b}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}a=au.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function qa(){}qa.prototype.g=function(d,b){return new mn(d,b)};function mn(d,b){ut.call(this),this.g=new za(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!A(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!A(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new la(this)}E(mn,ut),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){lo(this.g)},mn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.v&&(v={},v.__data__=pe(d),d=v);b.i.push(new Dt(b.Ya++,d)),b.I==3&&Ur(b)},mn.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,mn.Z.N.call(this)};function su(d){bt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const v in b){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}E(su,bt);function iu(){Wt.call(this),this.status=1}E(iu,Wt);function la(d){this.g=d}E(la,au),la.prototype.ra=function(){Tt(this.g,"a")},la.prototype.qa=function(d){Tt(this.g,new su(d))},la.prototype.pa=function(d){Tt(this.g,new iu)},la.prototype.oa=function(){Tt(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,T_=function(){return new qa},E_=function(){return ji()},w_=Nt,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,_d=Ps,$l.COMPLETE="complete",__=$l,Tr.EventType=Ct,Ct.OPEN="a",Ct.CLOSE="b",Ct.ERROR="c",Ct.MESSAGE="d",ut.prototype.listen=ut.prototype.J,Wo=Tr,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,v_=at}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});const Jx="@firebase/firestore",e1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new th("@firebase/firestore");function pl(){return xi.logLevel}function fe(a,...e){if(xi.logLevel<=qe.DEBUG){const n=e.map(Gm);xi.debug(`Firestore (${Bl}): ${a}`,...n)}}function ja(a,...e){if(xi.logLevel<=qe.ERROR){const n=e.map(Gm);xi.error(`Firestore (${Bl}): ${a}`,...n)}}function jl(a,...e){if(xi.logLevel<=qe.WARN){const n=e.map(Gm);xi.warn(`Firestore (${Bl}): ${a}`,...n)}}function Gm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(a,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,N_(a,s,n)}function N_(a,e,n){let s=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ja(s),new Error(s)}function et(a,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,a||N_(e,l,s)}function Re(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class l5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class o5{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ka;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ka,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ka)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string",31837,{l:s}),new k_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class c5{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u5{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new c5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class t1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new t1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new t1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<a;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=h5(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function He(a,e){return a<e?-1:a>e?1:0}function hm(a,e){const n=Math.min(a.length,e.length);for(let s=0;s<n;s++){const l=a.charAt(s),u=e.charAt(s);if(l!==u)return U0(l)===U0(u)?He(l,u):U0(l)?1:-1}return He(a.length,e.length)}const f5=55296,m5=57343;function U0(a){const e=a.charCodeAt(0);return e>=f5&&e<=m5}function Cl(a,e,n){return a.length===e.length&&a.every(((s,l)=>n(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="__name__";class Qr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=Qr.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return He(e.length,n.length)}static compareSegments(e,n){const s=Qr.isNumericId(e),l=Qr.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Qr.extractNumericId(e).compare(Qr.extractNumericId(n)):hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vs.fromString(e.substring(4,e.length-2))}}class ct extends Qr{construct(e,n,s){return new ct(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ct(n)}static emptyPath(){return new ct([])}}const g5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Qr{construct(e,n,s){return new an(e,n,s)}static isValidIdentifier(e){return g5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n1}static keyField(){return new an([n1])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(u(),l++)}if(u(),f)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ct.fromString(e))}static fromName(e){return new Ee(ct.fromString(e).popFirst(5))}static empty(){return new Ee(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(a,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function p5(a,e,n,s){if(e===!0&&s===!0)throw new de(J.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function r1(a){if(!Ee.isDocumentKey(a))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function a1(a){if(Ee.isDocumentKey(a))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function A_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function sh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Se(12329,{type:typeof a})}function Sn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sh(a);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(a,e){const n={typeString:a};return e&&(n.value=e),n}function Rc(a,e){if(!A_(a))throw new de(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){n=`JSON missing required field: '${s}'`;break}const f=a[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new de(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=-62135596800,i1=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*i1);return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<s1)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i1}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Bt("string",ft._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ft(0,0))}static max(){return new Ae(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=-1;function y5(a,e){const n=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new Es(l,Ee.empty(),e)}function b5(a){return new Es(a.readTime,a.key,yc)}class Es{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Es(Ae.min(),Ee.empty(),yc)}static max(){return new Es(Ae.max(),Ee.empty(),yc)}}function x5(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(a.documentKey,e.documentKey),n!==0?n:He(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==v5)throw a;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let l=0,u=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++u,f&&u===l&&n()}),(p=>s(p)))})),f=!0,u===l&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((l=>l?te.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,l)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((_=>{f[y]=_,++g,g===u&&s(f)}),(_=>l(_)))}}))}static doWhile(e,n){return new te(((s,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):s()};u()}))}}function w5(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ih.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=-1;function lh(a){return a==null}function qd(a){return a===0&&1/a==-1/0}function E5(a){return typeof a=="number"&&Number.isInteger(a)&&!qd(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="";function T5(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=l1(e)),e=N5(a.get(n),e);return l1(e)}function N5(a,e){let n=e;const s=a.length;for(let l=0;l<s;l++){const u=a.charAt(l);switch(u){case"\0":n+="";break;case j_:n+="";break;default:n+=u}}return n}function l1(a){return a+j_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function Rs(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function C_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fd(this.root,e,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fd(this.root,e,this.comparator,!0)}}class fd{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??rn.RED,this.left=l??rn.EMPTY,this.right=u??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new rn(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return rn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new c1(this.data.getIterator())}getIteratorFrom(e){return new c1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class c1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Ht(an.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new R_("Invalid base64 string: "+u):u}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const k5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(a){if(et(!!a,39018),typeof a=="string"){let e=0;const n=k5.exec(a);if(et(!!n,46558,{timestamp:a}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:jt(a.seconds),nanos:jt(a.nanos)}}function jt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ns(a){return typeof a=="string"?sn.fromBase64String(a):sn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="server_timestamp",D_="__type__",O_="__previous_value__",M_="__local_write_time__";function Km(a){var n,s;return((s=(((n=a==null?void 0:a.mapValue)==null?void 0:n.fields)||{})[D_])==null?void 0:s.stringValue)===I_}function oh(a){const e=a.mapValue.fields[O_];return Km(e)?oh(e):e}function bc(a){const e=Ts(a.mapValue.fields[M_].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,s,l,u,f,g,p,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=_}}const Hd="(default)";class xc{constructor(e,n){this.projectId=e,this.database=n||Hd}static empty(){return new xc("","")}get isDefaultDatabase(){return this.database===Hd}isEqual(e){return e instanceof xc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__type__",A5="__max__",md={mapValue:{}},L_="__vector__",Fd="value";function ks(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Km(a)?4:C5(a)?9007199254740991:j5(a)?10:11:Se(28295,{value:a})}function ra(a,e){if(a===e)return!0;const n=ks(a);if(n!==ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return bc(a).isEqual(bc(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Ts(l.timestampValue),g=Ts(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(l,u){return Ns(l.bytesValue).isEqual(Ns(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(l,u){return jt(l.geoPointValue.latitude)===jt(u.geoPointValue.latitude)&&jt(l.geoPointValue.longitude)===jt(u.geoPointValue.longitude)})(a,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return jt(l.integerValue)===jt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=jt(l.doubleValue),g=jt(u.doubleValue);return f===g?qd(f)===qd(g):isNaN(f)&&isNaN(g)}return!1})(a,e);case 9:return Cl(a.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(o1(f)!==o1(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!ra(f[p],g[p])))return!1;return!0})(a,e);default:return Se(52216,{left:a})}}function vc(a,e){return(a.values||[]).find((n=>ra(n,e)))!==void 0}function Rl(a,e){if(a===e)return 0;const n=ks(a),s=ks(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=jt(u.integerValue||u.doubleValue),p=jt(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(a,e);case 3:return u1(a.timestampValue,e.timestampValue);case 4:return u1(bc(a),bc(e));case 5:return hm(a.stringValue,e.stringValue);case 6:return(function(u,f){const g=Ns(u),p=Ns(f);return g.compareTo(p)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const _=He(g[y],p[y]);if(_!==0)return _}return He(g.length,p.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=He(jt(u.latitude),jt(f.latitude));return g!==0?g:He(jt(u.longitude),jt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return d1(a.arrayValue,e.arrayValue);case 10:return(function(u,f){var j,P,F,re;const g=u.fields||{},p=f.fields||{},y=(j=g[Fd])==null?void 0:j.arrayValue,_=(P=p[Fd])==null?void 0:P.arrayValue,E=He(((F=y==null?void 0:y.values)==null?void 0:F.length)||0,((re=_==null?void 0:_.values)==null?void 0:re.length)||0);return E!==0?E:d1(y,_)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===md.mapValue&&f===md.mapValue)return 0;if(u===md.mapValue)return 1;if(f===md.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),y=f.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const j=hm(p[E],_[E]);if(j!==0)return j;const P=Rl(g[p[E]],y[_[E]]);if(P!==0)return P}return He(p.length,_.length)})(a.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function u1(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return He(a,e);const n=Ts(a),s=Ts(e),l=He(n.seconds,s.seconds);return l!==0?l:He(n.nanos,s.nanos)}function d1(a,e){const n=a.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=Rl(n[l],s[l]);if(u)return u}return He(n.length,s.length)}function Il(a){return fm(a)}function fm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const s=Ts(n);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return Ns(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return Ee.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=fm(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${fm(n.fields[f])}`;return l+"}"})(a.mapValue):Se(61005,{value:a})}function wd(a){switch(ks(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oh(a);return e?16+wd(e):16;case 5:return 2*a.stringValue.length;case 6:return Ns(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+wd(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return Rs(s.fields,((u,f)=>{l+=u.length+wd(f)})),l})(a.mapValue);default:throw Se(13486,{value:a})}}function h1(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function mm(a){return!!a&&"integerValue"in a}function Ym(a){return!!a&&"arrayValue"in a}function f1(a){return!!a&&"nullValue"in a}function m1(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ed(a){return!!a&&"mapValue"in a}function j5(a){var n,s;return((s=(((n=a==null?void 0:a.mapValue)==null?void 0:n.fields)||{})[V_])==null?void 0:s.stringValue)===L_}function ac(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Rs(a.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ac(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(a.arrayValue.values[n]);return e}return{...a}}function C5(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===A5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ed(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=an.emptyPath(),s={},l=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=ac(f):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());Ed(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Ed(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Rs(n,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new kn(ac(this.value))}}function P_(a){const e=[];return Rs(a.fields,((n,s)=>{const l=new an([n]);if(Ed(s)){const u=P_(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,s,l,u,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new hn(e,0,Ae.min(),Ae.min(),Ae.min(),kn.empty(),0)}static newFoundDocument(e,n,s,l){return new hn(e,1,n,Ae.min(),s,l,0)}static newNoDocument(e,n){return new hn(e,2,n,Ae.min(),Ae.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Ae.min(),Ae.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.position=e,this.inclusive=n}}function g1(a,e,n){let s=0;for(let l=0;l<a.position.length;l++){const u=e[l],f=a.position[l];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=Rl(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function p1(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!ra(a.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n="asc"){this.field=e,this.dir=n}}function R5(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{}class zt extends U_{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new D5(e,n,s):n==="array-contains"?new V5(e,s):n==="in"?new L5(e,s):n==="not-in"?new P5(e,s):n==="array-contains-any"?new U5(e,s):new zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new O5(e,s):new M5(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rl(n,this.value)):n!==null&&ks(this.value)===ks(n)&&this.matchesComparison(Rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends U_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xr(e,n)}matches(e){return z_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function z_(a){return a.op==="and"}function B_(a){return I5(a)&&z_(a)}function I5(a){for(const e of a.filters)if(e instanceof xr)return!1;return!0}function gm(a){if(a instanceof zt)return a.field.canonicalString()+a.op.toString()+Il(a.value);if(B_(a))return a.filters.map((e=>gm(e))).join(",");{const e=a.filters.map((n=>gm(n))).join(",");return`${a.op}(${e})`}}function q_(a,e){return a instanceof zt?(function(s,l){return l instanceof zt&&s.op===l.op&&s.field.isEqual(l.field)&&ra(s.value,l.value)})(a,e):a instanceof xr?(function(s,l){return l instanceof xr&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,g)=>u&&q_(f,l.filters[g])),!0):!1})(a,e):void Se(19439)}function H_(a){return a instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Il(n.value)}`})(a):a instanceof xr?(function(n){return n.op.toString()+" {"+n.getFilters().map(H_).join(" ,")+"}"})(a):"Filter"}class D5 extends zt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class O5 extends zt{constructor(e,n){super(e,"in",n),this.keys=F_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class M5 extends zt{constructor(e,n){super(e,"not-in",n),this.keys=F_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function F_(a,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Ee.fromName(s.referenceValue)))}class V5 extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ym(n)&&vc(n.arrayValue,this.value)}}class L5 extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vc(this.value.arrayValue,n)}}class P5 extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vc(this.value.arrayValue,n)}}class U5 extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>vc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n=null,s=[],l=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function y1(a,e=null,n=[],s=[],l=null,u=null,f=null){return new z5(a,e,n,s,l,u,f)}function Xm(a){const e=Re(a);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>gm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Il(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Il(s))).join(",")),e.Te=n}return e.Te}function Wm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!R5(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!q_(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!p1(a.startAt,e.startAt)&&p1(a.endAt,e.endAt)}function pm(a){return Ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n=null,s=[],l=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B5(a,e,n,s,l,u,f,g){return new Fl(a,e,n,s,l,u,f,g)}function ch(a){return new Fl(a)}function b1(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function G_(a){return a.collectionGroup!==null}function sc(a){const e=Re(a);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ht(an.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new _c(u,s))})),n.has(an.keyField().canonicalString())||e.Ie.push(new _c(an.keyField(),s))}return e.Ie}function Wr(a){const e=Re(a);return e.Ee||(e.Ee=q5(e,sc(a))),e.Ee}function q5(a,e){if(a.limitType==="F")return y1(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new _c(l.field,u)}));const n=a.endAt?new Gd(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Gd(a.startAt.position,a.startAt.inclusive):null;return y1(a.path,a.collectionGroup,e,a.filters,a.limit,n,s)}}function ym(a,e){const n=a.filters.concat([e]);return new Fl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function bm(a,e,n){return new Fl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function uh(a,e){return Wm(Wr(a),Wr(e))&&a.limitType===e.limitType}function Q_(a){return`${Xm(Wr(a))}|lt:${a.limitType}`}function yl(a){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>H_(l))).join(", ")}]`),lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>Il(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>Il(l))).join(",")),`Target(${s})`})(Wr(a))}; limitType=${a.limitType})`}function dh(a,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,l){for(const u of sc(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(a,e)&&(function(s,l){return!(s.startAt&&!(function(f,g,p){const y=g1(f,g,p);return f.inclusive?y<=0:y<0})(s.startAt,sc(s),l)||s.endAt&&!(function(f,g,p){const y=g1(f,g,p);return f.inclusive?y>=0:y>0})(s.endAt,sc(s),l))})(a,e)}function H5(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function $_(a){return(e,n)=>{let s=!1;for(const l of sc(a)){const u=F5(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function F5(a,e,n){const s=a.field.isKeyField()?Ee.comparator(e.key,n.key):(function(u,f,g){const p=f.data.field(u),y=g.data.field(u);return p!==null&&y!==null?Rl(p,y):Se(42886)})(a.field,e,n);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,((n,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return C_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new xt(Ee.comparator);function Ca(){return G5}const K_=new xt(Ee.comparator);function Zo(...a){let e=K_;for(const n of a)e=e.insert(n.key,n);return e}function Y_(a){let e=K_;return a.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function di(){return ic()}function X_(){return ic()}function ic(){return new ki((a=>a.toString()),((a,e)=>a.isEqual(e)))}const Q5=new xt(Ee.comparator),$5=new Ht(Ee.comparator);function Fe(...a){let e=$5;for(const n of a)e=e.add(n);return e}const K5=new Ht(He);function Y5(){return K5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(e)?"-0":e}}function W_(a){return{integerValue:""+a}}function Z_(a,e){return E5(e)?W_(e):Zm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function X5(a,e,n){return a instanceof wc?(function(l,u){const f={fields:{[D_]:{stringValue:I_},[M_]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Km(u)&&(u=oh(u)),u&&(f.fields[O_]=u),{mapValue:f}})(n,e):a instanceof Ec?ew(a,e):a instanceof Tc?tw(a,e):(function(l,u){const f=J_(l,u),g=x1(f)+x1(l.Ae);return mm(f)&&mm(l.Ae)?W_(g):Zm(l.serializer,g)})(a,e)}function W5(a,e,n){return a instanceof Ec?ew(a,e):a instanceof Tc?tw(a,e):n}function J_(a,e){return a instanceof Nc?(function(s){return mm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class wc extends hh{}class Ec extends hh{constructor(e){super(),this.elements=e}}function ew(a,e){const n=nw(e);for(const s of a.elements)n.some((l=>ra(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Tc extends hh{constructor(e){super(),this.elements=e}}function tw(a,e){let n=nw(e);for(const s of a.elements)n=n.filter((l=>!ra(l,s)));return{arrayValue:{values:n}}}class Nc extends hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function x1(a){return jt(a.integerValue||a.doubleValue)}function nw(a){return Ym(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){this.field=e,this.transform=n}}function Z5(a,e){return a.field.isEqual(e.field)&&(function(s,l){return s instanceof Ec&&l instanceof Ec||s instanceof Tc&&l instanceof Tc?Cl(s.elements,l.elements,ra):s instanceof Nc&&l instanceof Nc?ra(s.Ae,l.Ae):s instanceof wc&&l instanceof wc})(a.transform,e.transform)}class J5{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Td(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class fh{}function aw(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Jm(a.key,rr.none()):new Ic(a.key,a.data,rr.none());{const n=a.data,s=kn.empty();let l=new Ht(an.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new Is(a.key,s,new Pn(l.toArray()),rr.none())}}function ej(a,e,n){a instanceof Ic?(function(l,u,f){const g=l.value.clone(),p=_1(l.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,e,n):a instanceof Is?(function(l,u,f){if(!Td(l.precondition,u))return void u.convertToUnknownDocument(f.version);const g=_1(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(sw(l)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function lc(a,e,n,s){return a instanceof Ic?(function(u,f,g,p){if(!Td(u.precondition,f))return g;const y=u.value.clone(),_=w1(u.fieldTransforms,p,f);return y.setAll(_),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(a,e,n,s):a instanceof Is?(function(u,f,g,p){if(!Td(u.precondition,f))return g;const y=w1(u.fieldTransforms,p,f),_=f.data;return _.setAll(sw(u)),_.setAll(y),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(a,e,n,s):(function(u,f,g){return Td(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(a,e,n)}function tj(a,e){let n=null;for(const s of a.fieldTransforms){const l=e.data.field(s.field),u=J_(s.transform,l||null);u!=null&&(n===null&&(n=kn.empty()),n.set(s.field,u))}return n||null}function v1(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Cl(s,l,((u,f)=>Z5(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Ic extends fh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Is extends fh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function sw(a){const e=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=a.data.field(n);e.set(n,s)}})),e}function _1(a,e,n){const s=new Map;et(a.length===n.length,32656,{Re:n.length,Ve:a.length});for(let l=0;l<n.length;l++){const u=a[l],f=u.transform,g=e.data.field(u.field);s.set(u.field,W5(f,g,n[l]))}return s}function w1(a,e,n){const s=new Map;for(const l of a){const u=l.transform,f=n.data.field(l.field);s.set(l.field,X5(u,f,e))}return s}class Jm extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nj extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&ej(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=lc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=lc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=X_();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(l.key)?null:g;const p=aw(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,((n,s)=>v1(n,s)))&&Cl(this.baseMutations,e.baseMutations,((n,s)=>v1(n,s)))}}class eg{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){et(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return Q5})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new eg(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,$e;function ij(a){switch(a){case J.OK:return Se(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se(15467,{code:a})}}function iw(a){if(a===void 0)return ja("GRPC error has no .code"),J.UNKNOWN;switch(a){case Ut.OK:return J.OK;case Ut.CANCELLED:return J.CANCELLED;case Ut.UNKNOWN:return J.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return J.INTERNAL;case Ut.UNAVAILABLE:return J.UNAVAILABLE;case Ut.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ut.NOT_FOUND:return J.NOT_FOUND;case Ut.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ut.ABORTED:return J.ABORTED;case Ut.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ut.DATA_LOSS:return J.DATA_LOSS;default:return Se(39323,{code:a})}}($e=Ut||(Ut={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=new vs([4294967295,4294967295],0);function E1(a){const e=lj().encode(a),n=new x_;return n.update(e),new Uint8Array(n.digest())}function T1(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new vs([n,s],0),new vs([l,u],0)]}class tg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jo(`Invalid padding: ${n}`);if(s<0)throw new Jo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Jo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vs.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(vs.fromNumber(s)));return l.compare(oj)===1&&(l=new vs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=E1(e),[s,l]=T1(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new tg(u,l,n);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=E1(e),[s,l]=T1(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new mh(Ae.min(),l,new xt(He),Ca(),Fe())}}class Dc{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Dc(s,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class lw{constructor(e,n){this.targetId=e,this.Ce=n}}class ow{constructor(e,n,s=sn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class N1{constructor(){this.ve=0,this.Fe=k1(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),s=Fe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Se(38017,{changeType:u})}})),new Dc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=k1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ca(),this.Je=gd(),this.He=gd(),this.Ye=new xt(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(pm(u))if(s===0){const f=new Ee(u.path);this.et(n,f,hn.newNoDocument(f,Ae.min()))}else et(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,g;try{f=Ns(s).toUint8Array()}catch(p){if(p instanceof R_)return jl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new tg(f,l,u)}catch(p){return jl(p instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&pm(g.target)){const p=new Ee(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,hn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Fe();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new mh(e,n,this.Ye,this.je,s);return this.je=Ca(),this.Je=gd(),this.He=gd(),this.Ye=new xt(He),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new N1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new N1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gd(){return new xt(Ee.comparator)}function k1(){return new xt(Ee.comparator)}const uj={asc:"ASCENDING",desc:"DESCENDING"},dj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hj={and:"AND",or:"OR"};class fj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xm(a,e){return a.useProto3Json||lh(e)?e:{value:e}}function Qd(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cw(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function mj(a,e){return Qd(a,e.toTimestamp())}function Zr(a){return et(!!a,49232),Ae.fromTimestamp((function(n){const s=Ts(n);return new ft(s.seconds,s.nanos)})(a))}function ng(a,e){return vm(a,e).canonicalString()}function vm(a,e){const n=(function(l){return new ct(["projects",l.projectId,"databases",l.database])})(a).child("documents");return e===void 0?n:n.child(e)}function uw(a){const e=ct.fromString(a);return et(gw(e),10190,{key:e.toString()}),e}function _m(a,e){return ng(a.databaseId,e.path)}function z0(a,e){const n=uw(e);if(n.get(1)!==a.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new Ee(hw(n))}function dw(a,e){return ng(a.databaseId,e)}function gj(a){const e=uw(a);return e.length===4?ct.emptyPath():hw(e)}function wm(a){return new ct(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function hw(a){return et(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function S1(a,e,n){return{name:_m(a,e),fields:n.value.mapValue.fields}}function pj(a,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,_){return y.useProto3Json?(et(_===void 0||typeof _=="string",58123),sn.fromBase64String(_||"")):(et(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),sn.fromUint8Array(_||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(y){const _=y.code===void 0?J.UNKNOWN:iw(y.code);return new de(_,y.message||"")})(f);n=new ow(s,l,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=z0(a,s.document.name),u=Zr(s.document.updateTime),f=s.document.createTime?Zr(s.document.createTime):Ae.min(),g=new kn({mapValue:{fields:s.document.fields}}),p=hn.newFoundDocument(l,u,f,g),y=s.targetIds||[],_=s.removedTargetIds||[];n=new Nd(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=z0(a,s.document),u=s.readTime?Zr(s.readTime):Ae.min(),f=hn.newNoDocument(l,u),g=s.removedTargetIds||[];n=new Nd([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=z0(a,s.document),u=s.removedTargetIds||[];n=new Nd([],u,l,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new sj(l,u),g=s.targetId;n=new lw(g,f)}}return n}function yj(a,e){let n;if(e instanceof Ic)n={update:S1(a,e.key,e.value)};else if(e instanceof Jm)n={delete:_m(a,e.key)};else if(e instanceof Is)n={update:S1(a,e.key,e.data),updateMask:kj(e.fieldMask)};else{if(!(e instanceof nj))return Se(16599,{Vt:e.type});n={verify:_m(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof wc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ec)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Tc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Nc)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Se(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:mj(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(a,e.precondition)),n}function bj(a,e){return a&&a.length>0?(et(e!==void 0,14353),a.map((n=>(function(l,u){let f=l.updateTime?Zr(l.updateTime):Zr(u);return f.isEqual(Ae.min())&&(f=Zr(u)),new J5(f,l.transformResults||[])})(n,e)))):[]}function xj(a,e){return{documents:[dw(a,e.path)]}}function vj(a,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dw(a,l);const u=(function(y){if(y.length!==0)return mw(xr.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((_=>(function(j){return{field:bl(j.field),direction:Ej(j.dir)}})(_)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=xm(a,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function _j(a){let e=gj(a.parent);const n=a.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){et(s===1,65062);const _=n.from[0];_.allDescendants?l=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(E){const j=fw(E);return j instanceof xr&&B_(j)?j.getFilters():[j]})(n.where));let f=[];n.orderBy&&(f=(function(E){return E.map((j=>(function(F){return new _c(xl(F.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(j)))})(n.orderBy));let g=null;n.limit&&(g=(function(E){let j;return j=typeof E=="object"?E.value:E,lh(j)?null:j})(n.limit));let p=null;n.startAt&&(p=(function(E){const j=!!E.before,P=E.values||[];return new Gd(P,j)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const j=!E.before,P=E.values||[];return new Gd(P,j)})(n.endAt)),B5(e,l,f,u,g,"F",p,y)}function wj(a,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fw(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xl(n.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=xl(n.unaryFilter.field);return zt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=xl(n.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xl(n.unaryFilter.field);return zt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(a):a.fieldFilter!==void 0?(function(n){return zt.create(xl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return xr.create(n.compositeFilter.filters.map((s=>fw(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(a):Se(30097,{filter:a})}function Ej(a){return uj[a]}function Tj(a){return dj[a]}function Nj(a){return hj[a]}function bl(a){return{fieldPath:a.canonicalString()}}function xl(a){return an.fromServerFormat(a.fieldPath)}function mw(a){return a instanceof zt?(function(n){if(n.op==="=="){if(m1(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NAN"}};if(f1(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m1(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NOT_NAN"}};if(f1(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bl(n.field),op:Tj(n.op),value:n.value}}})(a):a instanceof xr?(function(n){const s=n.getFilters().map((l=>mw(l)));return s.length===1?s[0]:{compositeFilter:{op:Nj(n.op),filters:s}}})(a):Se(54877,{filter:a})}function kj(a){const e=[];return a.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gw(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,s,l,u=Ae.min(),f=Ae.min(),g=sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.yt=e}}function Aj(a){const e=_j({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.Cn=new Cj}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Es.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class Cj{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Ht(ct.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Ht(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pw=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(pw,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Dl(0)}static cr(){return new Dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="LruGarbageCollector",Rj=1048576;function C1([a,e],[n,s]){const l=He(a,n);return l===0?He(e,s):l}class Ij{constructor(e){this.Ir=e,this.buffer=new Ht(C1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();C1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Dj{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(j1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hl(n)?fe(j1,"Ignoring IndexedDB error during garbage collection: ",n):await ql(n)}await this.Vr(3e5)}))}}class Oj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(ih.ce);const s=new Ij(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(A1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,u,f,g,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,f=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(s=E,g=Date.now(),this.removeTargets(e,s,n)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),pl()<=qe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:E}))))}}function Mj(a,e){return new Oj(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.changes=new ki((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&lc(s.mutation,l,Pn.empty(),ft.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Fe()){const l=di();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((u=>{let f=Zo();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=di();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Fe())))}populateOverlays(e,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,s,l){let u=Ca();const f=ic(),g=(function(){return ic()})();return n.forEach(((p,y)=>{const _=s.get(y.key);l.has(y.key)&&(_===void 0||_.mutation instanceof Is)?u=u.insert(y.key,y):_!==void 0?(f.set(y.key,_.mutation.getFieldMask()),lc(_.mutation,y,_.mutation.getFieldMask(),ft.now())):f.set(y.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,_)=>f.set(y,_))),n.forEach(((y,_)=>g.set(y,new Lj(_,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=ic();let l=new xt(((f,g)=>f-g)),u=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let _=s.get(p)||Pn.empty();_=g.applyToLocalView(y,_),s.set(p,_);const E=(l.get(g.batchId)||Fe()).add(p);l=l.insert(g.batchId,E)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,_=p.value,E=X_();_.forEach((j=>{if(!u.has(j)){const P=aw(n.get(j),s.get(j));P!==null&&E.set(j,P),u=u.add(j)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,E))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):te.resolve(di());let g=yc,p=u;return f.next((y=>te.forEach(y,((_,E)=>(g<E.largestBatchId&&(g=E.largestBatchId),u.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next((j=>{p=p.insert(_,j)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Fe()))).next((_=>({batchId:g,changes:Y_(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((s=>{let l=Zo();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let f=Zo();return this.indexManager.getCollectionParents(e,u).next((g=>te.forEach(g,(p=>{const y=(function(E,j){return new Fl(j,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((_=>{_.forEach(((E,j)=>{f=f.insert(E,j)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l)))).next((f=>{u.forEach(((p,y)=>{const _=y.getKey();f.get(_)===null&&(f=f.insert(_,hn.newInvalidDocument(_)))}));let g=Zo();return f.forEach(((p,y)=>{const _=u.get(p);_!==void 0&&lc(_.mutation,y,Pn.empty(),ft.now()),dh(n,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Zr(l.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:Aj(l.bundledQuery),readTime:Zr(l.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.overlays=new xt(Ee.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=di();return te.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const l=di(),u=n.length+1,f=new Ee(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&l.set(p.getKey(),p)}return te.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new xt(((y,_)=>y-_));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let _=u.get(y.largestBatchId);_===null&&(_=di(),u=u.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const g=di(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,_)=>g.set(y,_))),!(g.size()>=l)););return te.resolve(g)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new aj(n,s));let u=this.qr.get(n);u===void 0&&(u=Fe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Qr=new Ht(Kt.$r),this.Ur=new Ht(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Kt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ee(new ct([])),s=new Kt(n,e),l=new Kt(n,e+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new ct([])),s=new Kt(n,e),l=new Kt(n,e+1);let u=Fe();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Kt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new rj(u,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new Kt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?$m:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Kt(n,0),l=new Kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const g=this.Xr(f.Yr);u.push(g)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ht(He);return n.forEach((l=>{const u=new Kt(l,0),f=new Kt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{s=s.add(g.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new Kt(new Ee(u),0);let g=new Ht(He);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Yr)),!0)}),f),te.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(l=>{const u=new Kt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Kt(n,0),l=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.ri=e,this.docs=(function(){return new xt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let s=Ca();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():hn.newInvalidDocument(l))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=Ca();const f=n.path,g=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||x5(b5(_),s)<=0||(l.has(_.key)||dh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,l){Se(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Fj(this)}getSize(e){return te.resolve(this.size)}}class Fj extends Vj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.persistence=e,this.si=new ki((n=>Xm(n)),Wm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new rg,this.targetCount=0,this.ai=Dl.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),te.waitFor(u).next((()=>l))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n){this.ui={},this.overlays={},this.ci=new ih(0),this.li=!1,this.li=!0,this.hi=new Bj,this.referenceDelegate=e(this),this.Pi=new Gj(this),this.indexManager=new jj,this.remoteDocumentCache=(function(l){return new Hj(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Sj(n),this.Ii=new Uj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new qj(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const l=new Qj(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Qj extends _5{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Ri=new rg,this.Vi=null}static mi(e){return new ag(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const l=Ee.fromPath(s);return this.gi(e,l).next((u=>{u||n.removeEntry(l,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $d{constructor(e,n){this.persistence=e,this.pi=new ki((s=>T5(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=Mj(this,n)}static mi(e,n){return new $d(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?te.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((g=>{g||(s++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wd(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return te.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=Fe(),l=Fe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new sg(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vk()?8:w5(fn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new $j;return this.Ss(e,n,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>u.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(pl()<=qe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(pl()<=qe.DEBUG&&fe("QueryEngine","Query:",yl(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(pl()<=qe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):te.resolve())}ys(e,n){if(b1(n))return te.resolve(null);let s=Wr(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=bm(n,null,"F"),s=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Fe(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,g);return this.Cs(n,y,f,p.readTime)?this.ys(e,bm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,l){return b1(n)||l.isEqual(Ae.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,l)?te.resolve(null):(pl()<=qe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),yl(n)),this.vs(e,f,n,y5(l,yc)).next((g=>g)))}))}Ds(e,n){let s=new Ht($_(e));return n.forEach(((l,u)=>{dh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,s){return pl()<=qe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",yl(n)),this.ps.getDocumentsMatchingQuery(e,n,Es.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",Yj=3e8;class Xj{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new xt(He),this.xs=new ki((u=>Xm(u)),Wm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Wj(a,e,n,s){return new Xj(a,e,n,s)}async function bw(a,e){const n=Re(a);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let p=Fe();for(const y of l){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of u){g.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function Zj(a,e){const n=Re(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,_){const E=y.batch,j=E.keys();let P=te.resolve();return j.forEach((F=>{P=P.next((()=>_.getEntry(p,F))).next((re=>{const G=y.docVersions.get(F);et(G!==null,48541),re.version.compareTo(G)<0&&(E.applyToRemoteDocument(re,y),re.isValidDocument()&&(re.setReadTime(y.commitVersion),_.addEntry(re)))}))})),P.next((()=>g.mutationQueue.removeMutationBatch(p,E)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Fe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function xw(a){const e=Re(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Jj(a,e){const n=Re(a),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((_,E)=>{const j=l.get(E);if(!j)return;g.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,E))));let P=j.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?P=P.withResumeToken(sn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,s)),l=l.insert(E,P),(function(re,G,K){return re.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=Yj?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(j,P,_)&&g.push(n.Pi.updateTargetData(u,P))}));let p=Ca(),y=Fe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),g.push(e6(u,f,e.documentUpdates).next((_=>{p=_.ks,y=_.qs}))),!s.isEqual(Ae.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(_)}return te.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=l,u)))}function e6(a,e,n){let s=Fe(),l=Fe();return n.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let f=Ca();return n.forEach(((g,p)=>{const y=u.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):fe(ig,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function t6(a,e){const n=Re(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=$m),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function n6(a,e){const n=Re(a);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((u=>u?(l=u,te.resolve(l)):n.Pi.allocateTargetId(s).next((f=>(l=new ys(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Em(a,e,n){const s=Re(a),l=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Hl(f))throw f;fe(ig,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function R1(a,e,n){const s=Re(a);let l=Ae.min(),u=Fe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,_){const E=Re(p),j=E.xs.get(_);return j!==void 0?te.resolve(E.Ms.get(j)):E.Pi.getTargetData(y,_)})(s,f,Wr(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?l:Ae.min(),n?u:Fe()))).next((g=>(r6(s,H5(e),g),{documents:g,Qs:u})))))}function r6(a,e,n){let s=a.Os.get(e)||Ae.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class I1{constructor(){this.activeTargetIds=Y5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a6{constructor(){this.Mo=new I1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new I1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="ConnectivityMonitor";class O1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(D1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(D1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd=null;function Tm(){return pd===null?pd=(function(){return 268435456+Math.round(2147483648*Math.random())})():pd++,"0x"+pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="RestConnection",i6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Hd?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,u){const f=Tm(),g=this.zo(e,n.toUriEncodedString());fe(B0,`Sending RPC '${e}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:y}=new URL(g),_=Pl(y);return this.Jo(e,g,p,s,_).then((E=>(fe(B0,`Received RPC '${e}' ${f}: `,E),E)),(E=>{throw jl(B0,`RPC '${e}' ${f} failed with error: `,E,"url: ",g,"request:",s),E}))}Ho(e,n,s,l,u,f){return this.Go(e,n,s,l,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const s=i6[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class c6 extends l6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,u){const f=Tm();return new Promise(((g,p)=>{const y=new v_;y.setWithCredentials(!0),y.listenOnce(__.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case _d.NO_ERROR:const E=y.getResponseJson();fe(un,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(E)),g(E);break;case _d.TIMEOUT:fe(un,`RPC '${e}' ${f} timed out`),p(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:const j=y.getStatus();if(fe(un,`RPC '${e}' ${f} failed with status:`,j,"response text:",y.getResponseText()),j>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const F=P==null?void 0:P.error;if(F&&F.status&&F.message){const re=(function(K){const ae=K.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ae)>=0?ae:J.UNKNOWN})(F.status);p(new de(re,F.message))}else p(new de(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new de(J.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(un,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(l);fe(un,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",_,s,15)}))}T_(e,n,s){const l=Tm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=T_(),g=E_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");fe(un,`Creating RPC '${e}' stream ${l}: ${_}`,p);const E=f.createWebChannel(_,p);this.I_(E);let j=!1,P=!1;const F=new o6({Yo:G=>{P?fe(un,`Not sending because RPC '${e}' stream ${l} is closed:`,G):(j||(fe(un,`Opening RPC '${e}' stream ${l} transport.`),E.open(),j=!0),fe(un,`RPC '${e}' stream ${l} sending:`,G),E.send(G))},Zo:()=>E.close()}),re=(G,K,ae)=>{G.listen(K,(ce=>{try{ae(ce)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return re(E,Wo.EventType.OPEN,(()=>{P||(fe(un,`RPC '${e}' stream ${l} transport opened.`),F.o_())})),re(E,Wo.EventType.CLOSE,(()=>{P||(P=!0,fe(un,`RPC '${e}' stream ${l} transport closed`),F.a_(),this.E_(E))})),re(E,Wo.EventType.ERROR,(G=>{P||(P=!0,jl(un,`RPC '${e}' stream ${l} transport errored. Name:`,G.name,"Message:",G.message),F.a_(new de(J.UNAVAILABLE,"The operation could not be completed")))})),re(E,Wo.EventType.MESSAGE,(G=>{var K;if(!P){const ae=G.data[0];et(!!ae,16349);const ce=ae,ve=(ce==null?void 0:ce.error)||((K=ce[0])==null?void 0:K.error);if(ve){fe(un,`RPC '${e}' stream ${l} received error:`,ve);const ue=ve.status;let $=(function(S){const I=Ut[S];if(I!==void 0)return iw(I)})(ue),k=ve.message;$===void 0&&($=J.INTERNAL,k="Unknown error status: "+ue+" with message "+ve.message),P=!0,F.a_(new de($,k)),E.close()}else fe(un,`RPC '${e}' stream ${l} received:`,ae),F.u_(ae)}})),re(g,w_.STAT_EVENT,(G=>{G.stat===dm.PROXY?fe(un,`RPC '${e}' stream ${l} detected buffering proxy`):G.stat===dm.NOPROXY&&fe(un,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function q0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(a){return new fj(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&fe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="PersistentStream";class _w{constructor(e,n,s,l,u,f,g,p){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ja(n.toString()),ja("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new de(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(M1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(M1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class u6 extends _w{constructor(e,n,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pj(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Zr(f.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=wm(this.serializer),n.addTarget=(function(u,f){let g;const p=f.target;if(g=pm(p)?{documents:xj(u,p)}:{query:vj(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=cw(u,f.resumeToken);const y=xm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){g.readTime=Qd(u,f.snapshotVersion.toTimestamp());const y=xm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=wj(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=wm(this.serializer),n.removeTarget=e,this.q_(n)}}class d6 extends _w{constructor(e,n,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bj(e.writeResults,e.commitTime),s=Zr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>yj(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{}class f6 extends h6{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,vm(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(J.UNKNOWN,u.toString())}))}Ho(e,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,vm(n,s),l,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class m6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ja(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="RemoteStore";class g6{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Si(this)&&(fe(vi,"Restarting streams for network reachability change."),await(async function(p){const y=Re(p);y.Ea.add(4),await Oc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ph(y)})(this))}))})),this.Ra=new m6(s,l)}}async function ph(a){if(Si(a))for(const e of a.da)await e(!0)}async function Oc(a){for(const e of a.da)await e(!1)}function ww(a,e){const n=Re(a);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ug(n)?cg(n):Gl(n).O_()&&og(n,e))}function lg(a,e){const n=Re(a),s=Gl(n);n.Ia.delete(e),s.O_()&&Ew(n,e),n.Ia.size===0&&(s.O_()?s.L_():Si(n)&&n.Ra.set("Unknown"))}function og(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gl(a).Y_(e)}function Ew(a,e){a.Va.Ue(e),Gl(a).Z_(e)}function cg(a){a.Va=new cj({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Gl(a).start(),a.Ra.ua()}function ug(a){return Si(a)&&!Gl(a).x_()&&a.Ia.size>0}function Si(a){return Re(a).Ea.size===0}function Tw(a){a.Va=void 0}async function p6(a){a.Ra.set("Online")}async function y6(a){a.Ia.forEach(((e,n)=>{og(a,e)}))}async function b6(a,e){Tw(a),ug(a)?(a.Ra.ha(e),cg(a)):a.Ra.set("Unknown")}async function x6(a,e,n){if(a.Ra.set("Online"),e instanceof ow&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(a,e)}catch(s){fe(vi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kd(a,s)}else if(e instanceof Nd?a.Va.Ze(e):e instanceof lw?a.Va.st(e):a.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await xw(a.localStore);n.compareTo(s)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(y);_&&u.Ia.set(y,_.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,y)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(sn.EMPTY_BYTE_STRING,_.snapshotVersion)),Ew(u,p);const E=new ys(_.target,p,y,_.sequenceNumber);og(u,E)})),u.remoteSyncer.applyRemoteEvent(g)})(a,n)}catch(s){fe(vi,"Failed to raise snapshot:",s),await Kd(a,s)}}async function Kd(a,e,n){if(!Hl(e))throw e;a.Ea.add(1),await Oc(a),a.Ra.set("Offline"),n||(n=()=>xw(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{fe(vi,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await ph(a)}))}function Nw(a,e){return e().catch((n=>Kd(a,n,e)))}async function yh(a){const e=Re(a),n=Ss(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$m;for(;v6(e);)try{const l=await t6(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,_6(e,l)}catch(l){await Kd(e,l)}kw(e)&&Sw(e)}function v6(a){return Si(a)&&a.Ta.length<10}function _6(a,e){a.Ta.push(e);const n=Ss(a);n.O_()&&n.X_&&n.ea(e.mutations)}function kw(a){return Si(a)&&!Ss(a).x_()&&a.Ta.length>0}function Sw(a){Ss(a).start()}async function w6(a){Ss(a).ra()}async function E6(a){const e=Ss(a);for(const n of a.Ta)e.ea(n.mutations)}async function T6(a,e,n){const s=a.Ta.shift(),l=eg.from(s,e,n);await Nw(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await yh(a)}async function N6(a,e){e&&Ss(a).X_&&await(async function(s,l){if((function(f){return ij(f)&&f!==J.ABORTED})(l.code)){const u=s.Ta.shift();Ss(s).B_(),await Nw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await yh(s)}})(a,e),kw(a)&&Sw(a)}async function V1(a,e){const n=Re(a);n.asyncQueue.verifyOperationInProgress(),fe(vi,"RemoteStore received new credentials");const s=Si(n);n.Ea.add(3),await Oc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ph(n)}async function k6(a,e){const n=Re(a);e?(n.Ea.delete(2),await ph(n)):e||(n.Ea.add(2),await Oc(n),n.Ra.set("Unknown"))}function Gl(a){return a.ma||(a.ma=(function(n,s,l){const u=Re(n);return u.sa(),new u6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:p6.bind(null,a),t_:y6.bind(null,a),r_:b6.bind(null,a),H_:x6.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),ug(a)?cg(a):a.Ra.set("Unknown")):(await a.ma.stop(),Tw(a))}))),a.ma}function Ss(a){return a.fa||(a.fa=(function(n,s,l){const u=Re(n);return u.sa(),new d6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:w6.bind(null,a),r_:N6.bind(null,a),ta:E6.bind(null,a),na:T6.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await yh(a)):(await a.fa.stop(),a.Ta.length>0&&(fe(vi,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const f=Date.now()+s,g=new dg(e,n,f,l,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(a,e){if(ja("AsyncQueue",`${e}: ${a}`),Hl(a))return new de(J.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=Zo(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Nl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.ga=new xt(Ee.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ol{constructor(e,n,s,l,u,f,g,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,l,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new Ol(e,n,Nl.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class A6{constructor(){this.queries=P1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Re(n),u=l.queries;l.queries=P1(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new de(J.ABORTED,"Firestore shutting down"))}}function P1(){return new ki((a=>Q_(a)),uh)}async function fg(a,e){const n=Re(a);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new S6,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=hg(f,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&gg(n)}async function mg(a,e){const n=Re(a),s=e.query;let l=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function j6(a,e){const n=Re(a);let s=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(l)&&(s=!0);f.wa=l}}s&&gg(n)}function C6(a,e,n){const s=Re(a),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(e)}function gg(a){a.Ca.forEach((e=>{e.next()}))}var Nm,U1;(U1=Nm||(Nm={})).Ma="default",U1.Cache="cache";class pg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Ol(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Nm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.key=e}}class jw{constructor(e){this.key=e}}class R6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=$_(e),this.tu=new Nl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new L1,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((_,E)=>{const j=l.get(_),P=dh(this.query,E)?E:null,F=!!j&&this.mutatedKeys.has(j.key),re=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let G=!1;j&&P?j.data.isEqual(P.data)?F!==re&&(s.track({type:3,doc:P}),G=!0):this.su(j,P)||(s.track({type:2,doc:P}),G=!0,(p&&this.eu(P,p)>0||y&&this.eu(P,y)<0)&&(g=!0)):!j&&P?(s.track({type:0,doc:P}),G=!0):j&&!P&&(s.track({type:1,doc:j}),G=!0,(p||y)&&(g=!0)),G&&(P?(f=f.add(P),u=re?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,E)=>(function(P,F){const re=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:G})}};return re(P)-re(F)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new Ol(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new jw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Aw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yg="SyncEngine";class I6{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class D6{constructor(e){this.key=e,this.hu=!1}}class O6{constructor(e,n,s,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ki((g=>Q_(g)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new xt(Ee.comparator),this.Au=new Map,this.Ru=new rg,this.Vu={},this.mu=new Map,this.fu=Dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function M6(a,e,n=!0){const s=Mw(a);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await Cw(s,e,n,!0),l}async function V6(a,e){const n=Mw(a);await Cw(n,e,!0,!1)}async function Cw(a,e,n,s){const l=await n6(a.localStore,Wr(e)),u=l.targetId,f=a.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await L6(a,e,u,f==="current",l.resumeToken)),a.isPrimaryClient&&n&&ww(a.remoteStore,l),g}async function L6(a,e,n,s,l){a.pu=(E,j,P)=>(async function(re,G,K,ae){let ce=G.view.ru(K);ce.Cs&&(ce=await R1(re.localStore,G.query,!1).then((({documents:k})=>G.view.ru(k,ce))));const ve=ae&&ae.targetChanges.get(G.targetId),ue=ae&&ae.targetMismatches.get(G.targetId)!=null,$=G.view.applyChanges(ce,re.isPrimaryClient,ve,ue);return B1(re,G.targetId,$.au),$.snapshot})(a,E,j,P);const u=await R1(a.localStore,e,!0),f=new R6(e,u.Qs),g=f.ru(u.documents),p=Dc.createSynthesizedTargetChangeForCurrentChange(n,s&&a.onlineState!=="Offline",l),y=f.applyChanges(g,a.isPrimaryClient,p);B1(a,n,y.au);const _=new I6(e,n,f);return a.Tu.set(e,_),a.Iu.has(n)?a.Iu.get(n).push(e):a.Iu.set(n,[e]),y.snapshot}async function P6(a,e,n){const s=Re(a),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!uh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Em(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&lg(s.remoteStore,l.targetId),km(s,l.targetId)})).catch(ql)):(km(s,l.targetId),await Em(s.localStore,l.targetId,!0))}async function U6(a,e){const n=Re(a),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),lg(n.remoteStore,s.targetId))}async function z6(a,e,n){const s=$6(a);try{const l=await(function(f,g){const p=Re(f),y=ft.now(),_=g.reduce(((P,F)=>P.add(F.key)),Fe());let E,j;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let F=Ca(),re=Fe();return p.Ns.getEntries(P,_).next((G=>{F=G,F.forEach(((K,ae)=>{ae.isValidDocument()||(re=re.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,F))).next((G=>{E=G;const K=[];for(const ae of g){const ce=tj(ae,E.get(ae.key).overlayedDocument);ce!=null&&K.push(new Is(ae.key,ce,P_(ce.value.mapValue),rr.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,K,g)})).next((G=>{j=G;const K=G.applyToLocalDocumentSet(E,re);return p.documentOverlayCache.saveOverlays(P,G.batchId,K)}))})).then((()=>({batchId:j.batchId,changes:Y_(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new xt(He)),y=y.insert(g,p),f.Vu[f.currentUser.toKey()]=y})(s,l.batchId,n),await Mc(s,l.changes),await yh(s.remoteStore)}catch(l){const u=hg(l,"Failed to persist write");n.reject(u)}}async function Rw(a,e){const n=Re(a);try{const s=await Jj(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(et(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?et(f.hu,14607):l.removedDocuments.size>0&&(et(f.hu,42227),f.hu=!1))})),await Mc(n,s,e)}catch(s){await ql(s)}}function z1(a,e,n){const s=Re(a);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=Re(f);p.onlineState=g;let y=!1;p.queries.forEach(((_,E)=>{for(const j of E.Sa)j.va(g)&&(y=!0)})),y&&gg(p)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function B6(a,e,n){const s=Re(a);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),u=l&&l.key;if(u){let f=new xt(Ee.comparator);f=f.insert(u,hn.newNoDocument(u,Ae.min()));const g=Fe().add(u),p=new mh(Ae.min(),new Map,new xt(He),f,g);await Rw(s,p),s.du=s.du.remove(u),s.Au.delete(e),bg(s)}else await Em(s.localStore,e,!1).then((()=>km(s,e,n))).catch(ql)}async function q6(a,e){const n=Re(a),s=e.batch.batchId;try{const l=await Zj(n.localStore,e);Dw(n,s,null),Iw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Mc(n,l)}catch(l){await ql(l)}}async function H6(a,e,n){const s=Re(a);try{const l=await(function(f,g){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return p.mutationQueue.lookupMutationBatch(y,g).next((E=>(et(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(y,E)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>p.localDocuments.getDocuments(y,_)))}))})(s.localStore,e);Dw(s,e,n),Iw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Mc(s,l)}catch(l){await ql(l)}}function Iw(a,e){(a.mu.get(e)||[]).forEach((n=>{n.resolve()})),a.mu.delete(e)}function Dw(a,e,n){const s=Re(a);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function km(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),n&&a.Pu.yu(s,n);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||Ow(a,s)}))}function Ow(a,e){a.Eu.delete(e.path.canonicalString());const n=a.du.get(e);n!==null&&(lg(a.remoteStore,n),a.du=a.du.remove(e),a.Au.delete(n),bg(a))}function B1(a,e,n){for(const s of n)s instanceof Aw?(a.Ru.addReference(s.key,e),F6(a,s)):s instanceof jw?(fe(yg,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||Ow(a,s.key)):Se(19791,{wu:s})}function F6(a,e){const n=e.key,s=n.path.canonicalString();a.du.get(n)||a.Eu.has(s)||(fe(yg,"New document in limbo: "+n),a.Eu.add(s),bg(a))}function bg(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const n=new Ee(ct.fromString(e)),s=a.fu.next();a.Au.set(s,new D6(n)),a.du=a.du.insert(n,s),ww(a.remoteStore,new ys(Wr(ch(n.path)),s,"TargetPurposeLimboResolution",ih.ce))}}async function Mc(a,e,n){const s=Re(a),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{f.push(s.pu(p,e,n).then((y=>{var _;if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){l.push(y);const E=sg.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(p,y){const _=Re(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>te.forEach(y,(j=>te.forEach(j.Es,(P=>_.persistence.referenceDelegate.addReference(E,j.targetId,P))).next((()=>te.forEach(j.ds,(P=>_.persistence.referenceDelegate.removeReference(E,j.targetId,P)))))))))}catch(E){if(!Hl(E))throw E;fe(ig,"Failed to update sequence numbers: "+E)}for(const E of y){const j=E.targetId;if(!E.fromCache){const P=_.Ms.get(j),F=P.snapshotVersion,re=P.withLastLimboFreeSnapshotVersion(F);_.Ms=_.Ms.insert(j,re)}}})(s.localStore,u))}async function G6(a,e){const n=Re(a);if(!n.currentUser.isEqual(e)){fe(yg,"User change. New user:",e.toKey());const s=await bw(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new de(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Mc(n,s.Ls)}}function Q6(a,e){const n=Re(a),s=n.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let l=Fe();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function Mw(a){const e=Re(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B6.bind(null,e),e.Pu.H_=j6.bind(null,e.eventManager),e.Pu.yu=C6.bind(null,e.eventManager),e}function $6(a){const e=Re(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H6.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Wj(this.persistence,new Kj,e.initialUser,this.serializer)}Cu(e){return new yw(ag.mi,this.serializer)}Du(e){return new a6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class K6 extends Yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof $d,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Dj(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new yw((s=>$d.mi(s,n)),this.serializer)}}class Sm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>z1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=G6.bind(null,this.syncEngine),await k6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new A6})()}createDatastore(e){const n=gh(e.databaseInfo.databaseId),s=(function(u){return new c6(u)})(e.databaseInfo);return(function(u,f,g,p){return new f6(u,f,g,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,u,f,g){return new g6(s,l,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>z1(this.syncEngine,n,0)),(function(){return O1.v()?new O1:new s6})())}createSyncEngine(e,n){return(function(l,u,f,g,p,y,_){const E=new O6(l,u,f,g,p,y);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=Re(l);fe(vi,"RemoteStore shutting down."),u.Ea.add(5),await Oc(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Sm.provider={build:()=>new Sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ja("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class Y6{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=dn.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{fe(As,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(fe(As,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=hg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function H0(a,e){a.asyncQueue.verifyOperationInProgress(),fe(As,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let s=n.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await bw(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function q1(a,e){a.asyncQueue.verifyOperationInProgress();const n=await X6(a);fe(As,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener((s=>V1(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>V1(e.remoteStore,l))),a._onlineComponents=e}async function X6(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){fe(As,"Using user provided OfflineComponentProvider");try{await H0(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;jl("Error using user provided cache. Falling back to memory cache: "+n),await H0(a,new Yd)}}else fe(As,"Using default OfflineComponentProvider"),await H0(a,new K6(void 0));return a._offlineComponents}async function Vw(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(fe(As,"Using user provided OnlineComponentProvider"),await q1(a,a._uninitializedComponentsProvider._online)):(fe(As,"Using default OnlineComponentProvider"),await q1(a,new Sm))),a._onlineComponents}function W6(a){return Vw(a).then((e=>e.syncEngine))}async function Xd(a){const e=await Vw(a),n=e.eventManager;return n.onListen=M6.bind(null,e.syncEngine),n.onUnlisten=P6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=U6.bind(null,e.syncEngine),n}function Z6(a,e,n={}){const s=new ka;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,y){const _=new xg({next:j=>{_.Nu(),f.enqueueAndForget((()=>mg(u,E)));const P=j.docs.has(g);!P&&j.fromCache?y.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&j.fromCache&&p&&p.source==="server"?y.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(j)},error:j=>y.reject(j)}),E=new pg(ch(g.path),_,{includeMetadataChanges:!0,qa:!0});return fg(u,E)})(await Xd(a),a.asyncQueue,e,n,s))),s.promise}function J6(a,e,n={}){const s=new ka;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,y){const _=new xg({next:j=>{_.Nu(),f.enqueueAndForget((()=>mg(u,E))),j.fromCache&&p.source==="server"?y.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(j)},error:j=>y.reject(j)}),E=new pg(g,_,{includeMetadataChanges:!0,qa:!0});return fg(u,E)})(await Xd(a),a.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="firestore.googleapis.com",F1=!0;class G1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pw,this.ssl=F1}else this.host=e.host,this.ssl=e.ssl??F1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rj)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new i5;switch(s.type){case"firstParty":return new u5(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=H1.get(n);s&&(fe("ComponentProvider","Removing Datastore"),H1.delete(n),s.terminate())})(this),Promise.resolve()}}function e3(a,e,n,s={}){var y;a=Sn(a,bh);const l=Pl(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${n}`;l&&(Av(`https://${g}`),jv("Firestore",!0)),u.host!==Pw&&u.host!==g&&jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:l,emulatorOptions:s};if(!ws(p,f)&&(a._setSettings(p),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=dn.MOCK_USER;else{_=hk(s.mockUserToken,(y=a._app)==null?void 0:y.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new dn(j)}a._authCredentials=new l5(new k_(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class wt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Rc(n,wt._jsonSchema))return new wt(e,s||null,new Ee(ct.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Bt("string",wt._jsonSchemaVersion),referencePath:Bt("string")};class _s extends Ds{constructor(e,n,s){super(e,n,ch(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new Ee(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function js(a,e,...n){if(a=Et(a),S_("collection","path",e),a instanceof bh){const s=ct.fromString(e,...n);return a1(s),new _s(a,null,s)}{if(!(a instanceof wt||a instanceof _s))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ct.fromString(e,...n));return a1(s),new _s(a.firestore,null,s)}}function _i(a,e,...n){if(a=Et(a),arguments.length===1&&(e=Qm.newId()),S_("doc","path",e),a instanceof bh){const s=ct.fromString(e,...n);return r1(s),new wt(a,null,new Ee(s))}{if(!(a instanceof wt||a instanceof _s))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ct.fromString(e,...n));return r1(s),new wt(a.firestore,a instanceof _s?a.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="AsyncQueue";class $1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vw(this,"async_queue_retry"),this._c=()=>{const s=q0();s&&fe(Q1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=q0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=q0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ka;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hl(e))throw e;fe(Q1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ja("INTERNAL UNHANDLED ERROR: ",K1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=dg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:K1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function K1(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(a){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(a,["next","error","complete"])}class Ra extends bh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new $1,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $1(e),this._firestoreClient=void 0,await e}}}function t3(a,e){const n=typeof a=="object"?a:Vm(),s=typeof a=="string"?a:Hd,l=Ni(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=uk("firestore");u&&e3(l,...u)}return l}function xh(a){if(a._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||n3(a),a._firestoreClient}function n3(a){var s,l,u;const e=a._freezeSettings(),n=(function(g,p,y,_){return new S5(g,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Lw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(a._databaseId,((s=a._app)==null?void 0:s.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new Y6(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tr(sn.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tr(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:tr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rc(e,tr._jsonSchema))return tr.fromBase64String(e.bytes)}}tr._jsonSchemaVersion="firestore/bytes/1.0",tr._jsonSchema={type:Bt("string",tr._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jr._jsonSchemaVersion}}static fromJSON(e){if(Rc(e,Jr._jsonSchema))return new Jr(e.latitude,e.longitude)}}Jr._jsonSchemaVersion="firestore/geoPoint/1.0",Jr._jsonSchema={type:Bt("string",Jr._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ea._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rc(e,ea._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ea(e.vectorValues);throw new de(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ea._jsonSchemaVersion="firestore/vectorValue/1.0",ea._jsonSchema={type:Bt("string",ea._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=/^__.*__$/;class a3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ic(e,this.data,n,this.fieldTransforms)}}class Uw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zw(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:a})}}class vg{constructor(e,n,s,l,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zw(this.Ac)&&r3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class s3{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gh(e)}Cc(e,n,s,l=!1){return new vg({Ac:e,methodName:n,Dc:s,path:an.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _h(a){const e=a._freezeSettings(),n=gh(a._databaseId);return new s3(a._databaseId,!!e.ignoreUndefinedProperties,n)}function Bw(a,e,n,s,l,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,e,n,l);Eg("Data must be an object, but it was:",f,s);const g=qw(s,f);let p,y;if(u.merge)p=new Pn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const j=Am(e,E,n);if(!f.contains(j))throw new de(J.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);Fw(_,j)||_.push(j)}p=new Pn(_),y=f.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,y=f.fieldTransforms;return new a3(new kn(g),p,y)}class wh extends Vc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wh}}class _g extends Vc{_toFieldTransform(e){return new rw(e.path,new wc)}isEqual(e){return e instanceof _g}}class wg extends Vc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Nc(e.serializer,Z_(e.serializer,this.Fc));return new rw(e.path,n)}isEqual(e){return e instanceof wg&&this.Fc===e.Fc}}function i3(a,e,n,s){const l=a.Cc(1,e,n);Eg("Data must be an object, but it was:",l,s);const u=[],f=kn.empty();Rs(s,((p,y)=>{const _=Tg(e,p,n);y=Et(y);const E=l.yc(_);if(y instanceof wh)u.push(_);else{const j=Lc(y,E);j!=null&&(u.push(_),f.set(_,j))}}));const g=new Pn(u);return new Uw(f,g,l.fieldTransforms)}function l3(a,e,n,s,l,u){const f=a.Cc(1,e,n),g=[Am(e,s,n)],p=[l];if(u.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<u.length;j+=2)g.push(Am(e,u[j])),p.push(u[j+1]);const y=[],_=kn.empty();for(let j=g.length-1;j>=0;--j)if(!Fw(y,g[j])){const P=g[j];let F=p[j];F=Et(F);const re=f.yc(P);if(F instanceof wh)y.push(P);else{const G=Lc(F,re);G!=null&&(y.push(P),_.set(P,G))}}const E=new Pn(y);return new Uw(_,E,f.fieldTransforms)}function o3(a,e,n,s=!1){return Lc(n,a.Cc(s?4:3,e))}function Lc(a,e){if(Hw(a=Et(a)))return Eg("Unsupported field value:",e,a),qw(a,e);if(a instanceof Vc)return(function(s,l){if(!zw(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const g of s){let p=Lc(g,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(a,e)}return(function(s,l){if((s=Et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Z_(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ft.fromDate(s);return{timestampValue:Qd(l.serializer,u)}}if(s instanceof ft){const u=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qd(l.serializer,u)}}if(s instanceof Jr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof tr)return{bytesValue:cw(l.serializer,s._byteString)};if(s instanceof wt){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ng(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ea)return(function(f,g){return{mapValue:{fields:{[V_]:{stringValue:L_},[Fd]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Zm(g.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${sh(s)}`)})(a,e)}function qw(a,e){const n={};return C_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(a,((s,l)=>{const u=Lc(l,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Hw(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ft||a instanceof Jr||a instanceof tr||a instanceof wt||a instanceof Vc||a instanceof ea)}function Eg(a,e,n){if(!Hw(n)||!A_(n)){const s=sh(n);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function Am(a,e,n){if((e=Et(e))instanceof vh)return e._internalPath;if(typeof e=="string")return Tg(a,e);throw Wd("Field path arguments must be of type string or ",a,!1,void 0,n)}const c3=new RegExp("[~\\*/\\[\\]]");function Tg(a,e,n){if(e.search(c3)>=0)throw Wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new vh(...e.split("."))._internalPath}catch{throw Wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function Wd(a,e,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new de(J.INVALID_ARGUMENT,g+a+p)}function Fw(a,e){return a.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Eh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u3 extends Gw{data(){return super.data()}}function Eh(a,e){return typeof e=="string"?Tg(a,e):e instanceof vh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class $w extends Ng{}function Ml(a,e,...n){let s=[];e instanceof Ng&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof kg)).length,g=u.filter((p=>p instanceof Th)).length;if(f>1||f>0&&g>0)throw new de(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class Th extends $w{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Th(e,n,s)}_apply(e){const n=this._parse(e);return Kw(e._query,n),new Ds(e.firestore,e.converter,ym(e._query,n))}_parse(e){const n=_h(e.firestore);return(function(u,f,g,p,y,_,E){let j;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new de(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){W1(E,_);const F=[];for(const re of E)F.push(X1(p,u,re));j={arrayValue:{values:F}}}else j=X1(p,u,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||W1(E,_),j=o3(g,f,E,_==="in"||_==="not-in");return zt.create(y,_,j)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vl(a,e,n){const s=e,l=Eh("where",a);return Th._create(l,s,n)}class kg extends Ng{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const g=u.getFlattenedFilters();for(const p of g)Kw(f,p),f=ym(f,p)})(e._query,n),new Ds(e.firestore,e.converter,ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sg extends $w{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sg(e,n)}_apply(e){const n=(function(l,u,f){if(l.startAt!==null)throw new de(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new de(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _c(u,f)})(e._query,this._field,this._direction);return new Ds(e.firestore,e.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new Fl(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function d3(a,e="asc"){const n=e,s=Eh("orderBy",a);return Sg._create(s,n)}function X1(a,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new de(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G_(e)&&n.indexOf("/")!==-1)throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ct.fromString(n));if(!Ee.isDocumentKey(s))throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return h1(a,new Ee(s))}if(n instanceof wt)return h1(a,n._key);throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(n)}.`)}function W1(a,e){if(!Array.isArray(a)||a.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kw(a,e){const n=(function(l,u){for(const f of l)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class h3{convertValue(e,n="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Rs(e,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,l,u;const n=(u=(l=(s=e.fields)==null?void 0:s[Fd].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>jt(f.doubleValue)));return new ea(n)}convertGeoPoint(e){return new Jr(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=oh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(bc(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ct.fromString(e);et(gw(s),9688,{name:e});const l=new xc(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return l.isEqual(n)||ja(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(a,e,n){let s;return s=a?n&&(n.merge||n.mergeFields)?a.toFirestore(e,n):a.toFirestore(e):e,s}class ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fi extends Gw{constructor(e,n,s,l,u,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Eh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fi._jsonSchemaVersion="firestore/documentSnapshot/1.0",fi._jsonSchema={type:Bt("string",fi._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class kd extends fi{data(e={}){return super.data(e)}}class mi{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new ec(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new kd(this._firestore,this._userDataWriter,s.key,s,new ec(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new kd(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ec(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new kd(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ec(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,_=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),_=f.indexOf(g.doc.key)),{type:f3(g.type),doc:p,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f3(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(a){a=Sn(a,wt);const e=Sn(a.firestore,Ra);return Z6(xh(e),a._key).then((n=>Jw(e,a,n)))}mi._jsonSchemaVersion="firestore/querySnapshot/1.0",mi._jsonSchema={type:Bt("string",mi._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Ag extends h3{constructor(e){super(),this.firestore=e}convertBytes(e){return new tr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function Pc(a){a=Sn(a,Ds);const e=Sn(a.firestore,Ra),n=xh(e),s=new Ag(e);return Qw(a._query),J6(n,a._query).then((l=>new mi(e,s,a,l)))}function Xw(a,e,n){a=Sn(a,wt);const s=Sn(a.firestore,Ra),l=Yw(a.converter,e,n);return Nh(s,[Bw(_h(s),"setDoc",a._key,l,a.converter!==null,n).toMutation(a._key,rr.none())])}function Ww(a,e,n,...s){a=Sn(a,wt);const l=Sn(a.firestore,Ra),u=_h(l);let f;return f=typeof(e=Et(e))=="string"||e instanceof vh?l3(u,"updateDoc",a._key,e,n,s):i3(u,"updateDoc",a._key,e),Nh(l,[f.toMutation(a._key,rr.exists(!0))])}function g3(a){return Nh(Sn(a.firestore,Ra),[new Jm(a._key,rr.none())])}function Zw(a,e){const n=Sn(a.firestore,Ra),s=_i(a),l=Yw(a.converter,e);return Nh(n,[Bw(_h(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,rr.exists(!1))]).then((()=>s))}function p3(a,...e){var p,y,_;a=Et(a);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Y1(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Y1(e[s])){const E=e[s];e[s]=(p=E.next)==null?void 0:p.bind(E),e[s+1]=(y=E.error)==null?void 0:y.bind(E),e[s+2]=(_=E.complete)==null?void 0:_.bind(E)}let u,f,g;if(a instanceof wt)f=Sn(a.firestore,Ra),g=ch(a._key.path),u={next:E=>{e[s]&&e[s](Jw(f,a,E))},error:e[s+1],complete:e[s+2]};else{const E=Sn(a,Ds);f=Sn(E.firestore,Ra),g=E._query;const j=new Ag(f);u={next:P=>{e[s]&&e[s](new mi(f,j,E,P))},error:e[s+1],complete:e[s+2]},Qw(a._query)}return(function(j,P,F,re){const G=new xg(re),K=new pg(P,G,F);return j.asyncQueue.enqueueAndForget((async()=>fg(await Xd(j),K))),()=>{G.Nu(),j.asyncQueue.enqueueAndForget((async()=>mg(await Xd(j),K)))}})(xh(f),g,l,u)}function Nh(a,e){return(function(s,l){const u=new ka;return s.asyncQueue.enqueueAndForget((async()=>z6(await W6(s),l,u))),u.promise})(xh(a),e)}function Jw(a,e,n){const s=n.docs.get(e._key),l=new Ag(a);return new fi(a,l,e._key,s,new ec(n.hasPendingWrites,n.fromCache),e.converter)}function jm(){return new _g("serverTimestamp")}function Z1(a){return new wg("increment",a)}(function(e,n=!0){(function(l){Bl=l})(Ul),na(new yr("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new Ra(new o5(s.getProvider("auth-internal")),new d5(f,s.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(y.options.projectId,_)})(f,l),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),nr(Jx,e1,e),nr(Jx,e1,"esm2020")})();const e2="@firebase/installations",jg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=1e4,n2=`w:${jg}`,r2="FIS_v2",y3="https://firebaseinstallations.googleapis.com/v1",b3=3600*1e3,x3="installations",v3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wi=new Ti(x3,v3,_3);function a2(a){return a instanceof vr&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2({projectId:a}){return`${y3}/projects/${a}/installations`}function i2(a){return{token:a.token,requestStatus:2,expiresIn:E3(a.expiresIn),creationTime:Date.now()}}async function l2(a,e){const s=(await e.json()).error;return wi.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function o2({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function w3(a,{refreshToken:e}){const n=o2(a);return n.append("Authorization",T3(e)),n}async function c2(a){const e=await a();return e.status>=500&&e.status<600?a():e}function E3(a){return Number(a.replace("s","000"))}function T3(a){return`${r2} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3({appConfig:a,heartbeatServiceProvider:e},{fid:n}){const s=s2(a),l=o2(a),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const f={fid:n,authVersion:r2,appId:a.appId,sdkVersion:n2},g={method:"POST",headers:l,body:JSON.stringify(f)},p=await c2(()=>fetch(s,g));if(p.ok){const y=await p.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:i2(y.authToken)}}else throw await l2("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=/^[cdef][\w-]{21}$/,Cm="";function A3(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const n=j3(a);return S3.test(n)?n:Cm}catch{return Cm}}function j3(a){return k3(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Map;function h2(a,e){const n=kh(a);f2(n,e),C3(n,e)}function f2(a,e){const n=d2.get(a);if(n)for(const s of n)s(e)}function C3(a,e){const n=R3();n&&n.postMessage({key:a,fid:e}),I3()}let hi=null;function R3(){return!hi&&"BroadcastChannel"in self&&(hi=new BroadcastChannel("[Firebase] FID Change"),hi.onmessage=a=>{f2(a.data.key,a.data.fid)}),hi}function I3(){d2.size===0&&hi&&(hi.close(),hi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="firebase-installations-database",O3=1,Ei="firebase-installations-store";let F0=null;function Cg(){return F0||(F0=Mv(D3,O3,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Ei)}}})),F0}async function Zd(a,e){const n=kh(a),l=(await Cg()).transaction(Ei,"readwrite"),u=l.objectStore(Ei),f=await u.get(n);return await u.put(e,n),await l.done,(!f||f.fid!==e.fid)&&h2(a,e.fid),e}async function m2(a){const e=kh(a),s=(await Cg()).transaction(Ei,"readwrite");await s.objectStore(Ei).delete(e),await s.done}async function Sh(a,e){const n=kh(a),l=(await Cg()).transaction(Ei,"readwrite"),u=l.objectStore(Ei),f=await u.get(n),g=e(f);return g===void 0?await u.delete(n):await u.put(g,n),await l.done,g&&(!f||f.fid!==g.fid)&&h2(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rg(a){let e;const n=await Sh(a.appConfig,s=>{const l=M3(s),u=V3(a,l);return e=u.registrationPromise,u.installationEntry});return n.fid===Cm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function M3(a){const e=a||{fid:A3(),registrationStatus:0};return g2(e)}function V3(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(wi.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=L3(a,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:P3(a)}:{installationEntry:e}}async function L3(a,e){try{const n=await N3(a,e);return Zd(a.appConfig,n)}catch(n){throw a2(n)&&n.customData.serverCode===409?await m2(a.appConfig):await Zd(a.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function P3(a){let e=await J1(a.appConfig);for(;e.registrationStatus===1;)await u2(100),e=await J1(a.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Rg(a);return s||n}return e}function J1(a){return Sh(a,e=>{if(!e)throw wi.create("installation-not-found");return g2(e)})}function g2(a){return U3(a)?{fid:a.fid,registrationStatus:0}:a}function U3(a){return a.registrationStatus===1&&a.registrationTime+t2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3({appConfig:a,heartbeatServiceProvider:e},n){const s=B3(a,n),l=w3(a,n),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const f={installation:{sdkVersion:n2,appId:a.appId}},g={method:"POST",headers:l,body:JSON.stringify(f)},p=await c2(()=>fetch(s,g));if(p.ok){const y=await p.json();return i2(y)}else throw await l2("Generate Auth Token",p)}function B3(a,{fid:e}){return`${s2(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ig(a,e=!1){let n;const s=await Sh(a.appConfig,u=>{if(!p2(u))throw wi.create("not-registered");const f=u.authToken;if(!e&&F3(f))return u;if(f.requestStatus===1)return n=q3(a,e),u;{if(!navigator.onLine)throw wi.create("app-offline");const g=Q3(u);return n=H3(a,g),g}});return n?await n:s.authToken}async function q3(a,e){let n=await ev(a.appConfig);for(;n.authToken.requestStatus===1;)await u2(100),n=await ev(a.appConfig);const s=n.authToken;return s.requestStatus===0?Ig(a,e):s}function ev(a){return Sh(a,e=>{if(!p2(e))throw wi.create("not-registered");const n=e.authToken;return $3(n)?{...e,authToken:{requestStatus:0}}:e})}async function H3(a,e){try{const n=await z3(a,e),s={...e,authToken:n};return await Zd(a.appConfig,s),n}catch(n){if(a2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await m2(a.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Zd(a.appConfig,s)}throw n}}function p2(a){return a!==void 0&&a.registrationStatus===2}function F3(a){return a.requestStatus===2&&!G3(a)}function G3(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+b3}function Q3(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function $3(a){return a.requestStatus===1&&a.requestTime+t2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(a){const e=a,{installationEntry:n,registrationPromise:s}=await Rg(e);return s?s.catch(console.error):Ig(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(a,e=!1){const n=a;return await X3(n),(await Ig(n,e)).token}async function X3(a){const{registrationPromise:e}=await Rg(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(a){if(!a||!a.options)throw G0("App Configuration");if(!a.name)throw G0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!a.options[n])throw G0(n);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function G0(a){return wi.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="installations",Z3="installations-internal",J3=a=>{const e=a.getProvider("app").getImmediate(),n=W3(e),s=Ni(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},eC=a=>{const e=a.getProvider("app").getImmediate(),n=Ni(e,y2).getImmediate();return{getId:()=>K3(n),getToken:l=>Y3(n,l)}};function tC(){na(new yr(y2,J3,"PUBLIC")),na(new yr(Z3,eC,"PRIVATE"))}tC();nr(e2,jg);nr(e2,jg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="analytics",nC="firebase_id",rC="origin",aC=60*1e3,sC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn=new th("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new Ti("analytics","Analytics",iC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(a){if(!a.startsWith(Dg)){const e=Un.create("invalid-gtag-resource",{gtagURL:a});return yn.warn(e.message),""}return a}function b2(a){return Promise.all(a.map(e=>e.catch(n=>n)))}function oC(a,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(a,e)),n}function cC(a,e){const n=oC("firebase-js-sdk-policy",{createScriptURL:lC}),s=document.createElement("script"),l=`${Dg}?l=${a}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function uC(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function dC(a,e,n,s,l,u){const f=s[l];try{if(f)await e[f];else{const p=(await b2(n)).find(y=>y.measurementId===l);p&&await e[p.appId]}}catch(g){yn.error(g)}a("config",l,u)}async function hC(a,e,n,s,l){try{let u=[];if(l&&l.send_to){let f=l.send_to;Array.isArray(f)||(f=[f]);const g=await b2(n);for(const p of f){const y=g.find(E=>E.measurementId===p),_=y&&e[y.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),a("event",s,l||{})}catch(u){yn.error(u)}}function fC(a,e,n,s){async function l(u,...f){try{if(u==="event"){const[g,p]=f;await hC(a,e,n,g,p)}else if(u==="config"){const[g,p]=f;await dC(a,e,n,s,g,p)}else if(u==="consent"){const[g,p]=f;a("consent",g,p)}else if(u==="get"){const[g,p,y]=f;a("get",g,p,y)}else if(u==="set"){const[g]=f;a("set",g)}else a(u,...f)}catch(g){yn.error(g)}}return l}function mC(a,e,n,s,l){let u=function(...f){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=fC(u,a,e,n),{gtagCore:u,wrappedGtag:window[l]}}function gC(a){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Dg)&&n.src.includes(a))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=30,yC=1e3;class bC{constructor(e={},n=yC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const x2=new bC;function xC(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function vC(a){var f;const{appId:e,apiKey:n}=a,s={method:"GET",headers:xC(n)},l=sC.replace("{app-id}",e),u=await fetch(l,s);if(u.status!==200&&u.status!==304){let g="";try{const p=await u.json();(f=p.error)!=null&&f.message&&(g=p.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:u.status,responseMessage:g})}return u.json()}async function _C(a,e=x2,n){const{appId:s,apiKey:l,measurementId:u}=a.options;if(!s)throw Un.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:s};throw Un.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new TC;return setTimeout(async()=>{g.abort()},aC),v2({appId:s,apiKey:l,measurementId:u},f,g,e)}async function v2(a,{throttleEndTimeMillis:e,backoffCount:n},s,l=x2){var g;const{appId:u,measurementId:f}=a;try{await wC(s,e)}catch(p){if(f)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:f};throw p}try{const p=await vC(a);return l.deleteThrottleMetadata(u),p}catch(p){const y=p;if(!EC(y)){if(l.deleteThrottleMetadata(u),f)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:f};throw p}const _=Number((g=y==null?void 0:y.customData)==null?void 0:g.httpStatus)===503?Tx(n,l.intervalMillis,pC):Tx(n,l.intervalMillis),E={throttleEndTimeMillis:Date.now()+_,backoffCount:n+1};return l.setThrottleMetadata(u,E),yn.debug(`Calling attemptFetch again in ${_} millis`),v2(a,E,s,l)}}function wC(a,e){return new Promise((n,s)=>{const l=Math.max(e-Date.now(),0),u=setTimeout(n,l);a.addEventListener(()=>{clearTimeout(u),s(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function EC(a){if(!(a instanceof vr)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class TC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function NC(a,e,n,s,l){if(l&&l.global){a("event",n,s);return}else{const u=await e,f={...s,send_to:u};a("event",n,f)}}async function kC(a,e,n,s){if(s&&s.global){const l={};for(const u of Object.keys(n))l[`user_properties.${u}`]=n[u];return a("set",l),Promise.resolve()}else{const l=await e;a("config",l,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(){if(Rv())try{await Iv()}catch(a){return yn.warn(Un.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return yn.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function AC(a,e,n,s,l,u,f){const g=_C(a);g.then(j=>{n[j.measurementId]=j.appId,a.options.measurementId&&j.measurementId!==a.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>yn.error(j)),e.push(g);const p=SC().then(j=>{if(j)return s.getId()}),[y,_]=await Promise.all([g,p]);gC(u)||cC(u,y.measurementId),l("js",new Date);const E=(f==null?void 0:f.config)??{};return E[rC]="firebase",E.update=!0,_!=null&&(E[nC]=_),l("config",y.measurementId,E),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.app=e}_delete(){return delete kl[this.app.options.appId],Promise.resolve()}}let kl={},tv=[];const nv={};let Q0="dataLayer",CC="gtag",rv,Og,av=!1;function RC(){const a=[];if(Cv()&&a.push("This is a browser extension environment."),_k()||a.push("Cookies are not available."),a.length>0){const e=a.map((s,l)=>`(${l+1}) ${s}`).join(" "),n=Un.create("invalid-analytics-context",{errorInfo:e});yn.warn(n.message)}}function IC(a,e,n){RC();const s=a.options.appId;if(!s)throw Un.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(kl[s]!=null)throw Un.create("already-exists",{id:s});if(!av){uC(Q0);const{wrappedGtag:u,gtagCore:f}=mC(kl,tv,nv,Q0,CC);Og=u,rv=f,av=!0}return kl[s]=AC(a,tv,nv,e,rv,Q0,n),new jC(a)}function DC(a=Vm()){a=Et(a);const e=Ni(a,Jd);return e.isInitialized()?e.getImmediate():OC(a)}function OC(a,e={}){const n=Ni(a,Jd);if(n.isInitialized()){const l=n.getImmediate();if(ws(e,n.getOptions()))return l;throw Un.create("already-initialized")}return n.initialize({options:e})}function MC(a,e,n){a=Et(a),kC(Og,kl[a.app.options.appId],e,n).catch(s=>yn.error(s))}function VC(a,e,n,s){a=Et(a),NC(Og,kl[a.app.options.appId],e,n,s).catch(l=>yn.error(l))}const sv="@firebase/analytics",iv="0.10.19";function LC(){na(new yr(Jd,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return IC(s,l,n)},"PUBLIC")),na(new yr("analytics-internal",a,"PRIVATE")),nr(sv,iv),nr(sv,iv,"esm2020");function a(e){try{const n=e.getProvider(Jd).getImmediate();return{logEvent:(s,l,u)=>VC(n,s,l,u),setUserProperties:(s,l)=>MC(n,s,l)}}catch(n){throw Un.create("interop-component-reg-failed",{reason:n})}}}LC();const PC={apiKey:"AIzaSyBFr--na-wJGHMdev7vUhPufAJHlyP3GNQ",authDomain:"school-9d3db.firebaseapp.com",projectId:"school-9d3db",storageBucket:"school-9d3db.firebasestorage.app",messagingSenderId:"429673694272",appId:"1:429673694272:web:43390c4fdfa5bce4744ba5",measurementId:"G-8YSDYV9VBN"},Mg=Vv(PC),oc=a5(Mg),An=t3(Mg);DC(Mg);const _2=ne.createContext(void 0),UC=({children:a})=>{const[e,n]=ne.useState(null),[s,l]=ne.useState(!0),u=(p,y)=>{const _=`teacher-${y.split("@")[0]}`;let E="https://img.freepik.com/free-vector/teacher-standing-near-blackboard_23-2147517173.jpg";p.includes("")?E="https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P":p.includes("")&&(E="https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj"),n({uid:_,email:y,displayName:p,role:"teacher",avatar:E,gender:"male"}),localStorage.setItem("isTeacher","true"),localStorage.setItem("teacherName",p),localStorage.setItem("teacherEmail",y)},f=async()=>{try{(e==null?void 0:e.role)==="teacher"?(localStorage.removeItem("isTeacher"),localStorage.removeItem("teacherName"),localStorage.removeItem("teacherEmail"),n(null)):await $S(oc)}catch(p){console.error("Logout error",p)}},g=async p=>{if(e)try{let y={...p};if(p.firstName!==void 0||p.lastName!==void 0){const _=p.firstName!==void 0?p.firstName:e.firstName||"",E=p.lastName!==void 0?p.lastName:e.lastName||"";y.displayName=`${_} ${E}`.trim()}if(n(_=>_?{..._,...y}:null),e.role!=="teacher"){const _=_i(An,"users",e.uid);await Ww(_,y)}}catch(y){throw console.error("Error updating profile:",y),y}};return ne.useEffect(()=>{const p=localStorage.getItem("isTeacher")==="true";if(p){const _=localStorage.getItem("teacherName")||"",E=localStorage.getItem("teacherEmail")||"teacher@etqan.edu";u(_,E),l(!1);return}const y=QS(oc,async _=>{if(_)try{const E=_i(An,"users",_.uid),j=await m3(E);if(j.exists()){const P=j.data();n({uid:_.uid,email:_.email||"",displayName:P.displayName||`${P.firstName||""} ${P.lastName||""}`.trim()||"Student",firstName:P.firstName,lastName:P.lastName,age:P.age,role:P.role,grade:P.grade,phone:P.phone,address:P.address,school:P.school,gender:P.gender,avatar:P.avatar,profileBackground:P.profileBackground,genderChanged:P.genderChanged})}else n({uid:_.uid,email:_.email||"",displayName:"User",role:"student"})}catch(E){console.error("Error fetching user profile:",E)}else p||n(null);l(!1)});return()=>y()},[]),c.jsx(_2.Provider,{value:{user:e,loading:s,logout:f,setTeacherSession:u,updateUserProfile:g},children:!s&&a})},Os=()=>{const a=ne.useContext(_2);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},zC=({onLoginClick:a,onNavigate:e,onLogoutClick:n})=>{const[s,l]=ne.useState(!1),[u,f]=ne.useState(!1),{user:g}=Os();ne.useEffect(()=>{const y=()=>{window.scrollY>10?f(!0):f(!1)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]);const p=y=>{e(y),l(!1),window.scrollTo({top:0,behavior:"smooth"})};return c.jsxs("nav",{className:`w-full z-50 sticky top-0 transition-all duration-500 ${u?"bg-emerald-900/95 backdrop-blur-md shadow-lg":"bg-emerald-800 shadow-md"}`,children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-20",children:[c.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>p("HOME"),children:[c.jsx("div",{className:"p-1 bg-white/10 rounded-full group-hover:bg-white/20 transition-colors",children:c.jsx("img",{src:"https://lh3.googleusercontent.com/d/13x8Gorb7y4H2qcQ1LVJtHY9-RoUhxg2z",alt:"  ",className:"w-12 h-12 rounded-full object-cover border-2 border-white/30 shadow-sm"})}),c.jsx("span",{className:"text-2xl font-black text-white tracking-tight drop-shadow-sm",children:""})]}),c.jsx("div",{className:"hidden md:flex items-center justify-center flex-1 px-4 lg:px-8",children:c.jsxs("div",{className:"flex items-center gap-1 bg-black/10 px-2 py-1.5 rounded-full border border-white/10 backdrop-blur-sm shadow-inner",children:[c.jsxs("button",{onClick:()=>p("HOME"),className:"px-4 lg:px-5 py-2 text-white font-bold rounded-full hover:bg-white/20 transition-all flex items-center gap-2 text-sm lg:text-base",children:[c.jsx(em,{className:"w-4 h-4"}),""]}),c.jsxs("button",{onClick:()=>p("QUIZZES"),className:"px-4 lg:px-5 py-2 text-white font-bold rounded-full hover:bg-white/20 transition-all flex items-center gap-2 text-sm lg:text-base",children:[c.jsx(ta,{className:"w-4 h-4"}),""]}),c.jsxs("button",{onClick:()=>p("CONTACT_TEACHER"),className:"px-4 lg:px-5 py-2 text-white font-bold rounded-full hover:bg-white/20 transition-all flex items-center gap-2 text-sm lg:text-base",children:[c.jsx(fc,{className:"w-4 h-4"}),"  "]})]})}),c.jsx("div",{className:"hidden md:flex items-center gap-3",children:g?c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>p("PROFILE"),className:"flex items-center gap-2 text-white hover:bg-white/15 px-4 py-2.5 rounded-full transition-all font-bold",title:" ",children:[c.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden bg-white/20 flex items-center justify-center border border-white/30",children:g.avatar?c.jsx("img",{src:g.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):c.jsx($r,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-sm font-bold max-w-[100px] truncate",children:g.displayName.split(" ")[0]})]}),g.role==="teacher"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>p("QUESTION_BANK"),className:"bg-white/10 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all border border-white/20",title:" ",children:c.jsx(hc,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>p("TEACHER_DASHBOARD"),className:"bg-blue-500 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-blue-600 transition-all shadow-lg border border-blue-400/50",title:" ",children:c.jsx(uc,{className:"w-5 h-5"})})]}),c.jsx("button",{onClick:n,className:"bg-red-500/80 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-red-600 transition-all border border-red-400/30",title:"",children:c.jsx(Cd,{className:"w-4 h-4"})})]}):c.jsxs("button",{onClick:a,className:"bg-white text-emerald-700 px-6 py-2.5 rounded-full font-bold hover:bg-emerald-50 transition-all shadow-lg flex items-center gap-2 transform hover:scale-105",children:[c.jsx(gx,{className:"w-4 h-4"})," "]})}),c.jsx("div",{className:"md:hidden flex items-center gap-2",children:c.jsx("button",{onClick:()=>l(!s),className:"text-white hover:text-emerald-100 p-2 transition-colors",children:s?c.jsx(pi,{className:"w-8 h-8"}):c.jsx(gN,{className:"w-8 h-8"})})})]})}),s&&c.jsx("div",{className:"md:hidden bg-gray-900 border-t border-gray-800 shadow-xl absolute w-full z-50 animate-fade-in h-screen overflow-y-auto pb-20",children:c.jsxs("div",{className:"px-4 pt-2 pb-6 space-y-2",children:[g&&c.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-gray-800 rounded-2xl border border-gray-700 mt-4",children:[c.jsx("div",{className:"w-12 h-12 bg-emerald-900 rounded-full flex items-center justify-center text-emerald-200 font-bold text-lg overflow-hidden border border-emerald-700",children:g.avatar?c.jsx("img",{src:g.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):g.displayName.charAt(0)}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-white text-lg",children:g.displayName}),c.jsx("span",{className:"text-sm text-gray-400",children:g.email})]})]}),c.jsxs("button",{onClick:()=>p("HOME"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[c.jsx(em,{className:"w-5 h-5 text-emerald-400"})," "]}),c.jsxs("button",{onClick:()=>p("QUIZZES"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[c.jsx(ta,{className:"w-5 h-5 text-emerald-400"}),"  "]}),c.jsxs("button",{onClick:()=>p("CONTACT_TEACHER"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[c.jsx(fc,{className:"w-5 h-5 text-emerald-400"}),"   "]}),c.jsxs("button",{onClick:()=>p("ABOUT_PLATFORM"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[c.jsx(nN,{className:"w-5 h-5 text-emerald-400"}),"  "]}),c.jsxs("button",{onClick:()=>p("SERVICES"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[c.jsx(hv,{className:"w-5 h-5 text-emerald-400"})," "]}),g&&c.jsxs("button",{onClick:()=>p("PROFILE"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[c.jsx(VT,{className:"w-5 h-5 text-emerald-400"}),"  "]}),c.jsx("div",{className:"border-t border-gray-700 my-2 pt-2"}),g?c.jsxs("div",{className:"space-y-3 mt-2",children:[g.role==="teacher"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>p("TEACHER_DASHBOARD"),className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold shadow-md flex items-center justify-center gap-2",children:[c.jsx(uc,{className:"w-5 h-5"}),"  "]}),c.jsxs("button",{onClick:()=>p("QUESTION_BANK"),className:"w-full bg-gray-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[c.jsx(hc,{className:"w-5 h-5"})," "]})]}),c.jsxs("button",{onClick:()=>{l(!1),n()},className:"w-full bg-red-900/20 text-red-400 border border-red-900/30 py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[c.jsx(Cd,{className:"w-5 h-5"})," "]})]}):c.jsxs("button",{onClick:()=>{l(!1),a()},className:"w-full mt-2 bg-emerald-600 text-white py-3 rounded-xl font-bold shadow-md flex items-center justify-center gap-2",children:[c.jsx(gx,{className:"w-5 h-5"})," "]})]})})]})},BC=({onStartQuiz:a,onLoginClick:e,onNavigate:n})=>{const{user:s}=Os(),[l,u]=ne.useState(!1),f=()=>{u(!0),setTimeout(()=>u(!1),3e3)},g=()=>{s?n("QUIZZES"):f()},p=()=>{s?n("LESSONS"):f()},y=()=>{n("CONTACT_TEACHER")};return c.jsxs("section",{className:"relative w-full min-h-[calc(100vh-80px)] flex items-center justify-center bg-white dark:bg-gray-900 overflow-hidden animate-fade-in transition-colors duration-300",children:[l&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none px-4",children:c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/90 border border-red-200 dark:border-red-800 shadow-xl rounded-xl p-4 flex items-center gap-3 relative w-full max-w-md animate-fade-in-up pointer-events-auto",children:[c.jsx("div",{className:"bg-red-100 dark:bg-red-800 p-2 rounded-full shrink-0",children:c.jsx(Ad,{className:"w-6 h-6 text-red-600 dark:text-red-200"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"  "}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs mt-1",children:"        ."})]}),c.jsx("button",{onClick:()=>u(!1),className:"absolute top-2 left-2 text-gray-400 dark:text-gray-300 hover:text-gray-600 dark:hover:text-white",children:c.jsx(pi,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>{u(!1),e()},className:"mr-auto bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors shrink-0",children:""})]})}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-0 w-full relative z-10 flex flex-col items-center text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-100 dark:border-emerald-800 px-4 py-2 rounded-full shadow-sm",children:[c.jsx(Om,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),c.jsx("span",{className:"text-emerald-800 dark:text-emerald-300 font-bold text-sm",children:"   "})]})}),c.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black text-gray-900 dark:text-white leading-[1.2] lg:leading-[1.15] mb-6 transition-colors",children:["  ",c.jsx("br",{}),c.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 inline-block relative",children:[" ",c.jsx("svg",{className:"absolute w-full h-3 -bottom-1 right-0 text-emerald-200 dark:text-emerald-900 -z-10",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:c.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]}),c.jsx("br",{}),"  "]}),c.jsxs("p",{className:"text-lg md:text-xl text-gray-600 dark:text-gray-300 leading-relaxed max-w-2xl mx-auto mb-10 transition-colors",children:["          ",c.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-black text-2xl px-1 relative inline-block",children:"   "}),"."]}),c.jsxs("div",{className:"flex flex-col w-full max-w-md gap-4 justify-center",children:[c.jsxs("button",{onClick:g,className:"w-full bg-emerald-500 hover:bg-emerald-600 dark:bg-emerald-600 dark:hover:bg-emerald-700 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-emerald-200/50 dark:hover:shadow-emerald-900/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[c.jsx(ta,{className:"w-6 h-6"})," ",c.jsx(tc,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),c.jsxs("button",{onClick:p,className:"w-full bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-blue-200/50 dark:hover:shadow-blue-900/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[c.jsx(jd,{className:"w-6 h-6"})," ",c.jsx(tc,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),c.jsxs("button",{onClick:y,className:"w-full bg-teal-500 hover:bg-teal-600 dark:bg-teal-600 dark:hover:bg-teal-700 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-teal-200/50 dark:hover:shadow-teal-900/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[c.jsx(fc,{className:"w-6 h-6"}),"  ",c.jsx(tc,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[s&&c.jsxs("button",{onClick:()=>n("PROFILE"),className:"flex-1 bg-white dark:bg-gray-800 border-2 border-emerald-100 dark:border-emerald-900 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 text-lg font-bold px-8 py-4 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-sm",children:[c.jsx($r,{className:"w-5 h-5"})," "]}),!s&&c.jsxs("button",{onClick:e,className:"flex-1 bg-white dark:bg-gray-800 border-2 border-emerald-100 dark:border-emerald-900 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 text-lg font-bold px-8 py-4 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-sm",children:[c.jsx(EN,{className:"w-5 h-5 fill-emerald-600 text-emerald-600 dark:fill-emerald-400 dark:text-emerald-400"})," "]})]})]})]})]})},$0=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),K0=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),qC=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12 2C6.48 2 2 6.03 2 11c0 2.87 1.56 5.47 4 7.1V22l3.57-1.96c.78.22 1.6.34 2.43.34 5.52 0 10-4.03 10-9s-4.48-9-10-9zm1.06 12.07l-2.6-2.78-5.07 2.78 5.58-5.93 2.62 2.78 5.05-2.78-5.58 5.93z"})}),lv=[{id:1,name:" ",text:"       .",platform:"whatsapp",time:"10:30 "},{id:2,name:" ",text:"       .",platform:"messenger",time:"11:15 "},{id:3,name:" ",text:"        .",platform:"telegram",time:"09:45 "},{id:4,name:" ",text:"      .",platform:"whatsapp",time:"02:20 "},{id:5,name:"  ",text:"        .",platform:"messenger",time:"04:10 "},{id:6,name:" ",text:"       .",platform:"telegram",time:"08:00 "},{id:7,name:" ",text:"        .",platform:"whatsapp",time:"01:30 "},{id:8,name:" ",text:"       .",platform:"messenger",time:"06:45 "},{id:9,name:" ",text:"       .",platform:"telegram",time:"03:15 "},{id:10,name:" ",text:"       .",platform:"whatsapp",time:"12:00 "},{id:11,name:" ",text:"        .",platform:"messenger",time:"07:30 "},{id:12,name:" ",text:"      .",platform:"telegram",time:"10:10 "},{id:13,name:" ",text:"         .",platform:"whatsapp",time:"05:50 "},{id:14,name:" ",text:"        .",platform:"messenger",time:"09:20 "},{id:15,name:" ",text:"        .",platform:"telegram",time:"08:45 "}],HC=[{icon:XN,title:" ",desc:"        .",color:"bg-blue-100 text-blue-600"},{icon:ta,title:" ",desc:"        .",color:"bg-emerald-100 text-emerald-600"},{icon:VN,title:" ",desc:"       .",color:"bg-yellow-100 text-yellow-600"},{icon:kT,title:" ",desc:"        .",color:"bg-purple-100 text-purple-600"}],FC=({onNavigate:a})=>{const[e,n]=ne.useState([0,1,2]),[s,l]=ne.useState(!0);ne.useEffect(()=>{const g=setInterval(()=>{l(!1),setTimeout(()=>{const p=[];for(;p.length<3;){const y=Math.floor(Math.random()*lv.length);p.includes(y)||p.push(y)}n(p),l(!0)},500)},5e3);return()=>clearInterval(g)},[]);const u=g=>{switch(g){case"whatsapp":return c.jsx($0,{className:"w-5 h-5 text-white"});case"messenger":return c.jsx(qC,{className:"w-5 h-5 text-white"});case"telegram":return c.jsx(K0,{className:"w-5 h-5 text-white"});default:return null}},f=g=>{switch(g){case"whatsapp":return"bg-green-500";case"messenger":return"bg-blue-600";case"telegram":return"bg-sky-500";default:return"bg-gray-500"}};return c.jsx("section",{className:"py-20 bg-white dark:bg-gray-900 relative overflow-hidden transition-colors duration-300",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:" "}),c.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),c.jsx("p",{className:"mt-6 text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"                          ."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[c.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-8 rounded-3xl border border-slate-100 dark:border-gray-700 hover:border-emerald-200 dark:hover:border-emerald-600 transition-all group flex flex-col h-full shadow-lg hover:shadow-xl",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[c.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-xl overflow-hidden shrink-0 border-4 border-white dark:border-gray-700 group-hover:scale-105 transition-transform",children:c.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"text-center sm:text-right flex-1",children:[c.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white mb-3",children:".   "}),c.jsx("p",{className:"text-emerald-600 dark:text-emerald-400 font-bold text-xl mb-4",children:"  "}),c.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-600 dark:text-gray-300 font-medium bg-white dark:bg-gray-700 px-4 py-2 rounded-full inline-flex shadow-sm border border-gray-100 dark:border-gray-600",children:[c.jsx(tm,{className:"w-5 h-5 text-emerald-500"}),"   - "]})]})]}),c.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200 dark:border-gray-700",children:[c.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-4 text-center sm:text-right",children:" "}),c.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[c.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(J0,{className:"w-7 h-7"})}),c.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx($0,{className:"w-7 h-7"})}),c.jsx("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(K0,{className:"w-7 h-7"})})]})]})]}),c.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-8 rounded-3xl border border-slate-100 dark:border-gray-700 hover:border-emerald-200 dark:hover:border-emerald-600 transition-all group flex flex-col h-full shadow-lg hover:shadow-xl",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[c.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-xl overflow-hidden shrink-0 border-4 border-white dark:border-gray-700 group-hover:scale-105 transition-transform",children:c.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:".   ",className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"text-center sm:text-right flex-1",children:[c.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white mb-3",children:".   "}),c.jsx("p",{className:"text-blue-700 dark:text-blue-400 font-bold text-xl mb-4",children:"  "}),c.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-500 dark:text-gray-300 font-medium bg-white dark:bg-gray-700 px-4 py-2 rounded-full inline-flex shadow-sm border border-gray-100 dark:border-gray-600",children:[c.jsx(tm,{className:"w-5 h-5 text-blue-500"}),"   - "]})]})]}),c.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200 dark:border-gray-700",children:[c.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-4 text-center sm:text-right",children:" "}),c.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[c.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(J0,{className:"w-7 h-7"})}),c.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx($0,{className:"w-7 h-7"})}),c.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(K0,{className:"w-7 h-7"})})]})]})]})]}),c.jsx("div",{className:"text-center mb-12",children:c.jsxs("button",{onClick:()=>a("TEACHER_CV"),className:"inline-flex items-center gap-3 bg-emerald-600 text-white text-xl font-bold px-10 py-5 rounded-full shadow-lg hover:bg-emerald-700 hover:shadow-emerald-200 dark:hover:shadow-emerald-900/50 transition-all transform hover:-translate-y-1",children:[c.jsx(gi,{className:"w-6 h-6"}),"  ",c.jsx(Sd,{className:"w-6 h-6"})]})}),c.jsxs("div",{className:"mb-0 pt-10 border-t border-gray-100 dark:border-gray-700",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"       "})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((g,p)=>{const y=lv[g];return c.jsx("div",{className:`transform transition-all duration-500 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:c.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 relative h-full flex flex-col hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 bg-white dark:bg-gray-800 border-b border-r border-gray-100 dark:border-gray-700 transform rotate-45"}),c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center text-emerald-700 dark:text-emerald-300 font-bold text-lg",children:y.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:y.name}),c.jsx("span",{className:"text-xs text-gray-400 font-medium",children:y.time})]})]}),c.jsx("div",{className:`w-8 h-8 rounded-full ${f(y.platform)} flex items-center justify-center shadow-sm`,children:u(y.platform)})]}),c.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-base leading-relaxed font-medium",children:['"',y.text,'"']})]})},`${y.id}-${p}`)})})]}),c.jsxs("div",{className:"mb-0 pt-20 mt-12 border-t border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:" "}),c.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),c.jsx("p",{className:"mt-6 text-lg text-gray-600 dark:text-gray-300",children:"     "})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative",children:[c.jsx("div",{className:"hidden lg:block absolute top-12 left-0 w-full h-0.5 bg-gray-200 dark:bg-gray-700 -z-10 transform -translate-y-1/2"}),HC.map((g,p)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 text-center relative group hover:-translate-y-2 transition-transform duration-300",children:[c.jsx("div",{className:"absolute -top-4 right-6 w-8 h-8 bg-gray-900 dark:bg-black text-white rounded-full flex items-center justify-center font-bold text-sm shadow-md z-10 border-2 border-white dark:border-gray-700",children:p+1}),c.jsx("div",{className:"w-24 h-24 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-gray-50 dark:border-gray-600 group-hover:border-emerald-100 dark:group-hover:border-emerald-900 transition-colors relative z-0",children:c.jsx("div",{className:`w-16 h-16 ${g.color} rounded-full flex items-center justify-center`,children:c.jsx(g.icon,{className:"w-8 h-8"})})}),c.jsx("h3",{className:"font-black text-xl mb-3 text-gray-900 dark:text-white",children:g.title}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed font-medium px-2",children:g.desc})]},p))]})]})]})})},GC=({isOpen:a,onClose:e})=>{const[n,s]=ne.useState("ROLE_SELECTION"),[l,u]=ne.useState(!1),[f,g]=ne.useState(null),[p,y]=ne.useState(null),{setTeacherSession:_}=Os(),[E,j]=ne.useState(""),[P,F]=ne.useState(""),[re,G]=ne.useState(""),[K,ae]=ne.useState(""),[ce,ve]=ne.useState(""),[ue,$]=ne.useState(""),[k,N]=ne.useState(""),[S,I]=ne.useState(""),[R,M]=ne.useState(""),[A,je]=ne.useState("male"),[Ge,Q]=ne.useState("");if(!a)return null;const ie=()=>{s("ROLE_SELECTION"),g(null),y(null),j(""),F(""),G(""),ae(""),ve(""),$(""),N(""),I(""),M(""),je("male"),Q(""),u(!1)},me=()=>{ie(),e()},Oe=ye=>{ye.preventDefault(),g(null),u(!0),setTimeout(()=>{E==="2001"?(_(".   ","yazan@etqan.edu"),y("   !"),setTimeout(()=>me(),1500)):E==="2003"?(_(".   ","majd@etqan.edu"),y("    !"),setTimeout(()=>me(),1500)):(g("   "),u(!1))},800)},Ve=async ye=>{ye.preventDefault(),g(null),u(!0);try{await HS(oc,P.trim(),re),y("   !"),setTimeout(()=>me(),1500)}catch(mt){console.error(mt),g("      "),u(!1)}},D=async ye=>{ye.preventDefault(),g(null),u(!0);try{const zn=(await qS(oc,S.trim(),R)).user;await Xw(_i(An,"users",zn.uid),{firstName:K,lastName:ce,age:ue,grade:k,gender:A,avatar:"",profileBackground:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",email:S.trim(),role:"student",totalXP:0,quizzesCompleted:0,createdAt:new Date}),y("   !"),setTimeout(()=>me(),1500)}catch(mt){console.error(mt),mt.code==="auth/email-already-in-use"?g("   "):mt.code==="auth/weak-password"?g("   "):g("    .    ."),u(!1)}},X=async ye=>{ye.preventDefault(),g(null),u(!0);try{await BS(oc,Ge.trim()),y("   !")}catch(mt){console.error(mt),mt.code==="auth/user-not-found"?g("    "):mt.code==="auth/invalid-email"?g("    "):mt.code==="auth/too-many-requests"?g("           ."):g("          .")}finally{u(!1)}},se=()=>{switch(n){case"TEACHER_LOGIN":return"    ...";case"STUDENT_LOGIN":return"  ...";case"STUDENT_SIGNUP":return"   ...";case"FORGOT_PASSWORD":return"   ...";default:return" ..."}},oe=()=>c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800 dark:text-white",children:"   "}),c.jsxs("button",{onClick:()=>s("STUDENT_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all",children:[c.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900 p-3 rounded-full ml-4 group-hover:bg-emerald-200 dark:group-hover:bg-emerald-800 transition-colors",children:c.jsx($r,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsxs("div",{className:"text-right flex-1",children:[c.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"    "})]}),c.jsx(R0,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})]}),c.jsxs("button",{onClick:()=>s("TEACHER_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full ml-4 group-hover:bg-blue-200 dark:group-hover:bg-blue-800 transition-colors",children:c.jsx(Ll,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"text-right flex-1",children:[c.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"   "})]}),c.jsx(R0,{className:"w-5 h-5 text-gray-300 group-hover:text-blue-500"})]})]}),W=()=>c.jsxs("form",{onSubmit:Oe,className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(_l,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:" "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"     "})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),c.jsx("input",{type:"password",value:E,onChange:ye=>j(ye.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900 outline-none transition-all text-center text-lg tracking-widest bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0})]}),c.jsx("button",{type:"submit",className:"mt-4 w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 dark:shadow-none",children:""})]}),xe=()=>c.jsxs("form",{onSubmit:Ve,className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:" !   "})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"email",value:P,onChange:ye=>F(ye.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),c.jsx(px,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"password",value:re,onChange:ye=>G(ye.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0}),c.jsx(_l,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]}),c.jsx("div",{className:"text-left",children:c.jsx("button",{type:"button",onClick:()=>s("FORGOT_PASSWORD"),className:"text-xs text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})})]}),c.jsx("button",{type:"submit",disabled:l,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),c.jsx("div",{className:"mt-4 text-center",children:c.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["   "," ",c.jsx("button",{type:"button",onClick:()=>s("STUDENT_SIGNUP"),className:"text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})]})})]}),Te=()=>c.jsxs("form",{onSubmit:D,className:"flex flex-col gap-3",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"   "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"   "})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),c.jsx("input",{type:"text",value:K,onChange:ye=>ae(ye.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),c.jsx("input",{type:"text",value:ce,onChange:ye=>ve(ye.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),c.jsx("input",{type:"number",value:ue,onChange:ye=>$(ye.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),c.jsxs("div",{className:"flex gap-2 h-[42px]",children:[c.jsx("button",{type:"button",onClick:()=>je("male"),className:`flex-1 rounded-lg text-sm font-bold transition-all border ${A==="male"?"bg-blue-100 dark:bg-blue-900 border-blue-500 text-blue-700 dark:text-blue-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""}),c.jsx("button",{type:"button",onClick:()=>je("female"),className:`flex-1 rounded-lg text-sm font-bold transition-all border ${A==="female"?"bg-pink-100 dark:bg-pink-900 border-pink-500 text-pink-700 dark:text-pink-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 block mb-1",children:" :"}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,6,7,8,9,10,11,12].map(ye=>c.jsx("button",{type:"button",onClick:()=>N(ye.toString()),className:`py-2 px-1 rounded-xl text-sm font-bold transition-all border ${k===ye.toString()?"bg-emerald-600 text-white border-emerald-600 shadow-md scale-105":"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-100 dark:border-gray-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 hover:border-emerald-200"}`,children:ye},ye))})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),c.jsx("input",{type:"email",value:S,onChange:ye=>I(ye.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),c.jsx("input",{type:"password",value:R,onChange:ye=>M(ye.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0,minLength:6})]}),c.jsx("button",{type:"submit",disabled:l,className:"mt-2 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),c.jsx("div",{className:"text-center mt-2",children:c.jsx("button",{type:"button",onClick:()=>s("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors",children:"    "})})]}),Xe=()=>c.jsxs("form",{onSubmit:X,className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:["     ",c.jsx("strong",{children:""}),"  "]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"email",value:Ge,onChange:ye=>Q(ye.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),c.jsx(px,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),c.jsx("button",{type:"submit",disabled:l,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:"  "}),c.jsx("div",{className:"text-center mt-4",children:c.jsxs("button",{type:"button",onClick:()=>s("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors flex items-center justify-center gap-1 mx-auto",children:[c.jsx(Sd,{className:"w-4 h-4"}),"  "]})})]});return c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:me}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-md relative shadow-2xl overflow-hidden animate-fade-in-up p-6 min-h-[400px] flex flex-col border border-gray-100 dark:border-gray-800",children:[l&&!p&&c.jsxs("div",{className:"absolute inset-0 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm z-50 flex flex-col items-center justify-center animate-fade-in rounded-3xl",children:[c.jsxs("div",{className:"relative mb-6",children:[c.jsx("div",{className:"absolute inset-0 bg-emerald-200 dark:bg-emerald-900 rounded-full animate-ping opacity-30 duration-1000"}),c.jsx("div",{className:"relative w-20 h-20 bg-emerald-50 dark:bg-emerald-900/50 rounded-full flex items-center justify-center border border-emerald-100 dark:border-emerald-800 shadow-inner",children:c.jsx(pn,{className:"w-10 h-10 text-emerald-600 dark:text-emerald-400 animate-spin"})})]}),c.jsx("h4",{className:"text-lg font-black text-gray-800 dark:text-white mb-2 tracking-tight animate-pulse",children:se()}),c.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"   "})]}),c.jsx("button",{onClick:me,disabled:l,className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 disabled:opacity-50",children:c.jsx(pi,{className:"w-5 h-5"})}),n!=="ROLE_SELECTION"&&!p&&n!=="FORGOT_PASSWORD"&&c.jsxs("button",{onClick:()=>s("ROLE_SELECTION"),disabled:l,className:"absolute top-4 right-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 flex items-center gap-1 disabled:opacity-50",children:[c.jsx(R0,{className:"w-5 h-5"}),c.jsx("span",{className:"text-xs font-bold",children:""})]}),c.jsx("div",{className:"mt-6 flex-1 flex flex-col justify-center",children:p?c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center gap-4 animate-fade-in",children:[c.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-2 animate-[bounce_1s_infinite]",children:c.jsx(Im,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white leading-relaxed px-4 whitespace-pre-line",children:p}),n==="FORGOT_PASSWORD"&&c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-900 rounded-xl p-4 mx-4 text-sm text-yellow-800 dark:text-yellow-200 text-right shadow-sm mt-4",children:[c.jsxs("p",{className:"font-bold flex items-center gap-2 mb-2 text-yellow-900 dark:text-yellow-100",children:[c.jsx(Ad,{className:"w-5 h-5"}),"  :"]}),c.jsxs("p",{className:"leading-relaxed",children:["         ",c.jsx("strong",{children:"    (Spam)"}),"  (Junk)."]})]}),c.jsx("button",{onClick:()=>{n==="FORGOT_PASSWORD"?(s("STUDENT_LOGIN"),y(null)):me()},className:"mt-8 bg-emerald-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none transform hover:scale-105 duration-200",children:n==="FORGOT_PASSWORD"?"  ":""})]}):c.jsxs(c.Fragment,{children:[n==="ROLE_SELECTION"&&oe(),n==="TEACHER_LOGIN"&&W(),n==="STUDENT_LOGIN"&&xe(),n==="STUDENT_SIGNUP"&&Te(),n==="FORGOT_PASSWORD"&&Xe(),f&&c.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 rounded-lg flex items-start gap-2 text-red-600 dark:text-red-400 text-sm animate-fade-in",children:[c.jsx(Ad,{className:"w-5 h-5 shrink-0 mt-0.5"}),c.jsx("span",{className:"font-medium",children:f})]})]})})]})]})},QC=()=>{const{user:a}=Os(),[e,n]=ne.useState(!1),[s,l]=ne.useState("MCQ"),[u,f]=ne.useState({title:"",subject:"English",grade:"",category:"Language",description:""}),[g,p]=ne.useState([]),[y,_]=ne.useState({question:"",options:["","","",""],correctAnswer:0,explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"}),E=(K,ae)=>{_(ce=>({...ce,[K]:ae}))},j=(K,ae)=>{const ce=[...y.options];ce[K]=ae,_(ve=>({...ve,options:ce}))},P=()=>{if(!y.question.trim()){alert("   ");return}if((s==="MCQ"||s==="READING")&&y.options.some(ce=>!ce.trim())){alert("   ");return}if(s==="READING"&&!y.passageContent.trim()){alert("   ");return}const K=s==="TF"?["",""]:y.options,ae={id:Date.now(),question:y.question,options:K,correctAnswer:y.correctAnswer,explanation:y.explanation,passageContent:s==="READING"?y.passageContent:void 0,generalInstruction:s==="READING"?y.generalInstruction:void 0,passageFontSize:s==="READING"?y.passageFontSize:void 0};p([...g,ae]),_({question:"",options:["","","",""],correctAnswer:0,explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"})},F=K=>{p(g.filter(ae=>ae.id!==K))},re=async()=>{if(!u.title||!u.grade){alert("     ");return}if(g.length===0){alert("     ");return}n(!0);try{const K={title:u.title,subject:u.subject,grade:u.grade,category:u.category,questions:g,createdBy:(a==null?void 0:a.uid)||"teacher",teacherName:(a==null?void 0:a.displayName)||"",createdAt:jm(),description:u.description};await Zw(js(An,"quizzes"),K),alert("    !"),f({title:"",subject:"English",grade:"",category:"Language",description:""}),p([])}catch(K){console.error("Error saving quiz:",K),alert("   ")}finally{n(!1)}},G=[{value:"sm",label:""},{value:"md",label:""},{value:"lg",label:""},{value:"xl",label:" "}];return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 font-sans animate-fade-in transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 pt-10 pb-28 px-4 border-b border-gray-200 dark:border-gray-700 shadow-sm relative overflow-hidden",children:c.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[c.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-3xl shadow-inner border border-blue-100 dark:border-blue-800",children:c.jsx(sN,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"text-center md:text-right flex-1",children:[c.jsx("h1",{className:"text-3xl md:text-5xl font-black tracking-tight text-gray-900 dark:text-white mb-2",children:" "}),c.jsxs("p",{className:"text-blue-600 dark:text-blue-400 font-bold text-lg",children:["  ",a==null?void 0:a.displayName]})]})]})})}),c.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-16 relative z-20",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6 md:p-8",children:[c.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-8 flex items-center gap-3 border-b border-gray-100 dark:border-gray-700 pb-4",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:c.jsx(ta,{className:"w-5 h-5 text-blue-700 dark:text-blue-400"})}),"  "]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),c.jsx("input",{type:"text",value:u.title,onChange:K=>f({...u,title:K.target.value}),placeholder:":    - ",className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 transition-all outline-none font-bold text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx(_N,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),c.jsxs("select",{value:u.subject,onChange:K=>f({...u,subject:K.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[c.jsx("option",{value:"English",children:"English"}),c.jsx("option",{value:"Science",children:""}),c.jsx("option",{value:"Math",children:""})]})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"    "}),c.jsxs("div",{className:"relative",children:[c.jsx(Ll,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),c.jsxs("select",{value:u.grade,onChange:K=>f({...u,grade:K.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[c.jsx("option",{value:"",className:"text-gray-400",children:" "}),c.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(K=>c.jsxs("option",{value:K.toString(),children:[" ",K]},K))}),c.jsx("optgroup",{label:" ",children:c.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:c.jsx(cc,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"col-span-2 md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"  /  (Category)"}),c.jsxs("div",{className:"relative",children:[c.jsx(yv,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),c.jsxs("select",{value:u.category,onChange:K=>f({...u,category:K.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[c.jsx("option",{value:"Language",children:"Language ()"}),c.jsx("option",{value:"Reading",children:"Reading ()"}),c.jsx("option",{value:"Writing",children:"Writing ()"}),c.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"}),c.jsx("option",{value:"General",children:"  (General Quiz)"})]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:c.jsx(cc,{className:"w-5 h-5"})})]})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"  ()"}),c.jsx("textarea",{value:u.description,onChange:K=>f({...u,description:K.target.value}),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-medium text-gray-900 dark:text-white h-24 resize-none placeholder-gray-400 dark:placeholder-gray-500",placeholder:"    ..."})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6 md:p-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 border-b border-gray-100 dark:border-gray-700 pb-4",children:[c.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-3",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:c.jsx(uc,{className:"w-5 h-5 text-blue-700 dark:text-blue-400"})})," "]}),c.jsxs("div",{className:"flex flex-wrap gap-2 bg-gray-100 dark:bg-gray-700 p-1.5 rounded-xl self-start",children:[c.jsx("button",{onClick:()=>l("MCQ"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${s==="MCQ"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:"  "}),c.jsx("button",{onClick:()=>l("TF"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${s==="TF"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:"  "}),c.jsxs("button",{onClick:()=>l("READING"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${s==="READING"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:[c.jsx(jd,{className:"w-4 h-4"})," "]})]})]}),c.jsxs("div",{className:"space-y-6",children:[s==="READING"&&c.jsxs("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-900/20 p-5 rounded-2xl border border-blue-100 dark:border-blue-800 mb-6",children:[c.jsxs("h4",{className:"font-bold text-blue-800 dark:text-blue-300 flex items-center gap-2 mb-2",children:[c.jsx(bv,{className:"w-5 h-5"})," "]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-blue-700 dark:text-blue-300 mb-1",children:"  (General Instruction)"}),c.jsx("input",{type:"text",value:y.generalInstruction,onChange:K=>E("generalInstruction",K.target.value),placeholder:": Read the following text then answer the question",className:"w-full px-4 py-3 rounded-xl border border-blue-200 dark:border-blue-700 focus:border-blue-500 outline-none bg-white dark:bg-gray-800 text-sm font-medium"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-blue-700 dark:text-blue-300 mb-1",children:"  (Passage)"}),c.jsx("textarea",{value:y.passageContent,onChange:K=>E("passageContent",K.target.value),placeholder:"   ... ( Enter   )",className:"w-full px-4 py-3 rounded-xl border border-blue-200 dark:border-blue-700 focus:border-blue-500 outline-none bg-white dark:bg-gray-800 text-sm font-medium h-40 resize-y whitespace-pre-wrap",style:{direction:"ltr",textAlign:"left"}}),c.jsx("p",{className:"text-[10px] text-blue-500 mt-1",children:"* :        ."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-bold text-blue-700 dark:text-blue-300 mb-2 flex items-center gap-2",children:[c.jsx(KN,{className:"w-4 h-4"}),"   (  )"]}),c.jsx("div",{className:"flex gap-3",children:G.map(K=>c.jsx("button",{onClick:()=>E("passageFontSize",K.value),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all border ${y.passageFontSize===K.value?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-600 hover:border-blue-400"}`,children:K.label},K.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:s==="READING"?"  ":" "}),c.jsxs("div",{className:"relative",children:[c.jsx(Sl,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4"}),c.jsx("input",{type:"text",value:y.question,onChange:K=>E("question",K.target.value),placeholder:s==="READING"?": What is the main idea?":"   ...",className:"w-full px-5 py-4 pr-12 rounded-2xl border-2 border-gray-100 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none font-bold text-lg text-gray-900 dark:text-white bg-gray-50/50 dark:bg-gray-700/50 placeholder-gray-400 transition-all"})]})]}),s==="MCQ"||s==="READING"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.options.map((K,ae)=>c.jsxs("div",{className:`relative group transition-all duration-300 ${y.correctAnswer===ae?"scale-[1.02]":""}`,children:[c.jsxs("label",{className:"flex items-center justify-between mb-2 px-1",children:[c.jsxs("span",{className:`text-xs font-bold ${y.correctAnswer===ae?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:[" ",ae+1]}),c.jsx("button",{onClick:()=>E("correctAnswer",ae),className:`text-[10px] px-2 py-1 rounded-md transition-colors font-bold ${y.correctAnswer===ae?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:y.correctAnswer===ae?" ":" "})]}),c.jsx("input",{type:"text",value:K,onChange:ce=>j(ae,ce.target.value),placeholder:`  ${ae+1}`,className:`w-full px-4 py-3 rounded-xl border-2 outline-none transition-all font-medium ${ae===y.correctAnswer?"border-blue-500 bg-blue-50/30 dark:bg-blue-900/20 text-gray-900 dark:text-white shadow-sm ring-2 ring-blue-100 dark:ring-blue-900/30":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 focus:border-blue-400 text-gray-700 dark:text-gray-200"}`})]},ae))}):c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>E("correctAnswer",0),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${y.correctAnswer===0?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 shadow-md":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[y.correctAnswer===0&&c.jsx(ps,{className:"w-6 h-6"})," (True)"]}),c.jsxs("button",{onClick:()=>E("correctAnswer",1),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${y.correctAnswer===1?"border-red-500 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 shadow-md":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[y.correctAnswer===1&&c.jsx(ps,{className:"w-6 h-6"})," (False)"]})]}),c.jsxs("div",{className:"bg-yellow-50/50 dark:bg-yellow-900/10 p-4 rounded-2xl border border-yellow-100 dark:border-yellow-900/30",children:[c.jsxs("label",{className:"block text-sm font-bold text-yellow-800 dark:text-yellow-500 mb-2 flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"  ()"]}),c.jsx("textarea",{value:y.explanation,onChange:K=>E("explanation",K.target.value),placeholder:"        ...",className:"w-full px-4 py-3 rounded-xl border border-yellow-200 dark:border-yellow-800/50 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-100 dark:focus:ring-yellow-900/30 outline-none text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-800 h-20 resize-none placeholder-gray-400 text-sm"})]}),c.jsxs("button",{onClick:P,className:"w-full bg-gray-900 dark:bg-black text-white py-4 rounded-2xl font-bold hover:bg-black dark:hover:bg-gray-900 transition-all shadow-lg shadow-gray-200 dark:shadow-none flex items-center justify-center gap-2 transform hover:-translate-y-1",children:[c.jsx(uc,{className:"w-5 h-5"}),"  "]})]})]})]}),c.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6 sticky top-24",children:[c.jsxs("h3",{className:"text-lg font-black text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[c.jsx(Rd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," "]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-5 bg-gray-50 dark:bg-gray-700 rounded-2xl border border-gray-100 dark:border-gray-600 flex flex-col gap-3",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),c.jsx("span",{className:"font-black text-gray-900 dark:text-white bg-white dark:bg-gray-600 px-3 py-0.5 rounded-md shadow-sm",children:g.length})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),c.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded-md",children:u.category})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),c.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded-md",children:""})]})]}),c.jsxs("button",{onClick:re,disabled:e||g.length===0,className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all flex items-center justify-center gap-2 transform ${e||g.length===0?"bg-gray-300 dark:bg-gray-600 cursor-not-allowed shadow-none":"bg-blue-600 hover:bg-blue-700 shadow-blue-200 dark:shadow-none hover:-translate-y-1"}`,children:[e?c.jsx(pn,{className:"w-5 h-5 animate-spin"}):c.jsx(ps,{className:"w-5 h-5"}),e?" ...":"  "]})]})]}),g.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white px-2",children:["  (",g.length,")"]}),c.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:g.map((K,ae)=>c.jsx("div",{className:"bg-white dark:bg-gray-700 p-4 rounded-2xl border border-gray-200 dark:border-gray-600 shadow-sm hover:border-blue-300 dark:hover:border-blue-500 transition-all group relative",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300 font-bold w-6 h-6 flex items-center justify-center rounded-lg text-xs shrink-0 mt-0.5",children:ae+1}),c.jsxs("div",{className:"flex-1 min-w-0",children:[K.passageContent&&c.jsx("div",{className:"mb-2 pb-2 border-b border-gray-100 dark:border-gray-600",children:c.jsx("span",{className:"text-[10px] text-blue-500 font-bold bg-blue-50 dark:bg-blue-900/20 px-1.5 py-0.5 rounded",children:""})}),c.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm line-clamp-2 mb-1",children:K.question}),c.jsx("span",{className:"text-[10px] bg-gray-50 dark:bg-gray-600 text-gray-500 dark:text-gray-300 px-2 py-0.5 rounded-md border border-gray-100 dark:border-gray-500 inline-block",children:K.options.length===2?" / ":K.passageContent?"":"  "})]}),c.jsx("button",{onClick:()=>F(K.id),className:"text-gray-300 hover:text-red-500 transition-colors p-1.5 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg shrink-0",children:c.jsx(nm,{className:"w-4 h-4"})})]})},K.id))})]})]})]})})]})},Y0=[{minLevel:1,title:" ",color:"bg-gray-100 text-gray-600 border-gray-200",icon:pv},{minLevel:5,title:" ",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:ta},{minLevel:10,title:" ",color:"bg-blue-100 text-blue-700 border-blue-200",icon:Al},{minLevel:15,title:" ",color:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:gi},{minLevel:20,title:" ",color:"bg-purple-100 text-purple-700 border-purple-200",icon:_v},{minLevel:30,title:" ",color:"bg-amber-100 text-amber-700 border-amber-200",icon:dc}],w2=[{url:"https://lh3.googleusercontent.com/d/1seg3JDYcNsDBtTY4gU9N5empajSAT_-E",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1QnacjkYXRr-N4yhmt44LubRxbRnzNgqH",minLevel:1},{url:"https://lh3.googleusercontent.com/d/198SBde0OI07puyVx53mi9MpZ7F-iKltI",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1E--pczIn4ZCSWpWYhKZutLX8lfhtmCrp",minLevel:5},{url:"https://lh3.googleusercontent.com/d/1h5uzg3mZaeaozqEkzwItA14xqDq7kbMb",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1qKn7YfQr7VaDPXB8EjUvlCW-qt3v5E0u",minLevel:15}],E2=[{url:"https://lh3.googleusercontent.com/d/1AqS4xhkK53MwCO-LFRdmtYBQsYSH6vz1",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1h9RlprJi3PeKwNaVulHZMCamtbEp7BcS",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1ufUwP7M3wdxWBW60s2xdpZC6W7jfpXv4",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1WQNhE7g0WBHbBu4e93R8Oy1qFOclP-qs",minLevel:5},{url:"https://lh3.googleusercontent.com/d/1ep_ggXFs0rCkGJ212WkY5DuRbLNkyLyr",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1siamCZMGjbXH6L9bop_dN1UPSSwfyIwc",minLevel:15}],$C=[...w2,...E2],X0=[{id:"nature_1",url:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",name:" ",minLevel:1},{id:"nature_2",url:"https://lh3.googleusercontent.com/d/1tBjHedpcXQiEjXro--zG3iWDokgrDbgZ",name:" ",minLevel:5},{id:"nature_3",url:"https://lh3.googleusercontent.com/d/1Chp7z63_XfLlt4ZC0MRmKwNsSTlCWwOa",name:" ",minLevel:10},{id:"nature_4",url:"https://lh3.googleusercontent.com/d/12RHK_FCMJt8D24AB3UV7nHxbD50EF4MX",name:" ",minLevel:15},{id:"nature_5",url:"https://lh3.googleusercontent.com/d/1We4c8009ObQB9ZDrpQ8ssUuos4V_4b9w",name:" ",minLevel:20}],KC=({data:a})=>{if(!a||a.length===0)return c.jsx("div",{className:"h-40 flex items-center justify-center text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-800 rounded-xl border border-dashed border-gray-200 dark:border-gray-700",children:"     "});const e=100,n=300,s=100,l=a.map((f,g)=>{const p=g/(a.length-1||1)*n,y=e-f/s*e;return`${p},${y}`}).join(" "),u=`${l} ${n},${e} 0,${e}`;return c.jsxs("div",{className:"w-full h-48 bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-100 dark:border-gray-700 relative overflow-hidden",children:[c.jsxs("svg",{viewBox:`0 0 ${n} ${e}`,className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:[c.jsx("line",{x1:"0",y1:"0",x2:n,y2:"0",stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),c.jsx("line",{x1:"0",y1:e/2,x2:n,y2:e/2,stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),c.jsx("line",{x1:"0",y1:e,x2:n,y2:e,stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"chartGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:"rgba(16, 185, 129, 0.2)"}),c.jsx("stop",{offset:"100%",stopColor:"rgba(16, 185, 129, 0)"})]})}),c.jsx("path",{d:`M0,${e} ${u}`,fill:"url(#chartGradient)"}),c.jsx("polyline",{points:l,fill:"none",stroke:"#10b981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.map((f,g)=>{const p=g/(a.length-1||1)*n,y=e-f/s*e;return c.jsx("circle",{cx:p,cy:y,r:"3.5",fill:"white",stroke:"#10b981",strokeWidth:"2",className:"dark:fill-gray-800"},g)})]}),c.jsx("div",{className:"absolute top-2 right-2 text-[10px] font-bold text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded-full",children:" "})]})},YC=a=>{if(!a)return"";const e=a.toDate?a.toDate():new Date(a.seconds*1e3),n=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getFullYear();let u=e.getHours();const f=e.getMinutes().toString().padStart(2,"0"),g=u>=12?"":"";return u=u%12,u=u||12,`${n}/${s}/${l} ${u}:${f} ${g}`},XC=({onNavigate:a})=>{const{user:e,updateUserProfile:n}=Os(),[s,l]=ne.useState(!1),[u,f]=ne.useState(null),g=$C,[p,y]=ne.useState(!1),[_,E]=ne.useState(!1),[j,P]=ne.useState(!1),[F,re]=ne.useState("male"),[G,K]=ne.useState((e==null?void 0:e.avatar)||""),[ae,ce]=ne.useState((e==null?void 0:e.profileBackground)||X0[0].url),[ve,ue]=ne.useState([]),[$,k]=ne.useState(!0),[N,S]=ne.useState(0),[I,R]=ne.useState(1),[M,A]=ne.useState(Y0[0]),[je,Ge]=ne.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",age:(e==null?void 0:e.age)||"",grade:(e==null?void 0:e.grade)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",school:(e==null?void 0:e.school)||""});ne.useEffect(()=>{e&&(Ge(W=>({...W,firstName:e.firstName||W.firstName,lastName:e.lastName||W.lastName})),e.avatar&&K(e.avatar),e.profileBackground&&ce(e.profileBackground))},[e]),ne.useEffect(()=>{(async()=>{if(e){if(e.role==="teacher"){k(!1);return}try{const xe=Ml(js(An,"quiz_results"),Vl("userId","==",e.uid)),Te=await Pc(xe),Xe=[];let ye=0;Te.forEach(ln=>{const on=ln.data();Xe.push({id:ln.id,...on});let Ft=10+on.percentage*2;on.passed&&(Ft+=50),on.percentage===100&&(Ft+=100),ye+=Math.round(Ft)}),Xe.sort((ln,on)=>{var Bn,wr;const Ft=((Bn=ln.createdAt)==null?void 0:Bn.seconds)||0,_r=((wr=on.createdAt)==null?void 0:wr.seconds)||0;return Ft-_r}),ue(Xe),S(ye);const mt=Math.floor(ye/500)+1;R(mt);const zn=[...Y0].reverse().find(ln=>mt>=ln.minLevel)||Y0[0];A(zn)}catch(xe){console.error("Error fetching progress:",xe)}finally{k(!1)}}})()},[e]);const Q=async W=>{W.preventDefault(),l(!0),f(null);try{await n({...je}),f("   !"),setTimeout(()=>f(null),3e3)}catch(xe){console.error(xe),alert("   ")}finally{l(!1)}},ie=async()=>{l(!0);try{await n({avatar:G}),y(!1)}catch(W){console.error(W)}finally{l(!1)}},me=async()=>{l(!0);try{await n({profileBackground:ae}),E(!1)}catch(W){console.error(W)}finally{l(!1)}},Oe=async()=>{l(!0);try{const W=F==="male"?w2[0].url:E2[0].url;await n({gender:F,genderChanged:!0,avatar:W}),P(!1),f("     "),setTimeout(()=>f(null),3e3)}catch(W){console.error(W),alert("   ")}finally{l(!1)}},Ve=ve.slice(-10).map(W=>W.percentage),D=(I-1)*500,X=Math.min(100,Math.max(0,(N-D)/500*100)),se=W=>W?W.startsWith("http")?{backgroundImage:`url(${W})`,backgroundSize:"cover",backgroundPosition:"center"}:{}:{backgroundImage:`url(${X0[0].url})`,backgroundSize:"cover",backgroundPosition:"center"},oe=W=>!W||W.startsWith("http")?"bg-no-repeat bg-center":W;return(e==null?void 0:e.role)==="teacher"?c.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12 animate-fade-in-up",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700 p-8 md:p-12 text-center",children:[c.jsxs("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-6 relative",children:[c.jsx("div",{className:"absolute inset-0 bg-blue-500 rounded-full blur-xl opacity-20"}),c.jsx("img",{src:e.avatar||"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:e.displayName,className:"w-full h-full object-cover rounded-full border-4 border-white dark:border-gray-700 shadow-lg relative z-10"})]}),c.jsx("h1",{className:"text-3xl md:text-4xl font-black text-gray-900 dark:text-white mb-2",children:e.displayName}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mb-10 text-lg",children:e.email}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[c.jsxs("button",{onClick:()=>a&&a("TEACHER_DASHBOARD"),className:"flex flex-col items-center justify-center gap-4 p-8 rounded-3xl bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-100 dark:border-blue-800 hover:border-blue-500 hover:shadow-xl transition-all group",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-500 text-white rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:c.jsx(uc,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xl font-bold text-gray-900 dark:text-white mb-1",children:" "}),c.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"   "})]})]}),c.jsxs("button",{onClick:()=>a&&a("QUESTION_BANK"),className:"flex flex-col items-center justify-center gap-4 p-8 rounded-3xl bg-emerald-50 dark:bg-emerald-900/20 border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-500 hover:shadow-xl transition-all group",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-500 text-white rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:c.jsx(hc,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xl font-bold text-gray-900 dark:text-white mb-1",children:" "}),c.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"  "})]})]})]})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up",children:[j&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-24 bg-black/80 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-sm shadow-2xl border border-gray-200 dark:border-gray-700 p-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx($r,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:" "}),c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-xl border border-yellow-200 dark:border-yellow-800 text-sm text-yellow-800 dark:text-yellow-200 flex items-start gap-2 text-right",children:[c.jsx(xv,{className:"w-5 h-5 shrink-0"}),c.jsx("p",{children:":          ."})]})]}),c.jsxs("div",{className:"flex gap-3 mb-6",children:[c.jsx("button",{onClick:()=>re("male"),className:`flex-1 py-3 rounded-xl font-bold border-2 transition-all ${F==="male"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""}),c.jsx("button",{onClick:()=>re("female"),className:`flex-1 py-3 rounded-xl font-bold border-2 transition-all ${F==="female"?"border-pink-500 bg-pink-50 dark:bg-pink-900/20 text-pink-600 dark:text-pink-400":"border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>P(!1),className:"flex-1 py-3 rounded-xl font-bold bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""}),c.jsx("button",{onClick:Oe,disabled:s,className:"flex-1 py-3 rounded-xl font-bold bg-emerald-600 text-white hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2",children:s?c.jsx(pn,{className:"w-4 h-4 animate-spin"}):" "})]})]})}),p&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-sm max-h-[85vh] flex flex-col shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden relative",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center shrink-0",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx($r,{className:"w-5 h-5 text-purple-500"})," "]}),c.jsx("button",{onClick:()=>y(!1),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:c.jsx(pi,{className:"w-5 h-5 text-gray-500"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:c.jsx("div",{className:"grid grid-cols-3 gap-3",children:g.map((W,xe)=>{const Te=I<W.minLevel;return c.jsxs("button",{onClick:()=>!Te&&K(W.url),disabled:Te,className:`relative aspect-square rounded-xl overflow-hidden border-2 transition-all bg-gray-50 dark:bg-gray-800 ${G===W.url?"border-emerald-500 shadow-md ring-2 ring-emerald-100 dark:ring-emerald-900/30":"border-transparent hover:border-gray-300 dark:hover:border-gray-600"} ${Te?"opacity-60 grayscale":"hover:scale-105 active:scale-95"}`,children:[c.jsx("img",{src:W.url,alt:`Avatar ${xe}`,className:"w-full h-full object-cover"}),Te&&c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 text-white backdrop-blur-[1px]",children:[c.jsx(_l,{className:"w-4 h-4 mb-0.5"}),c.jsxs("span",{className:"text-[10px] font-bold",children:[" ",W.minLevel]})]}),!Te&&G===W.url&&c.jsx("div",{className:"absolute top-1 right-1 bg-emerald-500 text-white rounded-full p-0.5 shadow-sm",children:c.jsx(ps,{className:"w-3 h-3"})})]},xe)})})}),c.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800 shrink-0",children:c.jsxs("button",{onClick:ie,disabled:s,className:"w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:[s?c.jsx(pn,{className:"w-5 h-5 animate-spin"}):c.jsx(Rd,{className:"w-5 h-5"})," "]})})]})}),_&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-2xl max-h-[85vh] flex flex-col shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden relative",children:[c.jsxs("div",{className:"p-5 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center shrink-0",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(bx,{className:"w-6 h-6 text-emerald-500"})," "]}),c.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:c.jsx(pi,{className:"w-6 h-6 text-gray-500"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:X0.map((W,xe)=>{const Te=I<W.minLevel,Xe=ae===W.url;return c.jsxs("button",{onClick:()=>!Te&&ce(W.url),disabled:Te,className:`relative h-28 rounded-2xl overflow-hidden border-4 transition-all duration-300 group ${Xe?"border-emerald-500 scale-[1.02] shadow-md":"border-transparent"} ${Te?"opacity-60 cursor-not-allowed grayscale":"hover:scale-[1.02] cursor-pointer"}`,children:[c.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${W.url})`}}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:Te?c.jsxs("div",{className:"bg-black/60 px-3 py-1.5 rounded-lg backdrop-blur-sm flex items-center gap-1.5",children:[c.jsx(_l,{className:"w-4 h-4 text-white"}),c.jsxs("span",{className:"text-xs text-white font-bold",children:[" ",W.minLevel]})]}):Xe&&c.jsx(ps,{className:"w-8 h-8 text-white drop-shadow-md"})}),c.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-black/80 to-transparent p-2 text-center",children:c.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:W.name})})]},xe)})})}),c.jsxs("div",{className:"p-5 border-t border-gray-100 dark:border-gray-800 shrink-0 flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>E(!1),className:"px-6 py-2.5 rounded-xl font-bold text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:""}),c.jsx("button",{onClick:me,disabled:s,className:"bg-emerald-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center gap-2",children:s?c.jsx(pn,{className:"w-5 h-5 animate-spin"}):" "})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[c.jsx("div",{className:"lg:col-span-7 lg:order-1 space-y-8",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[3rem] shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700 relative group",children:[c.jsxs("div",{className:`relative w-full h-48 md:h-64 transition-all duration-500 ${oe(e==null?void 0:e.profileBackground)}`,style:se(e==null?void 0:e.profileBackground),children:[c.jsxs("button",{onClick:()=>E(!0),className:"absolute top-4 left-4 bg-black/30 hover:bg-black/50 text-white backdrop-blur-md px-4 py-2 rounded-full text-xs md:text-sm font-bold flex items-center gap-2 transition-all border border-white/20 z-20",children:[c.jsx(bx,{className:"w-4 h-4"})," "]}),c.jsxs("div",{className:`absolute top-4 right-4 px-4 py-1.5 rounded-full text-xs font-black flex items-center gap-2 backdrop-blur-md shadow-lg border-2 z-10 ${M.color}`,children:[c.jsx(M.icon,{className:"w-4 h-4"}),M.title]}),c.jsx("div",{className:"absolute -bottom-12 md:-bottom-16 right-8 md:right-12 z-20",children:c.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>y(!0),children:[c.jsx("div",{className:"w-28 h-28 md:w-36 md:h-36 rounded-full border-[6px] border-white dark:border-gray-800 shadow-2xl overflow-hidden bg-white dark:bg-gray-700 relative z-10 transition-transform transform group-hover:scale-105 flex items-center justify-center",children:e!=null&&e.avatar?c.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):c.jsx($r,{className:"w-16 h-16 text-gray-300 dark:text-gray-500"})}),c.jsx("div",{className:"absolute bottom-1 right-1 bg-emerald-500 text-white p-2 rounded-full border-4 border-white dark:border-gray-800 shadow-sm z-20 hover:bg-emerald-600 transition-colors",children:c.jsx(xN,{className:"w-4 h-4"})})]})})]}),c.jsxs("div",{className:"pt-16 md:pt-20 px-8 pb-8",children:[c.jsxs("div",{className:"flex flex-col items-start",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-1",children:e==null?void 0:e.displayName}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 text-sm font-medium mb-6",children:[c.jsx("span",{children:e==null?void 0:e.email}),c.jsx("span",{className:"text-gray-300",children:""}),c.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold flex items-center gap-1",children:[c.jsx(vv,{className:"w-3 h-3"})," ",I]})]})]}),c.jsxs("form",{onSubmit:Q,className:"space-y-6 border-t border-gray-100 dark:border-gray-700 pt-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2 mb-4",children:[c.jsx($r,{className:"w-5 h-5 text-blue-500"})," "]})}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),c.jsx("input",{type:"text",value:je.firstName,onChange:W=>Ge({...je,firstName:W.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),c.jsx("input",{type:"text",value:je.lastName,onChange:W=>Ge({...je,lastName:W.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),c.jsxs("div",{className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent font-bold text-gray-900 dark:text-white flex justify-between items-center",children:[c.jsx("span",{children:(e==null?void 0:e.gender)==="male"?"":""}),!(e!=null&&e.genderChanged)&&c.jsx("button",{type:"button",onClick:()=>P(!0),className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-lg hover:bg-blue-200 transition-colors font-bold",children:""}),(e==null?void 0:e.genderChanged)&&c.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-lg border border-gray-200 dark:border-gray-600",children:[c.jsx(_l,{className:"w-3 h-3"}),""]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),c.jsx("input",{type:"text",value:je.phone,onChange:W=>Ge({...je,phone:W.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),c.jsx("input",{type:"text",value:je.address,onChange:W=>Ge({...je,address:W.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsx("div",{className:"md:col-span-2 mt-2",children:c.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2 mb-4",children:[c.jsx(Ll,{className:"w-5 h-5 text-emerald-500"})," "]})}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),c.jsx("input",{type:"text",value:je.school,onChange:W=>Ge({...je,school:W.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-emerald-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),c.jsxs("select",{value:je.grade,onChange:W=>Ge({...je,grade:W.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-emerald-500 outline-none font-bold text-gray-900 dark:text-white appearance-none cursor-pointer transition-all",children:[c.jsx("option",{value:"",children:" "}),[5,6,7,8,9,10,11,12].map(W=>c.jsxs("option",{value:W,children:[" ",W]},W)),c.jsx("option",{value:"English Major - QOU",children:"  "})]}),c.jsx("div",{className:"absolute left-4 bottom-4 pointer-events-none text-gray-500",children:c.jsx(cc,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex items-center justify-end pt-4 gap-4",children:[u&&c.jsxs("span",{className:"text-green-600 font-bold text-sm animate-fade-in flex items-center gap-1",children:[c.jsx(ps,{className:"w-4 h-4"})," ",u]}),c.jsxs("button",{type:"submit",disabled:s,className:"bg-gray-900 dark:bg-white text-white dark:text-black px-8 py-3 rounded-xl font-bold hover:opacity-90 transition-opacity flex items-center gap-2",children:[s?c.jsx(pn,{className:"w-5 h-5 animate-spin"}):c.jsx(Rd,{className:"w-5 h-5"})," "]})]})]})]})]})}),c.jsxs("div",{className:"lg:col-span-5 lg:order-2 space-y-6 mt-8 lg:mt-0",children:[c.jsxs("div",{className:"bg-gradient-to-br from-indigo-700 via-purple-700 to-fuchsia-700 rounded-[2.5rem] shadow-2xl p-6 text-white relative overflow-hidden border-4 border-white dark:border-gray-800 ring-4 ring-indigo-50 dark:ring-gray-900",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-500 opacity-20 rounded-full translate-y-1/2 -translate-x-1/2 blur-3xl"}),c.jsx("div",{className:"flex items-center justify-between mb-6 relative z-10",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-md opacity-50 rounded-full"}),c.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-300 to-orange-500 rounded-2xl shadow-lg relative border border-white/30",children:c.jsx(M.icon,{className:"w-8 h-8 text-white"})})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-3xl font-black tracking-tight",children:[" ",I]}),c.jsxs("p",{className:"text-indigo-100 text-sm font-medium flex items-center gap-1.5 mt-0.5 bg-black/20 px-3 py-1 rounded-full w-fit",children:[c.jsx(Dm,{className:"w-3.5 h-3.5 text-orange-400 fill-orange-400"}),N,"   (XP)"]})]})]})}),c.jsxs("div",{className:"relative mb-8",children:[c.jsxs("div",{className:"flex justify-between text-xs font-bold text-indigo-200 mb-1 px-1",children:[c.jsx("span",{children:M.title}),c.jsxs("span",{children:["  ",I+1]})]}),c.jsx("div",{className:"w-full bg-black/30 h-3.5 rounded-full relative overflow-hidden backdrop-blur-sm border border-white/10",children:c.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 h-full rounded-full transition-all duration-1000 ease-out relative shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${X}%`},children:c.jsx("div",{className:"absolute inset-0 bg-white/30 w-full h-full animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite]"})})})]}),c.jsxs("div",{className:"bg-black/20 rounded-2xl p-5 backdrop-blur-md border border-white/10",children:[c.jsxs("h4",{className:"text-sm font-bold text-indigo-100 mb-2 flex items-center gap-2",children:[c.jsx(dc,{className:"w-4 h-4 text-yellow-300"})," "]}),c.jsx("div",{className:"text-xl font-black text-white tracking-wide mb-1",children:M.title}),c.jsx("div",{className:"text-xs text-indigo-200",children:"     !"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 max-h-[500px] overflow-hidden flex flex-col",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2 sticky top-0 bg-white dark:bg-gray-800 z-10 pb-2 border-b border-gray-100 dark:border-gray-700",children:[c.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:c.jsx(fx,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),"  "]}),$?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx(pn,{className:"w-6 h-6 animate-spin text-blue-500"})}):ve.length===0?c.jsxs("div",{className:"text-center py-12 text-gray-400 flex flex-col items-center gap-3",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center",children:c.jsx(fx,{className:"w-8 h-8 opacity-50"})}),c.jsx("p",{className:"font-medium",children:"     "})]}):c.jsx("div",{className:"space-y-3 overflow-y-auto pr-2 custom-scrollbar",children:[...ve].reverse().map(W=>c.jsxs("div",{className:"p-4 rounded-2xl border border-gray-100 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-800 hover:bg-blue-50/50 dark:hover:bg-blue-900/20 transition-all group relative overflow-hidden",children:[c.jsx("div",{className:`absolute right-0 top-0 bottom-0 w-1.5 ${W.passed?"bg-emerald-500":"bg-red-500"}`}),c.jsxs("div",{className:"flex justify-between items-start mb-3 pr-3",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-sm md:text-base line-clamp-1 mb-1",children:W.quizTitle}),c.jsxs("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 flex items-center gap-1.5 bg-gray-100 dark:bg-gray-700 w-fit px-2 py-1 rounded-md",children:[c.jsx(fv,{className:"w-3.5 h-3.5 text-gray-400 dark:text-gray-500"}),YC(W.createdAt)]})]}),c.jsx("div",{className:"flex flex-col items-end gap-1",children:W.passed?c.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-100 dark:bg-emerald-900/30 px-2 py-0.5 rounded-full",children:[c.jsx(ps,{className:"w-3 h-3"})," "]}):c.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30 px-2 py-0.5 rounded-full",children:[c.jsx(mv,{className:"w-3 h-3"})," "]})})]}),c.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 dark:text-gray-400 border-t border-dashed border-gray-200 dark:border-gray-600 pt-2 pr-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300 font-medium",children:W.subject}),c.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold bg-emerald-50 dark:bg-emerald-900/20 px-2 py-0.5 rounded-md flex items-center gap-1",children:[c.jsx(vx,{className:"w-3 h-3"}),W.passed?"+50 XP":"+10 XP"]})]}),c.jsxs("span",{className:`font-black text-lg ${W.percentage>=50?"text-emerald-600 dark:text-emerald-400":"text-red-500 dark:text-red-400"}`,children:[W.percentage,"%"]})]})]},W.id))})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:c.jsx(vx,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"  "]}),$?c.jsx("div",{className:"h-48 flex items-center justify-center",children:c.jsx(pn,{className:"w-6 h-6 animate-spin text-emerald-500"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsx(KC,{data:Ve}),c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-700",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-300 text-sm font-bold",children:" "}),c.jsxs("span",{className:`font-black text-xl ${Ve.length>0&&Ve.reduce((W,xe)=>W+xe,0)/Ve.length>=90?"text-emerald-600 dark:text-emerald-400":"text-blue-600 dark:text-blue-400"}`,children:[Ve.length>0?Math.round(Ve.reduce((W,xe)=>W+xe,0)/Ve.length):0,"%"]})]})]})]})]})]})]})},WC=[{id:"All",label:" (All)"},{id:"Language",label:"Language ()"},{id:"Reading",label:"Reading ()"},{id:"Writing",label:"Writing ()"},{id:"Vocabulary",label:"Vocabulary ()"},{id:"General",label:"  (General Quiz)"}],W0=({options:a,value:e,onChange:n,placeholder:s,disabled:l})=>{const[u,f]=ne.useState(!1),g=ne.useRef(null);ne.useEffect(()=>{const y=_=>{g.current&&!g.current.contains(_.target)&&f(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const p=a.find(y=>y.value===e&&!y.isHeader);return c.jsxs("div",{className:`relative ${u?"z-50":"z-0"}`,ref:g,children:[c.jsxs("button",{type:"button",onClick:()=>!l&&f(!u),className:`w-full px-5 py-4 rounded-2xl font-bold text-right border-2 flex justify-between items-center outline-none transition-all
            ${l?"bg-gray-100 dark:bg-gray-800 border-gray-100 dark:border-gray-700 text-gray-400 cursor-not-allowed":u?"bg-white dark:bg-gray-800 border-emerald-500 ring-4 ring-emerald-50 dark:ring-emerald-900/20 text-gray-900 dark:text-white shadow-lg":"bg-gray-50 dark:bg-gray-700 border-transparent hover:border-emerald-200 dark:hover:border-emerald-700 text-gray-900 dark:text-white shadow-sm"}
         `,children:[c.jsx("span",{className:`truncate ${p?"":"text-gray-400 dark:text-gray-500"}`,children:p?p.label:s}),c.jsx(cc,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${u?"rotate-180 text-emerald-500":""}`})]}),u&&c.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl shadow-xl max-h-72 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-50",children:[a.map((y,_)=>{if(y.isHeader)return c.jsx("div",{className:"px-4 py-2 text-xs font-black text-gray-400 dark:text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-50/50 dark:bg-gray-700/50 rounded-lg mb-1",children:y.label},_);const E=y.value===e;return c.jsxs("div",{onClick:()=>{n(y.value),f(!1)},className:`px-4 py-3 rounded-xl font-bold text-sm cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${E?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}
                   `,children:[y.label,E&&c.jsx(Im,{className:"w-4 h-4"})]},_)}),a.length===0&&c.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"   "})]})]})},ZC=({onBack:a})=>{const{user:e}=Os(),[n,s]=ne.useState("SELECTION"),[l,u]=ne.useState(""),[f,g]=ne.useState(""),[p,y]=ne.useState("All"),[_,E]=ne.useState([]),[j,P]=ne.useState(!1),[F,re]=ne.useState(null),[G,K]=ne.useState(0),[ae,ce]=ne.useState({}),[ve,ue]=ne.useState(1800),[$,k]=ne.useState(!1),[N,S]=ne.useState(0),[I,R]=ne.useState(!1),[M,A]=ne.useState(null),[je,Ge]=ne.useState(!1),[Q,ie]=ne.useState(!1),[me,Oe]=ne.useState(!1),[Ve,D]=ne.useState(0),[X,se]=ne.useState(!1),[oe,W]=ne.useState(null);ne.useEffect(()=>{window.scrollTo(0,0)},[n]),ne.useEffect(()=>{f?xe():E([])},[f]),ne.useEffect(()=>{let _e;return n==="ACTIVE"&&ve>0&&(_e=setInterval(()=>{ue(Le=>Le<=1?(on(),0):Le-1)},1e3)),()=>clearInterval(_e)},[n,ve]),ne.useEffect(()=>{if(n!=="ACTIVE")return;const _e=()=>{D(gt=>{const Xt=gt+1;return Xt===1?ie(!0):Xt>=2&&(ie(!1),Oe(!0)),Xt})},Le=()=>{document.hidden&&_e()},We=gt=>{(gt.key==="PrintScreen"||gt.ctrlKey&&gt.key==="p"||gt.metaKey&&gt.shiftKey)&&(gt.preventDefault(),_e())},pe=gt=>gt.preventDefault();return document.addEventListener("visibilitychange",Le),document.addEventListener("keydown",We),document.addEventListener("contextmenu",pe),document.addEventListener("copy",pe),document.addEventListener("paste",pe),document.addEventListener("cut",pe),document.addEventListener("selectstart",pe),()=>{document.removeEventListener("visibilitychange",Le),document.removeEventListener("keydown",We),document.removeEventListener("contextmenu",pe),document.removeEventListener("copy",pe),document.removeEventListener("paste",pe),document.removeEventListener("cut",pe),document.removeEventListener("selectstart",pe)}},[n]);const xe=async()=>{P(!0);try{const _e=Ml(js(An,"quizzes"),Vl("grade","==",f)),Le=await Pc(_e),We=[];Le.forEach(pe=>{We.push({id:pe.id,...pe.data()})}),E(We)}catch(_e){console.error("Error fetching quizzes:",_e)}finally{P(!1)}},Te=Array.from(new Set(_.map(_e=>_e.subject))),Xe=_.filter(_e=>{const Le=l?_e.subject===l:!0,We=p&&p!=="All"?_e.category===p:!0;return Le&&We}),ye=_e=>{A(_e),R(!0)},mt=()=>{if(M){if(!M.questions||M.questions.length===0){alert("      ");return}re(M),K(0),ce({}),ue(1800),S(0),D(0),Oe(!1),R(!1),A(null),s("ACTIVE")}},zn=_e=>{ce(Le=>({...Le,[G]:_e}))},ln=()=>{F&&(G<F.questions.length-1?K(_e=>_e+1):on())},on=async()=>{if(!F||!e){s("RESULT");return}k(!0);const _e=_r(),Le=Math.round(_e/F.questions.length*100);let We=10+Le*2;Le>=50&&(We+=50),Le===100&&(We+=100);const pe=Math.round(We);S(pe);try{await Zw(js(An,"quiz_results"),{userId:e.uid,userName:e.displayName,quizId:F.id||"unknown",quizTitle:F.title,subject:F.subject,score:_e,totalQuestions:F.questions.length,percentage:Le,passed:Le>=50,earnedXP:pe,createdAt:jm()});const gt=_i(An,"users",e.uid);await Xw(gt,{totalXP:Z1(pe),quizzesCompleted:Z1(1),lastQuizDate:jm(),role:"student",email:e.email,displayName:e.displayName},{merge:!0})}catch(gt){console.error("Error saving quiz result:",gt)}finally{k(!1),s("RESULT")}},Ft=_e=>{const Le=Math.floor(_e/60),We=_e%60;return`${Le}:${We<10?"0":""}${We}`},_r=()=>{if(!F)return 0;let _e=0;return F.questions.forEach((Le,We)=>{ae[We]===Le.correctAnswer&&_e++}),_e},Bn=()=>{Ge(!0)},wr=()=>{Ge(!1),s("SELECTION")},Ms=()=>{Oe(!1),s("SELECTION")},ut=_e=>{W(_e),se(!0)},Tt=()=>{se(!1),oe==="REVIEW"?s("REVIEW"):oe==="RETAKE"?(K(0),ce({}),ue(1800),S(0),D(0),s("ACTIVE")):oe==="LIST"?s("SELECTION"):oe==="HOME"&&a(),W(null)},Er=()=>{const _e=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(pe=>({label:` ${pe}`,value:pe.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"   -   ",value:"English Major - QOU"}],Le=[{label:"  ",value:""},...Te.map(pe=>({label:String(pe),value:String(pe)}))],We=WC.map(pe=>({label:pe.label,value:pe.id}));return c.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 animate-fade-in",children:[c.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(156, 163, 175, 0.5);
          border-radius: 20px;
        }
      `}),c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-black text-gray-900 dark:text-white mb-2",children:" "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm md:text-base",children:"       "})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-6",children:[c.jsxs("div",{className:"lg:col-span-7 bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative z-30",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:c.jsx(Ll,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"     "]}),c.jsx(W0,{options:_e,value:f,onChange:pe=>{g(pe),u(""),y("All")},placeholder:"--    --"})]}),c.jsxs("div",{className:"lg:col-span-5 bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative z-20",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:c.jsx(ta,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})," "]}),c.jsx(W0,{options:Le,value:l,onChange:u,placeholder:f?" ":"   ",disabled:!f}),!f&&c.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-500 mt-2 font-medium flex items-center gap-1",children:"*    "})]})]}),f&&c.jsx("div",{className:"mb-10 animate-fade-in relative z-10",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:c.jsx(yv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"  ()"]}),c.jsx(W0,{options:We,value:p,onChange:y,placeholder:"  "})]})}),f&&c.jsxs("div",{className:"space-y-6 animate-fade-in-up relative z-0",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 border-r-4 border-emerald-500 pr-3 flex items-center gap-2",children:[c.jsx(mx,{className:"w-5 h-5"})," "]}),j?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx(pn,{className:"w-8 h-8 animate-spin text-emerald-600 dark:text-emerald-400"})}):_.length===0?c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300 dark:border-gray-600",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Al,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"      "})]}):Xe.length===0?c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300 dark:border-gray-600",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Al,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"     "})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Xe.map(pe=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md hover:border-emerald-300 dark:hover:border-emerald-600 transition-all group",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 text-[10px] font-bold px-2 py-1 rounded-md w-fit",children:pe.subject}),pe.category&&c.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-[10px] font-bold px-2 py-1 rounded-md w-fit border border-blue-100 dark:border-blue-800",children:pe.category==="General"?"General Quiz":pe.category})]}),c.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:[pe.questions.length," "]})]}),c.jsx("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2 line-clamp-2",children:pe.title}),c.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400 text-xs mb-5",children:[c.jsx(Id,{className:"w-3 h-3"}),c.jsx("span",{children:pe.grade==="English Major - QOU"?"  ":` ${pe.grade}`})]}),c.jsxs("button",{onClick:()=>ye(pe),className:"w-full bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800 py-2.5 rounded-xl font-bold text-sm group-hover:bg-emerald-600 group-hover:text-white transition-all flex items-center justify-center gap-2",children:[" ",c.jsx(Sd,{className:"w-4 h-4"})]})]},pe.id))})]}),I&&c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>R(!1)}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-gray-100 dark:border-gray-800",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Sl,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:"  "}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:["   ",c.jsx("strong",{children:M==null?void 0:M.title})," "]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:mt,className:"flex-1 bg-emerald-600 text-white py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-colors",children:" "}),c.jsx("button",{onClick:()=>R(!1),className:"flex-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-2.5 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""})]})]})]})]})},Ql=()=>{if(!F||!F.questions||!F.questions[G])return c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 gap-4",children:[c.jsx("div",{className:"text-red-500 font-bold text-lg",children:"    "}),c.jsx("button",{onClick:()=>s("SELECTION"),className:"text-blue-600 dark:text-blue-400 underline",children:" "})]});const _e=F.questions[G],Le=ae[G]!==void 0,We=G===F.questions.length-1,pe=F.subject.toLowerCase().includes("english")||F.subject.includes("")||F.subject.includes(""),gt=pe?"ltr":"rtl",Xt=pe?"text-left":"text-right",ar={sm:"text-sm leading-relaxed",md:"text-base leading-relaxed",lg:"text-xl leading-loose",xl:"text-2xl leading-loose"}[_e.passageFontSize||"md"];return c.jsxs("div",{className:"fixed inset-0 z-[9999] bg-gray-50 dark:bg-gray-900 overflow-y-auto select-none",onContextMenu:Tr=>Tr.preventDefault(),style:{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTouchCallout:"none"},children:[me&&c.jsx("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center px-4 bg-black/90 backdrop-blur-md",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-8 max-w-sm w-full relative z-20 animate-bounce text-center border-4 border-red-600 shadow-[0_0_50px_rgba(220,38,38,0.5)]",children:[c.jsx("div",{className:"w-24 h-24 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:c.jsx(CN,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),c.jsx("h3",{className:"text-3xl font-black text-red-600 mb-4",children:"   "}),c.jsxs("p",{className:"text-gray-800 dark:text-gray-200 font-bold mb-8 text-lg leading-relaxed",children:["      .",c.jsx("br",{}),c.jsx("span",{className:"text-red-500 block mt-2",children:"     ."})]}),c.jsx("button",{onClick:Ms,className:"w-full bg-red-600 text-white py-4 rounded-xl font-black text-xl hover:bg-red-700 transition-all shadow-lg transform hover:scale-105",children:""})]})}),Q&&!me&&c.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-red-900/80 backdrop-blur-sm"}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-20 animate-bounce text-center border-4 border-red-500 shadow-2xl",children:[c.jsx("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:c.jsx(xv,{className:"w-10 h-10 text-red-600 dark:text-red-400"})}),c.jsx("h3",{className:"text-2xl font-black text-red-600 mb-2",children:" !"}),c.jsxs("p",{className:"text-gray-800 dark:text-gray-200 font-bold mb-4",children:["         .",c.jsx("br",{}),c.jsx("span",{className:"text-red-500 dark:text-red-400 text-sm mt-2 block",children:"       ."})]}),c.jsx("button",{onClick:()=>ie(!1),className:"w-full bg-red-600 text-white py-3 rounded-xl font-bold hover:bg-red-700 transition-colors",children:"  "})]})]}),je&&c.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>Ge(!1)}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-gray-100 dark:border-gray-800",children:[c.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Cd,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),c.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:" "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:"           ."}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:wr,className:"flex-1 bg-red-600 text-white py-2.5 rounded-xl font-bold hover:bg-red-700 transition-colors",children:" "}),c.jsx("button",{onClick:()=>Ge(!1),className:"flex-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-2.5 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50 shadow-sm",children:[c.jsxs("div",{className:"max-w-4xl mx-auto px-3 h-14 flex justify-between items-center",children:[c.jsxs("button",{onClick:Bn,className:"flex items-center gap-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1.5 rounded-lg transition-colors font-bold text-sm",children:[c.jsx(Cd,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:""})]}),c.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center",children:c.jsxs("div",{className:`flex items-center gap-2 px-4 py-1 rounded-full font-mono font-bold text-base shadow-inner ${ve<300?"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-200 animate-pulse":"bg-gray-100 dark:bg-gray-700 text-emerald-700 dark:text-emerald-400"}`,children:[c.jsx(gv,{className:"w-4 h-4"}),Ft(ve)]})}),c.jsxs("div",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:[G+1," / ",F.questions.length]})]}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-1.5",children:c.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-500 ease-out",style:{width:`${(G+1)/F.questions.length*100}%`}})})]}),c.jsxs("div",{className:"max-w-3xl mx-auto px-3 py-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-fade-in-up",dir:gt,children:[c.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/20 border-b border-emerald-100 dark:border-emerald-800 p-4 flex items-center justify-between",children:[c.jsx("h2",{className:"font-black text-gray-800 dark:text-gray-200 text-base md:text-lg",children:F.title}),c.jsx("div",{className:"bg-white dark:bg-gray-700 p-1.5 rounded-lg shadow-sm border border-gray-100 dark:border-gray-600",children:c.jsx(_l,{className:"w-4 h-4 text-gray-400"})})]}),c.jsxs("div",{className:"p-5 md:p-8",children:[_e.passageContent&&c.jsxs("div",{className:"mb-8",children:[_e.generalInstruction&&c.jsx("div",{className:`text-gray-500 dark:text-gray-400 font-bold mb-3 text-sm bg-gray-100 dark:bg-gray-700/50 px-3 py-2 rounded-lg border-l-4 border-emerald-500 ${Xt}`,children:_e.generalInstruction}),c.jsx("div",{className:`bg-blue-50 dark:bg-blue-900/20 p-5 rounded-2xl border border-blue-100 dark:border-blue-800 ${Xt}`,children:c.jsx("div",{className:`text-gray-800 dark:text-gray-200 whitespace-pre-wrap font-medium ${ar}`,children:_e.passageContent})})]}),c.jsx("h3",{className:`text-lg md:text-2xl font-black text-black dark:text-white leading-relaxed mb-8 ${Xt}`,children:_e.question}),c.jsx("div",{className:"space-y-3",children:_e.options.map((Tr,Ct)=>c.jsxs("button",{onClick:()=>zn(Ct),className:`w-full ${Xt} p-4 rounded-xl border-2 transition-all flex items-center justify-between group hover:scale-[1.01] active:scale-[0.99] duration-200 ${ae[G]===Ct?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/30 shadow-md ring-2 ring-emerald-100 dark:ring-emerald-900":"border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-600 shadow-sm"}`,children:[c.jsx("span",{className:`text-base font-bold ${ae[G]===Ct?"text-emerald-900 dark:text-emerald-300":"text-gray-700 dark:text-gray-300"}`,children:Tr}),c.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 ml-2 transition-colors ${ae[G]===Ct?"border-emerald-600 bg-emerald-600":"border-gray-300 dark:border-gray-600 group-hover:border-emerald-400"}`,children:ae[G]===Ct&&c.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]},Ct))})]})]}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:ln,disabled:!Le||$,className:`w-full sm:w-auto px-8 py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-lg transition-all ${!Le||$?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed shadow-none":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-emerald-200 dark:hover:shadow-none active:scale-95"}`,children:$?c.jsxs(c.Fragment,{children:["  ",c.jsx(pn,{className:"w-5 h-5 animate-spin"})]}):c.jsxs(c.Fragment,{children:[We?" ":" ",gt==="rtl"?c.jsx(Sd,{className:"w-5 h-5"}):c.jsx(Kr,{className:"w-5 h-5"})]})})})]})]})},Ai=()=>{if(!F)return null;const _e=_r(),Le=_e/F.questions.length*100;return c.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8 animate-fade-in-up",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[c.jsxs("div",{className:"bg-emerald-600 dark:bg-emerald-700 p-6 text-center text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-20"}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3 backdrop-blur-sm",children:c.jsx(gi,{className:"w-10 h-10 text-white"})}),c.jsx("h2",{className:"text-2xl font-black mb-1",children:" "}),c.jsx("p",{className:"text-emerald-100 text-base opacity-90",children:F.title})]})]}),c.jsxs("div",{className:"p-6 md:p-10 text-center",children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:`text-5xl font-black ${Le>=50?"text-emerald-600 dark:text-emerald-400":"text-red-500 dark:text-red-400"}`,children:_e}),c.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-3xl font-bold",children:["/ ",F.questions.length]})]}),c.jsx("div",{className:"flex justify-center items-center gap-2 mt-4 mb-6 animate-bounce",children:c.jsxs("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-6 py-2 rounded-full font-black text-lg shadow-lg shadow-orange-200 flex items-center gap-2",children:[c.jsx(Dm,{className:"w-5 h-5 fill-white"}),"+",N," XP"]})}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-base mb-8 px-4",children:Le>=90?"!   .":Le>=75?" !  .":Le>=50?"   .":"    ."}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("button",{onClick:()=>ut("REVIEW"),className:"w-full py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-emerald-200 dark:shadow-none",children:[c.jsx(Z0,{className:"w-5 h-5"})," "]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>ut("RETAKE"),className:"py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-sm shadow-lg shadow-emerald-200 dark:shadow-none",children:[c.jsx(NN,{className:"w-4 h-4"})," "]}),c.jsxs("button",{onClick:()=>ut("LIST"),className:"py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-sm shadow-lg shadow-emerald-200 dark:shadow-none",children:[c.jsx(mx,{className:"w-4 h-4"})," "]})]}),c.jsxs("button",{onClick:()=>ut("HOME"),className:"w-full py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-emerald-200 dark:shadow-none",children:[c.jsx(em,{className:"w-5 h-5"}),"  "]})]})]})]})})},Yt=()=>{if(!F)return null;const _e=F.subject.toLowerCase().includes("english")||F.subject.includes("")||F.subject.includes(""),Le=_e?"ltr":"rtl",We=_e?"text-left":"text-right";return c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(Z0,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})," "]}),c.jsxs("button",{onClick:()=>s("RESULT"),className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white font-medium flex items-center gap-1 text-sm",children:[c.jsx(Kr,{className:"w-4 h-4"})," "]})]}),c.jsx("div",{className:"space-y-6",children:F.questions.map((pe,gt)=>{const Xt=ae[gt],ar=Xt===pe.correctAnswer,Tr={sm:"text-sm leading-relaxed",md:"text-base leading-relaxed",lg:"text-xl leading-loose",xl:"text-2xl leading-loose"}[pe.passageFontSize||"md"];return c.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-sm border p-5 ${ar?"border-gray-100 dark:border-gray-700":"border-red-100 dark:border-red-900/50"}`,dir:Le,children:[pe.passageContent&&c.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-100 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-1 rounded-md",children:c.jsx(bv,{className:"w-4 h-4 text-blue-600"})}),c.jsx("span",{className:"text-xs font-bold text-gray-500",children:" "})]}),c.jsx("div",{className:`text-gray-600 dark:text-gray-300 whitespace-pre-wrap bg-gray-50 dark:bg-gray-700/30 p-3 rounded-xl ${We} ${Tr}`,children:pe.passageContent})]}),c.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[c.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shrink-0 mt-0.5 ${ar?"bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"}`,children:gt+1}),c.jsx("h3",{className:`text-base font-bold text-gray-900 dark:text-white leading-relaxed ${We}`,children:pe.question})]}),c.jsx("div",{className:"space-y-2 mb-4",children:pe.options.map((Ct,bt)=>{let Wt="p-3 rounded-xl border flex items-center justify-between text-sm ";return bt===pe.correctAnswer?Wt+="bg-emerald-50 dark:bg-emerald-900/30 border-emerald-500 text-emerald-900 dark:text-emerald-300 font-bold":bt===Xt&&!ar?Wt+="bg-red-50 dark:bg-red-900/30 border-red-500 text-red-900 dark:text-red-300 font-medium opacity-75":Wt+="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400 opacity-60",c.jsxs("div",{className:Wt,children:[c.jsx("span",{className:We,children:Ct}),bt===pe.correctAnswer&&c.jsx(Im,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),bt===Xt&&!ar&&c.jsx(mv,{className:"w-4 h-4 text-red-600 dark:text-red-400"})]},bt)})}),pe.explanation&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 p-3 rounded-xl text-blue-900 dark:text-blue-300 text-sm leading-relaxed flex items-start gap-2",dir:"rtl",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-1 rounded-full mt-0.5 shrink-0",children:c.jsx(ta,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"w-full",children:[c.jsx("span",{className:"font-bold block mb-1 text-right text-xs",children:" :"}),c.jsx("div",{className:We,dir:Le,children:pe.explanation})]})]})]},pe.id)})})]})};return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 pb-20",children:[n==="SELECTION"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-4 px-4 sticky top-0 z-30",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:[c.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:c.jsx(Kr,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),c.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:" "})]})}),Er()]}),n==="ACTIVE"&&Ql(),n==="RESULT"&&Ai(),n==="REVIEW"&&Yt(),X&&c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>se(!1)}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-gray-100 dark:border-gray-800",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Sl,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:"  "}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:[oe==="REVIEW"&&"   ",oe==="RETAKE"&&"     ",oe==="LIST"&&"    ",oe==="HOME"&&"    "]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:Tt,className:"flex-1 bg-emerald-600 text-white py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-colors",children:""}),c.jsx("button",{onClick:()=>se(!1),className:"flex-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-2.5 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""})]})]})]})]})},JC=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),eR=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),tR=({onBack:a})=>{const e=[{name:".   ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",title:"  ",school:"  ",location:" ",color:"emerald",bio:"         .              .",skills:["  ","  "," ","  "],social:{facebook:"#",whatsapp:"https://wa.me/972568401548",telegram:"https://t.me/yazan1342"}},{name:".   ",image:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",title:"  ",school:"  ",location:" ",color:"blue",bio:"       .                .",skills:[" "," "," ","  "],social:{facebook:"#",whatsapp:"#",telegram:"#"}}];return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-6xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[c.jsx(Kr,{className:"w-6 h-6"})," "]})})}),c.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:"  "}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"       "})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map((n,s)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700 flex flex-col h-full hover:shadow-2xl transition-shadow duration-300",children:[c.jsx("div",{className:`bg-${n.color}-600 h-32 relative`,children:c.jsx("div",{className:"absolute -bottom-12 right-8",children:c.jsx("div",{className:"w-24 h-24 bg-white dark:bg-gray-700 p-1 rounded-2xl shadow-lg transform rotate-3",children:c.jsx("div",{className:`w-full h-full bg-${n.color}-50 dark:bg-${n.color}-900/30 rounded-xl flex items-center justify-center overflow-hidden`,children:c.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})})})})}),c.jsxs("div",{className:"pt-16 pb-8 px-8 flex-1 flex flex-col",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:n.name}),c.jsx("p",{className:`text-${n.color}-600 dark:text-${n.color}-400 font-bold text-lg mb-4`,children:n.title}),c.jsxs("div",{className:"flex flex-col gap-2 text-gray-500 dark:text-gray-400 text-sm mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(hv,{className:"w-4 h-4"}),n.school]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tm,{className:"w-4 h-4"}),n.location]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[c.jsx(Om,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"})," "]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:n.bio})]})]}),c.jsxs("div",{className:"mt-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[c.jsx(gi,{className:`w-5 h-5 text-${n.color}-600 dark:text-${n.color}-400`})," "]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((l,u)=>c.jsx("span",{className:`bg-${n.color}-50 dark:bg-${n.color}-900/20 text-${n.color}-700 dark:text-${n.color}-300 px-3 py-1 rounded-lg text-sm font-medium`,children:l},u))})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-700",children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 text-sm",children:" "}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("a",{href:n.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:c.jsx(J0,{className:"w-5 h-5"})}),c.jsx("a",{href:n.social.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 flex items-center justify-center hover:bg-green-600 hover:text-white transition-all",children:c.jsx(JC,{className:"w-5 h-5"})}),c.jsx("a",{href:n.social.telegram,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-sky-50 dark:bg-sky-900/20 text-sky-600 dark:text-sky-400 flex items-center justify-center hover:bg-sky-600 hover:text-white transition-all",children:c.jsx(eR,{className:"w-5 h-5"})})]})]})]})]})]},s))})]})]})},nR=({onBack:a})=>c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[c.jsx(Kr,{className:"w-6 h-6"})," "]})})}),c.jsx("div",{className:"relative bg-emerald-600 dark:bg-emerald-800 py-20 overflow-hidden",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10 text-center",children:[c.jsx("span",{className:"bg-emerald-500/50 dark:bg-emerald-700/50 text-white px-4 py-1 rounded-full text-sm font-medium mb-6 inline-block backdrop-blur-sm",children:"    "}),c.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight",children:["   ",c.jsx("br",{}),"   "]}),c.jsx("p",{className:"text-emerald-100 text-xl max-w-2xl mx-auto leading-relaxed",children:"                    ."})]})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-20",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6",children:c.jsx(Z0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),c.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-4",children:""}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg",children:"                   ."})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center mb-6",children:c.jsx(BN,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-4",children:""}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg",children:"                  ."})]})]}),c.jsxs("div",{className:"mb-20",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:"   "}),c.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:IN,title:" ",desc:"       ."},{icon:ZT,title:" ",desc:"           ."},{icon:TT,title:" ",desc:"         ."},{icon:JN,title:" ",desc:"          ."}].map((e,n)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl border border-gray-100 dark:border-gray-700 text-center hover:border-emerald-300 dark:hover:border-emerald-600 transition-all group",children:[c.jsx("div",{className:"w-14 h-14 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/30 transition-colors",children:c.jsx(e.icon,{className:"w-7 h-7 text-gray-600 dark:text-gray-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-400"})}),c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg mb-2",children:e.title}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed",children:e.desc})]},n))})]})]})]}),rR=({onBack:a})=>c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in flex flex-col transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[c.jsx(Kr,{className:"w-6 h-6"})," "]})})}),c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-12 rounded-3xl shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700 max-w-md w-full flex flex-col items-center transform hover:scale-105 transition-transform duration-300",children:[c.jsx("div",{className:"w-24 h-24 bg-emerald-50 dark:bg-emerald-900/20 rounded-full flex items-center justify-center mb-6 animate-bounce",children:c.jsx(gv,{className:"w-12 h-12 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-3",children:""}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg font-medium",children:"        "})]})})]}),aR=({onBack:a})=>{const[e,n]=ne.useState(""),[s,l]=ne.useState(""),[u,f]=ne.useState("SELECTION"),[g,p]=ne.useState(["handouts"]),[y,_]=ne.useState([]),[E,j]=ne.useState(!1);ne.useEffect(()=>{u==="CONTENT"&&s&&e&&P()},[u,s,e]);const P=async()=>{j(!0);try{const ue=Ml(js(An,"study_materials"),Vl("grade","==",s),Vl("subject","==",e)),$=await Pc(ue),k=[];$.forEach(N=>{k.push({id:N.id,...N.data()})}),k.sort((N,S)=>{var M,A;const I=((M=N.createdAt)==null?void 0:M.seconds)||0;return(((A=S.createdAt)==null?void 0:A.seconds)||0)-I}),_(k)}catch(ue){console.error("Error fetching materials:",ue)}finally{j(!1)}},F=()=>{e&&s&&f("CONTENT")},re=ue=>{p($=>$.includes(ue)?$.filter(k=>k!==ue):[...$,ue])},G=()=>{const ue=y.filter(N=>N.category==="handouts"),$=y.filter(N=>N.category==="worksheets"),k=y.filter(N=>N.category==="exams");return[{id:"handouts",title:" ",files:ue},{id:"worksheets",title:" ",files:$},{id:"exams",title:" ",files:k}]},K=ue=>ue?(ue.toDate?ue.toDate():new Date(ue.seconds*1e3)).toLocaleDateString("ar-EG"):"",ae=G(),ce=()=>c.jsxs("div",{className:"w-full animate-fade-in pb-20 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[c.jsxs("div",{className:"relative pt-32 pb-56 px-4 overflow-hidden rounded-b-[3.5rem] shadow-2xl shadow-gray-200 dark:shadow-none mb-20",children:[c.jsxs("div",{className:"absolute inset-0 z-0",children:[c.jsx("img",{src:"https://lh3.googleusercontent.com/d/1gSDH-0a3cWa8m8APr5qXGkKxINXZcSid",alt:"Background",className:"w-full h-full object-cover object-center scale-105"}),c.jsx("div",{className:"absolute inset-0 bg-emerald-900/70 mix-blend-multiply"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/40"})]}),c.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[c.jsx("div",{className:"inline-flex items-center justify-center p-5 bg-white/10 backdrop-blur-md rounded-3xl mb-6 border border-white/20 shadow-inner ring-1 ring-white/30 animate-fade-in-up",children:c.jsx(ud,{className:"w-10 h-10 text-white drop-shadow-md"})}),c.jsx("h2",{className:"text-5xl md:text-7xl font-black text-white mb-6 tracking-tight drop-shadow-2xl animate-fade-in-up delay-100",children:"  "}),c.jsx("p",{className:"text-white/95 text-xl md:text-2xl max-w-3xl mx-auto font-medium leading-relaxed drop-shadow-lg mb-8 animate-fade-in-up delay-200",children:"         PDF.      ."})]})]}),c.jsx("div",{className:"max-w-4xl mx-auto px-6 -mt-40 relative z-20 animate-fade-in-up delay-300",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2.5rem] shadow-2xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 p-8 md:p-12 backdrop-blur-xl",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[c.jsxs("div",{className:"group",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/40 transition-colors",children:c.jsx(ta,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})," "]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:e,onChange:ue=>n(ue.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border-2 border-transparent hover:border-emerald-200 dark:hover:border-emerald-700 focus:border-emerald-500 focus:bg-white dark:focus:bg-gray-800 focus:ring-4 focus:ring-emerald-100 dark:focus:ring-emerald-900/30 outline-none transition-all text-lg font-bold text-gray-800 dark:text-gray-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",className:"text-gray-400 dark:text-gray-500",children:" "}),c.jsx("option",{value:"English",children:"  (English)"}),c.jsx("option",{value:"Math",children:""}),c.jsx("option",{value:"Science",children:""})]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:c.jsx(tc,{className:"w-5 h-5 -rotate-90"})})]})]}),c.jsxs("div",{className:"group",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2 group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors",children:[c.jsx("div",{className:"p-2 bg-teal-50 dark:bg-teal-900/20 rounded-lg group-hover:bg-teal-100 dark:group-hover:bg-teal-900/40 transition-colors",children:c.jsx(Ll,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})})," "]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:s,onChange:ue=>l(ue.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border-2 border-transparent hover:border-teal-200 dark:hover:border-teal-700 focus:border-emerald-500 focus:bg-white dark:focus:bg-gray-800 focus:ring-4 focus:ring-emerald-100 dark:focus:ring-emerald-900/30 outline-none transition-all text-lg font-bold text-gray-800 dark:text-gray-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",className:"text-gray-400 dark:text-gray-500",children:" "}),c.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(ue=>c.jsxs("option",{value:ue.toString(),children:[" ",ue]},ue))}),c.jsx("optgroup",{label:" ",children:c.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:c.jsx(tc,{className:"w-5 h-5 -rotate-90"})})]})]})]}),c.jsxs("button",{onClick:F,disabled:!e||!s,className:`w-full py-5 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all shadow-lg ${!e||!s?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed shadow-none":"bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 hover:shadow-emerald-300 dark:hover:shadow-emerald-900/50 hover:-translate-y-1"}`,children:[c.jsx(Al,{className:"w-6 h-6"})," "]})]})})]}),ve=()=>c.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8 animate-fade-in-up min-h-screen",children:[c.jsxs("div",{className:"text-center mb-8 bg-white dark:bg-gray-800 p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-teal-500"}),c.jsx("div",{className:"w-16 h-16 bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.jsx(jd,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsxs("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2",children:[" ",e]}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-sm md:text-base",children:["        ",c.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:s==="English Major - QOU"?"  ":s})]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("button",{onClick:()=>f("SELECTION"),className:"flex items-center gap-2 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 px-5 py-3 rounded-xl font-bold shadow-sm border border-gray-200 dark:border-gray-700 hover:border-emerald-300 dark:hover:border-emerald-600 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all hover:-translate-y-0.5",children:[c.jsx(Kr,{className:"w-5 h-5"})," "]}),c.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs font-bold text-gray-400 bg-gray-50 dark:bg-gray-800 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsx(ud,{className:"w-3.5 h-3.5"}),ae.reduce((ue,$)=>ue+$.files.length,0)," "]})]}),E?c.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[c.jsx(pn,{className:"w-10 h-10 animate-spin text-emerald-600 dark:text-emerald-400"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold",children:"  ..."})]}):c.jsx("div",{className:"space-y-4",children:ae.map(ue=>{const $=g.includes(ue.id);return c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[c.jsxs("button",{onClick:()=>re(ue.id),className:`w-full flex items-center justify-between p-5 transition-colors ${$?"bg-gray-50/50 dark:bg-gray-700/30":"hover:bg-gray-50 dark:hover:bg-gray-700/30"}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-2.5 rounded-xl ${$?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:c.jsx(ud,{className:"w-6 h-6"})}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"font-bold text-base text-gray-900 dark:text-white block",children:ue.title}),c.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:[ue.files.length," "]})]})]}),c.jsx("div",{className:`transition-transform duration-300 ${$?"rotate-180":""}`,children:c.jsx(cc,{className:"w-5 h-5 text-gray-400"})})]}),$&&c.jsx("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700",children:ue.files.length===0?c.jsxs("div",{className:"p-8 text-center flex flex-col items-center justify-center text-gray-400",children:[c.jsx(ud,{className:"w-10 h-10 mb-2 opacity-20"}),c.jsx("p",{className:"text-sm font-medium",children:"       "})]}):c.jsx("div",{className:"divide-y divide-gray-50 dark:divide-gray-700/50",children:ue.files.map((k,N)=>c.jsxs("div",{onClick:()=>k.url&&window.open(k.url,"_blank"),className:"flex items-center justify-between p-4 hover:bg-emerald-50 dark:hover:bg-emerald-900/10 transition-colors group cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-50 dark:bg-red-900/20 flex items-center justify-center shrink-0 text-red-500",children:c.jsx(jd,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[c.jsx("span",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 group-hover:text-emerald-700 dark:group-hover:text-emerald-300 transition-colors whitespace-normal break-words",children:k.title}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-0.5",children:[c.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:k.size}),c.jsx("span",{children:""}),c.jsx("span",{children:K(k.createdAt)})]})]})]}),c.jsx("button",{className:"p-2.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-400 group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/30 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-all shrink-0 ml-3",children:c.jsx(BT,{className:"w-5 h-5"})})]},N))})})]},ue.id)})}),c.jsxs("div",{className:"mt-8 flex items-center gap-3 justify-center text-xs text-gray-400 bg-gray-50 dark:bg-gray-800 p-4 rounded-2xl border border-dashed border-gray-200 dark:border-gray-700",children:[c.jsx(Ad,{className:"w-4 h-4 text-emerald-500 shrink-0"}),c.jsx("span",{children:"      PDF  "})]})]});return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 transition-colors duration-300",children:[c.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-emerald-100 dark:border-gray-700 py-4 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-emerald-50 dark:hover:bg-gray-700 rounded-full transition-colors group flex items-center gap-2",children:[c.jsx(Kr,{className:"w-6 h-6 text-gray-500 dark:text-gray-400 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors"}),c.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors hidden sm:inline",children:""})]})})}),u==="SELECTION"?ce():ve()]})},sR=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),iR=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),lR=({onBack:a})=>{const e=n=>{let s="";switch(n){case"message":s="       .";break;case"question":s="       ...";break;case"review":s="      .";break;case"inquiry":s="    .";break;default:s="  ."}const l=`https://wa.me/972568401548?text=${encodeURIComponent(s)}`;window.open(l,"_blank")};return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in pb-20 transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-emerald-100 dark:border-emerald-900 py-6 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold group",children:[c.jsx(Kr,{className:"w-6 h-6 group-hover:text-emerald-600 dark:group-hover:text-emerald-400"})," "]})})}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:"  "}),c.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),c.jsx("p",{className:"mt-6 text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"     .         ."})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-emerald-100 dark:border-gray-700 overflow-hidden transform hover:shadow-2xl transition-all duration-300",children:[c.jsxs("div",{className:"bg-emerald-600 dark:bg-emerald-800 p-8 text-white text-center relative overflow-hidden",children:[c.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white/10 backdrop-blur-sm rounded-2xl mb-4 border border-white/20",children:c.jsx(fc,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-3xl font-black mb-2 relative z-10",children:"   "}),c.jsx("p",{className:"text-emerald-100 opacity-90 relative z-10 font-medium text-lg",children:"      "})]}),c.jsxs("div",{className:"p-8 md:p-12",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-12",children:[c.jsxs("button",{onClick:()=>e("message"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-all group border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-200 dark:hover:border-emerald-700 hover:-translate-y-2 duration-300",children:[c.jsx("div",{className:"w-16 h-16 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900",children:c.jsx(fc,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg block mb-1",children:" "}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"  "})]})]}),c.jsxs("button",{onClick:()=>e("question"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-all group border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-200 dark:hover:border-emerald-700 hover:-translate-y-2 duration-300",children:[c.jsx("div",{className:"w-16 h-16 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900",children:c.jsx(Sl,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg block mb-1",children:" "}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"   "})]})]}),c.jsxs("button",{onClick:()=>e("review"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-all group border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-200 dark:hover:border-emerald-700 hover:-translate-y-2 duration-300",children:[c.jsx("div",{className:"w-16 h-16 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900",children:c.jsx(QT,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg block mb-1",children:" "}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"   "})]})]}),c.jsxs("button",{onClick:()=>e("inquiry"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-all group border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-200 dark:hover:border-emerald-700 hover:-translate-y-2 duration-300",children:[c.jsx("div",{className:"w-16 h-16 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900",children:c.jsx(Id,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg block mb-1",children:" "}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"   "})]})]})]}),c.jsxs("div",{className:"border-t-2 border-gray-100 dark:border-gray-700 pt-10",children:[c.jsx("h4",{className:"text-center text-gray-500 dark:text-gray-400 font-bold mb-6 uppercase tracking-wide text-sm",children:" "}),c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 bg-gradient-to-br from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 p-8 rounded-3xl border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"relative shrink-0 group cursor-pointer",children:[c.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-full blur-lg opacity-20 group-hover:opacity-40 transition-opacity"}),c.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-28 h-28 rounded-full object-cover border-4 border-white dark:border-gray-700 shadow-lg relative z-10"}),c.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-emerald-500 border-4 border-white dark:border-gray-700 rounded-full z-20"})]}),c.jsxs("div",{className:"text-center md:text-right flex-1",children:[c.jsx("h4",{className:"font-black text-2xl text-gray-900 dark:text-white mb-2",children:".   "}),c.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 font-bold text-base mb-6 flex items-center justify-center md:justify-start gap-2 bg-emerald-50 dark:bg-emerald-900/30 w-fit mx-auto md:mx-0 px-4 py-1 rounded-full",children:[c.jsx(Ll,{className:"w-5 h-5"}),"    "]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4",children:[c.jsxs("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#25D366] text-white px-6 py-3 rounded-xl font-bold text-sm hover:shadow-lg hover:scale-105 transition-all shadow-green-200 dark:shadow-none",children:[c.jsx(sR,{className:"w-5 h-5"}),"  "]}),c.jsxs("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#0088cc] text-white px-6 py-3 rounded-xl font-bold text-sm hover:shadow-lg hover:scale-105 transition-all shadow-sky-200 dark:shadow-none",children:[c.jsx(iR,{className:"w-5 h-5"}),"  "]})]})]})]})]})]})]})]})]})},ov=[{minLevel:1,title:" ",color:"bg-gray-100 text-gray-600 border-gray-200",icon:pv},{minLevel:5,title:" ",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:ta},{minLevel:10,title:" ",color:"bg-blue-100 text-blue-700 border-blue-200",icon:Al},{minLevel:15,title:" ",color:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:gi},{minLevel:20,title:" ",color:"bg-purple-100 text-purple-700 border-purple-200",icon:_v},{minLevel:30,title:" ",color:"bg-amber-100 text-amber-700 border-amber-200",icon:dc}],oR=({onLoginClick:a})=>{const[e,n]=ne.useState([]),[s,l]=ne.useState(!0),{user:u}=Os(),[f,g]=ne.useState(null),[p,y]=ne.useState(null),[_,E]=ne.useState(!1);ne.useEffect(()=>{const G=Ml(js(An,"users"),Vl("role","==","student")),K=p3(G,ae=>{const ce=[];ae.forEach(ve=>{const ue=ve.data();ce.push({uid:ve.id,...ue})}),ce.sort((ve,ue)=>(Number(ue.totalXP)||0)-(Number(ve.totalXP)||0)),n(ce.slice(0,10)),l(!1)},ae=>{console.error("Error fetching leaderboard:",ae),l(!1)});return()=>K()},[]);const j=async G=>{g(G),E(!0),y(null);try{const K=Ml(js(An,"quiz_results"),Vl("userId","==",G.uid)),ae=await Pc(K);let ce=0,ve=0;ae.forEach($=>{const k=$.data();k.percentage!==void 0&&(ce+=k.percentage,ve++)});const ue=ve>0?Math.round(ce/ve):0;y({average:ue,totalQuizzes:ve})}catch(K){console.error("Error fetching student stats",K)}finally{E(!1)}},P=G=>{switch(G){case 0:return"bg-gradient-to-br from-yellow-300 to-amber-500 border-amber-400 text-white shadow-sm shadow-amber-200 dark:shadow-none ring-2 ring-yellow-100 dark:ring-yellow-900";case 1:return"bg-gradient-to-br from-slate-300 to-slate-400 border-slate-400 text-white shadow-sm shadow-slate-200 dark:shadow-none ring-2 ring-slate-100 dark:ring-slate-700";case 2:return"bg-gradient-to-br from-orange-300 to-orange-500 border-orange-400 text-white shadow-sm shadow-orange-200 dark:shadow-none ring-2 ring-orange-100 dark:ring-orange-900";default:return"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 text-gray-500 dark:text-gray-400 shadow-sm"}},F=G=>{switch(G){case 0:return c.jsx(dc,{className:"w-3 h-3 text-white fill-white animate-pulse"});case 1:return c.jsx(yx,{className:"w-3 h-3 text-white fill-white/20"});case 2:return c.jsx(yx,{className:"w-3 h-3 text-white fill-white/20"});default:return c.jsxs("span",{className:"font-bold text-[10px]",children:["#",G+1]})}},re=G=>{const K=Math.floor(G/500)+1,ae=[...ov].reverse().find(ce=>K>=ce.minLevel)||ov[0];return{level:K,rank:ae}};return c.jsxs("section",{className:"py-16 bg-gradient-to-b from-indigo-50/50 to-white dark:from-gray-900 dark:to-gray-800 border-t border-gray-100 dark:border-gray-800 relative overflow-hidden transition-colors duration-300",children:[c.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-purple-200 dark:bg-purple-900 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),c.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 bg-indigo-200 dark:bg-indigo-900 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),f&&c.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>g(null)}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] w-full max-w-md relative shadow-2xl animate-fade-in-up overflow-hidden border border-white/20",children:[c.jsx("button",{onClick:()=>g(null),className:"absolute top-4 right-4 p-2 bg-black/10 hover:bg-black/20 dark:bg-white/10 dark:hover:bg-white/20 rounded-full text-white z-20 transition-colors backdrop-blur-sm",children:c.jsx(pi,{className:"w-5 h-5"})}),c.jsx("div",{className:"h-32 bg-gradient-to-r from-indigo-600 to-purple-600 relative",children:c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"})}),c.jsxs("div",{className:"px-8 pb-8 -mt-16 relative z-10 text-center",children:[c.jsx("div",{className:"w-32 h-32 mx-auto rounded-full p-1.5 bg-white dark:bg-gray-900 shadow-xl mb-4",children:c.jsx("div",{className:"w-full h-full rounded-full overflow-hidden border-4 border-indigo-100 dark:border-indigo-900/50",children:f.avatar?c.jsx("img",{src:f.avatar,alt:f.displayName,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:c.jsx($r,{className:"w-12 h-12 text-gray-400"})})})}),c.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white mb-1",children:f.displayName}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-sm flex items-center justify-center gap-1 mb-6",children:[c.jsx(Id,{className:"w-4 h-4"}),f.school||" "]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[c.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-2xl border border-indigo-100 dark:border-indigo-800",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[uv.createElement(re(f.totalXP||0).rank.icon,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),c.jsx("span",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 uppercase",children:""})]}),c.jsx("div",{className:"font-black text-gray-900 dark:text-white text-sm",children:re(f.totalXP||0).rank.title}),c.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[" ",re(f.totalXP||0).level]})]}),c.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-2xl border border-emerald-100 dark:border-emerald-800",children:_?c.jsx("div",{className:"flex justify-center py-2",children:c.jsx(pn,{className:"w-5 h-5 animate-spin text-emerald-600"})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx(Om,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400 fill-emerald-600 dark:fill-emerald-400"}),c.jsx("span",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase",children:" "})]}),c.jsxs("div",{className:"font-black text-gray-900 dark:text-white text-xl",children:[(p==null?void 0:p.average)||0,"%"]}),c.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[(p==null?void 0:p.totalQuizzes)||0," "]})]})})]}),c.jsxs("div",{className:"bg-yellow-50/50 dark:bg-yellow-900/10 border-2 border-yellow-100 dark:border-yellow-900/30 border-dashed rounded-xl p-5 relative",children:[c.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 px-3 py-1 rounded-full text-[10px] font-bold shadow-sm flex items-center gap-1",children:[c.jsx(gi,{className:"w-3 h-3"})," "]}),c.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed font-medium mt-2 mb-6",children:["     / ",c.jsx("span",{className:"font-bold text-gray-900 dark:text-white underline decoration-yellow-400",children:f.displayName}),"      /   ."]}),c.jsxs("div",{className:"flex justify-around items-center pt-4 border-t border-yellow-200/50 dark:border-yellow-800/30",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-[10px] text-gray-400 mb-1 font-medium",children:" "}),c.jsx("div",{className:"font-serif font-bold text-gray-900 dark:text-white text-sm italic",children:".   "})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-[10px] text-gray-400 mb-1 font-medium",children:" "}),c.jsx("div",{className:"font-serif font-bold text-gray-900 dark:text-white text-sm italic",children:".   "})]})]})]})]})]})]}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 relative z-10",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white dark:bg-gray-800 rounded-2xl shadow-lg shadow-indigo-100 dark:shadow-none border border-indigo-50 dark:border-indigo-900 mb-4 transform -rotate-3 hover:rotate-0 transition-transform duration-300",children:c.jsx(vv,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),c.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 dark:text-white mb-2 tracking-tight",children:" "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm md:text-base font-medium",children:"      "})]}),c.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-3xl border border-white dark:border-gray-700 shadow-2xl shadow-indigo-100/50 dark:shadow-none p-4 md:p-6 relative",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-20"}),s?c.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-indigo-200 dark:bg-indigo-900 rounded-full blur-xl opacity-50 animate-pulse"}),c.jsx(pn,{className:"w-10 h-10 animate-spin text-indigo-600 dark:text-indigo-400 relative z-10"})]}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold mt-4 text-sm animate-pulse",children:"  ..."})]}):e.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white dark:border-gray-600 shadow-lg",children:c.jsx(gi,{className:"w-8 h-8 text-gray-300 dark:text-gray-500"})}),c.jsx("h3",{className:"text-xl font-black text-gray-700 dark:text-gray-300 mb-2",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mb-6 text-sm",children:"       !"}),!u&&c.jsxs("button",{onClick:a,className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all hover:shadow-lg hover:shadow-indigo-200 dark:shadow-none transform hover:-translate-y-1",children:[c.jsx(ON,{className:"w-4 h-4"}),"  "]})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-2 text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider border-b border-gray-100 dark:border-gray-700 mb-2",children:[c.jsx("span",{children:""}),c.jsx("span",{className:"ml-auto mr-16",children:" "}),c.jsx("span",{children:""})]}),e.map((G,K)=>c.jsxs("div",{onClick:()=>j(G),className:`flex items-center justify-between p-4 rounded-2xl transition-all duration-300 cursor-pointer group ${(u==null?void 0:u.uid)===G.uid?"bg-gradient-to-r from-indigo-50 to-white dark:from-indigo-900/30 dark:to-gray-800 border border-indigo-200 dark:border-indigo-800 shadow-md z-10 relative transform scale-[1.02]":"bg-white dark:bg-gray-700/50 hover:bg-gray-50 dark:hover:bg-gray-700 border border-transparent hover:border-gray-100 dark:hover:border-gray-600 hover:scale-[1.01]"}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center shrink-0 shadow-sm ${P(K)}`,children:F(K)}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden border-2 border-white dark:border-gray-600 shadow-sm bg-gray-100 dark:bg-gray-700 flex items-center justify-center group-hover:border-indigo-200 dark:group-hover:border-indigo-700 transition-colors",children:G.avatar?c.jsx("img",{src:G.avatar,alt:G.displayName,className:"w-full h-full object-cover"}):c.jsx($r,{className:"w-6 h-6 text-gray-400"})}),K===0&&c.jsx("div",{className:"absolute -top-2 -right-1 text-yellow-500 drop-shadow-sm",children:c.jsx(dc,{className:"w-5 h-5 fill-yellow-500"})})]})]}),c.jsxs("div",{className:"flex flex-col items-center text-center flex-1 px-2 min-w-0",children:[c.jsx("span",{className:`font-bold text-lg truncate w-full group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors ${(u==null?void 0:u.uid)===G.uid?"text-indigo-700 dark:text-indigo-300":"text-gray-900 dark:text-white"}`,children:G.displayName}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mt-1 w-full justify-center",children:[c.jsx(Id,{className:"w-3 h-3 shrink-0"}),c.jsx("span",{className:"truncate max-w-[120px]",children:G.school||" "})]})]}),c.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-600 px-2 py-1 rounded-lg border border-gray-100 dark:border-gray-500 shrink-0 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900/30 group-hover:border-indigo-100 dark:group-hover:border-indigo-800 transition-all",children:[c.jsx("span",{className:"font-black text-gray-900 dark:text-white text-xs",children:G.totalXP||0}),c.jsx(Dm,{className:`w-3 h-3 ${K<3?"text-orange-500 fill-orange-500":"text-gray-300 dark:text-gray-400"}`})]})]},G.uid))]})]})]})]})},cR=({onBack:a})=>{const[e,n]=ne.useState([]),[s,l]=ne.useState(!0),[u,f]=ne.useState(""),[g,p]=ne.useState(null),[y,_]=ne.useState(!1);ne.useEffect(()=>{E()},[]);const E=async()=>{l(!0);try{const $=Ml(js(An,"quizzes"),d3("createdAt","desc")),N=(await Pc($)).docs.map(S=>({id:S.id,...S.data()}));n(N)}catch($){console.error("Error fetching quizzes:",$)}finally{l(!1)}},j=$=>{p({category:"Language",...$})},P=async($,k)=>{if($.stopPropagation(),!k){alert(":   ");return}if(window.confirm("  "))try{await g3(_i(An,"quizzes",k)),n(N=>N.filter(S=>S.id!==k))}catch(N){console.error("Error deleting quiz:",N),alert("   : "+N.message)}},F=($,k)=>{g&&p({...g,[$]:k})},re=($,k,N)=>{if(!g)return;const S=[...g.questions];S[$]={...S[$],[k]:N},p({...g,questions:S})},G=($,k,N)=>{if(!g)return;const S=[...g.questions],I=[...S[$].options];I[k]=N,S[$]={...S[$],options:I},p({...g,questions:S})},K=$=>{if(g&&window.confirm("      ")){const k=g.questions.filter((N,S)=>S!==$);p({...g,questions:k})}},ae=async()=>{if(!(!g||!g.id)){if(g.questions.length===0){alert("     !");return}_(!0);try{const $=_i(An,"quizzes",g.id);await Ww($,{title:g.title,subject:g.subject,grade:g.grade,category:g.category,questions:g.questions}),n(k=>k.map(N=>N.id===g.id?g:N)),p(null),alert("   ")}catch($){console.error("Error updating quiz:",$),alert("   ")}finally{_(!1)}}},ce=e.filter($=>$.title.toLowerCase().includes(u.toLowerCase())||$.teacherName&&$.teacherName.toLowerCase().includes(u.toLowerCase())),ve=$=>$?($.toDate?$.toDate():new Date($.seconds*1e3)).toLocaleDateString("ar-EG"):"",ue="w-full p-3 rounded-xl border-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 outline-none font-bold text-black dark:text-white bg-white dark:bg-gray-700 shadow-sm transition-colors placeholder-gray-500 dark:placeholder-gray-400";return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 animate-fade-in relative transition-colors duration-300",children:[c.jsx("style",{children:`
        .custom-scrollbar {
          scrollbar-width: thin;
          scrollbar-color: #cbd5e1 transparent;
        }
        .dark .custom-scrollbar {
          scrollbar-color: #475569 transparent;
        }
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
          height: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 10px;
        }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb {
           background: #475569;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),c.jsx("div",{className:"bg-white dark:bg-gray-800 pt-8 pb-20 px-4 border-b border-gray-200 dark:border-gray-700 shadow-sm relative overflow-hidden",children:c.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("button",{onClick:a,className:"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 p-2 rounded-full transition-colors",children:c.jsx(Kr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),c.jsx("span",{className:"font-bold text-gray-500 dark:text-gray-400",children:" "})]}),c.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end justify-between gap-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-2 tracking-tight",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"      "})]}),c.jsxs("div",{className:"w-full md:w-auto bg-white dark:bg-gray-700 p-2 rounded-2xl shadow-lg shadow-gray-100 dark:shadow-none border border-gray-100 dark:border-gray-600 flex items-center gap-2",children:[c.jsx(Al,{className:"w-5 h-5 text-gray-400 dark:text-gray-300 mr-2"}),c.jsx("input",{type:"text",placeholder:"    ...",value:u,onChange:$=>f($.target.value),className:"w-full md:w-64 outline-none text-sm font-bold text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 bg-transparent"})]})]})]})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-12 relative z-20",children:s?c.jsx("div",{className:"flex justify-center items-center py-20",children:c.jsx(pn,{className:"w-10 h-10 animate-spin text-blue-600 dark:text-blue-400"})}):ce.length===0?c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 p-12 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(hc,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"       ."})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ce.map($=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700 overflow-hidden group flex flex-col",children:[c.jsxs("div",{className:"p-6 flex-1",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-lg text-xs font-bold",children:$.subject}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>j($),className:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 p-1.5 rounded-lg hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-colors",title:" ",children:c.jsx(xx,{className:"w-4 h-4"})}),c.jsx("button",{onClick:k=>P(k,$.id),className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-1.5 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors",title:" ",children:c.jsx(nm,{className:"w-4 h-4"})})]})]}),c.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2 line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:$.title}),$.category&&c.jsx("span",{className:"inline-block mb-4 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400 text-[10px] font-bold px-2 py-1 rounded-md border border-amber-100 dark:border-amber-800/50",children:$.category}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-6",children:[c.jsxs("span",{className:"bg-gray-50 dark:bg-gray-700 px-2 py-0.5 rounded border border-gray-100 dark:border-gray-600 font-bold",children:[" ",$.grade]}),c.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),c.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700/50 text-gray-600 dark:text-gray-400 px-2 py-0.5 rounded-lg text-xs font-bold flex items-center gap-1",children:[c.jsx(fv,{className:"w-3 h-3"}),ve($.createdAt)]})]})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 border-t border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-white dark:bg-gray-700 rounded-full border border-gray-200 dark:border-gray-600 flex items-center justify-center shadow-sm text-gray-400 dark:text-gray-300",children:c.jsx($r,{className:"w-4 h-4"})}),c.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:$.teacherName||""})]}),c.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-md border border-gray-100 dark:border-gray-600",children:[c.jsx(Sl,{className:"w-3 h-3"}),$.questions.length," "]})]})]},$.id))})}),g&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0 sticky top-0 z-10",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-xl",children:c.jsx(xx,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:" "}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"     "})]})]}),c.jsx("button",{onClick:()=>p(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-gray-500 dark:text-gray-400",children:c.jsx(pi,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900 custom-scrollbar",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 mb-8",children:[c.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx(hc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," "]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:" "}),c.jsx("input",{type:"text",value:g.title,onChange:$=>F("title",$.target.value),className:ue})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:""}),c.jsx("input",{type:"text",value:g.subject,onChange:$=>F("subject",$.target.value),className:ue})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:""}),c.jsx("select",{value:g.grade,onChange:$=>F("grade",$.target.value),className:ue,children:[5,6,7,8,9,10,11,12].map($=>c.jsxs("option",{value:$,children:[" ",$]},$))})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:"  (Category)"}),c.jsxs("select",{value:g.category||"Language",onChange:$=>F("category",$.target.value),className:ue,children:[c.jsx("option",{value:"Language",children:"Language ()"}),c.jsx("option",{value:"Reading",children:"Reading ()"}),c.jsx("option",{value:"Writing",children:"Writing ()"}),c.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Sl,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," (",g.questions.length,")"]}),c.jsx("span",{className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded-lg",children:"*        "})]}),g.questions.map(($,k)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 relative group",children:[c.jsx("button",{onClick:()=>K(k),className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 rounded-lg transition-colors",title:" ",children:c.jsx(nm,{className:"w-5 h-5"})}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1.5",children:["  ",k+1]}),c.jsx("input",{type:"text",dir:"ltr",value:$.question,onChange:N=>re(k,"question",N.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-300 dark:border-gray-600 focus:border-emerald-500 dark:focus:border-emerald-500 outline-none font-bold text-black dark:text-white bg-white dark:bg-gray-700 shadow-sm text-lg transition-colors placeholder-gray-500 dark:placeholder-gray-400 text-left"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:$.options.map((N,S)=>c.jsxs("div",{className:"relative",children:[c.jsxs("label",{className:"flex items-center justify-between text-xs font-bold text-gray-500 dark:text-gray-400 mb-1 px-1",children:[c.jsxs("span",{children:[" ",S+1]}),c.jsxs("button",{onClick:()=>re(k,"correctAnswer",S),className:`flex items-center gap-1 px-2 py-0.5 rounded cursor-pointer transition-colors ${$.correctAnswer===S?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[$.correctAnswer===S?c.jsx(ps,{className:"w-3 h-3"}):c.jsx("div",{className:"w-3 h-3 border border-gray-400 rounded-full"}),$.correctAnswer===S?" ":" "]})]}),c.jsx("input",{type:"text",dir:"ltr",value:N,onChange:I=>G(k,S,I.target.value),className:`w-full p-3 rounded-xl border-2 outline-none font-bold transition-colors shadow-sm text-left ${$.correctAnswer===S?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-300":"border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 text-black dark:text-white bg-white dark:bg-gray-700"}`})]},S))}),c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-xl border border-yellow-200 dark:border-yellow-800",children:[c.jsx("label",{className:"block text-xs font-bold text-yellow-800 dark:text-yellow-200 mb-1",children:" "}),c.jsx("textarea",{value:$.explanation||"",onChange:N=>re(k,"explanation",N.target.value),className:"w-full p-3 rounded-lg border border-yellow-300 dark:border-yellow-700 focus:border-yellow-500 dark:focus:border-yellow-500 outline-none text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-800 text-sm h-20 resize-none shadow-sm custom-scrollbar text-left",placeholder:"  ...",dir:"ltr"})]})]},k))]})]}),c.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3 shrink-0 sticky bottom-0 z-10",children:[c.jsx("button",{onClick:()=>p(null),className:"px-6 py-3 rounded-xl font-bold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:""}),c.jsxs("button",{onClick:ae,disabled:y,className:"px-8 py-3 rounded-xl font-bold text-white bg-emerald-600 hover:bg-emerald-700 transition-colors flex items-center gap-2 shadow-lg shadow-emerald-200 dark:shadow-none",children:[y?c.jsx(pn,{className:"w-5 h-5 animate-spin"}):c.jsx(Rd,{className:"w-5 h-5"})," "]})]})]})})]})};function uR(){const[a,e]=ne.useState("HOME"),[n,s]=ne.useState(!1),[l,u]=ne.useState(!1),{logout:f}=Os();ne.useEffect(()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0),window.history.replaceState({view:"HOME"},"","");const y=_=>{_.state&&_.state.view?e(_.state.view):e("HOME")};return window.addEventListener("popstate",y),()=>window.removeEventListener("popstate",y)},[]),ne.useEffect(()=>{window.scrollTo(0,0)},[a]);const g=y=>{y!==a&&(window.history.pushState({view:y},"",""),e(y))},p=async()=>{u(!0),setTimeout(async()=>{await f(),u(!1),g("HOME")},1e3)};return c.jsxs("div",{className:"min-h-screen flex flex-col relative transition-colors duration-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[l&&c.jsx("div",{className:"fixed inset-0 z-[200] bg-emerald-600 flex items-center justify-center animate-fade-in",children:c.jsx("div",{className:"text-white text-2xl font-bold animate-bounce",children:"  ..."})}),c.jsx(zC,{onLoginClick:()=>s(!0),onNavigate:g,onLogoutClick:p}),c.jsxs("main",{className:"flex-grow",children:[a==="HOME"&&c.jsxs(c.Fragment,{children:[c.jsx(BC,{onStartQuiz:()=>g("QUIZZES"),onLoginClick:()=>s(!0),onNavigate:g}),c.jsx(FC,{onNavigate:g}),c.jsx(oR,{onLoginClick:()=>s(!0)})]}),a==="ABOUT_PLATFORM"&&c.jsx(nR,{onBack:()=>g("HOME")}),a==="SERVICES"&&c.jsx(rR,{onBack:()=>g("HOME")}),a==="TEACHER_CV"&&c.jsx(tR,{onBack:()=>g("HOME")}),a==="PROFILE"&&c.jsx(XC,{onNavigate:g}),a==="TEACHER_DASHBOARD"&&c.jsx(QC,{}),a==="QUESTION_BANK"&&c.jsx(cR,{onBack:()=>g("HOME")}),a==="QUIZZES"&&c.jsx(ZC,{onBack:()=>g("HOME")}),a==="LESSONS"&&c.jsx(aR,{onBack:()=>g("HOME")}),a==="CONTACT_TEACHER"&&c.jsx(lR,{onBack:()=>g("HOME")})]}),c.jsx(GC,{isOpen:n,onClose:()=>s(!1)}),c.jsx("footer",{className:"bg-white dark:bg-gray-900 py-8 border-t border-gray-100 dark:border-gray-800",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-400 dark:text-gray-500 text-sm",children:[" ",new Date().getFullYear(),"   .   ."]})})]})}const T2=document.getElementById("root");if(!T2)throw new Error("Could not find root element to mount to");const dR=dT.createRoot(T2);dR.render(c.jsx(uv.StrictMode,{children:c.jsx(UC,{children:c.jsx(uR,{})})}));
