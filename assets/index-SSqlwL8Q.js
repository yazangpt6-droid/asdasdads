(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function rv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var xm={exports:{}},qo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function $E(){if(Wb)return qo;Wb=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:a,type:s,key:f,ref:l!==void 0?l:null,props:u}}return qo.Fragment=e,qo.jsx=n,qo.jsxs=n,qo}var Zb;function KE(){return Zb||(Zb=1,xm.exports=$E()),xm.exports}var c=KE(),vm={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function YE(){if(Jb)return Ae;Jb=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),j=Symbol.iterator;function P(I){return I===null||typeof I!="object"?null:(I=j&&I[j]||I["@@iterator"],typeof I=="function"?I:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,q={};function ae(I,K,se){this.props=I,this.context=K,this.refs=q,this.updater=se||Q}ae.prototype.isReactComponent={},ae.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},ae.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ue(){}ue.prototype=ae.prototype;function ge(I,K,se){this.props=I,this.context=K,this.refs=q,this.updater=se||Q}var je=ge.prototype=new ue;je.constructor=ge,ne(je,ae.prototype),je.isPureReactComponent=!0;var De=Array.isArray;function ee(){}var A={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function k(I,K,se){var F=se.ref;return{$$typeof:a,type:I,key:K,ref:F!==void 0?F:null,props:se}}function O(I,K){return k(I.type,K,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function M(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(se){return K[se]})}var S=/\/+/g;function Me(I,K){return typeof I=="object"&&I!==null&&I.key!=null?M(""+I.key):K.toString(36)}function Je(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(ee,ee):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function $(I,K,se,F,he){var be=typeof I;(be==="undefined"||be==="boolean")&&(I=null);var Ne=!1;if(I===null)Ne=!0;else switch(be){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(I.$$typeof){case a:case e:Ne=!0;break;case _:return Ne=I._init,$(Ne(I._payload),K,se,F,he)}}if(Ne)return he=he(I),Ne=F===""?"."+Me(I,0):F,De(he)?(se="",Ne!=null&&(se=Ne.replace(S,"$&/")+"/"),$(he,K,se,"",function(pt){return pt})):he!=null&&(R(he)&&(he=O(he,se+(he.key==null||I&&I.key===he.key?"":(""+he.key).replace(S,"$&/")+"/")+Ne)),K.push(he)),1;Ne=0;var lt=F===""?".":F+":";if(De(I))for(var ye=0;ye<I.length;ye++)F=I[ye],be=lt+Me(F,ye),Ne+=$(F,K,se,be,he);else if(ye=P(I),typeof ye=="function")for(I=ye.call(I),ye=0;!(F=I.next()).done;)F=F.value,be=lt+Me(F,ye++),Ne+=$(F,K,se,be,he);else if(be==="object"){if(typeof I.then=="function")return $(Je(I),K,se,F,he);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function re(I,K,se){if(I==null)return I;var F=[],he=0;return $(I,F,"","",function(be){return K.call(se,be,he++)}),F}function me(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(se){(I._status===0||I._status===-1)&&(I._status=1,I._result=se)},function(se){(I._status===0||I._status===-1)&&(I._status=2,I._result=se)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var Te=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ge={map:re,forEach:function(I,K,se){re(I,function(){K.apply(this,arguments)},se)},count:function(I){var K=0;return re(I,function(){K++}),K},toArray:function(I){return re(I,function(K){return K})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ae.Activity=E,Ae.Children=Ge,Ae.Component=ae,Ae.Fragment=n,Ae.Profiler=l,Ae.PureComponent=ge,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(I){return A.H.useMemoCache(I)}},Ae.cache=function(I){return function(){return I.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(I,K,se){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var F=ne({},I.props),he=I.key;if(K!=null)for(be in K.key!==void 0&&(he=""+K.key),K)!N.call(K,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&K.ref===void 0||(F[be]=K[be]);var be=arguments.length-2;if(be===1)F.children=se;else if(1<be){for(var Ne=Array(be),lt=0;lt<be;lt++)Ne[lt]=arguments[lt+2];F.children=Ne}return k(I.type,he,F)},Ae.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},Ae.createElement=function(I,K,se){var F,he={},be=null;if(K!=null)for(F in K.key!==void 0&&(be=""+K.key),K)N.call(K,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(he[F]=K[F]);var Ne=arguments.length-2;if(Ne===1)he.children=se;else if(1<Ne){for(var lt=Array(Ne),ye=0;ye<Ne;ye++)lt[ye]=arguments[ye+2];he.children=lt}if(I&&I.defaultProps)for(F in Ne=I.defaultProps,Ne)he[F]===void 0&&(he[F]=Ne[F]);return k(I,be,he)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(I){return{$$typeof:g,render:I}},Ae.isValidElement=R,Ae.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:me}},Ae.memo=function(I,K){return{$$typeof:b,type:I,compare:K===void 0?null:K}},Ae.startTransition=function(I){var K=A.T,se={};A.T=se;try{var F=I(),he=A.S;he!==null&&he(se,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(ee,Te)}catch(be){Te(be)}finally{K!==null&&se.types!==null&&(K.types=se.types),A.T=K}},Ae.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ae.use=function(I){return A.H.use(I)},Ae.useActionState=function(I,K,se){return A.H.useActionState(I,K,se)},Ae.useCallback=function(I,K){return A.H.useCallback(I,K)},Ae.useContext=function(I){return A.H.useContext(I)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(I,K){return A.H.useDeferredValue(I,K)},Ae.useEffect=function(I,K){return A.H.useEffect(I,K)},Ae.useEffectEvent=function(I){return A.H.useEffectEvent(I)},Ae.useId=function(){return A.H.useId()},Ae.useImperativeHandle=function(I,K,se){return A.H.useImperativeHandle(I,K,se)},Ae.useInsertionEffect=function(I,K){return A.H.useInsertionEffect(I,K)},Ae.useLayoutEffect=function(I,K){return A.H.useLayoutEffect(I,K)},Ae.useMemo=function(I,K){return A.H.useMemo(I,K)},Ae.useOptimistic=function(I,K){return A.H.useOptimistic(I,K)},Ae.useReducer=function(I,K,se){return A.H.useReducer(I,K,se)},Ae.useRef=function(I){return A.H.useRef(I)},Ae.useState=function(I){return A.H.useState(I)},Ae.useSyncExternalStore=function(I,K,se){return A.H.useSyncExternalStore(I,K,se)},Ae.useTransition=function(){return A.H.useTransition()},Ae.version="19.2.0",Ae}var ex;function N0(){return ex||(ex=1,vm.exports=YE()),vm.exports}var te=N0();const XE=rv(te);var _m={exports:{}},Ho={},wm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function WE(){return tx||(tx=1,(function(a){function e($,re){var me=$.length;$.push(re);e:for(;0<me;){var Te=me-1>>>1,Ge=$[Te];if(0<l(Ge,re))$[Te]=re,$[me]=Ge,me=Te;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var re=$[0],me=$.pop();if(me!==re){$[0]=me;e:for(var Te=0,Ge=$.length,I=Ge>>>1;Te<I;){var K=2*(Te+1)-1,se=$[K],F=K+1,he=$[F];if(0>l(se,me))F<Ge&&0>l(he,se)?($[Te]=he,$[F]=me,Te=F):($[Te]=se,$[K]=me,Te=K);else if(F<Ge&&0>l(he,me))$[Te]=he,$[F]=me,Te=F;else break e}}return re}function l($,re){var me=$.sortIndex-re.sortIndex;return me!==0?me:$.id-re.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();a.unstable_now=function(){return f.now()-g}}var p=[],b=[],_=1,E=null,j=3,P=!1,Q=!1,ne=!1,q=!1,ae=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function je($){for(var re=n(b);re!==null;){if(re.callback===null)s(b);else if(re.startTime<=$)s(b),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(b)}}function De($){if(ne=!1,je($),!Q)if(n(p)!==null)Q=!0,ee||(ee=!0,M());else{var re=n(b);re!==null&&Je(De,re.startTime-$)}}var ee=!1,A=-1,N=5,k=-1;function O(){return q?!0:!(a.unstable_now()-k<N)}function R(){if(q=!1,ee){var $=a.unstable_now();k=$;var re=!0;try{e:{Q=!1,ne&&(ne=!1,ue(A),A=-1),P=!0;var me=j;try{t:{for(je($),E=n(p);E!==null&&!(E.expirationTime>$&&O());){var Te=E.callback;if(typeof Te=="function"){E.callback=null,j=E.priorityLevel;var Ge=Te(E.expirationTime<=$);if($=a.unstable_now(),typeof Ge=="function"){E.callback=Ge,je($),re=!0;break t}E===n(p)&&s(p),je($)}else s(p);E=n(p)}if(E!==null)re=!0;else{var I=n(b);I!==null&&Je(De,I.startTime-$),re=!1}}break e}finally{E=null,j=me,P=!1}re=void 0}}finally{re?M():ee=!1}}}var M;if(typeof ge=="function")M=function(){ge(R)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,Me=S.port2;S.port1.onmessage=R,M=function(){Me.postMessage(null)}}else M=function(){ae(R,0)};function Je($,re){A=ae(function(){$(a.unstable_now())},re)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return j},a.unstable_next=function($){switch(j){case 1:case 2:case 3:var re=3;break;default:re=j}var me=j;j=re;try{return $()}finally{j=me}},a.unstable_requestPaint=function(){q=!0},a.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=j;j=$;try{return re()}finally{j=me}},a.unstable_scheduleCallback=function($,re,me){var Te=a.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Te+me:Te):me=Te,$){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,$={id:_++,callback:re,priorityLevel:$,startTime:me,expirationTime:Ge,sortIndex:-1},me>Te?($.sortIndex=me,e(b,$),n(p)===null&&$===n(b)&&(ne?(ue(A),A=-1):ne=!0,Je(De,me-Te))):($.sortIndex=Ge,e(p,$),Q||P||(Q=!0,ee||(ee=!0,M()))),$},a.unstable_shouldYield=O,a.unstable_wrapCallback=function($){var re=j;return function(){var me=j;j=re;try{return $.apply(this,arguments)}finally{j=me}}}})(Em)),Em}var nx;function ZE(){return nx||(nx=1,wm.exports=WE()),wm.exports}var Tm={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function JE(){if(rx)return sn;rx=1;var a=N0();function e(p){var b="https://react.dev/errors/"+p;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)b+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,b,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:p,containerInfo:b,implementation:_}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,b){if(p==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(p,b){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(e(299));return u(p,b,null,_)},sn.flushSync=function(p){var b=f.T,_=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=b,s.p=_,s.d.f()}},sn.preconnect=function(p,b){typeof p=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,s.d.C(p,b))},sn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},sn.preinit=function(p,b){if(typeof p=="string"&&b&&typeof b.as=="string"){var _=b.as,E=g(_,b.crossOrigin),j=typeof b.integrity=="string"?b.integrity:void 0,P=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;_==="style"?s.d.S(p,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:E,integrity:j,fetchPriority:P}):_==="script"&&s.d.X(p,{crossOrigin:E,integrity:j,fetchPriority:P,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},sn.preinitModule=function(p,b){if(typeof p=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var _=g(b.as,b.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&s.d.M(p)},sn.preload=function(p,b){if(typeof p=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var _=b.as,E=g(_,b.crossOrigin);s.d.L(p,_,{crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},sn.preloadModule=function(p,b){if(typeof p=="string")if(b){var _=g(b.as,b.crossOrigin);s.d.m(p,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:_,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else s.d.m(p)},sn.requestFormReset=function(p){s.d.r(p)},sn.unstable_batchedUpdates=function(p,b){return p(b)},sn.useFormState=function(p,b,_){return f.H.useFormState(p,b,_)},sn.useFormStatus=function(){return f.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var ax;function eT(){if(ax)return Tm.exports;ax=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Tm.exports=JE(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx;function tT(){if(sx)return Ho;sx=1;var a=ZE(),e=N0(),n=eT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,i=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(i=r.return),t=r.return;while(t)}return r.tag===3?i:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function b(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var i=t,o=r;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){i=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return p(h),t;if(m===o)return p(h),r;m=m.sibling}throw Error(s(188))}if(i.return!==o.return)i=h,o=m;else{for(var x=!1,w=h.child;w;){if(w===i){x=!0,i=h,o=m;break}if(w===o){x=!0,o=h,i=m;break}w=w.sibling}if(!x){for(w=m.child;w;){if(w===i){x=!0,i=m,o=h;break}if(w===o){x=!0,o=m,i=h;break}w=w.sibling}if(!x)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,j=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case ae:return"Profiler";case q:return"StrictMode";case De:return"Suspense";case ee:return"SuspenseList";case k:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ge:return t.displayName||"Context";case ue:return(t._context.displayName||"Context")+".Consumer";case je:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return r=t.displayName||null,r!==null?r:Me(t.type)||"Memo";case N:r=t._payload,t=t._init;try{return Me(t(r))}catch{}}return null}var Je=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Te=[],Ge=-1;function I(t){return{current:t}}function K(t){0>Ge||(t.current=Te[Ge],Te[Ge]=null,Ge--)}function se(t,r){Ge++,Te[Ge]=t.current,t.current=r}var F=I(null),he=I(null),be=I(null),Ne=I(null);function lt(t,r){switch(se(be,r),se(he,t),se(F,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?vb(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=vb(r),t=_b(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(F),se(F,t)}function ye(){K(F),K(he),K(be)}function pt(t){t.memoizedState!==null&&se(Ne,t);var r=F.current,i=_b(r,t.type);r!==i&&(se(he,t),se(F,i))}function qt(t){he.current===t&&(K(F),K(he)),Ne.current===t&&(K(Ne),Po._currentValue=me)}var rn,dn;function pn(t){if(rn===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);rn=r&&r[1]||"",dn=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+t+dn}var _r=!1;function hn(t,r){if(!t||_r)return"";_r=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var B=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){B=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){B=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),x=m[0],w=m[1];if(x&&w){var C=x.split(`
`),z=w.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var Y=`
`+C[o].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=o&&0<=h);break}}}finally{_r=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?pn(i):""}function Ds(t,r){switch(t.tag){case 26:case 27:case 5:return pn(t.type);case 16:return pn("Lazy");case 13:return t.child!==r&&r!==null?pn("Suspense Fallback"):pn("Suspense");case 19:return pn("SuspenseList");case 0:case 15:return hn(t.type,!1);case 11:return hn(t.type.render,!1);case 1:return hn(t.type,!0);case 31:return pn("Activity");default:return""}}function Os(t){try{var r="",i=null;do r+=Ds(t,i),i=t,t=t.return;while(t);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var bt=Object.prototype.hasOwnProperty,Et=a.unstable_scheduleCallback,wr=a.unstable_cancelCallback,oe=a.unstable_shouldYield,Oe=a.unstable_requestPaint,Ve=a.unstable_now,Le=a.unstable_getCurrentPriorityLevel,ct=a.unstable_ImmediatePriority,an=a.unstable_UserBlockingPriority,$t=a.unstable_NormalPriority,Un=a.unstable_LowPriority,Er=a.unstable_IdlePriority,ta=a.log,Rc=a.unstable_setDisableYieldValue,ar=null,Kt=null;function zn(t){if(typeof ta=="function"&&Rc(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ar,t)}catch{}}var Tt=Math.clz32?Math.clz32:Dc,Ic=Math.log,ki=Math.LN2;function Dc(t){return t>>>=0,t===0?32:31-(Ic(t)/ki|0)|0}var Tr=256,Ms=262144,jt=4194304;function Nr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kr(t,r,i){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var w=o&134217727;return w!==0?(o=w&~m,o!==0?h=Nr(o):(x&=w,x!==0?h=Nr(x):i||(i=w&~t,i!==0&&(h=Nr(i))))):(w=o&~m,w!==0?h=Nr(w):x!==0?h=Nr(x):i||(i=o&~t,i!==0&&(h=Nr(i)))),h===0?0:r!==0&&r!==h&&(r&m)===0&&(m=h&-h,i=r&-r,m>=i||m===32&&(i&4194048)!==0)?r:h}function sr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function wh(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oc(){var t=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),t}function Ar(t){for(var r=[],i=0;31>i;i++)r.push(t);return r}function Vs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Eh(t,r,i,o,h,m){var x=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var w=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(i=x&~i;0<i;){var Y=31-Tt(i),Z=1<<Y;w[Y]=0,C[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var G=B[Y];G!==null&&(G.lane&=-536870913)}i&=~Z}o!==0&&Ls(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(x&~r))}function Ls(t,r,i){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-Tt(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|i&261930}function ql(t,r){var i=t.entangledLanes|=r;for(t=t.entanglements;i;){var o=31-Tt(i),h=1<<o;h&r|t[o]&r&&(t[o]|=r),i&=~h}}function Hl(t,r){var i=r&-r;return i=(i&42)!==0?1:Ps(i),(i&(t.suspendedLanes|r))!==0?0:i}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function na(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mc(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Fb(t.type))}function ir(t,r){var i=re.p;try{return re.p=t,r()}finally{re.p=i}}var lr=Math.random().toString(36).slice(2),Ct="__reactFiber$"+lr,Ht="__reactProps$"+lr,Sr="__reactContainer$"+lr,Ai="__reactEvents$"+lr,Th="__reactListeners$"+lr,Vc="__reactHandles$"+lr,Lc="__reactResources$"+lr,jr="__reactMarker$"+lr;function Si(t){delete t[Ct],delete t[Ht],delete t[Ai],delete t[Th],delete t[Vc]}function Cr(t){var r=t[Ct];if(r)return r;for(var i=t.parentNode;i;){if(r=i[Sr]||i[Ct]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(t=Sb(t);t!==null;){if(i=t[Ct])return i;t=Sb(t)}return r}t=i,i=t.parentNode}return null}function Bn(t){if(t=t[Ct]||t[Sr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function An(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Rr(t){var r=t[Lc];return r||(r=t[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Rt(t){t[jr]=!0}var Fl=new Set,Gl={};function Ir(t,r){Dr(t,r),Dr(t+"Capture",r)}function Dr(t,r){for(Gl[t]=r,t=0;t<r.length;t++)Fl.add(r[t])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$l={},Kl={};function Pc(t){return bt.call(Kl,t)?!0:bt.call($l,t)?!1:Ql.test(t)?Kl[t]=!0:($l[t]=!0,!1)}function ji(t,r,i){if(Pc(r))if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+i)}}function Sn(t,r,i){if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+i)}}function It(t,r,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(r,i,""+o)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Da(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Yl(t,r,i){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(x){i=""+x,m.call(this,x)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(x){i=""+x},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function et(t){if(!t._valueTracker){var r=Da(t)?"checked":"value";t._valueTracker=Yl(t,r,""+t[r])}}function Us(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var i=r.getValue(),o="";return t&&(o=Da(t)?t.checked?"true":"false":t.value),t=o,t!==i?(r.setValue(t),!0):!1}function Or(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zs=/[\n"\\]/g;function yn(t){return t.replace(zs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ci(t,r,i,o,h,m,x,w){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),r!=null?x==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ft(r)):t.value!==""+Ft(r)&&(t.value=""+Ft(r)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),r!=null?Xl(t,x,Ft(r)):i!=null?Xl(t,x,Ft(i)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Ft(w):t.removeAttribute("name")}function Uc(t,r,i,o,h,m,x,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){et(t);return}i=i!=null?""+Ft(i):"",r=r!=null?""+Ft(r):i,w||r===t.value||(t.value=r),t.defaultValue=r}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=w?t.checked:!!o,t.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x),et(t)}function Xl(t,r,i){r==="number"&&Or(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Oa(t,r,i,o){if(t=t.options,r){r={};for(var h=0;h<i.length;h++)r["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=r.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&o&&(t[i].defaultSelected=!0)}else{for(i=""+Ft(i),r=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function zc(t,r,i){if(r!=null&&(r=""+Ft(r),r!==t.value&&(t.value=r),i==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=i!=null?""+Ft(i):""}function Ma(t,r,i,o){if(r==null){if(o!=null){if(i!=null)throw Error(s(92));if(Je(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),r=i}i=Ft(r),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o),et(t)}function bn(t,r){if(r){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=r;return}}t.textContent=r}var Bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wl(t,r,i){var o=r.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,i):typeof i!="number"||i===0||Bc.has(r)?r==="float"?t.cssFloat=i:t[r]=(""+i).trim():t[r]=i+"px"}function Zl(t,r,i){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in r)o=r[h],r.hasOwnProperty(h)&&i[h]!==o&&Wl(t,h,o)}else for(var m in r)r.hasOwnProperty(m)&&Wl(t,m,r[m])}function Ri(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Va=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ii(t){return Va.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function or(){}var Jl=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var La=null,Mr=null;function Bs(t){var r=Bn(t);if(r&&(t=r.stateNode)){var i=t[Ht]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ci(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),r=i.name,i.type==="radio"&&r!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<i.length;r++){var o=i[r];if(o!==t&&o.form===t.form){var h=o[Ht]||null;if(!h)throw Error(s(90));Ci(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<i.length;r++)o=i[r],o.form===t.form&&Us(o)}break e;case"textarea":zc(t,i.value,i.defaultValue);break e;case"select":r=i.value,r!=null&&Oa(t,!!i.multiple,r,!1)}}}var Di=!1;function Pa(t,r,i){if(Di)return t(r,i);Di=!0;try{var o=t(r);return o}finally{if(Di=!1,(La!==null||Mr!==null)&&(Mu(),La&&(r=La,t=Mr,Mr=La=null,Bs(r),t)))for(r=0;r<t.length;r++)Bs(t[r])}}function cr(t,r){var i=t.stateNode;if(i===null)return null;var o=i[Ht]||null;if(o===null)return null;i=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,r,typeof i));return i}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Hn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){qs=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{qs=!1}var Vr=null,eo=null,Hs=null;function to(){if(Hs)return Hs;var t,r=eo,i=r.length,o,h="value"in Vr?Vr.value:Vr.textContent,m=h.length;for(t=0;t<i&&r[t]===h[t];t++);var x=i-t;for(o=1;o<=x&&r[i-o]===h[m-o];o++);return Hs=h.slice(t,1<o?1-o:void 0)}function Fs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ra(){return!0}function ur(){return!1}function Yt(t){function r(i,o,h,m,x){this._reactName=i,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(i=t[w],this[w]=i?i(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ra:ur,this.isPropagationStopped=ur,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),r}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lr=Yt(aa),Ua=E({},aa,{view:0,detail:0}),no=Yt(Ua),za,Oi,Pr,Mi=E({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pr&&(Pr&&t.type==="mousemove"?(za=t.screenX-Pr.screenX,Oi=t.screenY-Pr.screenY):Oi=za=0,Pr=t),za)},movementY:function(t){return"movementY"in t?t.movementY:Oi}}),ro=Yt(Mi),Gs=E({},Mi,{dataTransfer:0}),Hc=Yt(Gs),Fc=E({},Ua,{relatedTarget:0}),Qs=Yt(Fc),ao=E({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),Gc=Yt(ao),Vi=E({},aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qc=Yt(Vi),$c=E({},aa,{data:0}),Ur=Yt($c),Kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Xc[t])?!!r[t]:!1}function Ba(){return Wc}var fn=E({},Ua,{key:function(t){if(t.key){var r=Kc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(t){return t.type==="keypress"?Fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zc=Yt(fn),Jc=E({},Mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sa=Yt(Jc),d=E({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),y=Yt(d),v=E({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Yt(v),L=E({},Mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Yt(L),ie=E({},aa,{newState:0,oldState:0}),Ce=Yt(ie),Nt=[9,13,27,32],Xe=Hn&&"CompositionEvent"in window,mt=null;Hn&&"documentMode"in document&&(mt=document.documentMode);var Fn=Hn&&"TextEvent"in window&&!mt,zr=Hn&&(!Xe||mt&&8<mt&&11>=mt),dr=" ",hr=!1;function $s(t,r){switch(t){case"keyup":return Nt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Li(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pi=!1;function yw(t,r){switch(t){case"compositionend":return Li(r);case"keypress":return r.which!==32?null:(hr=!0,dr);case"textInput":return t=r.data,t===dr&&hr?null:t;default:return null}}function bw(t,r){if(Pi)return t==="compositionend"||!Xe&&$s(t,r)?(t=to(),Hs=eo=Vr=null,Pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return zr&&r.locale!=="ko"?null:r.data;default:return null}}var xw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!xw[t.type]:r==="textarea"}function Ig(t,r,i,o){La?Mr?Mr.push(o):Mr=[o]:La=o,r=qu(r,"onChange"),0<r.length&&(i=new Lr("onChange","change",null,i,o),t.push({event:i,listeners:r}))}var so=null,io=null;function vw(t){mb(t,0)}function eu(t){var r=An(t);if(Us(r))return t}function Dg(t,r){if(t==="change")return r}var Og=!1;if(Hn){var Nh;if(Hn){var kh="oninput"in document;if(!kh){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),kh=typeof Mg.oninput=="function"}Nh=kh}else Nh=!1;Og=Nh&&(!document.documentMode||9<document.documentMode)}function Vg(){so&&(so.detachEvent("onpropertychange",Lg),io=so=null)}function Lg(t){if(t.propertyName==="value"&&eu(io)){var r=[];Ig(r,io,t,qn(t)),Pa(vw,r)}}function _w(t,r,i){t==="focusin"?(Vg(),so=r,io=i,so.attachEvent("onpropertychange",Lg)):t==="focusout"&&Vg()}function ww(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(io)}function Ew(t,r){if(t==="click")return eu(r)}function Tw(t,r){if(t==="input"||t==="change")return eu(r)}function Nw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var jn=typeof Object.is=="function"?Object.is:Nw;function lo(t,r){if(jn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var i=Object.keys(t),o=Object.keys(r);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var h=i[o];if(!bt.call(r,h)||!jn(t[h],r[h]))return!1}return!0}function Pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ug(t,r){var i=Pg(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=r&&o>=r)return{node:i,offset:r-t};t=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Pg(i)}}function zg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?zg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Or(t.document);r instanceof t.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)t=r.contentWindow;else break;r=Or(t.document)}return r}function Ah(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var kw=Hn&&"documentMode"in document&&11>=document.documentMode,Ui=null,Sh=null,oo=null,jh=!1;function qg(t,r,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;jh||Ui==null||Ui!==Or(o)||(o=Ui,"selectionStart"in o&&Ah(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),oo&&lo(oo,o)||(oo=o,o=qu(Sh,"onSelect"),0<o.length&&(r=new Lr("onSelect","select",null,r,i),t.push({event:r,listeners:o}),r.target=Ui)))}function Ks(t,r){var i={};return i[t.toLowerCase()]=r.toLowerCase(),i["Webkit"+t]="webkit"+r,i["Moz"+t]="moz"+r,i}var zi={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Ch={},Hg={};Hn&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Ys(t){if(Ch[t])return Ch[t];if(!zi[t])return t;var r=zi[t],i;for(i in r)if(r.hasOwnProperty(i)&&i in Hg)return Ch[t]=r[i];return t}var Fg=Ys("animationend"),Gg=Ys("animationiteration"),Qg=Ys("animationstart"),Aw=Ys("transitionrun"),Sw=Ys("transitionstart"),jw=Ys("transitioncancel"),$g=Ys("transitionend"),Kg=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function fr(t,r){Kg.set(t,r),Ir(r,[t])}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gn=[],Bi=0,Ih=0;function nu(){for(var t=Bi,r=Ih=Bi=0;r<t;){var i=Gn[r];Gn[r++]=null;var o=Gn[r];Gn[r++]=null;var h=Gn[r];Gn[r++]=null;var m=Gn[r];if(Gn[r++]=null,o!==null&&h!==null){var x=o.pending;x===null?h.next=h:(h.next=x.next,x.next=h),o.pending=h}m!==0&&Yg(i,h,m)}}function ru(t,r,i,o){Gn[Bi++]=t,Gn[Bi++]=r,Gn[Bi++]=i,Gn[Bi++]=o,Ih|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Dh(t,r,i,o){return ru(t,r,i,o),au(t)}function Xs(t,r){return ru(t,null,null,r),au(t)}function Yg(t,r,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var h=!1,m=t.return;m!==null;)m.childLanes|=i,o=m.alternate,o!==null&&(o.childLanes|=i),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&r!==null&&(h=31-Tt(i),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[r]:o.push(r),r.lane=i|536870912),m):null}function au(t){if(50<Ro)throw Ro=0,Hf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var qi={};function Cw(t,r,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,r,i,o){return new Cw(t,r,i,o)}function Oh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ia(t,r){var i=t.alternate;return i===null?(i=Cn(t.tag,r,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=r,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,r=t.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Xg(t,r){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,r=i.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function su(t,r,i,o,h,m){var x=0;if(o=t,typeof t=="function")Oh(t)&&(x=1);else if(typeof t=="string")x=ME(t,i,F.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case k:return t=Cn(31,i,r,h),t.elementType=k,t.lanes=m,t;case ne:return Ws(i.children,h,m,r);case q:x=8,h|=24;break;case ae:return t=Cn(12,i,r,h|2),t.elementType=ae,t.lanes=m,t;case De:return t=Cn(13,i,r,h),t.elementType=De,t.lanes=m,t;case ee:return t=Cn(19,i,r,h),t.elementType=ee,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:x=10;break e;case ue:x=9;break e;case je:x=11;break e;case A:x=14;break e;case N:x=16,o=null;break e}x=29,i=Error(s(130,t===null?"null":typeof t,"")),o=null}return r=Cn(x,i,r,h),r.elementType=t,r.type=o,r.lanes=m,r}function Ws(t,r,i,o){return t=Cn(7,t,o,r),t.lanes=i,t}function Mh(t,r,i){return t=Cn(6,t,null,r),t.lanes=i,t}function Wg(t){var r=Cn(18,null,null,0);return r.stateNode=t,r}function Vh(t,r,i){return r=Cn(4,t.children!==null?t.children:[],t.key,r),r.lanes=i,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Zg=new WeakMap;function Qn(t,r){if(typeof t=="object"&&t!==null){var i=Zg.get(t);return i!==void 0?i:(r={value:t,source:r,stack:Os(r)},Zg.set(t,r),r)}return{value:t,source:r,stack:Os(r)}}var Hi=[],Fi=0,iu=null,co=0,$n=[],Kn=0,qa=null,Br=1,qr="";function la(t,r){Hi[Fi++]=co,Hi[Fi++]=iu,iu=t,co=r}function Jg(t,r,i){$n[Kn++]=Br,$n[Kn++]=qr,$n[Kn++]=qa,qa=t;var o=Br;t=qr;var h=32-Tt(o)-1;o&=~(1<<h),i+=1;var m=32-Tt(r)+h;if(30<m){var x=h-h%5;m=(o&(1<<x)-1).toString(32),o>>=x,h-=x,Br=1<<32-Tt(r)+h|i<<h|o,qr=m+t}else Br=1<<m|i<<h|o,qr=t}function Lh(t){t.return!==null&&(la(t,1),Jg(t,1,0))}function Ph(t){for(;t===iu;)iu=Hi[--Fi],Hi[Fi]=null,co=Hi[--Fi],Hi[Fi]=null;for(;t===qa;)qa=$n[--Kn],$n[Kn]=null,qr=$n[--Kn],$n[Kn]=null,Br=$n[--Kn],$n[Kn]=null}function ep(t,r){$n[Kn++]=Br,$n[Kn++]=qr,$n[Kn++]=qa,Br=r.id,qr=r.overflow,qa=t}var Xt=null,dt=null,Qe=!1,Ha=null,Yn=!1,Uh=Error(s(519));function Fa(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uo(Qn(r,t)),Uh}function tp(t){var r=t.stateNode,i=t.type,o=t.memoizedProps;switch(r[Ct]=t,r[Ht]=o,i){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<Do.length;i++)Ue(Do[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),Uc(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),Ma(r,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||r.textContent===""+i||o.suppressHydrationWarning===!0||bb(r.textContent,i)?(o.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),o.onScroll!=null&&Ue("scroll",r),o.onScrollEnd!=null&&Ue("scrollend",r),o.onClick!=null&&(r.onclick=or),r=!0):r=!1,r||Fa(t,!0)}function np(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Xt=Xt.return}}function Gi(t){if(t!==Xt)return!1;if(!Qe)return np(t),Qe=!0,!1;var r=t.tag,i;if((i=r!==3&&r!==27)&&((i=r===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||am(t.type,t.memoizedProps)),i=!i),i&&dt&&Fa(t),np(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));dt=Ab(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));dt=Ab(t)}else r===27?(r=dt,as(t.type)?(t=cm,cm=null,dt=t):dt=r):dt=Xt?Wn(t.stateNode.nextSibling):null;return!0}function Zs(){dt=Xt=null,Qe=!1}function zh(){var t=Ha;return t!==null&&(wn===null?wn=t:wn.push.apply(wn,t),Ha=null),t}function uo(t){Ha===null?Ha=[t]:Ha.push(t)}var Bh=I(null),Js=null,oa=null;function Ga(t,r,i){se(Bh,r._currentValue),r._currentValue=i}function ca(t){t._currentValue=Bh.current,K(Bh)}function qh(t,r,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===i)break;t=t.return}}function Hh(t,r,i,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var x=h.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=h;for(var C=0;C<r.length;C++)if(w.context===r[C]){m.lanes|=i,w=m.alternate,w!==null&&(w.lanes|=i),qh(m.return,i,t),o||(x=null);break e}m=w.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(s(341));x.lanes|=i,m=x.alternate,m!==null&&(m.lanes|=i),qh(x,i,t),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===t){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function Qi(t,r,i,o){t=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var w=h.type;jn(h.pendingProps.value,x.value)||(t!==null?t.push(w):t=[w])}}else if(h===Ne.current){if(x=h.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Po):t=[Po])}h=h.return}t!==null&&Hh(r,t,i,o),r.flags|=262144}function lu(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ei(t){Js=t,oa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return rp(Js,t)}function ou(t,r){return Js===null&&ei(t),rp(t,r)}function rp(t,r){var i=r._currentValue;if(r={context:r,memoizedValue:i,next:null},oa===null){if(t===null)throw Error(s(308));oa=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else oa=oa.next=r;return i}var Rw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(i){return i()})}},Iw=a.unstable_scheduleCallback,Dw=a.unstable_NormalPriority,Dt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new Rw,data:new Map,refCount:0}}function ho(t){t.refCount--,t.refCount===0&&Iw(Dw,function(){t.controller.abort()})}var fo=null,Gh=0,$i=0,Ki=null;function Ow(t,r){if(fo===null){var i=fo=[];Gh=0,$i=Yf(),Ki={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Gh++,r.then(ap,ap),r}function ap(){if(--Gh===0&&fo!==null){Ki!==null&&(Ki.status="fulfilled");var t=fo;fo=null,$i=0,Ki=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Mw(t,r){var i=[],o={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var h=0;h<i.length;h++)(0,i[h])(r)},function(h){for(o.status="rejected",o.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),o}var sp=$.S;$.S=function(t,r){qy=Ve(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Ow(t,r),sp!==null&&sp(t,r)};var ti=I(null);function Qh(){var t=ti.current;return t!==null?t:ot.pooledCache}function cu(t,r){r===null?se(ti,ti.current):se(ti,r.pool)}function ip(){var t=Qh();return t===null?null:{parent:Dt._currentValue,pool:t}}var Yi=Error(s(460)),$h=Error(s(474)),uu=Error(s(542)),du={then:function(){}};function lp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function op(t,r,i){switch(i=t[i],i===void 0?t.push(r):i!==r&&(r.then(or,or),r=i),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,up(t),t;default:if(typeof r.status=="string")r.then(or,or);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=o}},function(o){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,up(t),t}throw ri=r,Yi}}function ni(t){try{var r=t._init;return r(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ri=i,Yi):i}}var ri=null;function cp(){if(ri===null)throw Error(s(459));var t=ri;return ri=null,t}function up(t){if(t===Yi||t===uu)throw Error(s(483))}var Xi=null,mo=0;function hu(t){var r=mo;return mo+=1,Xi===null&&(Xi=[]),op(Xi,t,r)}function go(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function fu(t,r){throw r.$$typeof===j?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function dp(t){function r(V,D){if(t){var U=V.deletions;U===null?(V.deletions=[D],V.flags|=16):U.push(D)}}function i(V,D){if(!t)return null;for(;D!==null;)r(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=ia(V,D),V.index=0,V.sibling=null,V}function m(V,D,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<D?(V.flags|=67108866,D):U):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function x(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function w(V,D,U,X){return D===null||D.tag!==6?(D=Mh(U,V.mode,X),D.return=V,D):(D=h(D,U),D.return=V,D)}function C(V,D,U,X){var xe=U.type;return xe===ne?Y(V,D,U.props.children,X,U.key):D!==null&&(D.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===N&&ni(xe)===D.type)?(D=h(D,U.props),go(D,U),D.return=V,D):(D=su(U.type,U.key,U.props,null,V.mode,X),go(D,U),D.return=V,D)}function z(V,D,U,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Vh(U,V.mode,X),D.return=V,D):(D=h(D,U.children||[]),D.return=V,D)}function Y(V,D,U,X,xe){return D===null||D.tag!==7?(D=Ws(U,V.mode,X,xe),D.return=V,D):(D=h(D,U),D.return=V,D)}function Z(V,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Mh(""+D,V.mode,U),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case P:return U=su(D.type,D.key,D.props,null,V.mode,U),go(U,D),U.return=V,U;case Q:return D=Vh(D,V.mode,U),D.return=V,D;case N:return D=ni(D),Z(V,D,U)}if(Je(D)||M(D))return D=Ws(D,V.mode,U,null),D.return=V,D;if(typeof D.then=="function")return Z(V,hu(D),U);if(D.$$typeof===ge)return Z(V,ou(V,D),U);fu(V,D)}return null}function B(V,D,U,X){var xe=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return xe!==null?null:w(V,D,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===xe?C(V,D,U,X):null;case Q:return U.key===xe?z(V,D,U,X):null;case N:return U=ni(U),B(V,D,U,X)}if(Je(U)||M(U))return xe!==null?null:Y(V,D,U,X,null);if(typeof U.then=="function")return B(V,D,hu(U),X);if(U.$$typeof===ge)return B(V,D,ou(V,U),X);fu(V,U)}return null}function G(V,D,U,X,xe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(U)||null,w(D,V,""+X,xe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return V=V.get(X.key===null?U:X.key)||null,C(D,V,X,xe);case Q:return V=V.get(X.key===null?U:X.key)||null,z(D,V,X,xe);case N:return X=ni(X),G(V,D,U,X,xe)}if(Je(X)||M(X))return V=V.get(U)||null,Y(D,V,X,xe,null);if(typeof X.then=="function")return G(V,D,U,hu(X),xe);if(X.$$typeof===ge)return G(V,D,U,ou(D,X),xe);fu(D,X)}return null}function fe(V,D,U,X){for(var xe=null,Ke=null,pe=D,Ie=D=0,Be=null;pe!==null&&Ie<U.length;Ie++){pe.index>Ie?(Be=pe,pe=null):Be=pe.sibling;var Ye=B(V,pe,U[Ie],X);if(Ye===null){pe===null&&(pe=Be);break}t&&pe&&Ye.alternate===null&&r(V,pe),D=m(Ye,D,Ie),Ke===null?xe=Ye:Ke.sibling=Ye,Ke=Ye,pe=Be}if(Ie===U.length)return i(V,pe),Qe&&la(V,Ie),xe;if(pe===null){for(;Ie<U.length;Ie++)pe=Z(V,U[Ie],X),pe!==null&&(D=m(pe,D,Ie),Ke===null?xe=pe:Ke.sibling=pe,Ke=pe);return Qe&&la(V,Ie),xe}for(pe=o(pe);Ie<U.length;Ie++)Be=G(pe,V,Ie,U[Ie],X),Be!==null&&(t&&Be.alternate!==null&&pe.delete(Be.key===null?Ie:Be.key),D=m(Be,D,Ie),Ke===null?xe=Be:Ke.sibling=Be,Ke=Be);return t&&pe.forEach(function(cs){return r(V,cs)}),Qe&&la(V,Ie),xe}function _e(V,D,U,X){if(U==null)throw Error(s(151));for(var xe=null,Ke=null,pe=D,Ie=D=0,Be=null,Ye=U.next();pe!==null&&!Ye.done;Ie++,Ye=U.next()){pe.index>Ie?(Be=pe,pe=null):Be=pe.sibling;var cs=B(V,pe,Ye.value,X);if(cs===null){pe===null&&(pe=Be);break}t&&pe&&cs.alternate===null&&r(V,pe),D=m(cs,D,Ie),Ke===null?xe=cs:Ke.sibling=cs,Ke=cs,pe=Be}if(Ye.done)return i(V,pe),Qe&&la(V,Ie),xe;if(pe===null){for(;!Ye.done;Ie++,Ye=U.next())Ye=Z(V,Ye.value,X),Ye!==null&&(D=m(Ye,D,Ie),Ke===null?xe=Ye:Ke.sibling=Ye,Ke=Ye);return Qe&&la(V,Ie),xe}for(pe=o(pe);!Ye.done;Ie++,Ye=U.next())Ye=G(pe,V,Ie,Ye.value,X),Ye!==null&&(t&&Ye.alternate!==null&&pe.delete(Ye.key===null?Ie:Ye.key),D=m(Ye,D,Ie),Ke===null?xe=Ye:Ke.sibling=Ye,Ke=Ye);return t&&pe.forEach(function(QE){return r(V,QE)}),Qe&&la(V,Ie),xe}function it(V,D,U,X){if(typeof U=="object"&&U!==null&&U.type===ne&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:e:{for(var xe=U.key;D!==null;){if(D.key===xe){if(xe=U.type,xe===ne){if(D.tag===7){i(V,D.sibling),X=h(D,U.props.children),X.return=V,V=X;break e}}else if(D.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===N&&ni(xe)===D.type){i(V,D.sibling),X=h(D,U.props),go(X,U),X.return=V,V=X;break e}i(V,D);break}else r(V,D);D=D.sibling}U.type===ne?(X=Ws(U.props.children,V.mode,X,U.key),X.return=V,V=X):(X=su(U.type,U.key,U.props,null,V.mode,X),go(X,U),X.return=V,V=X)}return x(V);case Q:e:{for(xe=U.key;D!==null;){if(D.key===xe)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){i(V,D.sibling),X=h(D,U.children||[]),X.return=V,V=X;break e}else{i(V,D);break}else r(V,D);D=D.sibling}X=Vh(U,V.mode,X),X.return=V,V=X}return x(V);case N:return U=ni(U),it(V,D,U,X)}if(Je(U))return fe(V,D,U,X);if(M(U)){if(xe=M(U),typeof xe!="function")throw Error(s(150));return U=xe.call(U),_e(V,D,U,X)}if(typeof U.then=="function")return it(V,D,hu(U),X);if(U.$$typeof===ge)return it(V,D,ou(V,U),X);fu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(i(V,D.sibling),X=h(D,U),X.return=V,V=X):(i(V,D),X=Mh(U,V.mode,X),X.return=V,V=X),x(V)):i(V,D)}return function(V,D,U,X){try{mo=0;var xe=it(V,D,U,X);return Xi=null,xe}catch(pe){if(pe===Yi||pe===uu)throw pe;var Ke=Cn(29,pe,null,V.mode);return Ke.lanes=X,Ke.return=V,Ke}finally{}}}var ai=dp(!0),hp=dp(!1),Qa=!1;function Kh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $a(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ka(t,r,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(We&2)!==0){var h=o.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),o.pending=r,r=au(t),Yg(t,null,i),r}return ru(t,o,r,i),au(t)}function po(t,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,i|=o,r.lanes=i,ql(t,i)}}function Xh(t,r){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var x={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?h=m=x:m=m.next=x,i=i.next}while(i!==null);m===null?h=m=r:m=m.next=r}else h=m=r;i={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=r:t.next=r,i.lastBaseUpdate=r}var Wh=!1;function yo(){if(Wh){var t=Ki;if(t!==null)throw t}}function bo(t,r,i,o){Wh=!1;var h=t.updateQueue;Qa=!1;var m=h.firstBaseUpdate,x=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,z=C.next;C.next=null,x===null?m=z:x.next=z,x=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==x&&(w===null?Y.firstBaseUpdate=z:w.next=z,Y.lastBaseUpdate=C))}if(m!==null){var Z=h.baseState;x=0,Y=z=C=null,w=m;do{var B=w.lane&-536870913,G=B!==w.lane;if(G?(ze&B)===B:(o&B)===B){B!==0&&B===$i&&(Wh=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var fe=t,_e=w;B=r;var it=i;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){Z=fe.call(it,Z,B);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,B=typeof fe=="function"?fe.call(it,Z,B):fe,B==null)break e;Z=E({},Z,B);break e;case 2:Qa=!0}}B=w.callback,B!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(z=Y=G,C=Z):Y=Y.next=G,x|=B;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;G=w,w=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,m===null&&(h.shared.lanes=0),Ja|=x,t.lanes=x,t.memoizedState=Z}}function fp(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function mp(t,r){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)fp(i[t],r)}var Wi=I(null),mu=I(0);function gp(t,r){t=ba,se(mu,t),se(Wi,r),ba=t|r.baseLanes}function Zh(){se(mu,ba),se(Wi,Wi.current)}function Jh(){ba=mu.current,K(Wi),K(mu)}var Rn=I(null),Xn=null;function Ya(t){var r=t.alternate;se(kt,kt.current&1),se(Rn,t),Xn===null&&(r===null||Wi.current!==null||r.memoizedState!==null)&&(Xn=t)}function ef(t){se(kt,kt.current),se(Rn,t),Xn===null&&(Xn=t)}function pp(t){t.tag===22?(se(kt,kt.current),se(Rn,t),Xn===null&&(Xn=t)):Xa()}function Xa(){se(kt,kt.current),se(Rn,Rn.current)}function In(t){K(Rn),Xn===t&&(Xn=null),K(kt)}var kt=I(0);function gu(t){for(var r=t;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||lm(i)||om(i)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ua=0,Re=null,at=null,Ot=null,pu=!1,Zi=!1,si=!1,yu=0,xo=0,Ji=null,Vw=0;function xt(){throw Error(s(321))}function tf(t,r){if(r===null)return!1;for(var i=0;i<r.length&&i<t.length;i++)if(!jn(t[i],r[i]))return!1;return!0}function nf(t,r,i,o,h,m){return ua=m,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?Jp:bf,si=!1,m=i(o,h),si=!1,Zi&&(m=bp(r,i,o,h)),yp(t),m}function yp(t){$.H=wo;var r=at!==null&&at.next!==null;if(ua=0,Ot=at=Re=null,pu=!1,xo=0,Ji=null,r)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&lu(t)&&(Mt=!0))}function bp(t,r,i,o){Re=t;var h=0;do{if(Zi&&(Ji=null),xo=0,Zi=!1,25<=h)throw Error(s(301));if(h+=1,Ot=at=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=ey,m=r(i,o)}while(Zi);return m}function Lw(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?vo(r):r,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Re.flags|=1024),r}function rf(){var t=yu!==0;return yu=0,t}function af(t,r,i){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~i}function sf(t){if(pu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}pu=!1}ua=0,Ot=at=Re=null,Zi=!1,xo=yu=0,Ji=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Re.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function At(){if(at===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var r=Ot===null?Re.memoizedState:Ot.next;if(r!==null)Ot=r,at=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ot===null?Re.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vo(t){var r=xo;return xo+=1,Ji===null&&(Ji=[]),t=op(Ji,t,r),r=Re,(Ot===null?r.memoizedState:Ot.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?Jp:bf),t}function xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vo(t);if(t.$$typeof===ge)return Wt(t)}throw Error(s(438,String(t)))}function lf(t){var r=null,i=Re.updateQueue;if(i!==null&&(r=i.memoCache),r==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),i===null&&(i=bu(),Re.updateQueue=i),i.memoCache=r,i=r.data[r.index],i===void 0)for(i=r.data[r.index]=Array(t),o=0;o<t;o++)i[o]=O;return r.index++,i}function da(t,r){return typeof r=="function"?r(t):r}function vu(t){var r=At();return of(r,at,t)}function of(t,r,i){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var x=h.next;h.next=m.next,m.next=x}r.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{r=h.next;var w=x=null,C=null,z=r,Y=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(ze&Z)===Z:(ua&Z)===Z){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===$i&&(Y=!0);else if((ua&B)===B){z=z.next,B===$i&&(Y=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(w=C=Z,x=m):C=C.next=Z,Re.lanes|=B,Ja|=B;Z=z.action,si&&i(m,Z),m=z.hasEagerState?z.eagerState:i(m,Z)}else B={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(w=C=B,x=m):C=C.next=B,Re.lanes|=Z,Ja|=Z;z=z.next}while(z!==null&&z!==r);if(C===null?x=m:C.next=w,!jn(m,t.memoizedState)&&(Mt=!0,Y&&(i=Ki,i!==null)))throw i;t.memoizedState=m,t.baseState=x,t.baseQueue=C,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function cf(t){var r=At(),i=r.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var o=i.dispatch,h=i.pending,m=r.memoizedState;if(h!==null){i.pending=null;var x=h=h.next;do m=t(m,x.action),x=x.next;while(x!==h);jn(m,r.memoizedState)||(Mt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),i.lastRenderedState=m}return[m,o]}function xp(t,r,i){var o=Re,h=At(),m=Qe;if(m){if(i===void 0)throw Error(s(407));i=i()}else i=r();var x=!jn((at||h).memoizedState,i);if(x&&(h.memoizedState=i,Mt=!0),h=h.queue,hf(wp.bind(null,o,h,t),[t]),h.getSnapshot!==r||x||Ot!==null&&Ot.memoizedState.tag&1){if(o.flags|=2048,el(9,{destroy:void 0},_p.bind(null,o,h,i,r),null),ot===null)throw Error(s(349));m||(ua&127)!==0||vp(o,r,i)}return i}function vp(t,r,i){t.flags|=16384,t={getSnapshot:r,value:i},r=Re.updateQueue,r===null?(r=bu(),Re.updateQueue=r,r.stores=[t]):(i=r.stores,i===null?r.stores=[t]:i.push(t))}function _p(t,r,i,o){r.value=i,r.getSnapshot=o,Ep(r)&&Tp(t)}function wp(t,r,i){return i(function(){Ep(r)&&Tp(t)})}function Ep(t){var r=t.getSnapshot;t=t.value;try{var i=r();return!jn(t,i)}catch{return!0}}function Tp(t){var r=Xs(t,2);r!==null&&En(r,t,2)}function uf(t){var r=mn();if(typeof t=="function"){var i=t;if(t=i(),si){zn(!0);try{i()}finally{zn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:t},r}function Np(t,r,i,o){return t.baseState=i,of(t,at,typeof o=="function"?o:da)}function Pw(t,r,i,o,h){if(Eu(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};$.T!==null?i(!0):m.isTransition=!1,o(m),i=r.pending,i===null?(m.next=r.pending=m,kp(r,m)):(m.next=i.next,r.pending=i.next=m)}}function kp(t,r){var i=r.action,o=r.payload,h=t.state;if(r.isTransition){var m=$.T,x={};$.T=x;try{var w=i(h,o),C=$.S;C!==null&&C(x,w),Ap(t,r,w)}catch(z){df(t,r,z)}finally{m!==null&&x.types!==null&&(m.types=x.types),$.T=m}}else try{m=i(h,o),Ap(t,r,m)}catch(z){df(t,r,z)}}function Ap(t,r,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Sp(t,r,o)},function(o){return df(t,r,o)}):Sp(t,r,i)}function Sp(t,r,i){r.status="fulfilled",r.value=i,jp(r),t.state=i,r=t.pending,r!==null&&(i=r.next,i===r?t.pending=null:(i=i.next,r.next=i,kp(t,i)))}function df(t,r,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=i,jp(r),r=r.next;while(r!==o)}t.action=null}function jp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Cp(t,r){return r}function Rp(t,r){if(Qe){var i=ot.formState;if(i!==null){e:{var o=Re;if(Qe){if(dt){t:{for(var h=dt,m=Yn;h.nodeType!==8;){if(!m){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){dt=Wn(h.nextSibling),o=h.data==="F!";break e}}Fa(o)}o=!1}o&&(r=i[0])}}return i=mn(),i.memoizedState=i.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cp,lastRenderedState:r},i.queue=o,i=Xp.bind(null,Re,o),o.dispatch=i,o=uf(!1),m=yf.bind(null,Re,!1,o.queue),o=mn(),h={state:r,dispatch:null,action:t,pending:null},o.queue=h,i=Pw.bind(null,Re,h,m,i),h.dispatch=i,o.memoizedState=t,[r,i,!1]}function Ip(t){var r=At();return Dp(r,at,t)}function Dp(t,r,i){if(r=of(t,r,Cp)[0],t=vu(da)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=vo(r)}catch(x){throw x===Yi?uu:x}else o=r;r=At();var h=r.queue,m=h.dispatch;return i!==r.memoizedState&&(Re.flags|=2048,el(9,{destroy:void 0},Uw.bind(null,h,i),null)),[o,m,t]}function Uw(t,r){t.action=r}function Op(t){var r=At(),i=at;if(i!==null)return Dp(r,i,t);At(),r=r.memoizedState,i=At();var o=i.queue.dispatch;return i.memoizedState=t,[r,o,!1]}function el(t,r,i,o){return t={tag:t,create:i,deps:o,inst:r,next:null},r=Re.updateQueue,r===null&&(r=bu(),Re.updateQueue=r),i=r.lastEffect,i===null?r.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,r.lastEffect=t),t}function Mp(){return At().memoizedState}function _u(t,r,i,o){var h=mn();Re.flags|=t,h.memoizedState=el(1|r,{destroy:void 0},i,o===void 0?null:o)}function wu(t,r,i,o){var h=At();o=o===void 0?null:o;var m=h.memoizedState.inst;at!==null&&o!==null&&tf(o,at.memoizedState.deps)?h.memoizedState=el(r,m,i,o):(Re.flags|=t,h.memoizedState=el(1|r,m,i,o))}function Vp(t,r){_u(8390656,8,t,r)}function hf(t,r){wu(2048,8,t,r)}function zw(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=bu(),Re.updateQueue=r,r.events=[t];else{var i=r.events;i===null?r.events=[t]:i.push(t)}}function Lp(t){var r=At().memoizedState;return zw({ref:r,nextImpl:t}),function(){if((We&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Pp(t,r){return wu(4,2,t,r)}function Up(t,r){return wu(4,4,t,r)}function zp(t,r){if(typeof r=="function"){t=t();var i=r(t);return function(){typeof i=="function"?i():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Bp(t,r,i){i=i!=null?i.concat([t]):null,wu(4,4,zp.bind(null,r,t),i)}function ff(){}function qp(t,r){var i=At();r=r===void 0?null:r;var o=i.memoizedState;return r!==null&&tf(r,o[1])?o[0]:(i.memoizedState=[t,r],t)}function Hp(t,r){var i=At();r=r===void 0?null:r;var o=i.memoizedState;if(r!==null&&tf(r,o[1]))return o[0];if(o=t(),si){zn(!0);try{t()}finally{zn(!1)}}return i.memoizedState=[o,r],o}function mf(t,r,i){return i===void 0||(ua&1073741824)!==0&&(ze&261930)===0?t.memoizedState=r:(t.memoizedState=i,t=Fy(),Re.lanes|=t,Ja|=t,i)}function Fp(t,r,i,o){return jn(i,r)?i:Wi.current!==null?(t=mf(t,i,o),jn(t,r)||(Mt=!0),t):(ua&42)===0||(ua&1073741824)!==0&&(ze&261930)===0?(Mt=!0,t.memoizedState=i):(t=Fy(),Re.lanes|=t,Ja|=t,r)}function Gp(t,r,i,o,h){var m=re.p;re.p=m!==0&&8>m?m:8;var x=$.T,w={};$.T=w,yf(t,!1,r,i);try{var C=h(),z=$.S;if(z!==null&&z(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=Mw(C,o);_o(t,r,Y,Mn(t))}else _o(t,r,o,Mn(t))}catch(Z){_o(t,r,{then:function(){},status:"rejected",reason:Z},Mn())}finally{re.p=m,x!==null&&w.types!==null&&(x.types=w.types),$.T=x}}function Bw(){}function gf(t,r,i,o){if(t.tag!==5)throw Error(s(476));var h=Qp(t).queue;Gp(t,h,r,me,i===null?Bw:function(){return $p(t),i(o)})}function Qp(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:me},next:null};var i={};return r.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:i},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function $p(t){var r=Qp(t);r.next===null&&(r=t.alternate.memoizedState),_o(t,r.next.queue,{},Mn())}function pf(){return Wt(Po)}function Kp(){return At().memoizedState}function Yp(){return At().memoizedState}function qw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var i=Mn();t=$a(i);var o=Ka(r,t,i);o!==null&&(En(o,r,i),po(o,r,i)),r={cache:Fh()},t.payload=r;return}r=r.return}}function Hw(t,r,i){var o=Mn();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Eu(t)?Wp(r,i):(i=Dh(t,r,i,o),i!==null&&(En(i,t,o),Zp(i,r,o)))}function Xp(t,r,i){var o=Mn();_o(t,r,i,o)}function _o(t,r,i,o){var h={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Eu(t))Wp(r,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var x=r.lastRenderedState,w=m(x,i);if(h.hasEagerState=!0,h.eagerState=w,jn(w,x))return ru(t,r,h,0),ot===null&&nu(),!1}catch{}finally{}if(i=Dh(t,r,h,o),i!==null)return En(i,t,o),Zp(i,r,o),!0}return!1}function yf(t,r,i,o){if(o={lane:2,revertLane:Yf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Eu(t)){if(r)throw Error(s(479))}else r=Dh(t,i,o,2),r!==null&&En(r,t,2)}function Eu(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function Wp(t,r){Zi=pu=!0;var i=t.pending;i===null?r.next=r:(r.next=i.next,i.next=r),t.pending=r}function Zp(t,r,i){if((i&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,i|=o,r.lanes=i,ql(t,i)}}var wo={readContext:Wt,use:xu,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};wo.useEffectEvent=xt;var Jp={readContext:Wt,use:xu,useCallback:function(t,r){return mn().memoizedState=[t,r===void 0?null:r],t},useContext:Wt,useEffect:Vp,useImperativeHandle:function(t,r,i){i=i!=null?i.concat([t]):null,_u(4194308,4,zp.bind(null,r,t),i)},useLayoutEffect:function(t,r){return _u(4194308,4,t,r)},useInsertionEffect:function(t,r){_u(4,2,t,r)},useMemo:function(t,r){var i=mn();r=r===void 0?null:r;var o=t();if(si){zn(!0);try{t()}finally{zn(!1)}}return i.memoizedState=[o,r],o},useReducer:function(t,r,i){var o=mn();if(i!==void 0){var h=i(r);if(si){zn(!0);try{i(r)}finally{zn(!1)}}}else h=r;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Hw.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var r=mn();return t={current:t},r.memoizedState=t},useState:function(t){t=uf(t);var r=t.queue,i=Xp.bind(null,Re,r);return r.dispatch=i,[t.memoizedState,i]},useDebugValue:ff,useDeferredValue:function(t,r){var i=mn();return mf(i,t,r)},useTransition:function(){var t=uf(!1);return t=Gp.bind(null,Re,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,i){var o=Re,h=mn();if(Qe){if(i===void 0)throw Error(s(407));i=i()}else{if(i=r(),ot===null)throw Error(s(349));(ze&127)!==0||vp(o,r,i)}h.memoizedState=i;var m={value:i,getSnapshot:r};return h.queue=m,Vp(wp.bind(null,o,m,t),[t]),o.flags|=2048,el(9,{destroy:void 0},_p.bind(null,o,m,i,r),null),i},useId:function(){var t=mn(),r=ot.identifierPrefix;if(Qe){var i=qr,o=Br;i=(o&~(1<<32-Tt(o)-1)).toString(32)+i,r="_"+r+"R_"+i,i=yu++,0<i&&(r+="H"+i.toString(32)),r+="_"}else i=Vw++,r="_"+r+"r_"+i.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:pf,useFormState:Rp,useActionState:Rp,useOptimistic:function(t){var r=mn();r.memoizedState=r.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=i,r=yf.bind(null,Re,!0,i),i.dispatch=r,[t,r]},useMemoCache:lf,useCacheRefresh:function(){return mn().memoizedState=qw.bind(null,Re)},useEffectEvent:function(t){var r=mn(),i={impl:t};return r.memoizedState=i,function(){if((We&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},bf={readContext:Wt,use:xu,useCallback:qp,useContext:Wt,useEffect:hf,useImperativeHandle:Bp,useInsertionEffect:Pp,useLayoutEffect:Up,useMemo:Hp,useReducer:vu,useRef:Mp,useState:function(){return vu(da)},useDebugValue:ff,useDeferredValue:function(t,r){var i=At();return Fp(i,at.memoizedState,t,r)},useTransition:function(){var t=vu(da)[0],r=At().memoizedState;return[typeof t=="boolean"?t:vo(t),r]},useSyncExternalStore:xp,useId:Kp,useHostTransitionStatus:pf,useFormState:Ip,useActionState:Ip,useOptimistic:function(t,r){var i=At();return Np(i,at,t,r)},useMemoCache:lf,useCacheRefresh:Yp};bf.useEffectEvent=Lp;var ey={readContext:Wt,use:xu,useCallback:qp,useContext:Wt,useEffect:hf,useImperativeHandle:Bp,useInsertionEffect:Pp,useLayoutEffect:Up,useMemo:Hp,useReducer:cf,useRef:Mp,useState:function(){return cf(da)},useDebugValue:ff,useDeferredValue:function(t,r){var i=At();return at===null?mf(i,t,r):Fp(i,at.memoizedState,t,r)},useTransition:function(){var t=cf(da)[0],r=At().memoizedState;return[typeof t=="boolean"?t:vo(t),r]},useSyncExternalStore:xp,useId:Kp,useHostTransitionStatus:pf,useFormState:Op,useActionState:Op,useOptimistic:function(t,r){var i=At();return at!==null?Np(i,at,t,r):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:lf,useCacheRefresh:Yp};ey.useEffectEvent=Lp;function xf(t,r,i,o){r=t.memoizedState,i=i(o,r),i=i==null?r:E({},r,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var vf={enqueueSetState:function(t,r,i){t=t._reactInternals;var o=Mn(),h=$a(o);h.payload=r,i!=null&&(h.callback=i),r=Ka(t,h,o),r!==null&&(En(r,t,o),po(r,t,o))},enqueueReplaceState:function(t,r,i){t=t._reactInternals;var o=Mn(),h=$a(o);h.tag=1,h.payload=r,i!=null&&(h.callback=i),r=Ka(t,h,o),r!==null&&(En(r,t,o),po(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var i=Mn(),o=$a(i);o.tag=2,r!=null&&(o.callback=r),r=Ka(t,o,i),r!==null&&(En(r,t,i),po(r,t,i))}};function ty(t,r,i,o,h,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,x):r.prototype&&r.prototype.isPureReactComponent?!lo(i,o)||!lo(h,m):!0}function ny(t,r,i,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,o),r.state!==t&&vf.enqueueReplaceState(r,r.state,null)}function ii(t,r){var i=r;if("ref"in r){i={};for(var o in r)o!=="ref"&&(i[o]=r[o])}if(t=t.defaultProps){i===r&&(i=E({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function ry(t){tu(t)}function ay(t){console.error(t)}function sy(t){tu(t)}function Tu(t,r){try{var i=t.onUncaughtError;i(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function iy(t,r,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _f(t,r,i){return i=$a(i),i.tag=3,i.payload={element:null},i.callback=function(){Tu(t,r)},i}function ly(t){return t=$a(t),t.tag=3,t}function oy(t,r,i,o){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){iy(r,i,o)}}var x=i.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){iy(r,i,o),typeof h!="function"&&(es===null?es=new Set([this]):es.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function Fw(t,r,i,o,h){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=i.alternate,r!==null&&Qi(r,i,h,!0),i=Rn.current,i!==null){switch(i.tag){case 31:case 13:return Xn===null?Vu():i.alternate===null&&vt===0&&(vt=3),i.flags&=-257,i.flags|=65536,i.lanes=h,o===du?i.flags|=16384:(r=i.updateQueue,r===null?i.updateQueue=new Set([o]):r.add(o),Qf(t,o,h)),!1;case 22:return i.flags|=65536,o===du?i.flags|=16384:(r=i.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=r):(i=r.retryQueue,i===null?r.retryQueue=new Set([o]):i.add(o)),Qf(t,o,h)),!1}throw Error(s(435,i.tag))}return Qf(t,o,h),Vu(),!1}if(Qe)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,o!==Uh&&(t=Error(s(422),{cause:o}),uo(Qn(t,i)))):(o!==Uh&&(r=Error(s(423),{cause:o}),uo(Qn(r,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Qn(o,i),h=_f(t.stateNode,o,h),Xh(t,h),vt!==4&&(vt=2)),!1;var m=Error(s(520),{cause:o});if(m=Qn(m,i),Co===null?Co=[m]:Co.push(m),vt!==4&&(vt=2),r===null)return!0;o=Qn(o,i),i=r;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=_f(i.stateNode,o,t),Xh(i,t),!1;case 1:if(r=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(es===null||!es.has(m))))return i.flags|=65536,h&=-h,i.lanes|=h,h=ly(h),oy(h,t,i,o),Xh(i,h),!1}i=i.return}while(i!==null);return!1}var wf=Error(s(461)),Mt=!1;function Zt(t,r,i,o){r.child=t===null?hp(r,null,i,o):ai(r,t.child,i,o)}function cy(t,r,i,o,h){i=i.render;var m=r.ref;if("ref"in o){var x={};for(var w in o)w!=="ref"&&(x[w]=o[w])}else x=o;return ei(r),o=nf(t,r,i,x,m,h),w=rf(),t!==null&&!Mt?(af(t,r,h),ha(t,r,h)):(Qe&&w&&Lh(r),r.flags|=1,Zt(t,r,o,h),r.child)}function uy(t,r,i,o,h){if(t===null){var m=i.type;return typeof m=="function"&&!Oh(m)&&m.defaultProps===void 0&&i.compare===null?(r.tag=15,r.type=m,dy(t,r,m,o,h)):(t=su(i.type,null,o,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!Cf(t,h)){var x=m.memoizedProps;if(i=i.compare,i=i!==null?i:lo,i(x,o)&&t.ref===r.ref)return ha(t,r,h)}return r.flags|=1,t=ia(m,o),t.ref=r.ref,t.return=r,r.child=t}function dy(t,r,i,o,h){if(t!==null){var m=t.memoizedProps;if(lo(m,o)&&t.ref===r.ref)if(Mt=!1,r.pendingProps=o=m,Cf(t,h))(t.flags&131072)!==0&&(Mt=!0);else return r.lanes=t.lanes,ha(t,r,h)}return Ef(t,r,i,o,h)}function hy(t,r,i,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,t!==null){for(o=r.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,r.child=null;return fy(t,r,m,i,o)}if((i&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(r,m!==null?m.cachePool:null),m!==null?gp(r,m):Zh(),pp(r);else return o=r.lanes=536870912,fy(t,r,m!==null?m.baseLanes|i:i,i,o)}else m!==null?(cu(r,m.cachePool),gp(r,m),Xa(),r.memoizedState=null):(t!==null&&cu(r,null),Zh(),Xa());return Zt(t,r,h,i),r.child}function Eo(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function fy(t,r,i,o,h){var m=Qh();return m=m===null?null:{parent:Dt._currentValue,pool:m},r.memoizedState={baseLanes:i,cachePool:m},t!==null&&cu(r,null),Zh(),pp(r),t!==null&&Qi(t,r,o,!0),r.childLanes=h,null}function Nu(t,r){return r=Au({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function my(t,r,i){return ai(r,t.child,null,i),t=Nu(r,r.pendingProps),t.flags|=2,In(r),r.memoizedState=null,t}function Gw(t,r,i){var o=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Qe){if(o.mode==="hidden")return t=Nu(r,o),r.lanes=536870912,Eo(null,t);if(ef(r),(t=dt)?(t=kb(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:qa!==null?{id:Br,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},i=Wg(t),i.return=r,r.child=i,Xt=r,dt=null)):t=null,t===null)throw Fa(r);return r.lanes=536870912,null}return Nu(r,o)}var m=t.memoizedState;if(m!==null){var x=m.dehydrated;if(ef(r),h)if(r.flags&256)r.flags&=-257,r=my(t,r,i);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Mt||Qi(t,r,i,!1),h=(i&t.childLanes)!==0,Mt||h){if(o=ot,o!==null&&(x=Hl(o,i),x!==0&&x!==m.retryLane))throw m.retryLane=x,Xs(t,x),En(o,t,x),wf;Vu(),r=my(t,r,i)}else t=m.treeContext,dt=Wn(x.nextSibling),Xt=r,Qe=!0,Ha=null,Yn=!1,t!==null&&ep(r,t),r=Nu(r,o),r.flags|=4096;return r}return t=ia(t.child,{mode:o.mode,children:o.children}),t.ref=r.ref,r.child=t,t.return=r,t}function ku(t,r){var i=r.ref;if(i===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(r.flags|=4194816)}}function Ef(t,r,i,o,h){return ei(r),i=nf(t,r,i,o,void 0,h),o=rf(),t!==null&&!Mt?(af(t,r,h),ha(t,r,h)):(Qe&&o&&Lh(r),r.flags|=1,Zt(t,r,i,h),r.child)}function gy(t,r,i,o,h,m){return ei(r),r.updateQueue=null,i=bp(r,o,i,h),yp(t),o=rf(),t!==null&&!Mt?(af(t,r,m),ha(t,r,m)):(Qe&&o&&Lh(r),r.flags|=1,Zt(t,r,i,m),r.child)}function py(t,r,i,o,h){if(ei(r),r.stateNode===null){var m=qi,x=i.contextType;typeof x=="object"&&x!==null&&(m=Wt(x)),m=new i(o,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=vf,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=o,m.state=r.memoizedState,m.refs={},Kh(r),x=i.contextType,m.context=typeof x=="object"&&x!==null?Wt(x):qi,m.state=r.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(xf(r,i,x,o),m.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&vf.enqueueReplaceState(m,m.state,null),bo(r,o,m,h),yo(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){m=r.stateNode;var w=r.memoizedProps,C=ii(i,w);m.props=C;var z=m.context,Y=i.contextType;x=qi,typeof Y=="object"&&Y!==null&&(x=Wt(Y));var Z=i.getDerivedStateFromProps;Y=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||z!==x)&&ny(r,m,o,x),Qa=!1;var B=r.memoizedState;m.state=B,bo(r,o,m,h),yo(),z=r.memoizedState,w||B!==z||Qa?(typeof Z=="function"&&(xf(r,i,Z,o),z=r.memoizedState),(C=Qa||ty(r,i,C,o,B,z,x))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=z),m.props=o,m.state=z,m.context=x,o=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{m=r.stateNode,Yh(t,r),x=r.memoizedProps,Y=ii(i,x),m.props=Y,Z=r.pendingProps,B=m.context,z=i.contextType,C=qi,typeof z=="object"&&z!==null&&(C=Wt(z)),w=i.getDerivedStateFromProps,(z=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==Z||B!==C)&&ny(r,m,o,C),Qa=!1,B=r.memoizedState,m.state=B,bo(r,o,m,h),yo();var G=r.memoizedState;x!==Z||B!==G||Qa||t!==null&&t.dependencies!==null&&lu(t.dependencies)?(typeof w=="function"&&(xf(r,i,w,o),G=r.memoizedState),(Y=Qa||ty(r,i,Y,o,B,G,C)||t!==null&&t.dependencies!==null&&lu(t.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,G,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,G,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=G),m.props=o,m.state=G,m.context=C,o=Y):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),o=!1)}return m=o,ku(t,r),o=(r.flags&128)!==0,m||o?(m=r.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&o?(r.child=ai(r,t.child,null,h),r.child=ai(r,null,i,h)):Zt(t,r,i,h),r.memoizedState=m.state,t=r.child):t=ha(t,r,h),t}function yy(t,r,i,o){return Zs(),r.flags|=256,Zt(t,r,i,o),r.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(t){return{baseLanes:t,cachePool:ip()}}function kf(t,r,i){return t=t!==null?t.childLanes&~i:0,r&&(t|=On),t}function by(t,r,i){var o=r.pendingProps,h=!1,m=(r.flags&128)!==0,x;if((x=m)||(x=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),x&&(h=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,t===null){if(Qe){if(h?Ya(r):Xa(),(t=dt)?(t=kb(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:qa!==null?{id:Br,overflow:qr}:null,retryLane:536870912,hydrationErrors:null},i=Wg(t),i.return=r,r.child=i,Xt=r,dt=null)):t=null,t===null)throw Fa(r);return om(t)?r.lanes=32:r.lanes=536870912,null}var w=o.children;return o=o.fallback,h?(Xa(),h=r.mode,w=Au({mode:"hidden",children:w},h),o=Ws(o,h,i,null),w.return=r,o.return=r,w.sibling=o,r.child=w,o=r.child,o.memoizedState=Nf(i),o.childLanes=kf(t,x,i),r.memoizedState=Tf,Eo(null,o)):(Ya(r),Af(r,w))}var C=t.memoizedState;if(C!==null&&(w=C.dehydrated,w!==null)){if(m)r.flags&256?(Ya(r),r.flags&=-257,r=Sf(t,r,i)):r.memoizedState!==null?(Xa(),r.child=t.child,r.flags|=128,r=null):(Xa(),w=o.fallback,h=r.mode,o=Au({mode:"visible",children:o.children},h),w=Ws(w,h,i,null),w.flags|=2,o.return=r,w.return=r,o.sibling=w,r.child=o,ai(r,t.child,null,i),o=r.child,o.memoizedState=Nf(i),o.childLanes=kf(t,x,i),r.memoizedState=Tf,r=Eo(null,o));else if(Ya(r),om(w)){if(x=w.nextSibling&&w.nextSibling.dataset,x)var z=x.dgst;x=z,o=Error(s(419)),o.stack="",o.digest=x,uo({value:o,source:null,stack:null}),r=Sf(t,r,i)}else if(Mt||Qi(t,r,i,!1),x=(i&t.childLanes)!==0,Mt||x){if(x=ot,x!==null&&(o=Hl(x,i),o!==0&&o!==C.retryLane))throw C.retryLane=o,Xs(t,o),En(x,t,o),wf;lm(w)||Vu(),r=Sf(t,r,i)}else lm(w)?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,dt=Wn(w.nextSibling),Xt=r,Qe=!0,Ha=null,Yn=!1,t!==null&&ep(r,t),r=Af(r,o.children),r.flags|=4096);return r}return h?(Xa(),w=o.fallback,h=r.mode,C=t.child,z=C.sibling,o=ia(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?w=ia(z,w):(w=Ws(w,h,i,null),w.flags|=2),w.return=r,o.return=r,o.sibling=w,r.child=o,Eo(null,o),o=r.child,w=t.child.memoizedState,w===null?w=Nf(i):(h=w.cachePool,h!==null?(C=Dt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ip(),w={baseLanes:w.baseLanes|i,cachePool:h}),o.memoizedState=w,o.childLanes=kf(t,x,i),r.memoizedState=Tf,Eo(t.child,o)):(Ya(r),i=t.child,t=i.sibling,i=ia(i,{mode:"visible",children:o.children}),i.return=r,i.sibling=null,t!==null&&(x=r.deletions,x===null?(r.deletions=[t],r.flags|=16):x.push(t)),r.child=i,r.memoizedState=null,i)}function Af(t,r){return r=Au({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Au(t,r){return t=Cn(22,t,null,r),t.lanes=0,t}function Sf(t,r,i){return ai(r,t.child,null,i),t=Af(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function xy(t,r,i){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),qh(t.return,r,i)}function jf(t,r,i,o,h,m){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:h,treeForkCount:m}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=o,x.tail=i,x.tailMode=h,x.treeForkCount=m)}function vy(t,r,i){var o=r.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var x=kt.current,w=(x&2)!==0;if(w?(x=x&1|2,r.flags|=128):x&=1,se(kt,x),Zt(t,r,o,i),o=Qe?co:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xy(t,i,r);else if(t.tag===19)xy(t,i,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=r.child,h=null;i!==null;)t=i.alternate,t!==null&&gu(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=r.child,r.child=null):(h=i.sibling,i.sibling=null),jf(r,!1,h,i,m,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&gu(t)===null){r.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}jf(r,!0,i,null,m,o);break;case"together":jf(r,!1,null,null,void 0,o);break;default:r.memoizedState=null}return r.child}function ha(t,r,i){if(t!==null&&(r.dependencies=t.dependencies),Ja|=r.lanes,(i&r.childLanes)===0)if(t!==null){if(Qi(t,r,i,!1),(i&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,i=ia(t,t.pendingProps),r.child=i,i.return=r;t.sibling!==null;)t=t.sibling,i=i.sibling=ia(t,t.pendingProps),i.return=r;i.sibling=null}return r.child}function Cf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&lu(t)))}function Qw(t,r,i){switch(r.tag){case 3:lt(r,r.stateNode.containerInfo),Ga(r,Dt,t.memoizedState.cache),Zs();break;case 27:case 5:pt(r);break;case 4:lt(r,r.stateNode.containerInfo);break;case 10:Ga(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ef(r),null;break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(Ya(r),r.flags|=128,null):(i&r.child.childLanes)!==0?by(t,r,i):(Ya(r),t=ha(t,r,i),t!==null?t.sibling:null);Ya(r);break;case 19:var h=(t.flags&128)!==0;if(o=(i&r.childLanes)!==0,o||(Qi(t,r,i,!1),o=(i&r.childLanes)!==0),h){if(o)return vy(t,r,i);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(kt,kt.current),o)break;return null;case 22:return r.lanes=0,hy(t,r,i,r.pendingProps);case 24:Ga(r,Dt,t.memoizedState.cache)}return ha(t,r,i)}function _y(t,r,i){if(t!==null)if(t.memoizedProps!==r.pendingProps)Mt=!0;else{if(!Cf(t,i)&&(r.flags&128)===0)return Mt=!1,Qw(t,r,i);Mt=(t.flags&131072)!==0}else Mt=!1,Qe&&(r.flags&1048576)!==0&&Jg(r,co,r.index);switch(r.lanes=0,r.tag){case 16:e:{var o=r.pendingProps;if(t=ni(r.elementType),r.type=t,typeof t=="function")Oh(t)?(o=ii(t,o),r.tag=1,r=py(null,r,t,o,i)):(r.tag=0,r=Ef(null,r,t,o,i));else{if(t!=null){var h=t.$$typeof;if(h===je){r.tag=11,r=cy(null,r,t,o,i);break e}else if(h===A){r.tag=14,r=uy(null,r,t,o,i);break e}}throw r=Me(t)||t,Error(s(306,r,""))}}return r;case 0:return Ef(t,r,r.type,r.pendingProps,i);case 1:return o=r.type,h=ii(o,r.pendingProps),py(t,r,o,h,i);case 3:e:{if(lt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));o=r.pendingProps;var m=r.memoizedState;h=m.element,Yh(t,r),bo(r,o,null,i);var x=r.memoizedState;if(o=x.cache,Ga(r,Dt,o),o!==m.cache&&Hh(r,[Dt],i,!0),yo(),o=x.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=yy(t,r,o,i);break e}else if(o!==h){h=Qn(Error(s(424)),r),uo(h),r=yy(t,r,o,i);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Wn(t.firstChild),Xt=r,Qe=!0,Ha=null,Yn=!0,i=hp(r,null,o,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Zs(),o===h){r=ha(t,r,i);break e}Zt(t,r,o,i)}r=r.child}return r;case 26:return ku(t,r),t===null?(i=Ib(r.type,null,r.pendingProps,null))?r.memoizedState=i:Qe||(i=r.type,t=r.pendingProps,o=Hu(be.current).createElement(i),o[Ct]=r,o[Ht]=t,Jt(o,i,t),Rt(o),r.stateNode=o):r.memoizedState=Ib(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return pt(r),t===null&&Qe&&(o=r.stateNode=jb(r.type,r.pendingProps,be.current),Xt=r,Yn=!0,h=dt,as(r.type)?(cm=h,dt=Wn(o.firstChild)):dt=h),Zt(t,r,r.pendingProps.children,i),ku(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Qe&&((h=o=dt)&&(o=wE(o,r.type,r.pendingProps,Yn),o!==null?(r.stateNode=o,Xt=r,dt=Wn(o.firstChild),Yn=!1,h=!0):h=!1),h||Fa(r)),pt(r),h=r.type,m=r.pendingProps,x=t!==null?t.memoizedProps:null,o=m.children,am(h,m)?o=null:x!==null&&am(h,x)&&(r.flags|=32),r.memoizedState!==null&&(h=nf(t,r,Lw,null,null,i),Po._currentValue=h),ku(t,r),Zt(t,r,o,i),r.child;case 6:return t===null&&Qe&&((t=i=dt)&&(i=EE(i,r.pendingProps,Yn),i!==null?(r.stateNode=i,Xt=r,dt=null,t=!0):t=!1),t||Fa(r)),null;case 13:return by(t,r,i);case 4:return lt(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=ai(r,null,o,i):Zt(t,r,o,i),r.child;case 11:return cy(t,r,r.type,r.pendingProps,i);case 7:return Zt(t,r,r.pendingProps,i),r.child;case 8:return Zt(t,r,r.pendingProps.children,i),r.child;case 12:return Zt(t,r,r.pendingProps.children,i),r.child;case 10:return o=r.pendingProps,Ga(r,r.type,o.value),Zt(t,r,o.children,i),r.child;case 9:return h=r.type._context,o=r.pendingProps.children,ei(r),h=Wt(h),o=o(h),r.flags|=1,Zt(t,r,o,i),r.child;case 14:return uy(t,r,r.type,r.pendingProps,i);case 15:return dy(t,r,r.type,r.pendingProps,i);case 19:return vy(t,r,i);case 31:return Gw(t,r,i);case 22:return hy(t,r,i,r.pendingProps);case 24:return ei(r),o=Wt(Dt),t===null?(h=Qh(),h===null&&(h=ot,m=Fh(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=i),h=m),r.memoizedState={parent:o,cache:h},Kh(r),Ga(r,Dt,h)):((t.lanes&i)!==0&&(Yh(t,r),bo(r,null,null,i),yo()),h=t.memoizedState,m=r.memoizedState,h.parent!==o?(h={parent:o,cache:o},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ga(r,Dt,o)):(o=m.cache,Ga(r,Dt,o),o!==h.cache&&Hh(r,[Dt],i,!0))),Zt(t,r,r.pendingProps.children,i),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function fa(t){t.flags|=4}function Rf(t,r,i,o,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ky())t.flags|=8192;else throw ri=du,$h}else t.flags&=-16777217}function wy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Lb(r))if(Ky())t.flags|=8192;else throw ri=du,$h}function Su(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Oc():536870912,t.lanes|=r,al|=r)}function To(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ht(t){var r=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(r)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=i,r}function $w(t,r,i){var o=r.pendingProps;switch(Ph(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return i=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ca(Dt),ye(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Gi(r)?fa(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,zh())),ht(r),null;case 26:var h=r.type,m=r.memoizedState;return t===null?(fa(r),m!==null?(ht(r),wy(r,m)):(ht(r),Rf(r,h,null,o,i))):m?m!==t.memoizedState?(fa(r),ht(r),wy(r,m)):(ht(r),r.flags&=-16777217):(t=t.memoizedProps,t!==o&&fa(r),ht(r),Rf(r,h,t,o,i)),null;case 27:if(qt(r),i=be.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&fa(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return ht(r),null}t=F.current,Gi(r)?tp(r):(t=jb(h,o,i),r.stateNode=t,fa(r))}return ht(r),null;case 5:if(qt(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&fa(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(m=F.current,Gi(r))tp(r);else{var x=Hu(be.current);switch(m){case 1:m=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=x.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?x.createElement("select",{is:o.is}):x.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?x.createElement(h,{is:o.is}):x.createElement(h)}}m[Ct]=r,m[Ht]=o;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)m.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=m;e:switch(Jt(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&fa(r)}}return ht(r),Rf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,i),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&fa(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Gi(r)){if(t=r.stateNode,i=r.memoizedProps,o=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ct]=r,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||bb(t.nodeValue,i)),t||Fa(r,!0)}else t=Hu(t).createTextNode(o),t[Ct]=r,r.stateNode=t}return ht(r),null;case 31:if(i=r.memoizedState,t===null||t.memoizedState!==null){if(o=Gi(r),i!==null){if(t===null){if(!o)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ct]=r}else Zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),t=!1}else i=zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ht(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Gi(r),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ct]=r}else Zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),h=!1}else h=zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=i,r):(i=o!==null,t=t!==null&&t.memoizedState!==null,i&&(o=r.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),i!==t&&i&&(r.child.flags|=8192),Su(r,r.updateQueue),ht(r),null);case 4:return ye(),t===null&&Jf(r.stateNode.containerInfo),ht(r),null;case 10:return ca(r.type),ht(r),null;case 19:if(K(kt),o=r.memoizedState,o===null)return ht(r),null;if(h=(r.flags&128)!==0,m=o.rendering,m===null)if(h)To(o,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=gu(t),m!==null){for(r.flags|=128,To(o,!1),t=m.updateQueue,r.updateQueue=t,Su(r,t),r.subtreeFlags=0,t=i,i=r.child;i!==null;)Xg(i,t),i=i.sibling;return se(kt,kt.current&1|2),Qe&&la(r,o.treeForkCount),r.child}t=t.sibling}o.tail!==null&&Ve()>Du&&(r.flags|=128,h=!0,To(o,!1),r.lanes=4194304)}else{if(!h)if(t=gu(m),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,Su(r,t),To(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Qe)return ht(r),null}else 2*Ve()-o.renderingStartTime>Du&&i!==536870912&&(r.flags|=128,h=!0,To(o,!1),r.lanes=4194304);o.isBackwards?(m.sibling=r.child,r.child=m):(t=o.last,t!==null?t.sibling=m:r.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ve(),t.sibling=null,i=kt.current,se(kt,h?i&1|2:i&1),Qe&&la(r,o.treeForkCount),t):(ht(r),null);case 22:case 23:return In(r),Jh(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(i&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),i=r.updateQueue,i!==null&&Su(r,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048),t!==null&&K(ti),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),r.memoizedState.cache!==i&&(r.flags|=2048),ca(Dt),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Kw(t,r){switch(Ph(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ca(Dt),ye(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return qt(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(s(340));Zs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(In(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return K(kt),null;case 4:return ye(),null;case 10:return ca(r.type),null;case 22:case 23:return In(r),Jh(),t!==null&&K(ti),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ca(Dt),null;case 25:return null;default:return null}}function Ey(t,r){switch(Ph(r),r.tag){case 3:ca(Dt),ye();break;case 26:case 27:case 5:qt(r);break;case 4:ye();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:K(kt);break;case 10:ca(r.type);break;case 22:case 23:In(r),Jh(),t!==null&&K(ti);break;case 24:ca(Dt)}}function No(t,r){try{var i=r.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var h=o.next;i=h;do{if((i.tag&t)===t){o=void 0;var m=i.create,x=i.inst;o=m(),x.destroy=o}i=i.next}while(i!==h)}}catch(w){nt(r,r.return,w)}}function Wa(t,r,i){try{var o=r.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var x=o.inst,w=x.destroy;if(w!==void 0){x.destroy=void 0,h=r;var C=i,z=w;try{z()}catch(Y){nt(h,C,Y)}}}o=o.next}while(o!==m)}}catch(Y){nt(r,r.return,Y)}}function Ty(t){var r=t.updateQueue;if(r!==null){var i=t.stateNode;try{mp(r,i)}catch(o){nt(t,t.return,o)}}}function Ny(t,r,i){i.props=ii(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){nt(t,r,o)}}function ko(t,r){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof i=="function"?t.refCleanup=i(o):i.current=o}}catch(h){nt(t,r,h)}}function Hr(t,r){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(h){nt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){nt(t,r,h)}else i.current=null}function ky(t){var r=t.type,i=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(h){nt(t,t.return,h)}}function If(t,r,i){try{var o=t.stateNode;pE(o,t.type,i,r),o[Ht]=r}catch(h){nt(t,t.return,h)}}function Ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&as(t.type)||t.tag===4}function Df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&as(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Of(t,r,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,r):(r=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,r.appendChild(t),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=or));else if(o!==4&&(o===27&&as(t.type)&&(i=t.stateNode,r=null),t=t.child,t!==null))for(Of(t,r,i),t=t.sibling;t!==null;)Of(t,r,i),t=t.sibling}function ju(t,r,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?i.insertBefore(t,r):i.appendChild(t);else if(o!==4&&(o===27&&as(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(ju(t,r,i),t=t.sibling;t!==null;)ju(t,r,i),t=t.sibling}function Sy(t){var r=t.stateNode,i=t.memoizedProps;try{for(var o=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Jt(r,o,i),r[Ct]=t,r[Ht]=i}catch(m){nt(t,t.return,m)}}var ma=!1,Vt=!1,Mf=!1,jy=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function Yw(t,r){if(t=t.containerInfo,nm=Xu,t=Bg(t),Ah(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var x=0,w=-1,C=-1,z=0,Y=0,Z=t,B=null;t:for(;;){for(var G;Z!==i||h!==0&&Z.nodeType!==3||(w=x+h),Z!==m||o!==0&&Z.nodeType!==3||(C=x+o),Z.nodeType===3&&(x+=Z.nodeValue.length),(G=Z.firstChild)!==null;)B=Z,Z=G;for(;;){if(Z===t)break t;if(B===i&&++z===h&&(w=x),B===m&&++Y===o&&(C=x),(G=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=G}i=w===-1||C===-1?null:{start:w,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(rm={focusedElem:t,selectionRange:i},Xu=!1,Gt=r;Gt!==null;)if(r=Gt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Gt=t;else for(;Gt!==null;){switch(r=Gt,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,i=r,h=m.memoizedProps,m=m.memoizedState,o=i.stateNode;try{var fe=ii(i.type,h);t=o.getSnapshotBeforeUpdate(fe,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){nt(i,i.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,i=t.nodeType,i===9)im(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Gt=t;break}Gt=r.return}}function Cy(t,r,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:pa(t,i),o&4&&No(5,i);break;case 1:if(pa(t,i),o&4)if(t=i.stateNode,r===null)try{t.componentDidMount()}catch(x){nt(i,i.return,x)}else{var h=ii(i.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(x){nt(i,i.return,x)}}o&64&&Ty(i),o&512&&ko(i,i.return);break;case 3:if(pa(t,i),o&64&&(t=i.updateQueue,t!==null)){if(r=null,i.child!==null)switch(i.child.tag){case 27:case 5:r=i.child.stateNode;break;case 1:r=i.child.stateNode}try{mp(t,r)}catch(x){nt(i,i.return,x)}}break;case 27:r===null&&o&4&&Sy(i);case 26:case 5:pa(t,i),r===null&&o&4&&ky(i),o&512&&ko(i,i.return);break;case 12:pa(t,i);break;case 31:pa(t,i),o&4&&Dy(t,i);break;case 13:pa(t,i),o&4&&Oy(t,i),o&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=aE.bind(null,i),TE(t,i))));break;case 22:if(o=i.memoizedState!==null||ma,!o){r=r!==null&&r.memoizedState!==null||Vt,h=ma;var m=Vt;ma=o,(Vt=r)&&!m?ya(t,i,(i.subtreeFlags&8772)!==0):pa(t,i),ma=h,Vt=m}break;case 30:break;default:pa(t,i)}}function Ry(t){var r=t.alternate;r!==null&&(t.alternate=null,Ry(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Si(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,xn=!1;function ga(t,r,i){for(i=i.child;i!==null;)Iy(t,r,i),i=i.sibling}function Iy(t,r,i){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ar,i)}catch{}switch(i.tag){case 26:Vt||Hr(i,r),ga(t,r,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Vt||Hr(i,r);var o=gt,h=xn;as(i.type)&&(gt=i.stateNode,xn=!1),ga(t,r,i),Mo(i.stateNode),gt=o,xn=h;break;case 5:Vt||Hr(i,r);case 6:if(o=gt,h=xn,gt=null,ga(t,r,i),gt=o,xn=h,gt!==null)if(xn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(i.stateNode)}catch(m){nt(i,r,m)}else try{gt.removeChild(i.stateNode)}catch(m){nt(i,r,m)}break;case 18:gt!==null&&(xn?(t=gt,Tb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),hl(t)):Tb(gt,i.stateNode));break;case 4:o=gt,h=xn,gt=i.stateNode.containerInfo,xn=!0,ga(t,r,i),gt=o,xn=h;break;case 0:case 11:case 14:case 15:Wa(2,i,r),Vt||Wa(4,i,r),ga(t,r,i);break;case 1:Vt||(Hr(i,r),o=i.stateNode,typeof o.componentWillUnmount=="function"&&Ny(i,r,o)),ga(t,r,i);break;case 21:ga(t,r,i);break;case 22:Vt=(o=Vt)||i.memoizedState!==null,ga(t,r,i),Vt=o;break;default:ga(t,r,i)}}function Dy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{hl(t)}catch(i){nt(r,r.return,i)}}}function Oy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hl(t)}catch(i){nt(r,r.return,i)}}function Xw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new jy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new jy),r;default:throw Error(s(435,t.tag))}}function Cu(t,r){var i=Xw(t);r.forEach(function(o){if(!i.has(o)){i.add(o);var h=sE.bind(null,t,o);o.then(h,h)}})}function vn(t,r){var i=r.deletions;if(i!==null)for(var o=0;o<i.length;o++){var h=i[o],m=t,x=r,w=x;e:for(;w!==null;){switch(w.tag){case 27:if(as(w.type)){gt=w.stateNode,xn=!1;break e}break;case 5:gt=w.stateNode,xn=!1;break e;case 3:case 4:gt=w.stateNode.containerInfo,xn=!0;break e}w=w.return}if(gt===null)throw Error(s(160));Iy(m,x,h),gt=null,xn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)My(r,t),r=r.sibling}var mr=null;function My(t,r){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(r,t),_n(t),o&4&&(Wa(3,t,t.return),No(3,t),Wa(5,t,t.return));break;case 1:vn(r,t),_n(t),o&512&&(Vt||i===null||Hr(i,i.return)),o&64&&ma&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var h=mr;if(vn(r,t),_n(t),o&512&&(Vt||i===null||Hr(i,i.return)),o&4){var m=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){e:{o=t.type,i=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[jr]||m[Ct]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Jt(m,o,i),m[Ct]=t,Rt(m),o=m;break e;case"link":var x=Mb("link","href",h).get(o+(i.href||""));if(x){for(var w=0;w<x.length;w++)if(m=x[w],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){x.splice(w,1);break t}}m=h.createElement(o),Jt(m,o,i),h.head.appendChild(m);break;case"meta":if(x=Mb("meta","content",h).get(o+(i.content||""))){for(w=0;w<x.length;w++)if(m=x[w],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){x.splice(w,1);break t}}m=h.createElement(o),Jt(m,o,i),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[Ct]=t,Rt(m),o=m}t.stateNode=o}else Vb(h,t.type,t.stateNode);else t.stateNode=Ob(h,o,t.memoizedProps);else m!==o?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,o===null?Vb(h,t.type,t.stateNode):Ob(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&If(t,t.memoizedProps,i.memoizedProps)}break;case 27:vn(r,t),_n(t),o&512&&(Vt||i===null||Hr(i,i.return)),i!==null&&o&4&&If(t,t.memoizedProps,i.memoizedProps);break;case 5:if(vn(r,t),_n(t),o&512&&(Vt||i===null||Hr(i,i.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(fe){nt(t,t.return,fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,If(t,h,i!==null?i.memoizedProps:h)),o&1024&&(Mf=!0);break;case 6:if(vn(r,t),_n(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(fe){nt(t,t.return,fe)}}break;case 3:if(Qu=null,h=mr,mr=Fu(r.containerInfo),vn(r,t),mr=h,_n(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{hl(r.containerInfo)}catch(fe){nt(t,t.return,fe)}Mf&&(Mf=!1,Vy(t));break;case 4:o=mr,mr=Fu(t.stateNode.containerInfo),vn(r,t),_n(t),mr=o;break;case 12:vn(r,t),_n(t);break;case 31:vn(r,t),_n(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Cu(t,o)));break;case 13:vn(r,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Iu=Ve()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Cu(t,o)));break;case 22:h=t.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,z=ma,Y=Vt;if(ma=z||h,Vt=Y||C,vn(r,t),Vt=Y,ma=z,_n(t),o&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(i===null||C||ma||Vt||li(t)),i=null,r=t;;){if(r.tag===5||r.tag===26){if(i===null){C=i=r;try{if(m=C.stateNode,h)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{w=C.stateNode;var Z=C.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;w.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(fe){nt(C,C.return,fe)}}}else if(r.tag===6){if(i===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(fe){nt(C,C.return,fe)}}}else if(r.tag===18){if(i===null){C=r;try{var G=C.stateNode;h?Nb(G,!0):Nb(C.stateNode,!1)}catch(fe){nt(C,C.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;i===r&&(i=null),r=r.return}i===r&&(i=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Cu(t,i))));break;case 19:vn(r,t),_n(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Cu(t,o)));break;case 30:break;case 21:break;default:vn(r,t),_n(t)}}function _n(t){var r=t.flags;if(r&2){try{for(var i,o=t.return;o!==null;){if(Ay(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var h=i.stateNode,m=Df(t);ju(t,m,h);break;case 5:var x=i.stateNode;i.flags&32&&(bn(x,""),i.flags&=-33);var w=Df(t);ju(t,w,x);break;case 3:case 4:var C=i.stateNode.containerInfo,z=Df(t);Of(t,z,C);break;default:throw Error(s(161))}}catch(Y){nt(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Vy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function pa(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Cy(t,r.alternate,r),r=r.sibling}function li(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Wa(4,r,r.return),li(r);break;case 1:Hr(r,r.return);var i=r.stateNode;typeof i.componentWillUnmount=="function"&&Ny(r,r.return,i),li(r);break;case 27:Mo(r.stateNode);case 26:case 5:Hr(r,r.return),li(r);break;case 22:r.memoizedState===null&&li(r);break;case 30:li(r);break;default:li(r)}t=t.sibling}}function ya(t,r,i){for(i=i&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,h=t,m=r,x=m.flags;switch(m.tag){case 0:case 11:case 15:ya(h,m,i),No(4,m);break;case 1:if(ya(h,m,i),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){nt(o,o.return,z)}if(o=m,h=o.updateQueue,h!==null){var w=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)fp(C[h],w)}catch(z){nt(o,o.return,z)}}i&&x&64&&Ty(m),ko(m,m.return);break;case 27:Sy(m);case 26:case 5:ya(h,m,i),i&&o===null&&x&4&&ky(m),ko(m,m.return);break;case 12:ya(h,m,i);break;case 31:ya(h,m,i),i&&x&4&&Dy(h,m);break;case 13:ya(h,m,i),i&&x&4&&Oy(h,m);break;case 22:m.memoizedState===null&&ya(h,m,i),ko(m,m.return);break;case 30:break;default:ya(h,m,i)}r=r.sibling}}function Vf(t,r){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&ho(i))}function Lf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ho(t))}function gr(t,r,i,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ly(t,r,i,o),r=r.sibling}function Ly(t,r,i,o){var h=r.flags;switch(r.tag){case 0:case 11:case 15:gr(t,r,i,o),h&2048&&No(9,r);break;case 1:gr(t,r,i,o);break;case 3:gr(t,r,i,o),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ho(t)));break;case 12:if(h&2048){gr(t,r,i,o),t=r.stateNode;try{var m=r.memoizedProps,x=m.id,w=m.onPostCommit;typeof w=="function"&&w(x,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){nt(r,r.return,C)}}else gr(t,r,i,o);break;case 31:gr(t,r,i,o);break;case 13:gr(t,r,i,o);break;case 23:break;case 22:m=r.stateNode,x=r.alternate,r.memoizedState!==null?m._visibility&2?gr(t,r,i,o):Ao(t,r):m._visibility&2?gr(t,r,i,o):(m._visibility|=2,tl(t,r,i,o,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Vf(x,r);break;case 24:gr(t,r,i,o),h&2048&&Lf(r.alternate,r);break;default:gr(t,r,i,o)}}function tl(t,r,i,o,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,x=r,w=i,C=o,z=x.flags;switch(x.tag){case 0:case 11:case 15:tl(m,x,w,C,h),No(8,x);break;case 23:break;case 22:var Y=x.stateNode;x.memoizedState!==null?Y._visibility&2?tl(m,x,w,C,h):Ao(m,x):(Y._visibility|=2,tl(m,x,w,C,h)),h&&z&2048&&Vf(x.alternate,x);break;case 24:tl(m,x,w,C,h),h&&z&2048&&Lf(x.alternate,x);break;default:tl(m,x,w,C,h)}r=r.sibling}}function Ao(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var i=t,o=r,h=o.flags;switch(o.tag){case 22:Ao(i,o),h&2048&&Vf(o.alternate,o);break;case 24:Ao(i,o),h&2048&&Lf(o.alternate,o);break;default:Ao(i,o)}r=r.sibling}}var So=8192;function nl(t,r,i){if(t.subtreeFlags&So)for(t=t.child;t!==null;)Py(t,r,i),t=t.sibling}function Py(t,r,i){switch(t.tag){case 26:nl(t,r,i),t.flags&So&&t.memoizedState!==null&&VE(i,mr,t.memoizedState,t.memoizedProps);break;case 5:nl(t,r,i);break;case 3:case 4:var o=mr;mr=Fu(t.stateNode.containerInfo),nl(t,r,i),mr=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=So,So=16777216,nl(t,r,i),So=o):nl(t,r,i));break;default:nl(t,r,i)}}function Uy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function jo(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];Gt=o,By(o,t)}Uy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 0:case 11:case 15:jo(t),t.flags&2048&&Wa(9,t,t.return);break;case 3:jo(t);break;case 12:jo(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ru(t)):jo(t);break;default:jo(t)}}function Ru(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];Gt=o,By(o,t)}Uy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Wa(8,r,r.return),Ru(r);break;case 22:i=r.stateNode,i._visibility&2&&(i._visibility&=-3,Ru(r));break;default:Ru(r)}t=t.sibling}}function By(t,r){for(;Gt!==null;){var i=Gt;switch(i.tag){case 0:case 11:case 15:Wa(8,i,r);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ho(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Gt=o;else e:for(i=t;Gt!==null;){o=Gt;var h=o.sibling,m=o.return;if(Ry(o),o===i){Gt=null;break e}if(h!==null){h.return=m,Gt=h;break e}Gt=m}}}var Ww={getCacheForType:function(t){var r=Wt(Dt),i=r.data.get(t);return i===void 0&&(i=t(),r.data.set(t,i)),i},cacheSignal:function(){return Wt(Dt).controller.signal}},Zw=typeof WeakMap=="function"?WeakMap:Map,We=0,ot=null,Pe=null,ze=0,tt=0,Dn=null,Za=!1,rl=!1,Pf=!1,ba=0,vt=0,Ja=0,oi=0,Uf=0,On=0,al=0,Co=null,wn=null,zf=!1,Iu=0,qy=0,Du=1/0,Ou=null,es=null,zt=0,ts=null,sl=null,xa=0,Bf=0,qf=null,Hy=null,Ro=0,Hf=null;function Mn(){return(We&2)!==0&&ze!==0?ze&-ze:$.T!==null?Yf():Mc()}function Fy(){if(On===0)if((ze&536870912)===0||Qe){var t=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),On=t}else On=536870912;return t=Rn.current,t!==null&&(t.flags|=32),On}function En(t,r,i){(t===ot&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(il(t,0),ns(t,ze,On,!1)),Vs(t,i),((We&2)===0||t!==ot)&&(t===ot&&((We&2)===0&&(oi|=i),vt===4&&ns(t,ze,On,!1)),Fr(t))}function Gy(t,r,i){if((We&6)!==0)throw Error(s(327));var o=!i&&(r&127)===0&&(r&t.expiredLanes)===0||sr(t,r),h=o?tE(t,r):Gf(t,r,!0),m=o;do{if(h===0){rl&&!o&&ns(t,r,0,!1);break}else{if(i=t.current.alternate,m&&!Jw(i)){h=Gf(t,r,!1),m=!1;continue}if(h===2){if(m=r,t.errorRecoveryDisabledLanes&m)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var w=t;h=Co;var C=w.current.memoizedState.isDehydrated;if(C&&(il(w,x).flags|=256),x=Gf(w,x,!1),x!==2){if(Pf&&!C){w.errorRecoveryDisabledLanes|=m,oi|=m,h=4;break e}m=wn,wn=h,m!==null&&(wn===null?wn=m:wn.push.apply(wn,m))}h=x}if(m=!1,h!==2)continue}}if(h===1){il(t,0),ns(t,r,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ns(o,r,On,!Za);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Iu+300-Ve(),10<h)){if(ns(o,r,On,!Za),kr(o,0,!0)!==0)break e;xa=r,o.timeoutHandle=wb(Qy.bind(null,o,i,wn,Ou,zf,r,On,oi,al,Za,m,"Throttled",-0,0),h);break e}Qy(o,i,wn,Ou,zf,r,On,oi,al,Za,m,null,-0,0)}}break}while(!0);Fr(t)}function Qy(t,r,i,o,h,m,x,w,C,z,Y,Z,B,G){if(t.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:or},Py(r,m,Z);var fe=(m&62914560)===m?Iu-Ve():(m&4194048)===m?qy-Ve():0;if(fe=LE(Z,fe),fe!==null){xa=m,t.cancelPendingCommit=fe(eb.bind(null,t,r,m,i,o,h,x,w,C,Y,Z,null,B,G)),ns(t,m,x,!z);return}}eb(t,r,m,i,o,h,x,w,C)}function Jw(t){for(var r=t;;){var i=r.tag;if((i===0||i===11||i===15)&&r.flags&16384&&(i=r.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var h=i[o],m=h.getSnapshot;h=h.value;try{if(!jn(m(),h))return!1}catch{return!1}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ns(t,r,i,o){r&=~Uf,r&=~oi,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var h=r;0<h;){var m=31-Tt(h),x=1<<m;o[m]=-1,h&=~x}i!==0&&Ls(t,i,r)}function Mu(){return(We&6)===0?(Io(0),!1):!0}function Ff(){if(Pe!==null){if(tt===0)var t=Pe.return;else t=Pe,oa=Js=null,sf(t),Xi=null,mo=0,t=Pe;for(;t!==null;)Ey(t.alternate,t),t=t.return;Pe=null}}function il(t,r){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,xE(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),xa=0,Ff(),ot=t,Pe=i=ia(t.current,null),ze=r,tt=0,Dn=null,Za=!1,rl=sr(t,r),Pf=!1,al=On=Uf=oi=Ja=vt=0,wn=Co=null,zf=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var h=31-Tt(o),m=1<<h;r|=t[h],o&=~m}return ba=r,nu(),i}function $y(t,r){Re=null,$.H=wo,r===Yi||r===uu?(r=cp(),tt=3):r===$h?(r=cp(),tt=4):tt=r===wf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Pe===null&&(vt=1,Tu(t,Qn(r,t.current)))}function Ky(){var t=Rn.current;return t===null?!0:(ze&4194048)===ze?Xn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===Xn:!1}function Yy(){var t=$.H;return $.H=wo,t===null?wo:t}function Xy(){var t=$.A;return $.A=Ww,t}function Vu(){vt=4,Za||(ze&4194048)!==ze&&Rn.current!==null||(rl=!0),(Ja&134217727)===0&&(oi&134217727)===0||ot===null||ns(ot,ze,On,!1)}function Gf(t,r,i){var o=We;We|=2;var h=Yy(),m=Xy();(ot!==t||ze!==r)&&(Ou=null,il(t,r)),r=!1;var x=vt;e:do try{if(tt!==0&&Pe!==null){var w=Pe,C=Dn;switch(tt){case 8:Ff(),x=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var z=tt;if(tt=0,Dn=null,ll(t,w,C,z),i&&rl){x=0;break e}break;default:z=tt,tt=0,Dn=null,ll(t,w,C,z)}}eE(),x=vt;break}catch(Y){$y(t,Y)}while(!0);return r&&t.shellSuspendCounter++,oa=Js=null,We=o,$.H=h,$.A=m,Pe===null&&(ot=null,ze=0,nu()),x}function eE(){for(;Pe!==null;)Wy(Pe)}function tE(t,r){var i=We;We|=2;var o=Yy(),h=Xy();ot!==t||ze!==r?(Ou=null,Du=Ve()+500,il(t,r)):rl=sr(t,r);e:do try{if(tt!==0&&Pe!==null){r=Pe;var m=Dn;t:switch(tt){case 1:tt=0,Dn=null,ll(t,r,m,1);break;case 2:case 9:if(lp(m)){tt=0,Dn=null,Zy(r);break}r=function(){tt!==2&&tt!==9||ot!==t||(tt=7),Fr(t)},m.then(r,r);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:lp(m)?(tt=0,Dn=null,Zy(r)):(tt=0,Dn=null,ll(t,r,m,7));break;case 5:var x=null;switch(Pe.tag){case 26:x=Pe.memoizedState;case 5:case 27:var w=Pe;if(x?Lb(x):w.stateNode.complete){tt=0,Dn=null;var C=w.sibling;if(C!==null)Pe=C;else{var z=w.return;z!==null?(Pe=z,Lu(z)):Pe=null}break t}}tt=0,Dn=null,ll(t,r,m,5);break;case 6:tt=0,Dn=null,ll(t,r,m,6);break;case 8:Ff(),vt=6;break e;default:throw Error(s(462))}}nE();break}catch(Y){$y(t,Y)}while(!0);return oa=Js=null,$.H=o,$.A=h,We=i,Pe!==null?0:(ot=null,ze=0,nu(),vt)}function nE(){for(;Pe!==null&&!oe();)Wy(Pe)}function Wy(t){var r=_y(t.alternate,t,ba);t.memoizedProps=t.pendingProps,r===null?Lu(t):Pe=r}function Zy(t){var r=t,i=r.alternate;switch(r.tag){case 15:case 0:r=gy(i,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=gy(i,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:sf(r);default:Ey(i,r),r=Pe=Xg(r,ba),r=_y(i,r,ba)}t.memoizedProps=t.pendingProps,r===null?Lu(t):Pe=r}function ll(t,r,i,o){oa=Js=null,sf(r),Xi=null,mo=0;var h=r.return;try{if(Fw(t,h,r,i,ze)){vt=1,Tu(t,Qn(i,t.current)),Pe=null;return}}catch(m){if(h!==null)throw Pe=h,m;vt=1,Tu(t,Qn(i,t.current)),Pe=null;return}r.flags&32768?(Qe||o===1?t=!0:rl||(ze&536870912)!==0?t=!1:(Za=t=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jy(r,t)):Lu(r)}function Lu(t){var r=t;do{if((r.flags&32768)!==0){Jy(r,Za);return}t=r.return;var i=$w(r.alternate,r,ba);if(i!==null){Pe=i;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=t}while(r!==null);vt===0&&(vt=5)}function Jy(t,r){do{var i=Kw(t.alternate,t);if(i!==null){i.flags&=32767,Pe=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!r&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=i}while(t!==null);vt=6,Pe=null}function eb(t,r,i,o,h,m,x,w,C){t.cancelPendingCommit=null;do Pu();while(zt!==0);if((We&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Ih,Eh(t,i,m,x,w,C),t===ot&&(Pe=ot=null,ze=0),sl=r,ts=t,xa=i,Bf=m,qf=h,Hy=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,iE($t,function(){return sb(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,h=re.p,re.p=2,x=We,We|=4;try{Yw(t,r,i)}finally{We=x,re.p=h,$.T=o}}zt=1,tb(),nb(),rb()}}function tb(){if(zt===1){zt=0;var t=ts,r=sl,i=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||i){i=$.T,$.T=null;var o=re.p;re.p=2;var h=We;We|=4;try{My(r,t);var m=rm,x=Bg(t.containerInfo),w=m.focusedElem,C=m.selectionRange;if(x!==w&&w&&w.ownerDocument&&zg(w.ownerDocument.documentElement,w)){if(C!==null&&Ah(w)){var z=C.start,Y=C.end;if(Y===void 0&&(Y=z),"selectionStart"in w)w.selectionStart=z,w.selectionEnd=Math.min(Y,w.value.length);else{var Z=w.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var G=B.getSelection(),fe=w.textContent.length,_e=Math.min(C.start,fe),it=C.end===void 0?_e:Math.min(C.end,fe);!G.extend&&_e>it&&(x=it,it=_e,_e=x);var V=Ug(w,_e),D=Ug(w,it);if(V&&D&&(G.rangeCount!==1||G.anchorNode!==V.node||G.anchorOffset!==V.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var U=Z.createRange();U.setStart(V.node,V.offset),G.removeAllRanges(),_e>it?(G.addRange(U),G.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),G.addRange(U))}}}}for(Z=[],G=w;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Z.length;w++){var X=Z[w];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Xu=!!nm,rm=nm=null}finally{We=h,re.p=o,$.T=i}}t.current=r,zt=2}}function nb(){if(zt===2){zt=0;var t=ts,r=sl,i=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||i){i=$.T,$.T=null;var o=re.p;re.p=2;var h=We;We|=4;try{Cy(t,r.alternate,r)}finally{We=h,re.p=o,$.T=i}}zt=3}}function rb(){if(zt===4||zt===3){zt=0,Oe();var t=ts,r=sl,i=xa,o=Hy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,sl=ts=null,ab(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(es=null),na(i),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ar,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=$.T,h=re.p,re.p=2,$.T=null;try{for(var m=t.onRecoverableError,x=0;x<o.length;x++){var w=o[x];m(w.value,{componentStack:w.stack})}}finally{$.T=r,re.p=h}}(xa&3)!==0&&Pu(),Fr(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===Hf?Ro++:(Ro=0,Hf=t):Ro=0,Io(0)}}function ab(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ho(r)))}function Pu(){return tb(),nb(),rb(),sb()}function sb(){if(zt!==5)return!1;var t=ts,r=Bf;Bf=0;var i=na(xa),o=$.T,h=re.p;try{re.p=32>i?32:i,$.T=null,i=qf,qf=null;var m=ts,x=xa;if(zt=0,sl=ts=null,xa=0,(We&6)!==0)throw Error(s(331));var w=We;if(We|=4,zy(m.current),Ly(m,m.current,x,i),We=w,Io(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ar,m)}catch{}return!0}finally{re.p=h,$.T=o,ab(t,r)}}function ib(t,r,i){r=Qn(i,r),r=_f(t.stateNode,r,2),t=Ka(t,r,2),t!==null&&(Vs(t,2),Fr(t))}function nt(t,r,i){if(t.tag===3)ib(t,t,i);else for(;r!==null;){if(r.tag===3){ib(r,t,i);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(es===null||!es.has(o))){t=Qn(i,t),i=ly(2),o=Ka(r,i,2),o!==null&&(oy(i,o,r,t),Vs(o,2),Fr(o));break}}r=r.return}}function Qf(t,r,i){var o=t.pingCache;if(o===null){o=t.pingCache=new Zw;var h=new Set;o.set(r,h)}else h=o.get(r),h===void 0&&(h=new Set,o.set(r,h));h.has(i)||(Pf=!0,h.add(i),t=rE.bind(null,t,r,i),r.then(t,t))}function rE(t,r,i){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,ot===t&&(ze&i)===i&&(vt===4||vt===3&&(ze&62914560)===ze&&300>Ve()-Iu?(We&2)===0&&il(t,0):Uf|=i,al===ze&&(al=0)),Fr(t)}function lb(t,r){r===0&&(r=Oc()),t=Xs(t,r),t!==null&&(Vs(t,r),Fr(t))}function aE(t){var r=t.memoizedState,i=0;r!==null&&(i=r.retryLane),lb(t,i)}function sE(t,r){var i=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(r),lb(t,i)}function iE(t,r){return Et(t,r)}var Uu=null,ol=null,$f=!1,zu=!1,Kf=!1,rs=0;function Fr(t){t!==ol&&t.next===null&&(ol===null?Uu=ol=t:ol=ol.next=t),zu=!0,$f||($f=!0,oE())}function Io(t,r){if(!Kf&&zu){Kf=!0;do for(var i=!1,o=Uu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var x=o.suspendedLanes,w=o.pingedLanes;m=(1<<31-Tt(42|t)+1)-1,m&=h&~(x&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,db(o,m))}else m=ze,m=kr(o,o===ot?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||sr(o,m)||(i=!0,db(o,m));o=o.next}while(i);Kf=!1}}function lE(){ob()}function ob(){zu=$f=!1;var t=0;rs!==0&&bE()&&(t=rs);for(var r=Ve(),i=null,o=Uu;o!==null;){var h=o.next,m=cb(o,r);m===0?(o.next=null,i===null?Uu=h:i.next=h,h===null&&(ol=i)):(i=o,(t!==0||(m&3)!==0)&&(zu=!0)),o=h}zt!==0&&zt!==5||Io(t),rs!==0&&(rs=0)}function cb(t,r){for(var i=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var x=31-Tt(m),w=1<<x,C=h[x];C===-1?((w&i)===0||(w&o)!==0)&&(h[x]=wh(w,r)):C<=r&&(t.expiredLanes|=w),m&=~w}if(r=ot,i=ze,i=kr(t,t===r?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,i===0||t===r&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&wr(o),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||sr(t,i)){if(r=i&-i,r===t.callbackPriority)return r;switch(o!==null&&wr(o),na(i)){case 2:case 8:i=an;break;case 32:i=$t;break;case 268435456:i=Er;break;default:i=$t}return o=ub.bind(null,t),i=Et(i,o),t.callbackPriority=r,t.callbackNode=i,r}return o!==null&&o!==null&&wr(o),t.callbackPriority=2,t.callbackNode=null,2}function ub(t,r){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Pu()&&t.callbackNode!==i)return null;var o=ze;return o=kr(t,t===ot?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Gy(t,o,r),cb(t,Ve()),t.callbackNode!=null&&t.callbackNode===i?ub.bind(null,t):null)}function db(t,r){if(Pu())return null;Gy(t,r,!0)}function oE(){vE(function(){(We&6)!==0?Et(ct,lE):ob()})}function Yf(){if(rs===0){var t=$i;t===0&&(t=Tr,Tr<<=1,(Tr&261888)===0&&(Tr=256)),rs=t}return rs}function hb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ii(""+t)}function fb(t,r){var i=r.ownerDocument.createElement("input");return i.name=r.name,i.value=r.value,t.id&&i.setAttribute("form",t.id),r.parentNode.insertBefore(i,r),t=new FormData(t),i.parentNode.removeChild(i),t}function cE(t,r,i,o,h){if(r==="submit"&&i&&i.stateNode===h){var m=hb((h[Ht]||null).action),x=o.submitter;x&&(r=(r=x[Ht]||null)?hb(r.formAction):x.getAttribute("formAction"),r!==null&&(m=r,x=null));var w=new Lr("action","action",null,o,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(rs!==0){var C=x?fb(h,x):new FormData(h);gf(i,{pending:!0,data:C,method:h.method,action:m},null,C)}}else typeof m=="function"&&(w.preventDefault(),C=x?fb(h,x):new FormData(h),gf(i,{pending:!0,data:C,method:h.method,action:m},m,C))},currentTarget:h}]})}}for(var Xf=0;Xf<Rh.length;Xf++){var Wf=Rh[Xf],uE=Wf.toLowerCase(),dE=Wf[0].toUpperCase()+Wf.slice(1);fr(uE,"on"+dE)}fr(Fg,"onAnimationEnd"),fr(Gg,"onAnimationIteration"),fr(Qg,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(Aw,"onTransitionRun"),fr(Sw,"onTransitionStart"),fr(jw,"onTransitionCancel"),fr($g,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Do));function mb(t,r){r=(r&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],h=o.event;o=o.listeners;e:{var m=void 0;if(r)for(var x=o.length-1;0<=x;x--){var w=o[x],C=w.instance,z=w.currentTarget;if(w=w.listener,C!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=z;try{m(h)}catch(Y){tu(Y)}h.currentTarget=null,m=C}else for(x=0;x<o.length;x++){if(w=o[x],C=w.instance,z=w.currentTarget,w=w.listener,C!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=z;try{m(h)}catch(Y){tu(Y)}h.currentTarget=null,m=C}}}}function Ue(t,r){var i=r[Ai];i===void 0&&(i=r[Ai]=new Set);var o=t+"__bubble";i.has(o)||(gb(r,t,2,!1),i.add(o))}function Zf(t,r,i){var o=0;r&&(o|=4),gb(i,t,o,r)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Jf(t){if(!t[Bu]){t[Bu]=!0,Fl.forEach(function(i){i!=="selectionchange"&&(hE.has(i)||Zf(i,!1,t),Zf(i,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Bu]||(r[Bu]=!0,Zf("selectionchange",!1,r))}}function gb(t,r,i,o){switch(Fb(r)){case 2:var h=zE;break;case 8:h=BE;break;default:h=mm}i=h.bind(null,r,i,t),h=void 0,!qs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(r,i,{capture:!0,passive:h}):t.addEventListener(r,i,!0):h!==void 0?t.addEventListener(r,i,{passive:h}):t.addEventListener(r,i,!1)}function em(t,r,i,o,h){var m=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var w=o.stateNode.containerInfo;if(w===h)break;if(x===4)for(x=o.return;x!==null;){var C=x.tag;if((C===3||C===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;w!==null;){if(x=Cr(w),x===null)return;if(C=x.tag,C===5||C===6||C===26||C===27){o=m=x;continue e}w=w.parentNode}}o=o.return}Pa(function(){var z=m,Y=qn(i),Z=[];e:{var B=Kg.get(t);if(B!==void 0){var G=Lr,fe=t;switch(t){case"keypress":if(Fs(i)===0)break e;case"keydown":case"keyup":G=Zc;break;case"focusin":fe="focus",G=Qs;break;case"focusout":fe="blur",G=Qs;break;case"beforeblur":case"afterblur":G=Qs;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Hc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case Fg:case Gg:case Qg:G=Gc;break;case $g:G=T;break;case"scroll":case"scrollend":G=no;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Qc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=sa;break;case"toggle":case"beforetoggle":G=Ce}var _e=(r&4)!==0,it=!_e&&(t==="scroll"||t==="scrollend"),V=_e?B!==null?B+"Capture":null:B;_e=[];for(var D=z,U;D!==null;){var X=D;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||V===null||(X=cr(D,V),X!=null&&_e.push(Oo(D,X,U))),it)break;D=D.return}0<_e.length&&(B=new G(B,fe,null,i,Y),Z.push({event:B,listeners:_e}))}}if((r&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&i!==Jl&&(fe=i.relatedTarget||i.fromElement)&&(Cr(fe)||fe[Sr]))break e;if((G||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,G?(fe=i.relatedTarget||i.toElement,G=z,fe=fe?Cr(fe):null,fe!==null&&(it=u(fe),_e=fe.tag,fe!==it||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(G=null,fe=z),G!==fe)){if(_e=ro,X="onMouseLeave",V="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=sa,X="onPointerLeave",V="onPointerEnter",D="pointer"),it=G==null?B:An(G),U=fe==null?B:An(fe),B=new _e(X,D+"leave",G,i,Y),B.target=it,B.relatedTarget=U,X=null,Cr(Y)===z&&(_e=new _e(V,D+"enter",fe,i,Y),_e.target=U,_e.relatedTarget=it,X=_e),it=X,G&&fe)t:{for(_e=fE,V=G,D=fe,U=0,X=V;X;X=_e(X))U++;X=0;for(var xe=D;xe;xe=_e(xe))X++;for(;0<U-X;)V=_e(V),U--;for(;0<X-U;)D=_e(D),X--;for(;U--;){if(V===D||D!==null&&V===D.alternate){_e=V;break t}V=_e(V),D=_e(D)}_e=null}else _e=null;G!==null&&pb(Z,B,G,_e,!1),fe!==null&&it!==null&&pb(Z,it,fe,_e,!0)}}e:{if(B=z?An(z):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var Ke=Dg;else if(Rg(B))if(Og)Ke=Tw;else{Ke=ww;var pe=_w}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ri(z.elementType)&&(Ke=Dg):Ke=Ew;if(Ke&&(Ke=Ke(t,z))){Ig(Z,Ke,i,Y);break e}pe&&pe(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Xl(B,"number",B.value)}switch(pe=z?An(z):window,t){case"focusin":(Rg(pe)||pe.contentEditable==="true")&&(Ui=pe,Sh=z,oo=null);break;case"focusout":oo=Sh=Ui=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,qg(Z,i,Y);break;case"selectionchange":if(kw)break;case"keydown":case"keyup":qg(Z,i,Y)}var Ie;if(Xe)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Pi?$s(t,i)&&(Be="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Be="onCompositionStart");Be&&(zr&&i.locale!=="ko"&&(Pi||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Pi&&(Ie=to()):(Vr=Y,eo="value"in Vr?Vr.value:Vr.textContent,Pi=!0)),pe=qu(z,Be),0<pe.length&&(Be=new Ur(Be,t,null,i,Y),Z.push({event:Be,listeners:pe}),Ie?Be.data=Ie:(Ie=Li(i),Ie!==null&&(Be.data=Ie)))),(Ie=Fn?yw(t,i):bw(t,i))&&(Be=qu(z,"onBeforeInput"),0<Be.length&&(pe=new Ur("onBeforeInput","beforeinput",null,i,Y),Z.push({event:pe,listeners:Be}),pe.data=Ie)),cE(Z,t,z,i,Y)}mb(Z,r)})}function Oo(t,r,i){return{instance:t,listener:r,currentTarget:i}}function qu(t,r){for(var i=r+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=cr(t,i),h!=null&&o.unshift(Oo(t,h,m)),h=cr(t,r),h!=null&&o.push(Oo(t,h,m))),t.tag===3)return o;t=t.return}return[]}function fE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pb(t,r,i,o,h){for(var m=r._reactName,x=[];i!==null&&i!==o;){var w=i,C=w.alternate,z=w.stateNode;if(w=w.tag,C!==null&&C===o)break;w!==5&&w!==26&&w!==27||z===null||(C=z,h?(z=cr(i,m),z!=null&&x.unshift(Oo(i,z,C))):h||(z=cr(i,m),z!=null&&x.push(Oo(i,z,C)))),i=i.return}x.length!==0&&t.push({event:r,listeners:x})}var mE=/\r\n?/g,gE=/\u0000|\uFFFD/g;function yb(t){return(typeof t=="string"?t:""+t).replace(mE,`
`).replace(gE,"")}function bb(t,r){return r=yb(r),yb(t)===r}function st(t,r,i,o,h,m){switch(i){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||bn(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&bn(t,""+o);break;case"className":Sn(t,"class",o);break;case"tabIndex":Sn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,i,o);break;case"style":Zl(t,o,m);break;case"data":if(r!=="object"){Sn(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=Ii(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(r!=="input"&&st(t,r,"name",h.name,h,null),st(t,r,"formEncType",h.formEncType,h,null),st(t,r,"formMethod",h.formMethod,h,null),st(t,r,"formTarget",h.formTarget,h,null)):(st(t,r,"encType",h.encType,h,null),st(t,r,"method",h.method,h,null),st(t,r,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=Ii(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=or);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=Ii(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),ji(t,"popover",o);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ji(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=qc.get(i)||i,ji(t,i,o))}}function tm(t,r,i,o,h,m){switch(i){case"style":Zl(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof o=="string"?bn(t,o):(typeof o=="number"||typeof o=="bigint")&&bn(t,""+o);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gl.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),r=i.slice(2,h?i.length-7:void 0),m=t[Ht]||null,m=m!=null?m[i]:null,typeof m=="function"&&t.removeEventListener(r,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(r,o,h);break e}i in t?t[i]=o:o===!0?t.setAttribute(i,""):ji(t,i,o)}}}function Jt(t,r,i){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var o=!1,h=!1,m;for(m in i)if(i.hasOwnProperty(m)){var x=i[m];if(x!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(t,r,m,x,i,null)}}h&&st(t,r,"srcSet",i.srcSet,i,null),o&&st(t,r,"src",i.src,i,null);return;case"input":Ue("invalid",t);var w=m=x=h=null,C=null,z=null;for(o in i)if(i.hasOwnProperty(o)){var Y=i[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":x=Y;break;case"checked":C=Y;break;case"defaultChecked":z=Y;break;case"value":m=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:st(t,r,o,Y,i,null)}}Uc(t,m,w,C,z,x,h,!1);return;case"select":Ue("invalid",t),o=x=m=null;for(h in i)if(i.hasOwnProperty(h)&&(w=i[h],w!=null))switch(h){case"value":m=w;break;case"defaultValue":x=w;break;case"multiple":o=w;default:st(t,r,h,w,i,null)}r=m,i=x,t.multiple=!!o,r!=null?Oa(t,!!o,r,!1):i!=null&&Oa(t,!!o,i,!0);return;case"textarea":Ue("invalid",t),m=h=o=null;for(x in i)if(i.hasOwnProperty(x)&&(w=i[x],w!=null))switch(x){case"value":o=w;break;case"defaultValue":h=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:st(t,r,x,w,i,null)}Ma(t,o,h,m);return;case"option":for(C in i)if(i.hasOwnProperty(C)&&(o=i[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:st(t,r,C,o,i,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(o=0;o<Do.length;o++)Ue(Do[o],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in i)if(i.hasOwnProperty(z)&&(o=i[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:st(t,r,z,o,i,null)}return;default:if(Ri(r)){for(Y in i)i.hasOwnProperty(Y)&&(o=i[Y],o!==void 0&&tm(t,r,Y,o,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(o=i[w],o!=null&&st(t,r,w,o,i,null))}function pE(t,r,i,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,x=null,w=null,C=null,z=null,Y=null;for(G in i){var Z=i[G];if(i.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=Z;default:o.hasOwnProperty(G)||st(t,r,G,null,o,Z)}}for(var B in o){var G=o[B];if(Z=i[B],o.hasOwnProperty(B)&&(G!=null||Z!=null))switch(B){case"type":m=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Y=G;break;case"value":x=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==Z&&st(t,r,B,G,o,Z)}}Ci(t,x,w,C,z,Y,m,h);return;case"select":G=x=w=B=null;for(m in i)if(C=i[m],i.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":G=C;default:o.hasOwnProperty(m)||st(t,r,m,null,o,C)}for(h in o)if(m=o[h],C=i[h],o.hasOwnProperty(h)&&(m!=null||C!=null))switch(h){case"value":B=m;break;case"defaultValue":w=m;break;case"multiple":x=m;default:m!==C&&st(t,r,h,m,o,C)}r=w,i=x,o=G,B!=null?Oa(t,!!i,B,!1):!!o!=!!i&&(r!=null?Oa(t,!!i,r,!0):Oa(t,!!i,i?[]:"",!1));return;case"textarea":G=B=null;for(w in i)if(h=i[w],i.hasOwnProperty(w)&&h!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:st(t,r,w,null,o,h)}for(x in o)if(h=o[x],m=i[x],o.hasOwnProperty(x)&&(h!=null||m!=null))switch(x){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&st(t,r,x,h,o,m)}zc(t,B,G);return;case"option":for(var fe in i)if(B=i[fe],i.hasOwnProperty(fe)&&B!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:st(t,r,fe,null,o,B)}for(C in o)if(B=o[C],G=i[C],o.hasOwnProperty(C)&&B!==G&&(B!=null||G!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:st(t,r,C,B,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in i)B=i[_e],i.hasOwnProperty(_e)&&B!=null&&!o.hasOwnProperty(_e)&&st(t,r,_e,null,o,B);for(z in o)if(B=o[z],G=i[z],o.hasOwnProperty(z)&&B!==G&&(B!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:st(t,r,z,B,o,G)}return;default:if(Ri(r)){for(var it in i)B=i[it],i.hasOwnProperty(it)&&B!==void 0&&!o.hasOwnProperty(it)&&tm(t,r,it,void 0,o,B);for(Y in o)B=o[Y],G=i[Y],!o.hasOwnProperty(Y)||B===G||B===void 0&&G===void 0||tm(t,r,Y,B,o,G);return}}for(var V in i)B=i[V],i.hasOwnProperty(V)&&B!=null&&!o.hasOwnProperty(V)&&st(t,r,V,null,o,B);for(Z in o)B=o[Z],G=i[Z],!o.hasOwnProperty(Z)||B===G||B==null&&G==null||st(t,r,Z,B,o,G)}function xb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var h=i[o],m=h.transferSize,x=h.initiatorType,w=h.duration;if(m&&w&&xb(x)){for(x=0,w=h.responseEnd,o+=1;o<i.length;o++){var C=i[o],z=C.startTime;if(z>w)break;var Y=C.transferSize,Z=C.initiatorType;Y&&xb(Z)&&(C=C.responseEnd,x+=Y*(C<w?1:(w-z)/(C-z)))}if(--o,r+=8*(m+x)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var nm=null,rm=null;function Hu(t){return t.nodeType===9?t:t.ownerDocument}function vb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _b(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function am(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sm=null;function bE(){var t=window.event;return t&&t.type==="popstate"?t===sm?!1:(sm=t,!0):(sm=null,!1)}var wb=typeof setTimeout=="function"?setTimeout:void 0,xE=typeof clearTimeout=="function"?clearTimeout:void 0,Eb=typeof Promise=="function"?Promise:void 0,vE=typeof queueMicrotask=="function"?queueMicrotask:typeof Eb<"u"?function(t){return Eb.resolve(null).then(t).catch(_E)}:wb;function _E(t){setTimeout(function(){throw t})}function as(t){return t==="head"}function Tb(t,r){var i=r,o=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(o===0){t.removeChild(h),hl(r);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")Mo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Mo(i);for(var m=i.firstChild;m;){var x=m.nextSibling,w=m.nodeName;m[jr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=x}}else i==="body"&&Mo(t.ownerDocument.body);i=h}while(i);hl(r)}function Nb(t,r){var i=t;t=0;do{var o=i.nextSibling;if(i.nodeType===1?r?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(r?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=o}while(i)}function im(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var i=r;switch(r=r.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":im(i),Si(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function wE(t,r,i,o){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[jr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function EE(t,r,i){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Wn(t.nextSibling),t===null))return null;return t}function kb(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Wn(t.nextSibling),t===null))return null;return t}function lm(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function TE(t,r){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||i.readyState!=="loading")r();else{var o=function(){r(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Wn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var cm=null;function Ab(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(r===0)return Wn(t.nextSibling);r--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||r++}t=t.nextSibling}return null}function Sb(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(r===0)return t;r--}else i!=="/$"&&i!=="/&"||r++}t=t.previousSibling}return null}function jb(t,r,i){switch(r=Hu(i),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Mo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Si(t)}var Zn=new Map,Cb=new Set;function Fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var va=re.d;re.d={f:NE,r:kE,D:AE,C:SE,L:jE,m:CE,X:IE,S:RE,M:DE};function NE(){var t=va.f(),r=Mu();return t||r}function kE(t){var r=Bn(t);r!==null&&r.tag===5&&r.type==="form"?$p(r):va.r(t)}var cl=typeof document>"u"?null:document;function Rb(t,r,i){var o=cl;if(o&&typeof r=="string"&&r){var h=yn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Cb.has(h)||(Cb.add(h),t={rel:t,crossOrigin:i,href:r},o.querySelector(h)===null&&(r=o.createElement("link"),Jt(r,"link",t),Rt(r),o.head.appendChild(r)))}}function AE(t){va.D(t),Rb("dns-prefetch",t,null)}function SE(t,r){va.C(t,r),Rb("preconnect",t,r)}function jE(t,r,i){va.L(t,r,i);var o=cl;if(o&&t&&r){var h='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+yn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+yn(i.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var m=h;switch(r){case"style":m=ul(t);break;case"script":m=dl(t)}Zn.has(m)||(t=E({rel:"preload",href:r==="image"&&i&&i.imageSrcSet?void 0:t,as:r},i),Zn.set(m,t),o.querySelector(h)!==null||r==="style"&&o.querySelector(Vo(m))||r==="script"&&o.querySelector(Lo(m))||(r=o.createElement("link"),Jt(r,"link",t),Rt(r),o.head.appendChild(r)))}}function CE(t,r){va.m(t,r);var i=cl;if(i&&t){var o=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+yn(o)+'"][href="'+yn(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=dl(t)}if(!Zn.has(m)&&(t=E({rel:"modulepreload",href:t},r),Zn.set(m,t),i.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Lo(m)))return}o=i.createElement("link"),Jt(o,"link",t),Rt(o),i.head.appendChild(o)}}}function RE(t,r,i){va.S(t,r,i);var o=cl;if(o&&t){var h=Rr(o).hoistableStyles,m=ul(t);r=r||"default";var x=h.get(m);if(!x){var w={loading:0,preload:null};if(x=o.querySelector(Vo(m)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},i),(i=Zn.get(m))&&um(t,i);var C=x=o.createElement("link");Rt(C),Jt(C,"link",t),C._p=new Promise(function(z,Y){C.onload=z,C.onerror=Y}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Gu(x,r,o)}x={type:"stylesheet",instance:x,count:1,state:w},h.set(m,x)}}}function IE(t,r){va.X(t,r);var i=cl;if(i&&t){var o=Rr(i).hoistableScripts,h=dl(t),m=o.get(h);m||(m=i.querySelector(Lo(h)),m||(t=E({src:t,async:!0},r),(r=Zn.get(h))&&dm(t,r),m=i.createElement("script"),Rt(m),Jt(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function DE(t,r){va.M(t,r);var i=cl;if(i&&t){var o=Rr(i).hoistableScripts,h=dl(t),m=o.get(h);m||(m=i.querySelector(Lo(h)),m||(t=E({src:t,async:!0,type:"module"},r),(r=Zn.get(h))&&dm(t,r),m=i.createElement("script"),Rt(m),Jt(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Ib(t,r,i,o){var h=(h=be.current)?Fu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(r=ul(i.href),i=Rr(h).hoistableStyles,o=i.get(r),o||(o={type:"style",instance:null,count:0,state:null},i.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=ul(i.href);var m=Rr(h).hoistableStyles,x=m.get(t);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,x),(m=h.querySelector(Vo(t)))&&!m._p&&(x.instance=m,x.state.loading=5),Zn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Zn.set(t,i),m||OE(h,t,i,x.state))),r&&o===null)throw Error(s(528,""));return x}if(r&&o!==null)throw Error(s(529,""));return null;case"script":return r=i.async,i=i.src,typeof i=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=dl(i),i=Rr(h).hoistableScripts,o=i.get(r),o||(o={type:"script",instance:null,count:0,state:null},i.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ul(t){return'href="'+yn(t)+'"'}function Vo(t){return'link[rel="stylesheet"]['+t+"]"}function Db(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function OE(t,r,i,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),Jt(r,"link",i),Rt(r),t.head.appendChild(r))}function dl(t){return'[src="'+yn(t)+'"]'}function Lo(t){return"script[async]"+t}function Ob(t,r,i){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+yn(i.href)+'"]');if(o)return r.instance=o,Rt(o),o;var h=E({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Rt(o),Jt(o,"style",h),Gu(o,i.precedence,t),r.instance=o;case"stylesheet":h=ul(i.href);var m=t.querySelector(Vo(h));if(m)return r.state.loading|=4,r.instance=m,Rt(m),m;o=Db(i),(h=Zn.get(h))&&um(o,h),m=(t.ownerDocument||t).createElement("link"),Rt(m);var x=m;return x._p=new Promise(function(w,C){x.onload=w,x.onerror=C}),Jt(m,"link",o),r.state.loading|=4,Gu(m,i.precedence,t),r.instance=m;case"script":return m=dl(i.src),(h=t.querySelector(Lo(m)))?(r.instance=h,Rt(h),h):(o=i,(h=Zn.get(m))&&(o=E({},i),dm(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Rt(h),Jt(h,"link",o),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Gu(o,i.precedence,t));return r.instance}function Gu(t,r,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,x=0;x<o.length;x++){var w=o[x];if(w.dataset.precedence===r)m=w;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=i.nodeType===9?i.head:i,r.insertBefore(t,r.firstChild))}function um(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function dm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Qu=null;function Mb(t,r,i){if(Qu===null){var o=new Map,h=Qu=new Map;h.set(i,o)}else h=Qu,o=h.get(i),o||(o=new Map,h.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var m=i[h];if(!(m[jr]||m[Ct]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(r)||"";x=t+x;var w=o.get(x);w?w.push(m):o.set(x,[m])}}return o}function Vb(t,r,i){t=t.ownerDocument||t,t.head.insertBefore(i,r==="title"?t.querySelector("head > title"):null)}function ME(t,r,i){if(i===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Lb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function VE(t,r,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ul(o.href),m=r.querySelector(Vo(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=$u.bind(t),r.then(t,t)),i.state.loading|=4,i.instance=m,Rt(m);return}m=r.ownerDocument||r,o=Db(o),(h=Zn.get(h))&&um(o,h),m=m.createElement("link"),Rt(m);var x=m;x._p=new Promise(function(w,C){x.onload=w,x.onerror=C}),Jt(m,"link",o),i.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=$u.bind(t),r.addEventListener("load",i),r.addEventListener("error",i))}}var hm=0;function LE(t,r){return t.stylesheets&&t.count===0&&Yu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var o=setTimeout(function(){if(t.stylesheets&&Yu(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&hm===0&&(hm=62500*yE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Yu(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>hm?50:800)+r);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function $u(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ku=null;function Yu(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ku=new Map,r.forEach(PE,t),Ku=null,$u.call(t))}function PE(t,r){if(!(r.state.loading&4)){var i=Ku.get(t);if(i)var o=i.get(null);else{i=new Map,Ku.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var x=h[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(i.set(x.dataset.precedence,x),o=x)}o&&i.set(null,o)}h=r.instance,x=h.getAttribute("data-precedence"),m=i.get(x)||o,m===o&&i.set(null,h),i.set(x,h),this.count++,o=$u.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Po={$$typeof:ge,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function UE(t,r,i,o,h,m,x,w,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Pb(t,r,i,o,h,m,x,w,C,z,Y,Z){return t=new UE(t,r,i,x,C,z,Y,Z,w),r=1,m===!0&&(r|=24),m=Cn(3,null,null,r),t.current=m,m.stateNode=t,r=Fh(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:o,isDehydrated:i,cache:r},Kh(m),t}function Ub(t){return t?(t=qi,t):qi}function zb(t,r,i,o,h,m){h=Ub(h),o.context===null?o.context=h:o.pendingContext=h,o=$a(r),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=Ka(t,o,r),i!==null&&(En(i,t,r),po(i,t,r))}function Bb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<r?i:r}}function fm(t,r){Bb(t,r),(t=t.alternate)&&Bb(t,r)}function qb(t){if(t.tag===13||t.tag===31){var r=Xs(t,67108864);r!==null&&En(r,t,67108864),fm(t,67108864)}}function Hb(t){if(t.tag===13||t.tag===31){var r=Mn();r=Ps(r);var i=Xs(t,r);i!==null&&En(i,t,r),fm(t,r)}}var Xu=!0;function zE(t,r,i,o){var h=$.T;$.T=null;var m=re.p;try{re.p=2,mm(t,r,i,o)}finally{re.p=m,$.T=h}}function BE(t,r,i,o){var h=$.T;$.T=null;var m=re.p;try{re.p=8,mm(t,r,i,o)}finally{re.p=m,$.T=h}}function mm(t,r,i,o){if(Xu){var h=gm(o);if(h===null)em(t,r,o,Wu,i),Gb(t,o);else if(HE(h,t,r,i,o))o.stopPropagation();else if(Gb(t,o),r&4&&-1<qE.indexOf(t)){for(;h!==null;){var m=Bn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=Nr(m.pendingLanes);if(x!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;x;){var C=1<<31-Tt(x);w.entanglements[1]|=C,x&=~C}Fr(m),(We&6)===0&&(Du=Ve()+500,Io(0))}}break;case 31:case 13:w=Xs(m,2),w!==null&&En(w,m,2),Mu(),fm(m,2)}if(m=gm(o),m===null&&em(t,r,o,Wu,i),m===h)break;h=m}h!==null&&o.stopPropagation()}else em(t,r,o,null,i)}}function gm(t){return t=qn(t),pm(t)}var Wu=null;function pm(t){if(Wu=null,t=Cr(t),t!==null){var r=u(t);if(r===null)t=null;else{var i=r.tag;if(i===13){if(t=f(r),t!==null)return t;t=null}else if(i===31){if(t=g(r),t!==null)return t;t=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Wu=t,null}function Fb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case ct:return 2;case an:return 8;case $t:case Un:return 32;case Er:return 268435456;default:return 32}default:return 32}}var ym=!1,ss=null,is=null,ls=null,Uo=new Map,zo=new Map,os=[],qE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gb(t,r){switch(t){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Uo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(r.pointerId)}}function Bo(t,r,i,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:i,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},r!==null&&(r=Bn(r),r!==null&&qb(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function HE(t,r,i,o,h){switch(r){case"focusin":return ss=Bo(ss,t,r,i,o,h),!0;case"dragenter":return is=Bo(is,t,r,i,o,h),!0;case"mouseover":return ls=Bo(ls,t,r,i,o,h),!0;case"pointerover":var m=h.pointerId;return Uo.set(m,Bo(Uo.get(m)||null,t,r,i,o,h)),!0;case"gotpointercapture":return m=h.pointerId,zo.set(m,Bo(zo.get(m)||null,t,r,i,o,h)),!0}return!1}function Qb(t){var r=Cr(t.target);if(r!==null){var i=u(r);if(i!==null){if(r=i.tag,r===13){if(r=f(i),r!==null){t.blockedOn=r,ir(t.priority,function(){Hb(i)});return}}else if(r===31){if(r=g(i),r!==null){t.blockedOn=r,ir(t.priority,function(){Hb(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var i=gm(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);Jl=o,i.target.dispatchEvent(o),Jl=null}else return r=Bn(i),r!==null&&qb(r),t.blockedOn=i,!1;r.shift()}return!0}function $b(t,r,i){Zu(t)&&i.delete(r)}function FE(){ym=!1,ss!==null&&Zu(ss)&&(ss=null),is!==null&&Zu(is)&&(is=null),ls!==null&&Zu(ls)&&(ls=null),Uo.forEach($b),zo.forEach($b)}function Ju(t,r){t.blockedOn===r&&(t.blockedOn=null,ym||(ym=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,FE)))}var ed=null;function Kb(t){ed!==t&&(ed=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ed===t&&(ed=null);for(var r=0;r<t.length;r+=3){var i=t[r],o=t[r+1],h=t[r+2];if(typeof o!="function"){if(pm(o||i)===null)continue;break}var m=Bn(i);m!==null&&(t.splice(r,3),r-=3,gf(m,{pending:!0,data:h,method:i.method,action:o},o,h))}}))}function hl(t){function r(C){return Ju(C,t)}ss!==null&&Ju(ss,t),is!==null&&Ju(is,t),ls!==null&&Ju(ls,t),Uo.forEach(r),zo.forEach(r);for(var i=0;i<os.length;i++){var o=os[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<os.length&&(i=os[0],i.blockedOn===null);)Qb(i),i.blockedOn===null&&os.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var h=i[o],m=i[o+1],x=h[Ht]||null;if(typeof m=="function")x||Kb(i);else if(x){var w=null;if(m&&m.hasAttribute("formAction")){if(h=m,x=m[Ht]||null)w=x.formAction;else if(pm(h)!==null)continue}else w=x.action;typeof w=="function"?i[o+1]=w:(i.splice(o,3),o-=3),Kb(i)}}}function Yb(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(x){return h=x})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function bm(t){this._internalRoot=t}td.prototype.render=bm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var i=r.current,o=Mn();zb(i,o,t,r,null,null)},td.prototype.unmount=bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;zb(t.current,2,null,t,null,null),Mu(),r[Sr]=null}};function td(t){this._internalRoot=t}td.prototype.unstable_scheduleHydration=function(t){if(t){var r=Mc();t={blockedOn:null,target:t,priority:r};for(var i=0;i<os.length&&r!==0&&r<os[i].priority;i++);os.splice(i,0,t),i===0&&Qb(t)}};var Xb=e.version;if(Xb!=="19.2.0")throw Error(s(527,Xb,"19.2.0"));re.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=b(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var GE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{ar=nd.inject(GE),Kt=nd}catch{}}return Ho.createRoot=function(t,r){if(!l(t))throw Error(s(299));var i=!1,o="",h=ry,m=ay,x=sy;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=Pb(t,1,!1,null,null,i,o,null,h,m,x,Yb),t[Sr]=r.current,Jf(t),new bm(r)},Ho.hydrateRoot=function(t,r,i){if(!l(t))throw Error(s(299));var o=!1,h="",m=ry,x=ay,w=sy,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),r=Pb(t,1,!0,r,i??null,o,h,C,m,x,w,Yb),r.context=Ub(null),i=r.current,o=Mn(),o=Ps(o),h=$a(o),h.callback=null,Ka(i,h,o),i=o,r.current.lanes=i,Vs(r,i),Fr(r),t[Sr]=r.current,Jf(t),new td(r)},Ho.version="19.2.0",Ho}var ix;function nT(){if(ix)return _m.exports;ix=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),_m.exports=tT(),_m.exports}var rT=nT();const aT=rv(rT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iT=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),lx=a=>{const e=iT(a);return e.charAt(0).toUpperCase()+e.slice(1)},av=(...a)=>a.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),lT=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=te.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:f,...g},p)=>te.createElement("svg",{ref:p,...oT,width:e,height:e,stroke:a,strokeWidth:s?Number(n)*24/Number(e):n,className:av("lucide",l),...!u&&!lT(g)&&{"aria-hidden":"true"},...g},[...f.map(([b,_])=>te.createElement(b,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(a,e)=>{const n=te.forwardRef(({className:s,...l},u)=>te.createElement(cT,{ref:u,iconNode:e,className:av(`lucide-${sT(lx(a))}`,`lucide-${a}`,s),...l}));return n.displayName=lx(a),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xd=ce("arrow-left",uT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qr=ce("arrow-right",dT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],bc=ce("award",hT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],mi=ce("book-open",fT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],sv=ce("briefcase",mT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],iv=ce("calendar",gT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],yT=ce("chart-column",pT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],xT=ce("chart-pie",bT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xo=ce("chevron-down",vT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Wo=ce("chevron-left",_T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Nm=ce("chevron-right",wT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gm=ce("circle-alert",ET);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lv=ce("circle-check-big",TT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gs=ce("circle-check",NT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],vd=ce("circle-plus",kT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Tl=ce("circle-question-mark",AT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],jT=ce("circle-user",ST);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ov=ce("circle-x",CT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cv=ce("clock",RT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],_d=ce("crown",IT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qm=ce("eye",DT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],$m=ce("facebook",OT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],ox=ce("file-check",MT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],LT=ce("file-search",VT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],UT=ce("file-text",PT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],BT=ce("file",zT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],HT=ce("flag",qT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],k0=ce("flame",FT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],QT=ce("globe",GT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Dl=ce("graduation-cap",$T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],YT=ce("house",KT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],WT=ce("info",XT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],wd=ce("layers",ZT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],eN=ce("layout-dashboard",JT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],nN=ce("library",tN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],cx=ce("list",rN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vn=ce("loader-circle",aN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],ux=ce("log-in",sN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bl=ce("lock",iN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ed=ce("log-out",lN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],dx=ce("mail",oN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Km=ce("map-pin",cN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],hx=ce("medal",uN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],hN=ce("menu",dN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Td=ce("message-circle",fN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],gN=ce("monitor-play",mN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],fx=ce("palette",pN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],bN=ce("panels-top-left",yN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vN=ce("pen-line",xN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],wN=ce("pen-tool",_N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],TN=ce("play",EN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kN=ce("refresh-cw",NN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nd=ce("save",AN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],A0=ce("school",SN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sc=ce("search",jN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],RN=ce("shield-check",CN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],DN=ce("sparkles",IN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],MN=ce("square-check-big",ON);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],mx=ce("square-pen",VN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],uv=ce("star",LN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],dv=ce("tag",PN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zN=ce("target",UN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ym=ce("trash-2",BN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],gx=ce("trending-up",qN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hv=ce("triangle-alert",HN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],fv=ce("trophy",FN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],QN=ce("user-plus",GN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_a=ce("user",$N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],YN=ce("users",KN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Xm=ce("video",XN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nl=ce("x",WN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],JN=ce("zap",ZN),ek=()=>{};var px={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=function(a){const e=[];let n=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},tk=function(a){const e=[];let n=0,s=0;for(;n<a.length;){const l=a[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=a[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=a[n++],f=a[n++],g=a[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=a[n++],f=a[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const u=a[l],f=l+1<a.length,g=f?a[l+1]:0,p=l+2<a.length,b=p?a[l+2]:0,_=u>>2,E=(u&3)<<4|g>>4;let j=(g&15)<<2|b>>6,P=b&63;p||(P=64,f||(j=64)),s.push(n[_],n[E],n[j],n[P])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(mv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):tk(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const u=n[a.charAt(l++)],g=l<a.length?n[a.charAt(l)]:0;++l;const b=l<a.length?n[a.charAt(l)]:64;++l;const E=l<a.length?n[a.charAt(l)]:64;if(++l,u==null||g==null||b==null||E==null)throw new nk;const j=u<<2|g>>4;if(s.push(j),b!==64){const P=g<<4&240|b>>2;if(s.push(P),E!==64){const Q=b<<6&192|E;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class nk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rk=function(a){const e=mv(a);return gv.encodeByteArray(e,!0)},kd=function(a){return rk(a).replace(/\./g,"")},pv=function(a){try{return gv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=()=>ak().__FIREBASE_DEFAULTS__,ik=()=>{if(typeof process>"u"||typeof px>"u")return;const a=px.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},lk=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&pv(a[1]);return e&&JSON.parse(e)},$d=()=>{try{return ek()||sk()||ik()||lk()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},yv=a=>{var e,n;return(n=(e=$d())==null?void 0:e.emulatorHosts)==null?void 0:n[a]},ok=a=>{const e=yv(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},bv=()=>{var a;return(a=$d())==null?void 0:a.config},xv=a=>{var e;return(e=$d())==null?void 0:e[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vv(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[kd(JSON.stringify(n)),kd(JSON.stringify(f)),""].join(".")}const Zo={};function dk(){const a={prod:[],emulator:[]};for(const e of Object.keys(Zo))Zo[e]?a.emulator.push(e):a.prod.push(e);return a}function hk(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let yx=!1;function _v(a,e){if(typeof window>"u"||typeof document>"u"||!Ol(window.location.host)||Zo[a]===e||Zo[a]||yx)return;Zo[a]=e;function n(j){return`__firebase__banner__${j}`}const s="__firebase__banner",u=dk().prod.length>0;function f(){const j=document.getElementById(s);j&&j.remove()}function g(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function p(j,P){j.setAttribute("width","24"),j.setAttribute("id",P),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function b(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{yx=!0,f()},j}function _(j,P){j.setAttribute("id",P),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function E(){const j=hk(s),P=n("text"),Q=document.getElementById(P)||document.createElement("span"),ne=n("learnmore"),q=document.getElementById(ne)||document.createElement("a"),ae=n("preprendIcon"),ue=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const ge=j.element;g(ge),_(q,ne);const je=b();p(ue,ae),ge.append(ue,Q,q,je),document.body.appendChild(ge)}u?(Q.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function mk(){var e;const a=(e=$d())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wv(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function pk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yk(){const a=un();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function bk(){return!mk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ev(){try{return typeof indexedDB=="object"}catch{return!1}}function Tv(){return new Promise((a,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}function xk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="FirebaseError";class vr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=vk,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wi.prototype.create)}}class wi{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?_k(u,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new vr(l,g,s)}}function _k(a,e){return a.replace(wk,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const wk=/\{\$([^}]+)}/g;function Ek(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function _s(a,e){if(a===e)return!0;const n=Object.keys(a),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=a[l],f=e[l];if(bx(u)&&bx(f)){if(!_s(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function bx(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(a){const e=[];for(const[n,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fo(a){const e={};return a.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Go(a){const e=a.indexOf("?");if(!e)return"";const n=a.indexOf("#",e);return a.substring(e,n>0?n:void 0)}function Tk(a,e){const n=new Nk(a,e);return n.subscribe.bind(n)}class Nk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kk(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=km),l.error===void 0&&(l.error=km),l.complete===void 0&&(l.complete=km);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kk(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function km(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=1e3,Sk=2,jk=14400*1e3,Ck=.5;function xx(a,e=Ak,n=Sk){const s=e*Math.pow(n,a),l=Math.round(Ck*s*(Math.random()-.5)*2);return Math.min(jk,s+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(a){return a&&a._delegate?a._delegate:a}class yr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ck;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dk(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ik(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ik(a){return a===ci?void 0:a}function Dk(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Rk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(qe||(qe={}));const Mk={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Vk=qe.INFO,Lk={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Pk=(a,e,...n)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),l=Lk[e];if(l)console[l](`[${s}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kd{constructor(e){this.name=e,this._logLevel=Vk,this._logHandler=Pk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const Uk=(a,e)=>e.some(n=>a instanceof n);let vx,_x;function zk(){return vx||(vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bk(){return _x||(_x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nv=new WeakMap,Wm=new WeakMap,kv=new WeakMap,Am=new WeakMap,S0=new WeakMap;function qk(a){const e=new Promise((n,s)=>{const l=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{n(ys(a.result)),l()},f=()=>{s(a.error),l()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Nv.set(n,a)}).catch(()=>{}),S0.set(e,a),e}function Hk(a){if(Wm.has(a))return;const e=new Promise((n,s)=>{const l=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Wm.set(a,e)}let Zm={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return Wm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||kv.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function Fk(a){Zm=a(Zm)}function Gk(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=a.call(Sm(this),e,...n);return kv.set(s,e.sort?e.sort():[e]),ys(s)}:Bk().includes(a)?function(...e){return a.apply(Sm(this),e),ys(Nv.get(this))}:function(...e){return ys(a.apply(Sm(this),e))}}function Qk(a){return typeof a=="function"?Gk(a):(a instanceof IDBTransaction&&Hk(a),Uk(a,zk())?new Proxy(a,Zm):a)}function ys(a){if(a instanceof IDBRequest)return qk(a);if(Am.has(a))return Am.get(a);const e=Qk(a);return e!==a&&(Am.set(a,e),S0.set(e,a)),e}const Sm=a=>S0.get(a);function Av(a,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(a,e),g=ys(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ys(f.result),p.oldVersion,p.newVersion,ys(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",b=>l(b.oldVersion,b.newVersion,b))}).catch(()=>{}),g}const $k=["get","getKey","getAll","getAllKeys","count"],Kk=["put","add","delete","clear"],jm=new Map;function wx(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=Kk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||$k.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let b=p.store;return s&&(b=b.index(g.shift())),(await Promise.all([b[n](...g),l&&p.done]))[0]};return jm.set(e,u),u}Fk(a=>({...a,get:(e,n,s)=>wx(e,n)||a.get(e,n,s),has:(e,n)=>!!wx(e,n)||a.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Xk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Xk(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jm="@firebase/app",Ex="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new Kd("@firebase/app"),Wk="@firebase/app-compat",Zk="@firebase/analytics-compat",Jk="@firebase/analytics",e4="@firebase/app-check-compat",t4="@firebase/app-check",n4="@firebase/auth",r4="@firebase/auth-compat",a4="@firebase/database",s4="@firebase/data-connect",i4="@firebase/database-compat",l4="@firebase/functions",o4="@firebase/functions-compat",c4="@firebase/installations",u4="@firebase/installations-compat",d4="@firebase/messaging",h4="@firebase/messaging-compat",f4="@firebase/performance",m4="@firebase/performance-compat",g4="@firebase/remote-config",p4="@firebase/remote-config-compat",y4="@firebase/storage",b4="@firebase/storage-compat",x4="@firebase/firestore",v4="@firebase/ai",_4="@firebase/firestore-compat",w4="firebase",E4="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="[DEFAULT]",T4={[Jm]:"fire-core",[Wk]:"fire-core-compat",[Jk]:"fire-analytics",[Zk]:"fire-analytics-compat",[t4]:"fire-app-check",[e4]:"fire-app-check-compat",[n4]:"fire-auth",[r4]:"fire-auth-compat",[a4]:"fire-rtdb",[s4]:"fire-data-connect",[i4]:"fire-rtdb-compat",[l4]:"fire-fn",[o4]:"fire-fn-compat",[c4]:"fire-iid",[u4]:"fire-iid-compat",[d4]:"fire-fcm",[h4]:"fire-fcm-compat",[f4]:"fire-perf",[m4]:"fire-perf-compat",[g4]:"fire-rc",[p4]:"fire-rc-compat",[y4]:"fire-gcs",[b4]:"fire-gcs-compat",[x4]:"fire-fst",[_4]:"fire-fst-compat",[v4]:"fire-vertex","fire-js":"fire-js",[w4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=new Map,N4=new Map,t0=new Map;function Tx(a,e){try{a.container.addComponent(e)}catch(n){ka.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function Jr(a){const e=a.name;if(t0.has(e))return ka.debug(`There were multiple attempts to register component ${e}.`),!1;t0.set(e,a);for(const n of Ad.values())Tx(n,a);for(const n of N4.values())Tx(n,a);return!0}function Ei(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function Jn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new wi("app","Firebase",k4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=E4;function Sv(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const s={name:e0,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw bs.create("bad-app-name",{appName:String(l)});if(n||(n=bv()),!n)throw bs.create("no-options");const u=Ad.get(l);if(u){if(_s(n,u.options)&&_s(s,u.config))return u;throw bs.create("duplicate-app",{appName:l})}const f=new Ok(l);for(const p of t0.values())f.addComponent(p);const g=new A4(n,s,f);return Ad.set(l,g),g}function j0(a=e0){const e=Ad.get(a);if(!e&&a===e0&&bv())return Sv();if(!e)throw bs.create("no-app",{appName:a});return e}function tr(a,e,n){let s=T4[a]??a;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ka.warn(f.join(" "));return}Jr(new yr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="firebase-heartbeat-database",j4=1,ic="firebase-heartbeat-store";let Cm=null;function jv(){return Cm||(Cm=Av(S4,j4,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(ic)}catch(n){console.warn(n)}}}}).catch(a=>{throw bs.create("idb-open",{originalErrorMessage:a.message})})),Cm}async function C4(a){try{const n=(await jv()).transaction(ic),s=await n.objectStore(ic).get(Cv(a));return await n.done,s}catch(e){if(e instanceof vr)ka.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ka.warn(n.message)}}}async function Nx(a,e){try{const s=(await jv()).transaction(ic,"readwrite");await s.objectStore(ic).put(e,Cv(a)),await s.done}catch(n){if(n instanceof vr)ka.warn(n.message);else{const s=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ka.warn(s.message)}}}function Cv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=1024,I4=30;class D4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=kx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>I4){const f=V4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ka.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kx(),{heartbeatsToSend:s,unsentEntries:l}=O4(this._heartbeatsCache.heartbeats),u=kd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ka.warn(n),""}}}function kx(){return new Date().toISOString().substring(0,10)}function O4(a,e=R4){const n=[];let s=a.slice();for(const l of a){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Ax(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Ax(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class M4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ev()?Tv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Nx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Nx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ax(a){return kd(JSON.stringify({version:2,heartbeats:a})).length}function V4(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let s=1;s<a.length;s++)a[s].date<n&&(n=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(a){Jr(new yr("platform-logger",e=>new Yk(e),"PRIVATE")),Jr(new yr("heartbeat",e=>new D4(e),"PRIVATE")),tr(Jm,Ex,a),tr(Jm,Ex,"esm2020"),tr("fire-js","")}L4("");var P4="firebase",U4="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr(P4,U4,"app");function Rv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z4=Rv,Iv=new wi("auth","Firebase",Rv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Kd("@firebase/auth");function B4(a,...e){Sd.logLevel<=qe.WARN&&Sd.warn(`Auth (${Ml}): ${a}`,...e)}function cd(a,...e){Sd.logLevel<=qe.ERROR&&Sd.error(`Auth (${Ml}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(a,...e){throw C0(a,...e)}function $r(a,...e){return C0(a,...e)}function Dv(a,e,n){const s={...z4(),[e]:n};return new wi("auth","Firebase",s).create(e,{appName:a.name})}function Ta(a){return Dv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C0(a,...e){if(typeof a!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(n,...s)}return Iv.create(a,...e)}function we(a,e,...n){if(!a)throw C0(e,...n)}function wa(a){const e="INTERNAL ASSERTION FAILED: "+a;throw cd(e),new Error(e)}function Aa(a,e){a||wa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.href)||""}function q4(){return Sx()==="http:"||Sx()==="https:"}function Sx(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q4()||wv()||"connection"in navigator)?navigator.onLine:!0}function F4(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Aa(n>e,"Short delay should be less than long delay!"),this.isMobile=fk()||pk()}get(){return H4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(a,e){Aa(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$4=new vc(3e4,6e4);function Ra(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function Ia(a,e,n,s,l={}){return Mv(a,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const g=xc({key:a.config.apiKey,...f}).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const b={method:e,headers:p,...u};return gk()||(b.referrerPolicy="no-referrer"),a.emulatorConfig&&Ol(a.emulatorConfig.host)&&(b.credentials="include"),Ov.fetch()(await Vv(a,a.config.apiHost,n,g),b)})}async function Mv(a,e,n){a._canInitEmulator=!1;const s={...G4,...e};try{const l=new Y4(a),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw rd(a,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,b]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rd(a,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw rd(a,"email-already-in-use",f);if(p==="USER_DISABLED")throw rd(a,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(b)throw Dv(a,_,b);br(a,_)}}catch(l){if(l instanceof vr)throw l;br(a,"network-request-failed",{message:String(l)})}}async function _c(a,e,n,s,l={}){const u=await Ia(a,e,n,s,l);return"mfaPendingCredential"in u&&br(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function Vv(a,e,n,s){const l=`${e}${n}?${s}`,u=a,f=u.config.emulator?R0(a.config,l):`${a.config.apiScheme}://${l}`;return Q4.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function K4(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s($r(this.auth,"network-request-failed")),$4.get())})}}function rd(a,e,n){const s={appName:a.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=$r(a,e,s);return l.customData._tokenResponse=n,l}function jx(a){return a!==void 0&&a.enterprise!==void 0}class X4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return K4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function W4(a,e){return Ia(a,"GET","/v2/recaptchaConfig",Ra(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(a,e){return Ia(a,"POST","/v1/accounts:delete",e)}async function jd(a,e){return Ia(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J4(a,e=!1){const n=wt(a),s=await n.getIdToken(e),l=I0(s);we(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:Jo(Rm(l.auth_time)),issuedAtTime:Jo(Rm(l.iat)),expirationTime:Jo(Rm(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Rm(a){return Number(a)*1e3}function I0(a){const[e,n,s]=a.split(".");if(e===void 0||n===void 0||s===void 0)return cd("JWT malformed, contained fewer than 3 sections"),null;try{const l=pv(n);return l?JSON.parse(l):(cd("Failed to decode base64 JWT payload"),null)}catch(l){return cd("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Cx(a){const e=I0(a);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(a,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof vr&&eA(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function eA({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jo(this.lastLoginAt),this.creationTime=Jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(a){var E;const e=a.auth,n=await a.getIdToken(),s=await lc(a,jd(e,{idToken:n}));we(s==null?void 0:s.users.length,e,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const u=(E=l.providerUserInfo)!=null&&E.length?Lv(l.providerUserInfo):[],f=rA(a.providerData,u),g=a.isAnonymous,p=!(a.email&&l.passwordHash)&&!(f!=null&&f.length),b=g?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new r0(l.createdAt,l.lastLoginAt),isAnonymous:b};Object.assign(a,_)}async function nA(a){const e=wt(a);await Cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rA(a,e){return[...a.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function Lv(a){return a.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(a,e){const n=await Mv(a,{},async()=>{const s=xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=a.config,f=await Vv(a,l,"/v1/token",`key=${u}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return a.emulatorConfig&&Ol(a.emulatorConfig.host)&&(p.credentials="include"),Ov.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sA(a,e){return Ia(a,"POST","/v2/accounts:revokeToken",Ra(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=Cx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await aA(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new xl;return s&&(we(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(we(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return wa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(a,e){we(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class pr{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new tA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new r0(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await lc(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J4(this,e)}reload(){return nA(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Cd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Ta(this.auth));const e=await this.getIdToken();return await lc(this,Z4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,b=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:j,isAnonymous:P,providerData:Q,stsTokenManager:ne}=n;we(E&&ne,e,"internal-error");const q=xl.fromJSON(this.name,ne);we(typeof E=="string",e,"internal-error"),us(s,e.name),us(l,e.name),we(typeof j=="boolean",e,"internal-error"),we(typeof P=="boolean",e,"internal-error"),us(u,e.name),us(f,e.name),us(g,e.name),us(p,e.name),us(b,e.name),us(_,e.name);const ae=new pr({uid:E,auth:e,email:l,emailVerified:j,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:q,createdAt:b,lastLoginAt:_});return Q&&Array.isArray(Q)&&(ae.providerData=Q.map(ue=>({...ue}))),p&&(ae._redirectEventId=p),ae}static async _fromIdTokenResponse(e,n,s=!1){const l=new xl;l.updateFromServerResponse(n);const u=new pr({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Cd(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];we(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Lv(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new xl;g.updateFromIdToken(s);const p=new pr({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new r0(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,b),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Map;function Ea(a){Aa(a instanceof Function,"Expected a class definition");let e=Rx.get(a);return e?(Aa(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,Rx.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Pv.type="NONE";const Ix=Pv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(a,e,n){return`firebase:${a}:${e}:${n}`}class vl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=ud(this.userKey,l.apiKey,u),this.fullPersistenceKey=ud("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jd(this.auth,{idToken:e}).catch(()=>{});return n?pr._fromGetAccountInfoResponse(this.auth,n,e):null}return pr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new vl(Ea(Ix),e,s);const l=(await Promise.all(n.map(async b=>{if(await b._isAvailable())return b}))).filter(b=>b);let u=l[0]||Ea(Ix);const f=ud(s,e.config.apiKey,e.name);let g=null;for(const b of n)try{const _=await b._get(f);if(_){let E;if(typeof _=="string"){const j=await jd(e,{idToken:_}).catch(()=>{});if(!j)break;E=await pr._fromGetAccountInfoResponse(e,j,_)}else E=pr._fromJSON(e,_);b!==u&&(g=E),u=b;break}}catch{}const p=l.filter(b=>b._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new vl(u,e,s):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async b=>{if(b!==u)try{await b._remove(f)}catch{}})),new vl(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fv(e))return"Blackberry";if(Gv(e))return"Webos";if(zv(e))return"Safari";if((e.includes("chrome/")||Bv(e))&&!e.includes("edge/"))return"Chrome";if(Hv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Uv(a=un()){return/firefox\//i.test(a)}function zv(a=un()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bv(a=un()){return/crios\//i.test(a)}function qv(a=un()){return/iemobile/i.test(a)}function Hv(a=un()){return/android/i.test(a)}function Fv(a=un()){return/blackberry/i.test(a)}function Gv(a=un()){return/webos/i.test(a)}function D0(a=un()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function iA(a=un()){var e;return D0(a)&&!!((e=window.navigator)!=null&&e.standalone)}function lA(){return yk()&&document.documentMode===10}function Qv(a=un()){return D0(a)||Hv(a)||Gv(a)||Fv(a)||/windows phone/i.test(a)||qv(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(a,e=[]){let n;switch(a){case"Browser":n=Dx(un());break;case"Worker":n=`${Dx(un())}-${a}`;break;default:n=a}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ml}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,g)=>{try{const p=e(u);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(a,e={}){return Ia(a,"GET","/v2/passwordPolicy",Ra(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=6;class dA{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ox(this),this.idTokenSubscription=new Ox(this),this.beforeStateQueue=new oA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ea(n)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jd(this,{idToken:e}),s=await pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Jn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===g)&&(p!=null&&p.user)&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Ta(this));const n=e?wt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cA(this),n=new dA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wi("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sA(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ea(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[Ea(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$v(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&B4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ss(a){return wt(a)}class Ox{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tk(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fA(a){Yd=a}function Kv(a){return Yd.loadJS(a)}function mA(){return Yd.recaptchaEnterpriseScript}function gA(){return Yd.gapiScript}function pA(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class yA{constructor(){this.enterprise=new bA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const xA="recaptcha-enterprise",Yv="NO_RECAPTCHA";class vA{constructor(e){this.type=xA,this.auth=Ss(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{W4(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const b=new X4(p);return u.tenantId==null?u._agentRecaptchaConfig=b:u._tenantRecaptchaConfigs[u.tenantId]=b,f(b.siteKey)}}).catch(p=>{g(p)})})}function l(u,f,g){const p=window.grecaptcha;jx(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(b=>{f(b)}).catch(()=>{f(Yv)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yA().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(g=>{if(!n&&jx(window.grecaptcha))l(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=mA();p.length!==0&&(p+=g),Kv(p).then(()=>{l(g,u,f)}).catch(b=>{f(b)})}}).catch(g=>{f(g)})})}}async function Mx(a,e,n,s=!1,l=!1){const u=new vA(a);let f;if(l)f=Yv;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,b=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:b,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Rd(a,e,n,s,l){var u;if((u=a._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Mx(a,e,n,n==="getOobCode");return s(a,f)}else return s(a,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Mx(a,e,n,n==="getOobCode");return s(a,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(a,e){const n=Ei(a,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(_s(u,e??{}))return l;br(l,"already-initialized")}return n.initialize({options:e})}function wA(a,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ea);e!=null&&e.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function EA(a,e,n){const s=Ss(a);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=Xv(e),{host:f,port:g}=TA(e),p=g===null?"":`:${g}`,b={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(_s(b,s.config.emulator)&&_s(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=b,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Ol(f)?(vv(`${u}//${f}${p}`),_v("Auth",!0)):NA()}function Xv(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function TA(a){const e=Xv(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Vx(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Vx(f)}}}function Vx(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function NA(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wa("not implemented")}_getIdTokenResponse(e){return wa("not implemented")}_linkToIdToken(e,n){return wa("not implemented")}_getReauthenticationResolver(e){return wa("not implemented")}}async function kA(a,e){return Ia(a,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(a,e){return _c(a,"POST","/v1/accounts:signInWithPassword",Ra(a,e))}async function SA(a,e){return Ia(a,"POST","/v1/accounts:sendOobCode",Ra(a,e))}async function jA(a,e){return SA(a,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(a,e){return _c(a,"POST","/v1/accounts:signInWithEmailLink",Ra(a,e))}async function RA(a,e){return _c(a,"POST","/v1/accounts:signInWithEmailLink",Ra(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends O0{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new oc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new oc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rd(e,n,"signInWithPassword",AA);case"emailLink":return CA(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rd(e,s,"signUpPassword",kA);case"emailLink":return RA(e,{idToken:n,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(a,e){return _c(a,"POST","/v1/accounts:signInWithIdp",Ra(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="http://localhost";class gi extends O0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const f=new gi(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_l(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:IA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OA(a){const e=Fo(Go(a)).link,n=e?Fo(Go(e)).deep_link_id:null,s=Fo(Go(a)).deep_link_id;return(s?Fo(Go(s)).link:null)||s||n||e||a}class M0{constructor(e){const n=Fo(Go(e)),s=n.apiKey??null,l=n.oobCode??null,u=DA(n.mode??null);we(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=OA(e);try{return new M0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.providerId=Vl.PROVIDER_ID}static credential(e,n){return oc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=M0.parseLink(n);return we(s,"argument-error"),oc._fromEmailAndCode(e,s.code,s.tenantId)}}Vl.PROVIDER_ID="password";Vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends Wv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends wc{constructor(){super("facebook.com")}static credential(e){return gi._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gi._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return hs.credential(n,s)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends wc{constructor(){super("github.com")}static credential(e){return gi._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends wc{constructor(){super("twitter.com")}static credential(e,n){return gi._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ms.credential(n,s)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(a,e){return _c(a,"POST","/v1/accounts:signUp",Ra(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await pr._fromIdTokenResponse(e,s,l),f=Lx(s);return new pi({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=Lx(s);return new pi({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function Lx(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends vr{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Id.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Id(e,n,s,l)}}function Zv(a,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Id._fromErrorAndOperation(a,u,e,s):u})}async function VA(a,e,n=!1){const s=await lc(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return pi._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(a,e,n=!1){const{auth:s}=a;if(Jn(s.app))return Promise.reject(Ta(s));const l="reauthenticate";try{const u=await lc(a,Zv(s,l,e,a),n);we(u.idToken,s,"internal-error");const f=I0(u.idToken);we(f,s,"internal-error");const{sub:g}=f;return we(a.uid===g,s,"user-mismatch"),pi._forOperation(a,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&br(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jv(a,e,n=!1){if(Jn(a.app))return Promise.reject(Ta(a));const s="signIn",l=await Zv(a,s,e),u=await pi._fromIdTokenResponse(a,s,l);return n||await a._updateCurrentUser(u.user),u}async function PA(a,e){return Jv(Ss(a),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e_(a){const e=Ss(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UA(a,e,n){const s=Ss(a);await Rd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",jA)}async function zA(a,e,n){if(Jn(a.app))return Promise.reject(Ta(a));const s=Ss(a),f=await Rd(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&e_(a),p}),g=await pi._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function BA(a,e,n){return Jn(a.app)?Promise.reject(Ta(a)):PA(wt(a),Vl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&e_(a),s})}function qA(a,e,n,s){return wt(a).onIdTokenChanged(e,n,s)}function HA(a,e,n){return wt(a).beforeAuthStateChanged(e,n)}function FA(a,e,n,s){return wt(a).onAuthStateChanged(e,n,s)}function GA(a){return wt(a).signOut()}const Dd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dd,"1"),this.storage.removeItem(Dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=1e3,$A=10;class n_ extends t_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);lA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,$A):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},QA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n_.type="LOCAL";const KA=n_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_ extends t_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r_.type="SESSION";const a_=r_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new Xd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async b=>b(n.origin,u)),p=await YA(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(a="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return a+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const b=V0("",20);l.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(E){const j=E;if(j.data.eventId===b)switch(j.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(j.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:b,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function WA(a){Kr().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function ZA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JA(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)==null?void 0:a.controller)||null}function eS(){return s_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="firebaseLocalStorageDb",tS=1,Od="firebaseLocalStorage",l_="fbase_key";class Ec{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wd(a,e){return a.transaction([Od],e?"readwrite":"readonly").objectStore(Od)}function nS(){const a=indexedDB.deleteDatabase(i_);return new Ec(a).toPromise()}function a0(){const a=indexedDB.open(i_,tS);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Od,{keyPath:l_})}catch(l){n(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Od)?e(s):(s.close(),await nS(),e(await a0()))})})}async function Px(a,e,n){const s=Wd(a,!0).put({[l_]:e,value:n});return new Ec(s).toPromise()}async function rS(a,e){const n=Wd(a,!1).get(e),s=await new Ec(n).toPromise();return s===void 0?null:s.value}function Ux(a,e){const n=Wd(a,!0).delete(e);return new Ec(n).toPromise()}const aS=800,sS=3;class o_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await a0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>sS)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(eS()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await ZA(),!this.activeServiceWorker)return;this.sender=new XA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await a0();return await Px(e,Dd,"1"),await Ux(e,Dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Px(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>rS(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ux(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Wd(l,!1).getAll();return new Ec(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o_.type="LOCAL";const iS=o_;new vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(a,e){return e?Ea(e):(we(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends O0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oS(a){return Jv(a.auth,new L0(a),a.bypassAuthState)}function cS(a){const{auth:e,user:n}=a;return we(n,e,"internal-error"),LA(n,new L0(a),a.bypassAuthState)}async function uS(a){const{auth:e,user:n}=a;return we(n,e,"internal-error"),VA(n,new L0(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(b){this.reject(b)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oS;case"linkViaPopup":case"linkViaRedirect":return uS;case"reauthViaPopup":case"reauthViaRedirect":return cS;default:br(this.auth,"internal-error")}}resolve(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=new vc(2e3,1e4);class yl extends c_{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,yl.currentPopupAction&&yl.currentPopupAction.cancel(),yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Aa(this.filter.length===1,"Popup operations only handle one event");const e=V0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dS.get())};e()}}yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="pendingRedirect",dd=new Map;class fS extends c_{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=dd.get(this.auth._key());if(!e){try{const s=await mS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}dd.set(this.auth._key(),e)}return this.bypassAuthState||dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mS(a,e){const n=yS(e),s=pS(a);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function gS(a,e){dd.set(a._key(),e)}function pS(a){return Ea(a._redirectPersistence)}function yS(a){return ud(hS,a.config.apiKey,a.name)}async function bS(a,e,n=!1){if(Jn(a.app))return Promise.reject(Ta(a));const s=Ss(a),l=lS(s,e),f=await new fS(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=600*1e3;class vS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_S(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!u_(e)){const l=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError($r(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xS&&this.cachedEventUids.clear(),this.cachedEventUids.has(zx(e))}saveEventToCache(e){this.cachedEventUids.add(zx(e)),this.lastProcessedEventTime=Date.now()}}function zx(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function u_({type:a,error:e}){return a==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _S(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u_(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(a,e={}){return Ia(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TS=/^https?/;async function NS(a){if(a.config.emulator)return;const{authorizedDomains:e}=await wS(a);for(const n of e)try{if(kS(n))return}catch{}br(a,"unauthorized-domain")}function kS(a){const e=n0(),{protocol:n,hostname:s}=new URL(e);if(a.startsWith("chrome-extension://")){const f=new URL(a);return f.hostname===""&&s===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!TS.test(n))return!1;if(ES.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new vc(3e4,6e4);function Bx(){const a=Kr().___jsl;if(a!=null&&a.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function SS(a){return new Promise((e,n)=>{var l,u,f;function s(){Bx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bx(),n($r(a,"network-request-failed"))},timeout:AS.get()})}if((u=(l=Kr().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=Kr().gapi)!=null&&f.load)s();else{const g=pA("iframefcb");return Kr()[g]=()=>{gapi.load?s():n($r(a,"network-request-failed"))},Kv(`${gA()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw hd=null,e})}let hd=null;function jS(a){return hd=hd||SS(a),hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=new vc(5e3,15e3),RS="__/auth/iframe",IS="emulator/auth/iframe",DS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MS(a){const e=a.config;we(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?R0(e,IS):`https://${a.config.authDomain}/${RS}`,s={apiKey:e.apiKey,appName:a.name,v:Ml},l=OS.get(a.config.apiHost);l&&(s.eid=l);const u=a._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${xc(s).slice(1)}`}async function VS(a){const e=await jS(a),n=Kr().gapi;return we(n,a,"internal-error"),e.open({where:document.body,url:MS(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DS,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=$r(a,"network-request-failed"),g=Kr().setTimeout(()=>{u(f)},CS.get());function p(){Kr().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PS=500,US=600,zS="_blank",BS="http://localhost";class qx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qS(a,e,n,s=PS,l=US){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...LS,width:s.toString(),height:l.toString(),top:u,left:f},b=un().toLowerCase();n&&(g=Bv(b)?zS:n),Uv(b)&&(e=e||BS,p.scrollbars="yes");const _=Object.entries(p).reduce((j,[P,Q])=>`${j}${P}=${Q},`,"");if(iA(b)&&g!=="_self")return HS(e||"",g),new qx(null);const E=window.open(e||"",g,_);we(E,a,"popup-blocked");try{E.focus()}catch{}return new qx(E)}function HS(a,e){const n=document.createElement("a");n.href=a,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="__/auth/handler",GS="emulator/auth/handler",QS=encodeURIComponent("fac");async function Hx(a,e,n,s,l,u){we(a.config.authDomain,a,"auth-domain-config-required"),we(a.config.apiKey,a,"invalid-api-key");const f={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:s,v:Ml,eventId:l};if(e instanceof Wv){e.setDefaultLanguage(a.languageCode),f.providerId=e.providerId||"",Ek(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))f[_]=E}if(e instanceof wc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(f.scopes=_.join(","))}a.tenantId&&(f.tid=a.tenantId);const g=f;for(const _ of Object.keys(g))g[_]===void 0&&delete g[_];const p=await a._getAppCheckToken(),b=p?`#${QS}=${encodeURIComponent(p)}`:"";return`${$S(a)}?${xc(g).slice(1)}${b}`}function $S({config:a}){return a.emulator?R0(a,GS):`https://${a.authDomain}/${FS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class KS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a_,this._completeRedirectFn=bS,this._overrideRedirectResult=gS}async _openPopup(e,n,s,l){var f;Aa((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await Hx(e,n,s,n0(),l);return qS(e,u,V0())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await Hx(e,n,s,n0(),l);return WA(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Aa(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await VS(e),s=new vS(e);return n.register("authEvent",l=>(we(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[Im];u!==void 0&&n(!!u),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NS(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Qv()||zv()||D0()}}const YS=KS;var Fx="@firebase/auth",Gx="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZS(a){Jr(new yr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$v(a)},b=new hA(s,l,u,p);return wA(b,n),b},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Jr(new yr("auth-internal",e=>{const n=Ss(e.getProvider("auth").getImmediate());return(s=>new XS(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(Fx,Gx,WS(a)),tr(Fx,Gx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=300,e5=xv("authIdTokenMaxAge")||JS;let Qx=null;const t5=a=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>e5)return;const l=n==null?void 0:n.token;Qx!==l&&(Qx=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function n5(a=j0()){const e=Ei(a,"auth");if(e.isInitialized())return e.getImmediate();const n=_A(a,{popupRedirectResolver:YS,persistence:[iS,KA,a_]}),s=xv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=t5(u.toString());HA(n,f,()=>f(n.currentUser)),qA(n,g=>f(g))}}const l=yv("auth");return l&&EA(n,`http://${l}`),n}function r5(){var a;return((a=document.getElementsByTagName("head"))==null?void 0:a[0])??document}fA({loadJS(a){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=e,s.onerror=l=>{const u=$r("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",r5().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZS("Browser");var $x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,d_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,N){function k(){}k.prototype=N.prototype,A.F=N.prototype,A.prototype=new k,A.prototype.constructor=A,A.D=function(O,R,M){for(var S=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)S[Me-2]=arguments[Me];return N.prototype[R].apply(O,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(A,N,k){k||(k=0);const O=Array(16);if(typeof N=="string")for(var R=0;R<16;++R)O[R]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(R=0;R<16;++R)O[R]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=A.g[0],k=A.g[1],R=A.g[2];let M=A.g[3],S;S=N+(M^k&(R^M))+O[0]+3614090360&4294967295,N=k+(S<<7&4294967295|S>>>25),S=M+(R^N&(k^R))+O[1]+3905402710&4294967295,M=N+(S<<12&4294967295|S>>>20),S=R+(k^M&(N^k))+O[2]+606105819&4294967295,R=M+(S<<17&4294967295|S>>>15),S=k+(N^R&(M^N))+O[3]+3250441966&4294967295,k=R+(S<<22&4294967295|S>>>10),S=N+(M^k&(R^M))+O[4]+4118548399&4294967295,N=k+(S<<7&4294967295|S>>>25),S=M+(R^N&(k^R))+O[5]+1200080426&4294967295,M=N+(S<<12&4294967295|S>>>20),S=R+(k^M&(N^k))+O[6]+2821735955&4294967295,R=M+(S<<17&4294967295|S>>>15),S=k+(N^R&(M^N))+O[7]+4249261313&4294967295,k=R+(S<<22&4294967295|S>>>10),S=N+(M^k&(R^M))+O[8]+1770035416&4294967295,N=k+(S<<7&4294967295|S>>>25),S=M+(R^N&(k^R))+O[9]+2336552879&4294967295,M=N+(S<<12&4294967295|S>>>20),S=R+(k^M&(N^k))+O[10]+4294925233&4294967295,R=M+(S<<17&4294967295|S>>>15),S=k+(N^R&(M^N))+O[11]+2304563134&4294967295,k=R+(S<<22&4294967295|S>>>10),S=N+(M^k&(R^M))+O[12]+1804603682&4294967295,N=k+(S<<7&4294967295|S>>>25),S=M+(R^N&(k^R))+O[13]+4254626195&4294967295,M=N+(S<<12&4294967295|S>>>20),S=R+(k^M&(N^k))+O[14]+2792965006&4294967295,R=M+(S<<17&4294967295|S>>>15),S=k+(N^R&(M^N))+O[15]+1236535329&4294967295,k=R+(S<<22&4294967295|S>>>10),S=N+(R^M&(k^R))+O[1]+4129170786&4294967295,N=k+(S<<5&4294967295|S>>>27),S=M+(k^R&(N^k))+O[6]+3225465664&4294967295,M=N+(S<<9&4294967295|S>>>23),S=R+(N^k&(M^N))+O[11]+643717713&4294967295,R=M+(S<<14&4294967295|S>>>18),S=k+(M^N&(R^M))+O[0]+3921069994&4294967295,k=R+(S<<20&4294967295|S>>>12),S=N+(R^M&(k^R))+O[5]+3593408605&4294967295,N=k+(S<<5&4294967295|S>>>27),S=M+(k^R&(N^k))+O[10]+38016083&4294967295,M=N+(S<<9&4294967295|S>>>23),S=R+(N^k&(M^N))+O[15]+3634488961&4294967295,R=M+(S<<14&4294967295|S>>>18),S=k+(M^N&(R^M))+O[4]+3889429448&4294967295,k=R+(S<<20&4294967295|S>>>12),S=N+(R^M&(k^R))+O[9]+568446438&4294967295,N=k+(S<<5&4294967295|S>>>27),S=M+(k^R&(N^k))+O[14]+3275163606&4294967295,M=N+(S<<9&4294967295|S>>>23),S=R+(N^k&(M^N))+O[3]+4107603335&4294967295,R=M+(S<<14&4294967295|S>>>18),S=k+(M^N&(R^M))+O[8]+1163531501&4294967295,k=R+(S<<20&4294967295|S>>>12),S=N+(R^M&(k^R))+O[13]+2850285829&4294967295,N=k+(S<<5&4294967295|S>>>27),S=M+(k^R&(N^k))+O[2]+4243563512&4294967295,M=N+(S<<9&4294967295|S>>>23),S=R+(N^k&(M^N))+O[7]+1735328473&4294967295,R=M+(S<<14&4294967295|S>>>18),S=k+(M^N&(R^M))+O[12]+2368359562&4294967295,k=R+(S<<20&4294967295|S>>>12),S=N+(k^R^M)+O[5]+4294588738&4294967295,N=k+(S<<4&4294967295|S>>>28),S=M+(N^k^R)+O[8]+2272392833&4294967295,M=N+(S<<11&4294967295|S>>>21),S=R+(M^N^k)+O[11]+1839030562&4294967295,R=M+(S<<16&4294967295|S>>>16),S=k+(R^M^N)+O[14]+4259657740&4294967295,k=R+(S<<23&4294967295|S>>>9),S=N+(k^R^M)+O[1]+2763975236&4294967295,N=k+(S<<4&4294967295|S>>>28),S=M+(N^k^R)+O[4]+1272893353&4294967295,M=N+(S<<11&4294967295|S>>>21),S=R+(M^N^k)+O[7]+4139469664&4294967295,R=M+(S<<16&4294967295|S>>>16),S=k+(R^M^N)+O[10]+3200236656&4294967295,k=R+(S<<23&4294967295|S>>>9),S=N+(k^R^M)+O[13]+681279174&4294967295,N=k+(S<<4&4294967295|S>>>28),S=M+(N^k^R)+O[0]+3936430074&4294967295,M=N+(S<<11&4294967295|S>>>21),S=R+(M^N^k)+O[3]+3572445317&4294967295,R=M+(S<<16&4294967295|S>>>16),S=k+(R^M^N)+O[6]+76029189&4294967295,k=R+(S<<23&4294967295|S>>>9),S=N+(k^R^M)+O[9]+3654602809&4294967295,N=k+(S<<4&4294967295|S>>>28),S=M+(N^k^R)+O[12]+3873151461&4294967295,M=N+(S<<11&4294967295|S>>>21),S=R+(M^N^k)+O[15]+530742520&4294967295,R=M+(S<<16&4294967295|S>>>16),S=k+(R^M^N)+O[2]+3299628645&4294967295,k=R+(S<<23&4294967295|S>>>9),S=N+(R^(k|~M))+O[0]+4096336452&4294967295,N=k+(S<<6&4294967295|S>>>26),S=M+(k^(N|~R))+O[7]+1126891415&4294967295,M=N+(S<<10&4294967295|S>>>22),S=R+(N^(M|~k))+O[14]+2878612391&4294967295,R=M+(S<<15&4294967295|S>>>17),S=k+(M^(R|~N))+O[5]+4237533241&4294967295,k=R+(S<<21&4294967295|S>>>11),S=N+(R^(k|~M))+O[12]+1700485571&4294967295,N=k+(S<<6&4294967295|S>>>26),S=M+(k^(N|~R))+O[3]+2399980690&4294967295,M=N+(S<<10&4294967295|S>>>22),S=R+(N^(M|~k))+O[10]+4293915773&4294967295,R=M+(S<<15&4294967295|S>>>17),S=k+(M^(R|~N))+O[1]+2240044497&4294967295,k=R+(S<<21&4294967295|S>>>11),S=N+(R^(k|~M))+O[8]+1873313359&4294967295,N=k+(S<<6&4294967295|S>>>26),S=M+(k^(N|~R))+O[15]+4264355552&4294967295,M=N+(S<<10&4294967295|S>>>22),S=R+(N^(M|~k))+O[6]+2734768916&4294967295,R=M+(S<<15&4294967295|S>>>17),S=k+(M^(R|~N))+O[13]+1309151649&4294967295,k=R+(S<<21&4294967295|S>>>11),S=N+(R^(k|~M))+O[4]+4149444226&4294967295,N=k+(S<<6&4294967295|S>>>26),S=M+(k^(N|~R))+O[11]+3174756917&4294967295,M=N+(S<<10&4294967295|S>>>22),S=R+(N^(M|~k))+O[2]+718787259&4294967295,R=M+(S<<15&4294967295|S>>>17),S=k+(M^(R|~N))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+N&4294967295,A.g[1]=A.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+M&4294967295}s.prototype.v=function(A,N){N===void 0&&(N=A.length);const k=N-this.blockSize,O=this.C;let R=this.h,M=0;for(;M<N;){if(R==0)for(;M<=k;)l(this,A,M),M+=this.blockSize;if(typeof A=="string"){for(;M<N;)if(O[R++]=A.charCodeAt(M++),R==this.blockSize){l(this,O),R=0;break}}else for(;M<N;)if(O[R++]=A[M++],R==this.blockSize){l(this,O),R=0;break}}this.h=R,this.o+=N},s.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var N=1;N<A.length-8;++N)A[N]=0;N=this.o*8;for(var k=A.length-8;k<A.length;++k)A[k]=N&255,N/=256;for(this.v(A),A=Array(16),N=0,k=0;k<4;++k)for(let O=0;O<32;O+=8)A[N++]=this.g[k]>>>O&255;return A};function u(A,N){var k=g;return Object.prototype.hasOwnProperty.call(k,A)?k[A]:k[A]=N(A)}function f(A,N){this.h=N;const k=[];let O=!0;for(let R=A.length-1;R>=0;R--){const M=A[R]|0;O&&M==N||(k[R]=M,O=!1)}this.g=k}var g={};function p(A){return-128<=A&&A<128?u(A,function(N){return new f([N|0],N<0?-1:0)}):new f([A|0],A<0?-1:0)}function b(A){if(isNaN(A)||!isFinite(A))return E;if(A<0)return q(b(-A));const N=[];let k=1;for(let O=0;A>=k;O++)N[O]=A/k|0,k*=4294967296;return new f(N,0)}function _(A,N){if(A.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(A.charAt(0)=="-")return q(_(A.substring(1),N));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=b(Math.pow(N,8));let O=E;for(let M=0;M<A.length;M+=8){var R=Math.min(8,A.length-M);const S=parseInt(A.substring(M,M+R),N);R<8?(R=b(Math.pow(N,R)),O=O.j(R).add(b(S))):(O=O.j(k),O=O.add(b(S)))}return O}var E=p(0),j=p(1),P=p(16777216);a=f.prototype,a.m=function(){if(ne(this))return-q(this).m();let A=0,N=1;for(let k=0;k<this.g.length;k++){const O=this.i(k);A+=(O>=0?O:4294967296+O)*N,N*=4294967296}return A},a.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(Q(this))return"0";if(ne(this))return"-"+q(this).toString(A);const N=b(Math.pow(A,6));var k=this;let O="";for(;;){const R=je(k,N).g;k=ae(k,R.j(N));let M=((k.g.length>0?k.g[0]:k.h)>>>0).toString(A);if(k=R,Q(k))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},a.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function Q(A){if(A.h!=0)return!1;for(let N=0;N<A.g.length;N++)if(A.g[N]!=0)return!1;return!0}function ne(A){return A.h==-1}a.l=function(A){return A=ae(this,A),ne(A)?-1:Q(A)?0:1};function q(A){const N=A.g.length,k=[];for(let O=0;O<N;O++)k[O]=~A.g[O];return new f(k,~A.h).add(j)}a.abs=function(){return ne(this)?q(this):this},a.add=function(A){const N=Math.max(this.g.length,A.g.length),k=[];let O=0;for(let R=0;R<=N;R++){let M=O+(this.i(R)&65535)+(A.i(R)&65535),S=(M>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);O=S>>>16,M&=65535,S&=65535,k[R]=S<<16|M}return new f(k,k[k.length-1]&-2147483648?-1:0)};function ae(A,N){return A.add(q(N))}a.j=function(A){if(Q(this)||Q(A))return E;if(ne(this))return ne(A)?q(this).j(q(A)):q(q(this).j(A));if(ne(A))return q(this.j(q(A)));if(this.l(P)<0&&A.l(P)<0)return b(this.m()*A.m());const N=this.g.length+A.g.length,k=[];for(var O=0;O<2*N;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(let R=0;R<A.g.length;R++){const M=this.i(O)>>>16,S=this.i(O)&65535,Me=A.i(R)>>>16,Je=A.i(R)&65535;k[2*O+2*R]+=S*Je,ue(k,2*O+2*R),k[2*O+2*R+1]+=M*Je,ue(k,2*O+2*R+1),k[2*O+2*R+1]+=S*Me,ue(k,2*O+2*R+1),k[2*O+2*R+2]+=M*Me,ue(k,2*O+2*R+2)}for(A=0;A<N;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=N;A<2*N;A++)k[A]=0;return new f(k,0)};function ue(A,N){for(;(A[N]&65535)!=A[N];)A[N+1]+=A[N]>>>16,A[N]&=65535,N++}function ge(A,N){this.g=A,this.h=N}function je(A,N){if(Q(N))throw Error("division by zero");if(Q(A))return new ge(E,E);if(ne(A))return N=je(q(A),N),new ge(q(N.g),q(N.h));if(ne(N))return N=je(A,q(N)),new ge(q(N.g),N.h);if(A.g.length>30){if(ne(A)||ne(N))throw Error("slowDivide_ only works with positive integers.");for(var k=j,O=N;O.l(A)<=0;)k=De(k),O=De(O);var R=ee(k,1),M=ee(O,1);for(O=ee(O,2),k=ee(k,2);!Q(O);){var S=M.add(O);S.l(A)<=0&&(R=R.add(k),M=S),O=ee(O,1),k=ee(k,1)}return N=ae(A,R.j(N)),new ge(R,N)}for(R=E;A.l(N)>=0;){for(k=Math.max(1,Math.floor(A.m()/N.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=b(k),S=M.j(N);ne(S)||S.l(A)>0;)k-=O,M=b(k),S=M.j(N);Q(M)&&(M=j),R=R.add(M),A=ae(A,S)}return new ge(R,A)}a.B=function(A){return je(this,A).h},a.and=function(A){const N=Math.max(this.g.length,A.g.length),k=[];for(let O=0;O<N;O++)k[O]=this.i(O)&A.i(O);return new f(k,this.h&A.h)},a.or=function(A){const N=Math.max(this.g.length,A.g.length),k=[];for(let O=0;O<N;O++)k[O]=this.i(O)|A.i(O);return new f(k,this.h|A.h)},a.xor=function(A){const N=Math.max(this.g.length,A.g.length),k=[];for(let O=0;O<N;O++)k[O]=this.i(O)^A.i(O);return new f(k,this.h^A.h)};function De(A){const N=A.g.length+1,k=[];for(let O=0;O<N;O++)k[O]=A.i(O)<<1|A.i(O-1)>>>31;return new f(k,A.h)}function ee(A,N){const k=N>>5;N%=32;const O=A.g.length-k,R=[];for(let M=0;M<O;M++)R[M]=N>0?A.i(M+k)>>>N|A.i(M+k+1)<<32-N:A.i(M+k);return new f(R,A.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,d_=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=b,f.fromString=_,xs=f}).apply(typeof $x<"u"?$x:typeof self<"u"?self:typeof window<"u"?window:{});var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h_,Qo,f_,fd,s0,m_,g_,p_;(function(){var a,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ad=="object"&&ad];for(var y=0;y<d.length;++y){var v=d[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(d,y){if(y)e:{var v=s;d=d.split(".");for(var T=0;T<d.length-1;T++){var L=d[T];if(!(L in v))break e;v=v[L]}d=d[d.length-1],T=v[d],y=y(T),y!=T&&y!=null&&e(v,d,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(d){return d||function(y){var v=[],T;for(T in y)Object.prototype.hasOwnProperty.call(y,T)&&v.push([T,y[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function p(d,y,v){return d.call.apply(d.bind,arguments)}function b(d,y,v){return b=p,b.apply(null,arguments)}function _(d,y){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),d.apply(this,T)}}function E(d,y){function v(){}v.prototype=y.prototype,d.Z=y.prototype,d.prototype=new v,d.prototype.constructor=d,d.Ob=function(T,L,H){for(var ie=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ie[Ce-2]=arguments[Ce];return y.prototype[L].apply(T,ie)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function P(d){const y=d.length;if(y>0){const v=Array(y);for(let T=0;T<y;T++)v[T]=d[T];return v}return[]}function Q(d,y){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=d.length||0;const H=L.length||0;d.length=v+H;for(let ie=0;ie<H;ie++)d[v+ie]=L[ie]}else d.push(L)}}class ne{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(d){f.setTimeout(()=>{throw d},0)}function ae(){var d=A;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class ue{constructor(){this.h=this.g=null}add(y,v){const T=ge.get();T.set(y,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ge=new ne(()=>new je,d=>d.reset());class je{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let De,ee=!1,A=new ue,N=()=>{const d=Promise.resolve(void 0);De=()=>{d.then(k)}};function k(){for(var d;d=ae();){try{d.h.call(d.g)}catch(v){q(v)}var y=ge;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}ee=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return d})();function S(d){return/^[\s\xa0]*$/.test(d)}function Me(d,y){R.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}E(Me,R),Me.prototype.init=function(d,y){const v=this.type=d.type,T=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(v=="mouseover"?y=d.fromElement:v=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Me.Z.h.call(this)},Me.prototype.h=function(){Me.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Je="closure_listenable_"+(Math.random()*1e6|0),$=0;function re(d,y,v,T,L){this.listener=d,this.proxy=null,this.src=y,this.type=v,this.capture=!!T,this.ha=L,this.key=++$,this.da=this.fa=!1}function me(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Te(d,y,v){for(const T in d)y.call(v,d[T],T,d)}function Ge(d,y){for(const v in d)y.call(void 0,d[v],v,d)}function I(d){const y={};for(const v in d)y[v]=d[v];return y}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(d,y){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)d[v]=T[v];for(let H=0;H<K.length;H++)v=K[H],Object.prototype.hasOwnProperty.call(T,v)&&(d[v]=T[v])}}function F(d){this.src=d,this.g={},this.h=0}F.prototype.add=function(d,y,v,T,L){const H=d.toString();d=this.g[H],d||(d=this.g[H]=[],this.h++);const ie=be(d,y,T,L);return ie>-1?(y=d[ie],v||(y.fa=!1)):(y=new re(y,this.src,H,!!T,L),y.fa=v,d.push(y)),y};function he(d,y){const v=y.type;if(v in d.g){var T=d.g[v],L=Array.prototype.indexOf.call(T,y,void 0),H;(H=L>=0)&&Array.prototype.splice.call(T,L,1),H&&(me(y),d.g[v].length==0&&(delete d.g[v],d.h--))}}function be(d,y,v,T){for(let L=0;L<d.length;++L){const H=d[L];if(!H.da&&H.listener==y&&H.capture==!!v&&H.ha==T)return L}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),lt={};function ye(d,y,v,T,L){if(Array.isArray(y)){for(let H=0;H<y.length;H++)ye(d,y[H],v,T,L);return null}return v=Os(v),d&&d[Je]?d.J(y,v,g(T)?!!T.capture:!1,L):pt(d,y,v,!1,T,L)}function pt(d,y,v,T,L,H){if(!y)throw Error("Invalid event type");const ie=g(L)?!!L.capture:!!L;let Ce=hn(d);if(Ce||(d[Ne]=Ce=new F(d)),v=Ce.add(y,v,T,ie,H),v.proxy)return v;if(T=qt(),v.proxy=T,T.src=d,T.listener=v,d.addEventListener)M||(L=ie),L===void 0&&(L=!1),d.addEventListener(y.toString(),T,L);else if(d.attachEvent)d.attachEvent(pn(y.toString()),T);else if(d.addListener&&d.removeListener)d.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function qt(){function d(v){return y.call(d.src,d.listener,v)}const y=_r;return d}function rn(d,y,v,T,L){if(Array.isArray(y))for(var H=0;H<y.length;H++)rn(d,y[H],v,T,L);else T=g(T)?!!T.capture:!!T,v=Os(v),d&&d[Je]?(d=d.i,H=String(y).toString(),H in d.g&&(y=d.g[H],v=be(y,v,T,L),v>-1&&(me(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete d.g[H],d.h--)))):d&&(d=hn(d))&&(y=d.g[y.toString()],d=-1,y&&(d=be(y,v,T,L)),(v=d>-1?y[d]:null)&&dn(v))}function dn(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Je])he(y.i,d);else{var v=d.type,T=d.proxy;y.removeEventListener?y.removeEventListener(v,T,d.capture):y.detachEvent?y.detachEvent(pn(v),T):y.addListener&&y.removeListener&&y.removeListener(T),(v=hn(y))?(he(v,d),v.h==0&&(v.src=null,y[Ne]=null)):me(d)}}}function pn(d){return d in lt?lt[d]:lt[d]="on"+d}function _r(d,y){if(d.da)d=!0;else{y=new Me(y,this);const v=d.listener,T=d.ha||d.src;d.fa&&dn(d),d=v.call(T,y)}return d}function hn(d){return d=d[Ne],d instanceof F?d:null}var Ds="__closure_events_fn_"+(Math.random()*1e9>>>0);function Os(d){return typeof d=="function"?d:(d[Ds]||(d[Ds]=function(y){return d.handleEvent(y)}),d[Ds])}function bt(){O.call(this),this.i=new F(this),this.M=this,this.G=null}E(bt,O),bt.prototype[Je]=!0,bt.prototype.removeEventListener=function(d,y,v,T){rn(this,d,y,v,T)};function Et(d,y){var v,T=d.G;if(T)for(v=[];T;T=T.G)v.push(T);if(d=d.M,T=y.type||y,typeof y=="string")y=new R(y,d);else if(y instanceof R)y.target=y.target||d;else{var L=y;y=new R(T,d),se(y,L)}L=!0;let H,ie;if(v)for(ie=v.length-1;ie>=0;ie--)H=y.g=v[ie],L=wr(H,T,!0,y)&&L;if(H=y.g=d,L=wr(H,T,!0,y)&&L,L=wr(H,T,!1,y)&&L,v)for(ie=0;ie<v.length;ie++)H=y.g=v[ie],L=wr(H,T,!1,y)&&L}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const v=d.g[y];for(let T=0;T<v.length;T++)me(v[T]);delete d.g[y],d.h--}}this.G=null},bt.prototype.J=function(d,y,v,T){return this.i.add(String(d),y,!1,v,T)},bt.prototype.K=function(d,y,v,T){return this.i.add(String(d),y,!0,v,T)};function wr(d,y,v,T){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let L=!0;for(let H=0;H<y.length;++H){const ie=y[H];if(ie&&!ie.da&&ie.capture==v){const Ce=ie.listener,Nt=ie.ha||ie.src;ie.fa&&he(d.i,ie),L=Ce.call(Nt,T)!==!1&&L}}return L&&!T.defaultPrevented}function oe(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(d,y||0)}function Oe(d){d.g=oe(()=>{d.g=null,d.i&&(d.i=!1,Oe(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Ve extends O{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Le(d){O.call(this),this.h=d,this.g={}}E(Le,O);var ct=[];function an(d){Te(d.g,function(y,v){this.g.hasOwnProperty(v)&&dn(y)},d),d.g={}}Le.prototype.N=function(){Le.Z.N.call(this),an(this)},Le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=f.JSON.stringify,Un=f.JSON.parse,Er=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function ta(){}function Rc(){}var ar={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){R.call(this,"d")}E(Kt,R);function zn(){R.call(this,"c")}E(zn,R);var Tt={},Ic=null;function ki(){return Ic=Ic||new bt}Tt.Ia="serverreachability";function Dc(d){R.call(this,Tt.Ia,d)}E(Dc,R);function Tr(d){const y=ki();Et(y,new Dc(y))}Tt.STAT_EVENT="statevent";function Ms(d,y){R.call(this,Tt.STAT_EVENT,d),this.stat=y}E(Ms,R);function jt(d){const y=ki();Et(y,new Ms(y,d))}Tt.Ja="timingevent";function Nr(d,y){R.call(this,Tt.Ja,d),this.size=y}E(Nr,R);function kr(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},y)}function sr(){this.g=!0}sr.prototype.ua=function(){this.g=!1};function wh(d,y,v,T,L,H){d.info(function(){if(d.g)if(H){var ie="",Ce=H.split("&");for(let Xe=0;Xe<Ce.length;Xe++){var Nt=Ce[Xe].split("=");if(Nt.length>1){const mt=Nt[0];Nt=Nt[1];const Fn=mt.split("_");ie=Fn.length>=2&&Fn[1]=="type"?ie+(mt+"="+Nt+"&"):ie+(mt+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+y+`
`+v+`
`+ie})}function Oc(d,y,v,T,L,H,ie){d.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+y+`
`+v+`
`+H+" "+ie})}function Ar(d,y,v,T){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Eh(d,v)+(T?" "+T:"")})}function Vs(d,y){d.info(function(){return"TIMEOUT: "+y})}sr.prototype.info=function(){};function Eh(d,y){if(!d.g)return y;if(!y)return null;try{const H=JSON.parse(y);if(H){for(d=0;d<H.length;d++)if(Array.isArray(H[d])){var v=H[d];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<T.length;ie++)T[ie]=""}}}}return $t(H)}catch{return y}}var Ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ql={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hl;function Ps(){}E(Ps,ta),Ps.prototype.g=function(){return new XMLHttpRequest},Hl=new Ps;function na(d){return encodeURIComponent(String(d))}function Mc(d){var y=1;d=d.split(":");const v=[];for(;y>0&&d.length;)v.push(d.shift()),y--;return d.length&&v.push(d.join(":")),v}function ir(d,y,v,T){this.j=d,this.i=y,this.l=v,this.S=T||1,this.V=new Le(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lr}function lr(){this.i=null,this.g="",this.h=!1}var Ct={},Ht={};function Sr(d,y,v){d.M=1,d.A=Us(It(y)),d.u=v,d.R=!0,Ai(d,null)}function Ai(d,y){d.F=Date.now(),jr(d),d.B=It(d.A);var v=d.B,T=d.S;Array.isArray(T)||(T=[String(T)]),Ri(v.i,"t",T),d.C=0,v=d.j.L,d.h=new lr,d.g=Xc(d.j,v?y:null,!d.u),d.P>0&&(d.O=new Ve(b(d.Y,d,d.g),d.P)),y=d.V,v=d.g,T=d.ba;var L="readystatechange";Array.isArray(L)||(L&&(ct[0]=L.toString()),L=ct);for(let H=0;H<L.length;H++){const ie=ye(v,L[H],T||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=d.J?I(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),Tr(),wh(d.i,d.v,d.B,d.l,d.S,d.u)}ir.prototype.ba=function(d){d=d.target;const y=this.O;y&&ur(d)==3?y.j():this.Y(d)},ir.prototype.Y=function(d){try{if(d==this.g)e:{const Ce=ur(this.g),Nt=this.g.ya(),Xe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||Ce!=4||Nt==7||(Nt==8||Xe<=0?Tr(3):Tr(2)),Cr(this);var y=this.g.ca();this.X=y;var v=Th(this);if(this.o=y==200,Oc(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var H=T;break t}}H=null}if(d=H)Ar(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rr(this,d);else{this.o=!1,this.m=3,jt(12),An(this),Bn(this);break e}}if(this.R){d=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=Lc(this,v),mt==Ht){Ce==4&&(this.m=4,jt(14),d=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Ct){this.m=4,jt(15),Ar(this.i,this.l,v,"[Invalid Chunk]"),d=!1;break}else Ar(this.i,this.l,mt,null),Rr(this,mt);if(Vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,jt(16),d=!1),this.o=this.o&&d,!d)Ar(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),Bn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ao(ie),ie.P=!0,jt(11))}}else Ar(this.i,this.l,v,null),Rr(this,v);Ce==4&&An(this),this.o&&!this.K&&(Ce==4?Qc(this.j,this):(this.o=!1,jr(this)))}else aa(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),An(this),Bn(this)}}}catch{}finally{}};function Th(d){if(!Vc(d))return d.g.la();const y=Yt(d.g);if(y==="")return"";let v="";const T=y.length,L=ur(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return An(d),Bn(d),"";d.h.i=new f.TextDecoder}for(let H=0;H<T;H++)d.h.h=!0,v+=d.h.i.decode(y[H],{stream:!(L&&H==T-1)});return y.length=0,d.h.g+=v,d.C=0,d.h.g}function Vc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Lc(d,y){var v=d.C,T=y.indexOf(`
`,v);return T==-1?Ht:(v=Number(y.substring(v,T)),isNaN(v)?Ct:(T+=1,T+v>y.length?Ht:(y=y.slice(T,T+v),d.C=T+v,y)))}ir.prototype.cancel=function(){this.K=!0,An(this)};function jr(d){d.T=Date.now()+d.H,Si(d,d.H)}function Si(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=kr(b(d.aa,d),y)}function Cr(d){d.D&&(f.clearTimeout(d.D),d.D=null)}ir.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(Tr(),jt(17)),An(this),this.m=2,Bn(this)):Si(this,this.T-d)};function Bn(d){d.j.I==0||d.K||Qc(d.j,d)}function An(d){Cr(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,an(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function Rr(d,y){try{var v=d.j;if(v.I!=0&&(v.g==d||Dr(v.h,d))){if(!d.L&&Dr(v.h,d)&&v.I==3){try{var T=v.Ba.g.parse(y)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<d.F)Vi(v),za(v);else break e;Qs(v),jt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=kr(b(v.Va,v),6e3));Ir(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ur(v,11)}else if((d.L||v.g==d)&&Vi(v),!S(y))for(L=v.Ba.g.parse(y),y=0;y<L.length;y++){let Xe=L[y];const mt=Xe[0];if(!(mt<=v.K))if(v.K=mt,Xe=Xe[1],v.I==2)if(Xe[0]=="c"){v.M=Xe[1],v.ba=Xe[2];const Fn=Xe[3];Fn!=null&&(v.ka=Fn,v.j.info("VER="+v.ka));const zr=Xe[4];zr!=null&&(v.za=zr,v.j.info("SVER="+v.za));const dr=Xe[5];dr!=null&&typeof dr=="number"&&dr>0&&(T=1.5*dr,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const hr=d.g;if(hr){const $s=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var H=T.h;H.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ql(H,H.h),H.h=null))}if(T.G){const Li=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Li&&(T.wa=Li,et(T.J,T.G,Li))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-d.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ie=d;if(T.na=Yc(T,T.L?T.ba:null,T.W),ie.L){$l(T.h,ie);var Ce=ie,Nt=T.O;Nt&&(Ce.H=Nt),Ce.D&&(Cr(Ce),jr(Ce)),T.g=ie}else Fc(T);v.i.length>0&&Pr(v)}else Xe[0]!="stop"&&Xe[0]!="close"||Ur(v,7);else v.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Ur(v,7):no(v):Xe[0]!="noop"&&v.l&&v.l.qa(Xe),v.A=0)}}Tr(4)}catch{}}var Rt=class{constructor(d,y){this.g=d,this.map=y}};function Fl(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ir(d){return d.h?1:d.g?d.g.size:0}function Dr(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Ql(d,y){d.g?d.g.add(y):d.h=y}function $l(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Fl.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Kl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const v of d.g.values())y=y.concat(v.G);return y}return P(d.i)}var Pc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ji(d,y){if(d){d=d.split("&");for(let v=0;v<d.length;v++){const T=d[v].indexOf("=");let L,H=null;T>=0?(L=d[v].substring(0,T),H=d[v].substring(T+1)):L=d[v],y(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Sn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof Sn?(this.l=d.l,Ft(this,d.j),this.o=d.o,this.g=d.g,Da(this,d.u),this.h=d.h,Yl(this,qc(d.i)),this.m=d.m):d&&(y=String(d).match(Pc))?(this.l=!1,Ft(this,y[1]||"",!0),this.o=Or(y[2]||""),this.g=Or(y[3]||"",!0),Da(this,y[4]),this.h=Or(y[5]||"",!0),Yl(this,y[6]||"",!0),this.m=Or(y[7]||"")):(this.l=!1,this.i=new Ma(null,this.l))}Sn.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(zs(y,Ci,!0),":");var v=this.g;return(v||y=="file")&&(d.push("//"),(y=this.o)&&d.push(zs(y,Ci,!0),"@"),d.push(na(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&d.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push(zs(v,v.charAt(0)=="/"?Xl:Uc,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",zs(v,zc)),d.join("")},Sn.prototype.resolve=function(d){const y=It(this);let v=!!d.j;v?Ft(y,d.j):v=!!d.o,v?y.o=d.o:v=!!d.g,v?y.g=d.g:v=d.u!=null;var T=d.h;if(v)Da(y,d.u);else if(v=!!d.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=y.h.lastIndexOf("/");L!=-1&&(T=y.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let ie=0;ie<L.length;){const Ce=L[ie++];Ce=="."?T&&ie==L.length&&H.push(""):Ce==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&ie==L.length&&H.push("")):(H.push(Ce),T=!0)}T=H.join("/")}else T=L}return v?y.h=T:v=d.i.toString()!=="",v?Yl(y,qc(d.i)):v=!!d.m,v&&(y.m=d.m),y};function It(d){return new Sn(d)}function Ft(d,y,v){d.j=v?Or(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Da(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function Yl(d,y,v){y instanceof Ma?(d.i=y,Ii(d.i,d.l)):(v||(y=zs(y,Oa)),d.i=new Ma(y,d.l))}function et(d,y,v){d.i.set(y,v)}function Us(d){return et(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Or(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function zs(d,y,v){return typeof d=="string"?(d=encodeURI(d).replace(y,yn),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function yn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ci=/[#\/\?@]/g,Uc=/[#\?:]/g,Xl=/[#\?]/g,Oa=/[#\?@]/g,zc=/#/g;function Ma(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function bn(d){d.g||(d.g=new Map,d.h=0,d.i&&ji(d.i,function(y,v){d.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}a=Ma.prototype,a.add=function(d,y){bn(this),this.i=null,d=Va(this,d);let v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(y),this.h+=1,this};function Bc(d,y){bn(d),y=Va(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Wl(d,y){return bn(d),y=Va(d,y),d.g.has(y)}a.forEach=function(d,y){bn(this),this.g.forEach(function(v,T){v.forEach(function(L){d.call(y,L,T,this)},this)},this)};function Zl(d,y){bn(d);let v=[];if(typeof y=="string")Wl(d,y)&&(v=v.concat(d.g.get(Va(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)v=v.concat(d[y]);return v}a.set=function(d,y){return bn(this),this.i=null,d=Va(this,d),Wl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},a.get=function(d,y){return d?(d=Zl(this,d),d.length>0?String(d[0]):y):y};function Ri(d,y,v){Bc(d,y),v.length>0&&(d.i=null,d.g.set(Va(d,y),P(v)),d.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let T=0;T<y.length;T++){var v=y[T];const L=na(v);v=Zl(this,v);for(let H=0;H<v.length;H++){let ie=L;v[H]!==""&&(ie+="="+na(v[H])),d.push(ie)}}return this.i=d.join("&")};function qc(d){const y=new Ma;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function Va(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Ii(d,y){y&&!d.j&&(bn(d),d.i=null,d.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(Bc(this,T),Ri(this,L,v))},d)),d.j=y}function or(d,y){const v=new sr;if(f.Image){const T=new Image;T.onload=_(qn,v,"TestLoadImage: loaded",!0,y,T),T.onerror=_(qn,v,"TestLoadImage: error",!1,y,T),T.onabort=_(qn,v,"TestLoadImage: abort",!1,y,T),T.ontimeout=_(qn,v,"TestLoadImage: timeout",!1,y,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=d}else y(!1)}function Jl(d,y){const v=new sr,T=new AbortController,L=setTimeout(()=>{T.abort(),qn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:T.signal}).then(H=>{clearTimeout(L),H.ok?qn(v,"TestPingServer: ok",!0,y):qn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),qn(v,"TestPingServer: error",!1,y)})}function qn(d,y,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function La(){this.g=new Er}function Mr(d){this.i=d.Sb||null,this.h=d.ab||!1}E(Mr,ta),Mr.prototype.g=function(){return new Bs(this.i,this.h)};function Bs(d,y){bt.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Bs,bt),a=Bs.prototype,a.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,cr(this)},a.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pa(this)),this.readyState=0},a.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Di(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Di(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}a.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Pa(this):cr(this),this.readyState==3&&Di(this)}},a.Oa=function(d){this.g&&(this.response=this.responseText=d,Pa(this))},a.Na=function(d){this.g&&(this.response=d,Pa(this))},a.ga=function(){this.g&&Pa(this)};function Pa(d){d.readyState=4,d.l=null,d.j=null,d.B=null,cr(d)}a.setRequestHeader=function(d,y){this.A.append(d,y)},a.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=y.next();return d.join(`\r
`)};function cr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Hn(d){let y="";return Te(d,function(v,T){y+=T,y+=":",y+=v,y+=`\r
`}),y}function qs(d,y,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Hn(v),typeof d=="string"?v!=null&&na(v):et(d,y,v))}function rt(d){bt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(rt,bt);var Vr=/^https?$/i,eo=["POST","PUT"];a=rt.prototype,a.Fa=function(d){this.H=d},a.ea=function(d,y,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hl.g(),this.g.onreadystatechange=j(b(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(H){Hs(this,H);return}if(d=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(eo,y,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of v)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(H){Hs(this,H)}};function Hs(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,to(d),ra(d)}function to(d){d.A||(d.A=!0,Et(d,"complete"),Et(d,"error"))}a.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Et(this,"complete"),Et(this,"abort"),ra(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ra(this,!0)),rt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},a.Xa=function(){Fs(this)};function Fs(d){if(d.h&&typeof u<"u"){if(d.v&&ur(d)==4)setTimeout(d.Ca.bind(d),0);else if(Et(d,"readystatechange"),ur(d)==4){d.h=!1;try{const H=d.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var T;if(T=H===0){let ie=String(d.D).match(Pc)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),T=!Vr.test(ie?ie.toLowerCase():"")}v=T}if(v)Et(d,"complete"),Et(d,"success");else{d.o=6;try{var L=ur(d)>2?d.g.statusText:""}catch{L=""}d.l=L+" ["+d.ca()+"]",to(d)}}finally{ra(d)}}}}function ra(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const v=d.g;d.g=null,y||Et(d,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function ur(d){return d.g?d.g.readyState:0}a.ca=function(){try{return ur(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Un(y)}};function Yt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function aa(d){const y={};d=(d.g&&ur(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<d.length;T++){if(S(d[T]))continue;var v=Mc(d[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=y[L]||[];y[L]=H,H.push(v)}Ge(y,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(d,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||y}function Ua(d){this.za=0,this.i=[],this.j=new sr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Lr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Lr("baseRetryDelayMs",5e3,d),this.Za=Lr("retryDelaySeedMs",1e4,d),this.Ta=Lr("forwardChannelMaxRetries",2,d),this.va=Lr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Fl(d&&d.concurrentRequestLimit),this.Ba=new La,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Ua.prototype,a.ka=8,a.I=1,a.connect=function(d,y,v,T){jt(0),this.W=d,this.H=y||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Yc(this,null,this.W),Pr(this)};function no(d){if(Oi(d),d.I==3){var y=d.V++,v=It(d.J);if(et(v,"SID",d.M),et(v,"RID",y),et(v,"TYPE","terminate"),Gs(d,v),y=new ir(d,d.j,y),y.M=2,y.A=Us(It(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Xc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),jr(y)}Kc(d)}function za(d){d.g&&(ao(d),d.g.cancel(),d.g=null)}function Oi(d){za(d),d.v&&(f.clearTimeout(d.v),d.v=null),Vi(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function Pr(d){if(!Gl(d.h)&&!d.m){d.m=!0;var y=d.Ea;De||N(),ee||(De(),ee=!0),A.add(y,d),d.D=0}}function Mi(d,y){return Ir(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=kr(b(d.Ea,d,y),$c(d,d.D)),d.D++,!0)}a.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const L=new ir(this,this.j,d);let H=this.o;if(this.U&&(H?(H=I(H),se(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(y+=T,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Hc(this,L,y),v=It(this.J),et(v,"RID",d),et(v,"CVER",22),this.G&&et(v,"X-HTTP-Session-Id",this.G),Gs(this,v),H&&(this.R?y="headers="+na(Hn(H))+"&"+y:this.u&&qs(v,this.u,H)),Ql(this.h,L),this.Ra&&et(v,"TYPE","init"),this.S?(et(v,"$req",y),et(v,"SID","null"),L.U=!0,Sr(L,v,null)):Sr(L,v,y),this.I=2}}else this.I==3&&(d?ro(this,d):this.i.length==0||Gl(this.h)||ro(this))};function ro(d,y){var v;y?v=y.l:v=d.V++;const T=It(d.J);et(T,"SID",d.M),et(T,"RID",v),et(T,"AID",d.K),Gs(d,T),d.u&&d.o&&qs(T,d.u,d.o),v=new ir(d,d.j,v,d.D+1),d.u===null&&(v.J=d.o),y&&(d.i=y.G.concat(d.i)),y=Hc(d,v,1e3),v.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Ql(d.h,v),Sr(v,T,y)}function Gs(d,y){d.H&&Te(d.H,function(v,T){et(y,T,v)}),d.l&&Te({},function(v,T){et(y,T,v)})}function Hc(d,y,v){v=Math.min(d.i.length,v);const T=d.l?b(d.l.Ka,d.l,d):null;e:{var L=d.i;let Ce=-1;for(;;){const Nt=["count="+v];Ce==-1?v>0?(Ce=L[0].g,Nt.push("ofs="+Ce)):Ce=0:Nt.push("ofs="+Ce);let Xe=!0;for(let mt=0;mt<v;mt++){var H=L[mt].g;const Fn=L[mt].map;if(H-=Ce,H<0)Ce=Math.max(0,L[mt].g-100),Xe=!1;else try{H="req"+H+"_"||"";try{var ie=Fn instanceof Map?Fn:Object.entries(Fn);for(const[zr,dr]of ie){let hr=dr;g(dr)&&(hr=$t(dr)),Nt.push(H+zr+"="+encodeURIComponent(hr))}}catch(zr){throw Nt.push(H+"type="+encodeURIComponent("_badmap")),zr}}catch{T&&T(Fn)}}if(Xe){ie=Nt.join("&");break e}}ie=void 0}return d=d.i.splice(0,v),y.G=d,ie}function Fc(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;De||N(),ee||(De(),ee=!0),A.add(y,d),d.A=0}}function Qs(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=kr(b(d.Da,d),$c(d,d.A)),d.A++,!0)}a.Da=function(){if(this.v=null,Gc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=kr(b(this.Wa,this),d)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),za(this),Gc(this))};function ao(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function Gc(d){d.g=new ir(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=It(d.na);et(y,"RID","rpc"),et(y,"SID",d.M),et(y,"AID",d.K),et(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&et(y,"TO",d.ia),et(y,"TYPE","xmlhttp"),Gs(d,y),d.u&&d.o&&qs(y,d.u,d.o),d.O&&(d.g.H=d.O);var v=d.g;d=d.ba,v.M=1,v.A=Us(It(y)),v.u=null,v.R=!0,Ai(v,d)}a.Va=function(){this.C!=null&&(this.C=null,za(this),Qs(this),jt(19))};function Vi(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Qc(d,y){var v=null;if(d.g==y){Vi(d),ao(d),d.g=null;var T=2}else if(Dr(d.h,y))v=y.G,$l(d.h,y),T=1;else return;if(d.I!=0){if(y.o)if(T==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var L=d.D;T=ki(),Et(T,new Nr(T,v)),Pr(d)}else Fc(d);else if(L=y.m,L==3||L==0&&y.X>0||!(T==1&&Mi(d,y)||T==2&&Qs(d)))switch(v&&v.length>0&&(y=d.h,y.i=y.i.concat(v)),L){case 1:Ur(d,5);break;case 4:Ur(d,10);break;case 3:Ur(d,6);break;default:Ur(d,2)}}}function $c(d,y){let v=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(v*=2),v*y}function Ur(d,y){if(d.j.info("Error code "+y),y==2){var v=b(d.bb,d),T=d.Ua;const L=!T;T=new Sn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ft(T,"https"),Us(T),L?or(T.toString(),v):Jl(T.toString(),v)}else jt(2);d.I=0,d.l&&d.l.pa(y),Kc(d),Oi(d)}a.bb=function(d){d?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Kc(d){if(d.I=0,d.ja=[],d.l){const y=Kl(d.h);(y.length!=0||d.i.length!=0)&&(Q(d.ja,y),Q(d.ja,d.i),d.h.i.length=0,P(d.i),d.i.length=0),d.l.oa()}}function Yc(d,y,v){var T=v instanceof Sn?It(v):new Sn(v);if(T.g!="")y&&(T.g=y+"."+T.g),Da(T,T.u);else{var L=f.location;T=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;const H=new Sn(null);T&&Ft(H,T),y&&(H.g=y),L&&Da(H,L),v&&(H.h=v),T=H}return v=d.G,y=d.wa,v&&y&&et(T,v,y),et(T,"VER",d.ka),Gs(d,T),T}function Xc(d,y,v){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new rt(new Mr({ab:v})):new rt(d.ma),y.Fa(d.L),y}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wc(){}a=Wc.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ba(){}Ba.prototype.g=function(d,y){return new fn(d,y)};function fn(d,y){bt.call(this),this.g=new Ua(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!S(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!S(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new sa(this)}E(fn,bt),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){no(this.g)},fn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.v&&(v={},v.__data__=$t(d),d=v);y.i.push(new Rt(y.Ya++,d)),y.I==3&&Pr(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,no(this.g),delete this.g,fn.Z.N.call(this)};function Zc(d){Kt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const v in y){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}E(Zc,Kt);function Jc(){zn.call(this),this.status=1}E(Jc,zn);function sa(d){this.g=d}E(sa,Wc),sa.prototype.ra=function(){Et(this.g,"a")},sa.prototype.qa=function(d){Et(this.g,new Zc(d))},sa.prototype.pa=function(d){Et(this.g,new Jc)},sa.prototype.oa=function(){Et(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,p_=function(){return new Ba},g_=function(){return ki()},m_=Tt,s0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,fd=Ls,ql.COMPLETE="complete",f_=ql,Rc.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Qo=Rc,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,h_=rt}).apply(typeof ad<"u"?ad:typeof self<"u"?self:typeof window<"u"?window:{});const Kx="@firebase/firestore",Yx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Kd("@firebase/firestore");function fl(){return yi.logLevel}function de(a,...e){if(yi.logLevel<=qe.DEBUG){const n=e.map(P0);yi.debug(`Firestore (${Ll}): ${a}`,...n)}}function Sa(a,...e){if(yi.logLevel<=qe.ERROR){const n=e.map(P0);yi.error(`Firestore (${Ll}): ${a}`,...n)}}function kl(a,...e){if(yi.logLevel<=qe.WARN){const n=e.map(P0);yi.warn(`Firestore (${Ll}): ${a}`,...n)}}function P0(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(a,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,y_(a,s,n)}function y_(a,e,n){let s=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Sa(s),new Error(s)}function Ze(a,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,a||y_(e,l,s)}function Se(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class s5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class i5{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Na,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Na)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string",31837,{l:s}),new b_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class l5{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o5{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new l5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Xx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<a;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=u5(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function He(a,e){return a<e?-1:a>e?1:0}function i0(a,e){const n=Math.min(a.length,e.length);for(let s=0;s<n;s++){const l=a.charAt(s),u=e.charAt(s);if(l!==u)return Dm(l)===Dm(u)?He(l,u):Dm(l)?1:-1}return He(a.length,e.length)}const d5=55296,h5=57343;function Dm(a){const e=a.charCodeAt(0);return e>=d5&&e<=h5}function Al(a,e,n){return a.length===e.length&&a.every(((s,l)=>n(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="__name__";class Gr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=Gr.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return He(e.length,n.length)}static compareSegments(e,n){const s=Gr.isNumericId(e),l=Gr.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Gr.extractNumericId(e).compare(Gr.extractNumericId(n)):i0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class ut extends Gr{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const f5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Gr{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return f5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wx}static keyField(){return new tn([Wx])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(u(),l++)}if(u(),f)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ut.fromString(e))}static fromName(e){return new ve(ut.fromString(e).popFirst(5))}static empty(){return new ve(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(a,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function m5(a,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function Zx(a){if(!ve.isDocumentKey(a))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Jx(a){if(ve.isDocumentKey(a))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function v_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Zd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ee(12329,{type:typeof a})}function kn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zd(a);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(a,e){const n={typeString:a};return e&&(n.value=e),n}function Tc(a,e){if(!v_(a))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){n=`JSON missing required field: '${s}'`;break}const f=a[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=-62135596800,t1=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*t1);return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<e1)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t1}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ut("string",ft._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new ft(0,0))}static max(){return new ke(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=-1;function g5(a,e){const n=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=ke.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new ws(l,ve.empty(),e)}function p5(a){return new ws(a.readTime,a.key,cc)}class ws{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ws(ke.min(),ve.empty(),cc)}static max(){return new ws(ke.max(),ve.empty(),cc)}}function y5(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(a.documentKey,e.documentKey),n!==0?n:He(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==b5)throw a;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,s)=>{n(e)}))}static reject(e){return new J(((n,s)=>{s(e)}))}static waitFor(e){return new J(((n,s)=>{let l=0,u=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++u,f&&u===l&&n()}),(p=>s(p)))})),f=!0,u===l&&n()}))}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next((l=>l?J.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(e,n){return new J(((s,l)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const b=p;n(e[b]).next((_=>{f[b]=_,++g,g===u&&s(f)}),(_=>l(_)))}}))}static doWhile(e,n){return new J(((s,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):s()};u()}))}}function v5(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ul(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=-1;function eh(a){return a==null}function Md(a){return a===0&&1/a==-1/0}function _5(a){return typeof a=="number"&&Number.isInteger(a)&&!Md(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="";function w5(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=n1(e)),e=E5(a.get(n),e);return n1(e)}function E5(a,e){let n=e;const s=a.length;for(let l=0;l<s;l++){const u=a.charAt(l);switch(u){case"\0":n+="";break;case __:n+="";break;default:n+=u}}return n}function n1(a){return a+__+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function js(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function w_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sd(this.root,e,this.comparator,!1)}getReverseIterator(){return new sd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sd(this.root,e,this.comparator,!0)}}class sd{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??en.RED,this.left=l??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new en(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return en.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a1(this.data.getIterator())}getIteratorFrom(e){return new a1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class a1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Bt(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new E_("Invalid base64 string: "+u):u}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const T5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(a){if(Ze(!!a,39018),typeof a=="string"){let e=0;const n=T5.exec(a);if(Ze(!!n,46558,{timestamp:a}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(a.seconds),nanos:St(a.nanos)}}function St(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ts(a){return typeof a=="string"?nn.fromBase64String(a):nn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="server_timestamp",N_="__type__",k_="__previous_value__",A_="__local_write_time__";function B0(a){var n,s;return((s=(((n=a==null?void 0:a.mapValue)==null?void 0:n.fields)||{})[N_])==null?void 0:s.stringValue)===T_}function th(a){const e=a.mapValue.fields[k_];return B0(e)?th(e):e}function uc(a){const e=Es(a.mapValue.fields[A_].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n,s,l,u,f,g,p,b,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=b,this.isUsingEmulator=_}}const Vd="(default)";class dc{constructor(e,n){this.projectId=e,this.database=n||Vd}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===Vd}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="__type__",k5="__max__",id={mapValue:{}},j_="__vector__",Ld="value";function Ns(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?B0(a)?4:S5(a)?9007199254740991:A5(a)?10:11:Ee(28295,{value:a})}function ea(a,e){if(a===e)return!0;const n=Ns(a);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return uc(a).isEqual(uc(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Es(l.timestampValue),g=Es(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(l,u){return Ts(l.bytesValue).isEqual(Ts(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(l,u){return St(l.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(l.geoPointValue.longitude)===St(u.geoPointValue.longitude)})(a,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return St(l.integerValue)===St(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=St(l.doubleValue),g=St(u.doubleValue);return f===g?Md(f)===Md(g):isNaN(f)&&isNaN(g)}return!1})(a,e);case 9:return Al(a.arrayValue.values||[],e.arrayValue.values||[],ea);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(r1(f)!==r1(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!ea(f[p],g[p])))return!1;return!0})(a,e);default:return Ee(52216,{left:a})}}function hc(a,e){return(a.values||[]).find((n=>ea(n,e)))!==void 0}function Sl(a,e){if(a===e)return 0;const n=Ns(a),s=Ns(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=St(u.integerValue||u.doubleValue),p=St(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(a,e);case 3:return s1(a.timestampValue,e.timestampValue);case 4:return s1(uc(a),uc(e));case 5:return i0(a.stringValue,e.stringValue);case 6:return(function(u,f){const g=Ts(u),p=Ts(f);return g.compareTo(p)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let b=0;b<g.length&&b<p.length;b++){const _=He(g[b],p[b]);if(_!==0)return _}return He(g.length,p.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=He(St(u.latitude),St(f.latitude));return g!==0?g:He(St(u.longitude),St(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return i1(a.arrayValue,e.arrayValue);case 10:return(function(u,f){var j,P,Q,ne;const g=u.fields||{},p=f.fields||{},b=(j=g[Ld])==null?void 0:j.arrayValue,_=(P=p[Ld])==null?void 0:P.arrayValue,E=He(((Q=b==null?void 0:b.values)==null?void 0:Q.length)||0,((ne=_==null?void 0:_.values)==null?void 0:ne.length)||0);return E!==0?E:i1(b,_)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===id.mapValue&&f===id.mapValue)return 0;if(u===id.mapValue)return 1;if(f===id.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),b=f.fields||{},_=Object.keys(b);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const j=i0(p[E],_[E]);if(j!==0)return j;const P=Sl(g[p[E]],b[_[E]]);if(P!==0)return P}return He(p.length,_.length)})(a.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function s1(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return He(a,e);const n=Es(a),s=Es(e),l=He(n.seconds,s.seconds);return l!==0?l:He(n.nanos,s.nanos)}function i1(a,e){const n=a.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=Sl(n[l],s[l]);if(u)return u}return He(n.length,s.length)}function jl(a){return l0(a)}function l0(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const s=Es(n);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return Ts(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return ve.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=l0(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${l0(n.fields[f])}`;return l+"}"})(a.mapValue):Ee(61005,{value:a})}function md(a){switch(Ns(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=th(a);return e?16+md(e):16;case 5:return 2*a.stringValue.length;case 6:return Ts(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+md(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return js(s.fields,((u,f)=>{l+=u.length+md(f)})),l})(a.mapValue);default:throw Ee(13486,{value:a})}}function l1(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function o0(a){return!!a&&"integerValue"in a}function q0(a){return!!a&&"arrayValue"in a}function o1(a){return!!a&&"nullValue"in a}function c1(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function gd(a){return!!a&&"mapValue"in a}function A5(a){var n,s;return((s=(((n=a==null?void 0:a.mapValue)==null?void 0:n.fields)||{})[S_])==null?void 0:s.stringValue)===j_}function ec(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return js(a.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ec(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(a.arrayValue.values[n]);return e}return{...a}}function S5(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===k5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!gd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=tn.emptyPath(),s={},l=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=ec(f):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ea(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];gd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){js(n,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new Nn(ec(this.value))}}function C_(a){const e=[];return js(a.fields,((n,s)=>{const l=new tn([n]);if(gd(s)){const u=C_(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,s,l,u,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new cn(e,0,ke.min(),ke.min(),ke.min(),Nn.empty(),0)}static newFoundDocument(e,n,s,l){return new cn(e,1,n,ke.min(),s,l,0)}static newNoDocument(e,n){return new cn(e,2,n,ke.min(),ke.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,ke.min(),ke.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.position=e,this.inclusive=n}}function u1(a,e,n){let s=0;for(let l=0;l<a.position.length;l++){const u=e[l],f=a.position[l];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=Sl(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function d1(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!ea(a.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function j5(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{}class Pt extends R_{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new R5(e,n,s):n==="array-contains"?new O5(e,s):n==="in"?new M5(e,s):n==="not-in"?new V5(e,s):n==="array-contains-any"?new L5(e,s):new Pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new I5(e,s):new D5(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sl(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(Sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends R_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xr(e,n)}matches(e){return I_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function I_(a){return a.op==="and"}function D_(a){return C5(a)&&I_(a)}function C5(a){for(const e of a.filters)if(e instanceof xr)return!1;return!0}function c0(a){if(a instanceof Pt)return a.field.canonicalString()+a.op.toString()+jl(a.value);if(D_(a))return a.filters.map((e=>c0(e))).join(",");{const e=a.filters.map((n=>c0(n))).join(",");return`${a.op}(${e})`}}function O_(a,e){return a instanceof Pt?(function(s,l){return l instanceof Pt&&s.op===l.op&&s.field.isEqual(l.field)&&ea(s.value,l.value)})(a,e):a instanceof xr?(function(s,l){return l instanceof xr&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,g)=>u&&O_(f,l.filters[g])),!0):!1})(a,e):void Ee(19439)}function M_(a){return a instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`})(a):a instanceof xr?(function(n){return n.op.toString()+" {"+n.getFilters().map(M_).join(" ,")+"}"})(a):"Filter"}class R5 extends Pt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class I5 extends Pt{constructor(e,n){super(e,"in",n),this.keys=V_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class D5 extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=V_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function V_(a,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>ve.fromName(s.referenceValue)))}class O5 extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return q0(n)&&hc(n.arrayValue,this.value)}}class M5 extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}}class V5 extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hc(this.value.arrayValue,n)}}class L5 extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!q0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>hc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n=null,s=[],l=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function h1(a,e=null,n=[],s=[],l=null,u=null,f=null){return new P5(a,e,n,s,l,u,f)}function H0(a){const e=Se(a);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>c0(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>jl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>jl(s))).join(",")),e.Te=n}return e.Te}function F0(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!j5(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!O_(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!d1(a.startAt,e.startAt)&&d1(a.endAt,e.endAt)}function u0(a){return ve.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n=null,s=[],l=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function U5(a,e,n,s,l,u,f,g){return new zl(a,e,n,s,l,u,f,g)}function nh(a){return new zl(a)}function f1(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function L_(a){return a.collectionGroup!==null}function tc(a){const e=Se(a);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Bt(tn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((b=>{b.isInequality()&&(g=g.add(b.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fc(u,s))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new fc(tn.keyField(),s))}return e.Ie}function Yr(a){const e=Se(a);return e.Ee||(e.Ee=z5(e,tc(a))),e.Ee}function z5(a,e){if(a.limitType==="F")return h1(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new fc(l.field,u)}));const n=a.endAt?new Pd(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Pd(a.startAt.position,a.startAt.inclusive):null;return h1(a.path,a.collectionGroup,e,a.filters,a.limit,n,s)}}function d0(a,e){const n=a.filters.concat([e]);return new zl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function h0(a,e,n){return new zl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function rh(a,e){return F0(Yr(a),Yr(e))&&a.limitType===e.limitType}function P_(a){return`${H0(Yr(a))}|lt:${a.limitType}`}function ml(a){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>M_(l))).join(", ")}]`),eh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>jl(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>jl(l))).join(",")),`Target(${s})`})(Yr(a))}; limitType=${a.limitType})`}function ah(a,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,l){for(const u of tc(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(a,e)&&(function(s,l){return!(s.startAt&&!(function(f,g,p){const b=u1(f,g,p);return f.inclusive?b<=0:b<0})(s.startAt,tc(s),l)||s.endAt&&!(function(f,g,p){const b=u1(f,g,p);return f.inclusive?b>=0:b>0})(s.endAt,tc(s),l))})(a,e)}function B5(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function U_(a){return(e,n)=>{let s=!1;for(const l of tc(a)){const u=q5(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function q5(a,e,n){const s=a.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,f,g){const p=f.data.field(u),b=g.data.field(u);return p!==null&&b!==null?Sl(p,b):Ee(42886)})(a.field,e,n);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,((n,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return w_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=new yt(ve.comparator);function ja(){return H5}const z_=new yt(ve.comparator);function $o(...a){let e=z_;for(const n of a)e=e.insert(n.key,n);return e}function B_(a){let e=z_;return a.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ui(){return nc()}function q_(){return nc()}function nc(){return new Ti((a=>a.toString()),((a,e)=>a.isEqual(e)))}const F5=new yt(ve.comparator),G5=new Bt(ve.comparator);function Fe(...a){let e=G5;for(const n of a)e=e.add(n);return e}const Q5=new Bt(He);function $5(){return Q5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Md(e)?"-0":e}}function H_(a){return{integerValue:""+a}}function F_(a,e){return _5(e)?H_(e):G0(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(){this._=void 0}}function K5(a,e,n){return a instanceof mc?(function(l,u){const f={fields:{[N_]:{stringValue:T_},[A_]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&B0(u)&&(u=th(u)),u&&(f.fields[k_]=u),{mapValue:f}})(n,e):a instanceof gc?Q_(a,e):a instanceof pc?$_(a,e):(function(l,u){const f=G_(l,u),g=m1(f)+m1(l.Ae);return o0(f)&&o0(l.Ae)?H_(g):G0(l.serializer,g)})(a,e)}function Y5(a,e,n){return a instanceof gc?Q_(a,e):a instanceof pc?$_(a,e):n}function G_(a,e){return a instanceof yc?(function(s){return o0(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class mc extends sh{}class gc extends sh{constructor(e){super(),this.elements=e}}function Q_(a,e){const n=K_(e);for(const s of a.elements)n.some((l=>ea(l,s)))||n.push(s);return{arrayValue:{values:n}}}class pc extends sh{constructor(e){super(),this.elements=e}}function $_(a,e){let n=K_(e);for(const s of a.elements)n=n.filter((l=>!ea(l,s)));return{arrayValue:{values:n}}}class yc extends sh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function m1(a){return St(a.integerValue||a.doubleValue)}function K_(a){return q0(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n){this.field=e,this.transform=n}}function X5(a,e){return a.field.isEqual(e.field)&&(function(s,l){return s instanceof gc&&l instanceof gc||s instanceof pc&&l instanceof pc?Al(s.elements,l.elements,ea):s instanceof yc&&l instanceof yc?ea(s.Ae,l.Ae):s instanceof mc&&l instanceof mc})(a.transform,e.transform)}class W5{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pd(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class ih{}function X_(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Q0(a.key,nr.none()):new Nc(a.key,a.data,nr.none());{const n=a.data,s=Nn.empty();let l=new Bt(tn.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new Cs(a.key,s,new Ln(l.toArray()),nr.none())}}function Z5(a,e,n){a instanceof Nc?(function(l,u,f){const g=l.value.clone(),p=p1(l.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,e,n):a instanceof Cs?(function(l,u,f){if(!pd(l.precondition,u))return void u.convertToUnknownDocument(f.version);const g=p1(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(W_(l)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function rc(a,e,n,s){return a instanceof Nc?(function(u,f,g,p){if(!pd(u.precondition,f))return g;const b=u.value.clone(),_=y1(u.fieldTransforms,p,f);return b.setAll(_),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),null})(a,e,n,s):a instanceof Cs?(function(u,f,g,p){if(!pd(u.precondition,f))return g;const b=y1(u.fieldTransforms,p,f),_=f.data;return _.setAll(W_(u)),_.setAll(b),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(a,e,n,s):(function(u,f,g){return pd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(a,e,n)}function J5(a,e){let n=null;for(const s of a.fieldTransforms){const l=e.data.field(s.field),u=G_(s.transform,l||null);u!=null&&(n===null&&(n=Nn.empty()),n.set(s.field,u))}return n||null}function g1(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Al(s,l,((u,f)=>X5(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Nc extends ih{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Cs extends ih{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function W_(a){const e=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=a.data.field(n);e.set(n,s)}})),e}function p1(a,e,n){const s=new Map;Ze(a.length===n.length,32656,{Re:n.length,Ve:a.length});for(let l=0;l<n.length;l++){const u=a[l],f=u.transform,g=e.data.field(u.field);s.set(u.field,Y5(f,g,n[l]))}return s}function y1(a,e,n){const s=new Map;for(const l of a){const u=l.transform,f=n.data.field(l.field);s.set(l.field,K5(u,f,e))}return s}class Q0 extends ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e6 extends ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&Z5(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=rc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=rc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=q_();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(l.key)?null:g;const p=X_(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(ke.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,((n,s)=>g1(n,s)))&&Al(this.baseMutations,e.baseMutations,((n,s)=>g1(n,s)))}}class $0{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return F5})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new $0(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,$e;function a6(a){switch(a){case W.OK:return Ee(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ee(15467,{code:a})}}function Z_(a){if(a===void 0)return Sa("GRPC error has no .code"),W.UNKNOWN;switch(a){case Lt.OK:return W.OK;case Lt.CANCELLED:return W.CANCELLED;case Lt.UNKNOWN:return W.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return W.INTERNAL;case Lt.UNAVAILABLE:return W.UNAVAILABLE;case Lt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Lt.NOT_FOUND:return W.NOT_FOUND;case Lt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Lt.ABORTED:return W.ABORTED;case Lt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Lt.DATA_LOSS:return W.DATA_LOSS;default:return Ee(39323,{code:a})}}($e=Lt||(Lt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=new xs([4294967295,4294967295],0);function b1(a){const e=s6().encode(a),n=new d_;return n.update(e),new Uint8Array(n.digest())}function x1(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new xs([n,s],0),new xs([l,u],0)]}class K0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ko(`Invalid padding: ${n}`);if(s<0)throw new Ko(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ko(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ko(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xs.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(xs.fromNumber(s)));return l.compare(i6)===1&&(l=new xs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=b1(e),[s,l]=x1(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new K0(u,l,n);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=b1(e),[s,l]=x1(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,kc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new lh(ke.min(),l,new yt(He),ja(),Fe())}}class kc{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new kc(s,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class J_{constructor(e,n){this.targetId=e,this.Ce=n}}class e2{constructor(e,n,s=nn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class v1{constructor(){this.ve=0,this.Fe=_1(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),s=Fe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Ee(38017,{changeType:u})}})),new kc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=_1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class l6{constructor(e){this.Ge=e,this.ze=new Map,this.je=ja(),this.Je=ld(),this.He=ld(),this.Ye=new yt(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(u0(u))if(s===0){const f=new ve(u.path);this.et(n,f,cn.newNoDocument(f,ke.min()))}else Ze(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const b=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,b)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,g;try{f=Ts(s).toUint8Array()}catch(p){if(p instanceof E_)return kl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new K0(f,l,u)}catch(p){return kl(p instanceof Ko?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&u0(g.target)){const p=new ve(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,cn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Fe();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const b=this.ot(p);return!b||b.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new lh(e,n,this.Ye,this.je,s);return this.je=ja(),this.Je=ld(),this.He=ld(),this.Ye=new yt(He),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new v1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ld(){return new yt(ve.comparator)}function _1(){return new yt(ve.comparator)}const o6={asc:"ASCENDING",desc:"DESCENDING"},c6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u6={and:"AND",or:"OR"};class d6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function f0(a,e){return a.useProto3Json||eh(e)?e:{value:e}}function Ud(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t2(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function h6(a,e){return Ud(a,e.toTimestamp())}function Xr(a){return Ze(!!a,49232),ke.fromTimestamp((function(n){const s=Es(n);return new ft(s.seconds,s.nanos)})(a))}function Y0(a,e){return m0(a,e).canonicalString()}function m0(a,e){const n=(function(l){return new ut(["projects",l.projectId,"databases",l.database])})(a).child("documents");return e===void 0?n:n.child(e)}function n2(a){const e=ut.fromString(a);return Ze(l2(e),10190,{key:e.toString()}),e}function g0(a,e){return Y0(a.databaseId,e.path)}function Om(a,e){const n=n2(e);if(n.get(1)!==a.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new ve(a2(n))}function r2(a,e){return Y0(a.databaseId,e)}function f6(a){const e=n2(a);return e.length===4?ut.emptyPath():a2(e)}function p0(a){return new ut(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function a2(a){return Ze(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function w1(a,e,n){return{name:g0(a,e),fields:n.value.mapValue.fields}}function m6(a,e){let n;if("targetChange"in e){e.targetChange;const s=(function(b){return b==="NO_CHANGE"?0:b==="ADD"?1:b==="REMOVE"?2:b==="CURRENT"?3:b==="RESET"?4:Ee(39313,{state:b})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(b,_){return b.useProto3Json?(Ze(_===void 0||typeof _=="string",58123),nn.fromBase64String(_||"")):(Ze(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),nn.fromUint8Array(_||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(b){const _=b.code===void 0?W.UNKNOWN:Z_(b.code);return new le(_,b.message||"")})(f);n=new e2(s,l,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Om(a,s.document.name),u=Xr(s.document.updateTime),f=s.document.createTime?Xr(s.document.createTime):ke.min(),g=new Nn({mapValue:{fields:s.document.fields}}),p=cn.newFoundDocument(l,u,f,g),b=s.targetIds||[],_=s.removedTargetIds||[];n=new yd(b,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Om(a,s.document),u=s.readTime?Xr(s.readTime):ke.min(),f=cn.newNoDocument(l,u),g=s.removedTargetIds||[];n=new yd([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Om(a,s.document),u=s.removedTargetIds||[];n=new yd([],u,l,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new r6(l,u),g=s.targetId;n=new J_(g,f)}}return n}function g6(a,e){let n;if(e instanceof Nc)n={update:w1(a,e.key,e.value)};else if(e instanceof Q0)n={delete:g0(a,e.key)};else if(e instanceof Cs)n={update:w1(a,e.key,e.data),updateMask:T6(e.fieldMask)};else{if(!(e instanceof e6))return Ee(16599,{Vt:e.type});n={verify:g0(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof mc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof gc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof pc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof yc)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:h6(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(a,e.precondition)),n}function p6(a,e){return a&&a.length>0?(Ze(e!==void 0,14353),a.map((n=>(function(l,u){let f=l.updateTime?Xr(l.updateTime):Xr(u);return f.isEqual(ke.min())&&(f=Xr(u)),new W5(f,l.transformResults||[])})(n,e)))):[]}function y6(a,e){return{documents:[r2(a,e.path)]}}function b6(a,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=r2(a,l);const u=(function(b){if(b.length!==0)return i2(xr.create(b,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(b){if(b.length!==0)return b.map((_=>(function(j){return{field:gl(j.field),direction:_6(j.dir)}})(_)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=f0(a,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(b){return{before:b.inclusive,values:b.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(b){return{before:!b.inclusive,values:b.position}})(e.endAt)),{ft:n,parent:l}}function x6(a){let e=f6(a.parent);const n=a.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ze(s===1,65062);const _=n.from[0];_.allDescendants?l=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(E){const j=s2(E);return j instanceof xr&&D_(j)?j.getFilters():[j]})(n.where));let f=[];n.orderBy&&(f=(function(E){return E.map((j=>(function(Q){return new fc(pl(Q.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(j)))})(n.orderBy));let g=null;n.limit&&(g=(function(E){let j;return j=typeof E=="object"?E.value:E,eh(j)?null:j})(n.limit));let p=null;n.startAt&&(p=(function(E){const j=!!E.before,P=E.values||[];return new Pd(P,j)})(n.startAt));let b=null;return n.endAt&&(b=(function(E){const j=!E.before,P=E.values||[];return new Pd(P,j)})(n.endAt)),U5(e,l,f,u,g,"F",p,b)}function v6(a,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function s2(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=pl(n.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=pl(n.unaryFilter.field);return Pt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=pl(n.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=pl(n.unaryFilter.field);return Pt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(a):a.fieldFilter!==void 0?(function(n){return Pt.create(pl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return xr.create(n.compositeFilter.filters.map((s=>s2(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(a):Ee(30097,{filter:a})}function _6(a){return o6[a]}function w6(a){return c6[a]}function E6(a){return u6[a]}function gl(a){return{fieldPath:a.canonicalString()}}function pl(a){return tn.fromServerFormat(a.fieldPath)}function i2(a){return a instanceof Pt?(function(n){if(n.op==="=="){if(c1(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NAN"}};if(o1(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c1(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NAN"}};if(o1(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(n.field),op:w6(n.op),value:n.value}}})(a):a instanceof xr?(function(n){const s=n.getFilters().map((l=>i2(l)));return s.length===1?s[0]:{compositeFilter:{op:E6(n.op),filters:s}}})(a):Ee(54877,{filter:a})}function T6(a){const e=[];return a.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function l2(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,s,l,u=ke.min(),f=ke.min(),g=nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.yt=e}}function k6(a){const e=x6({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?h0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.Cn=new S6}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(ws.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class S6{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Bt(ut.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Bt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o2=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(o2,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cl(0)}static cr(){return new Cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="LruGarbageCollector",j6=1048576;function N1([a,e],[n,s]){const l=He(a,n);return l===0?He(e,s):l}class C6{constructor(e){this.Ir=e,this.buffer=new Bt(N1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();N1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class R6{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(T1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ul(n)?de(T1,"Ignoring IndexedDB error during garbage collection: ",n):await Pl(n)}await this.Vr(3e5)}))}}class I6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Jd.ce);const s=new C6(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(E1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,u,f,g,p,b;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,f=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(s=E,g=Date.now(),this.removeTargets(e,s,n)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(b=Date.now(),fl()<=qe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${E} documents in `+(b-p)+`ms
Total Duration: ${b-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:E}))))}}function D6(a,e){return new I6(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.changes=new Ti((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&rc(s.mutation,l,Ln.empty(),ft.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Fe()){const l=ui();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((u=>{let f=$o();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ui();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Fe())))}populateOverlays(e,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,s,l){let u=ja();const f=nc(),g=(function(){return nc()})();return n.forEach(((p,b)=>{const _=s.get(b.key);l.has(b.key)&&(_===void 0||_.mutation instanceof Cs)?u=u.insert(b.key,b):_!==void 0?(f.set(b.key,_.mutation.getFieldMask()),rc(_.mutation,b,_.mutation.getFieldMask(),ft.now())):f.set(b.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((b,_)=>f.set(b,_))),n.forEach(((b,_)=>g.set(b,new M6(_,f.get(b)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=nc();let l=new yt(((f,g)=>f-g)),u=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const b=n.get(p);if(b===null)return;let _=s.get(p)||Ln.empty();_=g.applyToLocalView(b,_),s.set(p,_);const E=(l.get(g.batchId)||Fe()).add(p);l=l.insert(g.batchId,E)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),b=p.key,_=p.value,E=q_();_.forEach((j=>{if(!u.has(j)){const P=X_(n.get(j),s.get(j));P!==null&&E.set(j,P),u=u.add(j)}})),f.push(this.documentOverlayCache.saveOverlays(e,b,E))}return J.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):J.resolve(ui());let g=cc,p=u;return f.next((b=>J.forEach(b,((_,E)=>(g<E.largestBatchId&&(g=E.largestBatchId),u.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next((j=>{p=p.insert(_,j)}))))).next((()=>this.populateOverlays(e,b,u))).next((()=>this.computeViews(e,p,b,Fe()))).next((_=>({batchId:g,changes:B_(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let l=$o();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let f=$o();return this.indexManager.getCollectionParents(e,u).next((g=>J.forEach(g,(p=>{const b=(function(E,j){return new zl(j,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,b,s,l).next((_=>{_.forEach(((E,j)=>{f=f.insert(E,j)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l)))).next((f=>{u.forEach(((p,b)=>{const _=b.getKey();f.get(_)===null&&(f=f.insert(_,cn.newInvalidDocument(_)))}));let g=$o();return f.forEach(((p,b)=>{const _=u.get(p);_!==void 0&&rc(_.mutation,b,Ln.empty(),ft.now()),ah(n,b)&&(g=g.insert(p,b))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Xr(l.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:k6(l.bundledQuery),readTime:Xr(l.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.overlays=new yt(ve.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ui();return J.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,u)=>{this.St(e,n,u)})),J.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const l=ui(),u=n.length+1,f=new ve(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,b=p.getKey();if(!n.isPrefixOf(b.path))break;b.path.length===u&&p.largestBatchId>s&&l.set(p.getKey(),p)}return J.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new yt(((b,_)=>b-_));const f=this.overlays.getIterator();for(;f.hasNext();){const b=f.getNext().value;if(b.getKey().getCollectionGroup()===n&&b.largestBatchId>s){let _=u.get(b.largestBatchId);_===null&&(_=ui(),u=u.insert(b.largestBatchId,_)),_.set(b.getKey(),b)}}const g=ui(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((b,_)=>g.set(b,_))),!(g.size()>=l)););return J.resolve(g)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new n6(n,s));let u=this.qr.get(n);u===void 0&&(u=Fe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.Qr=new Bt(Qt.$r),this.Ur=new Bt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ve(new ut([])),s=new Qt(n,e),l=new Qt(n,e+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new ut([])),s=new Qt(n,e),l=new Qt(n,e+1);let u=Fe();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Qt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new t6(u,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new Qt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?z0:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Qt(n,0),l=new Qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const g=this.Xr(f.Yr);u.push(g)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bt(He);return n.forEach((l=>{const u=new Qt(l,0),f=new Qt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{s=s.add(g.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new Qt(new ve(u),0);let g=new Bt(He);return this.Zr.forEachWhile((p=>{const b=p.key.path;return!!s.isPrefixOf(b)&&(b.length===l&&(g=g.add(p.Yr)),!0)}),f),J.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ze(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(n.mutations,(l=>{const u=new Qt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Qt(n,0),l=this.Zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.ri=e,this.docs=(function(){return new yt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let s=ja();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():cn.newInvalidDocument(l))})),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=ja();const f=n.path,g=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:b,value:{document:_}}=p.getNext();if(!f.isPrefixOf(b.path))break;b.path.length>f.length+1||y5(p5(_),s)<=0||(l.has(_.key)||ah(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,l){Ee(9500)}ii(e,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new q6(this)}getSize(e){return J.resolve(this.size)}}class q6 extends O6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.persistence=e,this.si=new Ti((n=>H0(n)),F0),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new X0,this.targetCount=0,this.ai=Cl.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Cl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),J.waitFor(u).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Jd(0),this.li=!1,this.li=!0,this.hi=new U6,this.referenceDelegate=e(this),this.Pi=new H6(this),this.indexManager=new A6,this.remoteDocumentCache=(function(l){return new B6(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new N6(n),this.Ii=new L6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new P6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new z6(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const l=new F6(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class F6 extends x5{constructor(e){super(),this.currentSequenceNumber=e}}class W0{constructor(e){this.persistence=e,this.Ri=new X0,this.Vi=null}static mi(e){return new W0(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const l=ve.fromPath(s);return this.gi(e,l).next((u=>{u||n.removeEntry(l,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zd{constructor(e,n){this.persistence=e,this.pi=new Ti((s=>w5(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=D6(this,n)}static mi(e,n){return new zd(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return J.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?J.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((g=>{g||(s++,u.removeEntry(f,ke.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=md(e.data.value)),n}br(e,n,s){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=Fe(),l=Fe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Z0(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bk()?8:v5(un())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new G6;return this.Ss(e,n,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>u.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(fl()<=qe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(fl()<=qe.DEBUG&&de("QueryEngine","Query:",ml(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(fl()<=qe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(n))):J.resolve())}ys(e,n){if(f1(n))return J.resolve(null);let s=Yr(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=h0(n,null,"F"),s=Yr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Fe(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const b=this.Ds(n,g);return this.Cs(n,b,f,p.readTime)?this.ys(e,h0(n,null,"F")):this.vs(e,b,n,p)}))))})))))}ws(e,n,s,l){return f1(n)||l.isEqual(ke.min())?J.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,l)?J.resolve(null):(fl()<=qe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ml(n)),this.vs(e,f,n,g5(l,cc)).next((g=>g)))}))}Ds(e,n){let s=new Bt(U_(e));return n.forEach(((l,u)=>{ah(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,s){return fl()<=qe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ml(n)),this.ps.getDocumentsMatchingQuery(e,n,ws.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="LocalStore",$6=3e8;class K6{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new yt(He),this.xs=new Ti((u=>H0(u)),F0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Y6(a,e,n,s){return new K6(a,e,n,s)}async function u2(a,e){const n=Se(a);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let p=Fe();for(const b of l){f.push(b.batchId);for(const _ of b.mutations)p=p.add(_.key)}for(const b of u){g.push(b.batchId);for(const _ of b.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((b=>({Ls:b,removedBatchIds:f,addedBatchIds:g})))}))}))}function X6(a,e){const n=Se(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,b,_){const E=b.batch,j=E.keys();let P=J.resolve();return j.forEach((Q=>{P=P.next((()=>_.getEntry(p,Q))).next((ne=>{const q=b.docVersions.get(Q);Ze(q!==null,48541),ne.version.compareTo(q)<0&&(E.applyToRemoteDocument(ne,b),ne.isValidDocument()&&(ne.setReadTime(b.commitVersion),_.addEntry(ne)))}))})),P.next((()=>g.mutationQueue.removeMutationBatch(p,E)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Fe();for(let b=0;b<g.mutationResults.length;++b)g.mutationResults[b].transformResults.length>0&&(p=p.add(g.batch.mutations[b].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function d2(a){const e=Se(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function W6(a,e){const n=Se(a),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((_,E)=>{const j=l.get(E);if(!j)return;g.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,E))));let P=j.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?P=P.withResumeToken(nn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,s)),l=l.insert(E,P),(function(ne,q,ae){return ne.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=$6?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(j,P,_)&&g.push(n.Pi.updateTargetData(u,P))}));let p=ja(),b=Fe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),g.push(Z6(u,f,e.documentUpdates).next((_=>{p=_.ks,b=_.qs}))),!s.isEqual(ke.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(_)}return J.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,b))).next((()=>p))})).then((u=>(n.Ms=l,u)))}function Z6(a,e,n){let s=Fe(),l=Fe();return n.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let f=ja();return n.forEach(((g,p)=>{const b=u.get(g);p.isFoundDocument()!==b.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!b.isValidDocument()||p.version.compareTo(b.version)>0||p.version.compareTo(b.version)===0&&b.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):de(J0,"Ignoring outdated watch update for ",g,". Current version:",b.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function J6(a,e){const n=Se(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=z0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function e3(a,e){const n=Se(a);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((u=>u?(l=u,J.resolve(l)):n.Pi.allocateTargetId(s).next((f=>(l=new ps(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function y0(a,e,n){const s=Se(a),l=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Ul(f))throw f;de(J0,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function k1(a,e,n){const s=Se(a);let l=ke.min(),u=Fe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,b,_){const E=Se(p),j=E.xs.get(_);return j!==void 0?J.resolve(E.Ms.get(j)):E.Pi.getTargetData(b,_)})(s,f,Yr(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?l:ke.min(),n?u:Fe()))).next((g=>(t3(s,B5(e),g),{documents:g,Qs:u})))))}function t3(a,e,n){let s=a.Os.get(e)||ke.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class A1{constructor(){this.activeTargetIds=$5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n3{constructor(){this.Mo=new A1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new A1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="ConnectivityMonitor";class j1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(S1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(S1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od=null;function b0(){return od===null?od=(function(){return 268435456+Math.round(2147483648*Math.random())})():od++,"0x"+od.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="RestConnection",a3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class s3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Vd?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,u){const f=b0(),g=this.zo(e,n.toUriEncodedString());de(Mm,`Sending RPC '${e}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:b}=new URL(g),_=Ol(b);return this.Jo(e,g,p,s,_).then((E=>(de(Mm,`Received RPC '${e}' ${f}: `,E),E)),(E=>{throw kl(Mm,`RPC '${e}' ${f} failed with error: `,E,"url: ",g,"request:",s),E}))}Ho(e,n,s,l,u,f){return this.Go(e,n,s,l,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const s=a3[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class l3 extends s3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,u){const f=b0();return new Promise(((g,p)=>{const b=new h_;b.setWithCredentials(!0),b.listenOnce(f_.COMPLETE,(()=>{try{switch(b.getLastErrorCode()){case fd.NO_ERROR:const E=b.getResponseJson();de(ln,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(E)),g(E);break;case fd.TIMEOUT:de(ln,`RPC '${e}' ${f} timed out`),p(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case fd.HTTP_ERROR:const j=b.getStatus();if(de(ln,`RPC '${e}' ${f} failed with status:`,j,"response text:",b.getResponseText()),j>0){let P=b.getResponseJson();Array.isArray(P)&&(P=P[0]);const Q=P==null?void 0:P.error;if(Q&&Q.status&&Q.message){const ne=(function(ae){const ue=ae.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ue)>=0?ue:W.UNKNOWN})(Q.status);p(new le(ne,Q.message))}else p(new le(W.UNKNOWN,"Server responded with status "+b.getStatus()))}else p(new le(W.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:b.getLastErrorCode(),P_:b.getLastError()})}}finally{de(ln,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(l);de(ln,`RPC '${e}' ${f} sending request:`,l),b.send(n,"POST",_,s,15)}))}T_(e,n,s){const l=b0(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=p_(),g=g_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(p.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");de(ln,`Creating RPC '${e}' stream ${l}: ${_}`,p);const E=f.createWebChannel(_,p);this.I_(E);let j=!1,P=!1;const Q=new i3({Yo:q=>{P?de(ln,`Not sending because RPC '${e}' stream ${l} is closed:`,q):(j||(de(ln,`Opening RPC '${e}' stream ${l} transport.`),E.open(),j=!0),de(ln,`RPC '${e}' stream ${l} sending:`,q),E.send(q))},Zo:()=>E.close()}),ne=(q,ae,ue)=>{q.listen(ae,(ge=>{try{ue(ge)}catch(je){setTimeout((()=>{throw je}),0)}}))};return ne(E,Qo.EventType.OPEN,(()=>{P||(de(ln,`RPC '${e}' stream ${l} transport opened.`),Q.o_())})),ne(E,Qo.EventType.CLOSE,(()=>{P||(P=!0,de(ln,`RPC '${e}' stream ${l} transport closed`),Q.a_(),this.E_(E))})),ne(E,Qo.EventType.ERROR,(q=>{P||(P=!0,kl(ln,`RPC '${e}' stream ${l} transport errored. Name:`,q.name,"Message:",q.message),Q.a_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),ne(E,Qo.EventType.MESSAGE,(q=>{var ae;if(!P){const ue=q.data[0];Ze(!!ue,16349);const ge=ue,je=(ge==null?void 0:ge.error)||((ae=ge[0])==null?void 0:ae.error);if(je){de(ln,`RPC '${e}' stream ${l} received error:`,je);const De=je.status;let ee=(function(k){const O=Lt[k];if(O!==void 0)return Z_(O)})(De),A=je.message;ee===void 0&&(ee=W.INTERNAL,A="Unknown error status: "+De+" with message "+je.message),P=!0,Q.a_(new le(ee,A)),E.close()}else de(ln,`RPC '${e}' stream ${l} received:`,ue),Q.u_(ue)}})),ne(g,m_.STAT_EVENT,(q=>{q.stat===s0.PROXY?de(ln,`RPC '${e}' stream ${l} detected buffering proxy`):q.stat===s0.NOPROXY&&de(ln,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(a){return new d6(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="PersistentStream";class f2{constructor(e,n,s,l,u,f,g,p){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Sa(n.toString()),Sa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(C1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(C1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class o3 extends f2{constructor(e,n,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=m6(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ke.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ke.min():f.readTime?Xr(f.readTime):ke.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=p0(this.serializer),n.addTarget=(function(u,f){let g;const p=f.target;if(g=u0(p)?{documents:y6(u,p)}:{query:b6(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=t2(u,f.resumeToken);const b=f0(u,f.expectedCount);b!==null&&(g.expectedCount=b)}else if(f.snapshotVersion.compareTo(ke.min())>0){g.readTime=Ud(u,f.snapshotVersion.toTimestamp());const b=f0(u,f.expectedCount);b!==null&&(g.expectedCount=b)}return g})(this.serializer,e);const s=v6(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=p0(this.serializer),n.removeTarget=e,this.q_(n)}}class c3 extends f2{constructor(e,n,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=p6(e.writeResults,e.commitTime),s=Xr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=p0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>g6(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{}class d3 extends u3{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,m0(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}Ho(e,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,m0(n,s),l,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class h3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sa(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="RemoteStore";class f3{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Ni(this)&&(de(bi,"Restarting streams for network reachability change."),await(async function(p){const b=Se(p);b.Ea.add(4),await Ac(b),b.Ra.set("Unknown"),b.Ea.delete(4),await ch(b)})(this))}))})),this.Ra=new h3(s,l)}}async function ch(a){if(Ni(a))for(const e of a.da)await e(!0)}async function Ac(a){for(const e of a.da)await e(!1)}function m2(a,e){const n=Se(a);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rg(n)?ng(n):Bl(n).O_()&&tg(n,e))}function eg(a,e){const n=Se(a),s=Bl(n);n.Ia.delete(e),s.O_()&&g2(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ni(n)&&n.Ra.set("Unknown"))}function tg(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bl(a).Y_(e)}function g2(a,e){a.Va.Ue(e),Bl(a).Z_(e)}function ng(a){a.Va=new l6({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Bl(a).start(),a.Ra.ua()}function rg(a){return Ni(a)&&!Bl(a).x_()&&a.Ia.size>0}function Ni(a){return Se(a).Ea.size===0}function p2(a){a.Va=void 0}async function m3(a){a.Ra.set("Online")}async function g3(a){a.Ia.forEach(((e,n)=>{tg(a,e)}))}async function p3(a,e){p2(a),rg(a)?(a.Ra.ha(e),ng(a)):a.Ra.set("Unknown")}async function y3(a,e,n){if(a.Ra.set("Online"),e instanceof e2&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(a,e)}catch(s){de(bi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bd(a,s)}else if(e instanceof yd?a.Va.Ze(e):e instanceof J_?a.Va.st(e):a.Va.tt(e),!n.isEqual(ke.min()))try{const s=await d2(a.localStore);n.compareTo(s)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,b)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(b);_&&u.Ia.set(b,_.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,b)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),g2(u,p);const E=new ps(_.target,p,b,_.sequenceNumber);tg(u,E)})),u.remoteSyncer.applyRemoteEvent(g)})(a,n)}catch(s){de(bi,"Failed to raise snapshot:",s),await Bd(a,s)}}async function Bd(a,e,n){if(!Ul(e))throw e;a.Ea.add(1),await Ac(a),a.Ra.set("Offline"),n||(n=()=>d2(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{de(bi,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await ch(a)}))}function y2(a,e){return e().catch((n=>Bd(a,n,e)))}async function uh(a){const e=Se(a),n=ks(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:z0;for(;b3(e);)try{const l=await J6(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,x3(e,l)}catch(l){await Bd(e,l)}b2(e)&&x2(e)}function b3(a){return Ni(a)&&a.Ta.length<10}function x3(a,e){a.Ta.push(e);const n=ks(a);n.O_()&&n.X_&&n.ea(e.mutations)}function b2(a){return Ni(a)&&!ks(a).x_()&&a.Ta.length>0}function x2(a){ks(a).start()}async function v3(a){ks(a).ra()}async function _3(a){const e=ks(a);for(const n of a.Ta)e.ea(n.mutations)}async function w3(a,e,n){const s=a.Ta.shift(),l=$0.from(s,e,n);await y2(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await uh(a)}async function E3(a,e){e&&ks(a).X_&&await(async function(s,l){if((function(f){return a6(f)&&f!==W.ABORTED})(l.code)){const u=s.Ta.shift();ks(s).B_(),await y2(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await uh(s)}})(a,e),b2(a)&&x2(a)}async function R1(a,e){const n=Se(a);n.asyncQueue.verifyOperationInProgress(),de(bi,"RemoteStore received new credentials");const s=Ni(n);n.Ea.add(3),await Ac(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ch(n)}async function T3(a,e){const n=Se(a);e?(n.Ea.delete(2),await ch(n)):e||(n.Ea.add(2),await Ac(n),n.Ra.set("Unknown"))}function Bl(a){return a.ma||(a.ma=(function(n,s,l){const u=Se(n);return u.sa(),new o3(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:m3.bind(null,a),t_:g3.bind(null,a),r_:p3.bind(null,a),H_:y3.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),rg(a)?ng(a):a.Ra.set("Unknown")):(await a.ma.stop(),p2(a))}))),a.ma}function ks(a){return a.fa||(a.fa=(function(n,s,l){const u=Se(n);return u.sa(),new c3(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:v3.bind(null,a),r_:E3.bind(null,a),ta:_3.bind(null,a),na:w3.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await uh(a)):(await a.fa.stop(),a.Ta.length>0&&(de(bi,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const f=Date.now()+s,g=new ag(e,n,f,l,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(a,e){if(Sa("AsyncQueue",`${e}: ${a}`),Ul(a))return new le(W.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{static emptySet(e){return new wl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=$o(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.ga=new yt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Rl{constructor(e,n,s,l,u,f,g,p,b){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=b}static fromInitialDocuments(e,n,s,l,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new Rl(e,n,wl.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class k3{constructor(){this.queries=D1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Se(n),u=l.queries;l.queries=D1(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function D1(){return new Ti((a=>P_(a)),rh)}async function ig(a,e){const n=Se(a);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new N3,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=sg(f,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&og(n)}async function lg(a,e){const n=Se(a),s=e.query;let l=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function A3(a,e){const n=Se(a);let s=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(l)&&(s=!0);f.wa=l}}s&&og(n)}function S3(a,e,n){const s=Se(a),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(e)}function og(a){a.Ca.forEach((e=>{e.next()}))}var x0,O1;(O1=x0||(x0={})).Ma="default",O1.Cache="cache";class cg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Rl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==x0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.key=e}}class _2{constructor(e){this.key=e}}class j3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=U_(e),this.tu=new wl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new I1,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,b=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((_,E)=>{const j=l.get(_),P=ah(this.query,E)?E:null,Q=!!j&&this.mutatedKeys.has(j.key),ne=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let q=!1;j&&P?j.data.isEqual(P.data)?Q!==ne&&(s.track({type:3,doc:P}),q=!0):this.su(j,P)||(s.track({type:2,doc:P}),q=!0,(p&&this.eu(P,p)>0||b&&this.eu(P,b)<0)&&(g=!0)):!j&&P?(s.track({type:0,doc:P}),q=!0):j&&!P&&(s.track({type:1,doc:j}),q=!0,(p||b)&&(g=!0)),q&&(P?(f=f.add(P),u=ne?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,E)=>(function(P,Q){const ne=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:q})}};return ne(P)-ne(Q)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,b=p!==this.Za;return this.Za=p,f.length!==0||b?{snapshot:new Rl(this.query,e.tu,u,f,e.mutatedKeys,p===0,b,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new _2(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new v2(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class C3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class R3{constructor(e){this.key=e,this.hu=!1}}class I3{constructor(e,n,s,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ti((g=>P_(g)),rh),this.Iu=new Map,this.Eu=new Set,this.du=new yt(ve.comparator),this.Au=new Map,this.Ru=new X0,this.Vu={},this.mu=new Map,this.fu=Cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function D3(a,e,n=!0){const s=A2(a);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await w2(s,e,n,!0),l}async function O3(a,e){const n=A2(a);await w2(n,e,!0,!1)}async function w2(a,e,n,s){const l=await e3(a.localStore,Yr(e)),u=l.targetId,f=a.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await M3(a,e,u,f==="current",l.resumeToken)),a.isPrimaryClient&&n&&m2(a.remoteStore,l),g}async function M3(a,e,n,s,l){a.pu=(E,j,P)=>(async function(ne,q,ae,ue){let ge=q.view.ru(ae);ge.Cs&&(ge=await k1(ne.localStore,q.query,!1).then((({documents:A})=>q.view.ru(A,ge))));const je=ue&&ue.targetChanges.get(q.targetId),De=ue&&ue.targetMismatches.get(q.targetId)!=null,ee=q.view.applyChanges(ge,ne.isPrimaryClient,je,De);return V1(ne,q.targetId,ee.au),ee.snapshot})(a,E,j,P);const u=await k1(a.localStore,e,!0),f=new j3(e,u.Qs),g=f.ru(u.documents),p=kc.createSynthesizedTargetChangeForCurrentChange(n,s&&a.onlineState!=="Offline",l),b=f.applyChanges(g,a.isPrimaryClient,p);V1(a,n,b.au);const _=new C3(e,n,f);return a.Tu.set(e,_),a.Iu.has(n)?a.Iu.get(n).push(e):a.Iu.set(n,[e]),b.snapshot}async function V3(a,e,n){const s=Se(a),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!rh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await y0(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&eg(s.remoteStore,l.targetId),v0(s,l.targetId)})).catch(Pl)):(v0(s,l.targetId),await y0(s.localStore,l.targetId,!0))}async function L3(a,e){const n=Se(a),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),eg(n.remoteStore,s.targetId))}async function P3(a,e,n){const s=G3(a);try{const l=await(function(f,g){const p=Se(f),b=ft.now(),_=g.reduce(((P,Q)=>P.add(Q.key)),Fe());let E,j;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Q=ja(),ne=Fe();return p.Ns.getEntries(P,_).next((q=>{Q=q,Q.forEach(((ae,ue)=>{ue.isValidDocument()||(ne=ne.add(ae))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,Q))).next((q=>{E=q;const ae=[];for(const ue of g){const ge=J5(ue,E.get(ue.key).overlayedDocument);ge!=null&&ae.push(new Cs(ue.key,ge,C_(ge.value.mapValue),nr.exists(!0)))}return p.mutationQueue.addMutationBatch(P,b,ae,g)})).next((q=>{j=q;const ae=q.applyToLocalDocumentSet(E,ne);return p.documentOverlayCache.saveOverlays(P,q.batchId,ae)}))})).then((()=>({batchId:j.batchId,changes:B_(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let b=f.Vu[f.currentUser.toKey()];b||(b=new yt(He)),b=b.insert(g,p),f.Vu[f.currentUser.toKey()]=b})(s,l.batchId,n),await Sc(s,l.changes),await uh(s.remoteStore)}catch(l){const u=sg(l,"Failed to persist write");n.reject(u)}}async function E2(a,e){const n=Se(a);try{const s=await W6(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Ze(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Ze(f.hu,14607):l.removedDocuments.size>0&&(Ze(f.hu,42227),f.hu=!1))})),await Sc(n,s,e)}catch(s){await Pl(s)}}function M1(a,e,n){const s=Se(a);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=Se(f);p.onlineState=g;let b=!1;p.queries.forEach(((_,E)=>{for(const j of E.Sa)j.va(g)&&(b=!0)})),b&&og(p)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function U3(a,e,n){const s=Se(a);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),u=l&&l.key;if(u){let f=new yt(ve.comparator);f=f.insert(u,cn.newNoDocument(u,ke.min()));const g=Fe().add(u),p=new lh(ke.min(),new Map,new yt(He),f,g);await E2(s,p),s.du=s.du.remove(u),s.Au.delete(e),dg(s)}else await y0(s.localStore,e,!1).then((()=>v0(s,e,n))).catch(Pl)}async function z3(a,e){const n=Se(a),s=e.batch.batchId;try{const l=await X6(n.localStore,e);N2(n,s,null),T2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Sc(n,l)}catch(l){await Pl(l)}}async function B3(a,e,n){const s=Se(a);try{const l=await(function(f,g){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(b=>{let _;return p.mutationQueue.lookupMutationBatch(b,g).next((E=>(Ze(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(b,E)))).next((()=>p.mutationQueue.performConsistencyCheck(b))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(b,_,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,_))).next((()=>p.localDocuments.getDocuments(b,_)))}))})(s.localStore,e);N2(s,e,n),T2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Sc(s,l)}catch(l){await Pl(l)}}function T2(a,e){(a.mu.get(e)||[]).forEach((n=>{n.resolve()})),a.mu.delete(e)}function N2(a,e,n){const s=Se(a);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function v0(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),n&&a.Pu.yu(s,n);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||k2(a,s)}))}function k2(a,e){a.Eu.delete(e.path.canonicalString());const n=a.du.get(e);n!==null&&(eg(a.remoteStore,n),a.du=a.du.remove(e),a.Au.delete(n),dg(a))}function V1(a,e,n){for(const s of n)s instanceof v2?(a.Ru.addReference(s.key,e),q3(a,s)):s instanceof _2?(de(ug,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||k2(a,s.key)):Ee(19791,{wu:s})}function q3(a,e){const n=e.key,s=n.path.canonicalString();a.du.get(n)||a.Eu.has(s)||(de(ug,"New document in limbo: "+n),a.Eu.add(s),dg(a))}function dg(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const n=new ve(ut.fromString(e)),s=a.fu.next();a.Au.set(s,new R3(n)),a.du=a.du.insert(n,s),m2(a.remoteStore,new ps(Yr(nh(n.path)),s,"TargetPurposeLimboResolution",Jd.ce))}}async function Sc(a,e,n){const s=Se(a),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{f.push(s.pu(p,e,n).then((b=>{var _;if((b||n)&&s.isPrimaryClient){const E=b?!b.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(b){l.push(b);const E=Z0.As(p.targetId,b);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(p,b){const _=Se(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>J.forEach(b,(j=>J.forEach(j.Es,(P=>_.persistence.referenceDelegate.addReference(E,j.targetId,P))).next((()=>J.forEach(j.ds,(P=>_.persistence.referenceDelegate.removeReference(E,j.targetId,P)))))))))}catch(E){if(!Ul(E))throw E;de(J0,"Failed to update sequence numbers: "+E)}for(const E of b){const j=E.targetId;if(!E.fromCache){const P=_.Ms.get(j),Q=P.snapshotVersion,ne=P.withLastLimboFreeSnapshotVersion(Q);_.Ms=_.Ms.insert(j,ne)}}})(s.localStore,u))}async function H3(a,e){const n=Se(a);if(!n.currentUser.isEqual(e)){de(ug,"User change. New user:",e.toKey());const s=await u2(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new le(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Sc(n,s.Ls)}}function F3(a,e){const n=Se(a),s=n.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let l=Fe();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function A2(a){const e=Se(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=E2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U3.bind(null,e),e.Pu.H_=A3.bind(null,e.eventManager),e.Pu.yu=S3.bind(null,e.eventManager),e}function G3(a){const e=Se(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B3.bind(null,e),e}class qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Y6(this.persistence,new Q6,e.initialUser,this.serializer)}Cu(e){return new c2(W0.mi,this.serializer)}Du(e){return new n3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qd.provider={build:()=>new qd};class Q3 extends qd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ze(this.persistence.referenceDelegate instanceof zd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new R6(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new c2((s=>zd.mi(s,n)),this.serializer)}}class _0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>M1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=H3.bind(null,this.syncEngine),await T3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new k3})()}createDatastore(e){const n=oh(e.databaseInfo.databaseId),s=(function(u){return new l3(u)})(e.databaseInfo);return(function(u,f,g,p){return new d3(u,f,g,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,u,f,g){return new f3(s,l,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>M1(this.syncEngine,n,0)),(function(){return j1.v()?new j1:new r3})())}createSyncEngine(e,n){return(function(l,u,f,g,p,b,_){const E=new I3(l,u,f,g,p,b);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=Se(l);de(bi,"RemoteStore shutting down."),u.Ea.add(5),await Ac(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}_0.provider={build:()=>new _0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class $3{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=on.UNAUTHENTICATED,this.clientId=U0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{de(As,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(de(As,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lm(a,e){a.asyncQueue.verifyOperationInProgress(),de(As,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let s=n.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await u2(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function L1(a,e){a.asyncQueue.verifyOperationInProgress();const n=await K3(a);de(As,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener((s=>R1(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>R1(e.remoteStore,l))),a._onlineComponents=e}async function K3(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){de(As,"Using user provided OfflineComponentProvider");try{await Lm(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;kl("Error using user provided cache. Falling back to memory cache: "+n),await Lm(a,new qd)}}else de(As,"Using default OfflineComponentProvider"),await Lm(a,new Q3(void 0));return a._offlineComponents}async function S2(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(de(As,"Using user provided OnlineComponentProvider"),await L1(a,a._uninitializedComponentsProvider._online)):(de(As,"Using default OnlineComponentProvider"),await L1(a,new _0))),a._onlineComponents}function Y3(a){return S2(a).then((e=>e.syncEngine))}async function Hd(a){const e=await S2(a),n=e.eventManager;return n.onListen=D3.bind(null,e.syncEngine),n.onUnlisten=V3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L3.bind(null,e.syncEngine),n}function X3(a,e,n={}){const s=new Na;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,b){const _=new hg({next:j=>{_.Nu(),f.enqueueAndForget((()=>lg(u,E)));const P=j.docs.has(g);!P&&j.fromCache?b.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&j.fromCache&&p&&p.source==="server"?b.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(j)},error:j=>b.reject(j)}),E=new cg(nh(g.path),_,{includeMetadataChanges:!0,qa:!0});return ig(u,E)})(await Hd(a),a.asyncQueue,e,n,s))),s.promise}function W3(a,e,n={}){const s=new Na;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,b){const _=new hg({next:j=>{_.Nu(),f.enqueueAndForget((()=>lg(u,E))),j.fromCache&&p.source==="server"?b.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(j)},error:j=>b.reject(j)}),E=new cg(g,_,{includeMetadataChanges:!0,qa:!0});return ig(u,E)})(await Hd(a),a.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="firestore.googleapis.com",U1=!0;class z1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C2,this.ssl=U1}else this.host=e.host,this.ssl=e.ssl??U1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j6)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new a5;switch(s.type){case"firstParty":return new o5(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=P1.get(n);s&&(de("ComponentProvider","Removing Datastore"),P1.delete(n),s.terminate())})(this),Promise.resolve()}}function Z3(a,e,n,s={}){var b;a=kn(a,dh);const l=Ol(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${n}`;l&&(vv(`https://${g}`),_v("Firestore",!0)),u.host!==C2&&u.host!==g&&kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:l,emulatorOptions:s};if(!_s(p,f)&&(a._setSettings(p),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=on.MOCK_USER;else{_=uk(s.mockUserToken,(b=a._app)==null?void 0:b.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new on(j)}a._authCredentials=new s5(new b_(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Tc(n,_t._jsonSchema))return new _t(e,s||null,new ve(ut.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Ut("string",_t._jsonSchemaVersion),referencePath:Ut("string")};class vs extends Rs{constructor(e,n,s){super(e,n,nh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new ve(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function Il(a,e,...n){if(a=wt(a),x_("collection","path",e),a instanceof dh){const s=ut.fromString(e,...n);return Jx(s),new vs(a,null,s)}{if(!(a instanceof _t||a instanceof vs))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ut.fromString(e,...n));return Jx(s),new vs(a.firestore,null,s)}}function xi(a,e,...n){if(a=wt(a),arguments.length===1&&(e=U0.newId()),x_("doc","path",e),a instanceof dh){const s=ut.fromString(e,...n);return Zx(s),new _t(a,null,new ve(s))}{if(!(a instanceof _t||a instanceof vs))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ut.fromString(e,...n));return Zx(s),new _t(a.firestore,a instanceof vs?a.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="AsyncQueue";class q1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h2(this,"async_queue_retry"),this._c=()=>{const s=Vm();s&&de(B1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ul(e))throw e;de(B1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Sa("INTERNAL UNHANDLED ERROR: ",H1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=ag.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:H1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function H1(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(a){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(a,["next","error","complete"])}class Ca extends dh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new q1,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q1(e),this._firestoreClient=void 0,await e}}}function J3(a,e){const n=typeof a=="object"?a:j0(),s=typeof a=="string"?a:Vd,l=Ei(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=ok("firestore");u&&Z3(l,...u)}return l}function hh(a){if(a._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||ej(a),a._firestoreClient}function ej(a){var s,l,u;const e=a._freezeSettings(),n=(function(g,p,b,_){return new N5(g,p,b,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,j2(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(a._databaseId,((s=a._app)==null?void 0:s.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new $3(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new er(nn.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new er(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tc(e,er._jsonSchema))return er.fromBase64String(e.bytes)}}er._jsonSchemaVersion="firestore/bytes/1.0",er._jsonSchema={type:Ut("string",er._jsonSchemaVersion),bytes:Ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wr._jsonSchemaVersion}}static fromJSON(e){if(Tc(e,Wr._jsonSchema))return new Wr(e.latitude,e.longitude)}}Wr._jsonSchemaVersion="firestore/geoPoint/1.0",Wr._jsonSchema={type:Ut("string",Wr._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tc(e,Zr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zr(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zr._jsonSchemaVersion="firestore/vectorValue/1.0",Zr._jsonSchema={type:Ut("string",Zr._jsonSchemaVersion),vectorValues:Ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=/^__.*__$/;class nj{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nc(e,this.data,n,this.fieldTransforms)}}class R2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function I2(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:a})}}class fg{constructor(e,n,s,l,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(I2(this.Ac)&&tj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rj{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||oh(e)}Cc(e,n,s,l=!1){return new fg({Ac:e,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mh(a){const e=a._freezeSettings(),n=oh(a._databaseId);return new rj(a._databaseId,!!e.ignoreUndefinedProperties,n)}function D2(a,e,n,s,l,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,e,n,l);pg("Data must be an object, but it was:",f,s);const g=O2(s,f);let p,b;if(u.merge)p=new Ln(f.fieldMask),b=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const j=w0(e,E,n);if(!f.contains(j))throw new le(W.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);V2(_,j)||_.push(j)}p=new Ln(_),b=f.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,b=f.fieldTransforms;return new nj(new Nn(g),p,b)}class gh extends jc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}class mg extends jc{_toFieldTransform(e){return new Y_(e.path,new mc)}isEqual(e){return e instanceof mg}}class gg extends jc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new yc(e.serializer,F_(e.serializer,this.Fc));return new Y_(e.path,n)}isEqual(e){return e instanceof gg&&this.Fc===e.Fc}}function aj(a,e,n,s){const l=a.Cc(1,e,n);pg("Data must be an object, but it was:",l,s);const u=[],f=Nn.empty();js(s,((p,b)=>{const _=yg(e,p,n);b=wt(b);const E=l.yc(_);if(b instanceof gh)u.push(_);else{const j=Cc(b,E);j!=null&&(u.push(_),f.set(_,j))}}));const g=new Ln(u);return new R2(f,g,l.fieldTransforms)}function sj(a,e,n,s,l,u){const f=a.Cc(1,e,n),g=[w0(e,s,n)],p=[l];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<u.length;j+=2)g.push(w0(e,u[j])),p.push(u[j+1]);const b=[],_=Nn.empty();for(let j=g.length-1;j>=0;--j)if(!V2(b,g[j])){const P=g[j];let Q=p[j];Q=wt(Q);const ne=f.yc(P);if(Q instanceof gh)b.push(P);else{const q=Cc(Q,ne);q!=null&&(b.push(P),_.set(P,q))}}const E=new Ln(b);return new R2(_,E,f.fieldTransforms)}function ij(a,e,n,s=!1){return Cc(n,a.Cc(s?4:3,e))}function Cc(a,e){if(M2(a=wt(a)))return pg("Unsupported field value:",e,a),O2(a,e);if(a instanceof jc)return(function(s,l){if(!I2(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const g of s){let p=Cc(g,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(a,e)}return(function(s,l){if((s=wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return F_(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ft.fromDate(s);return{timestampValue:Ud(l.serializer,u)}}if(s instanceof ft){const u=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ud(l.serializer,u)}}if(s instanceof Wr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof er)return{bytesValue:t2(l.serializer,s._byteString)};if(s instanceof _t){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Y0(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Zr)return(function(f,g){return{mapValue:{fields:{[S_]:{stringValue:j_},[Ld]:{arrayValue:{values:f.toArray().map((b=>{if(typeof b!="number")throw g.Sc("VectorValues must only contain numeric values.");return G0(g.serializer,b)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Zd(s)}`)})(a,e)}function O2(a,e){const n={};return w_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(a,((s,l)=>{const u=Cc(l,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function M2(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ft||a instanceof Wr||a instanceof er||a instanceof _t||a instanceof jc||a instanceof Zr)}function pg(a,e,n){if(!M2(n)||!v_(n)){const s=Zd(n);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function w0(a,e,n){if((e=wt(e))instanceof fh)return e._internalPath;if(typeof e=="string")return yg(a,e);throw Fd("Field path arguments must be of type string or ",a,!1,void 0,n)}const lj=new RegExp("[~\\*/\\[\\]]");function yg(a,e,n){if(e.search(lj)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new fh(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function Fd(a,e,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new le(W.INVALID_ARGUMENT,g+a+p)}function V2(a,e){return a.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ph("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oj extends L2{data(){return super.data()}}function ph(a,e){return typeof e=="string"?yg(a,e):e instanceof fh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class U2 extends bg{}function yh(a,e,...n){let s=[];e instanceof bg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof vg)).length,g=u.filter((p=>p instanceof bh)).length;if(f>1||f>0&&g>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class bh extends U2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new bh(e,n,s)}_apply(e){const n=this._parse(e);return z2(e._query,n),new Rs(e.firestore,e.converter,d0(e._query,n))}_parse(e){const n=mh(e.firestore);return(function(u,f,g,p,b,_,E){let j;if(b.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Q1(E,_);const Q=[];for(const ne of E)Q.push(G1(p,u,ne));j={arrayValue:{values:Q}}}else j=G1(p,u,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Q1(E,_),j=ij(g,f,E,_==="in"||_==="not-in");return Pt.create(b,_,j)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xg(a,e,n){const s=e,l=ph("where",a);return bh._create(l,s,n)}class vg extends bg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const g=u.getFlattenedFilters();for(const p of g)z2(f,p),f=d0(f,p)})(e._query,n),new Rs(e.firestore,e.converter,d0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _g extends U2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _g(e,n)}_apply(e){const n=(function(l,u,f){if(l.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fc(u,f)})(e._query,this._field,this._direction);return new Rs(e.firestore,e.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new zl(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function cj(a,e="asc"){const n=e,s=ph("orderBy",a);return _g._create(s,n)}function G1(a,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L_(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ut.fromString(n));if(!ve.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return l1(a,new ve(s))}if(n instanceof _t)return l1(a,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zd(n)}.`)}function Q1(a,e){if(!Array.isArray(a)||a.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z2(a,e){const n=(function(l,u){for(const f of l)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uj{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return js(e,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,l,u;const n=(u=(l=(s=e.fields)==null?void 0:s[Ld].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>St(f.doubleValue)));return new Zr(n)}convertGeoPoint(e){return new Wr(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=th(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uc(e));default:return null}}convertTimestamp(e){const n=Es(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);Ze(l2(s),9688,{name:e});const l=new dc(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return l.isEqual(n)||Sa(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(a,e,n){let s;return s=a?n&&(n.merge||n.mergeFields)?a.toFirestore(e,n):a.toFirestore(e):e,s}class Yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hi extends L2{constructor(e,n,s,l,u,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ph("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=hi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}hi._jsonSchemaVersion="firestore/documentSnapshot/1.0",hi._jsonSchema={type:Ut("string",hi._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class bd extends hi{data(e={}){return super.data(e)}}class fi{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Yo(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new bd(this._firestore,this._userDataWriter,s.key,s,new Yo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new bd(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Yo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new bd(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Yo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let b=-1,_=-1;return g.type!==0&&(b=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),_=f.indexOf(g.doc.key)),{type:dj(g.type),doc:p,oldIndex:b,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=U0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dj(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(a){a=kn(a,_t);const e=kn(a.firestore,Ca);return X3(hh(e),a._key).then((n=>G2(e,a,n)))}fi._jsonSchemaVersion="firestore/querySnapshot/1.0",fi._jsonSchema={type:Ut("string",fi._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class wg extends uj{constructor(e){super(),this.firestore=e}convertBytes(e){return new er(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function Eg(a){a=kn(a,Rs);const e=kn(a.firestore,Ca),n=hh(e),s=new wg(e);return P2(a._query),W3(n,a._query).then((l=>new fi(e,s,a,l)))}function q2(a,e,n){a=kn(a,_t);const s=kn(a.firestore,Ca),l=B2(a.converter,e,n);return xh(s,[D2(mh(s),"setDoc",a._key,l,a.converter!==null,n).toMutation(a._key,nr.none())])}function H2(a,e,n,...s){a=kn(a,_t);const l=kn(a.firestore,Ca),u=mh(l);let f;return f=typeof(e=wt(e))=="string"||e instanceof fh?sj(u,"updateDoc",a._key,e,n,s):aj(u,"updateDoc",a._key,e),xh(l,[f.toMutation(a._key,nr.exists(!0))])}function fj(a){return xh(kn(a.firestore,Ca),[new Q0(a._key,nr.none())])}function F2(a,e){const n=kn(a.firestore,Ca),s=xi(a),l=B2(a.converter,e);return xh(n,[D2(mh(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,nr.exists(!1))]).then((()=>s))}function mj(a,...e){var p,b,_;a=wt(a);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||F1(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(F1(e[s])){const E=e[s];e[s]=(p=E.next)==null?void 0:p.bind(E),e[s+1]=(b=E.error)==null?void 0:b.bind(E),e[s+2]=(_=E.complete)==null?void 0:_.bind(E)}let u,f,g;if(a instanceof _t)f=kn(a.firestore,Ca),g=nh(a._key.path),u={next:E=>{e[s]&&e[s](G2(f,a,E))},error:e[s+1],complete:e[s+2]};else{const E=kn(a,Rs);f=kn(E.firestore,Ca),g=E._query;const j=new wg(f);u={next:P=>{e[s]&&e[s](new fi(f,j,E,P))},error:e[s+1],complete:e[s+2]},P2(a._query)}return(function(j,P,Q,ne){const q=new hg(ne),ae=new cg(P,q,Q);return j.asyncQueue.enqueueAndForget((async()=>ig(await Hd(j),ae))),()=>{q.Nu(),j.asyncQueue.enqueueAndForget((async()=>lg(await Hd(j),ae)))}})(hh(f),g,l,u)}function xh(a,e){return(function(s,l){const u=new Na;return s.asyncQueue.enqueueAndForget((async()=>P3(await Y3(s),l,u))),u.promise})(hh(a),e)}function G2(a,e,n){const s=n.docs.get(e._key),l=new wg(a);return new hi(a,l,e._key,s,new Yo(n.hasPendingWrites,n.fromCache),e.converter)}function E0(){return new mg("serverTimestamp")}function $1(a){return new gg("increment",a)}(function(e,n=!0){(function(l){Ll=l})(Ml),Jr(new yr("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new Ca(new i5(s.getProvider("auth-internal")),new c5(f,s.getProvider("app-check-internal")),(function(b,_){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(b.options.projectId,_)})(f,l),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),tr(Kx,Yx,e),tr(Kx,Yx,"esm2020")})();const Q2="@firebase/installations",Tg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=1e4,K2=`w:${Tg}`,Y2="FIS_v2",gj="https://firebaseinstallations.googleapis.com/v1",pj=3600*1e3,yj="installations",bj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vi=new wi(yj,bj,xj);function X2(a){return a instanceof vr&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2({projectId:a}){return`${gj}/projects/${a}/installations`}function Z2(a){return{token:a.token,requestStatus:2,expiresIn:_j(a.expiresIn),creationTime:Date.now()}}async function J2(a,e){const s=(await e.json()).error;return vi.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function ew({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function vj(a,{refreshToken:e}){const n=ew(a);return n.append("Authorization",wj(e)),n}async function tw(a){const e=await a();return e.status>=500&&e.status<600?a():e}function _j(a){return Number(a.replace("s","000"))}function wj(a){return`${Y2} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej({appConfig:a,heartbeatServiceProvider:e},{fid:n}){const s=W2(a),l=ew(a),u=e.getImmediate({optional:!0});if(u){const b=await u.getHeartbeatsHeader();b&&l.append("x-firebase-client",b)}const f={fid:n,authVersion:Y2,appId:a.appId,sdkVersion:K2},g={method:"POST",headers:l,body:JSON.stringify(f)},p=await tw(()=>fetch(s,g));if(p.ok){const b=await p.json();return{fid:b.fid||n,registrationStatus:2,refreshToken:b.refreshToken,authToken:Z2(b.authToken)}}else throw await J2("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=/^[cdef][\w-]{21}$/,T0="";function kj(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const n=Aj(a);return Nj.test(n)?n:T0}catch{return T0}}function Aj(a){return Tj(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map;function aw(a,e){const n=vh(a);sw(n,e),Sj(n,e)}function sw(a,e){const n=rw.get(a);if(n)for(const s of n)s(e)}function Sj(a,e){const n=jj();n&&n.postMessage({key:a,fid:e}),Cj()}let di=null;function jj(){return!di&&"BroadcastChannel"in self&&(di=new BroadcastChannel("[Firebase] FID Change"),di.onmessage=a=>{sw(a.data.key,a.data.fid)}),di}function Cj(){rw.size===0&&di&&(di.close(),di=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="firebase-installations-database",Ij=1,_i="firebase-installations-store";let Pm=null;function Ng(){return Pm||(Pm=Av(Rj,Ij,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(_i)}}})),Pm}async function Gd(a,e){const n=vh(a),l=(await Ng()).transaction(_i,"readwrite"),u=l.objectStore(_i),f=await u.get(n);return await u.put(e,n),await l.done,(!f||f.fid!==e.fid)&&aw(a,e.fid),e}async function iw(a){const e=vh(a),s=(await Ng()).transaction(_i,"readwrite");await s.objectStore(_i).delete(e),await s.done}async function _h(a,e){const n=vh(a),l=(await Ng()).transaction(_i,"readwrite"),u=l.objectStore(_i),f=await u.get(n),g=e(f);return g===void 0?await u.delete(n):await u.put(g,n),await l.done,g&&(!f||f.fid!==g.fid)&&aw(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kg(a){let e;const n=await _h(a.appConfig,s=>{const l=Dj(s),u=Oj(a,l);return e=u.registrationPromise,u.installationEntry});return n.fid===T0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Dj(a){const e=a||{fid:kj(),registrationStatus:0};return lw(e)}function Oj(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(vi.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Mj(a,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Vj(a)}:{installationEntry:e}}async function Mj(a,e){try{const n=await Ej(a,e);return Gd(a.appConfig,n)}catch(n){throw X2(n)&&n.customData.serverCode===409?await iw(a.appConfig):await Gd(a.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Vj(a){let e=await K1(a.appConfig);for(;e.registrationStatus===1;)await nw(100),e=await K1(a.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await kg(a);return s||n}return e}function K1(a){return _h(a,e=>{if(!e)throw vi.create("installation-not-found");return lw(e)})}function lw(a){return Lj(a)?{fid:a.fid,registrationStatus:0}:a}function Lj(a){return a.registrationStatus===1&&a.registrationTime+$2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj({appConfig:a,heartbeatServiceProvider:e},n){const s=Uj(a,n),l=vj(a,n),u=e.getImmediate({optional:!0});if(u){const b=await u.getHeartbeatsHeader();b&&l.append("x-firebase-client",b)}const f={installation:{sdkVersion:K2,appId:a.appId}},g={method:"POST",headers:l,body:JSON.stringify(f)},p=await tw(()=>fetch(s,g));if(p.ok){const b=await p.json();return Z2(b)}else throw await J2("Generate Auth Token",p)}function Uj(a,{fid:e}){return`${W2(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ag(a,e=!1){let n;const s=await _h(a.appConfig,u=>{if(!ow(u))throw vi.create("not-registered");const f=u.authToken;if(!e&&qj(f))return u;if(f.requestStatus===1)return n=zj(a,e),u;{if(!navigator.onLine)throw vi.create("app-offline");const g=Fj(u);return n=Bj(a,g),g}});return n?await n:s.authToken}async function zj(a,e){let n=await Y1(a.appConfig);for(;n.authToken.requestStatus===1;)await nw(100),n=await Y1(a.appConfig);const s=n.authToken;return s.requestStatus===0?Ag(a,e):s}function Y1(a){return _h(a,e=>{if(!ow(e))throw vi.create("not-registered");const n=e.authToken;return Gj(n)?{...e,authToken:{requestStatus:0}}:e})}async function Bj(a,e){try{const n=await Pj(a,e),s={...e,authToken:n};return await Gd(a.appConfig,s),n}catch(n){if(X2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await iw(a.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Gd(a.appConfig,s)}throw n}}function ow(a){return a!==void 0&&a.registrationStatus===2}function qj(a){return a.requestStatus===2&&!Hj(a)}function Hj(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+pj}function Fj(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function Gj(a){return a.requestStatus===1&&a.requestTime+$2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(a){const e=a,{installationEntry:n,registrationPromise:s}=await kg(e);return s?s.catch(console.error):Ag(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(a,e=!1){const n=a;return await Kj(n),(await Ag(n,e)).token}async function Kj(a){const{registrationPromise:e}=await kg(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(a){if(!a||!a.options)throw Um("App Configuration");if(!a.name)throw Um("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!a.options[n])throw Um(n);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Um(a){return vi.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="installations",Xj="installations-internal",Wj=a=>{const e=a.getProvider("app").getImmediate(),n=Yj(e),s=Ei(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Zj=a=>{const e=a.getProvider("app").getImmediate(),n=Ei(e,cw).getImmediate();return{getId:()=>Qj(n),getToken:l=>$j(n,l)}};function Jj(){Jr(new yr(cw,Wj,"PUBLIC")),Jr(new yr(Xj,Zj,"PRIVATE"))}Jj();tr(Q2,Tg);tr(Q2,Tg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="analytics",eC="firebase_id",tC="origin",nC=60*1e3,rC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new Kd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pn=new wi("analytics","Analytics",aC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(a){if(!a.startsWith(Sg)){const e=Pn.create("invalid-gtag-resource",{gtagURL:a});return gn.warn(e.message),""}return a}function uw(a){return Promise.all(a.map(e=>e.catch(n=>n)))}function iC(a,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(a,e)),n}function lC(a,e){const n=iC("firebase-js-sdk-policy",{createScriptURL:sC}),s=document.createElement("script"),l=`${Sg}?l=${a}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function oC(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function cC(a,e,n,s,l,u){const f=s[l];try{if(f)await e[f];else{const p=(await uw(n)).find(b=>b.measurementId===l);p&&await e[p.appId]}}catch(g){gn.error(g)}a("config",l,u)}async function uC(a,e,n,s,l){try{let u=[];if(l&&l.send_to){let f=l.send_to;Array.isArray(f)||(f=[f]);const g=await uw(n);for(const p of f){const b=g.find(E=>E.measurementId===p),_=b&&e[b.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),a("event",s,l||{})}catch(u){gn.error(u)}}function dC(a,e,n,s){async function l(u,...f){try{if(u==="event"){const[g,p]=f;await uC(a,e,n,g,p)}else if(u==="config"){const[g,p]=f;await cC(a,e,n,s,g,p)}else if(u==="consent"){const[g,p]=f;a("consent",g,p)}else if(u==="get"){const[g,p,b]=f;a("get",g,p,b)}else if(u==="set"){const[g]=f;a("set",g)}else a(u,...f)}catch(g){gn.error(g)}}return l}function hC(a,e,n,s,l){let u=function(...f){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=dC(u,a,e,n),{gtagCore:u,wrappedGtag:window[l]}}function fC(a){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Sg)&&n.src.includes(a))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=30,gC=1e3;class pC{constructor(e={},n=gC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const dw=new pC;function yC(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function bC(a){var f;const{appId:e,apiKey:n}=a,s={method:"GET",headers:yC(n)},l=rC.replace("{app-id}",e),u=await fetch(l,s);if(u.status!==200&&u.status!==304){let g="";try{const p=await u.json();(f=p.error)!=null&&f.message&&(g=p.error.message)}catch{}throw Pn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:g})}return u.json()}async function xC(a,e=dw,n){const{appId:s,apiKey:l,measurementId:u}=a.options;if(!s)throw Pn.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:s};throw Pn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new wC;return setTimeout(async()=>{g.abort()},nC),hw({appId:s,apiKey:l,measurementId:u},f,g,e)}async function hw(a,{throttleEndTimeMillis:e,backoffCount:n},s,l=dw){var g;const{appId:u,measurementId:f}=a;try{await vC(s,e)}catch(p){if(f)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:f};throw p}try{const p=await bC(a);return l.deleteThrottleMetadata(u),p}catch(p){const b=p;if(!_C(b)){if(l.deleteThrottleMetadata(u),f)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${b==null?void 0:b.message}]`),{appId:u,measurementId:f};throw p}const _=Number((g=b==null?void 0:b.customData)==null?void 0:g.httpStatus)===503?xx(n,l.intervalMillis,mC):xx(n,l.intervalMillis),E={throttleEndTimeMillis:Date.now()+_,backoffCount:n+1};return l.setThrottleMetadata(u,E),gn.debug(`Calling attemptFetch again in ${_} millis`),hw(a,E,s,l)}}function vC(a,e){return new Promise((n,s)=>{const l=Math.max(e-Date.now(),0),u=setTimeout(n,l);a.addEventListener(()=>{clearTimeout(u),s(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _C(a){if(!(a instanceof vr)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class wC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function EC(a,e,n,s,l){if(l&&l.global){a("event",n,s);return}else{const u=await e,f={...s,send_to:u};a("event",n,f)}}async function TC(a,e,n,s){if(s&&s.global){const l={};for(const u of Object.keys(n))l[`user_properties.${u}`]=n[u];return a("set",l),Promise.resolve()}else{const l=await e;a("config",l,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(){if(Ev())try{await Tv()}catch(a){return gn.warn(Pn.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return gn.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kC(a,e,n,s,l,u,f){const g=xC(a);g.then(j=>{n[j.measurementId]=j.appId,a.options.measurementId&&j.measurementId!==a.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>gn.error(j)),e.push(g);const p=NC().then(j=>{if(j)return s.getId()}),[b,_]=await Promise.all([g,p]);fC(u)||lC(u,b.measurementId),l("js",new Date);const E=(f==null?void 0:f.config)??{};return E[tC]="firebase",E.update=!0,_!=null&&(E[eC]=_),l("config",b.measurementId,E),b.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.app=e}_delete(){return delete El[this.app.options.appId],Promise.resolve()}}let El={},X1=[];const W1={};let zm="dataLayer",SC="gtag",Z1,jg,J1=!1;function jC(){const a=[];if(wv()&&a.push("This is a browser extension environment."),xk()||a.push("Cookies are not available."),a.length>0){const e=a.map((s,l)=>`(${l+1}) ${s}`).join(" "),n=Pn.create("invalid-analytics-context",{errorInfo:e});gn.warn(n.message)}}function CC(a,e,n){jC();const s=a.options.appId;if(!s)throw Pn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pn.create("no-api-key");if(El[s]!=null)throw Pn.create("already-exists",{id:s});if(!J1){oC(zm);const{wrappedGtag:u,gtagCore:f}=hC(El,X1,W1,zm,SC);jg=u,Z1=f,J1=!0}return El[s]=kC(a,X1,W1,e,Z1,zm,n),new AC(a)}function RC(a=j0()){a=wt(a);const e=Ei(a,Qd);return e.isInitialized()?e.getImmediate():IC(a)}function IC(a,e={}){const n=Ei(a,Qd);if(n.isInitialized()){const l=n.getImmediate();if(_s(e,n.getOptions()))return l;throw Pn.create("already-initialized")}return n.initialize({options:e})}function DC(a,e,n){a=wt(a),TC(jg,El[a.app.options.appId],e,n).catch(s=>gn.error(s))}function OC(a,e,n,s){a=wt(a),EC(jg,El[a.app.options.appId],e,n,s).catch(l=>gn.error(l))}const ev="@firebase/analytics",tv="0.10.19";function MC(){Jr(new yr(Qd,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return CC(s,l,n)},"PUBLIC")),Jr(new yr("analytics-internal",a,"PRIVATE")),tr(ev,tv),tr(ev,tv,"esm2020");function a(e){try{const n=e.getProvider(Qd).getImmediate();return{logEvent:(s,l,u)=>OC(n,s,l,u),setUserProperties:(s,l)=>DC(n,s,l)}}catch(n){throw Pn.create("interop-component-reg-failed",{reason:n})}}}MC();const VC={apiKey:"AIzaSyBFr--na-wJGHMdev7vUhPufAJHlyP3GNQ",authDomain:"school-9d3db.firebaseapp.com",projectId:"school-9d3db",storageBucket:"school-9d3db.firebasestorage.app",messagingSenderId:"429673694272",appId:"1:429673694272:web:43390c4fdfa5bce4744ba5",measurementId:"G-8YSDYV9VBN"},Cg=Sv(VC),ac=n5(Cg),rr=J3(Cg);RC(Cg);const fw=te.createContext(void 0),LC=({children:a})=>{const[e,n]=te.useState(null),[s,l]=te.useState(!0),u=(p,b)=>{const _=`teacher-${b.split("@")[0]}`;let E="https://img.freepik.com/free-vector/teacher-standing-near-blackboard_23-2147517173.jpg";p.includes("")?E="https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P":p.includes("")&&(E="https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj"),n({uid:_,email:b,displayName:p,role:"teacher",avatar:E,gender:"male"}),localStorage.setItem("isTeacher","true"),localStorage.setItem("teacherName",p),localStorage.setItem("teacherEmail",b)},f=async()=>{try{(e==null?void 0:e.role)==="teacher"?(localStorage.removeItem("isTeacher"),localStorage.removeItem("teacherName"),localStorage.removeItem("teacherEmail"),n(null)):await GA(ac)}catch(p){console.error("Logout error",p)}},g=async p=>{if(e)try{let b={...p};if(p.firstName!==void 0||p.lastName!==void 0){const _=p.firstName!==void 0?p.firstName:e.firstName||"",E=p.lastName!==void 0?p.lastName:e.lastName||"";b.displayName=`${_} ${E}`.trim()}if(n(_=>_?{..._,...b}:null),e.role!=="teacher"){const _=xi(rr,"users",e.uid);await H2(_,b)}}catch(b){throw console.error("Error updating profile:",b),b}};return te.useEffect(()=>{const p=localStorage.getItem("isTeacher")==="true";if(p){const _=localStorage.getItem("teacherName")||"",E=localStorage.getItem("teacherEmail")||"teacher@etqan.edu";u(_,E),l(!1);return}const b=FA(ac,async _=>{if(_)try{const E=xi(rr,"users",_.uid),j=await hj(E);if(j.exists()){const P=j.data();n({uid:_.uid,email:_.email||"",displayName:P.displayName||`${P.firstName||""} ${P.lastName||""}`.trim()||"Student",firstName:P.firstName,lastName:P.lastName,age:P.age,role:P.role,grade:P.grade,phone:P.phone,address:P.address,school:P.school,gender:P.gender,avatar:P.avatar,profileBackground:P.profileBackground,genderChanged:P.genderChanged})}else n({uid:_.uid,email:_.email||"",displayName:"User",role:"student"})}catch(E){console.error("Error fetching user profile:",E)}else p||n(null);l(!1)});return()=>b()},[]),c.jsx(fw.Provider,{value:{user:e,loading:s,logout:f,setTeacherSession:u,updateUserProfile:g},children:!s&&a})},Is=()=>{const a=te.useContext(fw);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},PC=({onLoginClick:a,onNavigate:e,onLogoutClick:n})=>{const[s,l]=te.useState(!1),[u,f]=te.useState(!1),{user:g}=Is();te.useEffect(()=>{const b=()=>{window.scrollY>10?f(!0):f(!1)};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[]);const p=b=>{e(b),l(!1)};return c.jsxs("nav",{className:`w-full z-50 sticky top-0 transition-all duration-500 ${u?"bg-emerald-900/95 backdrop-blur-md shadow-lg":"bg-emerald-800 shadow-md"}`,children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-20",children:[c.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>p("HOME"),children:[c.jsx("div",{className:"p-1 bg-white/10 rounded-full group-hover:bg-white/20 transition-colors",children:c.jsx("img",{src:"https://lh3.googleusercontent.com/d/13x8Gorb7y4H2qcQ1LVJtHY9-RoUhxg2z",alt:"  ",className:"w-12 h-12 rounded-full object-cover border-2 border-white/30 shadow-sm"})}),c.jsx("span",{className:"text-2xl font-black text-white tracking-tight drop-shadow-sm",children:""})]}),c.jsx("div",{className:"hidden md:flex items-center justify-center flex-1 px-8",children:c.jsx("div",{className:"flex items-center gap-1 bg-black/10 px-2 py-1.5 rounded-full border border-white/10 backdrop-blur-sm shadow-inner",children:c.jsx("button",{onClick:()=>p("HOME"),className:"px-6 py-2 text-white font-bold rounded-full hover:bg-white/20 transition-all",children:""})})}),c.jsx("div",{className:"hidden md:flex items-center gap-3",children:g?c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>p("PROFILE"),className:"flex items-center gap-2 text-white hover:bg-white/15 px-4 py-2.5 rounded-full transition-all font-bold",children:[c.jsx(jT,{className:"w-5 h-5"}),c.jsx("span",{children:" "})]}),c.jsxs("div",{className:"flex items-center gap-2 text-white bg-white/10 pl-1 pr-3 py-1 rounded-full border border-white/10 mr-2",children:[c.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden bg-white/20 flex items-center justify-center border border-white/30",children:g.avatar?c.jsx("img",{src:g.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):c.jsx(_a,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-sm font-bold",children:g.displayName}),g.role==="teacher"&&c.jsx("span",{className:"text-xs bg-emerald-400 text-emerald-900 px-2 py-0.5 rounded-full",children:""})]}),g.role==="teacher"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>p("QUESTION_BANK"),className:"bg-white/10 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all border border-white/20",title:" ",children:c.jsx(wd,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>p("TEACHER_DASHBOARD"),className:"bg-blue-500 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-blue-600 transition-all shadow-lg border border-blue-400/50",title:" ",children:c.jsx(vd,{className:"w-5 h-5"})})]}),c.jsx("button",{onClick:n,className:"bg-red-500/80 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-red-600 transition-all border border-red-400/30",title:"",children:c.jsx(Ed,{className:"w-4 h-4"})})]}):c.jsxs("button",{onClick:a,className:"bg-white text-emerald-700 px-6 py-2.5 rounded-full font-bold hover:bg-emerald-50 transition-all shadow-lg flex items-center gap-2 transform hover:scale-105",children:[c.jsx(ux,{className:"w-4 h-4"})," "]})}),c.jsx("div",{className:"md:hidden flex items-center gap-2",children:c.jsx("button",{onClick:()=>l(!s),className:"text-white hover:text-emerald-100 p-2 transition-colors",children:s?c.jsx(Nl,{className:"w-8 h-8"}):c.jsx(hN,{className:"w-8 h-8"})})})]})}),s&&c.jsx("div",{className:"md:hidden bg-gray-900 border-t border-gray-800 shadow-xl absolute w-full z-50 animate-fade-in",children:c.jsxs("div",{className:"px-4 pt-2 pb-6 space-y-2",children:[g&&c.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-gray-800 rounded-2xl border border-gray-700",children:[c.jsx("div",{className:"w-10 h-10 bg-emerald-900 rounded-full flex items-center justify-center text-emerald-200 font-bold text-lg overflow-hidden border border-emerald-700",children:g.avatar?c.jsx("img",{src:g.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):g.displayName.charAt(0)}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-white",children:g.displayName}),c.jsx("span",{className:"text-xs text-gray-400",children:g.email})]})]}),c.jsx("button",{onClick:()=>p("HOME"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors",children:""}),c.jsxs("button",{onClick:()=>p("CONTACT_TEACHER"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-2",children:[c.jsx(Td,{className:"w-5 h-5 text-emerald-400"}),"   "]}),c.jsxs("button",{onClick:()=>p("ABOUT_PLATFORM"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-2",children:[c.jsx(WT,{className:"w-5 h-5 text-emerald-400"}),"  "]}),c.jsxs("button",{onClick:()=>p("SERVICES"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-2",children:[c.jsx(sv,{className:"w-5 h-5 text-emerald-400"})," "]}),g&&c.jsx("button",{onClick:()=>p("PROFILE"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors",children:" "}),c.jsx("div",{className:"border-t border-gray-700 my-2 pt-2"}),g?c.jsxs("div",{className:"space-y-3 mt-2",children:[g.role==="teacher"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>p("TEACHER_DASHBOARD"),className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold shadow-md flex items-center justify-center gap-2",children:[c.jsx(vd,{className:"w-5 h-5"}),"  "]}),c.jsxs("button",{onClick:()=>p("QUESTION_BANK"),className:"w-full bg-gray-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[c.jsx(wd,{className:"w-5 h-5"})," "]})]}),c.jsxs("button",{onClick:()=>{l(!1),n()},className:"w-full bg-red-900/20 text-red-400 border border-red-900/30 py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[c.jsx(Ed,{className:"w-5 h-5"})," "]})]}):c.jsxs("button",{onClick:()=>{l(!1),a()},className:"w-full mt-2 bg-emerald-600 text-white py-3 rounded-xl font-bold shadow-md flex items-center justify-center gap-2",children:[c.jsx(ux,{className:"w-5 h-5"})," "]})]})})]})},UC=({onStartQuiz:a,onLoginClick:e,onNavigate:n})=>{const{user:s}=Is(),[l,u]=te.useState(!1),f=()=>{u(!0),setTimeout(()=>u(!1),3e3)},g=()=>{s?n("QUIZZES"):f()},p=()=>{s?n("LESSONS"):f()},b=()=>{n("CONTACT_TEACHER")};return c.jsxs("section",{className:"relative w-full min-h-[calc(100vh-80px)] flex items-center justify-center bg-white dark:bg-gray-900 overflow-hidden animate-fade-in transition-colors duration-300",children:[l&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none px-4",children:c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/90 border border-red-200 dark:border-red-800 shadow-xl rounded-xl p-4 flex items-center gap-3 relative w-full max-w-md animate-fade-in-up pointer-events-auto",children:[c.jsx("div",{className:"bg-red-100 dark:bg-red-800 p-2 rounded-full shrink-0",children:c.jsx(Gm,{className:"w-6 h-6 text-red-600 dark:text-red-200"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"  "}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs mt-1",children:"        ."})]}),c.jsx("button",{onClick:()=>u(!1),className:"absolute top-2 left-2 text-gray-400 dark:text-gray-300 hover:text-gray-600 dark:hover:text-white",children:c.jsx(Nl,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>{u(!1),e()},className:"mr-auto bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors shrink-0",children:""})]})}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-0 w-full relative z-10 flex flex-col items-center text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-100 dark:border-emerald-800 px-4 py-2 rounded-full shadow-sm",children:[c.jsx(uv,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),c.jsx("span",{className:"text-emerald-800 dark:text-emerald-300 font-bold text-sm",children:"   "})]})}),c.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black text-gray-900 dark:text-white leading-[1.2] lg:leading-[1.15] mb-6 transition-colors",children:["  ",c.jsx("br",{}),c.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 inline-block relative",children:[" ",c.jsx("svg",{className:"absolute w-full h-3 -bottom-1 right-0 text-emerald-200 dark:text-emerald-900 -z-10",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:c.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]}),c.jsx("br",{}),"  "]}),c.jsxs("p",{className:"text-lg md:text-xl text-gray-600 dark:text-gray-300 leading-relaxed max-w-2xl mx-auto mb-10 transition-colors",children:["          ",c.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-black text-2xl px-1 relative inline-block",children:"   "}),"."]}),c.jsxs("div",{className:"flex flex-col w-full max-w-md gap-4 justify-center",children:[c.jsxs("button",{onClick:g,className:"w-full bg-emerald-500 hover:bg-emerald-600 dark:bg-emerald-600 dark:hover:bg-emerald-700 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-emerald-200/50 dark:hover:shadow-emerald-900/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[c.jsx(mi,{className:"w-6 h-6"})," ",c.jsx(Wo,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),c.jsxs("button",{onClick:p,className:"w-full bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-blue-200/50 dark:hover:shadow-blue-900/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[c.jsx(Xm,{className:"w-6 h-6"})," ",c.jsx(Wo,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),c.jsxs("button",{onClick:b,className:"w-full bg-teal-500 hover:bg-teal-600 dark:bg-teal-600 dark:hover:bg-teal-700 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-teal-200/50 dark:hover:shadow-teal-900/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[c.jsx(Td,{className:"w-6 h-6"}),"  ",c.jsx(Wo,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[s&&c.jsxs("button",{onClick:()=>n("PROFILE"),className:"flex-1 bg-white dark:bg-gray-800 border-2 border-emerald-100 dark:border-emerald-900 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 text-lg font-bold px-8 py-4 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-sm",children:[c.jsx(_a,{className:"w-5 h-5"})," "]}),!s&&c.jsxs("button",{onClick:e,className:"flex-1 bg-white dark:bg-gray-800 border-2 border-emerald-100 dark:border-emerald-900 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 text-lg font-bold px-8 py-4 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-sm",children:[c.jsx(TN,{className:"w-5 h-5 fill-emerald-600 text-emerald-600 dark:fill-emerald-400 dark:text-emerald-400"})," "]})]})]})]})]})},Bm=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),qm=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),zC=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12 2C6.48 2 2 6.03 2 11c0 2.87 1.56 5.47 4 7.1V22l3.57-1.96c.78.22 1.6.34 2.43.34 5.52 0 10-4.03 10-9s-4.48-9-10-9zm1.06 12.07l-2.6-2.78-5.07 2.78 5.58-5.93 2.62 2.78 5.05-2.78-5.58 5.93z"})}),nv=[{id:1,name:" ",text:"       .",platform:"whatsapp",time:"10:30 "},{id:2,name:" ",text:"       .",platform:"messenger",time:"11:15 "},{id:3,name:" ",text:"        .",platform:"telegram",time:"09:45 "},{id:4,name:" ",text:"      .",platform:"whatsapp",time:"02:20 "},{id:5,name:"  ",text:"        .",platform:"messenger",time:"04:10 "},{id:6,name:" ",text:"       .",platform:"telegram",time:"08:00 "},{id:7,name:" ",text:"        .",platform:"whatsapp",time:"01:30 "},{id:8,name:" ",text:"       .",platform:"messenger",time:"06:45 "},{id:9,name:" ",text:"       .",platform:"telegram",time:"03:15 "},{id:10,name:" ",text:"       .",platform:"whatsapp",time:"12:00 "},{id:11,name:" ",text:"        .",platform:"messenger",time:"07:30 "},{id:12,name:" ",text:"      .",platform:"telegram",time:"10:10 "},{id:13,name:" ",text:"         .",platform:"whatsapp",time:"05:50 "},{id:14,name:" ",text:"        .",platform:"messenger",time:"09:20 "},{id:15,name:" ",text:"        .",platform:"telegram",time:"08:45 "}],BC=[{icon:QN,title:" ",desc:"        .",color:"bg-blue-100 text-blue-600"},{icon:mi,title:" ",desc:"        .",color:"bg-emerald-100 text-emerald-600"},{icon:MN,title:" ",desc:"       .",color:"bg-yellow-100 text-yellow-600"},{icon:xT,title:" ",desc:"        .",color:"bg-purple-100 text-purple-600"}],qC=({onNavigate:a})=>{const[e,n]=te.useState([0,1,2]),[s,l]=te.useState(!0);te.useEffect(()=>{const g=setInterval(()=>{l(!1),setTimeout(()=>{const p=[];for(;p.length<3;){const b=Math.floor(Math.random()*nv.length);p.includes(b)||p.push(b)}n(p),l(!0)},500)},5e3);return()=>clearInterval(g)},[]);const u=g=>{switch(g){case"whatsapp":return c.jsx(Bm,{className:"w-5 h-5 text-white"});case"messenger":return c.jsx(zC,{className:"w-5 h-5 text-white"});case"telegram":return c.jsx(qm,{className:"w-5 h-5 text-white"});default:return null}},f=g=>{switch(g){case"whatsapp":return"bg-green-500";case"messenger":return"bg-blue-600";case"telegram":return"bg-sky-500";default:return"bg-gray-500"}};return c.jsx("section",{className:"py-20 bg-white dark:bg-gray-900 relative overflow-hidden transition-colors duration-300",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:" "}),c.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),c.jsx("p",{className:"mt-6 text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"                          ."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[c.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-8 rounded-3xl border border-slate-100 dark:border-gray-700 hover:border-emerald-200 dark:hover:border-emerald-600 transition-all group flex flex-col h-full shadow-lg hover:shadow-xl",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[c.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-xl overflow-hidden shrink-0 border-4 border-white dark:border-gray-700 group-hover:scale-105 transition-transform",children:c.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"text-center sm:text-right flex-1",children:[c.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white mb-3",children:".   "}),c.jsx("p",{className:"text-emerald-600 dark:text-emerald-400 font-bold text-xl mb-4",children:"  "}),c.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-600 dark:text-gray-300 font-medium bg-white dark:bg-gray-700 px-4 py-2 rounded-full inline-flex shadow-sm border border-gray-100 dark:border-gray-600",children:[c.jsx(Km,{className:"w-5 h-5 text-emerald-500"}),"   - "]})]})]}),c.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200 dark:border-gray-700",children:[c.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-4 text-center sm:text-right",children:" "}),c.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[c.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx($m,{className:"w-7 h-7"})}),c.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(Bm,{className:"w-7 h-7"})}),c.jsx("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(qm,{className:"w-7 h-7"})})]})]})]}),c.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-8 rounded-3xl border border-slate-100 dark:border-gray-700 hover:border-emerald-200 dark:hover:border-emerald-600 transition-all group flex flex-col h-full shadow-lg hover:shadow-xl",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[c.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-xl overflow-hidden shrink-0 border-4 border-white dark:border-gray-700 group-hover:scale-105 transition-transform",children:c.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:".   ",className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"text-center sm:text-right flex-1",children:[c.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white mb-3",children:".   "}),c.jsx("p",{className:"text-blue-700 dark:text-blue-400 font-bold text-xl mb-4",children:"  "}),c.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-500 dark:text-gray-300 font-medium bg-white dark:bg-gray-700 px-4 py-2 rounded-full inline-flex shadow-sm border border-gray-100 dark:border-gray-600",children:[c.jsx(Km,{className:"w-5 h-5 text-blue-500"}),"   - "]})]})]}),c.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200 dark:border-gray-700",children:[c.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-4 text-center sm:text-right",children:" "}),c.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[c.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx($m,{className:"w-7 h-7"})}),c.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(Bm,{className:"w-7 h-7"})}),c.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(qm,{className:"w-7 h-7"})})]})]})]})]}),c.jsx("div",{className:"text-center mb-12",children:c.jsxs("button",{onClick:()=>a("TEACHER_CV"),className:"inline-flex items-center gap-3 bg-emerald-600 text-white text-xl font-bold px-10 py-5 rounded-full shadow-lg hover:bg-emerald-700 hover:shadow-emerald-200 dark:hover:shadow-emerald-900/50 transition-all transform hover:-translate-y-1",children:[c.jsx(bc,{className:"w-6 h-6"}),"  ",c.jsx(xd,{className:"w-6 h-6"})]})}),c.jsxs("div",{className:"mb-0 pt-10 border-t border-gray-100 dark:border-gray-700",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"       "})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((g,p)=>{const b=nv[g];return c.jsx("div",{className:`transform transition-all duration-500 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:c.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 relative h-full flex flex-col hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 bg-white dark:bg-gray-800 border-b border-r border-gray-100 dark:border-gray-700 transform rotate-45"}),c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center text-emerald-700 dark:text-emerald-300 font-bold text-lg",children:b.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:b.name}),c.jsx("span",{className:"text-xs text-gray-400 font-medium",children:b.time})]})]}),c.jsx("div",{className:`w-8 h-8 rounded-full ${f(b.platform)} flex items-center justify-center shadow-sm`,children:u(b.platform)})]}),c.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-base leading-relaxed font-medium",children:['"',b.text,'"']})]})},`${b.id}-${p}`)})})]}),c.jsxs("div",{className:"mb-0 pt-20 mt-12 border-t border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:" "}),c.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),c.jsx("p",{className:"mt-6 text-lg text-gray-600 dark:text-gray-300",children:"     "})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative",children:[c.jsx("div",{className:"hidden lg:block absolute top-12 left-0 w-full h-0.5 bg-gray-200 dark:bg-gray-700 -z-10 transform -translate-y-1/2"}),BC.map((g,p)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 text-center relative group hover:-translate-y-2 transition-transform duration-300",children:[c.jsx("div",{className:"absolute -top-4 right-6 w-8 h-8 bg-gray-900 dark:bg-black text-white rounded-full flex items-center justify-center font-bold text-sm shadow-md z-10 border-2 border-white dark:border-gray-700",children:p+1}),c.jsx("div",{className:"w-24 h-24 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-gray-50 dark:border-gray-600 group-hover:border-emerald-100 dark:group-hover:border-emerald-900 transition-colors relative z-0",children:c.jsx("div",{className:`w-16 h-16 ${g.color} rounded-full flex items-center justify-center`,children:c.jsx(g.icon,{className:"w-8 h-8"})})}),c.jsx("h3",{className:"font-black text-xl mb-3 text-gray-900 dark:text-white",children:g.title}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed font-medium px-2",children:g.desc})]},p))]})]})]})})},HC=({isOpen:a,onClose:e})=>{const[n,s]=te.useState("ROLE_SELECTION"),[l,u]=te.useState(!1),[f,g]=te.useState(null),[p,b]=te.useState(null),{setTeacherSession:_}=Is(),[E,j]=te.useState(""),[P,Q]=te.useState(""),[ne,q]=te.useState(""),[ae,ue]=te.useState(""),[ge,je]=te.useState(""),[De,ee]=te.useState(""),[A,N]=te.useState(""),[k,O]=te.useState(""),[R,M]=te.useState(""),[S,Me]=te.useState("male"),[Je,$]=te.useState("");if(!a)return null;const re=()=>{s("ROLE_SELECTION"),g(null),b(null),j(""),Q(""),q(""),ue(""),je(""),ee(""),N(""),O(""),M(""),Me("male"),$(""),u(!1)},me=()=>{re(),e()},Te=ye=>{ye.preventDefault(),g(null),u(!0),setTimeout(()=>{E==="2001"?(_(".   ","yazan@etqan.edu"),b("   !"),setTimeout(()=>me(),1500)):E==="2003"?(_(".   ","majd@etqan.edu"),b("    !"),setTimeout(()=>me(),1500)):(g("   "),u(!1))},800)},Ge=async ye=>{ye.preventDefault(),g(null),u(!0);try{await BA(ac,P.trim(),ne),b("   !"),setTimeout(()=>me(),1500)}catch(pt){console.error(pt),g("      "),u(!1)}},I=async ye=>{ye.preventDefault(),g(null),u(!0);try{const qt=(await zA(ac,k.trim(),R)).user;await q2(xi(rr,"users",qt.uid),{firstName:ae,lastName:ge,age:De,grade:A,gender:S,avatar:"",profileBackground:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",email:k.trim(),role:"student",totalXP:0,quizzesCompleted:0,createdAt:new Date}),b("   !"),setTimeout(()=>me(),1500)}catch(pt){console.error(pt),pt.code==="auth/email-already-in-use"?g("   "):pt.code==="auth/weak-password"?g("   "):g("    .    ."),u(!1)}},K=async ye=>{ye.preventDefault(),g(null),u(!0);try{await UA(ac,Je.trim()),b("   !")}catch(pt){console.error(pt),pt.code==="auth/user-not-found"?g("    "):pt.code==="auth/invalid-email"?g("    "):pt.code==="auth/too-many-requests"?g("           ."):g("          .")}finally{u(!1)}},se=()=>{switch(n){case"TEACHER_LOGIN":return"    ...";case"STUDENT_LOGIN":return"  ...";case"STUDENT_SIGNUP":return"   ...";case"FORGOT_PASSWORD":return"   ...";default:return" ..."}},F=()=>c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800 dark:text-white",children:"   "}),c.jsxs("button",{onClick:()=>s("STUDENT_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all",children:[c.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900 p-3 rounded-full ml-4 group-hover:bg-emerald-200 dark:group-hover:bg-emerald-800 transition-colors",children:c.jsx(_a,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsxs("div",{className:"text-right flex-1",children:[c.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"    "})]}),c.jsx(Nm,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})]}),c.jsxs("button",{onClick:()=>s("TEACHER_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full ml-4 group-hover:bg-blue-200 dark:group-hover:bg-blue-800 transition-colors",children:c.jsx(Dl,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"text-right flex-1",children:[c.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"   "})]}),c.jsx(Nm,{className:"w-5 h-5 text-gray-300 group-hover:text-blue-500"})]})]}),he=()=>c.jsxs("form",{onSubmit:Te,className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(bl,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:" "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"     "})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),c.jsx("input",{type:"password",value:E,onChange:ye=>j(ye.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900 outline-none transition-all text-center text-lg tracking-widest bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0})]}),c.jsx("button",{type:"submit",className:"mt-4 w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 dark:shadow-none",children:""})]}),be=()=>c.jsxs("form",{onSubmit:Ge,className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:" !   "})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"email",value:P,onChange:ye=>Q(ye.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),c.jsx(dx,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"password",value:ne,onChange:ye=>q(ye.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0}),c.jsx(bl,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]}),c.jsx("div",{className:"text-left",children:c.jsx("button",{type:"button",onClick:()=>s("FORGOT_PASSWORD"),className:"text-xs text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})})]}),c.jsx("button",{type:"submit",disabled:l,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),c.jsx("div",{className:"mt-4 text-center",children:c.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["   "," ",c.jsx("button",{type:"button",onClick:()=>s("STUDENT_SIGNUP"),className:"text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})]})})]}),Ne=()=>c.jsxs("form",{onSubmit:I,className:"flex flex-col gap-3",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"   "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"   "})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),c.jsx("input",{type:"text",value:ae,onChange:ye=>ue(ye.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),c.jsx("input",{type:"text",value:ge,onChange:ye=>je(ye.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),c.jsx("input",{type:"number",value:De,onChange:ye=>ee(ye.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),c.jsxs("div",{className:"flex gap-2 h-[42px]",children:[c.jsx("button",{type:"button",onClick:()=>Me("male"),className:`flex-1 rounded-lg text-sm font-bold transition-all border ${S==="male"?"bg-blue-100 dark:bg-blue-900 border-blue-500 text-blue-700 dark:text-blue-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""}),c.jsx("button",{type:"button",onClick:()=>Me("female"),className:`flex-1 rounded-lg text-sm font-bold transition-all border ${S==="female"?"bg-pink-100 dark:bg-pink-900 border-pink-500 text-pink-700 dark:text-pink-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 block mb-1",children:" :"}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,6,7,8,9,10,11,12].map(ye=>c.jsx("button",{type:"button",onClick:()=>N(ye.toString()),className:`py-2 px-1 rounded-xl text-sm font-bold transition-all border ${A===ye.toString()?"bg-emerald-600 text-white border-emerald-600 shadow-md scale-105":"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-100 dark:border-gray-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 hover:border-emerald-200"}`,children:ye},ye))})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),c.jsx("input",{type:"email",value:k,onChange:ye=>O(ye.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),c.jsx("input",{type:"password",value:R,onChange:ye=>M(ye.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0,minLength:6})]}),c.jsx("button",{type:"submit",disabled:l,className:"mt-2 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),c.jsx("div",{className:"text-center mt-2",children:c.jsx("button",{type:"button",onClick:()=>s("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors",children:"    "})})]}),lt=()=>c.jsxs("form",{onSubmit:K,className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:["     ",c.jsx("strong",{children:""}),"  "]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"email",value:Je,onChange:ye=>$(ye.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),c.jsx(dx,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),c.jsx("button",{type:"submit",disabled:l,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:"  "}),c.jsx("div",{className:"text-center mt-4",children:c.jsxs("button",{type:"button",onClick:()=>s("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors flex items-center justify-center gap-1 mx-auto",children:[c.jsx(xd,{className:"w-4 h-4"}),"  "]})})]});return c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:me}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-md relative shadow-2xl overflow-hidden animate-fade-in-up p-6 min-h-[400px] flex flex-col border border-gray-100 dark:border-gray-800",children:[l&&!p&&c.jsxs("div",{className:"absolute inset-0 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm z-50 flex flex-col items-center justify-center animate-fade-in rounded-3xl",children:[c.jsxs("div",{className:"relative mb-6",children:[c.jsx("div",{className:"absolute inset-0 bg-emerald-200 dark:bg-emerald-900 rounded-full animate-ping opacity-30 duration-1000"}),c.jsx("div",{className:"relative w-20 h-20 bg-emerald-50 dark:bg-emerald-900/50 rounded-full flex items-center justify-center border border-emerald-100 dark:border-emerald-800 shadow-inner",children:c.jsx(Vn,{className:"w-10 h-10 text-emerald-600 dark:text-emerald-400 animate-spin"})})]}),c.jsx("h4",{className:"text-lg font-black text-gray-800 dark:text-white mb-2 tracking-tight animate-pulse",children:se()}),c.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"   "})]}),c.jsx("button",{onClick:me,disabled:l,className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 disabled:opacity-50",children:c.jsx(Nl,{className:"w-5 h-5"})}),n!=="ROLE_SELECTION"&&!p&&n!=="FORGOT_PASSWORD"&&c.jsxs("button",{onClick:()=>s("ROLE_SELECTION"),disabled:l,className:"absolute top-4 right-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 flex items-center gap-1 disabled:opacity-50",children:[c.jsx(Nm,{className:"w-5 h-5"}),c.jsx("span",{className:"text-xs font-bold",children:""})]}),c.jsx("div",{className:"mt-6 flex-1 flex flex-col justify-center",children:p?c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center gap-4 animate-fade-in",children:[c.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-2 animate-[bounce_1s_infinite]",children:c.jsx(lv,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white leading-relaxed px-4 whitespace-pre-line",children:p}),n==="FORGOT_PASSWORD"&&c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-900 rounded-xl p-4 mx-4 text-sm text-yellow-800 dark:text-yellow-200 text-right shadow-sm mt-4",children:[c.jsxs("p",{className:"font-bold flex items-center gap-2 mb-2 text-yellow-900 dark:text-yellow-100",children:[c.jsx(Gm,{className:"w-5 h-5"}),"  :"]}),c.jsxs("p",{className:"leading-relaxed",children:["         ",c.jsx("strong",{children:"    (Spam)"}),"  (Junk)."]})]}),c.jsx("button",{onClick:()=>{n==="FORGOT_PASSWORD"?(s("STUDENT_LOGIN"),b(null)):me()},className:"mt-8 bg-emerald-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none transform hover:scale-105 duration-200",children:n==="FORGOT_PASSWORD"?"  ":""})]}):c.jsxs(c.Fragment,{children:[n==="ROLE_SELECTION"&&F(),n==="TEACHER_LOGIN"&&he(),n==="STUDENT_LOGIN"&&be(),n==="STUDENT_SIGNUP"&&Ne(),n==="FORGOT_PASSWORD"&&lt(),f&&c.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 rounded-lg flex items-start gap-2 text-red-600 dark:text-red-400 text-sm animate-fade-in",children:[c.jsx(Gm,{className:"w-5 h-5 shrink-0 mt-0.5"}),c.jsx("span",{className:"font-medium",children:f})]})]})})]})]})},FC=()=>{const{user:a}=Is(),[e,n]=te.useState(!1),[s,l]=te.useState("MCQ"),[u,f]=te.useState({title:"",subject:"English",grade:"",category:"Language",description:""}),[g,p]=te.useState([]),[b,_]=te.useState({question:"",options:["","","",""],correctAnswer:0,explanation:""}),E=(q,ae)=>{_(ue=>({...ue,[q]:ae}))},j=(q,ae)=>{const ue=[...b.options];ue[q]=ae,_(ge=>({...ge,options:ue}))},P=()=>{if(!b.question.trim()){alert("   ");return}if(s==="MCQ"&&b.options.some(ue=>!ue.trim())){alert("   ");return}const q=s==="TF"?["",""]:b.options,ae={id:Date.now(),question:b.question,options:q,correctAnswer:b.correctAnswer,explanation:b.explanation};p([...g,ae]),_({question:"",options:["","","",""],correctAnswer:0,explanation:""})},Q=q=>{p(g.filter(ae=>ae.id!==q))},ne=async()=>{if(!u.title||!u.grade){alert("     ");return}if(g.length===0){alert("     ");return}n(!0);try{const q={title:u.title,subject:u.subject,grade:u.grade,category:u.category,questions:g,createdBy:(a==null?void 0:a.uid)||"teacher",teacherName:(a==null?void 0:a.displayName)||"",createdAt:E0()};await F2(Il(rr,"quizzes"),q),alert("    !"),f({title:"",subject:"English",grade:"",category:"Language",description:""}),p([])}catch(q){console.error("Error saving quiz:",q),alert("   ")}finally{n(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 font-sans animate-fade-in transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 pt-10 pb-24 px-4 border-b border-gray-200 dark:border-gray-700 shadow-sm relative overflow-hidden",children:c.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[c.jsx("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/30 rounded-3xl shadow-inner border border-emerald-100 dark:border-emerald-800",children:c.jsx(eN,{className:"w-10 h-10 text-emerald-600 dark:text-emerald-400"})}),c.jsxs("div",{className:"text-center md:text-right",children:[c.jsx("h1",{className:"text-3xl md:text-5xl font-black tracking-tight text-gray-900 dark:text-white mb-2",children:"  "}),c.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 font-bold text-lg",children:["  ",a==null?void 0:a.displayName]})]})]})})}),c.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-16 relative z-20",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6 md:p-8",children:[c.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-8 flex items-center gap-3 border-b border-gray-100 dark:border-gray-700 pb-4",children:[c.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-lg",children:c.jsx(mi,{className:"w-5 h-5 text-emerald-700 dark:text-emerald-400"})}),"  "]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),c.jsx("input",{type:"text",value:u.title,onChange:q=>f({...u,title:q.target.value}),placeholder:":    - ",className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 dark:focus:ring-emerald-900/30 transition-all outline-none font-bold text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx(wN,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),c.jsxs("select",{value:u.subject,onChange:q=>f({...u,subject:q.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 dark:focus:ring-emerald-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[c.jsx("option",{value:"English",children:"English"}),c.jsx("option",{value:"Science",children:""}),c.jsx("option",{value:"Math",children:""})]})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"    "}),c.jsxs("div",{className:"relative",children:[c.jsx(Dl,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),c.jsxs("select",{value:u.grade,onChange:q=>f({...u,grade:q.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 dark:focus:ring-emerald-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[c.jsx("option",{value:"",className:"text-gray-400",children:" "}),c.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(q=>c.jsxs("option",{value:q.toString(),children:[" ",q]},q))}),c.jsx("optgroup",{label:" ",children:c.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:c.jsx(Xo,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"col-span-2 md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"  /  (Category)"}),c.jsxs("div",{className:"relative",children:[c.jsx(dv,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),c.jsxs("select",{value:u.category,onChange:q=>f({...u,category:q.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 dark:focus:ring-emerald-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[c.jsx("option",{value:"Language",children:"Language ()"}),c.jsx("option",{value:"Reading",children:"Reading ()"}),c.jsx("option",{value:"Writing",children:"Writing ()"}),c.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"}),c.jsx("option",{value:"General",children:"  (General Quiz)"})]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:c.jsx(Xo,{className:"w-5 h-5"})})]})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"  ()"}),c.jsx("textarea",{value:u.description,onChange:q=>f({...u,description:q.target.value}),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 dark:focus:ring-emerald-900/30 outline-none transition-all font-medium text-gray-900 dark:text-white h-24 resize-none placeholder-gray-400 dark:placeholder-gray-500",placeholder:"    ..."})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6 md:p-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 border-b border-gray-100 dark:border-gray-700 pb-4",children:[c.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-3",children:[c.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-lg",children:c.jsx(vd,{className:"w-5 h-5 text-emerald-700 dark:text-emerald-400"})})," "]}),c.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-xl self-start",children:[c.jsx("button",{onClick:()=>l("MCQ"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${s==="MCQ"?"bg-white dark:bg-gray-600 text-emerald-600 dark:text-emerald-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:"  "}),c.jsx("button",{onClick:()=>l("TF"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${s==="TF"?"bg-white dark:bg-gray-600 text-emerald-600 dark:text-emerald-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:"  "})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx(Tl,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4"}),c.jsx("input",{type:"text",value:b.question,onChange:q=>E("question",q.target.value),placeholder:"   ...",className:"w-full px-5 py-4 pr-12 rounded-2xl border-2 border-gray-100 dark:border-gray-600 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 dark:focus:ring-emerald-900/30 outline-none font-bold text-lg text-gray-900 dark:text-white bg-gray-50/50 dark:bg-gray-700/50 placeholder-gray-400 transition-all"})]})]}),s==="MCQ"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.options.map((q,ae)=>c.jsxs("div",{className:`relative group transition-all duration-300 ${b.correctAnswer===ae?"scale-[1.02]":""}`,children:[c.jsxs("label",{className:"flex items-center justify-between mb-2 px-1",children:[c.jsxs("span",{className:`text-xs font-bold ${b.correctAnswer===ae?"text-emerald-600 dark:text-emerald-400":"text-gray-500 dark:text-gray-400"}`,children:[" ",ae+1]}),c.jsx("button",{onClick:()=>E("correctAnswer",ae),className:`text-[10px] px-2 py-1 rounded-md transition-colors font-bold ${b.correctAnswer===ae?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:b.correctAnswer===ae?" ":" "})]}),c.jsx("input",{type:"text",value:q,onChange:ue=>j(ae,ue.target.value),placeholder:`  ${ae+1}`,className:`w-full px-4 py-3 rounded-xl border-2 outline-none transition-all font-medium ${ae===b.correctAnswer?"border-emerald-500 bg-emerald-50/30 dark:bg-emerald-900/20 text-gray-900 dark:text-white shadow-sm ring-2 ring-emerald-100 dark:ring-emerald-900/30":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 focus:border-emerald-400 text-gray-700 dark:text-gray-200"}`})]},ae))}):c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>E("correctAnswer",0),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${b.correctAnswer===0?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 shadow-md":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[b.correctAnswer===0&&c.jsx(gs,{className:"w-6 h-6"})," (True)"]}),c.jsxs("button",{onClick:()=>E("correctAnswer",1),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${b.correctAnswer===1?"border-red-500 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 shadow-md":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[b.correctAnswer===1&&c.jsx(gs,{className:"w-6 h-6"})," (False)"]})]}),c.jsxs("div",{className:"bg-yellow-50/50 dark:bg-yellow-900/10 p-4 rounded-2xl border border-yellow-100 dark:border-yellow-900/30",children:[c.jsxs("label",{className:"block text-sm font-bold text-yellow-800 dark:text-yellow-500 mb-2 flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"  ()"]}),c.jsx("textarea",{value:b.explanation,onChange:q=>E("explanation",q.target.value),placeholder:"        ...",className:"w-full px-4 py-3 rounded-xl border border-yellow-200 dark:border-yellow-800/50 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-100 dark:focus:ring-yellow-900/30 outline-none text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-800 h-20 resize-none placeholder-gray-400 text-sm"})]}),c.jsxs("button",{onClick:P,className:"w-full bg-gray-900 dark:bg-black text-white py-4 rounded-2xl font-bold hover:bg-black dark:hover:bg-gray-900 transition-all shadow-lg shadow-gray-200 dark:shadow-none flex items-center justify-center gap-2 transform hover:-translate-y-1",children:[c.jsx(vd,{className:"w-5 h-5"}),"  "]})]})]})]}),c.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6 sticky top-24",children:[c.jsxs("h3",{className:"text-lg font-black text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[c.jsx(Nd,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})," "]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-5 bg-gray-50 dark:bg-gray-700 rounded-2xl border border-gray-100 dark:border-gray-600 flex flex-col gap-3",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),c.jsx("span",{className:"font-black text-gray-900 dark:text-white bg-white dark:bg-gray-600 px-3 py-0.5 rounded-md shadow-sm",children:g.length})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),c.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold bg-emerald-50 dark:bg-emerald-900/30 px-2 py-0.5 rounded-md",children:u.category})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),c.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold bg-emerald-50 dark:bg-emerald-900/30 px-2 py-0.5 rounded-md",children:""})]})]}),c.jsxs("button",{onClick:ne,disabled:e||g.length===0,className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all flex items-center justify-center gap-2 transform ${e||g.length===0?"bg-gray-300 dark:bg-gray-600 cursor-not-allowed shadow-none":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-200 dark:shadow-none hover:-translate-y-1"}`,children:[e?c.jsx(Vn,{className:"w-5 h-5 animate-spin"}):c.jsx(gs,{className:"w-5 h-5"}),e?" ...":"  "]})]})]}),g.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white px-2",children:["  (",g.length,")"]}),c.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:g.map((q,ae)=>c.jsx("div",{className:"bg-white dark:bg-gray-700 p-4 rounded-2xl border border-gray-200 dark:border-gray-600 shadow-sm hover:border-emerald-300 dark:hover:border-emerald-500 transition-all group relative",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-300 font-bold w-6 h-6 flex items-center justify-center rounded-lg text-xs shrink-0 mt-0.5",children:ae+1}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm line-clamp-2 mb-1",children:q.question}),c.jsx("span",{className:"text-[10px] bg-gray-50 dark:bg-gray-600 text-gray-500 dark:text-gray-300 px-2 py-0.5 rounded-md border border-gray-100 dark:border-gray-500",children:q.options.length===2?" / ":"  "})]}),c.jsx("button",{onClick:()=>Q(q.id),className:"text-gray-300 hover:text-red-500 transition-colors p-1.5 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:c.jsx(Ym,{className:"w-4 h-4"})})]})},q.id))})]})]})]})})]})},Hm=[{minLevel:1,title:" ",color:"bg-gray-100 text-gray-600 border-gray-200",icon:HT},{minLevel:5,title:" ",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:mi},{minLevel:10,title:" ",color:"bg-blue-100 text-blue-700 border-blue-200",icon:sc},{minLevel:15,title:" ",color:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:bc},{minLevel:20,title:" ",color:"bg-purple-100 text-purple-700 border-purple-200",icon:JN},{minLevel:30,title:" ",color:"bg-amber-100 text-amber-700 border-amber-200",icon:_d}],mw=[{url:"https://lh3.googleusercontent.com/d/1seg3JDYcNsDBtTY4gU9N5empajSAT_-E",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1QnacjkYXRr-N4yhmt44LubRxbRnzNgqH",minLevel:1},{url:"https://lh3.googleusercontent.com/d/198SBde0OI07puyVx53mi9MpZ7F-iKltI",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1E--pczIn4ZCSWpWYhKZutLX8lfhtmCrp",minLevel:5},{url:"https://lh3.googleusercontent.com/d/1h5uzg3mZaeaozqEkzwItA14xqDq7kbMb",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1qKn7YfQr7VaDPXB8EjUvlCW-qt3v5E0u",minLevel:15}],gw=[{url:"https://lh3.googleusercontent.com/d/1AqS4xhkK53MwCO-LFRdmtYBQsYSH6vz1",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1h9RlprJi3PeKwNaVulHZMCamtbEp7BcS",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1ufUwP7M3wdxWBW60s2xdpZC6W7jfpXv4",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1WQNhE7g0WBHbBu4e93R8Oy1qFOclP-qs",minLevel:5},{url:"https://lh3.googleusercontent.com/d/1ep_ggXFs0rCkGJ212WkY5DuRbLNkyLyr",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1siamCZMGjbXH6L9bop_dN1UPSSwfyIwc",minLevel:15}],GC=[...mw,...gw],Fm=[{id:"nature_1",url:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",name:" ",minLevel:1},{id:"nature_2",url:"https://lh3.googleusercontent.com/d/1tBjHedpcXQiEjXro--zG3iWDokgrDbgZ",name:" ",minLevel:5},{id:"nature_3",url:"https://lh3.googleusercontent.com/d/1Chp7z63_XfLlt4ZC0MRmKwNsSTlCWwOa",name:" ",minLevel:10},{id:"nature_4",url:"https://lh3.googleusercontent.com/d/12RHK_FCMJt8D24AB3UV7nHxbD50EF4MX",name:" ",minLevel:15},{id:"nature_5",url:"https://lh3.googleusercontent.com/d/1We4c8009ObQB9ZDrpQ8ssUuos4V_4b9w",name:" ",minLevel:20}],QC=({data:a})=>{if(!a||a.length===0)return c.jsx("div",{className:"h-40 flex items-center justify-center text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-800 rounded-xl border border-dashed border-gray-200 dark:border-gray-700",children:"     "});const e=100,n=300,s=100,l=a.map((f,g)=>{const p=g/(a.length-1||1)*n,b=e-f/s*e;return`${p},${b}`}).join(" "),u=`${l} ${n},${e} 0,${e}`;return c.jsxs("div",{className:"w-full h-48 bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-100 dark:border-gray-700 relative overflow-hidden",children:[c.jsxs("svg",{viewBox:`0 0 ${n} ${e}`,className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:[c.jsx("line",{x1:"0",y1:"0",x2:n,y2:"0",stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),c.jsx("line",{x1:"0",y1:e/2,x2:n,y2:e/2,stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),c.jsx("line",{x1:"0",y1:e,x2:n,y2:e,stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"chartGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:"rgba(16, 185, 129, 0.2)"}),c.jsx("stop",{offset:"100%",stopColor:"rgba(16, 185, 129, 0)"})]})}),c.jsx("path",{d:`M0,${e} ${u}`,fill:"url(#chartGradient)"}),c.jsx("polyline",{points:l,fill:"none",stroke:"#10b981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.map((f,g)=>{const p=g/(a.length-1||1)*n,b=e-f/s*e;return c.jsx("circle",{cx:p,cy:b,r:"3.5",fill:"white",stroke:"#10b981",strokeWidth:"2",className:"dark:fill-gray-800"},g)})]}),c.jsx("div",{className:"absolute top-2 right-2 text-[10px] font-bold text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded-full",children:" "})]})},$C=a=>{if(!a)return"";const e=a.toDate?a.toDate():new Date(a.seconds*1e3),n=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getFullYear();let u=e.getHours();const f=e.getMinutes().toString().padStart(2,"0"),g=u>=12?"":"";return u=u%12,u=u||12,`${n}/${s}/${l} ${u}:${f} ${g}`},KC=()=>{const{user:a,updateUserProfile:e}=Is(),[n,s]=te.useState(!1),[l,u]=te.useState(null),f=GC,[g,p]=te.useState(!1),[b,_]=te.useState(!1),[E,j]=te.useState(!1),[P,Q]=te.useState("male"),[ne,q]=te.useState((a==null?void 0:a.avatar)||""),[ae,ue]=te.useState((a==null?void 0:a.profileBackground)||Fm[0].url),[ge,je]=te.useState([]),[De,ee]=te.useState(!0),[A,N]=te.useState(0),[k,O]=te.useState(1),[R,M]=te.useState(Hm[0]),[S,Me]=te.useState({firstName:(a==null?void 0:a.firstName)||"",lastName:(a==null?void 0:a.lastName)||"",age:(a==null?void 0:a.age)||"",grade:(a==null?void 0:a.grade)||"",phone:(a==null?void 0:a.phone)||"",address:(a==null?void 0:a.address)||"",school:(a==null?void 0:a.school)||""});te.useEffect(()=>{a&&(Me(F=>({...F,firstName:a.firstName||F.firstName,lastName:a.lastName||F.lastName})),a.avatar&&q(a.avatar),a.profileBackground&&ue(a.profileBackground))},[a]),te.useEffect(()=>{(async()=>{if(a)try{const he=yh(Il(rr,"quiz_results"),xg("userId","==",a.uid)),be=await Eg(he),Ne=[];let lt=0;be.forEach(qt=>{const rn=qt.data();Ne.push({id:qt.id,...rn});let dn=10+rn.percentage*2;rn.passed&&(dn+=50),rn.percentage===100&&(dn+=100),lt+=Math.round(dn)}),Ne.sort((qt,rn)=>{var _r,hn;const dn=((_r=qt.createdAt)==null?void 0:_r.seconds)||0,pn=((hn=rn.createdAt)==null?void 0:hn.seconds)||0;return dn-pn}),je(Ne),N(lt);const ye=Math.floor(lt/500)+1;O(ye);const pt=[...Hm].reverse().find(qt=>ye>=qt.minLevel)||Hm[0];M(pt)}catch(he){console.error("Error fetching progress:",he)}finally{ee(!1)}})()},[a]);const Je=async F=>{F.preventDefault(),s(!0),u(null);try{await e({...S}),u("   !"),setTimeout(()=>u(null),3e3)}catch(he){console.error(he),alert("   ")}finally{s(!1)}},$=async()=>{s(!0);try{await e({avatar:ne}),p(!1)}catch(F){console.error(F)}finally{s(!1)}},re=async()=>{s(!0);try{await e({profileBackground:ae}),_(!1)}catch(F){console.error(F)}finally{s(!1)}},me=async()=>{s(!0);try{const F=P==="male"?mw[0].url:gw[0].url;await e({gender:P,genderChanged:!0,avatar:F}),j(!1),u("     "),setTimeout(()=>u(null),3e3)}catch(F){console.error(F),alert("   ")}finally{s(!1)}},Te=ge.slice(-10).map(F=>F.percentage),Ge=(k-1)*500,I=Math.min(100,Math.max(0,(A-Ge)/500*100)),K=F=>F?F.startsWith("http")?{backgroundImage:`url(${F})`,backgroundSize:"cover",backgroundPosition:"center"}:{}:{backgroundImage:`url(${Fm[0].url})`,backgroundSize:"cover",backgroundPosition:"center"},se=F=>!F||F.startsWith("http")?"bg-no-repeat bg-center":F;return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up",children:[E&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-sm shadow-2xl border border-gray-200 dark:border-gray-700 p-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(_a,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:" "}),c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-xl border border-yellow-200 dark:border-yellow-800 text-sm text-yellow-800 dark:text-yellow-200 flex items-start gap-2 text-right",children:[c.jsx(hv,{className:"w-5 h-5 shrink-0"}),c.jsx("p",{children:":          ."})]})]}),c.jsxs("div",{className:"flex gap-3 mb-6",children:[c.jsx("button",{onClick:()=>Q("male"),className:`flex-1 py-3 rounded-xl font-bold border-2 transition-all ${P==="male"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""}),c.jsx("button",{onClick:()=>Q("female"),className:`flex-1 py-3 rounded-xl font-bold border-2 transition-all ${P==="female"?"border-pink-500 bg-pink-50 dark:bg-pink-900/20 text-pink-600 dark:text-pink-400":"border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-3 rounded-xl font-bold bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""}),c.jsx("button",{onClick:me,disabled:n,className:"flex-1 py-3 rounded-xl font-bold bg-emerald-600 text-white hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2",children:n?c.jsx(Vn,{className:"w-4 h-4 animate-spin"}):" "})]})]})}),g&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-sm max-h-[85vh] flex flex-col shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden relative",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center shrink-0",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(_a,{className:"w-5 h-5 text-purple-500"})," "]}),c.jsx("button",{onClick:()=>p(!1),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:c.jsx(Nl,{className:"w-5 h-5 text-gray-500"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:c.jsx("div",{className:"grid grid-cols-3 gap-3",children:f.map((F,he)=>{const be=k<F.minLevel;return c.jsxs("button",{onClick:()=>!be&&q(F.url),disabled:be,className:`relative aspect-square rounded-xl overflow-hidden border-2 transition-all bg-gray-50 dark:bg-gray-800 ${ne===F.url?"border-emerald-500 shadow-md ring-2 ring-emerald-100 dark:ring-emerald-900/30":"border-transparent hover:border-gray-300 dark:hover:border-gray-600"} ${be?"opacity-60 grayscale":"hover:scale-105 active:scale-95"}`,children:[c.jsx("img",{src:F.url,alt:`Avatar ${he}`,className:"w-full h-full object-cover"}),be&&c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 text-white backdrop-blur-[1px]",children:[c.jsx(bl,{className:"w-4 h-4 mb-0.5"}),c.jsxs("span",{className:"text-[10px] font-bold",children:[" ",F.minLevel]})]}),!be&&ne===F.url&&c.jsx("div",{className:"absolute top-1 right-1 bg-emerald-500 text-white rounded-full p-0.5 shadow-sm",children:c.jsx(gs,{className:"w-3 h-3"})})]},he)})})}),c.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800 shrink-0",children:c.jsxs("button",{onClick:$,disabled:n,className:"w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:[n?c.jsx(Vn,{className:"w-5 h-5 animate-spin"}):c.jsx(Nd,{className:"w-5 h-5"})," "]})})]})}),b&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-2xl max-h-[85vh] flex flex-col shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden relative",children:[c.jsxs("div",{className:"p-5 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center shrink-0",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(fx,{className:"w-6 h-6 text-emerald-500"})," "]}),c.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:c.jsx(Nl,{className:"w-6 h-6 text-gray-500"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Fm.map((F,he)=>{const be=k<F.minLevel,Ne=ae===F.url;return c.jsxs("button",{onClick:()=>!be&&ue(F.url),disabled:be,className:`relative h-28 rounded-2xl overflow-hidden border-4 transition-all duration-300 group ${Ne?"border-emerald-500 scale-[1.02] shadow-md":"border-transparent"} ${be?"opacity-60 cursor-not-allowed grayscale":"hover:scale-[1.02] cursor-pointer"}`,children:[c.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${F.url})`}}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:be?c.jsxs("div",{className:"bg-black/60 px-3 py-1.5 rounded-lg backdrop-blur-sm flex items-center gap-1.5",children:[c.jsx(bl,{className:"w-4 h-4 text-white"}),c.jsxs("span",{className:"text-xs text-white font-bold",children:[" ",F.minLevel]})]}):Ne&&c.jsx(gs,{className:"w-8 h-8 text-white drop-shadow-md"})}),c.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-black/80 to-transparent p-2 text-center",children:c.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:F.name})})]},he)})})}),c.jsxs("div",{className:"p-5 border-t border-gray-100 dark:border-gray-800 shrink-0 flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>_(!1),className:"px-6 py-2.5 rounded-xl font-bold text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:""}),c.jsx("button",{onClick:re,disabled:n,className:"bg-emerald-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center gap-2",children:n?c.jsx(Vn,{className:"w-5 h-5 animate-spin"}):" "})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[c.jsx("div",{className:"lg:col-span-7 lg:order-1 space-y-8",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[3rem] shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700 relative group",children:[c.jsxs("div",{className:`relative w-full h-48 md:h-64 transition-all duration-500 ${se(a==null?void 0:a.profileBackground)}`,style:K(a==null?void 0:a.profileBackground),children:[c.jsxs("button",{onClick:()=>_(!0),className:"absolute top-4 left-4 bg-black/30 hover:bg-black/50 text-white backdrop-blur-md px-4 py-2 rounded-full text-xs md:text-sm font-bold flex items-center gap-2 transition-all border border-white/20 z-20",children:[c.jsx(fx,{className:"w-4 h-4"})," "]}),c.jsxs("div",{className:`absolute top-4 right-4 px-4 py-1.5 rounded-full text-xs font-black flex items-center gap-2 backdrop-blur-md shadow-lg border-2 z-10 ${R.color}`,children:[c.jsx(R.icon,{className:"w-4 h-4"}),R.title]}),c.jsx("div",{className:"absolute -bottom-12 md:-bottom-16 right-8 md:right-12 z-20",children:c.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>p(!0),children:[c.jsx("div",{className:"w-28 h-28 md:w-36 md:h-36 rounded-full border-[6px] border-white dark:border-gray-800 shadow-2xl overflow-hidden bg-white dark:bg-gray-700 relative z-10 transition-transform transform group-hover:scale-105 flex items-center justify-center",children:a!=null&&a.avatar?c.jsx("img",{src:a.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):c.jsx(_a,{className:"w-16 h-16 text-gray-300 dark:text-gray-500"})}),c.jsx("div",{className:"absolute bottom-1 right-1 bg-emerald-500 text-white p-2 rounded-full border-4 border-white dark:border-gray-800 shadow-sm z-20 hover:bg-emerald-600 transition-colors",children:c.jsx(vN,{className:"w-4 h-4"})})]})})]}),c.jsxs("div",{className:"pt-16 md:pt-20 px-8 pb-8",children:[c.jsxs("div",{className:"flex flex-col items-start",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-1",children:a==null?void 0:a.displayName}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 text-sm font-medium mb-6",children:[c.jsx("span",{children:a==null?void 0:a.email}),c.jsx("span",{className:"text-gray-300",children:""}),c.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold flex items-center gap-1",children:[c.jsx(fv,{className:"w-3 h-3"})," ",k]})]})]}),c.jsxs("form",{onSubmit:Je,className:"space-y-6 border-t border-gray-100 dark:border-gray-700 pt-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2 mb-4",children:[c.jsx(_a,{className:"w-5 h-5 text-blue-500"})," "]})}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),c.jsx("input",{type:"text",value:S.firstName,onChange:F=>Me({...S,firstName:F.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),c.jsx("input",{type:"text",value:S.lastName,onChange:F=>Me({...S,lastName:F.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),c.jsxs("div",{className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent font-bold text-gray-900 dark:text-white flex justify-between items-center",children:[c.jsx("span",{children:(a==null?void 0:a.gender)==="male"?"":""}),!(a!=null&&a.genderChanged)&&c.jsx("button",{type:"button",onClick:()=>j(!0),className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-lg hover:bg-blue-200 transition-colors font-bold",children:""}),(a==null?void 0:a.genderChanged)&&c.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-lg border border-gray-200 dark:border-gray-600",children:[c.jsx(bl,{className:"w-3 h-3"}),""]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),c.jsx("input",{type:"text",value:S.phone,onChange:F=>Me({...S,phone:F.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),c.jsx("input",{type:"text",value:S.address,onChange:F=>Me({...S,address:F.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsx("div",{className:"md:col-span-2 mt-2",children:c.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2 mb-4",children:[c.jsx(Dl,{className:"w-5 h-5 text-emerald-500"})," "]})}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),c.jsx("input",{type:"text",value:S.school,onChange:F=>Me({...S,school:F.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-emerald-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),c.jsxs("select",{value:S.grade,onChange:F=>Me({...S,grade:F.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-emerald-500 outline-none font-bold text-gray-900 dark:text-white appearance-none cursor-pointer transition-all",children:[c.jsx("option",{value:"",children:" "}),[5,6,7,8,9,10,11,12].map(F=>c.jsxs("option",{value:F,children:[" ",F]},F)),c.jsx("option",{value:"English Major - QOU",children:"  "})]}),c.jsx("div",{className:"absolute left-4 bottom-4 pointer-events-none text-gray-500",children:c.jsx(YC,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex items-center justify-end pt-4 gap-4",children:[l&&c.jsxs("span",{className:"text-green-600 font-bold text-sm animate-fade-in flex items-center gap-1",children:[c.jsx(gs,{className:"w-4 h-4"})," ",l]}),c.jsxs("button",{type:"submit",disabled:n,className:"bg-gray-900 dark:bg-white text-white dark:text-black px-8 py-3 rounded-xl font-bold hover:opacity-90 transition-opacity flex items-center gap-2",children:[n?c.jsx(Vn,{className:"w-5 h-5 animate-spin"}):c.jsx(Nd,{className:"w-5 h-5"})," "]})]})]})]})]})}),c.jsxs("div",{className:"lg:col-span-5 lg:order-2 space-y-6 mt-8 lg:mt-0",children:[c.jsxs("div",{className:"bg-gradient-to-br from-indigo-700 via-purple-700 to-fuchsia-700 rounded-[2.5rem] shadow-2xl p-6 text-white relative overflow-hidden border-4 border-white dark:border-gray-800 ring-4 ring-indigo-50 dark:ring-gray-900",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-500 opacity-20 rounded-full translate-y-1/2 -translate-x-1/2 blur-3xl"}),c.jsx("div",{className:"flex items-center justify-between mb-6 relative z-10",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-md opacity-50 rounded-full"}),c.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-300 to-orange-500 rounded-2xl shadow-lg relative border border-white/30",children:c.jsx(R.icon,{className:"w-8 h-8 text-white"})})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-3xl font-black tracking-tight",children:[" ",k]}),c.jsxs("p",{className:"text-indigo-100 text-sm font-medium flex items-center gap-1.5 mt-0.5 bg-black/20 px-3 py-1 rounded-full w-fit",children:[c.jsx(k0,{className:"w-3.5 h-3.5 text-orange-400 fill-orange-400"}),A,"   (XP)"]})]})]})}),c.jsxs("div",{className:"relative mb-8",children:[c.jsxs("div",{className:"flex justify-between text-xs font-bold text-indigo-200 mb-1 px-1",children:[c.jsx("span",{children:R.title}),c.jsxs("span",{children:["  ",k+1]})]}),c.jsx("div",{className:"w-full bg-black/30 h-3.5 rounded-full relative overflow-hidden backdrop-blur-sm border border-white/10",children:c.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 h-full rounded-full transition-all duration-1000 ease-out relative shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${I}%`},children:c.jsx("div",{className:"absolute inset-0 bg-white/30 w-full h-full animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite]"})})})]}),c.jsxs("div",{className:"bg-black/20 rounded-2xl p-5 backdrop-blur-md border border-white/10",children:[c.jsxs("h4",{className:"text-sm font-bold text-indigo-100 mb-2 flex items-center gap-2",children:[c.jsx(_d,{className:"w-4 h-4 text-yellow-300"})," "]}),c.jsx("div",{className:"text-xl font-black text-white tracking-wide mb-1",children:R.title}),c.jsx("div",{className:"text-xs text-indigo-200",children:"     !"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 max-h-[500px] overflow-hidden flex flex-col",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2 sticky top-0 bg-white dark:bg-gray-800 z-10 pb-2 border-b border-gray-100 dark:border-gray-700",children:[c.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:c.jsx(ox,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),"  "]}),De?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx(Vn,{className:"w-6 h-6 animate-spin text-blue-500"})}):ge.length===0?c.jsxs("div",{className:"text-center py-12 text-gray-400 flex flex-col items-center gap-3",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center",children:c.jsx(ox,{className:"w-8 h-8 opacity-50"})}),c.jsx("p",{className:"font-medium",children:"     "})]}):c.jsx("div",{className:"space-y-3 overflow-y-auto pr-2 custom-scrollbar",children:[...ge].reverse().map(F=>c.jsxs("div",{className:"p-4 rounded-2xl border border-gray-100 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-800 hover:bg-blue-50/50 dark:hover:bg-blue-900/20 transition-all group relative overflow-hidden",children:[c.jsx("div",{className:`absolute right-0 top-0 bottom-0 w-1.5 ${F.passed?"bg-emerald-500":"bg-red-500"}`}),c.jsxs("div",{className:"flex justify-between items-start mb-3 pr-3",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-sm md:text-base line-clamp-1 mb-1",children:F.quizTitle}),c.jsxs("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 flex items-center gap-1.5 bg-gray-100 dark:bg-gray-700 w-fit px-2 py-1 rounded-md",children:[c.jsx(iv,{className:"w-3.5 h-3.5 text-gray-400 dark:text-gray-500"}),$C(F.createdAt)]})]}),c.jsx("div",{className:"flex flex-col items-end gap-1",children:F.passed?c.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-100 dark:bg-emerald-900/30 px-2 py-0.5 rounded-full",children:[c.jsx(gs,{className:"w-3 h-3"})," "]}):c.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30 px-2 py-0.5 rounded-full",children:[c.jsx(ov,{className:"w-3 h-3"})," "]})})]}),c.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 dark:text-gray-400 border-t border-dashed border-gray-200 dark:border-gray-600 pt-2 pr-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300 font-medium",children:F.subject}),c.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold bg-emerald-50 dark:bg-emerald-900/20 px-2 py-0.5 rounded-md flex items-center gap-1",children:[c.jsx(gx,{className:"w-3 h-3"}),F.passed?"+50 XP":"+10 XP"]})]}),c.jsxs("span",{className:`font-black text-lg ${F.percentage>=50?"text-emerald-600 dark:text-emerald-400":"text-red-500 dark:text-red-400"}`,children:[F.percentage,"%"]})]})]},F.id))})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:c.jsx(gx,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"  "]}),De?c.jsx("div",{className:"h-48 flex items-center justify-center",children:c.jsx(Vn,{className:"w-6 h-6 animate-spin text-emerald-500"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsx(QC,{data:Te}),c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-700",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-300 text-sm font-bold",children:" "}),c.jsxs("span",{className:`font-black text-xl ${Te.length>0&&Te.reduce((F,he)=>F+he,0)/Te.length>=90?"text-emerald-600 dark:text-emerald-400":"text-blue-600 dark:text-blue-400"}`,children:[Te.length>0?Math.round(Te.reduce((F,he)=>F+he,0)/Te.length):0,"%"]})]})]})]})]})]})]})};function YC(a){return c.jsx("svg",{...a,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"m6 9 6 6 6-6"})})}const XC=[{id:"All",label:" (All)"},{id:"Language",label:"Language ()"},{id:"Reading",label:"Reading ()"},{id:"Writing",label:"Writing ()"},{id:"Vocabulary",label:"Vocabulary ()"},{id:"General",label:"  (General Quiz)"}],WC=({onBack:a})=>{const{user:e}=Is(),[n,s]=te.useState("SELECTION"),[l,u]=te.useState(""),[f,g]=te.useState(""),[p,b]=te.useState("All"),[_,E]=te.useState([]),[j,P]=te.useState(!1),[Q,ne]=te.useState(null),[q,ae]=te.useState(0),[ue,ge]=te.useState({}),[je,De]=te.useState(1800),[ee,A]=te.useState(!1),[N,k]=te.useState(0),[O,R]=te.useState(!1),[M,S]=te.useState(null),[Me,Je]=te.useState(!1),[$,re]=te.useState(!1),[me,Te]=te.useState(0),[Ge,I]=te.useState(!1),[K,se]=te.useState(null);te.useEffect(()=>{window.scrollTo(0,0)},[n]),te.useEffect(()=>{f?F():E([])},[f]),te.useEffect(()=>{let oe;return n==="ACTIVE"&&je>0&&(oe=setInterval(()=>{De(Oe=>Oe<=1?(qt(),0):Oe-1)},1e3)),()=>clearInterval(oe)},[n,je]),te.useEffect(()=>{if(n!=="ACTIVE")return;const oe=()=>{Te(ct=>{const an=ct+1;return an===1?re(!0):an>=2&&(re(!1),s("SELECTION"),alert("           .")),an})},Oe=()=>{document.hidden&&oe()},Ve=ct=>{(ct.key==="PrintScreen"||ct.ctrlKey&&ct.key==="p"||ct.metaKey&&ct.shiftKey)&&(ct.preventDefault(),oe())},Le=ct=>ct.preventDefault();return document.addEventListener("visibilitychange",Oe),document.addEventListener("keydown",Ve),document.addEventListener("contextmenu",Le),document.addEventListener("copy",Le),document.addEventListener("paste",Le),document.addEventListener("cut",Le),document.addEventListener("selectstart",Le),()=>{document.removeEventListener("visibilitychange",Oe),document.removeEventListener("keydown",Ve),document.removeEventListener("contextmenu",Le),document.removeEventListener("copy",Le),document.removeEventListener("paste",Le),document.removeEventListener("cut",Le),document.removeEventListener("selectstart",Le)}},[n]);const F=async()=>{P(!0);try{const oe=yh(Il(rr,"quizzes"),xg("grade","==",f)),Oe=await Eg(oe),Ve=[];Oe.forEach(Le=>{Ve.push({id:Le.id,...Le.data()})}),E(Ve)}catch(oe){console.error("Error fetching quizzes:",oe)}finally{P(!1)}},he=Array.from(new Set(_.map(oe=>oe.subject))),be=_.filter(oe=>{const Oe=l?oe.subject===l:!0,Ve=p&&p!=="All"?oe.category===p:!0;return Oe&&Ve}),Ne=oe=>{S(oe),R(!0)},lt=()=>{if(M){if(!M.questions||M.questions.length===0){alert("      ");return}ne(M),ae(0),ge({}),De(1800),k(0),Te(0),R(!1),S(null),s("ACTIVE")}},ye=oe=>{ge(Oe=>({...Oe,[q]:oe}))},pt=()=>{Q&&(q<Q.questions.length-1?ae(oe=>oe+1):qt())},qt=async()=>{if(!Q||!e){s("RESULT");return}A(!0);const oe=dn(),Oe=Math.round(oe/Q.questions.length*100);let Ve=10+Oe*2;Oe>=50&&(Ve+=50),Oe===100&&(Ve+=100);const Le=Math.round(Ve);k(Le);try{await F2(Il(rr,"quiz_results"),{userId:e.uid,userName:e.displayName,quizId:Q.id||"unknown",quizTitle:Q.title,subject:Q.subject,score:oe,totalQuestions:Q.questions.length,percentage:Oe,passed:Oe>=50,earnedXP:Le,createdAt:E0()});const ct=xi(rr,"users",e.uid);await q2(ct,{totalXP:$1(Le),quizzesCompleted:$1(1),lastQuizDate:E0(),role:"student",email:e.email,displayName:e.displayName},{merge:!0})}catch(ct){console.error("Error saving quiz result:",ct)}finally{A(!1),s("RESULT")}},rn=oe=>{const Oe=Math.floor(oe/60),Ve=oe%60;return`${Oe}:${Ve<10?"0":""}${Ve}`},dn=()=>{if(!Q)return 0;let oe=0;return Q.questions.forEach((Oe,Ve)=>{ue[Ve]===Oe.correctAnswer&&oe++}),oe},pn=()=>{Je(!0)},_r=()=>{Je(!1),s("SELECTION")},hn=oe=>{se(oe),I(!0)},Ds=()=>{I(!1),K==="REVIEW"?s("REVIEW"):K==="RETAKE"?(ae(0),ge({}),De(1800),k(0),Te(0),s("ACTIVE")):K==="LIST"?s("SELECTION"):K==="HOME"&&a(),se(null)},Os=()=>c.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 animate-fade-in",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-black text-gray-900 dark:text-white mb-2",children:" "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm md:text-base",children:"       "})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-6",children:[c.jsxs("div",{className:"lg:col-span-7 bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:c.jsx(Dl,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"     "]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:f,onChange:oe=>{g(oe.target.value),u(""),b("All")},className:"w-full appearance-none px-5 py-4 rounded-2xl font-bold text-right bg-gray-50 dark:bg-gray-700 border-2 border-transparent focus:border-emerald-500 dark:focus:border-emerald-500 focus:bg-white dark:focus:bg-gray-800 hover:border-emerald-200 dark:hover:border-emerald-700 outline-none transition-all text-gray-900 dark:text-white cursor-pointer shadow-sm",children:[c.jsx("option",{value:"",className:"text-gray-400",children:"--    --"}),c.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(oe=>c.jsxs("option",{value:oe.toString(),children:[" ",oe]},oe))}),c.jsx("optgroup",{label:" ",children:c.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400 dark:text-gray-500",children:c.jsx(Xo,{className:"w-6 h-6"})})]})]}),c.jsxs("div",{className:"lg:col-span-5 bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:c.jsx(mi,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})," "]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:l,onChange:oe=>u(oe.target.value),disabled:!f,className:`w-full appearance-none px-5 py-4 rounded-2xl font-bold text-right bg-gray-50 dark:bg-gray-700 border-2 border-transparent outline-none transition-all shadow-sm ${f?"cursor-pointer hover:border-emerald-200 dark:hover:border-emerald-700 focus:border-emerald-500 dark:focus:border-emerald-500 focus:bg-white dark:focus:bg-gray-800 text-gray-900 dark:text-white":"opacity-50 cursor-not-allowed border-gray-100 dark:border-gray-600 text-gray-400 dark:text-gray-500"}`,children:[c.jsx("option",{value:"",children:"  "}),he.map((oe,Oe)=>c.jsx("option",{value:oe,children:oe},Oe))]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400 dark:text-gray-500",children:c.jsx(Xo,{className:"w-6 h-6"})})]}),!f&&c.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-500 mt-2 font-medium flex items-center gap-1",children:"*    "})]})]}),f&&c.jsx("div",{className:"mb-10 animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:c.jsx(dv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"  ()"]}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:p,onChange:oe=>b(oe.target.value),className:"w-full appearance-none px-5 py-4 rounded-2xl font-bold text-right bg-gray-50 dark:bg-gray-700 border-2 border-transparent focus:border-emerald-500 dark:focus:border-emerald-500 focus:bg-white dark:focus:bg-gray-800 hover:border-emerald-200 dark:hover:border-emerald-700 outline-none transition-all text-gray-900 dark:text-white cursor-pointer shadow-sm",children:XC.map(oe=>c.jsx("option",{value:oe.id,children:oe.label},oe.id))}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400 dark:text-gray-500",children:c.jsx(Xo,{className:"w-6 h-6"})})]})]})}),f&&c.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 border-r-4 border-emerald-500 pr-3 flex items-center gap-2",children:[c.jsx(cx,{className:"w-5 h-5"})," "]}),j?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx(Vn,{className:"w-8 h-8 animate-spin text-emerald-600 dark:text-emerald-400"})}):_.length===0?c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300 dark:border-gray-600",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(sc,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"      "})]}):be.length===0?c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300 dark:border-gray-600",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(sc,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"     "})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:be.map(oe=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md hover:border-emerald-300 dark:hover:border-emerald-600 transition-all group",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 text-[10px] font-bold px-2 py-1 rounded-md w-fit",children:oe.subject}),oe.category&&c.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-[10px] font-bold px-2 py-1 rounded-md w-fit border border-blue-100 dark:border-blue-800",children:oe.category==="General"?"General Quiz":oe.category})]}),c.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:[oe.questions.length," "]})]}),c.jsx("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2 line-clamp-2",children:oe.title}),c.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400 text-xs mb-5",children:[c.jsx(A0,{className:"w-3 h-3"}),c.jsx("span",{children:oe.grade==="English Major - QOU"?"  ":` ${oe.grade}`})]}),c.jsxs("button",{onClick:()=>Ne(oe),className:"w-full bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800 py-2.5 rounded-xl font-bold text-sm group-hover:bg-emerald-600 group-hover:text-white transition-all flex items-center justify-center gap-2",children:[" ",c.jsx(xd,{className:"w-4 h-4"})]})]},oe.id))})]}),O&&c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>R(!1)}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-gray-100 dark:border-gray-800",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Tl,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:"  "}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:["   ",c.jsx("strong",{children:M==null?void 0:M.title})," "]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:lt,className:"flex-1 bg-emerald-600 text-white py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-colors",children:" "}),c.jsx("button",{onClick:()=>R(!1),className:"flex-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-2.5 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""})]})]})]})]}),bt=()=>{if(!Q||!Q.questions||!Q.questions[q])return c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 gap-4",children:[c.jsx("div",{className:"text-red-500 font-bold text-lg",children:"    "}),c.jsx("button",{onClick:()=>s("SELECTION"),className:"text-blue-600 dark:text-blue-400 underline",children:" "})]});const oe=Q.questions[q],Oe=ue[q]!==void 0,Ve=q===Q.questions.length-1,Le=Q.subject.toLowerCase().includes("english")||Q.subject.includes("")||Q.subject.includes(""),ct=Le?"ltr":"rtl",an=Le?"text-left":"text-right";return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 select-none pb-10",onContextMenu:$t=>$t.preventDefault(),children:[$&&c.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-red-900/80 backdrop-blur-sm"}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-20 animate-bounce text-center border-4 border-red-500 shadow-2xl",children:[c.jsx("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:c.jsx(hv,{className:"w-10 h-10 text-red-600 dark:text-red-400"})}),c.jsx("h3",{className:"text-2xl font-black text-red-600 mb-2",children:" !"}),c.jsxs("p",{className:"text-gray-800 dark:text-gray-200 font-bold mb-4",children:["         .",c.jsx("br",{}),c.jsx("span",{className:"text-red-500 dark:text-red-400 text-sm mt-2 block",children:"       ."})]}),c.jsx("button",{onClick:()=>re(!1),className:"w-full bg-red-600 text-white py-3 rounded-xl font-bold hover:bg-red-700 transition-colors",children:"  "})]})]}),Me&&c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>Je(!1)}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-gray-100 dark:border-gray-800",children:[c.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Ed,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),c.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:" "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:"           ."}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:_r,className:"flex-1 bg-red-600 text-white py-2.5 rounded-xl font-bold hover:bg-red-700 transition-colors",children:" "}),c.jsx("button",{onClick:()=>Je(!1),className:"flex-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-2.5 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50 shadow-sm",children:[c.jsxs("div",{className:"max-w-4xl mx-auto px-3 h-14 flex justify-between items-center",children:[c.jsxs("button",{onClick:pn,className:"flex items-center gap-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1.5 rounded-lg transition-colors font-bold text-sm",children:[c.jsx(Ed,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:""})]}),c.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center",children:c.jsxs("div",{className:`flex items-center gap-2 px-4 py-1 rounded-full font-mono font-bold text-base shadow-inner ${je<300?"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-200 animate-pulse":"bg-gray-100 dark:bg-gray-700 text-emerald-700 dark:text-emerald-400"}`,children:[c.jsx(cv,{className:"w-4 h-4"}),rn(je)]})}),c.jsxs("div",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:[q+1," / ",Q.questions.length]})]}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-1.5",children:c.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-500 ease-out",style:{width:`${(q+1)/Q.questions.length*100}%`}})})]}),c.jsxs("div",{className:"max-w-3xl mx-auto px-3 py-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-fade-in-up",dir:ct,children:[c.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/20 border-b border-emerald-100 dark:border-emerald-800 p-4 flex items-center justify-between",children:[c.jsx("h2",{className:"font-black text-gray-800 dark:text-gray-200 text-base md:text-lg",children:Q.title}),c.jsx("div",{className:"bg-white dark:bg-gray-700 p-1.5 rounded-lg shadow-sm border border-gray-100 dark:border-gray-600",children:c.jsx(bl,{className:"w-4 h-4 text-gray-400"})})]}),c.jsxs("div",{className:"p-5 md:p-8",children:[c.jsx("h3",{className:`text-lg md:text-2xl font-bold text-black dark:text-white leading-relaxed mb-8 ${an}`,children:oe.question}),c.jsx("div",{className:"space-y-3",children:oe.options.map(($t,Un)=>c.jsxs("button",{onClick:()=>ye(Un),className:`w-full ${an} p-4 rounded-xl border-2 transition-all flex items-center justify-between group hover:scale-[1.01] active:scale-[0.99] duration-200 ${ue[q]===Un?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/30 shadow-md ring-2 ring-emerald-100 dark:ring-emerald-900":"border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-600 shadow-sm"}`,children:[c.jsx("span",{className:`text-base font-bold ${ue[q]===Un?"text-emerald-900 dark:text-emerald-300":"text-gray-700 dark:text-gray-300"}`,children:$t}),c.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 ml-2 transition-colors ${ue[q]===Un?"border-emerald-600 bg-emerald-600":"border-gray-300 dark:border-gray-600 group-hover:border-emerald-400"}`,children:ue[q]===Un&&c.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]},Un))})]})]}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:pt,disabled:!Oe||ee,className:`w-full sm:w-auto px-8 py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-lg transition-all ${!Oe||ee?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed shadow-none":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-emerald-200 dark:hover:shadow-none active:scale-95"}`,children:ee?c.jsxs(c.Fragment,{children:["  ",c.jsx(Vn,{className:"w-5 h-5 animate-spin"})]}):c.jsxs(c.Fragment,{children:[Ve?" ":" ",ct==="rtl"?c.jsx(xd,{className:"w-5 h-5"}):c.jsx(Qr,{className:"w-5 h-5"})]})})})]})]})},Et=()=>{if(!Q)return null;const oe=dn(),Oe=oe/Q.questions.length*100;return c.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8 animate-fade-in-up",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden",children:[c.jsxs("div",{className:"bg-emerald-600 dark:bg-emerald-700 p-6 text-center text-white relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-20"}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3 backdrop-blur-sm",children:c.jsx(bc,{className:"w-10 h-10 text-white"})}),c.jsx("h2",{className:"text-2xl font-black mb-1",children:" "}),c.jsx("p",{className:"text-emerald-100 text-base opacity-90",children:Q.title})]})]}),c.jsxs("div",{className:"p-6 md:p-10 text-center",children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:`text-5xl font-black ${Oe>=50?"text-emerald-600 dark:text-emerald-400":"text-red-500 dark:text-red-400"}`,children:oe}),c.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-3xl font-bold",children:["/ ",Q.questions.length]})]}),c.jsx("div",{className:"flex justify-center items-center gap-2 mt-4 mb-6 animate-bounce",children:c.jsxs("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-6 py-2 rounded-full font-black text-lg shadow-lg shadow-orange-200 flex items-center gap-2",children:[c.jsx(k0,{className:"w-5 h-5 fill-white"}),"+",N," XP"]})}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-base mb-8 px-4",children:Oe>=90?"!   .":Oe>=75?" !  .":Oe>=50?"   .":"    ."}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("button",{onClick:()=>hn("REVIEW"),className:"w-full py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-emerald-200 dark:shadow-none",children:[c.jsx(Qm,{className:"w-5 h-5"})," "]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>hn("RETAKE"),className:"py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-sm shadow-lg shadow-emerald-200 dark:shadow-none",children:[c.jsx(kN,{className:"w-4 h-4"})," "]}),c.jsxs("button",{onClick:()=>hn("LIST"),className:"py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-sm shadow-lg shadow-emerald-200 dark:shadow-none",children:[c.jsx(cx,{className:"w-4 h-4"})," "]})]}),c.jsxs("button",{onClick:()=>hn("HOME"),className:"w-full py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-emerald-200 dark:shadow-none",children:[c.jsx(YT,{className:"w-5 h-5"}),"  "]})]})]})]})})},wr=()=>{if(!Q)return null;const oe=Q.subject.toLowerCase().includes("english")||Q.subject.includes("")||Q.subject.includes(""),Oe=oe?"ltr":"rtl",Ve=oe?"text-left":"text-right";return c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(Qm,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})," "]}),c.jsxs("button",{onClick:()=>s("RESULT"),className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white font-medium flex items-center gap-1 text-sm",children:[c.jsx(Qr,{className:"w-4 h-4"})," "]})]}),c.jsx("div",{className:"space-y-6",children:Q.questions.map((Le,ct)=>{const an=ue[ct],$t=an===Le.correctAnswer;return c.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-sm border p-5 ${$t?"border-gray-100 dark:border-gray-700":"border-red-100 dark:border-red-900/50"}`,dir:Oe,children:[c.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[c.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shrink-0 mt-0.5 ${$t?"bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"}`,children:ct+1}),c.jsx("h3",{className:`text-base font-bold text-gray-900 dark:text-white leading-relaxed ${Ve}`,children:Le.question})]}),c.jsx("div",{className:"space-y-2 mb-4",children:Le.options.map((Un,Er)=>{let ta="p-3 rounded-xl border flex items-center justify-between text-sm ";return Er===Le.correctAnswer?ta+="bg-emerald-50 dark:bg-emerald-900/30 border-emerald-500 text-emerald-900 dark:text-emerald-300 font-bold":Er===an&&!$t?ta+="bg-red-50 dark:bg-red-900/30 border-red-500 text-red-900 dark:text-red-300 font-medium opacity-75":ta+="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400 opacity-60",c.jsxs("div",{className:ta,children:[c.jsx("span",{className:Ve,children:Un}),Er===Le.correctAnswer&&c.jsx(lv,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),Er===an&&!$t&&c.jsx(ov,{className:"w-4 h-4 text-red-600 dark:text-red-400"})]},Er)})}),Le.explanation&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 p-3 rounded-xl text-blue-900 dark:text-blue-300 text-sm leading-relaxed flex items-start gap-2",dir:"rtl",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-1 rounded-full mt-0.5 shrink-0",children:c.jsx(mi,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"w-full",children:[c.jsx("span",{className:"font-bold block mb-1 text-right text-xs",children:" :"}),c.jsx("div",{className:Ve,dir:Oe,children:Le.explanation})]})]})]},Le.id)})})]})};return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 pb-20",children:[n==="SELECTION"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-4 px-4 sticky top-0 z-30",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:[c.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:c.jsx(Qr,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),c.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:" "})]})}),Os()]}),n==="ACTIVE"&&bt(),n==="RESULT"&&Et(),n==="REVIEW"&&wr(),Ge&&c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>I(!1)}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-gray-100 dark:border-gray-800",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Tl,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:"  "}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:[K==="REVIEW"&&"   ",K==="RETAKE"&&"     ",K==="LIST"&&"    ",K==="HOME"&&"    "]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:Ds,className:"flex-1 bg-emerald-600 text-white py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-colors",children:""}),c.jsx("button",{onClick:()=>I(!1),className:"flex-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-2.5 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""})]})]})]})]})},ZC=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),JC=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),eR=({onBack:a})=>{const e=[{name:".   ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",title:"  ",school:"  ",location:" ",color:"emerald",bio:"         .              .",skills:["  ","  "," ","  "],social:{facebook:"#",whatsapp:"https://wa.me/972568401548",telegram:"https://t.me/yazan1342"}},{name:".   ",image:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",title:"  ",school:"  ",location:" ",color:"blue",bio:"       .                .",skills:[" "," "," ","  "],social:{facebook:"#",whatsapp:"#",telegram:"#"}}];return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-6xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[c.jsx(Qr,{className:"w-6 h-6"})," "]})})}),c.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:"  "}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"       "})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map((n,s)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700 flex flex-col h-full hover:shadow-2xl transition-shadow duration-300",children:[c.jsx("div",{className:`bg-${n.color}-600 h-32 relative`,children:c.jsx("div",{className:"absolute -bottom-12 right-8",children:c.jsx("div",{className:"w-24 h-24 bg-white dark:bg-gray-700 p-1 rounded-2xl shadow-lg transform rotate-3",children:c.jsx("div",{className:`w-full h-full bg-${n.color}-50 dark:bg-${n.color}-900/30 rounded-xl flex items-center justify-center overflow-hidden`,children:c.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})})})})}),c.jsxs("div",{className:"pt-16 pb-8 px-8 flex-1 flex flex-col",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:n.name}),c.jsx("p",{className:`text-${n.color}-600 dark:text-${n.color}-400 font-bold text-lg mb-4`,children:n.title}),c.jsxs("div",{className:"flex flex-col gap-2 text-gray-500 dark:text-gray-400 text-sm mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(sv,{className:"w-4 h-4"}),n.school]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Km,{className:"w-4 h-4"}),n.location]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[c.jsx(uv,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"})," "]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:n.bio})]})]}),c.jsxs("div",{className:"mt-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[c.jsx(bc,{className:`w-5 h-5 text-${n.color}-600 dark:text-${n.color}-400`})," "]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((l,u)=>c.jsx("span",{className:`bg-${n.color}-50 dark:bg-${n.color}-900/20 text-${n.color}-700 dark:text-${n.color}-300 px-3 py-1 rounded-lg text-sm font-medium`,children:l},u))})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-700",children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 text-sm",children:" "}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("a",{href:n.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:c.jsx($m,{className:"w-5 h-5"})}),c.jsx("a",{href:n.social.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 flex items-center justify-center hover:bg-green-600 hover:text-white transition-all",children:c.jsx(ZC,{className:"w-5 h-5"})}),c.jsx("a",{href:n.social.telegram,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-sky-50 dark:bg-sky-900/20 text-sky-600 dark:text-sky-400 flex items-center justify-center hover:bg-sky-600 hover:text-white transition-all",children:c.jsx(JC,{className:"w-5 h-5"})})]})]})]})]})]},s))})]})]})},tR=({onBack:a})=>c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[c.jsx(Qr,{className:"w-6 h-6"})," "]})})}),c.jsx("div",{className:"relative bg-emerald-600 dark:bg-emerald-800 py-20 overflow-hidden",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10 text-center",children:[c.jsx("span",{className:"bg-emerald-500/50 dark:bg-emerald-700/50 text-white px-4 py-1 rounded-full text-sm font-medium mb-6 inline-block backdrop-blur-sm",children:"    "}),c.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight",children:["   ",c.jsx("br",{}),"   "]}),c.jsx("p",{className:"text-emerald-100 text-xl max-w-2xl mx-auto leading-relaxed",children:"                    ."})]})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-20",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6",children:c.jsx(Qm,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),c.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-4",children:""}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg",children:"                   ."})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center mb-6",children:c.jsx(zN,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-4",children:""}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg",children:"                  ."})]})]}),c.jsxs("div",{className:"mb-20",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:"   "}),c.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:RN,title:" ",desc:"       ."},{icon:QT,title:" ",desc:"           ."},{icon:yT,title:" ",desc:"         ."},{icon:YN,title:" ",desc:"          ."}].map((e,n)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl border border-gray-100 dark:border-gray-700 text-center hover:border-emerald-300 dark:hover:border-emerald-600 transition-all group",children:[c.jsx("div",{className:"w-14 h-14 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/30 transition-colors",children:c.jsx(e.icon,{className:"w-7 h-7 text-gray-600 dark:text-gray-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-400"})}),c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg mb-2",children:e.title}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed",children:e.desc})]},n))})]})]})]}),nR=({onBack:a})=>c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in flex flex-col transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[c.jsx(Qr,{className:"w-6 h-6"})," "]})})}),c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-12 rounded-3xl shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700 max-w-md w-full flex flex-col items-center transform hover:scale-105 transition-transform duration-300",children:[c.jsx("div",{className:"w-24 h-24 bg-emerald-50 dark:bg-emerald-900/20 rounded-full flex items-center justify-center mb-6 animate-bounce",children:c.jsx(cv,{className:"w-12 h-12 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-3",children:""}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg font-medium",children:"        "})]})})]}),rR=({onBack:a})=>{const[e,n]=te.useState(""),[s,l]=te.useState(""),[u,f]=te.useState("SELECTION"),[g,p]=te.useState("VIDEO"),b=()=>{e&&s&&f("CONTENT")},_=()=>c.jsxs("div",{className:"w-full animate-fade-in pb-12",children:[c.jsxs("div",{className:"relative bg-blue-600 dark:bg-blue-800 py-20 px-4 overflow-hidden rounded-b-[3rem] shadow-xl shadow-blue-200 dark:shadow-none mb-12 transition-colors",children:[c.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white via-transparent to-transparent"}),c.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-white opacity-10 rounded-full -translate-x-10 -translate-y-10 blur-2xl"}),c.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-blue-400 opacity-20 rounded-full translate-x-10 translate-y-10 blur-3xl"}),c.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[c.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-blue-500/30 backdrop-blur-md rounded-2xl mb-6 border border-blue-400/30",children:c.jsx(gN,{className:"w-8 h-8 text-white"})}),c.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-4 tracking-tight",children:"  "}),c.jsx("p",{className:"text-blue-100 text-lg md:text-xl max-w-2xl mx-auto font-medium leading-relaxed",children:"  ..         "})]})]}),c.jsx("div",{className:"max-w-4xl mx-auto px-4 -mt-20 relative z-20 mb-16",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-blue-100 dark:border-gray-700 p-8 md:p-10",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[c.jsxs("div",{className:"group",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:[c.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg group-hover:bg-blue-100 dark:group-hover:bg-blue-900/40 transition-colors",children:c.jsx(mi,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})," "]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:e,onChange:j=>n(j.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border-2 border-transparent hover:border-blue-200 dark:hover:border-blue-700 focus:border-blue-500 focus:bg-white dark:focus:bg-gray-800 focus:ring-4 focus:ring-blue-100 dark:focus:ring-blue-900/30 outline-none transition-all text-lg font-bold text-gray-800 dark:text-gray-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",className:"text-gray-400 dark:text-gray-500",children:" "}),c.jsx("option",{value:"English",className:"text-gray-800 dark:text-gray-200",children:"  (English)"})]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:c.jsx(Wo,{className:"w-5 h-5 -rotate-90"})})]})]}),c.jsxs("div",{className:"group",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:[c.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg group-hover:bg-blue-100 dark:group-hover:bg-blue-900/40 transition-colors",children:c.jsx(Dl,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})," "]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:s,onChange:j=>l(j.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border-2 border-transparent hover:border-blue-200 dark:hover:border-blue-700 focus:border-blue-500 focus:bg-white dark:focus:bg-gray-800 focus:ring-4 focus:ring-blue-100 dark:focus:ring-blue-900/30 outline-none transition-all text-lg font-bold text-gray-800 dark:text-gray-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",className:"text-gray-400 dark:text-gray-500",children:" "}),[5,6,7,8,9,10,11,12].map(j=>c.jsxs("option",{value:j,className:"text-gray-800 dark:text-gray-200",children:[" ",j]},j))]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:c.jsx(Wo,{className:"w-5 h-5 -rotate-90"})})]})]})]}),c.jsxs("button",{onClick:b,disabled:!e||!s,className:`w-full py-5 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all shadow-lg ${!e||!s?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed shadow-none":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 hover:shadow-blue-300 dark:hover:shadow-blue-900/50 hover:-translate-y-1"}`,children:[c.jsx(sc,{className:"w-6 h-6"}),"  "]})]})})]}),E=()=>c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 animate-fade-in-up",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-2 font-medium",children:[c.jsx("span",{className:"cursor-pointer hover:text-blue-600 dark:hover:text-blue-400",onClick:()=>f("SELECTION"),children:""}),c.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"/"}),c.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:e})]}),c.jsxs("h2",{className:"text-3xl font-black text-gray-900 dark:text-white flex items-center gap-3",children:[e,c.jsxs("span",{className:"text-lg font-bold bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-full border border-blue-100 dark:border-blue-800",children:[" ",s]})]})]}),c.jsxs("button",{onClick:()=>f("SELECTION"),className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:border-blue-200 dark:hover:border-blue-800 px-5 py-2.5 rounded-xl font-bold text-sm transition-all flex items-center gap-2 w-fit shadow-sm",children:[c.jsx(Qr,{className:"w-4 h-4"})," "]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl shadow-blue-100/50 dark:shadow-none border border-white dark:border-gray-700 overflow-hidden min-h-[600px] flex flex-col",children:[c.jsxs("div",{className:"flex border-b border-gray-100 dark:border-gray-700 p-2 bg-gray-50/50 dark:bg-gray-700/50 gap-2",children:[c.jsxs("button",{onClick:()=>p("VIDEO"),className:`flex-1 py-3 rounded-xl font-bold text-center flex items-center justify-center gap-2 transition-all duration-300 ${g==="VIDEO"?"bg-blue-600 text-white shadow-md shadow-blue-200 dark:shadow-none":"text-gray-500 dark:text-gray-400 hover:bg-white dark:hover:bg-gray-600 hover:text-blue-600 dark:hover:text-blue-400"}`,children:[c.jsx(Xm,{className:"w-5 h-5"})," "]}),c.jsxs("button",{onClick:()=>p("SUMMARY"),className:`flex-1 py-3 rounded-xl font-bold text-center flex items-center justify-center gap-2 transition-all duration-300 ${g==="SUMMARY"?"bg-indigo-600 text-white shadow-md shadow-indigo-200 dark:shadow-none":"text-gray-500 dark:text-gray-400 hover:bg-white dark:hover:bg-gray-600 hover:text-indigo-600 dark:hover:text-indigo-400"}`,children:[c.jsx(UT,{className:"w-5 h-5"}),""]}),c.jsxs("button",{onClick:()=>p("PDF"),className:`flex-1 py-3 rounded-xl font-bold text-center flex items-center justify-center gap-2 transition-all duration-300 ${g==="PDF"?"bg-sky-600 text-white shadow-md shadow-sky-200 dark:shadow-none":"text-gray-500 dark:text-gray-400 hover:bg-white dark:hover:bg-gray-600 hover:text-sky-600 dark:hover:text-sky-400"}`,children:[c.jsx(BT,{className:"w-5 h-5"})," PDF"]})]}),c.jsxs("div",{className:"flex-1 p-8 md:p-16 bg-gradient-to-b from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 flex flex-col items-center justify-center text-center animate-fade-in",children:[c.jsxs("div",{className:"w-32 h-32 mb-6 relative",children:[c.jsx("div",{className:"absolute inset-0 bg-blue-100 dark:bg-blue-900 rounded-full animate-ping opacity-20"}),c.jsxs("div",{className:"relative w-full h-full bg-white dark:bg-gray-800 rounded-full shadow-lg border-4 border-blue-50 dark:border-blue-900/30 flex items-center justify-center",children:[g==="VIDEO"&&c.jsx(Xm,{className:"w-14 h-14 text-blue-500 dark:text-blue-400"}),g==="SUMMARY"&&c.jsx(bN,{className:"w-14 h-14 text-indigo-500 dark:text-indigo-400"}),g==="PDF"&&c.jsx(nN,{className:"w-14 h-14 text-sky-500 dark:text-sky-400"})]})]}),c.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white mb-3",children:"    "}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 max-w-md text-lg leading-relaxed",children:["     ",g==="VIDEO"?" ":g==="SUMMARY"?" ":"  PDF","  .     !"]})]})]})]});return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 pb-20 transition-colors duration-300",children:[c.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-blue-100 dark:border-blue-900/30 py-4 px-4 sticky top-0 z-30 shadow-sm",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:[c.jsx("button",{onClick:a,className:"p-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors group",children:c.jsx(Qr,{className:"w-6 h-6 text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors"})}),c.jsx("span",{className:"font-bold text-gray-800 dark:text-gray-200 text-lg",children:" "})]})}),u==="SELECTION"?_():E()]})},aR=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),sR=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),iR=({onBack:a})=>{const e=n=>{let s="";switch(n){case"message":s="       .";break;case"question":s="       ...";break;case"review":s="      .";break;case"inquiry":s="    .";break;default:s="  ."}const l=`https://wa.me/972568401548?text=${encodeURIComponent(s)}`;window.open(l,"_blank")};return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in pb-20 transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-emerald-100 dark:border-emerald-900 py-6 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold group",children:[c.jsx(Qr,{className:"w-6 h-6 group-hover:text-emerald-600 dark:group-hover:text-emerald-400"})," "]})})}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:"  "}),c.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),c.jsx("p",{className:"mt-6 text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"     .         ."})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-emerald-100 dark:border-gray-700 overflow-hidden transform hover:shadow-2xl transition-all duration-300",children:[c.jsxs("div",{className:"bg-emerald-600 dark:bg-emerald-800 p-8 text-white text-center relative overflow-hidden",children:[c.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white/10 backdrop-blur-sm rounded-2xl mb-4 border border-white/20",children:c.jsx(Td,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-3xl font-black mb-2 relative z-10",children:"   "}),c.jsx("p",{className:"text-emerald-100 opacity-90 relative z-10 font-medium text-lg",children:"      "})]}),c.jsxs("div",{className:"p-8 md:p-12",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-12",children:[c.jsxs("button",{onClick:()=>e("message"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-all group border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-200 dark:hover:border-emerald-700 hover:-translate-y-2 duration-300",children:[c.jsx("div",{className:"w-16 h-16 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900",children:c.jsx(Td,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg block mb-1",children:" "}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"  "})]})]}),c.jsxs("button",{onClick:()=>e("question"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-all group border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-200 dark:hover:border-emerald-700 hover:-translate-y-2 duration-300",children:[c.jsx("div",{className:"w-16 h-16 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900",children:c.jsx(Tl,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg block mb-1",children:" "}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"   "})]})]}),c.jsxs("button",{onClick:()=>e("review"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-all group border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-200 dark:hover:border-emerald-700 hover:-translate-y-2 duration-300",children:[c.jsx("div",{className:"w-16 h-16 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900",children:c.jsx(LT,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg block mb-1",children:" "}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"   "})]})]}),c.jsxs("button",{onClick:()=>e("inquiry"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-all group border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-200 dark:hover:border-emerald-700 hover:-translate-y-2 duration-300",children:[c.jsx("div",{className:"w-16 h-16 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900",children:c.jsx(A0,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg block mb-1",children:" "}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"   "})]})]})]}),c.jsxs("div",{className:"border-t-2 border-gray-100 dark:border-gray-700 pt-10",children:[c.jsx("h4",{className:"text-center text-gray-500 dark:text-gray-400 font-bold mb-6 uppercase tracking-wide text-sm",children:" "}),c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 bg-gradient-to-br from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 p-8 rounded-3xl border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"relative shrink-0 group cursor-pointer",children:[c.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-full blur-lg opacity-20 group-hover:opacity-40 transition-opacity"}),c.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-28 h-28 rounded-full object-cover border-4 border-white dark:border-gray-700 shadow-lg relative z-10"}),c.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-emerald-500 border-4 border-white dark:border-gray-700 rounded-full z-20"})]}),c.jsxs("div",{className:"text-center md:text-right flex-1",children:[c.jsx("h4",{className:"font-black text-2xl text-gray-900 dark:text-white mb-2",children:".   "}),c.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 font-bold text-base mb-6 flex items-center justify-center md:justify-start gap-2 bg-emerald-50 dark:bg-emerald-900/30 w-fit mx-auto md:mx-0 px-4 py-1 rounded-full",children:[c.jsx(Dl,{className:"w-5 h-5"}),"    "]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4",children:[c.jsxs("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#25D366] text-white px-6 py-3 rounded-xl font-bold text-sm hover:shadow-lg hover:scale-105 transition-all shadow-green-200 dark:shadow-none",children:[c.jsx(aR,{className:"w-5 h-5"}),"  "]}),c.jsxs("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#0088cc] text-white px-6 py-3 rounded-xl font-bold text-sm hover:shadow-lg hover:scale-105 transition-all shadow-sky-200 dark:shadow-none",children:[c.jsx(sR,{className:"w-5 h-5"}),"  "]})]})]})]})]})]})]})]})]})},lR=({onLoginClick:a})=>{const[e,n]=te.useState([]),[s,l]=te.useState(!0),{user:u}=Is();te.useEffect(()=>{const p=yh(Il(rr,"users"),xg("role","==","student")),b=mj(p,_=>{const E=[];_.forEach(j=>{const P=j.data();E.push({uid:j.id,...P})}),E.sort((j,P)=>(Number(P.totalXP)||0)-(Number(j.totalXP)||0)),n(E.slice(0,10)),l(!1)},_=>{console.error("Error fetching leaderboard:",_),l(!1)});return()=>b()},[]);const f=p=>{switch(p){case 0:return"bg-gradient-to-br from-yellow-300 to-amber-500 border-amber-400 text-white shadow-sm shadow-amber-200 dark:shadow-none ring-2 ring-yellow-100 dark:ring-yellow-900";case 1:return"bg-gradient-to-br from-slate-300 to-slate-400 border-slate-400 text-white shadow-sm shadow-slate-200 dark:shadow-none ring-2 ring-slate-100 dark:ring-slate-700";case 2:return"bg-gradient-to-br from-orange-300 to-orange-500 border-orange-400 text-white shadow-sm shadow-orange-200 dark:shadow-none ring-2 ring-orange-100 dark:ring-orange-900";default:return"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 text-gray-500 dark:text-gray-400 shadow-sm"}},g=p=>{switch(p){case 0:return c.jsx(_d,{className:"w-3 h-3 text-white fill-white animate-pulse"});case 1:return c.jsx(hx,{className:"w-3 h-3 text-white fill-white/20"});case 2:return c.jsx(hx,{className:"w-3 h-3 text-white fill-white/20"});default:return c.jsxs("span",{className:"font-bold text-[10px]",children:["#",p+1]})}};return c.jsxs("section",{className:"py-16 bg-gradient-to-b from-indigo-50/50 to-white dark:from-gray-900 dark:to-gray-800 border-t border-gray-100 dark:border-gray-800 relative overflow-hidden transition-colors duration-300",children:[c.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-purple-200 dark:bg-purple-900 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),c.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 bg-indigo-200 dark:bg-indigo-900 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 relative z-10",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white dark:bg-gray-800 rounded-2xl shadow-lg shadow-indigo-100 dark:shadow-none border border-indigo-50 dark:border-indigo-900 mb-4 transform -rotate-3 hover:rotate-0 transition-transform duration-300",children:c.jsx(fv,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),c.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 dark:text-white mb-2 tracking-tight",children:" "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm md:text-base font-medium",children:"      "})]}),c.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-3xl border border-white dark:border-gray-700 shadow-2xl shadow-indigo-100/50 dark:shadow-none p-4 md:p-6 relative",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-20"}),s?c.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-indigo-200 dark:bg-indigo-900 rounded-full blur-xl opacity-50 animate-pulse"}),c.jsx(Vn,{className:"w-10 h-10 animate-spin text-indigo-600 dark:text-indigo-400 relative z-10"})]}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold mt-4 text-sm animate-pulse",children:"  ..."})]}):e.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white dark:border-gray-600 shadow-lg",children:c.jsx(bc,{className:"w-8 h-8 text-gray-300 dark:text-gray-500"})}),c.jsx("h3",{className:"text-xl font-black text-gray-700 dark:text-gray-300 mb-2",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mb-6 text-sm",children:"       !"}),!u&&c.jsxs("button",{onClick:a,className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all hover:shadow-lg hover:shadow-indigo-200 dark:shadow-none transform hover:-translate-y-1",children:[c.jsx(DN,{className:"w-4 h-4"}),"  "]})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-2 text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider border-b border-gray-100 dark:border-gray-700 mb-2",children:[c.jsx("span",{children:""}),c.jsx("span",{className:"ml-auto mr-16",children:" "}),c.jsx("span",{children:""})]}),e.map((p,b)=>c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl transition-all duration-300 ${(u==null?void 0:u.uid)===p.uid?"bg-gradient-to-r from-indigo-50 to-white dark:from-indigo-900/30 dark:to-gray-800 border border-indigo-200 dark:border-indigo-800 shadow-md z-10 relative transform scale-[1.02]":"bg-white dark:bg-gray-700/50 hover:bg-gray-50 dark:hover:bg-gray-700 border border-transparent hover:border-gray-100 dark:hover:border-gray-600"}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center shrink-0 shadow-sm ${f(b)}`,children:g(b)}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden border-2 border-white dark:border-gray-600 shadow-sm bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:p.avatar?c.jsx("img",{src:p.avatar,alt:p.displayName,className:"w-full h-full object-cover"}):c.jsx(_a,{className:"w-6 h-6 text-gray-400"})}),b===0&&c.jsx("div",{className:"absolute -top-2 -right-1 text-yellow-500 drop-shadow-sm",children:c.jsx(_d,{className:"w-5 h-5 fill-yellow-500"})})]})]}),c.jsxs("div",{className:"flex flex-col items-center text-center flex-1 px-2 min-w-0",children:[c.jsx("span",{className:`font-bold text-lg truncate w-full ${(u==null?void 0:u.uid)===p.uid?"text-indigo-700 dark:text-indigo-300":"text-gray-900 dark:text-white"}`,children:p.displayName}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mt-1 w-full justify-center",children:[c.jsx(A0,{className:"w-3 h-3 shrink-0"}),c.jsx("span",{className:"truncate max-w-[120px]",children:p.school||" "})]})]}),c.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-600 px-2 py-1 rounded-lg border border-gray-100 dark:border-gray-500 shrink-0",children:[c.jsx("span",{className:"font-black text-gray-900 dark:text-white text-xs",children:p.totalXP||0}),c.jsx(k0,{className:`w-3 h-3 ${b<3?"text-orange-500 fill-orange-500":"text-gray-300 dark:text-gray-400"}`})]})]},p.uid))]})]})]})]})},oR=({onBack:a})=>{const[e,n]=te.useState([]),[s,l]=te.useState(!0),[u,f]=te.useState(""),[g,p]=te.useState(null),[b,_]=te.useState(!1);te.useEffect(()=>{E()},[]);const E=async()=>{l(!0);try{const ee=yh(Il(rr,"quizzes"),cj("createdAt","desc")),N=(await Eg(ee)).docs.map(k=>({id:k.id,...k.data()}));n(N)}catch(ee){console.error("Error fetching quizzes:",ee)}finally{l(!1)}},j=ee=>{p({category:"Language",...ee})},P=async(ee,A)=>{if(ee.stopPropagation(),!A){alert(":   ");return}if(window.confirm("  "))try{await fj(xi(rr,"quizzes",A)),n(N=>N.filter(k=>k.id!==A))}catch(N){console.error("Error deleting quiz:",N),alert("   : "+N.message)}},Q=(ee,A)=>{g&&p({...g,[ee]:A})},ne=(ee,A,N)=>{if(!g)return;const k=[...g.questions];k[ee]={...k[ee],[A]:N},p({...g,questions:k})},q=(ee,A,N)=>{if(!g)return;const k=[...g.questions],O=[...k[ee].options];O[A]=N,k[ee]={...k[ee],options:O},p({...g,questions:k})},ae=ee=>{if(g&&window.confirm("      ")){const A=g.questions.filter((N,k)=>k!==ee);p({...g,questions:A})}},ue=async()=>{if(!(!g||!g.id)){if(g.questions.length===0){alert("     !");return}_(!0);try{const ee=xi(rr,"quizzes",g.id);await H2(ee,{title:g.title,subject:g.subject,grade:g.grade,category:g.category,questions:g.questions}),n(A=>A.map(N=>N.id===g.id?g:N)),p(null),alert("   ")}catch(ee){console.error("Error updating quiz:",ee),alert("   ")}finally{_(!1)}}},ge=e.filter(ee=>ee.title.toLowerCase().includes(u.toLowerCase())||ee.teacherName&&ee.teacherName.toLowerCase().includes(u.toLowerCase())),je=ee=>ee?(ee.toDate?ee.toDate():new Date(ee.seconds*1e3)).toLocaleDateString("ar-EG"):"",De="w-full p-3 rounded-xl border-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 outline-none font-bold text-black dark:text-white bg-white dark:bg-gray-700 shadow-sm transition-colors placeholder-gray-500 dark:placeholder-gray-400";return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 animate-fade-in relative transition-colors duration-300",children:[c.jsx("style",{children:`
        .custom-scrollbar {
          scrollbar-width: thin;
          scrollbar-color: #cbd5e1 transparent;
        }
        .dark .custom-scrollbar {
          scrollbar-color: #475569 transparent;
        }
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
          height: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 10px;
        }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb {
           background: #475569;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),c.jsx("div",{className:"bg-white dark:bg-gray-800 pt-8 pb-20 px-4 border-b border-gray-200 dark:border-gray-700 shadow-sm relative overflow-hidden",children:c.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("button",{onClick:a,className:"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 p-2 rounded-full transition-colors",children:c.jsx(Qr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),c.jsx("span",{className:"font-bold text-gray-500 dark:text-gray-400",children:" "})]}),c.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end justify-between gap-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-2 tracking-tight",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"      "})]}),c.jsxs("div",{className:"w-full md:w-auto bg-white dark:bg-gray-700 p-2 rounded-2xl shadow-lg shadow-gray-100 dark:shadow-none border border-gray-100 dark:border-gray-600 flex items-center gap-2",children:[c.jsx(sc,{className:"w-5 h-5 text-gray-400 dark:text-gray-300 mr-2"}),c.jsx("input",{type:"text",placeholder:"    ...",value:u,onChange:ee=>f(ee.target.value),className:"w-full md:w-64 outline-none text-sm font-bold text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 bg-transparent"})]})]})]})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-12 relative z-20",children:s?c.jsx("div",{className:"flex justify-center items-center py-20",children:c.jsx(Vn,{className:"w-10 h-10 animate-spin text-blue-600 dark:text-blue-400"})}):ge.length===0?c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 p-12 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(wd,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"       ."})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ge.map(ee=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700 overflow-hidden group flex flex-col",children:[c.jsxs("div",{className:"p-6 flex-1",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-lg text-xs font-bold",children:ee.subject}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>j(ee),className:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 p-1.5 rounded-lg hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-colors",title:" ",children:c.jsx(mx,{className:"w-4 h-4"})}),c.jsx("button",{onClick:A=>P(A,ee.id),className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-1.5 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors",title:" ",children:c.jsx(Ym,{className:"w-4 h-4"})})]})]}),c.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2 line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:ee.title}),ee.category&&c.jsx("span",{className:"inline-block mb-4 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400 text-[10px] font-bold px-2 py-1 rounded-md border border-amber-100 dark:border-amber-800/50",children:ee.category}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-6",children:[c.jsxs("span",{className:"bg-gray-50 dark:bg-gray-700 px-2 py-0.5 rounded border border-gray-100 dark:border-gray-600 font-bold",children:[" ",ee.grade]}),c.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),c.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700/50 text-gray-600 dark:text-gray-400 px-2 py-0.5 rounded-lg text-xs font-bold flex items-center gap-1",children:[c.jsx(iv,{className:"w-3 h-3"}),je(ee.createdAt)]})]})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 border-t border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-white dark:bg-gray-700 rounded-full border border-gray-200 dark:border-gray-600 flex items-center justify-center shadow-sm text-gray-400 dark:text-gray-300",children:c.jsx(_a,{className:"w-4 h-4"})}),c.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:ee.teacherName||""})]}),c.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-md border border-gray-100 dark:border-gray-600",children:[c.jsx(Tl,{className:"w-3 h-3"}),ee.questions.length," "]})]})]},ee.id))})}),g&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0 sticky top-0 z-10",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-xl",children:c.jsx(mx,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:" "}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"     "})]})]}),c.jsx("button",{onClick:()=>p(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-gray-500 dark:text-gray-400",children:c.jsx(Nl,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900 custom-scrollbar",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 mb-8",children:[c.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx(wd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," "]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:" "}),c.jsx("input",{type:"text",value:g.title,onChange:ee=>Q("title",ee.target.value),className:De})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:""}),c.jsx("input",{type:"text",value:g.subject,onChange:ee=>Q("subject",ee.target.value),className:De})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:""}),c.jsx("select",{value:g.grade,onChange:ee=>Q("grade",ee.target.value),className:De,children:[5,6,7,8,9,10,11,12].map(ee=>c.jsxs("option",{value:ee,children:[" ",ee]},ee))})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:"  (Category)"}),c.jsxs("select",{value:g.category||"Language",onChange:ee=>Q("category",ee.target.value),className:De,children:[c.jsx("option",{value:"Language",children:"Language ()"}),c.jsx("option",{value:"Reading",children:"Reading ()"}),c.jsx("option",{value:"Writing",children:"Writing ()"}),c.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Tl,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," (",g.questions.length,")"]}),c.jsx("span",{className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded-lg",children:"*        "})]}),g.questions.map((ee,A)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 relative group",children:[c.jsx("button",{onClick:()=>ae(A),className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 rounded-lg transition-colors",title:" ",children:c.jsx(Ym,{className:"w-5 h-5"})}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1.5",children:["  ",A+1]}),c.jsx("input",{type:"text",dir:"ltr",value:ee.question,onChange:N=>ne(A,"question",N.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-300 dark:border-gray-600 focus:border-emerald-500 dark:focus:border-emerald-500 outline-none font-bold text-black dark:text-white bg-white dark:bg-gray-700 shadow-sm text-lg transition-colors placeholder-gray-500 dark:placeholder-gray-400 text-left"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:ee.options.map((N,k)=>c.jsxs("div",{className:"relative",children:[c.jsxs("label",{className:"flex items-center justify-between text-xs font-bold text-gray-500 dark:text-gray-400 mb-1 px-1",children:[c.jsxs("span",{children:[" ",k+1]}),c.jsxs("button",{onClick:()=>ne(A,"correctAnswer",k),className:`flex items-center gap-1 px-2 py-0.5 rounded cursor-pointer transition-colors ${ee.correctAnswer===k?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[ee.correctAnswer===k?c.jsx(gs,{className:"w-3 h-3"}):c.jsx("div",{className:"w-3 h-3 border border-gray-400 rounded-full"}),ee.correctAnswer===k?" ":" "]})]}),c.jsx("input",{type:"text",dir:"ltr",value:N,onChange:O=>q(A,k,O.target.value),className:`w-full p-3 rounded-xl border-2 outline-none font-bold transition-colors shadow-sm text-left ${ee.correctAnswer===k?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-300":"border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 text-black dark:text-white bg-white dark:bg-gray-700"}`})]},k))}),c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-xl border border-yellow-200 dark:border-yellow-800",children:[c.jsx("label",{className:"block text-xs font-bold text-yellow-800 dark:text-yellow-200 mb-1",children:" "}),c.jsx("textarea",{value:ee.explanation||"",onChange:N=>ne(A,"explanation",N.target.value),className:"w-full p-3 rounded-lg border border-yellow-300 dark:border-yellow-700 focus:border-yellow-500 dark:focus:border-yellow-500 outline-none text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-800 text-sm h-20 resize-none shadow-sm custom-scrollbar text-left",placeholder:"  ...",dir:"ltr"})]})]},A))]})]}),c.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3 shrink-0 sticky bottom-0 z-10",children:[c.jsx("button",{onClick:()=>p(null),className:"px-6 py-3 rounded-xl font-bold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:""}),c.jsxs("button",{onClick:ue,disabled:b,className:"px-8 py-3 rounded-xl font-bold text-white bg-emerald-600 hover:bg-emerald-700 transition-colors flex items-center gap-2 shadow-lg shadow-emerald-200 dark:shadow-none",children:[b?c.jsx(Vn,{className:"w-5 h-5 animate-spin"}):c.jsx(Nd,{className:"w-5 h-5"})," "]})]})]})})]})};function cR(){const[a,e]=te.useState("HOME"),[n,s]=te.useState(!1),[l,u]=te.useState(!1),{logout:f}=Is();te.useEffect(()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0)},[]),te.useEffect(()=>{window.scrollTo(0,0)},[a]);const g=async()=>{u(!0),setTimeout(async()=>{await f(),u(!1),e("HOME")},1e3)};return c.jsxs("div",{className:"min-h-screen flex flex-col relative transition-colors duration-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[l&&c.jsx("div",{className:"fixed inset-0 z-[200] bg-emerald-600 flex items-center justify-center animate-fade-in",children:c.jsx("div",{className:"text-white text-2xl font-bold animate-bounce",children:"  ..."})}),c.jsx(PC,{onLoginClick:()=>s(!0),onNavigate:p=>e(p),onLogoutClick:g}),c.jsxs("main",{className:"flex-grow",children:[a==="HOME"&&c.jsxs(c.Fragment,{children:[c.jsx(UC,{onStartQuiz:()=>e("QUIZZES"),onLoginClick:()=>s(!0),onNavigate:e}),c.jsx(qC,{onNavigate:e}),c.jsx(lR,{onLoginClick:()=>s(!0)})]}),a==="ABOUT_PLATFORM"&&c.jsx(tR,{onBack:()=>e("HOME")}),a==="SERVICES"&&c.jsx(nR,{onBack:()=>e("HOME")}),a==="TEACHER_CV"&&c.jsx(eR,{onBack:()=>e("HOME")}),a==="PROFILE"&&c.jsx(KC,{}),a==="TEACHER_DASHBOARD"&&c.jsx(FC,{}),a==="QUESTION_BANK"&&c.jsx(oR,{onBack:()=>e("HOME")}),a==="QUIZZES"&&c.jsx(WC,{onBack:()=>e("HOME")}),a==="LESSONS"&&c.jsx(rR,{onBack:()=>e("HOME")}),a==="CONTACT_TEACHER"&&c.jsx(iR,{onBack:()=>e("HOME")})]}),c.jsx(HC,{isOpen:n,onClose:()=>s(!1)}),c.jsx("footer",{className:"bg-white dark:bg-gray-900 py-8 border-t border-gray-100 dark:border-gray-800",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-400 dark:text-gray-500 text-sm",children:[" ",new Date().getFullYear(),"   .   ."]})})]})}const pw=document.getElementById("root");if(!pw)throw new Error("Could not find root element to mount to");const uR=aT.createRoot(pw);uR.render(c.jsx(XE.StrictMode,{children:c.jsx(LC,{children:c.jsx(cR,{})})}));
