(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function pv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var S0={exports:{}},Zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function oN(){if(ub)return Zo;ub=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:a,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Zo.Fragment=e,Zo.jsx=n,Zo.jsxs=n,Zo}var db;function cN(){return db||(db=1,S0.exports=oN()),S0.exports}var c=cN(),A0={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function uN(){if(hb)return De;hb=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),j=Symbol.iterator;function V(I){return I===null||typeof I!="object"?null:(I=j&&I[j]||I["@@iterator"],typeof I=="function"?I:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,Z={};function pe(I,W,P){this.props=I,this.context=W,this.refs=Z,this.updater=P||G}pe.prototype.isReactComponent={},pe.prototype.setState=function(I,W){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,W,"setState")},pe.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ne(){}ne.prototype=pe.prototype;function le(I,W,P){this.props=I,this.context=W,this.refs=Z,this.updater=P||G}var _e=le.prototype=new ne;_e.constructor=le,se(_e,pe.prototype),_e.isPureReactComponent=!0;var ce=Array.isArray;function $(){}var T={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function S(I,W,P){var Y=P.ref;return{$$typeof:a,type:I,key:W,ref:Y!==void 0?Y:null,props:P}}function D(I,W){return S(I.type,W,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function M(I){var W={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(P){return W[P]})}var A=/\/+/g;function Ne(I,W){return typeof I=="object"&&I!==null&&I.key!=null?M(""+I.key):W.toString(36)}function Ye(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then($,$):(I.status="pending",I.then(function(W){I.status==="pending"&&(I.status="fulfilled",I.value=W)},function(W){I.status==="pending"&&(I.status="rejected",I.reason=W)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function K(I,W,P,Y,F){var fe=typeof I;(fe==="undefined"||fe==="boolean")&&(I=null);var ke=!1;if(I===null)ke=!0;else switch(fe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(I.$$typeof){case a:case e:ke=!0;break;case _:return ke=I._init,K(ke(I._payload),W,P,Y,F)}}if(ke)return F=F(I),ke=Y===""?"."+Ne(I,0):Y,ce(F)?(P="",ke!=null&&(P=ke.replace(A,"$&/")+"/"),K(F,W,P,"",function(gt){return gt})):F!=null&&(R(F)&&(F=D(F,P+(F.key==null||I&&I.key===F.key?"":(""+F.key).replace(A,"$&/")+"/")+ke)),W.push(F)),1;ke=0;var rt=Y===""?".":Y+":";if(ce(I))for(var be=0;be<I.length;be++)Y=I[be],fe=rt+Ne(Y,be),ke+=K(Y,W,P,fe,F);else if(be=V(I),typeof be=="function")for(I=be.call(I),be=0;!(Y=I.next()).done;)Y=Y.value,fe=rt+Ne(Y,be++),ke+=K(Y,W,P,fe,F);else if(fe==="object"){if(typeof I.then=="function")return K(Ye(I),W,P,Y,F);throw W=String(I),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ie(I,W,P){if(I==null)return I;var Y=[],F=0;return K(I,Y,"","",function(fe){return W.call(P,fe,F++)}),Y}function ye(I){if(I._status===-1){var W=I._result;W=W(),W.then(function(P){(I._status===0||I._status===-1)&&(I._status=1,I._result=P)},function(P){(I._status===0||I._status===-1)&&(I._status=2,I._result=P)}),I._status===-1&&(I._status=0,I._result=W)}if(I._status===1)return I._result.default;throw I._result}var Me=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ie={map:ie,forEach:function(I,W,P){ie(I,function(){W.apply(this,arguments)},P)},count:function(I){var W=0;return ie(I,function(){W++}),W},toArray:function(I){return ie(I,function(W){return W})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return De.Activity=E,De.Children=Ie,De.Component=pe,De.Fragment=n,De.Profiler=l,De.PureComponent=le,De.StrictMode=s,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,De.__COMPILER_RUNTIME={__proto__:null,c:function(I){return T.H.useMemoCache(I)}},De.cache=function(I){return function(){return I.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(I,W,P){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var Y=se({},I.props),F=I.key;if(W!=null)for(fe in W.key!==void 0&&(F=""+W.key),W)!k.call(W,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&W.ref===void 0||(Y[fe]=W[fe]);var fe=arguments.length-2;if(fe===1)Y.children=P;else if(1<fe){for(var ke=Array(fe),rt=0;rt<fe;rt++)ke[rt]=arguments[rt+2];Y.children=ke}return S(I.type,F,Y)},De.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},De.createElement=function(I,W,P){var Y,F={},fe=null;if(W!=null)for(Y in W.key!==void 0&&(fe=""+W.key),W)k.call(W,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(F[Y]=W[Y]);var ke=arguments.length-2;if(ke===1)F.children=P;else if(1<ke){for(var rt=Array(ke),be=0;be<ke;be++)rt[be]=arguments[be+2];F.children=rt}if(I&&I.defaultProps)for(Y in ke=I.defaultProps,ke)F[Y]===void 0&&(F[Y]=ke[Y]);return S(I,fe,F)},De.createRef=function(){return{current:null}},De.forwardRef=function(I){return{$$typeof:g,render:I}},De.isValidElement=R,De.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:ye}},De.memo=function(I,W){return{$$typeof:y,type:I,compare:W===void 0?null:W}},De.startTransition=function(I){var W=T.T,P={};T.T=P;try{var Y=I(),F=T.S;F!==null&&F(P,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then($,Me)}catch(fe){Me(fe)}finally{W!==null&&P.types!==null&&(W.types=P.types),T.T=W}},De.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},De.use=function(I){return T.H.use(I)},De.useActionState=function(I,W,P){return T.H.useActionState(I,W,P)},De.useCallback=function(I,W){return T.H.useCallback(I,W)},De.useContext=function(I){return T.H.useContext(I)},De.useDebugValue=function(){},De.useDeferredValue=function(I,W){return T.H.useDeferredValue(I,W)},De.useEffect=function(I,W){return T.H.useEffect(I,W)},De.useEffectEvent=function(I){return T.H.useEffectEvent(I)},De.useId=function(){return T.H.useId()},De.useImperativeHandle=function(I,W,P){return T.H.useImperativeHandle(I,W,P)},De.useInsertionEffect=function(I,W){return T.H.useInsertionEffect(I,W)},De.useLayoutEffect=function(I,W){return T.H.useLayoutEffect(I,W)},De.useMemo=function(I,W){return T.H.useMemo(I,W)},De.useOptimistic=function(I,W){return T.H.useOptimistic(I,W)},De.useReducer=function(I,W,P){return T.H.useReducer(I,W,P)},De.useRef=function(I){return T.H.useRef(I)},De.useState=function(I){return T.H.useState(I)},De.useSyncExternalStore=function(I,W,P){return T.H.useSyncExternalStore(I,W,P)},De.useTransition=function(){return T.H.useTransition()},De.version="19.2.0",De}var fb;function Pm(){return fb||(fb=1,A0.exports=uN()),A0.exports}var re=Pm();const yv=pv(re);var j0={exports:{}},Wo={},C0={exports:{}},R0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function dN(){return mb||(mb=1,(function(a){function e(K,ie){var ye=K.length;K.push(ie);e:for(;0<ye;){var Me=ye-1>>>1,Ie=K[Me];if(0<l(Ie,ie))K[Me]=ie,K[ye]=Ie,ye=Me;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ie=K[0],ye=K.pop();if(ye!==ie){K[0]=ye;e:for(var Me=0,Ie=K.length,I=Ie>>>1;Me<I;){var W=2*(Me+1)-1,P=K[W],Y=W+1,F=K[Y];if(0>l(P,ye))Y<Ie&&0>l(F,P)?(K[Me]=F,K[Y]=ye,Me=Y):(K[Me]=P,K[W]=ye,Me=W);else if(Y<Ie&&0>l(F,ye))K[Me]=F,K[Y]=ye,Me=Y;else break e}}return ie}function l(K,ie){var ye=K.sortIndex-ie.sortIndex;return ye!==0?ye:K.id-ie.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();a.unstable_now=function(){return f.now()-g}}var p=[],y=[],_=1,E=null,j=3,V=!1,G=!1,se=!1,Z=!1,pe=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function _e(K){for(var ie=n(y);ie!==null;){if(ie.callback===null)s(y);else if(ie.startTime<=K)s(y),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(y)}}function ce(K){if(se=!1,_e(K),!G)if(n(p)!==null)G=!0,$||($=!0,M());else{var ie=n(y);ie!==null&&Ye(ce,ie.startTime-K)}}var $=!1,T=-1,k=5,S=-1;function D(){return Z?!0:!(a.unstable_now()-S<k)}function R(){if(Z=!1,$){var K=a.unstable_now();S=K;var ie=!0;try{e:{G=!1,se&&(se=!1,ne(T),T=-1),V=!0;var ye=j;try{t:{for(_e(K),E=n(p);E!==null&&!(E.expirationTime>K&&D());){var Me=E.callback;if(typeof Me=="function"){E.callback=null,j=E.priorityLevel;var Ie=Me(E.expirationTime<=K);if(K=a.unstable_now(),typeof Ie=="function"){E.callback=Ie,_e(K),ie=!0;break t}E===n(p)&&s(p),_e(K)}else s(p);E=n(p)}if(E!==null)ie=!0;else{var I=n(y);I!==null&&Ye(ce,I.startTime-K),ie=!1}}break e}finally{E=null,j=ye,V=!1}ie=void 0}}finally{ie?M():$=!1}}}var M;if(typeof le=="function")M=function(){le(R)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Ne=A.port2;A.port1.onmessage=R,M=function(){Ne.postMessage(null)}}else M=function(){pe(R,0)};function Ye(K,ie){T=pe(function(){K(a.unstable_now())},ie)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return j},a.unstable_next=function(K){switch(j){case 1:case 2:case 3:var ie=3;break;default:ie=j}var ye=j;j=ie;try{return K()}finally{j=ye}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ye=j;j=K;try{return ie()}finally{j=ye}},a.unstable_scheduleCallback=function(K,ie,ye){var Me=a.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Me+ye:Me):ye=Me,K){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ye+Ie,K={id:_++,callback:ie,priorityLevel:K,startTime:ye,expirationTime:Ie,sortIndex:-1},ye>Me?(K.sortIndex=ye,e(y,K),n(p)===null&&K===n(y)&&(se?(ne(T),T=-1):se=!0,Ye(ce,ye-Me))):(K.sortIndex=Ie,e(p,K),G||V||(G=!0,$||($=!0,M()))),K},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(K){var ie=j;return function(){var ye=j;j=ie;try{return K.apply(this,arguments)}finally{j=ye}}}})(R0)),R0}var gb;function hN(){return gb||(gb=1,C0.exports=dN()),C0.exports}var I0={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function fN(){if(pb)return un;pb=1;var a=Pm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:p,containerInfo:y,implementation:_}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(p,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,_)},un.flushSync=function(p){var y=f.T,_=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=_,s.d.f()}},un.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},un.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},un.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var _=y.as,E=g(_,y.crossOrigin),j=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:j,fetchPriority:V}):_==="script"&&s.d.X(p,{crossOrigin:E,integrity:j,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},un.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},un.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,E=g(_,y.crossOrigin);s.d.L(p,_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},un.preloadModule=function(p,y){if(typeof p=="string")if(y){var _=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},un.requestFormReset=function(p){s.d.r(p)},un.unstable_batchedUpdates=function(p,y){return p(y)},un.useFormState=function(p,y,_){return f.H.useFormState(p,y,_)},un.useFormStatus=function(){return f.H.useHostTransitionStatus()},un.version="19.2.0",un}var yb;function mN(){if(yb)return I0.exports;yb=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),I0.exports=fN(),I0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function gN(){if(xb)return Wo;xb=1;var a=hN(),e=Pm(),n=mN();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,i=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(i=r.return),t=r.return;while(t)}return r.tag===3?i:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var i=t,o=r;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){i=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return p(h),t;if(m===o)return p(h),r;m=m.sibling}throw Error(s(188))}if(i.return!==o.return)i=h,o=m;else{for(var b=!1,w=h.child;w;){if(w===i){b=!0,i=h,o=m;break}if(w===o){b=!0,o=h,i=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===i){b=!0,i=m,o=h;break}if(w===o){b=!0,o=m,i=h;break}w=w.sibling}if(!b)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,j=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),le=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case pe:return"Profiler";case Z:return"StrictMode";case ce:return"Suspense";case $:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case le:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case _e:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case T:return r=t.displayName||null,r!==null?r:Ne(t.type)||"Memo";case k:r=t._payload,t=t._init;try{return Ne(t(r))}catch{}}return null}var Ye=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Me=[],Ie=-1;function I(t){return{current:t}}function W(t){0>Ie||(t.current=Me[Ie],Me[Ie]=null,Ie--)}function P(t,r){Ie++,Me[Ie]=t.current,t.current=r}var Y=I(null),F=I(null),fe=I(null),ke=I(null);function rt(t,r){switch(P(fe,r),P(F,t),P(Y,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Dx(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Dx(r),t=Ox(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(Y),P(Y,t)}function be(){W(Y),W(F),W(fe)}function gt(t){t.memoizedState!==null&&P(ke,t);var r=Y.current,i=Ox(r,t.type);r!==i&&(P(F,t),P(Y,i))}function Hn(t){F.current===t&&(W(Y),W(F)),ke.current===t&&(W(ke),$o._currentValue=ye)}var Wt,Qt;function $t(t){if(Wt===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);Wt=r&&r[1]||"",Qt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+t+Qt}var Tr=!1;function Fn(t,r){if(!t||Tr)return"";Tr=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var q=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){q=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){q=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var C=b.split(`
`),B=w.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===B.length)for(o=C.length-1,h=B.length-1;1<=o&&0<=h&&C[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==B[h]){var X=`
`+C[o].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=o&&0<=h);break}}}finally{Tr=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?$t(i):""}function lr(t,r){switch(t.tag){case 26:case 27:case 5:return $t(t.type);case 16:return $t("Lazy");case 13:return t.child!==r&&r!==null?$t("Suspense Fallback"):$t("Suspense");case 19:return $t("SuspenseList");case 0:case 15:return Fn(t.type,!1);case 11:return Fn(t.type.render,!1);case 1:return Fn(t.type,!0);case 31:return $t("Activity");default:return""}}function Ps(t){try{var r="",i=null;do r+=lr(t,i),i=t,t=t.return;while(t);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var wt=Object.prototype.hasOwnProperty,St=a.unstable_scheduleCallback,Cn=a.unstable_cancelCallback,Xl=a.unstable_shouldYield,zs=a.unstable_requestPaint,Jt=a.unstable_now,aa=a.unstable_getCurrentPriorityLevel,Us=a.unstable_ImmediatePriority,Bs=a.unstable_UserBlockingPriority,me=a.unstable_NormalPriority,Ce=a.unstable_LowPriority,je=a.unstable_IdlePriority,ue=a.log,Ve=a.unstable_setDisableYieldValue,He=null,Ze=null;function Ht(t){if(typeof ue=="function"&&Ve(t),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(He,t)}catch{}}var Ue=Math.clz32?Math.clz32:or,ft=Math.log,cn=Math.LN2;function or(t){return t>>>=0,t===0?32:31-(ft(t)/cn|0)|0}var Rn=256,qs=262144,It=4194304;function Sr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ar(t,r,i){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var w=o&134217727;return w!==0?(o=w&~m,o!==0?h=Sr(o):(b&=w,b!==0?h=Sr(b):i||(i=w&~t,i!==0&&(h=Sr(i))))):(w=o&~m,w!==0?h=Sr(w):b!==0?h=Sr(b):i||(i=o&~t,i!==0&&(h=Sr(i)))),h===0?0:r!==0&&r!==h&&(r&m)===0&&(m=h&-h,i=r&-r,m>=i||m===32&&(i&4194048)!==0)?r:h}function cr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ch(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qc(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function jr(t){for(var r=[],i=0;31>i;i++)r.push(t);return r}function Hs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rh(t,r,i,o,h,m){var b=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var w=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(i=b&~i;0<i;){var X=31-Ue(i),te=1<<X;w[X]=0,C[X]=-1;var q=B[X];if(q!==null)for(B[X]=null,X=0;X<q.length;X++){var Q=q[X];Q!==null&&(Q.lane&=-536870913)}i&=~te}o!==0&&Fs(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~r))}function Fs(t,r,i){t.pendingLanes|=r,t.suspendedLanes&=~r;var o=31-Ue(r);t.entangledLanes|=r,t.entanglements[o]=t.entanglements[o]|1073741824|i&261930}function Zl(t,r){var i=t.entangledLanes|=r;for(t=t.entanglements;i;){var o=31-Ue(i),h=1<<o;h&r|t[o]&r&&(t[o]|=r),i&=~h}}function Wl(t,r){var i=r&-r;return i=(i&42)!==0?1:Gs(i),(i&(t.suspendedLanes|r))!==0?0:i}function Gs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hc(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:rb(t.type))}function ur(t,r){var i=ie.p;try{return ie.p=t,r()}finally{ie.p=i}}var dr=Math.random().toString(36).slice(2),Dt="__reactFiber$"+dr,Kt="__reactProps$"+dr,Cr="__reactContainer$"+dr,Vi="__reactEvents$"+dr,Ih="__reactListeners$"+dr,Fc="__reactHandles$"+dr,Gc="__reactResources$"+dr,Rr="__reactMarker$"+dr;function Li(t){delete t[Dt],delete t[Kt],delete t[Vi],delete t[Ih],delete t[Fc]}function Ir(t){var r=t[Dt];if(r)return r;for(var i=t.parentNode;i;){if(r=i[Cr]||i[Dt]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(t=Bx(t);t!==null;){if(i=t[Dt])return i;t=Bx(t)}return r}t=i,i=t.parentNode}return null}function Gn(t){if(t=t[Dt]||t[Cr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function In(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Dr(t){var r=t[Gc];return r||(r=t[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ot(t){t[Rr]=!0}var Jl=new Set,eo={};function Or(t,r){Mr(t,r),Mr(t+"Capture",r)}function Mr(t,r){for(eo[t]=r,t=0;t<r.length;t++)Jl.add(r[t])}var to=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),no={},ro={};function Qc(t){return wt.call(ro,t)?!0:wt.call(no,t)?!1:to.test(t)?ro[t]=!0:(no[t]=!0,!1)}function Pi(t,r,i){if(Qc(r))if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var o=r.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+i)}}function Dn(t,r,i){if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+i)}}function Mt(t,r,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(r,i,""+o)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pa(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ao(t,r,i){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){i=""+b,m.call(this,b)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(b){i=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function st(t){if(!t._valueTracker){var r=Pa(t)?"checked":"value";t._valueTracker=ao(t,r,""+t[r])}}function Qs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var i=r.getValue(),o="";return t&&(o=Pa(t)?t.checked?"true":"false":t.value),t=o,t!==i?(r.setValue(t),!0):!1}function Vr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $s=/[\n"\\]/g;function vn(t){return t.replace($s,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function zi(t,r,i,o,h,m,b,w){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Yt(r)):t.value!==""+Yt(r)&&(t.value=""+Yt(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?so(t,b,Yt(r)):i!=null?so(t,b,Yt(i)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Yt(w):t.removeAttribute("name")}function $c(t,r,i,o,h,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){st(t);return}i=i!=null?""+Yt(i):"",r=r!=null?""+Yt(r):i,w||r===t.value||(t.value=r),t.defaultValue=r}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=w?t.checked:!!o,t.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),st(t)}function so(t,r,i){r==="number"&&Vr(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function za(t,r,i,o){if(t=t.options,r){r={};for(var h=0;h<i.length;h++)r["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=r.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&o&&(t[i].defaultSelected=!0)}else{for(i=""+Yt(i),r=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Kc(t,r,i){if(r!=null&&(r=""+Yt(r),r!==t.value&&(t.value=r),i==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=i!=null?""+Yt(i):""}function Ua(t,r,i,o){if(r==null){if(o!=null){if(i!=null)throw Error(s(92));if(Ye(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),r=i}i=Yt(r),t.defaultValue=i,o=t.textContent,o===i&&o!==""&&o!==null&&(t.value=o),st(t)}function _n(t,r){if(r){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=r;return}}t.textContent=r}var Yc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function io(t,r,i){var o=r.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":o?t.setProperty(r,i):typeof i!="number"||i===0||Yc.has(r)?r==="float"?t.cssFloat=i:t[r]=(""+i).trim():t[r]=i+"px"}function lo(t,r,i){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||r!=null&&r.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in r)o=r[h],r.hasOwnProperty(h)&&i[h]!==o&&io(t,h,o)}else for(var m in r)r.hasOwnProperty(m)&&io(t,m,r[m])}function Ui(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ba=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bi(t){return Ba.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hr(){}var oo=null;function Qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qa=null,Lr=null;function Ks(t){var r=Gn(t);if(r&&(t=r.stateNode)){var i=t[Kt]||null;e:switch(t=r.stateNode,r.type){case"input":if(zi(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),r=i.name,i.type==="radio"&&r!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+vn(""+r)+'"][type="radio"]'),r=0;r<i.length;r++){var o=i[r];if(o!==t&&o.form===t.form){var h=o[Kt]||null;if(!h)throw Error(s(90));zi(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<i.length;r++)o=i[r],o.form===t.form&&Qs(o)}break e;case"textarea":Kc(t,i.value,i.defaultValue);break e;case"select":r=i.value,r!=null&&za(t,!!i.multiple,r,!1)}}}var qi=!1;function Ha(t,r,i){if(qi)return t(r,i);qi=!0;try{var o=t(r);return o}finally{if(qi=!1,(qa!==null||Lr!==null)&&(Hu(),qa&&(r=qa,t=Lr,Lr=qa=null,Ks(r),t)))for(r=0;r<t.length;r++)Ks(t[r])}}function fr(t,r){var i=t.stateNode;if(i===null)return null;var o=i[Kt]||null;if(o===null)return null;i=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,r,typeof i));return i}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=!1;if($n)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Ys=!1}var Pr=null,co=null,Xs=null;function uo(){if(Xs)return Xs;var t,r=co,i=r.length,o,h="value"in Pr?Pr.value:Pr.textContent,m=h.length;for(t=0;t<i&&r[t]===h[t];t++);var b=i-t;for(o=1;o<=b&&r[i-o]===h[m-o];o++);return Xs=h.slice(t,1<o?1-o:void 0)}function Zs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ia(){return!0}function mr(){return!1}function en(t){function r(i,o,h,m,b){this._reactName=i,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(i=t[w],this[w]=i?i(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ia:mr,this.isPropagationStopped=mr,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),r}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zr=en(la),Fa=E({},la,{view:0,detail:0}),ho=en(Fa),Ga,Hi,Ur,Fi=E({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ur&&(Ur&&t.type==="mousemove"?(Ga=t.screenX-Ur.screenX,Hi=t.screenY-Ur.screenY):Hi=Ga=0,Ur=t),Ga)},movementY:function(t){return"movementY"in t?t.movementY:Hi}}),fo=en(Fi),Ws=E({},Fi,{dataTransfer:0}),Zc=en(Ws),Wc=E({},Fa,{relatedTarget:0}),Js=en(Wc),mo=E({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),Jc=en(mo),Gi=E({},la,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eu=en(Gi),tu=E({},la,{data:0}),Br=en(tu),nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=au[t])?!!r[t]:!1}function Qa(){return su}var yn=E({},Fa,{key:function(t){if(t.key){var r=nu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Zs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(t){return t.type==="keypress"?Zs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iu=en(yn),lu=E({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oa=en(lu),d=E({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),x=en(d),v=E({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=en(v),z=E({},Fi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=en(z),oe=E({},la,{newState:0,oldState:0}),Le=en(oe),At=[9,13,27,32],tt=$n&&"CompositionEvent"in window,bt=null;$n&&"documentMode"in document&&(bt=document.documentMode);var Kn=$n&&"TextEvent"in window&&!bt,qr=$n&&(!tt||bt&&8<bt&&11>=bt),gr=" ",pr=!1;function ei(t,r){switch(t){case"keyup":return At.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qi(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $i=!1;function Iw(t,r){switch(t){case"compositionend":return Qi(r);case"keypress":return r.which!==32?null:(pr=!0,gr);case"textInput":return t=r.data,t===gr&&pr?null:t;default:return null}}function Dw(t,r){if($i)return t==="compositionend"||!tt&&ei(t,r)?(t=uo(),Xs=co=Pr=null,$i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qr&&r.locale!=="ko"?null:r.data;default:return null}}var Ow={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ow[t.type]:r==="textarea"}function Gg(t,r,i,o){qa?Lr?Lr.push(o):Lr=[o]:qa=o,r=Xu(r,"onChange"),0<r.length&&(i=new zr("onChange","change",null,i,o),t.push({event:i,listeners:r}))}var go=null,po=null;function Mw(t){Sx(t,0)}function ou(t){var r=In(t);if(Qs(r))return t}function Qg(t,r){if(t==="change")return r}var $g=!1;if($n){var Dh;if($n){var Oh="oninput"in document;if(!Oh){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),Oh=typeof Kg.oninput=="function"}Dh=Oh}else Dh=!1;$g=Dh&&(!document.documentMode||9<document.documentMode)}function Yg(){go&&(go.detachEvent("onpropertychange",Xg),po=go=null)}function Xg(t){if(t.propertyName==="value"&&ou(po)){var r=[];Gg(r,po,t,Qn(t)),Ha(Mw,r)}}function Vw(t,r,i){t==="focusin"?(Yg(),go=r,po=i,go.attachEvent("onpropertychange",Xg)):t==="focusout"&&Yg()}function Lw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ou(po)}function Pw(t,r){if(t==="click")return ou(r)}function zw(t,r){if(t==="input"||t==="change")return ou(r)}function Uw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var On=typeof Object.is=="function"?Object.is:Uw;function yo(t,r){if(On(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var i=Object.keys(t),o=Object.keys(r);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var h=i[o];if(!wt.call(r,h)||!On(t[h],r[h]))return!1}return!0}function Zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wg(t,r){var i=Zg(t);t=0;for(var o;i;){if(i.nodeType===3){if(o=t+i.textContent.length,t<=r&&o>=r)return{node:i,offset:r-t};t=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Zg(i)}}function Jg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Jg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ep(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Vr(t.document);r instanceof t.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)t=r.contentWindow;else break;r=Vr(t.document)}return r}function Mh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Bw=$n&&"documentMode"in document&&11>=document.documentMode,Ki=null,Vh=null,xo=null,Lh=!1;function tp(t,r,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Lh||Ki==null||Ki!==Vr(o)||(o=Ki,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xo&&yo(xo,o)||(xo=o,o=Xu(Vh,"onSelect"),0<o.length&&(r=new zr("onSelect","select",null,r,i),t.push({event:r,listeners:o}),r.target=Ki)))}function ti(t,r){var i={};return i[t.toLowerCase()]=r.toLowerCase(),i["Webkit"+t]="webkit"+r,i["Moz"+t]="moz"+r,i}var Yi={animationend:ti("Animation","AnimationEnd"),animationiteration:ti("Animation","AnimationIteration"),animationstart:ti("Animation","AnimationStart"),transitionrun:ti("Transition","TransitionRun"),transitionstart:ti("Transition","TransitionStart"),transitioncancel:ti("Transition","TransitionCancel"),transitionend:ti("Transition","TransitionEnd")},Ph={},np={};$n&&(np=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function ni(t){if(Ph[t])return Ph[t];if(!Yi[t])return t;var r=Yi[t],i;for(i in r)if(r.hasOwnProperty(i)&&i in np)return Ph[t]=r[i];return t}var rp=ni("animationend"),ap=ni("animationiteration"),sp=ni("animationstart"),qw=ni("transitionrun"),Hw=ni("transitionstart"),Fw=ni("transitioncancel"),ip=ni("transitionend"),lp=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function yr(t,r){lp.set(t,r),Or(r,[t])}var cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],Xi=0,Uh=0;function uu(){for(var t=Xi,r=Uh=Xi=0;r<t;){var i=Yn[r];Yn[r++]=null;var o=Yn[r];Yn[r++]=null;var h=Yn[r];Yn[r++]=null;var m=Yn[r];if(Yn[r++]=null,o!==null&&h!==null){var b=o.pending;b===null?h.next=h:(h.next=b.next,b.next=h),o.pending=h}m!==0&&op(i,h,m)}}function du(t,r,i,o){Yn[Xi++]=t,Yn[Xi++]=r,Yn[Xi++]=i,Yn[Xi++]=o,Uh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Bh(t,r,i,o){return du(t,r,i,o),hu(t)}function ri(t,r){return du(t,null,null,r),hu(t)}function op(t,r,i){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i);for(var h=!1,m=t.return;m!==null;)m.childLanes|=i,o=m.alternate,o!==null&&(o.childLanes|=i),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&r!==null&&(h=31-Ue(i),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[r]:o.push(r),r.lane=i|536870912),m):null}function hu(t){if(50<Uo)throw Uo=0,Zf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Zi={};function Gw(t,r,i,o){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,r,i,o){return new Gw(t,r,i,o)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ca(t,r){var i=t.alternate;return i===null?(i=Mn(t.tag,r,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=r,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,r=t.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function cp(t,r){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,r=i.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function fu(t,r,i,o,h,m){var b=0;if(o=t,typeof t=="function")qh(t)&&(b=1);else if(typeof t=="string")b=XE(t,i,Y.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case S:return t=Mn(31,i,r,h),t.elementType=S,t.lanes=m,t;case se:return ai(i.children,h,m,r);case Z:b=8,h|=24;break;case pe:return t=Mn(12,i,r,h|2),t.elementType=pe,t.lanes=m,t;case ce:return t=Mn(13,i,r,h),t.elementType=ce,t.lanes=m,t;case $:return t=Mn(19,i,r,h),t.elementType=$,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:b=10;break e;case ne:b=9;break e;case _e:b=11;break e;case T:b=14;break e;case k:b=16,o=null;break e}b=29,i=Error(s(130,t===null?"null":typeof t,"")),o=null}return r=Mn(b,i,r,h),r.elementType=t,r.type=o,r.lanes=m,r}function ai(t,r,i,o){return t=Mn(7,t,o,r),t.lanes=i,t}function Hh(t,r,i){return t=Mn(6,t,null,r),t.lanes=i,t}function up(t){var r=Mn(18,null,null,0);return r.stateNode=t,r}function Fh(t,r,i){return r=Mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=i,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var dp=new WeakMap;function Xn(t,r){if(typeof t=="object"&&t!==null){var i=dp.get(t);return i!==void 0?i:(r={value:t,source:r,stack:Ps(r)},dp.set(t,r),r)}return{value:t,source:r,stack:Ps(r)}}var Wi=[],Ji=0,mu=null,bo=0,Zn=[],Wn=0,$a=null,Hr=1,Fr="";function ua(t,r){Wi[Ji++]=bo,Wi[Ji++]=mu,mu=t,bo=r}function hp(t,r,i){Zn[Wn++]=Hr,Zn[Wn++]=Fr,Zn[Wn++]=$a,$a=t;var o=Hr;t=Fr;var h=32-Ue(o)-1;o&=~(1<<h),i+=1;var m=32-Ue(r)+h;if(30<m){var b=h-h%5;m=(o&(1<<b)-1).toString(32),o>>=b,h-=b,Hr=1<<32-Ue(r)+h|i<<h|o,Fr=m+t}else Hr=1<<m|i<<h|o,Fr=t}function Gh(t){t.return!==null&&(ua(t,1),hp(t,1,0))}function Qh(t){for(;t===mu;)mu=Wi[--Ji],Wi[Ji]=null,bo=Wi[--Ji],Wi[Ji]=null;for(;t===$a;)$a=Zn[--Wn],Zn[Wn]=null,Fr=Zn[--Wn],Zn[Wn]=null,Hr=Zn[--Wn],Zn[Wn]=null}function fp(t,r){Zn[Wn++]=Hr,Zn[Wn++]=Fr,Zn[Wn++]=$a,Hr=r.id,Fr=r.overflow,$a=t}var tn=null,pt=null,Xe=!1,Ka=null,Jn=!1,$h=Error(s(519));function Ya(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vo(Xn(r,t)),$h}function mp(t){var r=t.stateNode,i=t.type,o=t.memoizedProps;switch(r[Dt]=t,r[Kt]=o,i){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<qo.length;i++)qe(qo[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":qe("invalid",r),$c(r,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":qe("invalid",r);break;case"textarea":qe("invalid",r),Ua(r,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||r.textContent===""+i||o.suppressHydrationWarning===!0||Rx(r.textContent,i)?(o.popover!=null&&(qe("beforetoggle",r),qe("toggle",r)),o.onScroll!=null&&qe("scroll",r),o.onScrollEnd!=null&&qe("scrollend",r),o.onClick!=null&&(r.onclick=hr),r=!0):r=!1,r||Ya(t,!0)}function gp(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:tn=tn.return}}function el(t){if(t!==tn)return!1;if(!Xe)return gp(t),Xe=!0,!1;var r=t.tag,i;if((i=r!==3&&r!==27)&&((i=r===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||h0(t.type,t.memoizedProps)),i=!i),i&&pt&&Ya(t),gp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));pt=Ux(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));pt=Ux(t)}else r===27?(r=pt,cs(t.type)?(t=y0,y0=null,pt=t):pt=r):pt=tn?tr(t.stateNode.nextSibling):null;return!0}function si(){pt=tn=null,Xe=!1}function Kh(){var t=Ka;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),Ka=null),t}function vo(t){Ka===null?Ka=[t]:Ka.push(t)}var Yh=I(null),ii=null,da=null;function Xa(t,r,i){P(Yh,r._currentValue),r._currentValue=i}function ha(t){t._currentValue=Yh.current,W(Yh)}function Xh(t,r,i){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===i)break;t=t.return}}function Zh(t,r,i,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=h;for(var C=0;C<r.length;C++)if(w.context===r[C]){m.lanes|=i,w=m.alternate,w!==null&&(w.lanes|=i),Xh(m.return,i,t),o||(b=null);break e}m=w.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=i,m=b.alternate,m!==null&&(m.lanes|=i),Xh(b,i,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function tl(t,r,i,o){t=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=h.type;On(h.pendingProps.value,b.value)||(t!==null?t.push(w):t=[w])}}else if(h===ke.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push($o):t=[$o])}h=h.return}t!==null&&Zh(r,t,i,o),r.flags|=262144}function gu(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function li(t){ii=t,da=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return pp(ii,t)}function pu(t,r){return ii===null&&li(t),pp(t,r)}function pp(t,r){var i=r._currentValue;if(r={context:r,memoizedValue:i,next:null},da===null){if(t===null)throw Error(s(308));da=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else da=da.next=r;return i}var Qw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(i,o){t.push(o)}};this.abort=function(){r.aborted=!0,t.forEach(function(i){return i()})}},$w=a.unstable_scheduleCallback,Kw=a.unstable_NormalPriority,Vt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new Qw,data:new Map,refCount:0}}function _o(t){t.refCount--,t.refCount===0&&$w(Kw,function(){t.controller.abort()})}var wo=null,Jh=0,nl=0,rl=null;function Yw(t,r){if(wo===null){var i=wo=[];Jh=0,nl=r0(),rl={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Jh++,r.then(yp,yp),r}function yp(){if(--Jh===0&&wo!==null){rl!==null&&(rl.status="fulfilled");var t=wo;wo=null,nl=0,rl=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Xw(t,r){var i=[],o={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){o.status="fulfilled",o.value=r;for(var h=0;h<i.length;h++)(0,i[h])(r)},function(h){for(o.status="rejected",o.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),o}var xp=K.S;K.S=function(t,r){tx=Jt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Yw(t,r),xp!==null&&xp(t,r)};var oi=I(null);function ef(){var t=oi.current;return t!==null?t:ht.pooledCache}function yu(t,r){r===null?P(oi,oi.current):P(oi,r.pool)}function bp(){var t=ef();return t===null?null:{parent:Vt._currentValue,pool:t}}var al=Error(s(460)),tf=Error(s(474)),xu=Error(s(542)),bu={then:function(){}};function vp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _p(t,r,i){switch(i=t[i],i===void 0?t.push(r):i!==r&&(r.then(hr,hr),r=i),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ep(t),t;default:if(typeof r.status=="string")r.then(hr,hr);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(o){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=o}},function(o){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=o}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ep(t),t}throw ui=r,al}}function ci(t){try{var r=t._init;return r(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ui=i,al):i}}var ui=null;function wp(){if(ui===null)throw Error(s(459));var t=ui;return ui=null,t}function Ep(t){if(t===al||t===xu)throw Error(s(483))}var sl=null,Eo=0;function vu(t){var r=Eo;return Eo+=1,sl===null&&(sl=[]),_p(sl,t,r)}function No(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function _u(t,r){throw r.$$typeof===j?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Np(t){function r(L,O){if(t){var U=L.deletions;U===null?(L.deletions=[O],L.flags|=16):U.push(O)}}function i(L,O){if(!t)return null;for(;O!==null;)r(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=ca(L,O),L.index=0,L.sibling=null,L}function m(L,O,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<O?(L.flags|=67108866,O):U):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function b(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function w(L,O,U,J){return O===null||O.tag!==6?(O=Hh(U,L.mode,J),O.return=L,O):(O=h(O,U),O.return=L,O)}function C(L,O,U,J){var we=U.type;return we===se?X(L,O,U.props.children,J,U.key):O!==null&&(O.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===k&&ci(we)===O.type)?(O=h(O,U.props),No(O,U),O.return=L,O):(O=fu(U.type,U.key,U.props,null,L.mode,J),No(O,U),O.return=L,O)}function B(L,O,U,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Fh(U,L.mode,J),O.return=L,O):(O=h(O,U.children||[]),O.return=L,O)}function X(L,O,U,J,we){return O===null||O.tag!==7?(O=ai(U,L.mode,J,we),O.return=L,O):(O=h(O,U),O.return=L,O)}function te(L,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Hh(""+O,L.mode,U),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return U=fu(O.type,O.key,O.props,null,L.mode,U),No(U,O),U.return=L,U;case G:return O=Fh(O,L.mode,U),O.return=L,O;case k:return O=ci(O),te(L,O,U)}if(Ye(O)||M(O))return O=ai(O,L.mode,U,null),O.return=L,O;if(typeof O.then=="function")return te(L,vu(O),U);if(O.$$typeof===le)return te(L,pu(L,O),U);_u(L,O)}return null}function q(L,O,U,J){var we=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return we!==null?null:w(L,O,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case V:return U.key===we?C(L,O,U,J):null;case G:return U.key===we?B(L,O,U,J):null;case k:return U=ci(U),q(L,O,U,J)}if(Ye(U)||M(U))return we!==null?null:X(L,O,U,J,null);if(typeof U.then=="function")return q(L,O,vu(U),J);if(U.$$typeof===le)return q(L,O,pu(L,U),J);_u(L,U)}return null}function Q(L,O,U,J,we){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(U)||null,w(O,L,""+J,we);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case V:return L=L.get(J.key===null?U:J.key)||null,C(O,L,J,we);case G:return L=L.get(J.key===null?U:J.key)||null,B(O,L,J,we);case k:return J=ci(J),Q(L,O,U,J,we)}if(Ye(J)||M(J))return L=L.get(U)||null,X(O,L,J,we,null);if(typeof J.then=="function")return Q(L,O,U,vu(J),we);if(J.$$typeof===le)return Q(L,O,U,pu(O,J),we);_u(O,J)}return null}function xe(L,O,U,J){for(var we=null,Je=null,ve=O,ze=O=0,Ge=null;ve!==null&&ze<U.length;ze++){ve.index>ze?(Ge=ve,ve=null):Ge=ve.sibling;var et=q(L,ve,U[ze],J);if(et===null){ve===null&&(ve=Ge);break}t&&ve&&et.alternate===null&&r(L,ve),O=m(et,O,ze),Je===null?we=et:Je.sibling=et,Je=et,ve=Ge}if(ze===U.length)return i(L,ve),Xe&&ua(L,ze),we;if(ve===null){for(;ze<U.length;ze++)ve=te(L,U[ze],J),ve!==null&&(O=m(ve,O,ze),Je===null?we=ve:Je.sibling=ve,Je=ve);return Xe&&ua(L,ze),we}for(ve=o(ve);ze<U.length;ze++)Ge=Q(ve,L,ze,U[ze],J),Ge!==null&&(t&&Ge.alternate!==null&&ve.delete(Ge.key===null?ze:Ge.key),O=m(Ge,O,ze),Je===null?we=Ge:Je.sibling=Ge,Je=Ge);return t&&ve.forEach(function(ms){return r(L,ms)}),Xe&&ua(L,ze),we}function Te(L,O,U,J){if(U==null)throw Error(s(151));for(var we=null,Je=null,ve=O,ze=O=0,Ge=null,et=U.next();ve!==null&&!et.done;ze++,et=U.next()){ve.index>ze?(Ge=ve,ve=null):Ge=ve.sibling;var ms=q(L,ve,et.value,J);if(ms===null){ve===null&&(ve=Ge);break}t&&ve&&ms.alternate===null&&r(L,ve),O=m(ms,O,ze),Je===null?we=ms:Je.sibling=ms,Je=ms,ve=Ge}if(et.done)return i(L,ve),Xe&&ua(L,ze),we;if(ve===null){for(;!et.done;ze++,et=U.next())et=te(L,et.value,J),et!==null&&(O=m(et,O,ze),Je===null?we=et:Je.sibling=et,Je=et);return Xe&&ua(L,ze),we}for(ve=o(ve);!et.done;ze++,et=U.next())et=Q(ve,L,ze,et.value,J),et!==null&&(t&&et.alternate!==null&&ve.delete(et.key===null?ze:et.key),O=m(et,O,ze),Je===null?we=et:Je.sibling=et,Je=et);return t&&ve.forEach(function(lN){return r(L,lN)}),Xe&&ua(L,ze),we}function dt(L,O,U,J){if(typeof U=="object"&&U!==null&&U.type===se&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case V:e:{for(var we=U.key;O!==null;){if(O.key===we){if(we=U.type,we===se){if(O.tag===7){i(L,O.sibling),J=h(O,U.props.children),J.return=L,L=J;break e}}else if(O.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===k&&ci(we)===O.type){i(L,O.sibling),J=h(O,U.props),No(J,U),J.return=L,L=J;break e}i(L,O);break}else r(L,O);O=O.sibling}U.type===se?(J=ai(U.props.children,L.mode,J,U.key),J.return=L,L=J):(J=fu(U.type,U.key,U.props,null,L.mode,J),No(J,U),J.return=L,L=J)}return b(L);case G:e:{for(we=U.key;O!==null;){if(O.key===we)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){i(L,O.sibling),J=h(O,U.children||[]),J.return=L,L=J;break e}else{i(L,O);break}else r(L,O);O=O.sibling}J=Fh(U,L.mode,J),J.return=L,L=J}return b(L);case k:return U=ci(U),dt(L,O,U,J)}if(Ye(U))return xe(L,O,U,J);if(M(U)){if(we=M(U),typeof we!="function")throw Error(s(150));return U=we.call(U),Te(L,O,U,J)}if(typeof U.then=="function")return dt(L,O,vu(U),J);if(U.$$typeof===le)return dt(L,O,pu(L,U),J);_u(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(i(L,O.sibling),J=h(O,U),J.return=L,L=J):(i(L,O),J=Hh(U,L.mode,J),J.return=L,L=J),b(L)):i(L,O)}return function(L,O,U,J){try{Eo=0;var we=dt(L,O,U,J);return sl=null,we}catch(ve){if(ve===al||ve===xu)throw ve;var Je=Mn(29,ve,null,L.mode);return Je.lanes=J,Je.return=L,Je}finally{}}}var di=Np(!0),kp=Np(!1),Za=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ja(t,r,i){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(nt&2)!==0){var h=o.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),o.pending=r,r=hu(t),op(t,null,i),r}return du(t,o,r,i),hu(t)}function ko(t,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194048)!==0)){var o=r.lanes;o&=t.pendingLanes,i|=o,r.lanes=i,Zl(t,i)}}function af(t,r){var i=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,i=i.next}while(i!==null);m===null?h=m=r:m=m.next=r}else h=m=r;i={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=r:t.next=r,i.lastBaseUpdate=r}var sf=!1;function To(){if(sf){var t=rl;if(t!==null)throw t}}function So(t,r,i,o){sf=!1;var h=t.updateQueue;Za=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,B=C.next;C.next=null,b===null?m=B:b.next=B,b=C;var X=t.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==b&&(w===null?X.firstBaseUpdate=B:w.next=B,X.lastBaseUpdate=C))}if(m!==null){var te=h.baseState;b=0,X=B=C=null,w=m;do{var q=w.lane&-536870913,Q=q!==w.lane;if(Q?(Fe&q)===q:(o&q)===q){q!==0&&q===nl&&(sf=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var xe=t,Te=w;q=r;var dt=i;switch(Te.tag){case 1:if(xe=Te.payload,typeof xe=="function"){te=xe.call(dt,te,q);break e}te=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Te.payload,q=typeof xe=="function"?xe.call(dt,te,q):xe,q==null)break e;te=E({},te,q);break e;case 2:Za=!0}}q=w.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(B=X=Q,C=te):X=X.next=Q,b|=q;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(C=te),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=X,m===null&&(h.shared.lanes=0),as|=b,t.lanes=b,t.memoizedState=te}}function Tp(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Sp(t,r){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Tp(i[t],r)}var il=I(null),wu=I(0);function Ap(t,r){t=_a,P(wu,t),P(il,r),_a=t|r.baseLanes}function lf(){P(wu,_a),P(il,il.current)}function of(){_a=wu.current,W(il),W(wu)}var Vn=I(null),er=null;function es(t){var r=t.alternate;P(jt,jt.current&1),P(Vn,t),er===null&&(r===null||il.current!==null||r.memoizedState!==null)&&(er=t)}function cf(t){P(jt,jt.current),P(Vn,t),er===null&&(er=t)}function jp(t){t.tag===22?(P(jt,jt.current),P(Vn,t),er===null&&(er=t)):ts()}function ts(){P(jt,jt.current),P(Vn,Vn.current)}function Ln(t){W(Vn),er===t&&(er=null),W(jt)}var jt=I(0);function Eu(t){for(var r=t;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||g0(i)||p0(i)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fa=0,Pe=null,ct=null,Lt=null,Nu=!1,ll=!1,hi=!1,ku=0,Ao=0,ol=null,Zw=0;function Et(){throw Error(s(321))}function uf(t,r){if(r===null)return!1;for(var i=0;i<r.length&&i<t.length;i++)if(!On(t[i],r[i]))return!1;return!0}function df(t,r,i,o,h,m){return fa=m,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=t===null||t.memoizedState===null?hy:Tf,hi=!1,m=i(o,h),hi=!1,ll&&(m=Rp(r,i,o,h)),Cp(t),m}function Cp(t){K.H=Ro;var r=ct!==null&&ct.next!==null;if(fa=0,Lt=ct=Pe=null,Nu=!1,Ao=0,ol=null,r)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&gu(t)&&(Pt=!0))}function Rp(t,r,i,o){Pe=t;var h=0;do{if(ll&&(ol=null),Ao=0,ll=!1,25<=h)throw Error(s(301));if(h+=1,Lt=ct=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=fy,m=r(i,o)}while(ll);return m}function Ww(){var t=K.H,r=t.useState()[0];return r=typeof r.then=="function"?jo(r):r,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Pe.flags|=1024),r}function hf(){var t=ku!==0;return ku=0,t}function ff(t,r,i){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~i}function mf(t){if(Nu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Nu=!1}fa=0,Lt=ct=Pe=null,ll=!1,Ao=ku=0,ol=null}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Pe.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Ct(){if(ct===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var r=Lt===null?Pe.memoizedState:Lt.next;if(r!==null)Lt=r,ct=t;else{if(t===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Lt===null?Pe.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(t){var r=Ao;return Ao+=1,ol===null&&(ol=[]),t=_p(ol,t,r),r=Pe,(Lt===null?r.memoizedState:Lt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?hy:Tf),t}function Su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jo(t);if(t.$$typeof===le)return nn(t)}throw Error(s(438,String(t)))}function gf(t){var r=null,i=Pe.updateQueue;if(i!==null&&(r=i.memoCache),r==null){var o=Pe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(r={data:o.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),i===null&&(i=Tu(),Pe.updateQueue=i),i.memoCache=r,i=r.data[r.index],i===void 0)for(i=r.data[r.index]=Array(t),o=0;o<t;o++)i[o]=D;return r.index++,i}function ma(t,r){return typeof r=="function"?r(t):r}function Au(t){var r=Ct();return pf(r,ct,t)}function pf(t,r,i){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}r.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{r=h.next;var w=b=null,C=null,B=r,X=!1;do{var te=B.lane&-536870913;if(te!==B.lane?(Fe&te)===te:(fa&te)===te){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),te===nl&&(X=!0);else if((fa&q)===q){B=B.next,q===nl&&(X=!0);continue}else te={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(w=C=te,b=m):C=C.next=te,Pe.lanes|=q,as|=q;te=B.action,hi&&i(m,te),m=B.hasEagerState?B.eagerState:i(m,te)}else q={lane:te,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(w=C=q,b=m):C=C.next=q,Pe.lanes|=te,as|=te;B=B.next}while(B!==null&&B!==r);if(C===null?b=m:C.next=w,!On(m,t.memoizedState)&&(Pt=!0,X&&(i=rl,i!==null)))throw i;t.memoizedState=m,t.baseState=b,t.baseQueue=C,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function yf(t){var r=Ct(),i=r.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var o=i.dispatch,h=i.pending,m=r.memoizedState;if(h!==null){i.pending=null;var b=h=h.next;do m=t(m,b.action),b=b.next;while(b!==h);On(m,r.memoizedState)||(Pt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),i.lastRenderedState=m}return[m,o]}function Ip(t,r,i){var o=Pe,h=Ct(),m=Xe;if(m){if(i===void 0)throw Error(s(407));i=i()}else i=r();var b=!On((ct||h).memoizedState,i);if(b&&(h.memoizedState=i,Pt=!0),h=h.queue,vf(Mp.bind(null,o,h,t),[t]),h.getSnapshot!==r||b||Lt!==null&&Lt.memoizedState.tag&1){if(o.flags|=2048,cl(9,{destroy:void 0},Op.bind(null,o,h,i,r),null),ht===null)throw Error(s(349));m||(fa&127)!==0||Dp(o,r,i)}return i}function Dp(t,r,i){t.flags|=16384,t={getSnapshot:r,value:i},r=Pe.updateQueue,r===null?(r=Tu(),Pe.updateQueue=r,r.stores=[t]):(i=r.stores,i===null?r.stores=[t]:i.push(t))}function Op(t,r,i,o){r.value=i,r.getSnapshot=o,Vp(r)&&Lp(t)}function Mp(t,r,i){return i(function(){Vp(r)&&Lp(t)})}function Vp(t){var r=t.getSnapshot;t=t.value;try{var i=r();return!On(t,i)}catch{return!0}}function Lp(t){var r=ri(t,2);r!==null&&Tn(r,t,2)}function xf(t){var r=xn();if(typeof t=="function"){var i=t;if(t=i(),hi){Ht(!0);try{i()}finally{Ht(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:t},r}function Pp(t,r,i,o){return t.baseState=i,pf(t,ct,typeof o=="function"?o:ma)}function Jw(t,r,i,o,h){if(Ru(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};K.T!==null?i(!0):m.isTransition=!1,o(m),i=r.pending,i===null?(m.next=r.pending=m,zp(r,m)):(m.next=i.next,r.pending=i.next=m)}}function zp(t,r){var i=r.action,o=r.payload,h=t.state;if(r.isTransition){var m=K.T,b={};K.T=b;try{var w=i(h,o),C=K.S;C!==null&&C(b,w),Up(t,r,w)}catch(B){bf(t,r,B)}finally{m!==null&&b.types!==null&&(m.types=b.types),K.T=m}}else try{m=i(h,o),Up(t,r,m)}catch(B){bf(t,r,B)}}function Up(t,r,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Bp(t,r,o)},function(o){return bf(t,r,o)}):Bp(t,r,i)}function Bp(t,r,i){r.status="fulfilled",r.value=i,qp(r),t.state=i,r=t.pending,r!==null&&(i=r.next,i===r?t.pending=null:(i=i.next,r.next=i,zp(t,i)))}function bf(t,r,i){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do r.status="rejected",r.reason=i,qp(r),r=r.next;while(r!==o)}t.action=null}function qp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Hp(t,r){return r}function Fp(t,r){if(Xe){var i=ht.formState;if(i!==null){e:{var o=Pe;if(Xe){if(pt){t:{for(var h=pt,m=Jn;h.nodeType!==8;){if(!m){h=null;break t}if(h=tr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){pt=tr(h.nextSibling),o=h.data==="F!";break e}}Ya(o)}o=!1}o&&(r=i[0])}}return i=xn(),i.memoizedState=i.baseState=r,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hp,lastRenderedState:r},i.queue=o,i=cy.bind(null,Pe,o),o.dispatch=i,o=xf(!1),m=kf.bind(null,Pe,!1,o.queue),o=xn(),h={state:r,dispatch:null,action:t,pending:null},o.queue=h,i=Jw.bind(null,Pe,h,m,i),h.dispatch=i,o.memoizedState=t,[r,i,!1]}function Gp(t){var r=Ct();return Qp(r,ct,t)}function Qp(t,r,i){if(r=pf(t,r,Hp)[0],t=Au(ma)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var o=jo(r)}catch(b){throw b===al?xu:b}else o=r;r=Ct();var h=r.queue,m=h.dispatch;return i!==r.memoizedState&&(Pe.flags|=2048,cl(9,{destroy:void 0},eE.bind(null,h,i),null)),[o,m,t]}function eE(t,r){t.action=r}function $p(t){var r=Ct(),i=ct;if(i!==null)return Qp(r,i,t);Ct(),r=r.memoizedState,i=Ct();var o=i.queue.dispatch;return i.memoizedState=t,[r,o,!1]}function cl(t,r,i,o){return t={tag:t,create:i,deps:o,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=Tu(),Pe.updateQueue=r),i=r.lastEffect,i===null?r.lastEffect=t.next=t:(o=i.next,i.next=t,t.next=o,r.lastEffect=t),t}function Kp(){return Ct().memoizedState}function ju(t,r,i,o){var h=xn();Pe.flags|=t,h.memoizedState=cl(1|r,{destroy:void 0},i,o===void 0?null:o)}function Cu(t,r,i,o){var h=Ct();o=o===void 0?null:o;var m=h.memoizedState.inst;ct!==null&&o!==null&&uf(o,ct.memoizedState.deps)?h.memoizedState=cl(r,m,i,o):(Pe.flags|=t,h.memoizedState=cl(1|r,m,i,o))}function Yp(t,r){ju(8390656,8,t,r)}function vf(t,r){Cu(2048,8,t,r)}function tE(t){Pe.flags|=4;var r=Pe.updateQueue;if(r===null)r=Tu(),Pe.updateQueue=r,r.events=[t];else{var i=r.events;i===null?r.events=[t]:i.push(t)}}function Xp(t){var r=Ct().memoizedState;return tE({ref:r,nextImpl:t}),function(){if((nt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Zp(t,r){return Cu(4,2,t,r)}function Wp(t,r){return Cu(4,4,t,r)}function Jp(t,r){if(typeof r=="function"){t=t();var i=r(t);return function(){typeof i=="function"?i():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ey(t,r,i){i=i!=null?i.concat([t]):null,Cu(4,4,Jp.bind(null,r,t),i)}function _f(){}function ty(t,r){var i=Ct();r=r===void 0?null:r;var o=i.memoizedState;return r!==null&&uf(r,o[1])?o[0]:(i.memoizedState=[t,r],t)}function ny(t,r){var i=Ct();r=r===void 0?null:r;var o=i.memoizedState;if(r!==null&&uf(r,o[1]))return o[0];if(o=t(),hi){Ht(!0);try{t()}finally{Ht(!1)}}return i.memoizedState=[o,r],o}function wf(t,r,i){return i===void 0||(fa&1073741824)!==0&&(Fe&261930)===0?t.memoizedState=r:(t.memoizedState=i,t=rx(),Pe.lanes|=t,as|=t,i)}function ry(t,r,i,o){return On(i,r)?i:il.current!==null?(t=wf(t,i,o),On(t,r)||(Pt=!0),t):(fa&42)===0||(fa&1073741824)!==0&&(Fe&261930)===0?(Pt=!0,t.memoizedState=i):(t=rx(),Pe.lanes|=t,as|=t,r)}function ay(t,r,i,o,h){var m=ie.p;ie.p=m!==0&&8>m?m:8;var b=K.T,w={};K.T=w,kf(t,!1,r,i);try{var C=h(),B=K.S;if(B!==null&&B(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=Xw(C,o);Co(t,r,X,Un(t))}else Co(t,r,o,Un(t))}catch(te){Co(t,r,{then:function(){},status:"rejected",reason:te},Un())}finally{ie.p=m,b!==null&&w.types!==null&&(b.types=w.types),K.T=b}}function nE(){}function Ef(t,r,i,o){if(t.tag!==5)throw Error(s(476));var h=sy(t).queue;ay(t,h,r,ye,i===null?nE:function(){return iy(t),i(o)})}function sy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:ye},next:null};var i={};return r.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:i},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function iy(t){var r=sy(t);r.next===null&&(r=t.alternate.memoizedState),Co(t,r.next.queue,{},Un())}function Nf(){return nn($o)}function ly(){return Ct().memoizedState}function oy(){return Ct().memoizedState}function rE(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var i=Un();t=Wa(i);var o=Ja(r,t,i);o!==null&&(Tn(o,r,i),ko(o,r,i)),r={cache:Wh()},t.payload=r;return}r=r.return}}function aE(t,r,i){var o=Un();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ru(t)?uy(r,i):(i=Bh(t,r,i,o),i!==null&&(Tn(i,t,o),dy(i,r,o)))}function cy(t,r,i){var o=Un();Co(t,r,i,o)}function Co(t,r,i,o){var h={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ru(t))uy(r,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var b=r.lastRenderedState,w=m(b,i);if(h.hasEagerState=!0,h.eagerState=w,On(w,b))return du(t,r,h,0),ht===null&&uu(),!1}catch{}finally{}if(i=Bh(t,r,h,o),i!==null)return Tn(i,t,o),dy(i,r,o),!0}return!1}function kf(t,r,i,o){if(o={lane:2,revertLane:r0(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ru(t)){if(r)throw Error(s(479))}else r=Bh(t,i,o,2),r!==null&&Tn(r,t,2)}function Ru(t){var r=t.alternate;return t===Pe||r!==null&&r===Pe}function uy(t,r){ll=Nu=!0;var i=t.pending;i===null?r.next=r:(r.next=i.next,i.next=r),t.pending=r}function dy(t,r,i){if((i&4194048)!==0){var o=r.lanes;o&=t.pendingLanes,i|=o,r.lanes=i,Zl(t,i)}}var Ro={readContext:nn,use:Su,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Ro.useEffectEvent=Et;var hy={readContext:nn,use:Su,useCallback:function(t,r){return xn().memoizedState=[t,r===void 0?null:r],t},useContext:nn,useEffect:Yp,useImperativeHandle:function(t,r,i){i=i!=null?i.concat([t]):null,ju(4194308,4,Jp.bind(null,r,t),i)},useLayoutEffect:function(t,r){return ju(4194308,4,t,r)},useInsertionEffect:function(t,r){ju(4,2,t,r)},useMemo:function(t,r){var i=xn();r=r===void 0?null:r;var o=t();if(hi){Ht(!0);try{t()}finally{Ht(!1)}}return i.memoizedState=[o,r],o},useReducer:function(t,r,i){var o=xn();if(i!==void 0){var h=i(r);if(hi){Ht(!0);try{i(r)}finally{Ht(!1)}}}else h=r;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=aE.bind(null,Pe,t),[o.memoizedState,t]},useRef:function(t){var r=xn();return t={current:t},r.memoizedState=t},useState:function(t){t=xf(t);var r=t.queue,i=cy.bind(null,Pe,r);return r.dispatch=i,[t.memoizedState,i]},useDebugValue:_f,useDeferredValue:function(t,r){var i=xn();return wf(i,t,r)},useTransition:function(){var t=xf(!1);return t=ay.bind(null,Pe,t.queue,!0,!1),xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,i){var o=Pe,h=xn();if(Xe){if(i===void 0)throw Error(s(407));i=i()}else{if(i=r(),ht===null)throw Error(s(349));(Fe&127)!==0||Dp(o,r,i)}h.memoizedState=i;var m={value:i,getSnapshot:r};return h.queue=m,Yp(Mp.bind(null,o,m,t),[t]),o.flags|=2048,cl(9,{destroy:void 0},Op.bind(null,o,m,i,r),null),i},useId:function(){var t=xn(),r=ht.identifierPrefix;if(Xe){var i=Fr,o=Hr;i=(o&~(1<<32-Ue(o)-1)).toString(32)+i,r="_"+r+"R_"+i,i=ku++,0<i&&(r+="H"+i.toString(32)),r+="_"}else i=Zw++,r="_"+r+"r_"+i.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Nf,useFormState:Fp,useActionState:Fp,useOptimistic:function(t){var r=xn();r.memoizedState=r.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=i,r=kf.bind(null,Pe,!0,i),i.dispatch=r,[t,r]},useMemoCache:gf,useCacheRefresh:function(){return xn().memoizedState=rE.bind(null,Pe)},useEffectEvent:function(t){var r=xn(),i={impl:t};return r.memoizedState=i,function(){if((nt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Tf={readContext:nn,use:Su,useCallback:ty,useContext:nn,useEffect:vf,useImperativeHandle:ey,useInsertionEffect:Zp,useLayoutEffect:Wp,useMemo:ny,useReducer:Au,useRef:Kp,useState:function(){return Au(ma)},useDebugValue:_f,useDeferredValue:function(t,r){var i=Ct();return ry(i,ct.memoizedState,t,r)},useTransition:function(){var t=Au(ma)[0],r=Ct().memoizedState;return[typeof t=="boolean"?t:jo(t),r]},useSyncExternalStore:Ip,useId:ly,useHostTransitionStatus:Nf,useFormState:Gp,useActionState:Gp,useOptimistic:function(t,r){var i=Ct();return Pp(i,ct,t,r)},useMemoCache:gf,useCacheRefresh:oy};Tf.useEffectEvent=Xp;var fy={readContext:nn,use:Su,useCallback:ty,useContext:nn,useEffect:vf,useImperativeHandle:ey,useInsertionEffect:Zp,useLayoutEffect:Wp,useMemo:ny,useReducer:yf,useRef:Kp,useState:function(){return yf(ma)},useDebugValue:_f,useDeferredValue:function(t,r){var i=Ct();return ct===null?wf(i,t,r):ry(i,ct.memoizedState,t,r)},useTransition:function(){var t=yf(ma)[0],r=Ct().memoizedState;return[typeof t=="boolean"?t:jo(t),r]},useSyncExternalStore:Ip,useId:ly,useHostTransitionStatus:Nf,useFormState:$p,useActionState:$p,useOptimistic:function(t,r){var i=Ct();return ct!==null?Pp(i,ct,t,r):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:gf,useCacheRefresh:oy};fy.useEffectEvent=Xp;function Sf(t,r,i,o){r=t.memoizedState,i=i(o,r),i=i==null?r:E({},r,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Af={enqueueSetState:function(t,r,i){t=t._reactInternals;var o=Un(),h=Wa(o);h.payload=r,i!=null&&(h.callback=i),r=Ja(t,h,o),r!==null&&(Tn(r,t,o),ko(r,t,o))},enqueueReplaceState:function(t,r,i){t=t._reactInternals;var o=Un(),h=Wa(o);h.tag=1,h.payload=r,i!=null&&(h.callback=i),r=Ja(t,h,o),r!==null&&(Tn(r,t,o),ko(r,t,o))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var i=Un(),o=Wa(i);o.tag=2,r!=null&&(o.callback=r),r=Ja(t,o,i),r!==null&&(Tn(r,t,i),ko(r,t,i))}};function my(t,r,i,o,h,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,b):r.prototype&&r.prototype.isPureReactComponent?!yo(i,o)||!yo(h,m):!0}function gy(t,r,i,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,o),r.state!==t&&Af.enqueueReplaceState(r,r.state,null)}function fi(t,r){var i=r;if("ref"in r){i={};for(var o in r)o!=="ref"&&(i[o]=r[o])}if(t=t.defaultProps){i===r&&(i=E({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function py(t){cu(t)}function yy(t){console.error(t)}function xy(t){cu(t)}function Iu(t,r){try{var i=t.onUncaughtError;i(r.value,{componentStack:r.stack})}catch(o){setTimeout(function(){throw o})}}function by(t,r,i){try{var o=t.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,r,i){return i=Wa(i),i.tag=3,i.payload={element:null},i.callback=function(){Iu(t,r)},i}function vy(t){return t=Wa(t),t.tag=3,t}function _y(t,r,i,o){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){by(r,i,o)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){by(r,i,o),typeof h!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function sE(t,r,i,o,h){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(r=i.alternate,r!==null&&tl(r,i,h,!0),i=Vn.current,i!==null){switch(i.tag){case 31:case 13:return er===null?Fu():i.alternate===null&&Nt===0&&(Nt=3),i.flags&=-257,i.flags|=65536,i.lanes=h,o===bu?i.flags|=16384:(r=i.updateQueue,r===null?i.updateQueue=new Set([o]):r.add(o),e0(t,o,h)),!1;case 22:return i.flags|=65536,o===bu?i.flags|=16384:(r=i.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=r):(i=r.retryQueue,i===null?r.retryQueue=new Set([o]):i.add(o)),e0(t,o,h)),!1}throw Error(s(435,i.tag))}return e0(t,o,h),Fu(),!1}if(Xe)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,o!==$h&&(t=Error(s(422),{cause:o}),vo(Xn(t,i)))):(o!==$h&&(r=Error(s(423),{cause:o}),vo(Xn(r,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Xn(o,i),h=jf(t.stateNode,o,h),af(t,h),Nt!==4&&(Nt=2)),!1;var m=Error(s(520),{cause:o});if(m=Xn(m,i),zo===null?zo=[m]:zo.push(m),Nt!==4&&(Nt=2),r===null)return!0;o=Xn(o,i),i=r;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=jf(i.stateNode,o,t),af(i,t),!1;case 1:if(r=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ss===null||!ss.has(m))))return i.flags|=65536,h&=-h,i.lanes|=h,h=vy(h),_y(h,t,i,o),af(i,h),!1}i=i.return}while(i!==null);return!1}var Cf=Error(s(461)),Pt=!1;function rn(t,r,i,o){r.child=t===null?kp(r,null,i,o):di(r,t.child,i,o)}function wy(t,r,i,o,h){i=i.render;var m=r.ref;if("ref"in o){var b={};for(var w in o)w!=="ref"&&(b[w]=o[w])}else b=o;return li(r),o=df(t,r,i,b,m,h),w=hf(),t!==null&&!Pt?(ff(t,r,h),ga(t,r,h)):(Xe&&w&&Gh(r),r.flags|=1,rn(t,r,o,h),r.child)}function Ey(t,r,i,o,h){if(t===null){var m=i.type;return typeof m=="function"&&!qh(m)&&m.defaultProps===void 0&&i.compare===null?(r.tag=15,r.type=m,Ny(t,r,m,o,h)):(t=fu(i.type,null,o,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!Pf(t,h)){var b=m.memoizedProps;if(i=i.compare,i=i!==null?i:yo,i(b,o)&&t.ref===r.ref)return ga(t,r,h)}return r.flags|=1,t=ca(m,o),t.ref=r.ref,t.return=r,r.child=t}function Ny(t,r,i,o,h){if(t!==null){var m=t.memoizedProps;if(yo(m,o)&&t.ref===r.ref)if(Pt=!1,r.pendingProps=o=m,Pf(t,h))(t.flags&131072)!==0&&(Pt=!0);else return r.lanes=t.lanes,ga(t,r,h)}return Rf(t,r,i,o,h)}function ky(t,r,i,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,t!==null){for(o=r.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,r.child=null;return Ty(t,r,m,i,o)}if((i&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&yu(r,m!==null?m.cachePool:null),m!==null?Ap(r,m):lf(),jp(r);else return o=r.lanes=536870912,Ty(t,r,m!==null?m.baseLanes|i:i,i,o)}else m!==null?(yu(r,m.cachePool),Ap(r,m),ts(),r.memoizedState=null):(t!==null&&yu(r,null),lf(),ts());return rn(t,r,h,i),r.child}function Io(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Ty(t,r,i,o,h){var m=ef();return m=m===null?null:{parent:Vt._currentValue,pool:m},r.memoizedState={baseLanes:i,cachePool:m},t!==null&&yu(r,null),lf(),jp(r),t!==null&&tl(t,r,o,!0),r.childLanes=h,null}function Du(t,r){return r=Mu({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Sy(t,r,i){return di(r,t.child,null,i),t=Du(r,r.pendingProps),t.flags|=2,Ln(r),r.memoizedState=null,t}function iE(t,r,i){var o=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Xe){if(o.mode==="hidden")return t=Du(r,o),r.lanes=536870912,Io(null,t);if(cf(r),(t=pt)?(t=zx(t,Jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:$a!==null?{id:Hr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},i=up(t),i.return=r,r.child=i,tn=r,pt=null)):t=null,t===null)throw Ya(r);return r.lanes=536870912,null}return Du(r,o)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(cf(r),h)if(r.flags&256)r.flags&=-257,r=Sy(t,r,i);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Pt||tl(t,r,i,!1),h=(i&t.childLanes)!==0,Pt||h){if(o=ht,o!==null&&(b=Wl(o,i),b!==0&&b!==m.retryLane))throw m.retryLane=b,ri(t,b),Tn(o,t,b),Cf;Fu(),r=Sy(t,r,i)}else t=m.treeContext,pt=tr(b.nextSibling),tn=r,Xe=!0,Ka=null,Jn=!1,t!==null&&fp(r,t),r=Du(r,o),r.flags|=4096;return r}return t=ca(t.child,{mode:o.mode,children:o.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Ou(t,r){var i=r.ref;if(i===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(r.flags|=4194816)}}function Rf(t,r,i,o,h){return li(r),i=df(t,r,i,o,void 0,h),o=hf(),t!==null&&!Pt?(ff(t,r,h),ga(t,r,h)):(Xe&&o&&Gh(r),r.flags|=1,rn(t,r,i,h),r.child)}function Ay(t,r,i,o,h,m){return li(r),r.updateQueue=null,i=Rp(r,o,i,h),Cp(t),o=hf(),t!==null&&!Pt?(ff(t,r,m),ga(t,r,m)):(Xe&&o&&Gh(r),r.flags|=1,rn(t,r,i,m),r.child)}function jy(t,r,i,o,h){if(li(r),r.stateNode===null){var m=Zi,b=i.contextType;typeof b=="object"&&b!==null&&(m=nn(b)),m=new i(o,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Af,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=o,m.state=r.memoizedState,m.refs={},nf(r),b=i.contextType,m.context=typeof b=="object"&&b!==null?nn(b):Zi,m.state=r.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(Sf(r,i,b,o),m.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Af.enqueueReplaceState(m,m.state,null),So(r,o,m,h),To(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),o=!0}else if(t===null){m=r.stateNode;var w=r.memoizedProps,C=fi(i,w);m.props=C;var B=m.context,X=i.contextType;b=Zi,typeof X=="object"&&X!==null&&(b=nn(X));var te=i.getDerivedStateFromProps;X=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||B!==b)&&gy(r,m,o,b),Za=!1;var q=r.memoizedState;m.state=q,So(r,o,m,h),To(),B=r.memoizedState,w||q!==B||Za?(typeof te=="function"&&(Sf(r,i,te,o),B=r.memoizedState),(C=Za||my(r,i,C,o,q,B,b))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=B),m.props=o,m.state=B,m.context=b,o=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{m=r.stateNode,rf(t,r),b=r.memoizedProps,X=fi(i,b),m.props=X,te=r.pendingProps,q=m.context,B=i.contextType,C=Zi,typeof B=="object"&&B!==null&&(C=nn(B)),w=i.getDerivedStateFromProps,(B=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==te||q!==C)&&gy(r,m,o,C),Za=!1,q=r.memoizedState,m.state=q,So(r,o,m,h),To();var Q=r.memoizedState;b!==te||q!==Q||Za||t!==null&&t.dependencies!==null&&gu(t.dependencies)?(typeof w=="function"&&(Sf(r,i,w,o),Q=r.memoizedState),(X=Za||my(r,i,X,o,q,Q,C)||t!==null&&t.dependencies!==null&&gu(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,Q,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,Q,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=Q),m.props=o,m.state=Q,m.context=C,o=X):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),o=!1)}return m=o,Ou(t,r),o=(r.flags&128)!==0,m||o?(m=r.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&o?(r.child=di(r,t.child,null,h),r.child=di(r,null,i,h)):rn(t,r,i,h),r.memoizedState=m.state,t=r.child):t=ga(t,r,h),t}function Cy(t,r,i,o){return si(),r.flags|=256,rn(t,r,i,o),r.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(t){return{baseLanes:t,cachePool:bp()}}function Of(t,r,i){return t=t!==null?t.childLanes&~i:0,r&&(t|=zn),t}function Ry(t,r,i){var o=r.pendingProps,h=!1,m=(r.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(jt.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(Xe){if(h?es(r):ts(),(t=pt)?(t=zx(t,Jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:$a!==null?{id:Hr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},i=up(t),i.return=r,r.child=i,tn=r,pt=null)):t=null,t===null)throw Ya(r);return p0(t)?r.lanes=32:r.lanes=536870912,null}var w=o.children;return o=o.fallback,h?(ts(),h=r.mode,w=Mu({mode:"hidden",children:w},h),o=ai(o,h,i,null),w.return=r,o.return=r,w.sibling=o,r.child=w,o=r.child,o.memoizedState=Df(i),o.childLanes=Of(t,b,i),r.memoizedState=If,Io(null,o)):(es(r),Mf(r,w))}var C=t.memoizedState;if(C!==null&&(w=C.dehydrated,w!==null)){if(m)r.flags&256?(es(r),r.flags&=-257,r=Vf(t,r,i)):r.memoizedState!==null?(ts(),r.child=t.child,r.flags|=128,r=null):(ts(),w=o.fallback,h=r.mode,o=Mu({mode:"visible",children:o.children},h),w=ai(w,h,i,null),w.flags|=2,o.return=r,w.return=r,o.sibling=w,r.child=o,di(r,t.child,null,i),o=r.child,o.memoizedState=Df(i),o.childLanes=Of(t,b,i),r.memoizedState=If,r=Io(null,o));else if(es(r),p0(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var B=b.dgst;b=B,o=Error(s(419)),o.stack="",o.digest=b,vo({value:o,source:null,stack:null}),r=Vf(t,r,i)}else if(Pt||tl(t,r,i,!1),b=(i&t.childLanes)!==0,Pt||b){if(b=ht,b!==null&&(o=Wl(b,i),o!==0&&o!==C.retryLane))throw C.retryLane=o,ri(t,o),Tn(b,t,o),Cf;g0(w)||Fu(),r=Vf(t,r,i)}else g0(w)?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,pt=tr(w.nextSibling),tn=r,Xe=!0,Ka=null,Jn=!1,t!==null&&fp(r,t),r=Mf(r,o.children),r.flags|=4096);return r}return h?(ts(),w=o.fallback,h=r.mode,C=t.child,B=C.sibling,o=ca(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,B!==null?w=ca(B,w):(w=ai(w,h,i,null),w.flags|=2),w.return=r,o.return=r,o.sibling=w,r.child=o,Io(null,o),o=r.child,w=t.child.memoizedState,w===null?w=Df(i):(h=w.cachePool,h!==null?(C=Vt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=bp(),w={baseLanes:w.baseLanes|i,cachePool:h}),o.memoizedState=w,o.childLanes=Of(t,b,i),r.memoizedState=If,Io(t.child,o)):(es(r),i=t.child,t=i.sibling,i=ca(i,{mode:"visible",children:o.children}),i.return=r,i.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=i,r.memoizedState=null,i)}function Mf(t,r){return r=Mu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Mu(t,r){return t=Mn(22,t,null,r),t.lanes=0,t}function Vf(t,r,i){return di(r,t.child,null,i),t=Mf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Iy(t,r,i){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),Xh(t.return,r,i)}function Lf(t,r,i,o,h,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:h,treeForkCount:m}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=i,b.tailMode=h,b.treeForkCount=m)}function Dy(t,r,i){var o=r.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var b=jt.current,w=(b&2)!==0;if(w?(b=b&1|2,r.flags|=128):b&=1,P(jt,b),rn(t,r,o,i),o=Xe?bo:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iy(t,i,r);else if(t.tag===19)Iy(t,i,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=r.child,h=null;i!==null;)t=i.alternate,t!==null&&Eu(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=r.child,r.child=null):(h=i.sibling,i.sibling=null),Lf(r,!1,h,i,m,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Eu(t)===null){r.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Lf(r,!0,i,null,m,o);break;case"together":Lf(r,!1,null,null,void 0,o);break;default:r.memoizedState=null}return r.child}function ga(t,r,i){if(t!==null&&(r.dependencies=t.dependencies),as|=r.lanes,(i&r.childLanes)===0)if(t!==null){if(tl(t,r,i,!1),(i&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,i=ca(t,t.pendingProps),r.child=i,i.return=r;t.sibling!==null;)t=t.sibling,i=i.sibling=ca(t,t.pendingProps),i.return=r;i.sibling=null}return r.child}function Pf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&gu(t)))}function lE(t,r,i){switch(r.tag){case 3:rt(r,r.stateNode.containerInfo),Xa(r,Vt,t.memoizedState.cache),si();break;case 27:case 5:gt(r);break;case 4:rt(r,r.stateNode.containerInfo);break;case 10:Xa(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,cf(r),null;break;case 13:var o=r.memoizedState;if(o!==null)return o.dehydrated!==null?(es(r),r.flags|=128,null):(i&r.child.childLanes)!==0?Ry(t,r,i):(es(r),t=ga(t,r,i),t!==null?t.sibling:null);es(r);break;case 19:var h=(t.flags&128)!==0;if(o=(i&r.childLanes)!==0,o||(tl(t,r,i,!1),o=(i&r.childLanes)!==0),h){if(o)return Dy(t,r,i);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),P(jt,jt.current),o)break;return null;case 22:return r.lanes=0,ky(t,r,i,r.pendingProps);case 24:Xa(r,Vt,t.memoizedState.cache)}return ga(t,r,i)}function Oy(t,r,i){if(t!==null)if(t.memoizedProps!==r.pendingProps)Pt=!0;else{if(!Pf(t,i)&&(r.flags&128)===0)return Pt=!1,lE(t,r,i);Pt=(t.flags&131072)!==0}else Pt=!1,Xe&&(r.flags&1048576)!==0&&hp(r,bo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var o=r.pendingProps;if(t=ci(r.elementType),r.type=t,typeof t=="function")qh(t)?(o=fi(t,o),r.tag=1,r=jy(null,r,t,o,i)):(r.tag=0,r=Rf(null,r,t,o,i));else{if(t!=null){var h=t.$$typeof;if(h===_e){r.tag=11,r=wy(null,r,t,o,i);break e}else if(h===T){r.tag=14,r=Ey(null,r,t,o,i);break e}}throw r=Ne(t)||t,Error(s(306,r,""))}}return r;case 0:return Rf(t,r,r.type,r.pendingProps,i);case 1:return o=r.type,h=fi(o,r.pendingProps),jy(t,r,o,h,i);case 3:e:{if(rt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));o=r.pendingProps;var m=r.memoizedState;h=m.element,rf(t,r),So(r,o,null,i);var b=r.memoizedState;if(o=b.cache,Xa(r,Vt,o),o!==m.cache&&Zh(r,[Vt],i,!0),To(),o=b.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Cy(t,r,o,i);break e}else if(o!==h){h=Xn(Error(s(424)),r),vo(h),r=Cy(t,r,o,i);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=tr(t.firstChild),tn=r,Xe=!0,Ka=null,Jn=!0,i=kp(r,null,o,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(si(),o===h){r=ga(t,r,i);break e}rn(t,r,o,i)}r=r.child}return r;case 26:return Ou(t,r),t===null?(i=Gx(r.type,null,r.pendingProps,null))?r.memoizedState=i:Xe||(i=r.type,t=r.pendingProps,o=Zu(fe.current).createElement(i),o[Dt]=r,o[Kt]=t,an(o,i,t),Ot(o),r.stateNode=o):r.memoizedState=Gx(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return gt(r),t===null&&Xe&&(o=r.stateNode=qx(r.type,r.pendingProps,fe.current),tn=r,Jn=!0,h=pt,cs(r.type)?(y0=h,pt=tr(o.firstChild)):pt=h),rn(t,r,r.pendingProps.children,i),Ou(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Xe&&((h=o=pt)&&(o=LE(o,r.type,r.pendingProps,Jn),o!==null?(r.stateNode=o,tn=r,pt=tr(o.firstChild),Jn=!1,h=!0):h=!1),h||Ya(r)),gt(r),h=r.type,m=r.pendingProps,b=t!==null?t.memoizedProps:null,o=m.children,h0(h,m)?o=null:b!==null&&h0(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=df(t,r,Ww,null,null,i),$o._currentValue=h),Ou(t,r),rn(t,r,o,i),r.child;case 6:return t===null&&Xe&&((t=i=pt)&&(i=PE(i,r.pendingProps,Jn),i!==null?(r.stateNode=i,tn=r,pt=null,t=!0):t=!1),t||Ya(r)),null;case 13:return Ry(t,r,i);case 4:return rt(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=di(r,null,o,i):rn(t,r,o,i),r.child;case 11:return wy(t,r,r.type,r.pendingProps,i);case 7:return rn(t,r,r.pendingProps,i),r.child;case 8:return rn(t,r,r.pendingProps.children,i),r.child;case 12:return rn(t,r,r.pendingProps.children,i),r.child;case 10:return o=r.pendingProps,Xa(r,r.type,o.value),rn(t,r,o.children,i),r.child;case 9:return h=r.type._context,o=r.pendingProps.children,li(r),h=nn(h),o=o(h),r.flags|=1,rn(t,r,o,i),r.child;case 14:return Ey(t,r,r.type,r.pendingProps,i);case 15:return Ny(t,r,r.type,r.pendingProps,i);case 19:return Dy(t,r,i);case 31:return iE(t,r,i);case 22:return ky(t,r,i,r.pendingProps);case 24:return li(r),o=nn(Vt),t===null?(h=ef(),h===null&&(h=ht,m=Wh(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=i),h=m),r.memoizedState={parent:o,cache:h},nf(r),Xa(r,Vt,h)):((t.lanes&i)!==0&&(rf(t,r),So(r,null,null,i),To()),h=t.memoizedState,m=r.memoizedState,h.parent!==o?(h={parent:o,cache:o},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Xa(r,Vt,o)):(o=m.cache,Xa(r,Vt,o),o!==h.cache&&Zh(r,[Vt],i,!0))),rn(t,r,r.pendingProps.children,i),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function pa(t){t.flags|=4}function zf(t,r,i,o,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(lx())t.flags|=8192;else throw ui=bu,tf}else t.flags&=-16777217}function My(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xx(r))if(lx())t.flags|=8192;else throw ui=bu,tf}function Vu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?qc():536870912,t.lanes|=r,fl|=r)}function Do(t,r){if(!Xe)switch(t.tailMode){case"hidden":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function yt(t){var r=t.alternate!==null&&t.alternate.child===t.child,i=0,o=0;if(r)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=i,r}function oE(t,r,i){var o=r.pendingProps;switch(Qh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(r),null;case 1:return yt(r),null;case 3:return i=r.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ha(Vt),be(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(el(r)?pa(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kh())),yt(r),null;case 26:var h=r.type,m=r.memoizedState;return t===null?(pa(r),m!==null?(yt(r),My(r,m)):(yt(r),zf(r,h,null,o,i))):m?m!==t.memoizedState?(pa(r),yt(r),My(r,m)):(yt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==o&&pa(r),yt(r),zf(r,h,t,o,i)),null;case 27:if(Hn(r),i=fe.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&pa(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return yt(r),null}t=Y.current,el(r)?mp(r):(t=qx(h,o,i),r.stateNode=t,pa(r))}return yt(r),null;case 5:if(Hn(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==o&&pa(r);else{if(!o){if(r.stateNode===null)throw Error(s(166));return yt(r),null}if(m=Y.current,el(r))mp(r);else{var b=Zu(fe.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?b.createElement(h,{is:o.is}):b.createElement(h)}}m[Dt]=r,m[Kt]=o;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=m;e:switch(an(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&pa(r)}}return yt(r),zf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,i),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==o&&pa(r);else{if(typeof o!="string"&&r.stateNode===null)throw Error(s(166));if(t=fe.current,el(r)){if(t=r.stateNode,i=r.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Dt]=r,t=!!(t.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||Rx(t.nodeValue,i)),t||Ya(r,!0)}else t=Zu(t).createTextNode(o),t[Dt]=r,r.stateNode=t}return yt(r),null;case 31:if(i=r.memoizedState,t===null||t.memoizedState!==null){if(o=el(r),i!==null){if(t===null){if(!o)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Dt]=r}else si(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),t=!1}else i=Kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return r.flags&256?(Ln(r),r):(Ln(r),null);if((r.flags&128)!==0)throw Error(s(558))}return yt(r),null;case 13:if(o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=el(r),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Dt]=r}else si(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),h=!1}else h=Kh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Ln(r),r):(Ln(r),null)}return Ln(r),(r.flags&128)!==0?(r.lanes=i,r):(i=o!==null,t=t!==null&&t.memoizedState!==null,i&&(o=r.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),i!==t&&i&&(r.child.flags|=8192),Vu(r,r.updateQueue),yt(r),null);case 4:return be(),t===null&&l0(r.stateNode.containerInfo),yt(r),null;case 10:return ha(r.type),yt(r),null;case 19:if(W(jt),o=r.memoizedState,o===null)return yt(r),null;if(h=(r.flags&128)!==0,m=o.rendering,m===null)if(h)Do(o,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=Eu(t),m!==null){for(r.flags|=128,Do(o,!1),t=m.updateQueue,r.updateQueue=t,Vu(r,t),r.subtreeFlags=0,t=i,i=r.child;i!==null;)cp(i,t),i=i.sibling;return P(jt,jt.current&1|2),Xe&&ua(r,o.treeForkCount),r.child}t=t.sibling}o.tail!==null&&Jt()>Bu&&(r.flags|=128,h=!0,Do(o,!1),r.lanes=4194304)}else{if(!h)if(t=Eu(m),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,Vu(r,t),Do(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Xe)return yt(r),null}else 2*Jt()-o.renderingStartTime>Bu&&i!==536870912&&(r.flags|=128,h=!0,Do(o,!1),r.lanes=4194304);o.isBackwards?(m.sibling=r.child,r.child=m):(t=o.last,t!==null?t.sibling=m:r.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Jt(),t.sibling=null,i=jt.current,P(jt,h?i&1|2:i&1),Xe&&ua(r,o.treeForkCount),t):(yt(r),null);case 22:case 23:return Ln(r),of(),o=r.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(r.flags|=8192):o&&(r.flags|=8192),o?(i&536870912)!==0&&(r.flags&128)===0&&(yt(r),r.subtreeFlags&6&&(r.flags|=8192)):yt(r),i=r.updateQueue,i!==null&&Vu(r,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048),t!==null&&W(oi),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),r.memoizedState.cache!==i&&(r.flags|=2048),ha(Vt),yt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function cE(t,r){switch(Qh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ha(Vt),be(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Hn(r),null;case 31:if(r.memoizedState!==null){if(Ln(r),r.alternate===null)throw Error(s(340));si()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Ln(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));si()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return W(jt),null;case 4:return be(),null;case 10:return ha(r.type),null;case 22:case 23:return Ln(r),of(),t!==null&&W(oi),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ha(Vt),null;case 25:return null;default:return null}}function Vy(t,r){switch(Qh(r),r.tag){case 3:ha(Vt),be();break;case 26:case 27:case 5:Hn(r);break;case 4:be();break;case 31:r.memoizedState!==null&&Ln(r);break;case 13:Ln(r);break;case 19:W(jt);break;case 10:ha(r.type);break;case 22:case 23:Ln(r),of(),t!==null&&W(oi);break;case 24:ha(Vt)}}function Oo(t,r){try{var i=r.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var h=o.next;i=h;do{if((i.tag&t)===t){o=void 0;var m=i.create,b=i.inst;o=m(),b.destroy=o}i=i.next}while(i!==h)}}catch(w){lt(r,r.return,w)}}function ns(t,r,i){try{var o=r.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var b=o.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,h=r;var C=i,B=w;try{B()}catch(X){lt(h,C,X)}}}o=o.next}while(o!==m)}}catch(X){lt(r,r.return,X)}}function Ly(t){var r=t.updateQueue;if(r!==null){var i=t.stateNode;try{Sp(r,i)}catch(o){lt(t,t.return,o)}}}function Py(t,r,i){i.props=fi(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(o){lt(t,r,o)}}function Mo(t,r){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof i=="function"?t.refCleanup=i(o):i.current=o}}catch(h){lt(t,r,h)}}function Gr(t,r){var i=t.ref,o=t.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(h){lt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){lt(t,r,h)}else i.current=null}function zy(t){var r=t.type,i=t.memoizedProps,o=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(h){lt(t,t.return,h)}}function Uf(t,r,i){try{var o=t.stateNode;RE(o,t.type,i,r),o[Kt]=r}catch(h){lt(t,t.return,h)}}function Uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cs(t.type)||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,r,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,r):(r=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,r.appendChild(t),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=hr));else if(o!==4&&(o===27&&cs(t.type)&&(i=t.stateNode,r=null),t=t.child,t!==null))for(qf(t,r,i),t=t.sibling;t!==null;)qf(t,r,i),t=t.sibling}function Lu(t,r,i){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?i.insertBefore(t,r):i.appendChild(t);else if(o!==4&&(o===27&&cs(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Lu(t,r,i),t=t.sibling;t!==null;)Lu(t,r,i),t=t.sibling}function By(t){var r=t.stateNode,i=t.memoizedProps;try{for(var o=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);an(r,o,i),r[Dt]=t,r[Kt]=i}catch(m){lt(t,t.return,m)}}var ya=!1,zt=!1,Hf=!1,qy=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function uE(t,r){if(t=t.containerInfo,u0=ad,t=ep(t),Mh(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var b=0,w=-1,C=-1,B=0,X=0,te=t,q=null;t:for(;;){for(var Q;te!==i||h!==0&&te.nodeType!==3||(w=b+h),te!==m||o!==0&&te.nodeType!==3||(C=b+o),te.nodeType===3&&(b+=te.nodeValue.length),(Q=te.firstChild)!==null;)q=te,te=Q;for(;;){if(te===t)break t;if(q===i&&++B===h&&(w=b),q===m&&++X===o&&(C=b),(Q=te.nextSibling)!==null)break;te=q,q=te.parentNode}te=Q}i=w===-1||C===-1?null:{start:w,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(d0={focusedElem:t,selectionRange:i},ad=!1,Xt=r;Xt!==null;)if(r=Xt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Xt=t;else for(;Xt!==null;){switch(r=Xt,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,i=r,h=m.memoizedProps,m=m.memoizedState,o=i.stateNode;try{var xe=fi(i.type,h);t=o.getSnapshotBeforeUpdate(xe,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){lt(i,i.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,i=t.nodeType,i===9)m0(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":m0(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Xt=t;break}Xt=r.return}}function Hy(t,r,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:ba(t,i),o&4&&Oo(5,i);break;case 1:if(ba(t,i),o&4)if(t=i.stateNode,r===null)try{t.componentDidMount()}catch(b){lt(i,i.return,b)}else{var h=fi(i.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){lt(i,i.return,b)}}o&64&&Ly(i),o&512&&Mo(i,i.return);break;case 3:if(ba(t,i),o&64&&(t=i.updateQueue,t!==null)){if(r=null,i.child!==null)switch(i.child.tag){case 27:case 5:r=i.child.stateNode;break;case 1:r=i.child.stateNode}try{Sp(t,r)}catch(b){lt(i,i.return,b)}}break;case 27:r===null&&o&4&&By(i);case 26:case 5:ba(t,i),r===null&&o&4&&zy(i),o&512&&Mo(i,i.return);break;case 12:ba(t,i);break;case 31:ba(t,i),o&4&&Qy(t,i);break;case 13:ba(t,i),o&4&&$y(t,i),o&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=bE.bind(null,i),zE(t,i))));break;case 22:if(o=i.memoizedState!==null||ya,!o){r=r!==null&&r.memoizedState!==null||zt,h=ya;var m=zt;ya=o,(zt=r)&&!m?va(t,i,(i.subtreeFlags&8772)!==0):ba(t,i),ya=h,zt=m}break;case 30:break;default:ba(t,i)}}function Fy(t){var r=t.alternate;r!==null&&(t.alternate=null,Fy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Li(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,wn=!1;function xa(t,r,i){for(i=i.child;i!==null;)Gy(t,r,i),i=i.sibling}function Gy(t,r,i){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(He,i)}catch{}switch(i.tag){case 26:zt||Gr(i,r),xa(t,r,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:zt||Gr(i,r);var o=vt,h=wn;cs(i.type)&&(vt=i.stateNode,wn=!1),xa(t,r,i),Fo(i.stateNode),vt=o,wn=h;break;case 5:zt||Gr(i,r);case 6:if(o=vt,h=wn,vt=null,xa(t,r,i),vt=o,wn=h,vt!==null)if(wn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(i.stateNode)}catch(m){lt(i,r,m)}else try{vt.removeChild(i.stateNode)}catch(m){lt(i,r,m)}break;case 18:vt!==null&&(wn?(t=vt,Lx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),_l(t)):Lx(vt,i.stateNode));break;case 4:o=vt,h=wn,vt=i.stateNode.containerInfo,wn=!0,xa(t,r,i),vt=o,wn=h;break;case 0:case 11:case 14:case 15:ns(2,i,r),zt||ns(4,i,r),xa(t,r,i);break;case 1:zt||(Gr(i,r),o=i.stateNode,typeof o.componentWillUnmount=="function"&&Py(i,r,o)),xa(t,r,i);break;case 21:xa(t,r,i);break;case 22:zt=(o=zt)||i.memoizedState!==null,xa(t,r,i),zt=o;break;default:xa(t,r,i)}}function Qy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{_l(t)}catch(i){lt(r,r.return,i)}}}function $y(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_l(t)}catch(i){lt(r,r.return,i)}}function dE(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new qy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new qy),r;default:throw Error(s(435,t.tag))}}function Pu(t,r){var i=dE(t);r.forEach(function(o){if(!i.has(o)){i.add(o);var h=vE.bind(null,t,o);o.then(h,h)}})}function En(t,r){var i=r.deletions;if(i!==null)for(var o=0;o<i.length;o++){var h=i[o],m=t,b=r,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(cs(w.type)){vt=w.stateNode,wn=!1;break e}break;case 5:vt=w.stateNode,wn=!1;break e;case 3:case 4:vt=w.stateNode.containerInfo,wn=!0;break e}w=w.return}if(vt===null)throw Error(s(160));Gy(m,b,h),vt=null,wn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ky(r,t),r=r.sibling}var xr=null;function Ky(t,r){var i=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(r,t),Nn(t),o&4&&(ns(3,t,t.return),Oo(3,t),ns(5,t,t.return));break;case 1:En(r,t),Nn(t),o&512&&(zt||i===null||Gr(i,i.return)),o&64&&ya&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var h=xr;if(En(r,t),Nn(t),o&512&&(zt||i===null||Gr(i,i.return)),o&4){var m=i!==null?i.memoizedState:null;if(o=t.memoizedState,i===null)if(o===null)if(t.stateNode===null){e:{o=t.type,i=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Rr]||m[Dt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),an(m,o,i),m[Dt]=t,Ot(m),o=m;break e;case"link":var b=Kx("link","href",h).get(o+(i.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(w,1);break t}}m=h.createElement(o),an(m,o,i),h.head.appendChild(m);break;case"meta":if(b=Kx("meta","content",h).get(o+(i.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(w,1);break t}}m=h.createElement(o),an(m,o,i),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[Dt]=t,Ot(m),o=m}t.stateNode=o}else Yx(h,t.type,t.stateNode);else t.stateNode=$x(h,o,t.memoizedProps);else m!==o?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,o===null?Yx(h,t.type,t.stateNode):$x(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Uf(t,t.memoizedProps,i.memoizedProps)}break;case 27:En(r,t),Nn(t),o&512&&(zt||i===null||Gr(i,i.return)),i!==null&&o&4&&Uf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(En(r,t),Nn(t),o&512&&(zt||i===null||Gr(i,i.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(xe){lt(t,t.return,xe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Uf(t,h,i!==null?i.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(En(r,t),Nn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,i=t.stateNode;try{i.nodeValue=o}catch(xe){lt(t,t.return,xe)}}break;case 3:if(ed=null,h=xr,xr=Wu(r.containerInfo),En(r,t),xr=h,Nn(t),o&4&&i!==null&&i.memoizedState.isDehydrated)try{_l(r.containerInfo)}catch(xe){lt(t,t.return,xe)}Hf&&(Hf=!1,Yy(t));break;case 4:o=xr,xr=Wu(t.stateNode.containerInfo),En(r,t),Nn(t),xr=o;break;case 12:En(r,t),Nn(t);break;case 31:En(r,t),Nn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Pu(t,o)));break;case 13:En(r,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Uu=Jt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Pu(t,o)));break;case 22:h=t.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,B=ya,X=zt;if(ya=B||h,zt=X||C,En(r,t),zt=X,ya=B,Nn(t),o&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(i===null||C||ya||zt||mi(t)),i=null,r=t;;){if(r.tag===5||r.tag===26){if(i===null){C=i=r;try{if(m=C.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=C.stateNode;var te=C.memoizedProps.style,q=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(xe){lt(C,C.return,xe)}}}else if(r.tag===6){if(i===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(xe){lt(C,C.return,xe)}}}else if(r.tag===18){if(i===null){C=r;try{var Q=C.stateNode;h?Px(Q,!0):Px(C.stateNode,!1)}catch(xe){lt(C,C.return,xe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;i===r&&(i=null),r=r.return}i===r&&(i=null),r.sibling.return=r.return,r=r.sibling}o&4&&(o=t.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Pu(t,i))));break;case 19:En(r,t),Nn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Pu(t,o)));break;case 30:break;case 21:break;default:En(r,t),Nn(t)}}function Nn(t){var r=t.flags;if(r&2){try{for(var i,o=t.return;o!==null;){if(Uy(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var h=i.stateNode,m=Bf(t);Lu(t,m,h);break;case 5:var b=i.stateNode;i.flags&32&&(_n(b,""),i.flags&=-33);var w=Bf(t);Lu(t,w,b);break;case 3:case 4:var C=i.stateNode.containerInfo,B=Bf(t);qf(t,B,C);break;default:throw Error(s(161))}}catch(X){lt(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Yy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ba(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Hy(t,r.alternate,r),r=r.sibling}function mi(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ns(4,r,r.return),mi(r);break;case 1:Gr(r,r.return);var i=r.stateNode;typeof i.componentWillUnmount=="function"&&Py(r,r.return,i),mi(r);break;case 27:Fo(r.stateNode);case 26:case 5:Gr(r,r.return),mi(r);break;case 22:r.memoizedState===null&&mi(r);break;case 30:mi(r);break;default:mi(r)}t=t.sibling}}function va(t,r,i){for(i=i&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var o=r.alternate,h=t,m=r,b=m.flags;switch(m.tag){case 0:case 11:case 15:va(h,m,i),Oo(4,m);break;case 1:if(va(h,m,i),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){lt(o,o.return,B)}if(o=m,h=o.updateQueue,h!==null){var w=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Tp(C[h],w)}catch(B){lt(o,o.return,B)}}i&&b&64&&Ly(m),Mo(m,m.return);break;case 27:By(m);case 26:case 5:va(h,m,i),i&&o===null&&b&4&&zy(m),Mo(m,m.return);break;case 12:va(h,m,i);break;case 31:va(h,m,i),i&&b&4&&Qy(h,m);break;case 13:va(h,m,i),i&&b&4&&$y(h,m);break;case 22:m.memoizedState===null&&va(h,m,i),Mo(m,m.return);break;case 30:break;default:va(h,m,i)}r=r.sibling}}function Ff(t,r){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&_o(i))}function Gf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&_o(t))}function br(t,r,i,o){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xy(t,r,i,o),r=r.sibling}function Xy(t,r,i,o){var h=r.flags;switch(r.tag){case 0:case 11:case 15:br(t,r,i,o),h&2048&&Oo(9,r);break;case 1:br(t,r,i,o);break;case 3:br(t,r,i,o),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&_o(t)));break;case 12:if(h&2048){br(t,r,i,o),t=r.stateNode;try{var m=r.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){lt(r,r.return,C)}}else br(t,r,i,o);break;case 31:br(t,r,i,o);break;case 13:br(t,r,i,o);break;case 23:break;case 22:m=r.stateNode,b=r.alternate,r.memoizedState!==null?m._visibility&2?br(t,r,i,o):Vo(t,r):m._visibility&2?br(t,r,i,o):(m._visibility|=2,ul(t,r,i,o,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(b,r);break;case 24:br(t,r,i,o),h&2048&&Gf(r.alternate,r);break;default:br(t,r,i,o)}}function ul(t,r,i,o,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,b=r,w=i,C=o,B=b.flags;switch(b.tag){case 0:case 11:case 15:ul(m,b,w,C,h),Oo(8,b);break;case 23:break;case 22:var X=b.stateNode;b.memoizedState!==null?X._visibility&2?ul(m,b,w,C,h):Vo(m,b):(X._visibility|=2,ul(m,b,w,C,h)),h&&B&2048&&Ff(b.alternate,b);break;case 24:ul(m,b,w,C,h),h&&B&2048&&Gf(b.alternate,b);break;default:ul(m,b,w,C,h)}r=r.sibling}}function Vo(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var i=t,o=r,h=o.flags;switch(o.tag){case 22:Vo(i,o),h&2048&&Ff(o.alternate,o);break;case 24:Vo(i,o),h&2048&&Gf(o.alternate,o);break;default:Vo(i,o)}r=r.sibling}}var Lo=8192;function dl(t,r,i){if(t.subtreeFlags&Lo)for(t=t.child;t!==null;)Zy(t,r,i),t=t.sibling}function Zy(t,r,i){switch(t.tag){case 26:dl(t,r,i),t.flags&Lo&&t.memoizedState!==null&&ZE(i,xr,t.memoizedState,t.memoizedProps);break;case 5:dl(t,r,i);break;case 3:case 4:var o=xr;xr=Wu(t.stateNode.containerInfo),dl(t,r,i),xr=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Lo,Lo=16777216,dl(t,r,i),Lo=o):dl(t,r,i));break;default:dl(t,r,i)}}function Wy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Po(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];Xt=o,ex(o,t)}Wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jy(t),t=t.sibling}function Jy(t){switch(t.tag){case 0:case 11:case 15:Po(t),t.flags&2048&&ns(9,t,t.return);break;case 3:Po(t);break;case 12:Po(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,zu(t)):Po(t);break;default:Po(t)}}function zu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];Xt=o,ex(o,t)}Wy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ns(8,r,r.return),zu(r);break;case 22:i=r.stateNode,i._visibility&2&&(i._visibility&=-3,zu(r));break;default:zu(r)}t=t.sibling}}function ex(t,r){for(;Xt!==null;){var i=Xt;switch(i.tag){case 0:case 11:case 15:ns(8,i,r);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:_o(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Xt=o;else e:for(i=t;Xt!==null;){o=Xt;var h=o.sibling,m=o.return;if(Fy(o),o===i){Xt=null;break e}if(h!==null){h.return=m,Xt=h;break e}Xt=m}}}var hE={getCacheForType:function(t){var r=nn(Vt),i=r.data.get(t);return i===void 0&&(i=t(),r.data.set(t,i)),i},cacheSignal:function(){return nn(Vt).controller.signal}},fE=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,Be=null,Fe=0,it=0,Pn=null,rs=!1,hl=!1,Qf=!1,_a=0,Nt=0,as=0,gi=0,$f=0,zn=0,fl=0,zo=null,kn=null,Kf=!1,Uu=0,tx=0,Bu=1/0,qu=null,ss=null,Ft=0,is=null,ml=null,wa=0,Yf=0,Xf=null,nx=null,Uo=0,Zf=null;function Un(){return(nt&2)!==0&&Fe!==0?Fe&-Fe:K.T!==null?r0():Hc()}function rx(){if(zn===0)if((Fe&536870912)===0||Xe){var t=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),zn=t}else zn=536870912;return t=Vn.current,t!==null&&(t.flags|=32),zn}function Tn(t,r,i){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(gl(t,0),ls(t,Fe,zn,!1)),Hs(t,i),((nt&2)===0||t!==ht)&&(t===ht&&((nt&2)===0&&(gi|=i),Nt===4&&ls(t,Fe,zn,!1)),Qr(t))}function ax(t,r,i){if((nt&6)!==0)throw Error(s(327));var o=!i&&(r&127)===0&&(r&t.expiredLanes)===0||cr(t,r),h=o?pE(t,r):Jf(t,r,!0),m=o;do{if(h===0){hl&&!o&&ls(t,r,0,!1);break}else{if(i=t.current.alternate,m&&!mE(i)){h=Jf(t,r,!1),m=!1;continue}if(h===2){if(m=r,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var w=t;h=zo;var C=w.current.memoizedState.isDehydrated;if(C&&(gl(w,b).flags|=256),b=Jf(w,b,!1),b!==2){if(Qf&&!C){w.errorRecoveryDisabledLanes|=m,gi|=m,h=4;break e}m=kn,kn=h,m!==null&&(kn===null?kn=m:kn.push.apply(kn,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){gl(t,0),ls(t,r,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ls(o,r,zn,!rs);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Uu+300-Jt(),10<h)){if(ls(o,r,zn,!rs),Ar(o,0,!0)!==0)break e;wa=r,o.timeoutHandle=Mx(sx.bind(null,o,i,kn,qu,Kf,r,zn,gi,fl,rs,m,"Throttled",-0,0),h);break e}sx(o,i,kn,qu,Kf,r,zn,gi,fl,rs,m,null,-0,0)}}break}while(!0);Qr(t)}function sx(t,r,i,o,h,m,b,w,C,B,X,te,q,Q){if(t.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hr},Zy(r,m,te);var xe=(m&62914560)===m?Uu-Jt():(m&4194048)===m?tx-Jt():0;if(xe=WE(te,xe),xe!==null){wa=m,t.cancelPendingCommit=xe(fx.bind(null,t,r,m,i,o,h,b,w,C,X,te,null,q,Q)),ls(t,m,b,!B);return}}fx(t,r,m,i,o,h,b,w,C)}function mE(t){for(var r=t;;){var i=r.tag;if((i===0||i===11||i===15)&&r.flags&16384&&(i=r.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var h=i[o],m=h.getSnapshot;h=h.value;try{if(!On(m(),h))return!1}catch{return!1}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ls(t,r,i,o){r&=~$f,r&=~gi,t.suspendedLanes|=r,t.pingedLanes&=~r,o&&(t.warmLanes|=r),o=t.expirationTimes;for(var h=r;0<h;){var m=31-Ue(h),b=1<<m;o[m]=-1,h&=~b}i!==0&&Fs(t,i,r)}function Hu(){return(nt&6)===0?(Bo(0),!1):!0}function Wf(){if(Be!==null){if(it===0)var t=Be.return;else t=Be,da=ii=null,mf(t),sl=null,Eo=0,t=Be;for(;t!==null;)Vy(t.alternate,t),t=t.return;Be=null}}function gl(t,r){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,OE(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),wa=0,Wf(),ht=t,Be=i=ca(t.current,null),Fe=r,it=0,Pn=null,rs=!1,hl=cr(t,r),Qf=!1,fl=zn=$f=gi=as=Nt=0,kn=zo=null,Kf=!1,(r&8)!==0&&(r|=r&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=r;0<o;){var h=31-Ue(o),m=1<<h;r|=t[h],o&=~m}return _a=r,uu(),i}function ix(t,r){Pe=null,K.H=Ro,r===al||r===xu?(r=wp(),it=3):r===tf?(r=wp(),it=4):it=r===Cf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,Be===null&&(Nt=1,Iu(t,Xn(r,t.current)))}function lx(){var t=Vn.current;return t===null?!0:(Fe&4194048)===Fe?er===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?t===er:!1}function ox(){var t=K.H;return K.H=Ro,t===null?Ro:t}function cx(){var t=K.A;return K.A=hE,t}function Fu(){Nt=4,rs||(Fe&4194048)!==Fe&&Vn.current!==null||(hl=!0),(as&134217727)===0&&(gi&134217727)===0||ht===null||ls(ht,Fe,zn,!1)}function Jf(t,r,i){var o=nt;nt|=2;var h=ox(),m=cx();(ht!==t||Fe!==r)&&(qu=null,gl(t,r)),r=!1;var b=Nt;e:do try{if(it!==0&&Be!==null){var w=Be,C=Pn;switch(it){case 8:Wf(),b=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var B=it;if(it=0,Pn=null,pl(t,w,C,B),i&&hl){b=0;break e}break;default:B=it,it=0,Pn=null,pl(t,w,C,B)}}gE(),b=Nt;break}catch(X){ix(t,X)}while(!0);return r&&t.shellSuspendCounter++,da=ii=null,nt=o,K.H=h,K.A=m,Be===null&&(ht=null,Fe=0,uu()),b}function gE(){for(;Be!==null;)ux(Be)}function pE(t,r){var i=nt;nt|=2;var o=ox(),h=cx();ht!==t||Fe!==r?(qu=null,Bu=Jt()+500,gl(t,r)):hl=cr(t,r);e:do try{if(it!==0&&Be!==null){r=Be;var m=Pn;t:switch(it){case 1:it=0,Pn=null,pl(t,r,m,1);break;case 2:case 9:if(vp(m)){it=0,Pn=null,dx(r);break}r=function(){it!==2&&it!==9||ht!==t||(it=7),Qr(t)},m.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:vp(m)?(it=0,Pn=null,dx(r)):(it=0,Pn=null,pl(t,r,m,7));break;case 5:var b=null;switch(Be.tag){case 26:b=Be.memoizedState;case 5:case 27:var w=Be;if(b?Xx(b):w.stateNode.complete){it=0,Pn=null;var C=w.sibling;if(C!==null)Be=C;else{var B=w.return;B!==null?(Be=B,Gu(B)):Be=null}break t}}it=0,Pn=null,pl(t,r,m,5);break;case 6:it=0,Pn=null,pl(t,r,m,6);break;case 8:Wf(),Nt=6;break e;default:throw Error(s(462))}}yE();break}catch(X){ix(t,X)}while(!0);return da=ii=null,K.H=o,K.A=h,nt=i,Be!==null?0:(ht=null,Fe=0,uu(),Nt)}function yE(){for(;Be!==null&&!Xl();)ux(Be)}function ux(t){var r=Oy(t.alternate,t,_a);t.memoizedProps=t.pendingProps,r===null?Gu(t):Be=r}function dx(t){var r=t,i=r.alternate;switch(r.tag){case 15:case 0:r=Ay(i,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=Ay(i,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:mf(r);default:Vy(i,r),r=Be=cp(r,_a),r=Oy(i,r,_a)}t.memoizedProps=t.pendingProps,r===null?Gu(t):Be=r}function pl(t,r,i,o){da=ii=null,mf(r),sl=null,Eo=0;var h=r.return;try{if(sE(t,h,r,i,Fe)){Nt=1,Iu(t,Xn(i,t.current)),Be=null;return}}catch(m){if(h!==null)throw Be=h,m;Nt=1,Iu(t,Xn(i,t.current)),Be=null;return}r.flags&32768?(Xe||o===1?t=!0:hl||(Fe&536870912)!==0?t=!1:(rs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),hx(r,t)):Gu(r)}function Gu(t){var r=t;do{if((r.flags&32768)!==0){hx(r,rs);return}t=r.return;var i=oE(r.alternate,r,_a);if(i!==null){Be=i;return}if(r=r.sibling,r!==null){Be=r;return}Be=r=t}while(r!==null);Nt===0&&(Nt=5)}function hx(t,r){do{var i=cE(t.alternate,t);if(i!==null){i.flags&=32767,Be=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!r&&(t=t.sibling,t!==null)){Be=t;return}Be=t=i}while(t!==null);Nt=6,Be=null}function fx(t,r,i,o,h,m,b,w,C){t.cancelPendingCommit=null;do Qu();while(Ft!==0);if((nt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Uh,Rh(t,i,m,b,w,C),t===ht&&(Be=ht=null,Fe=0),ml=r,is=t,wa=i,Yf=m,Xf=h,nx=o,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_E(me,function(){return xx(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=ie.p,ie.p=2,b=nt,nt|=4;try{uE(t,r,i)}finally{nt=b,ie.p=h,K.T=o}}Ft=1,mx(),gx(),px()}}function mx(){if(Ft===1){Ft=0;var t=is,r=ml,i=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||i){i=K.T,K.T=null;var o=ie.p;ie.p=2;var h=nt;nt|=4;try{Ky(r,t);var m=d0,b=ep(t.containerInfo),w=m.focusedElem,C=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&Jg(w.ownerDocument.documentElement,w)){if(C!==null&&Mh(w)){var B=C.start,X=C.end;if(X===void 0&&(X=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min(X,w.value.length);else{var te=w.ownerDocument||document,q=te&&te.defaultView||window;if(q.getSelection){var Q=q.getSelection(),xe=w.textContent.length,Te=Math.min(C.start,xe),dt=C.end===void 0?Te:Math.min(C.end,xe);!Q.extend&&Te>dt&&(b=dt,dt=Te,Te=b);var L=Wg(w,Te),O=Wg(w,dt);if(L&&O&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var U=te.createRange();U.setStart(L.node,L.offset),Q.removeAllRanges(),Te>dt?(Q.addRange(U),Q.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),Q.addRange(U))}}}}for(te=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var J=te[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ad=!!u0,d0=u0=null}finally{nt=h,ie.p=o,K.T=i}}t.current=r,Ft=2}}function gx(){if(Ft===2){Ft=0;var t=is,r=ml,i=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||i){i=K.T,K.T=null;var o=ie.p;ie.p=2;var h=nt;nt|=4;try{Hy(t,r.alternate,r)}finally{nt=h,ie.p=o,K.T=i}}Ft=3}}function px(){if(Ft===4||Ft===3){Ft=0,zs();var t=is,r=ml,i=wa,o=nx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,ml=is=null,yx(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ss=null),sa(i),r=r.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(He,r,void 0,(r.current.flags&128)===128)}catch{}if(o!==null){r=K.T,h=ie.p,ie.p=2,K.T=null;try{for(var m=t.onRecoverableError,b=0;b<o.length;b++){var w=o[b];m(w.value,{componentStack:w.stack})}}finally{K.T=r,ie.p=h}}(wa&3)!==0&&Qu(),Qr(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===Zf?Uo++:(Uo=0,Zf=t):Uo=0,Bo(0)}}function yx(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,_o(r)))}function Qu(){return mx(),gx(),px(),xx()}function xx(){if(Ft!==5)return!1;var t=is,r=Yf;Yf=0;var i=sa(wa),o=K.T,h=ie.p;try{ie.p=32>i?32:i,K.T=null,i=Xf,Xf=null;var m=is,b=wa;if(Ft=0,ml=is=null,wa=0,(nt&6)!==0)throw Error(s(331));var w=nt;if(nt|=4,Jy(m.current),Xy(m,m.current,b,i),nt=w,Bo(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(He,m)}catch{}return!0}finally{ie.p=h,K.T=o,yx(t,r)}}function bx(t,r,i){r=Xn(i,r),r=jf(t.stateNode,r,2),t=Ja(t,r,2),t!==null&&(Hs(t,2),Qr(t))}function lt(t,r,i){if(t.tag===3)bx(t,t,i);else for(;r!==null;){if(r.tag===3){bx(r,t,i);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ss===null||!ss.has(o))){t=Xn(i,t),i=vy(2),o=Ja(r,i,2),o!==null&&(_y(i,o,r,t),Hs(o,2),Qr(o));break}}r=r.return}}function e0(t,r,i){var o=t.pingCache;if(o===null){o=t.pingCache=new fE;var h=new Set;o.set(r,h)}else h=o.get(r),h===void 0&&(h=new Set,o.set(r,h));h.has(i)||(Qf=!0,h.add(i),t=xE.bind(null,t,r,i),r.then(t,t))}function xE(t,r,i){var o=t.pingCache;o!==null&&o.delete(r),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,ht===t&&(Fe&i)===i&&(Nt===4||Nt===3&&(Fe&62914560)===Fe&&300>Jt()-Uu?(nt&2)===0&&gl(t,0):$f|=i,fl===Fe&&(fl=0)),Qr(t)}function vx(t,r){r===0&&(r=qc()),t=ri(t,r),t!==null&&(Hs(t,r),Qr(t))}function bE(t){var r=t.memoizedState,i=0;r!==null&&(i=r.retryLane),vx(t,i)}function vE(t,r){var i=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(r),vx(t,i)}function _E(t,r){return St(t,r)}var $u=null,yl=null,t0=!1,Ku=!1,n0=!1,os=0;function Qr(t){t!==yl&&t.next===null&&(yl===null?$u=yl=t:yl=yl.next=t),Ku=!0,t0||(t0=!0,EE())}function Bo(t,r){if(!n0&&Ku){n0=!0;do for(var i=!1,o=$u;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var b=o.suspendedLanes,w=o.pingedLanes;m=(1<<31-Ue(42|t)+1)-1,m&=h&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,Nx(o,m))}else m=Fe,m=Ar(o,o===ht?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||cr(o,m)||(i=!0,Nx(o,m));o=o.next}while(i);n0=!1}}function wE(){_x()}function _x(){Ku=t0=!1;var t=0;os!==0&&DE()&&(t=os);for(var r=Jt(),i=null,o=$u;o!==null;){var h=o.next,m=wx(o,r);m===0?(o.next=null,i===null?$u=h:i.next=h,h===null&&(yl=i)):(i=o,(t!==0||(m&3)!==0)&&(Ku=!0)),o=h}Ft!==0&&Ft!==5||Bo(t),os!==0&&(os=0)}function wx(t,r){for(var i=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Ue(m),w=1<<b,C=h[b];C===-1?((w&i)===0||(w&o)!==0)&&(h[b]=Ch(w,r)):C<=r&&(t.expiredLanes|=w),m&=~w}if(r=ht,i=Fe,i=Ar(t,t===r?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,i===0||t===r&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Cn(o),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||cr(t,i)){if(r=i&-i,r===t.callbackPriority)return r;switch(o!==null&&Cn(o),sa(i)){case 2:case 8:i=Bs;break;case 32:i=me;break;case 268435456:i=je;break;default:i=me}return o=Ex.bind(null,t),i=St(i,o),t.callbackPriority=r,t.callbackNode=i,r}return o!==null&&o!==null&&Cn(o),t.callbackPriority=2,t.callbackNode=null,2}function Ex(t,r){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Qu()&&t.callbackNode!==i)return null;var o=Fe;return o=Ar(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(ax(t,o,r),wx(t,Jt()),t.callbackNode!=null&&t.callbackNode===i?Ex.bind(null,t):null)}function Nx(t,r){if(Qu())return null;ax(t,r,!0)}function EE(){ME(function(){(nt&6)!==0?St(Us,wE):_x()})}function r0(){if(os===0){var t=nl;t===0&&(t=Rn,Rn<<=1,(Rn&261888)===0&&(Rn=256)),os=t}return os}function kx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bi(""+t)}function Tx(t,r){var i=r.ownerDocument.createElement("input");return i.name=r.name,i.value=r.value,t.id&&i.setAttribute("form",t.id),r.parentNode.insertBefore(i,r),t=new FormData(t),i.parentNode.removeChild(i),t}function NE(t,r,i,o,h){if(r==="submit"&&i&&i.stateNode===h){var m=kx((h[Kt]||null).action),b=o.submitter;b&&(r=(r=b[Kt]||null)?kx(r.formAction):b.getAttribute("formAction"),r!==null&&(m=r,b=null));var w=new zr("action","action",null,o,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(os!==0){var C=b?Tx(h,b):new FormData(h);Ef(i,{pending:!0,data:C,method:h.method,action:m},null,C)}}else typeof m=="function"&&(w.preventDefault(),C=b?Tx(h,b):new FormData(h),Ef(i,{pending:!0,data:C,method:h.method,action:m},m,C))},currentTarget:h}]})}}for(var a0=0;a0<zh.length;a0++){var s0=zh[a0],kE=s0.toLowerCase(),TE=s0[0].toUpperCase()+s0.slice(1);yr(kE,"on"+TE)}yr(rp,"onAnimationEnd"),yr(ap,"onAnimationIteration"),yr(sp,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(qw,"onTransitionRun"),yr(Hw,"onTransitionStart"),yr(Fw,"onTransitionCancel"),yr(ip,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Or("onBeforeInput",["compositionend","keypress","textInput","paste"]),Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qo));function Sx(t,r){r=(r&4)!==0;for(var i=0;i<t.length;i++){var o=t[i],h=o.event;o=o.listeners;e:{var m=void 0;if(r)for(var b=o.length-1;0<=b;b--){var w=o[b],C=w.instance,B=w.currentTarget;if(w=w.listener,C!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=B;try{m(h)}catch(X){cu(X)}h.currentTarget=null,m=C}else for(b=0;b<o.length;b++){if(w=o[b],C=w.instance,B=w.currentTarget,w=w.listener,C!==m&&h.isPropagationStopped())break e;m=w,h.currentTarget=B;try{m(h)}catch(X){cu(X)}h.currentTarget=null,m=C}}}}function qe(t,r){var i=r[Vi];i===void 0&&(i=r[Vi]=new Set);var o=t+"__bubble";i.has(o)||(Ax(r,t,2,!1),i.add(o))}function i0(t,r,i){var o=0;r&&(o|=4),Ax(i,t,o,r)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function l0(t){if(!t[Yu]){t[Yu]=!0,Jl.forEach(function(i){i!=="selectionchange"&&(SE.has(i)||i0(i,!1,t),i0(i,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Yu]||(r[Yu]=!0,i0("selectionchange",!1,r))}}function Ax(t,r,i,o){switch(rb(r)){case 2:var h=tN;break;case 8:h=nN;break;default:h=w0}i=h.bind(null,r,i,t),h=void 0,!Ys||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(r,i,{capture:!0,passive:h}):t.addEventListener(r,i,!0):h!==void 0?t.addEventListener(r,i,{passive:h}):t.addEventListener(r,i,!1)}function o0(t,r,i,o,h){var m=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var w=o.stateNode.containerInfo;if(w===h)break;if(b===4)for(b=o.return;b!==null;){var C=b.tag;if((C===3||C===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;w!==null;){if(b=Ir(w),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){o=m=b;continue e}w=w.parentNode}}o=o.return}Ha(function(){var B=m,X=Qn(i),te=[];e:{var q=lp.get(t);if(q!==void 0){var Q=zr,xe=t;switch(t){case"keypress":if(Zs(i)===0)break e;case"keydown":case"keyup":Q=iu;break;case"focusin":xe="focus",Q=Js;break;case"focusout":xe="blur",Q=Js;break;case"beforeblur":case"afterblur":Q=Js;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=x;break;case rp:case ap:case sp:Q=Jc;break;case ip:Q=N;break;case"scroll":case"scrollend":Q=ho;break;case"wheel":Q=H;break;case"copy":case"cut":case"paste":Q=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=oa;break;case"toggle":case"beforetoggle":Q=Le}var Te=(r&4)!==0,dt=!Te&&(t==="scroll"||t==="scrollend"),L=Te?q!==null?q+"Capture":null:q;Te=[];for(var O=B,U;O!==null;){var J=O;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||L===null||(J=fr(O,L),J!=null&&Te.push(Ho(O,J,U))),dt)break;O=O.return}0<Te.length&&(q=new Q(q,xe,null,i,X),te.push({event:q,listeners:Te}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&i!==oo&&(xe=i.relatedTarget||i.fromElement)&&(Ir(xe)||xe[Cr]))break e;if((Q||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(xe=i.relatedTarget||i.toElement,Q=B,xe=xe?Ir(xe):null,xe!==null&&(dt=u(xe),Te=xe.tag,xe!==dt||Te!==5&&Te!==27&&Te!==6)&&(xe=null)):(Q=null,xe=B),Q!==xe)){if(Te=fo,J="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Te=oa,J="onPointerLeave",L="onPointerEnter",O="pointer"),dt=Q==null?q:In(Q),U=xe==null?q:In(xe),q=new Te(J,O+"leave",Q,i,X),q.target=dt,q.relatedTarget=U,J=null,Ir(X)===B&&(Te=new Te(L,O+"enter",xe,i,X),Te.target=U,Te.relatedTarget=dt,J=Te),dt=J,Q&&xe)t:{for(Te=AE,L=Q,O=xe,U=0,J=L;J;J=Te(J))U++;J=0;for(var we=O;we;we=Te(we))J++;for(;0<U-J;)L=Te(L),U--;for(;0<J-U;)O=Te(O),J--;for(;U--;){if(L===O||O!==null&&L===O.alternate){Te=L;break t}L=Te(L),O=Te(O)}Te=null}else Te=null;Q!==null&&jx(te,q,Q,Te,!1),xe!==null&&dt!==null&&jx(te,dt,xe,Te,!0)}}e:{if(q=B?In(B):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var Je=Qg;else if(Fg(q))if($g)Je=zw;else{Je=Lw;var ve=Vw}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ui(B.elementType)&&(Je=Qg):Je=Pw;if(Je&&(Je=Je(t,B))){Gg(te,Je,i,X);break e}ve&&ve(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&so(q,"number",q.value)}switch(ve=B?In(B):window,t){case"focusin":(Fg(ve)||ve.contentEditable==="true")&&(Ki=ve,Vh=B,xo=null);break;case"focusout":xo=Vh=Ki=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,tp(te,i,X);break;case"selectionchange":if(Bw)break;case"keydown":case"keyup":tp(te,i,X)}var ze;if(tt)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else $i?ei(t,i)&&(Ge="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ge="onCompositionStart");Ge&&(qr&&i.locale!=="ko"&&($i||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&$i&&(ze=uo()):(Pr=X,co="value"in Pr?Pr.value:Pr.textContent,$i=!0)),ve=Xu(B,Ge),0<ve.length&&(Ge=new Br(Ge,t,null,i,X),te.push({event:Ge,listeners:ve}),ze?Ge.data=ze:(ze=Qi(i),ze!==null&&(Ge.data=ze)))),(ze=Kn?Iw(t,i):Dw(t,i))&&(Ge=Xu(B,"onBeforeInput"),0<Ge.length&&(ve=new Br("onBeforeInput","beforeinput",null,i,X),te.push({event:ve,listeners:Ge}),ve.data=ze)),NE(te,t,B,i,X)}Sx(te,r)})}function Ho(t,r,i){return{instance:t,listener:r,currentTarget:i}}function Xu(t,r){for(var i=r+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=fr(t,i),h!=null&&o.unshift(Ho(t,h,m)),h=fr(t,r),h!=null&&o.push(Ho(t,h,m))),t.tag===3)return o;t=t.return}return[]}function AE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jx(t,r,i,o,h){for(var m=r._reactName,b=[];i!==null&&i!==o;){var w=i,C=w.alternate,B=w.stateNode;if(w=w.tag,C!==null&&C===o)break;w!==5&&w!==26&&w!==27||B===null||(C=B,h?(B=fr(i,m),B!=null&&b.unshift(Ho(i,B,C))):h||(B=fr(i,m),B!=null&&b.push(Ho(i,B,C)))),i=i.return}b.length!==0&&t.push({event:r,listeners:b})}var jE=/\r\n?/g,CE=/\u0000|\uFFFD/g;function Cx(t){return(typeof t=="string"?t:""+t).replace(jE,`
`).replace(CE,"")}function Rx(t,r){return r=Cx(r),Cx(t)===r}function ut(t,r,i,o,h,m){switch(i){case"children":typeof o=="string"?r==="body"||r==="textarea"&&o===""||_n(t,o):(typeof o=="number"||typeof o=="bigint")&&r!=="body"&&_n(t,""+o);break;case"className":Dn(t,"class",o);break;case"tabIndex":Dn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,i,o);break;case"style":lo(t,o,m);break;case"data":if(r!=="object"){Dn(t,"data",o);break}case"src":case"href":if(o===""&&(r!=="a"||i!=="href")){t.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=Bi(""+o),t.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(r!=="input"&&ut(t,r,"name",h.name,h,null),ut(t,r,"formEncType",h.formEncType,h,null),ut(t,r,"formMethod",h.formMethod,h,null),ut(t,r,"formTarget",h.formTarget,h,null)):(ut(t,r,"encType",h.encType,h,null),ut(t,r,"method",h.method,h,null),ut(t,r,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(i);break}o=Bi(""+o),t.setAttribute(i,o);break;case"onClick":o!=null&&(t.onclick=hr);break;case"onScroll":o!=null&&qe("scroll",t);break;case"onScrollEnd":o!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}i=Bi(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""+o):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":o===!0?t.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(i,o):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(i,o):t.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(i):t.setAttribute(i,o);break;case"popover":qe("beforetoggle",t),qe("toggle",t),Pi(t,"popover",o);break;case"xlinkActuate":Mt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Mt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Mt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Mt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Mt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Mt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Pi(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Xc.get(i)||i,Pi(t,i,o))}}function c0(t,r,i,o,h,m){switch(i){case"style":lo(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof o=="string"?_n(t,o):(typeof o=="number"||typeof o=="bigint")&&_n(t,""+o);break;case"onScroll":o!=null&&qe("scroll",t);break;case"onScrollEnd":o!=null&&qe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=hr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eo.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),r=i.slice(2,h?i.length-7:void 0),m=t[Kt]||null,m=m!=null?m[i]:null,typeof m=="function"&&t.removeEventListener(r,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(r,o,h);break e}i in t?t[i]=o:o===!0?t.setAttribute(i,""):Pi(t,i,o)}}}function an(t,r,i){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var o=!1,h=!1,m;for(m in i)if(i.hasOwnProperty(m)){var b=i[m];if(b!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(t,r,m,b,i,null)}}h&&ut(t,r,"srcSet",i.srcSet,i,null),o&&ut(t,r,"src",i.src,i,null);return;case"input":qe("invalid",t);var w=m=b=h=null,C=null,B=null;for(o in i)if(i.hasOwnProperty(o)){var X=i[o];if(X!=null)switch(o){case"name":h=X;break;case"type":b=X;break;case"checked":C=X;break;case"defaultChecked":B=X;break;case"value":m=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:ut(t,r,o,X,i,null)}}$c(t,m,w,C,B,b,h,!1);return;case"select":qe("invalid",t),o=b=m=null;for(h in i)if(i.hasOwnProperty(h)&&(w=i[h],w!=null))switch(h){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":o=w;default:ut(t,r,h,w,i,null)}r=m,i=b,t.multiple=!!o,r!=null?za(t,!!o,r,!1):i!=null&&za(t,!!o,i,!0);return;case"textarea":qe("invalid",t),m=h=o=null;for(b in i)if(i.hasOwnProperty(b)&&(w=i[b],w!=null))switch(b){case"value":o=w;break;case"defaultValue":h=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ut(t,r,b,w,i,null)}Ua(t,o,h,m);return;case"option":for(C in i)if(i.hasOwnProperty(C)&&(o=i[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ut(t,r,C,o,i,null)}return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(o=0;o<qo.length;o++)qe(qo[o],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(o=i[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(t,r,B,o,i,null)}return;default:if(Ui(r)){for(X in i)i.hasOwnProperty(X)&&(o=i[X],o!==void 0&&c0(t,r,X,o,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(o=i[w],o!=null&&ut(t,r,w,o,i,null))}function RE(t,r,i,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,w=null,C=null,B=null,X=null;for(Q in i){var te=i[Q];if(i.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=te;default:o.hasOwnProperty(Q)||ut(t,r,Q,null,o,te)}}for(var q in o){var Q=o[q];if(te=i[q],o.hasOwnProperty(q)&&(Q!=null||te!=null))switch(q){case"type":m=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":X=Q;break;case"value":b=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==te&&ut(t,r,q,Q,o,te)}}zi(t,b,w,C,B,X,m,h);return;case"select":Q=b=w=q=null;for(m in i)if(C=i[m],i.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":Q=C;default:o.hasOwnProperty(m)||ut(t,r,m,null,o,C)}for(h in o)if(m=o[h],C=i[h],o.hasOwnProperty(h)&&(m!=null||C!=null))switch(h){case"value":q=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==C&&ut(t,r,h,m,o,C)}r=w,i=b,o=Q,q!=null?za(t,!!i,q,!1):!!o!=!!i&&(r!=null?za(t,!!i,r,!0):za(t,!!i,i?[]:"",!1));return;case"textarea":Q=q=null;for(w in i)if(h=i[w],i.hasOwnProperty(w)&&h!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ut(t,r,w,null,o,h)}for(b in o)if(h=o[b],m=i[b],o.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&ut(t,r,b,h,o,m)}Kc(t,q,Q);return;case"option":for(var xe in i)if(q=i[xe],i.hasOwnProperty(xe)&&q!=null&&!o.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:ut(t,r,xe,null,o,q)}for(C in o)if(q=o[C],Q=i[C],o.hasOwnProperty(C)&&q!==Q&&(q!=null||Q!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ut(t,r,C,q,o,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in i)q=i[Te],i.hasOwnProperty(Te)&&q!=null&&!o.hasOwnProperty(Te)&&ut(t,r,Te,null,o,q);for(B in o)if(q=o[B],Q=i[B],o.hasOwnProperty(B)&&q!==Q&&(q!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:ut(t,r,B,q,o,Q)}return;default:if(Ui(r)){for(var dt in i)q=i[dt],i.hasOwnProperty(dt)&&q!==void 0&&!o.hasOwnProperty(dt)&&c0(t,r,dt,void 0,o,q);for(X in o)q=o[X],Q=i[X],!o.hasOwnProperty(X)||q===Q||q===void 0&&Q===void 0||c0(t,r,X,q,o,Q);return}}for(var L in i)q=i[L],i.hasOwnProperty(L)&&q!=null&&!o.hasOwnProperty(L)&&ut(t,r,L,null,o,q);for(te in o)q=o[te],Q=i[te],!o.hasOwnProperty(te)||q===Q||q==null&&Q==null||ut(t,r,te,q,o,Q)}function Ix(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var h=i[o],m=h.transferSize,b=h.initiatorType,w=h.duration;if(m&&w&&Ix(b)){for(b=0,w=h.responseEnd,o+=1;o<i.length;o++){var C=i[o],B=C.startTime;if(B>w)break;var X=C.transferSize,te=C.initiatorType;X&&Ix(te)&&(C=C.responseEnd,b+=X*(C<w?1:(w-B)/(C-B)))}if(--o,r+=8*(m+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var u0=null,d0=null;function Zu(t){return t.nodeType===9?t:t.ownerDocument}function Dx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ox(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function h0(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var f0=null;function DE(){var t=window.event;return t&&t.type==="popstate"?t===f0?!1:(f0=t,!0):(f0=null,!1)}var Mx=typeof setTimeout=="function"?setTimeout:void 0,OE=typeof clearTimeout=="function"?clearTimeout:void 0,Vx=typeof Promise=="function"?Promise:void 0,ME=typeof queueMicrotask=="function"?queueMicrotask:typeof Vx<"u"?function(t){return Vx.resolve(null).then(t).catch(VE)}:Mx;function VE(t){setTimeout(function(){throw t})}function cs(t){return t==="head"}function Lx(t,r){var i=r,o=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(o===0){t.removeChild(h),_l(r);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")Fo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Fo(i);for(var m=i.firstChild;m;){var b=m.nextSibling,w=m.nodeName;m[Rr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=b}}else i==="body"&&Fo(t.ownerDocument.body);i=h}while(i);_l(r)}function Px(t,r){var i=t;t=0;do{var o=i.nextSibling;if(i.nodeType===1?r?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(r?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=o}while(i)}function m0(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var i=r;switch(r=r.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":m0(i),Li(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function LE(t,r,i,o){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Rr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=tr(t.nextSibling),t===null)break}return null}function PE(t,r,i){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=tr(t.nextSibling),t===null))return null;return t}function zx(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=tr(t.nextSibling),t===null))return null;return t}function g0(t){return t.data==="$?"||t.data==="$~"}function p0(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function zE(t,r){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||i.readyState!=="loading")r();else{var o=function(){r(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function tr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var y0=null;function Ux(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(r===0)return tr(t.nextSibling);r--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||r++}t=t.nextSibling}return null}function Bx(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(r===0)return t;r--}else i!=="/$"&&i!=="/&"||r++}t=t.previousSibling}return null}function qx(t,r,i){switch(r=Zu(i),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Fo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Li(t)}var nr=new Map,Hx=new Set;function Wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ea=ie.d;ie.d={f:UE,r:BE,D:qE,C:HE,L:FE,m:GE,X:$E,S:QE,M:KE};function UE(){var t=Ea.f(),r=Hu();return t||r}function BE(t){var r=Gn(t);r!==null&&r.tag===5&&r.type==="form"?iy(r):Ea.r(t)}var xl=typeof document>"u"?null:document;function Fx(t,r,i){var o=xl;if(o&&typeof r=="string"&&r){var h=vn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Hx.has(h)||(Hx.add(h),t={rel:t,crossOrigin:i,href:r},o.querySelector(h)===null&&(r=o.createElement("link"),an(r,"link",t),Ot(r),o.head.appendChild(r)))}}function qE(t){Ea.D(t),Fx("dns-prefetch",t,null)}function HE(t,r){Ea.C(t,r),Fx("preconnect",t,r)}function FE(t,r,i){Ea.L(t,r,i);var o=xl;if(o&&t&&r){var h='link[rel="preload"][as="'+vn(r)+'"]';r==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+vn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+vn(i.imageSizes)+'"]')):h+='[href="'+vn(t)+'"]';var m=h;switch(r){case"style":m=bl(t);break;case"script":m=vl(t)}nr.has(m)||(t=E({rel:"preload",href:r==="image"&&i&&i.imageSrcSet?void 0:t,as:r},i),nr.set(m,t),o.querySelector(h)!==null||r==="style"&&o.querySelector(Go(m))||r==="script"&&o.querySelector(Qo(m))||(r=o.createElement("link"),an(r,"link",t),Ot(r),o.head.appendChild(r)))}}function GE(t,r){Ea.m(t,r);var i=xl;if(i&&t){var o=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+vn(o)+'"][href="'+vn(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=vl(t)}if(!nr.has(m)&&(t=E({rel:"modulepreload",href:t},r),nr.set(m,t),i.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Qo(m)))return}o=i.createElement("link"),an(o,"link",t),Ot(o),i.head.appendChild(o)}}}function QE(t,r,i){Ea.S(t,r,i);var o=xl;if(o&&t){var h=Dr(o).hoistableStyles,m=bl(t);r=r||"default";var b=h.get(m);if(!b){var w={loading:0,preload:null};if(b=o.querySelector(Go(m)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},i),(i=nr.get(m))&&x0(t,i);var C=b=o.createElement("link");Ot(C),an(C,"link",t),C._p=new Promise(function(B,X){C.onload=B,C.onerror=X}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ju(b,r,o)}b={type:"stylesheet",instance:b,count:1,state:w},h.set(m,b)}}}function $E(t,r){Ea.X(t,r);var i=xl;if(i&&t){var o=Dr(i).hoistableScripts,h=vl(t),m=o.get(h);m||(m=i.querySelector(Qo(h)),m||(t=E({src:t,async:!0},r),(r=nr.get(h))&&b0(t,r),m=i.createElement("script"),Ot(m),an(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function KE(t,r){Ea.M(t,r);var i=xl;if(i&&t){var o=Dr(i).hoistableScripts,h=vl(t),m=o.get(h);m||(m=i.querySelector(Qo(h)),m||(t=E({src:t,async:!0,type:"module"},r),(r=nr.get(h))&&b0(t,r),m=i.createElement("script"),Ot(m),an(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Gx(t,r,i,o){var h=(h=fe.current)?Wu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(r=bl(i.href),i=Dr(h).hoistableStyles,o=i.get(r),o||(o={type:"style",instance:null,count:0,state:null},i.set(r,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=bl(i.href);var m=Dr(h).hoistableStyles,b=m.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=h.querySelector(Go(t)))&&!m._p&&(b.instance=m,b.state.loading=5),nr.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},nr.set(t,i),m||YE(h,t,i,b.state))),r&&o===null)throw Error(s(528,""));return b}if(r&&o!==null)throw Error(s(529,""));return null;case"script":return r=i.async,i=i.src,typeof i=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=vl(i),i=Dr(h).hoistableScripts,o=i.get(r),o||(o={type:"script",instance:null,count:0,state:null},i.set(r,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function bl(t){return'href="'+vn(t)+'"'}function Go(t){return'link[rel="stylesheet"]['+t+"]"}function Qx(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function YE(t,r,i,o){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=t.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),an(r,"link",i),Ot(r),t.head.appendChild(r))}function vl(t){return'[src="'+vn(t)+'"]'}function Qo(t){return"script[async]"+t}function $x(t,r,i){if(r.count++,r.instance===null)switch(r.type){case"style":var o=t.querySelector('style[data-href~="'+vn(i.href)+'"]');if(o)return r.instance=o,Ot(o),o;var h=E({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ot(o),an(o,"style",h),Ju(o,i.precedence,t),r.instance=o;case"stylesheet":h=bl(i.href);var m=t.querySelector(Go(h));if(m)return r.state.loading|=4,r.instance=m,Ot(m),m;o=Qx(i),(h=nr.get(h))&&x0(o,h),m=(t.ownerDocument||t).createElement("link"),Ot(m);var b=m;return b._p=new Promise(function(w,C){b.onload=w,b.onerror=C}),an(m,"link",o),r.state.loading|=4,Ju(m,i.precedence,t),r.instance=m;case"script":return m=vl(i.src),(h=t.querySelector(Qo(m)))?(r.instance=h,Ot(h),h):(o=i,(h=nr.get(m))&&(o=E({},i),b0(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),an(h,"link",o),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(o=r.instance,r.state.loading|=4,Ju(o,i.precedence,t));return r.instance}function Ju(t,r,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,b=0;b<o.length;b++){var w=o[b];if(w.dataset.precedence===r)m=w;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=i.nodeType===9?i.head:i,r.insertBefore(t,r.firstChild))}function x0(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function b0(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var ed=null;function Kx(t,r,i){if(ed===null){var o=new Map,h=ed=new Map;h.set(i,o)}else h=ed,o=h.get(i),o||(o=new Map,h.set(i,o));if(o.has(t))return o;for(o.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var m=i[h];if(!(m[Rr]||m[Dt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(r)||"";b=t+b;var w=o.get(b);w?w.push(m):o.set(b,[m])}}return o}function Yx(t,r,i){t=t.ownerDocument||t,t.head.insertBefore(i,r==="title"?t.querySelector("head > title"):null)}function XE(t,r,i){if(i===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Xx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ZE(t,r,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=bl(o.href),m=r.querySelector(Go(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=td.bind(t),r.then(t,t)),i.state.loading|=4,i.instance=m,Ot(m);return}m=r.ownerDocument||r,o=Qx(o),(h=nr.get(h))&&x0(o,h),m=m.createElement("link"),Ot(m);var b=m;b._p=new Promise(function(w,C){b.onload=w,b.onerror=C}),an(m,"link",o),i.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=td.bind(t),r.addEventListener("load",i),r.addEventListener("error",i))}}var v0=0;function WE(t,r){return t.stylesheets&&t.count===0&&rd(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var o=setTimeout(function(){if(t.stylesheets&&rd(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&v0===0&&(v0=62500*IE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rd(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>v0?50:800)+r);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function td(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nd=null;function rd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nd=new Map,r.forEach(JE,t),nd=null,td.call(t))}function JE(t,r){if(!(r.state.loading&4)){var i=nd.get(t);if(i)var o=i.get(null);else{i=new Map,nd.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),o=b)}o&&i.set(null,o)}h=r.instance,b=h.getAttribute("data-precedence"),m=i.get(b)||o,m===o&&i.set(null,h),i.set(b,h),this.count++,o=td.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var $o={$$typeof:le,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function eN(t,r,i,o,h,m,b,w,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Zx(t,r,i,o,h,m,b,w,C,B,X,te){return t=new eN(t,r,i,b,C,B,X,te,w),r=1,m===!0&&(r|=24),m=Mn(3,null,null,r),t.current=m,m.stateNode=t,r=Wh(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:o,isDehydrated:i,cache:r},nf(m),t}function Wx(t){return t?(t=Zi,t):Zi}function Jx(t,r,i,o,h,m){h=Wx(h),o.context===null?o.context=h:o.pendingContext=h,o=Wa(r),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=Ja(t,o,r),i!==null&&(Tn(i,t,r),ko(i,t,r))}function eb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<r?i:r}}function _0(t,r){eb(t,r),(t=t.alternate)&&eb(t,r)}function tb(t){if(t.tag===13||t.tag===31){var r=ri(t,67108864);r!==null&&Tn(r,t,67108864),_0(t,67108864)}}function nb(t){if(t.tag===13||t.tag===31){var r=Un();r=Gs(r);var i=ri(t,r);i!==null&&Tn(i,t,r),_0(t,r)}}var ad=!0;function tN(t,r,i,o){var h=K.T;K.T=null;var m=ie.p;try{ie.p=2,w0(t,r,i,o)}finally{ie.p=m,K.T=h}}function nN(t,r,i,o){var h=K.T;K.T=null;var m=ie.p;try{ie.p=8,w0(t,r,i,o)}finally{ie.p=m,K.T=h}}function w0(t,r,i,o){if(ad){var h=E0(o);if(h===null)o0(t,r,o,sd,i),ab(t,o);else if(aN(h,t,r,i,o))o.stopPropagation();else if(ab(t,o),r&4&&-1<rN.indexOf(t)){for(;h!==null;){var m=Gn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Sr(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var C=1<<31-Ue(b);w.entanglements[1]|=C,b&=~C}Qr(m),(nt&6)===0&&(Bu=Jt()+500,Bo(0))}}break;case 31:case 13:w=ri(m,2),w!==null&&Tn(w,m,2),Hu(),_0(m,2)}if(m=E0(o),m===null&&o0(t,r,o,sd,i),m===h)break;h=m}h!==null&&o.stopPropagation()}else o0(t,r,o,null,i)}}function E0(t){return t=Qn(t),N0(t)}var sd=null;function N0(t){if(sd=null,t=Ir(t),t!==null){var r=u(t);if(r===null)t=null;else{var i=r.tag;if(i===13){if(t=f(r),t!==null)return t;t=null}else if(i===31){if(t=g(r),t!==null)return t;t=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return sd=t,null}function rb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case Us:return 2;case Bs:return 8;case me:case Ce:return 32;case je:return 268435456;default:return 32}default:return 32}}var k0=!1,us=null,ds=null,hs=null,Ko=new Map,Yo=new Map,fs=[],rN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ab(t,r){switch(t){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Ko.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(r.pointerId)}}function Xo(t,r,i,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:i,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},r!==null&&(r=Gn(r),r!==null&&tb(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function aN(t,r,i,o,h){switch(r){case"focusin":return us=Xo(us,t,r,i,o,h),!0;case"dragenter":return ds=Xo(ds,t,r,i,o,h),!0;case"mouseover":return hs=Xo(hs,t,r,i,o,h),!0;case"pointerover":var m=h.pointerId;return Ko.set(m,Xo(Ko.get(m)||null,t,r,i,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Yo.set(m,Xo(Yo.get(m)||null,t,r,i,o,h)),!0}return!1}function sb(t){var r=Ir(t.target);if(r!==null){var i=u(r);if(i!==null){if(r=i.tag,r===13){if(r=f(i),r!==null){t.blockedOn=r,ur(t.priority,function(){nb(i)});return}}else if(r===31){if(r=g(i),r!==null){t.blockedOn=r,ur(t.priority,function(){nb(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function id(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var i=E0(t.nativeEvent);if(i===null){i=t.nativeEvent;var o=new i.constructor(i.type,i);oo=o,i.target.dispatchEvent(o),oo=null}else return r=Gn(i),r!==null&&tb(r),t.blockedOn=i,!1;r.shift()}return!0}function ib(t,r,i){id(t)&&i.delete(r)}function sN(){k0=!1,us!==null&&id(us)&&(us=null),ds!==null&&id(ds)&&(ds=null),hs!==null&&id(hs)&&(hs=null),Ko.forEach(ib),Yo.forEach(ib)}function ld(t,r){t.blockedOn===r&&(t.blockedOn=null,k0||(k0=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,sN)))}var od=null;function lb(t){od!==t&&(od=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){od===t&&(od=null);for(var r=0;r<t.length;r+=3){var i=t[r],o=t[r+1],h=t[r+2];if(typeof o!="function"){if(N0(o||i)===null)continue;break}var m=Gn(i);m!==null&&(t.splice(r,3),r-=3,Ef(m,{pending:!0,data:h,method:i.method,action:o},o,h))}}))}function _l(t){function r(C){return ld(C,t)}us!==null&&ld(us,t),ds!==null&&ld(ds,t),hs!==null&&ld(hs,t),Ko.forEach(r),Yo.forEach(r);for(var i=0;i<fs.length;i++){var o=fs[i];o.blockedOn===t&&(o.blockedOn=null)}for(;0<fs.length&&(i=fs[0],i.blockedOn===null);)sb(i),i.blockedOn===null&&fs.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var h=i[o],m=i[o+1],b=h[Kt]||null;if(typeof m=="function")b||lb(i);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[Kt]||null)w=b.formAction;else if(N0(h)!==null)continue}else w=b.action;typeof w=="function"?i[o+1]=w:(i.splice(o,3),o-=3),lb(i)}}}function ob(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function T0(t){this._internalRoot=t}cd.prototype.render=T0.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var i=r.current,o=Un();Jx(i,o,t,r,null,null)},cd.prototype.unmount=T0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Jx(t.current,2,null,t,null,null),Hu(),r[Cr]=null}};function cd(t){this._internalRoot=t}cd.prototype.unstable_scheduleHydration=function(t){if(t){var r=Hc();t={blockedOn:null,target:t,priority:r};for(var i=0;i<fs.length&&r!==0&&r<fs[i].priority;i++);fs.splice(i,0,t),i===0&&sb(t)}};var cb=e.version;if(cb!=="19.2.0")throw Error(s(527,cb,"19.2.0"));ie.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var iN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{He=ud.inject(iN),Ze=ud}catch{}}return Wo.createRoot=function(t,r){if(!l(t))throw Error(s(299));var i=!1,o="",h=py,m=yy,b=xy;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=Zx(t,1,!1,null,null,i,o,null,h,m,b,ob),t[Cr]=r.current,l0(t),new T0(r)},Wo.hydrateRoot=function(t,r,i){if(!l(t))throw Error(s(299));var o=!1,h="",m=py,b=yy,w=xy,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),r=Zx(t,1,!0,r,i??null,o,h,C,m,b,w,ob),r.context=Wx(null),i=r.current,o=Un(),o=Gs(o),h=Wa(o),h.callback=null,Ja(i,h,o),i=o,r.current.lanes=i,Hs(r,i),Qr(r),t[Cr]=r.current,l0(t),new cd(r)},Wo.version="19.2.0",Wo}var bb;function pN(){if(bb)return j0.exports;bb=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),j0.exports=gN(),j0.exports}var yN=pN();const xN=pv(yN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vN=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),vb=a=>{const e=vN(a);return e.charAt(0).toUpperCase()+e.slice(1)},xv=(...a)=>a.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),_N=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=re.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:f,...g},p)=>re.createElement("svg",{ref:p,...wN,width:e,height:e,stroke:a,strokeWidth:s?Number(n)*24/Number(e):n,className:xv("lucide",l),...!u&&!_N(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,_])=>re.createElement(y,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(a,e)=>{const n=re.forwardRef(({className:s,...l},u)=>re.createElement(EN,{ref:u,iconNode:e,className:xv(`lucide-${bN(vb(a))}`,`lucide-${a}`,s),...l}));return n.displayName=vb(a),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],kN=de("activity",NN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ad=de("arrow-left",TN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Yr=de("arrow-right",SN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_i=de("award",AN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_r=de("book-open",jN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],bv=de("briefcase",CN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vv=de("calendar",RN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],DN=de("chart-column",IN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],MN=de("chart-pie",ON);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fc=de("chevron-down",VN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sc=de("chevron-left",LN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],D0=de("chevron-right",PN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jd=de("circle-alert",zN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cd=de("circle-check-big",UN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Na=de("circle-check",BN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],mc=de("circle-plus",qN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wi=de("circle-question-mark",HN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],GN=de("circle-user",FN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],tm=de("circle-x",QN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_v=de("clock",$N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ei=de("crown",KN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],nm=de("download",YN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rm=de("eye",XN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],am=de("facebook",ZN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],_b=de("file-check",WN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],ek=de("file-search",JN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Rd=de("file-text",tk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],sm=de("flag",nk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],zm=de("flame",rk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],dd=de("folder-open",ak);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],ik=de("gem",sk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ok=de("globe",lk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ul=de("graduation-cap",ck);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],im=de("house",uk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hk=de("info",dk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],gc=de("layers",fk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wb=de("layout-dashboard",mk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Eb=de("list",gk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fn=de("loader-circle",pk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Nb=de("log-in",yk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Sl=de("lock",xk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Id=de("log-out",bk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],kb=de("mail",vk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lm=de("map-pin",_k);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Tb=de("medal",wk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Nk=de("menu",Ek);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],pc=de("message-circle",kk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],wv=de("move-right",Tk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Sb=de("palette",Sk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jk=de("pen-line",Ak);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Rk=de("pen-tool",Ck);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Dk=de("play",Ik);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ev=de("refresh-cw",Ok);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Vk=de("rocket",Mk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Nv=de("rotate-ccw",Lk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],yc=de("save",Pk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Dd=de("school",zk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ni=de("search",Uk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],qk=de("shield-alert",Bk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fk=de("shield-check",Hk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qk=de("shield",Gk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Kk=de("sparkles",$k);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xk=de("square-check-big",Yk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],om=de("square-pen",Zk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Um=de("star",Wk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],kv=de("tag",Jk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Tv=de("target",eT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],Sv=de("text-align-start",tT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],rT=de("timer",nT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cm=de("trash-2",aT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ab=de("trending-up",sT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Av=de("triangle-alert",iT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],um=de("trophy",lT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],cT=de("type",oT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],dT=de("user-plus",uT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kr=de("user",hT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mT=de("users",fT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ja=de("x",gT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Bm=de("zap",pT),yT=()=>{};var jb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=function(a){const e=[];let n=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},xT=function(a){const e=[];let n=0,s=0;for(;n<a.length;){const l=a[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=a[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=a[n++],f=a[n++],g=a[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=a[n++],f=a[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const u=a[l],f=l+1<a.length,g=f?a[l+1]:0,p=l+2<a.length,y=p?a[l+2]:0,_=u>>2,E=(u&3)<<4|g>>4;let j=(g&15)<<2|y>>6,V=y&63;p||(V=64,f||(j=64)),s.push(n[_],n[E],n[j],n[V])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(jv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):xT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const u=n[a.charAt(l++)],g=l<a.length?n[a.charAt(l)]:0;++l;const y=l<a.length?n[a.charAt(l)]:64;++l;const E=l<a.length?n[a.charAt(l)]:64;if(++l,u==null||g==null||y==null||E==null)throw new bT;const j=u<<2|g>>4;if(s.push(j),y!==64){const V=g<<4&240|y>>2;if(s.push(V),E!==64){const G=y<<6&192|E;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class bT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vT=function(a){const e=jv(a);return Cv.encodeByteArray(e,!0)},Od=function(a){return vT(a).replace(/\./g,"")},Rv=function(a){try{return Cv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=()=>_T().__FIREBASE_DEFAULTS__,ET=()=>{if(typeof process>"u"||typeof jb>"u")return;const a=jb.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},NT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Rv(a[1]);return e&&JSON.parse(e)},nh=()=>{try{return yT()||wT()||ET()||NT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Iv=a=>{var e,n;return(n=(e=nh())==null?void 0:e.emulatorHosts)==null?void 0:n[a]},kT=a=>{const e=Iv(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Dv=()=>{var a;return(a=nh())==null?void 0:a.config},Ov=a=>{var e;return(e=nh())==null?void 0:e[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mv(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Od(JSON.stringify(n)),Od(JSON.stringify(f)),""].join(".")}const ic={};function AT(){const a={prod:[],emulator:[]};for(const e of Object.keys(ic))ic[e]?a.emulator.push(e):a.prod.push(e);return a}function jT(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let Cb=!1;function Vv(a,e){if(typeof window>"u"||typeof document>"u"||!Bl(window.location.host)||ic[a]===e||ic[a]||Cb)return;ic[a]=e;function n(j){return`__firebase__banner__${j}`}const s="__firebase__banner",u=AT().prod.length>0;function f(){const j=document.getElementById(s);j&&j.remove()}function g(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function p(j,V){j.setAttribute("width","24"),j.setAttribute("id",V),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function y(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{Cb=!0,f()},j}function _(j,V){j.setAttribute("id",V),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function E(){const j=jT(s),V=n("text"),G=document.getElementById(V)||document.createElement("span"),se=n("learnmore"),Z=document.getElementById(se)||document.createElement("a"),pe=n("preprendIcon"),ne=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const le=j.element;g(le),_(Z,se);const _e=y();p(ne,pe),le.append(ne,G,Z,_e),document.body.appendChild(le)}u?(G.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function RT(){var e;const a=(e=nh())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lv(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function DT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OT(){const a=pn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function MT(){return!RT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pv(){try{return typeof indexedDB=="object"}catch{return!1}}function zv(){return new Promise((a,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}function VT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="FirebaseError";class kr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=LT,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ii.prototype.create)}}class Ii{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?PT(u,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new kr(l,g,s)}}function PT(a,e){return a.replace(zT,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const zT=/\{\$([^}]+)}/g;function UT(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function ks(a,e){if(a===e)return!0;const n=Object.keys(a),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=a[l],f=e[l];if(Rb(u)&&Rb(f)){if(!ks(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Rb(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(a){const e=[];for(const[n,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jo(a){const e={};return a.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function ec(a){const e=a.indexOf("?");if(!e)return"";const n=a.indexOf("#",e);return a.substring(e,n>0?n:void 0)}function BT(a,e){const n=new qT(a,e);return n.subscribe.bind(n)}class qT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");HT(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=O0),l.error===void 0&&(l.error=O0),l.complete===void 0&&(l.complete=O0);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HT(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function O0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=1e3,GT=2,QT=14400*1e3,$T=.5;function Ib(a,e=FT,n=GT){const s=e*Math.pow(n,a),l=Math.round($T*s*(Math.random()-.5)*2);return Math.min(QT,s+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(a){return a&&a._delegate?a._delegate:a}class wr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new TT;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XT(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YT(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YT(a){return a===pi?void 0:a}function XT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Qe||(Qe={}));const WT={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},JT=Qe.INFO,e4={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},t4=(a,e,...n)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),l=e4[e];if(l)console[l](`[${s}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rh{constructor(e){this.name=e,this._logLevel=JT,this._logHandler=t4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const n4=(a,e)=>e.some(n=>a instanceof n);let Db,Ob;function r4(){return Db||(Db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a4(){return Ob||(Ob=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,dm=new WeakMap,Bv=new WeakMap,M0=new WeakMap,qm=new WeakMap;function s4(a){const e=new Promise((n,s)=>{const l=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{n(_s(a.result)),l()},f=()=>{s(a.error),l()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Uv.set(n,a)}).catch(()=>{}),qm.set(e,a),e}function i4(a){if(dm.has(a))return;const e=new Promise((n,s)=>{const l=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});dm.set(a,e)}let hm={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return dm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Bv.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function l4(a){hm=a(hm)}function o4(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=a.call(V0(this),e,...n);return Bv.set(s,e.sort?e.sort():[e]),_s(s)}:a4().includes(a)?function(...e){return a.apply(V0(this),e),_s(Uv.get(this))}:function(...e){return _s(a.apply(V0(this),e))}}function c4(a){return typeof a=="function"?o4(a):(a instanceof IDBTransaction&&i4(a),n4(a,r4())?new Proxy(a,hm):a)}function _s(a){if(a instanceof IDBRequest)return s4(a);if(M0.has(a))return M0.get(a);const e=c4(a);return e!==a&&(M0.set(a,e),qm.set(e,a)),e}const V0=a=>qm.get(a);function qv(a,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(a,e),g=_s(f);return s&&f.addEventListener("upgradeneeded",p=>{s(_s(f.result),p.oldVersion,p.newVersion,_s(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const u4=["get","getKey","getAll","getAllKeys","count"],d4=["put","add","delete","clear"],L0=new Map;function Mb(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(L0.get(e))return L0.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=d4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||u4.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&p.done]))[0]};return L0.set(e,u),u}l4(a=>({...a,get:(e,n,s)=>Mb(e,n)||a.get(e,n,s),has:(e,n)=>!!Mb(e,n)||a.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function f4(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fm="@firebase/app",Vb="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new rh("@firebase/app"),m4="@firebase/app-compat",g4="@firebase/analytics-compat",p4="@firebase/analytics",y4="@firebase/app-check-compat",x4="@firebase/app-check",b4="@firebase/auth",v4="@firebase/auth-compat",_4="@firebase/database",w4="@firebase/data-connect",E4="@firebase/database-compat",N4="@firebase/functions",k4="@firebase/functions-compat",T4="@firebase/installations",S4="@firebase/installations-compat",A4="@firebase/messaging",j4="@firebase/messaging-compat",C4="@firebase/performance",R4="@firebase/performance-compat",I4="@firebase/remote-config",D4="@firebase/remote-config-compat",O4="@firebase/storage",M4="@firebase/storage-compat",V4="@firebase/firestore",L4="@firebase/ai",P4="@firebase/firestore-compat",z4="firebase",U4="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="[DEFAULT]",B4={[fm]:"fire-core",[m4]:"fire-core-compat",[p4]:"fire-analytics",[g4]:"fire-analytics-compat",[x4]:"fire-app-check",[y4]:"fire-app-check-compat",[b4]:"fire-auth",[v4]:"fire-auth-compat",[_4]:"fire-rtdb",[w4]:"fire-data-connect",[E4]:"fire-rtdb-compat",[N4]:"fire-fn",[k4]:"fire-fn-compat",[T4]:"fire-iid",[S4]:"fire-iid-compat",[A4]:"fire-fcm",[j4]:"fire-fcm-compat",[C4]:"fire-perf",[R4]:"fire-perf-compat",[I4]:"fire-rc",[D4]:"fire-rc-compat",[O4]:"fire-gcs",[M4]:"fire-gcs-compat",[V4]:"fire-fst",[P4]:"fire-fst-compat",[L4]:"fire-vertex","fire-js":"fire-js",[z4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Map,q4=new Map,gm=new Map;function Lb(a,e){try{a.container.addComponent(e)}catch(n){Ca.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function na(a){const e=a.name;if(gm.has(e))return Ca.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,a);for(const n of Md.values())Lb(n,a);for(const n of q4.values())Lb(n,a);return!0}function Di(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function rr(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new Ii("app","Firebase",H4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=U4;function Hv(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const s={name:mm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw ws.create("bad-app-name",{appName:String(l)});if(n||(n=Dv()),!n)throw ws.create("no-options");const u=Md.get(l);if(u){if(ks(n,u.options)&&ks(s,u.config))return u;throw ws.create("duplicate-app",{appName:l})}const f=new ZT(l);for(const p of gm.values())f.addComponent(p);const g=new F4(n,s,f);return Md.set(l,g),g}function Hm(a=mm){const e=Md.get(a);if(!e&&a===mm&&Dv())return Hv();if(!e)throw ws.create("no-app",{appName:a});return e}function sr(a,e,n){let s=B4[a]??a;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ca.warn(f.join(" "));return}na(new wr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="firebase-heartbeat-database",Q4=1,xc="firebase-heartbeat-store";let P0=null;function Fv(){return P0||(P0=qv(G4,Q4,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(xc)}catch(n){console.warn(n)}}}}).catch(a=>{throw ws.create("idb-open",{originalErrorMessage:a.message})})),P0}async function $4(a){try{const n=(await Fv()).transaction(xc),s=await n.objectStore(xc).get(Gv(a));return await n.done,s}catch(e){if(e instanceof kr)Ca.warn(e.message);else{const n=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ca.warn(n.message)}}}async function Pb(a,e){try{const s=(await Fv()).transaction(xc,"readwrite");await s.objectStore(xc).put(e,Gv(a)),await s.done}catch(n){if(n instanceof kr)Ca.warn(n.message);else{const s=ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ca.warn(s.message)}}}function Gv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=1024,Y4=30;class X4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=zb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>Y4){const f=J4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ca.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zb(),{heartbeatsToSend:s,unsentEntries:l}=Z4(this._heartbeatsCache.heartbeats),u=Od(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ca.warn(n),""}}}function zb(){return new Date().toISOString().substring(0,10)}function Z4(a,e=K4){const n=[];let s=a.slice();for(const l of a){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Ub(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Ub(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class W4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pv()?zv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ub(a){return Od(JSON.stringify({version:2,heartbeats:a})).length}function J4(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let s=1;s<a.length;s++)a[s].date<n&&(n=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(a){na(new wr("platform-logger",e=>new h4(e),"PRIVATE")),na(new wr("heartbeat",e=>new X4(e),"PRIVATE")),sr(fm,Vb,a),sr(fm,Vb,"esm2020"),sr("fire-js","")}eS("");var tS="firebase",nS="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(tS,nS,"app");function Qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rS=Qv,$v=new Ii("auth","Firebase",Qv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new rh("@firebase/auth");function aS(a,...e){Vd.logLevel<=Qe.WARN&&Vd.warn(`Auth (${ql}): ${a}`,...e)}function xd(a,...e){Vd.logLevel<=Qe.ERROR&&Vd.error(`Auth (${ql}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(a,...e){throw Fm(a,...e)}function Xr(a,...e){return Fm(a,...e)}function Kv(a,e,n){const s={...rS(),[e]:n};return new Ii("auth","Firebase",s).create(e,{appName:a.name})}function Sa(a){return Kv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fm(a,...e){if(typeof a!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(n,...s)}return $v.create(a,...e)}function Se(a,e,...n){if(!a)throw Fm(e,...n)}function ka(a){const e="INTERNAL ASSERTION FAILED: "+a;throw xd(e),new Error(e)}function Ra(a,e){a||ka(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.href)||""}function sS(){return Bb()==="http:"||Bb()==="https:"}function Bb(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sS()||Lv()||"connection"in navigator)?navigator.onLine:!0}function lS(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ra(n>e,"Short delay should be less than long delay!"),this.isMobile=CT()||DT()}get(){return iS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(a,e){Ra(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ka("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ka("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ka("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uS=new Rc(3e4,6e4);function Va(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function La(a,e,n,s,l={}){return Xv(a,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const g=Cc({key:a.config.apiKey,...f}).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const y={method:e,headers:p,...u};return IT()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&Bl(a.emulatorConfig.host)&&(y.credentials="include"),Yv.fetch()(await Zv(a,a.config.apiHost,n,g),y)})}async function Xv(a,e,n){a._canInitEmulator=!1;const s={...oS,...e};try{const l=new hS(a),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw hd(a,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(a,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw hd(a,"email-already-in-use",f);if(p==="USER_DISABLED")throw hd(a,"user-disabled",f);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Kv(a,_,y);Er(a,_)}}catch(l){if(l instanceof kr)throw l;Er(a,"network-request-failed",{message:String(l)})}}async function Ic(a,e,n,s,l={}){const u=await La(a,e,n,s,l);return"mfaPendingCredential"in u&&Er(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function Zv(a,e,n,s){const l=`${e}${n}?${s}`,u=a,f=u.config.emulator?Gm(a.config,l):`${a.config.apiScheme}://${l}`;return cS.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function dS(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xr(this.auth,"network-request-failed")),uS.get())})}}function hd(a,e,n){const s={appName:a.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Xr(a,e,s);return l.customData._tokenResponse=n,l}function qb(a){return a!==void 0&&a.enterprise!==void 0}class fS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mS(a,e){return La(a,"GET","/v2/recaptchaConfig",Va(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(a,e){return La(a,"POST","/v1/accounts:delete",e)}async function Ld(a,e){return La(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pS(a,e=!1){const n=Tt(a),s=await n.getIdToken(e),l=Qm(s);Se(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:lc(z0(l.auth_time)),issuedAtTime:lc(z0(l.iat)),expirationTime:lc(z0(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function z0(a){return Number(a)*1e3}function Qm(a){const[e,n,s]=a.split(".");if(e===void 0||n===void 0||s===void 0)return xd("JWT malformed, contained fewer than 3 sections"),null;try{const l=Rv(n);return l?JSON.parse(l):(xd("Failed to decode base64 JWT payload"),null)}catch(l){return xd("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Hb(a){const e=Qm(a);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(a,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof kr&&yS(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function yS({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(a){var E;const e=a.auth,n=await a.getIdToken(),s=await bc(a,Ld(e,{idToken:n}));Se(s==null?void 0:s.users.length,e,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const u=(E=l.providerUserInfo)!=null&&E.length?Wv(l.providerUserInfo):[],f=vS(a.providerData,u),g=a.isAnonymous,p=!(a.email&&l.passwordHash)&&!(f!=null&&f.length),y=g?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(a,_)}async function bS(a){const e=Tt(a);await Pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vS(a,e){return[...a.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function Wv(a){return a.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(a,e){const n=await Xv(a,{},async()=>{const s=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=a.config,f=await Zv(a,l,"/v1/token",`key=${u}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return a.emulatorConfig&&Bl(a.emulatorConfig.host)&&(p.credentials="include"),Yv.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wS(a,e){return La(a,"POST","/v2/accounts:revokeToken",Va(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=Hb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await _S(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new Al;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(Se(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return ka("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(a,e){Se(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class vr{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new xS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await bc(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pS(this,e)}reload(){return bS(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Pd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(Sa(this.auth));const e=await this.getIdToken();return await bc(this,gS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:j,isAnonymous:V,providerData:G,stsTokenManager:se}=n;Se(E&&se,e,"internal-error");const Z=Al.fromJSON(this.name,se);Se(typeof E=="string",e,"internal-error"),gs(s,e.name),gs(l,e.name),Se(typeof j=="boolean",e,"internal-error"),Se(typeof V=="boolean",e,"internal-error"),gs(u,e.name),gs(f,e.name),gs(g,e.name),gs(p,e.name),gs(y,e.name),gs(_,e.name);const pe=new vr({uid:E,auth:e,email:l,emailVerified:j,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:_});return G&&Array.isArray(G)&&(pe.providerData=G.map(ne=>({...ne}))),p&&(pe._redirectEventId=p),pe}static async _fromIdTokenResponse(e,n,s=!1){const l=new Al;l.updateFromServerResponse(n);const u=new vr({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Pd(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];Se(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Wv(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new Al;g.updateFromIdToken(s);const p=new vr({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new Map;function Ta(a){Ra(a instanceof Function,"Expected a class definition");let e=Fb.get(a);return e?(Ra(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,Fb.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Jv.type="NONE";const Gb=Jv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(a,e,n){return`firebase:${a}:${e}:${n}`}class jl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=bd(this.userKey,l.apiKey,u),this.fullPersistenceKey=bd("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ld(this.auth,{idToken:e}).catch(()=>{});return n?vr._fromGetAccountInfoResponse(this.auth,n,e):null}return vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new jl(Ta(Gb),e,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Ta(Gb);const f=bd(s,e.config.apiKey,e.name);let g=null;for(const y of n)try{const _=await y._get(f);if(_){let E;if(typeof _=="string"){const j=await Ld(e,{idToken:_}).catch(()=>{});if(!j)break;E=await vr._fromGetAccountInfoResponse(e,j,_)}else E=vr._fromJSON(e,_);y!==u&&(g=E),u=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new jl(u,e,s):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new jl(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s_(e))return"Blackberry";if(i_(e))return"Webos";if(t_(e))return"Safari";if((e.includes("chrome/")||n_(e))&&!e.includes("edge/"))return"Chrome";if(a_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function e_(a=pn()){return/firefox\//i.test(a)}function t_(a=pn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n_(a=pn()){return/crios\//i.test(a)}function r_(a=pn()){return/iemobile/i.test(a)}function a_(a=pn()){return/android/i.test(a)}function s_(a=pn()){return/blackberry/i.test(a)}function i_(a=pn()){return/webos/i.test(a)}function $m(a=pn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function ES(a=pn()){var e;return $m(a)&&!!((e=window.navigator)!=null&&e.standalone)}function NS(){return OT()&&document.documentMode===10}function l_(a=pn()){return $m(a)||a_(a)||i_(a)||s_(a)||/windows phone/i.test(a)||r_(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(a,e=[]){let n;switch(a){case"Browser":n=Qb(pn());break;case"Worker":n=`${Qb(pn())}-${a}`;break;default:n=a}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ql}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,g)=>{try{const p=e(u);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TS(a,e={}){return La(a,"GET","/v2/passwordPolicy",Va(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=6;class AS{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??SS,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $b(this),this.idTokenSubscription=new $b(this),this.beforeStateQueue=new kS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$v,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ta(n)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await jl.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ld(this,{idToken:e}),s=await vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(rr(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===g)&&(p!=null&&p.user)&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(Sa(this));const n=e?Tt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(Sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(Sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ta(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TS(this),n=new AS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ii("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await wS(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ta(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[Ta(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&aS(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ds(a){return Tt(a)}class $b{constructor(e){this.auth=e,this.observer=null,this.addObserver=BT(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CS(a){ah=a}function c_(a){return ah.loadJS(a)}function RS(){return ah.recaptchaEnterpriseScript}function IS(){return ah.gapiScript}function DS(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class OS{constructor(){this.enterprise=new MS}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class MS{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const VS="recaptcha-enterprise",u_="NO_RECAPTCHA";class LS{constructor(e){this.type=VS,this.auth=Ds(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{mS(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new fS(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{g(p)})})}function l(u,f,g){const p=window.grecaptcha;qb(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(u_)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OS().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(g=>{if(!n&&qb(window.grecaptcha))l(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=RS();p.length!==0&&(p+=g),c_(p).then(()=>{l(g,u,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function Kb(a,e,n,s=!1,l=!1){const u=new LS(a);let f;if(l)f=u_;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function zd(a,e,n,s,l){var u;if((u=a._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Kb(a,e,n,n==="getOobCode");return s(a,f)}else return s(a,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Kb(a,e,n,n==="getOobCode");return s(a,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(a,e){const n=Di(a,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ks(u,e??{}))return l;Er(l,"already-initialized")}return n.initialize({options:e})}function zS(a,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ta);e!=null&&e.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function US(a,e,n){const s=Ds(a);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=d_(e),{host:f,port:g}=BS(e),p=g===null?"":`:${g}`,y={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ks(y,s.config.emulator)&&ks(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Bl(f)?(Mv(`${u}//${f}${p}`),Vv("Auth",!0)):qS()}function d_(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function BS(a){const e=d_(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Yb(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Yb(f)}}}function Yb(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function qS(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ka("not implemented")}_getIdTokenResponse(e){return ka("not implemented")}_linkToIdToken(e,n){return ka("not implemented")}_getReauthenticationResolver(e){return ka("not implemented")}}async function HS(a,e){return La(a,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FS(a,e){return Ic(a,"POST","/v1/accounts:signInWithPassword",Va(a,e))}async function GS(a,e){return La(a,"POST","/v1/accounts:sendOobCode",Va(a,e))}async function QS(a,e){return GS(a,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(a,e){return Ic(a,"POST","/v1/accounts:signInWithEmailLink",Va(a,e))}async function KS(a,e){return Ic(a,"POST","/v1/accounts:signInWithEmailLink",Va(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Km{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new vc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new vc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zd(e,n,"signInWithPassword",FS);case"emailLink":return $S(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zd(e,s,"signUpPassword",HS);case"emailLink":return KS(e,{idToken:n,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(a,e){return Ic(a,"POST","/v1/accounts:signInWithIdp",Va(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="http://localhost";class ki extends Km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const f=new ki(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Cl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Cl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cl(e,n)}buildRequest(){const e={requestUri:YS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZS(a){const e=Jo(ec(a)).link,n=e?Jo(ec(e)).deep_link_id:null,s=Jo(ec(a)).deep_link_id;return(s?Jo(ec(s)).link:null)||s||n||e||a}class Ym{constructor(e){const n=Jo(ec(e)),s=n.apiKey??null,l=n.oobCode??null,u=XS(n.mode??null);Se(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ZS(e);try{return new Ym(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(e,n){return vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ym.parseLink(n);return Se(s,"argument-error"),vc._fromEmailAndCode(e,s.code,s.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends h_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Dc{constructor(){super("facebook.com")}static credential(e){return ki._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ki._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ys.credential(n,s)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Dc{constructor(){super("github.com")}static credential(e){return ki._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Dc{constructor(){super("twitter.com")}static credential(e,n){return ki._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return bs.credential(n,s)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(a,e){return Ic(a,"POST","/v1/accounts:signUp",Va(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await vr._fromIdTokenResponse(e,s,l),f=Xb(s);return new Ti({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=Xb(s);return new Ti({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function Xb(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends kr{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Ud.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Ud(e,n,s,l)}}function f_(a,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ud._fromErrorAndOperation(a,u,e,s):u})}async function JS(a,e,n=!1){const s=await bc(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return Ti._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(a,e,n=!1){const{auth:s}=a;if(rr(s.app))return Promise.reject(Sa(s));const l="reauthenticate";try{const u=await bc(a,f_(s,l,e,a),n);Se(u.idToken,s,"internal-error");const f=Qm(u.idToken);Se(f,s,"internal-error");const{sub:g}=f;return Se(a.uid===g,s,"user-mismatch"),Ti._forOperation(a,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Er(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m_(a,e,n=!1){if(rr(a.app))return Promise.reject(Sa(a));const s="signIn",l=await f_(a,s,e),u=await Ti._fromIdTokenResponse(a,s,l);return n||await a._updateCurrentUser(u.user),u}async function tA(a,e){return m_(Ds(a),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g_(a){const e=Ds(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nA(a,e,n){const s=Ds(a);await zd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",QS)}async function rA(a,e,n){if(rr(a.app))return Promise.reject(Sa(a));const s=Ds(a),f=await zd(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WS).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&g_(a),p}),g=await Ti._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function aA(a,e,n){return rr(a.app)?Promise.reject(Sa(a)):tA(Tt(a),Hl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&g_(a),s})}function sA(a,e,n,s){return Tt(a).onIdTokenChanged(e,n,s)}function iA(a,e,n){return Tt(a).beforeAuthStateChanged(e,n)}function lA(a,e,n,s){return Tt(a).onAuthStateChanged(e,n,s)}function oA(a){return Tt(a).signOut()}const Bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bd,"1"),this.storage.removeItem(Bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=1e3,uA=10;class y_ extends p_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);NS()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,uA):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},cA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}y_.type="LOCAL";const dA=y_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_ extends p_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}x_.type="SESSION";const b_=x_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new sh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async y=>y(n.origin,u)),p=await hA(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(a="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return a+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const y=Xm("",20);l.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(E){const j=E;if(j.data.eventId===y)switch(j.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(j.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function mA(a){Zr().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function gA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pA(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)==null?void 0:a.controller)||null}function yA(){return v_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="firebaseLocalStorageDb",xA=1,qd="firebaseLocalStorage",w_="fbase_key";class Oc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ih(a,e){return a.transaction([qd],e?"readwrite":"readonly").objectStore(qd)}function bA(){const a=indexedDB.deleteDatabase(__);return new Oc(a).toPromise()}function xm(){const a=indexedDB.open(__,xA);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(qd,{keyPath:w_})}catch(l){n(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(qd)?e(s):(s.close(),await bA(),e(await xm()))})})}async function Zb(a,e,n){const s=ih(a,!0).put({[w_]:e,value:n});return new Oc(s).toPromise()}async function vA(a,e){const n=ih(a,!1).get(e),s=await new Oc(n).toPromise();return s===void 0?null:s.value}function Wb(a,e){const n=ih(a,!0).delete(e);return new Oc(n).toPromise()}const _A=800,wA=3;class E_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>wA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(yA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await gA(),!this.activeServiceWorker)return;this.sender=new fA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await Zb(e,Bd,"1"),await Wb(e,Bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Zb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>vA(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=ih(l,!1).getAll();return new Oc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_A)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E_.type="LOCAL";const EA=E_;new Rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(a,e){return e?Ta(e):(Se(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends Km{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kA(a){return m_(a.auth,new Zm(a),a.bypassAuthState)}function TA(a){const{auth:e,user:n}=a;return Se(n,e,"internal-error"),eA(n,new Zm(a),a.bypassAuthState)}async function SA(a){const{auth:e,user:n}=a;return Se(n,e,"internal-error"),JS(n,new Zm(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kA;case"linkViaPopup":case"linkViaRedirect":return SA;case"reauthViaPopup":case"reauthViaRedirect":return TA;default:Er(this.auth,"internal-error")}}resolve(e){Ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new Rc(2e3,1e4);class Tl extends N_{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Tl.currentPopupAction&&Tl.currentPopupAction.cancel(),Tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ra(this.filter.length===1,"Popup operations only handle one event");const e=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AA.get())};e()}}Tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="pendingRedirect",vd=new Map;class CA extends N_{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const s=await RA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RA(a,e){const n=OA(e),s=DA(a);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function IA(a,e){vd.set(a._key(),e)}function DA(a){return Ta(a._redirectPersistence)}function OA(a){return bd(jA,a.config.apiKey,a.name)}async function MA(a,e,n=!1){if(rr(a.app))return Promise.reject(Sa(a));const s=Ds(a),l=NA(s,e),f=await new CA(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=600*1e3;class LA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!k_(e)){const l=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Xr(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jb(e))}saveEventToCache(e){this.cachedEventUids.add(Jb(e)),this.lastProcessedEventTime=Date.now()}}function Jb(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function k_({type:a,error:e}){return a==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PA(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k_(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(a,e={}){return La(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BA=/^https?/;async function qA(a){if(a.config.emulator)return;const{authorizedDomains:e}=await zA(a);for(const n of e)try{if(HA(n))return}catch{}Er(a,"unauthorized-domain")}function HA(a){const e=pm(),{protocol:n,hostname:s}=new URL(e);if(a.startsWith("chrome-extension://")){const f=new URL(a);return f.hostname===""&&s===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!BA.test(n))return!1;if(UA.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new Rc(3e4,6e4);function e1(){const a=Zr().___jsl;if(a!=null&&a.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function GA(a){return new Promise((e,n)=>{var l,u,f;function s(){e1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e1(),n(Xr(a,"network-request-failed"))},timeout:FA.get()})}if((u=(l=Zr().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=Zr().gapi)!=null&&f.load)s();else{const g=DS("iframefcb");return Zr()[g]=()=>{gapi.load?s():n(Xr(a,"network-request-failed"))},c_(`${IS()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw _d=null,e})}let _d=null;function QA(a){return _d=_d||GA(a),_d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new Rc(5e3,15e3),KA="__/auth/iframe",YA="emulator/auth/iframe",XA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WA(a){const e=a.config;Se(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?Gm(e,YA):`https://${a.config.authDomain}/${KA}`,s={apiKey:e.apiKey,appName:a.name,v:ql},l=ZA.get(a.config.apiHost);l&&(s.eid=l);const u=a._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Cc(s).slice(1)}`}async function JA(a){const e=await QA(a),n=Zr().gapi;return Se(n,a,"internal-error"),e.open({where:document.body,url:WA(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XA,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=Xr(a,"network-request-failed"),g=Zr().setTimeout(()=>{u(f)},$A.get());function p(){Zr().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t5=500,n5=600,r5="_blank",a5="http://localhost";class t1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s5(a,e,n,s=t5,l=n5){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...e5,width:s.toString(),height:l.toString(),top:u,left:f},y=pn().toLowerCase();n&&(g=n_(y)?r5:n),e_(y)&&(e=e||a5,p.scrollbars="yes");const _=Object.entries(p).reduce((j,[V,G])=>`${j}${V}=${G},`,"");if(ES(y)&&g!=="_self")return i5(e||"",g),new t1(null);const E=window.open(e||"",g,_);Se(E,a,"popup-blocked");try{E.focus()}catch{}return new t1(E)}function i5(a,e){const n=document.createElement("a");n.href=a,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5="__/auth/handler",o5="emulator/auth/handler",c5=encodeURIComponent("fac");async function n1(a,e,n,s,l,u){Se(a.config.authDomain,a,"auth-domain-config-required"),Se(a.config.apiKey,a,"invalid-api-key");const f={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:s,v:ql,eventId:l};if(e instanceof h_){e.setDefaultLanguage(a.languageCode),f.providerId=e.providerId||"",UT(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))f[_]=E}if(e instanceof Dc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(f.scopes=_.join(","))}a.tenantId&&(f.tid=a.tenantId);const g=f;for(const _ of Object.keys(g))g[_]===void 0&&delete g[_];const p=await a._getAppCheckToken(),y=p?`#${c5}=${encodeURIComponent(p)}`:"";return`${u5(a)}?${Cc(g).slice(1)}${y}`}function u5({config:a}){return a.emulator?Gm(a,o5):`https://${a.authDomain}/${l5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="webStorageSupport";class d5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b_,this._completeRedirectFn=MA,this._overrideRedirectResult=IA}async _openPopup(e,n,s,l){var f;Ra((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await n1(e,n,s,pm(),l);return s5(e,u,Xm())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await n1(e,n,s,pm(),l);return mA(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Ra(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await JA(e),s=new LA(e);return n.register("authEvent",l=>(Se(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(U0,{type:U0},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[U0];u!==void 0&&n(!!u),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return l_()||t_()||$m()}}const h5=d5;var r1="@firebase/auth",a1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g5(a){na(new wr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o_(a)},y=new jS(s,l,u,p);return zS(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),na(new wr("auth-internal",e=>{const n=Ds(e.getProvider("auth").getImmediate());return(s=>new f5(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(r1,a1,m5(a)),sr(r1,a1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=300,y5=Ov("authIdTokenMaxAge")||p5;let s1=null;const x5=a=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>y5)return;const l=n==null?void 0:n.token;s1!==l&&(s1=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function b5(a=Hm()){const e=Di(a,"auth");if(e.isInitialized())return e.getImmediate();const n=PS(a,{popupRedirectResolver:h5,persistence:[EA,dA,b_]}),s=Ov("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=x5(u.toString());iA(n,f,()=>f(n.currentUser)),sA(n,g=>f(g))}}const l=Iv("auth");return l&&US(n,`http://${l}`),n}function v5(){var a;return((a=document.getElementsByTagName("head"))==null?void 0:a[0])??document}CS({loadJS(a){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=e,s.onerror=l=>{const u=Xr("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",v5().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g5("Browser");var i1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,T_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,k){function S(){}S.prototype=k.prototype,T.F=k.prototype,T.prototype=new S,T.prototype.constructor=T,T.D=function(D,R,M){for(var A=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)A[Ne-2]=arguments[Ne];return k.prototype[R].apply(D,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(T,k,S){S||(S=0);const D=Array(16);if(typeof k=="string")for(var R=0;R<16;++R)D[R]=k.charCodeAt(S++)|k.charCodeAt(S++)<<8|k.charCodeAt(S++)<<16|k.charCodeAt(S++)<<24;else for(R=0;R<16;++R)D[R]=k[S++]|k[S++]<<8|k[S++]<<16|k[S++]<<24;k=T.g[0],S=T.g[1],R=T.g[2];let M=T.g[3],A;A=k+(M^S&(R^M))+D[0]+3614090360&4294967295,k=S+(A<<7&4294967295|A>>>25),A=M+(R^k&(S^R))+D[1]+3905402710&4294967295,M=k+(A<<12&4294967295|A>>>20),A=R+(S^M&(k^S))+D[2]+606105819&4294967295,R=M+(A<<17&4294967295|A>>>15),A=S+(k^R&(M^k))+D[3]+3250441966&4294967295,S=R+(A<<22&4294967295|A>>>10),A=k+(M^S&(R^M))+D[4]+4118548399&4294967295,k=S+(A<<7&4294967295|A>>>25),A=M+(R^k&(S^R))+D[5]+1200080426&4294967295,M=k+(A<<12&4294967295|A>>>20),A=R+(S^M&(k^S))+D[6]+2821735955&4294967295,R=M+(A<<17&4294967295|A>>>15),A=S+(k^R&(M^k))+D[7]+4249261313&4294967295,S=R+(A<<22&4294967295|A>>>10),A=k+(M^S&(R^M))+D[8]+1770035416&4294967295,k=S+(A<<7&4294967295|A>>>25),A=M+(R^k&(S^R))+D[9]+2336552879&4294967295,M=k+(A<<12&4294967295|A>>>20),A=R+(S^M&(k^S))+D[10]+4294925233&4294967295,R=M+(A<<17&4294967295|A>>>15),A=S+(k^R&(M^k))+D[11]+2304563134&4294967295,S=R+(A<<22&4294967295|A>>>10),A=k+(M^S&(R^M))+D[12]+1804603682&4294967295,k=S+(A<<7&4294967295|A>>>25),A=M+(R^k&(S^R))+D[13]+4254626195&4294967295,M=k+(A<<12&4294967295|A>>>20),A=R+(S^M&(k^S))+D[14]+2792965006&4294967295,R=M+(A<<17&4294967295|A>>>15),A=S+(k^R&(M^k))+D[15]+1236535329&4294967295,S=R+(A<<22&4294967295|A>>>10),A=k+(R^M&(S^R))+D[1]+4129170786&4294967295,k=S+(A<<5&4294967295|A>>>27),A=M+(S^R&(k^S))+D[6]+3225465664&4294967295,M=k+(A<<9&4294967295|A>>>23),A=R+(k^S&(M^k))+D[11]+643717713&4294967295,R=M+(A<<14&4294967295|A>>>18),A=S+(M^k&(R^M))+D[0]+3921069994&4294967295,S=R+(A<<20&4294967295|A>>>12),A=k+(R^M&(S^R))+D[5]+3593408605&4294967295,k=S+(A<<5&4294967295|A>>>27),A=M+(S^R&(k^S))+D[10]+38016083&4294967295,M=k+(A<<9&4294967295|A>>>23),A=R+(k^S&(M^k))+D[15]+3634488961&4294967295,R=M+(A<<14&4294967295|A>>>18),A=S+(M^k&(R^M))+D[4]+3889429448&4294967295,S=R+(A<<20&4294967295|A>>>12),A=k+(R^M&(S^R))+D[9]+568446438&4294967295,k=S+(A<<5&4294967295|A>>>27),A=M+(S^R&(k^S))+D[14]+3275163606&4294967295,M=k+(A<<9&4294967295|A>>>23),A=R+(k^S&(M^k))+D[3]+4107603335&4294967295,R=M+(A<<14&4294967295|A>>>18),A=S+(M^k&(R^M))+D[8]+1163531501&4294967295,S=R+(A<<20&4294967295|A>>>12),A=k+(R^M&(S^R))+D[13]+2850285829&4294967295,k=S+(A<<5&4294967295|A>>>27),A=M+(S^R&(k^S))+D[2]+4243563512&4294967295,M=k+(A<<9&4294967295|A>>>23),A=R+(k^S&(M^k))+D[7]+1735328473&4294967295,R=M+(A<<14&4294967295|A>>>18),A=S+(M^k&(R^M))+D[12]+2368359562&4294967295,S=R+(A<<20&4294967295|A>>>12),A=k+(S^R^M)+D[5]+4294588738&4294967295,k=S+(A<<4&4294967295|A>>>28),A=M+(k^S^R)+D[8]+2272392833&4294967295,M=k+(A<<11&4294967295|A>>>21),A=R+(M^k^S)+D[11]+1839030562&4294967295,R=M+(A<<16&4294967295|A>>>16),A=S+(R^M^k)+D[14]+4259657740&4294967295,S=R+(A<<23&4294967295|A>>>9),A=k+(S^R^M)+D[1]+2763975236&4294967295,k=S+(A<<4&4294967295|A>>>28),A=M+(k^S^R)+D[4]+1272893353&4294967295,M=k+(A<<11&4294967295|A>>>21),A=R+(M^k^S)+D[7]+4139469664&4294967295,R=M+(A<<16&4294967295|A>>>16),A=S+(R^M^k)+D[10]+3200236656&4294967295,S=R+(A<<23&4294967295|A>>>9),A=k+(S^R^M)+D[13]+681279174&4294967295,k=S+(A<<4&4294967295|A>>>28),A=M+(k^S^R)+D[0]+3936430074&4294967295,M=k+(A<<11&4294967295|A>>>21),A=R+(M^k^S)+D[3]+3572445317&4294967295,R=M+(A<<16&4294967295|A>>>16),A=S+(R^M^k)+D[6]+76029189&4294967295,S=R+(A<<23&4294967295|A>>>9),A=k+(S^R^M)+D[9]+3654602809&4294967295,k=S+(A<<4&4294967295|A>>>28),A=M+(k^S^R)+D[12]+3873151461&4294967295,M=k+(A<<11&4294967295|A>>>21),A=R+(M^k^S)+D[15]+530742520&4294967295,R=M+(A<<16&4294967295|A>>>16),A=S+(R^M^k)+D[2]+3299628645&4294967295,S=R+(A<<23&4294967295|A>>>9),A=k+(R^(S|~M))+D[0]+4096336452&4294967295,k=S+(A<<6&4294967295|A>>>26),A=M+(S^(k|~R))+D[7]+1126891415&4294967295,M=k+(A<<10&4294967295|A>>>22),A=R+(k^(M|~S))+D[14]+2878612391&4294967295,R=M+(A<<15&4294967295|A>>>17),A=S+(M^(R|~k))+D[5]+4237533241&4294967295,S=R+(A<<21&4294967295|A>>>11),A=k+(R^(S|~M))+D[12]+1700485571&4294967295,k=S+(A<<6&4294967295|A>>>26),A=M+(S^(k|~R))+D[3]+2399980690&4294967295,M=k+(A<<10&4294967295|A>>>22),A=R+(k^(M|~S))+D[10]+4293915773&4294967295,R=M+(A<<15&4294967295|A>>>17),A=S+(M^(R|~k))+D[1]+2240044497&4294967295,S=R+(A<<21&4294967295|A>>>11),A=k+(R^(S|~M))+D[8]+1873313359&4294967295,k=S+(A<<6&4294967295|A>>>26),A=M+(S^(k|~R))+D[15]+4264355552&4294967295,M=k+(A<<10&4294967295|A>>>22),A=R+(k^(M|~S))+D[6]+2734768916&4294967295,R=M+(A<<15&4294967295|A>>>17),A=S+(M^(R|~k))+D[13]+1309151649&4294967295,S=R+(A<<21&4294967295|A>>>11),A=k+(R^(S|~M))+D[4]+4149444226&4294967295,k=S+(A<<6&4294967295|A>>>26),A=M+(S^(k|~R))+D[11]+3174756917&4294967295,M=k+(A<<10&4294967295|A>>>22),A=R+(k^(M|~S))+D[2]+718787259&4294967295,R=M+(A<<15&4294967295|A>>>17),A=S+(M^(R|~k))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+k&4294967295,T.g[1]=T.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+M&4294967295}s.prototype.v=function(T,k){k===void 0&&(k=T.length);const S=k-this.blockSize,D=this.C;let R=this.h,M=0;for(;M<k;){if(R==0)for(;M<=S;)l(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<k;)if(D[R++]=T.charCodeAt(M++),R==this.blockSize){l(this,D),R=0;break}}else for(;M<k;)if(D[R++]=T[M++],R==this.blockSize){l(this,D),R=0;break}}this.h=R,this.o+=k},s.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var k=1;k<T.length-8;++k)T[k]=0;k=this.o*8;for(var S=T.length-8;S<T.length;++S)T[S]=k&255,k/=256;for(this.v(T),T=Array(16),k=0,S=0;S<4;++S)for(let D=0;D<32;D+=8)T[k++]=this.g[S]>>>D&255;return T};function u(T,k){var S=g;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=k(T)}function f(T,k){this.h=k;const S=[];let D=!0;for(let R=T.length-1;R>=0;R--){const M=T[R]|0;D&&M==k||(S[R]=M,D=!1)}this.g=S}var g={};function p(T){return-128<=T&&T<128?u(T,function(k){return new f([k|0],k<0?-1:0)}):new f([T|0],T<0?-1:0)}function y(T){if(isNaN(T)||!isFinite(T))return E;if(T<0)return Z(y(-T));const k=[];let S=1;for(let D=0;T>=S;D++)k[D]=T/S|0,S*=4294967296;return new f(k,0)}function _(T,k){if(T.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(T.charAt(0)=="-")return Z(_(T.substring(1),k));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=y(Math.pow(k,8));let D=E;for(let M=0;M<T.length;M+=8){var R=Math.min(8,T.length-M);const A=parseInt(T.substring(M,M+R),k);R<8?(R=y(Math.pow(k,R)),D=D.j(R).add(y(A))):(D=D.j(S),D=D.add(y(A)))}return D}var E=p(0),j=p(1),V=p(16777216);a=f.prototype,a.m=function(){if(se(this))return-Z(this).m();let T=0,k=1;for(let S=0;S<this.g.length;S++){const D=this.i(S);T+=(D>=0?D:4294967296+D)*k,k*=4294967296}return T},a.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(G(this))return"0";if(se(this))return"-"+Z(this).toString(T);const k=y(Math.pow(T,6));var S=this;let D="";for(;;){const R=_e(S,k).g;S=pe(S,R.j(k));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(T);if(S=R,G(S))return M+D;for(;M.length<6;)M="0"+M;D=M+D}},a.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function G(T){if(T.h!=0)return!1;for(let k=0;k<T.g.length;k++)if(T.g[k]!=0)return!1;return!0}function se(T){return T.h==-1}a.l=function(T){return T=pe(this,T),se(T)?-1:G(T)?0:1};function Z(T){const k=T.g.length,S=[];for(let D=0;D<k;D++)S[D]=~T.g[D];return new f(S,~T.h).add(j)}a.abs=function(){return se(this)?Z(this):this},a.add=function(T){const k=Math.max(this.g.length,T.g.length),S=[];let D=0;for(let R=0;R<=k;R++){let M=D+(this.i(R)&65535)+(T.i(R)&65535),A=(M>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);D=A>>>16,M&=65535,A&=65535,S[R]=A<<16|M}return new f(S,S[S.length-1]&-2147483648?-1:0)};function pe(T,k){return T.add(Z(k))}a.j=function(T){if(G(this)||G(T))return E;if(se(this))return se(T)?Z(this).j(Z(T)):Z(Z(this).j(T));if(se(T))return Z(this.j(Z(T)));if(this.l(V)<0&&T.l(V)<0)return y(this.m()*T.m());const k=this.g.length+T.g.length,S=[];for(var D=0;D<2*k;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(let R=0;R<T.g.length;R++){const M=this.i(D)>>>16,A=this.i(D)&65535,Ne=T.i(R)>>>16,Ye=T.i(R)&65535;S[2*D+2*R]+=A*Ye,ne(S,2*D+2*R),S[2*D+2*R+1]+=M*Ye,ne(S,2*D+2*R+1),S[2*D+2*R+1]+=A*Ne,ne(S,2*D+2*R+1),S[2*D+2*R+2]+=M*Ne,ne(S,2*D+2*R+2)}for(T=0;T<k;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=k;T<2*k;T++)S[T]=0;return new f(S,0)};function ne(T,k){for(;(T[k]&65535)!=T[k];)T[k+1]+=T[k]>>>16,T[k]&=65535,k++}function le(T,k){this.g=T,this.h=k}function _e(T,k){if(G(k))throw Error("division by zero");if(G(T))return new le(E,E);if(se(T))return k=_e(Z(T),k),new le(Z(k.g),Z(k.h));if(se(k))return k=_e(T,Z(k)),new le(Z(k.g),k.h);if(T.g.length>30){if(se(T)||se(k))throw Error("slowDivide_ only works with positive integers.");for(var S=j,D=k;D.l(T)<=0;)S=ce(S),D=ce(D);var R=$(S,1),M=$(D,1);for(D=$(D,2),S=$(S,2);!G(D);){var A=M.add(D);A.l(T)<=0&&(R=R.add(S),M=A),D=$(D,1),S=$(S,1)}return k=pe(T,R.j(k)),new le(R,k)}for(R=E;T.l(k)>=0;){for(S=Math.max(1,Math.floor(T.m()/k.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),M=y(S),A=M.j(k);se(A)||A.l(T)>0;)S-=D,M=y(S),A=M.j(k);G(M)&&(M=j),R=R.add(M),T=pe(T,A)}return new le(R,T)}a.B=function(T){return _e(this,T).h},a.and=function(T){const k=Math.max(this.g.length,T.g.length),S=[];for(let D=0;D<k;D++)S[D]=this.i(D)&T.i(D);return new f(S,this.h&T.h)},a.or=function(T){const k=Math.max(this.g.length,T.g.length),S=[];for(let D=0;D<k;D++)S[D]=this.i(D)|T.i(D);return new f(S,this.h|T.h)},a.xor=function(T){const k=Math.max(this.g.length,T.g.length),S=[];for(let D=0;D<k;D++)S[D]=this.i(D)^T.i(D);return new f(S,this.h^T.h)};function ce(T){const k=T.g.length+1,S=[];for(let D=0;D<k;D++)S[D]=T.i(D)<<1|T.i(D-1)>>>31;return new f(S,T.h)}function $(T,k){const S=k>>5;k%=32;const D=T.g.length-S,R=[];for(let M=0;M<D;M++)R[M]=k>0?T.i(M+S)>>>k|T.i(M+S+1)<<32-k:T.i(M+S);return new f(R,T.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,T_=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=_,Es=f}).apply(typeof i1<"u"?i1:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var S_,tc,A_,wd,bm,j_,C_,R_;(function(){var a,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var x=0;x<d.length;++x){var v=d[x];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(d,x){if(x)e:{var v=s;d=d.split(".");for(var N=0;N<d.length-1;N++){var z=d[N];if(!(z in v))break e;v=v[z]}d=d[d.length-1],N=v[d],x=x(N),x!=N&&x!=null&&e(v,d,{configurable:!0,writable:!0,value:x})}}l("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(d){return d||function(x){var v=[],N;for(N in x)Object.prototype.hasOwnProperty.call(x,N)&&v.push([N,x[N]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function p(d,x,v){return d.call.apply(d.bind,arguments)}function y(d,x,v){return y=p,y.apply(null,arguments)}function _(d,x){var v=Array.prototype.slice.call(arguments,1);return function(){var N=v.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function E(d,x){function v(){}v.prototype=x.prototype,d.Z=x.prototype,d.prototype=new v,d.prototype.constructor=d,d.Ob=function(N,z,H){for(var oe=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)oe[Le-2]=arguments[Le];return x.prototype[z].apply(N,oe)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function V(d){const x=d.length;if(x>0){const v=Array(x);for(let N=0;N<x;N++)v[N]=d[N];return v}return[]}function G(d,x){for(let N=1;N<arguments.length;N++){const z=arguments[N];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=d.length||0;const H=z.length||0;d.length=v+H;for(let oe=0;oe<H;oe++)d[v+oe]=z[oe]}else d.push(z)}}class se{constructor(x,v){this.i=x,this.j=v,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function Z(d){f.setTimeout(()=>{throw d},0)}function pe(){var d=T;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class ne{constructor(){this.h=this.g=null}add(x,v){const N=le.get();N.set(x,v),this.h?this.h.next=N:this.g=N,this.h=N}}var le=new se(()=>new _e,d=>d.reset());class _e{constructor(){this.next=this.g=this.h=null}set(x,v){this.h=x,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,$=!1,T=new ne,k=()=>{const d=Promise.resolve(void 0);ce=()=>{d.then(S)}};function S(){for(var d;d=pe();){try{d.h.call(d.g)}catch(v){Z(v)}var x=le;x.j(d),x.h<100&&(x.h++,d.next=x.g,x.g=d)}$=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const v=()=>{};f.addEventListener("test",v,x),f.removeEventListener("test",v,x)}catch{}return d})();function A(d){return/^[\s\xa0]*$/.test(d)}function Ne(d,x){R.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,x)}E(Ne,R),Ne.prototype.init=function(d,x){const v=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget,x||(v=="mouseover"?x=d.fromElement:v=="mouseout"&&(x=d.toElement)),this.relatedTarget=x,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ye="closure_listenable_"+(Math.random()*1e6|0),K=0;function ie(d,x,v,N,z){this.listener=d,this.proxy=null,this.src=x,this.type=v,this.capture=!!N,this.ha=z,this.key=++K,this.da=this.fa=!1}function ye(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Me(d,x,v){for(const N in d)x.call(v,d[N],N,d)}function Ie(d,x){for(const v in d)x.call(void 0,d[v],v,d)}function I(d){const x={};for(const v in d)x[v]=d[v];return x}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,x){let v,N;for(let z=1;z<arguments.length;z++){N=arguments[z];for(v in N)d[v]=N[v];for(let H=0;H<W.length;H++)v=W[H],Object.prototype.hasOwnProperty.call(N,v)&&(d[v]=N[v])}}function Y(d){this.src=d,this.g={},this.h=0}Y.prototype.add=function(d,x,v,N,z){const H=d.toString();d=this.g[H],d||(d=this.g[H]=[],this.h++);const oe=fe(d,x,N,z);return oe>-1?(x=d[oe],v||(x.fa=!1)):(x=new ie(x,this.src,H,!!N,z),x.fa=v,d.push(x)),x};function F(d,x){const v=x.type;if(v in d.g){var N=d.g[v],z=Array.prototype.indexOf.call(N,x,void 0),H;(H=z>=0)&&Array.prototype.splice.call(N,z,1),H&&(ye(x),d.g[v].length==0&&(delete d.g[v],d.h--))}}function fe(d,x,v,N){for(let z=0;z<d.length;++z){const H=d[z];if(!H.da&&H.listener==x&&H.capture==!!v&&H.ha==N)return z}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),rt={};function be(d,x,v,N,z){if(Array.isArray(x)){for(let H=0;H<x.length;H++)be(d,x[H],v,N,z);return null}return v=Ps(v),d&&d[Ye]?d.J(x,v,g(N)?!!N.capture:!1,z):gt(d,x,v,!1,N,z)}function gt(d,x,v,N,z,H){if(!x)throw Error("Invalid event type");const oe=g(z)?!!z.capture:!!z;let Le=Fn(d);if(Le||(d[ke]=Le=new Y(d)),v=Le.add(x,v,N,oe,H),v.proxy)return v;if(N=Hn(),v.proxy=N,N.src=d,N.listener=v,d.addEventListener)M||(z=oe),z===void 0&&(z=!1),d.addEventListener(x.toString(),N,z);else if(d.attachEvent)d.attachEvent($t(x.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Hn(){function d(v){return x.call(d.src,d.listener,v)}const x=Tr;return d}function Wt(d,x,v,N,z){if(Array.isArray(x))for(var H=0;H<x.length;H++)Wt(d,x[H],v,N,z);else N=g(N)?!!N.capture:!!N,v=Ps(v),d&&d[Ye]?(d=d.i,H=String(x).toString(),H in d.g&&(x=d.g[H],v=fe(x,v,N,z),v>-1&&(ye(x[v]),Array.prototype.splice.call(x,v,1),x.length==0&&(delete d.g[H],d.h--)))):d&&(d=Fn(d))&&(x=d.g[x.toString()],d=-1,x&&(d=fe(x,v,N,z)),(v=d>-1?x[d]:null)&&Qt(v))}function Qt(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[Ye])F(x.i,d);else{var v=d.type,N=d.proxy;x.removeEventListener?x.removeEventListener(v,N,d.capture):x.detachEvent?x.detachEvent($t(v),N):x.addListener&&x.removeListener&&x.removeListener(N),(v=Fn(x))?(F(v,d),v.h==0&&(v.src=null,x[ke]=null)):ye(d)}}}function $t(d){return d in rt?rt[d]:rt[d]="on"+d}function Tr(d,x){if(d.da)d=!0;else{x=new Ne(x,this);const v=d.listener,N=d.ha||d.src;d.fa&&Qt(d),d=v.call(N,x)}return d}function Fn(d){return d=d[ke],d instanceof Y?d:null}var lr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ps(d){return typeof d=="function"?d:(d[lr]||(d[lr]=function(x){return d.handleEvent(x)}),d[lr])}function wt(){D.call(this),this.i=new Y(this),this.M=this,this.G=null}E(wt,D),wt.prototype[Ye]=!0,wt.prototype.removeEventListener=function(d,x,v,N){Wt(this,d,x,v,N)};function St(d,x){var v,N=d.G;if(N)for(v=[];N;N=N.G)v.push(N);if(d=d.M,N=x.type||x,typeof x=="string")x=new R(x,d);else if(x instanceof R)x.target=x.target||d;else{var z=x;x=new R(N,d),P(x,z)}z=!0;let H,oe;if(v)for(oe=v.length-1;oe>=0;oe--)H=x.g=v[oe],z=Cn(H,N,!0,x)&&z;if(H=x.g=d,z=Cn(H,N,!0,x)&&z,z=Cn(H,N,!1,x)&&z,v)for(oe=0;oe<v.length;oe++)H=x.g=v[oe],z=Cn(H,N,!1,x)&&z}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var d=this.i;for(const x in d.g){const v=d.g[x];for(let N=0;N<v.length;N++)ye(v[N]);delete d.g[x],d.h--}}this.G=null},wt.prototype.J=function(d,x,v,N){return this.i.add(String(d),x,!1,v,N)},wt.prototype.K=function(d,x,v,N){return this.i.add(String(d),x,!0,v,N)};function Cn(d,x,v,N){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();let z=!0;for(let H=0;H<x.length;++H){const oe=x[H];if(oe&&!oe.da&&oe.capture==v){const Le=oe.listener,At=oe.ha||oe.src;oe.fa&&F(d.i,oe),z=Le.call(At,N)!==!1&&z}}return z&&!N.defaultPrevented}function Xl(d,x){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:f.setTimeout(d,x||0)}function zs(d){d.g=Xl(()=>{d.g=null,d.i&&(d.i=!1,zs(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class Jt extends D{constructor(x,v){super(),this.m=x,this.l=v,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(d){D.call(this),this.h=d,this.g={}}E(aa,D);var Us=[];function Bs(d){Me(d.g,function(x,v){this.g.hasOwnProperty(v)&&Qt(x)},d),d.g={}}aa.prototype.N=function(){aa.Z.N.call(this),Bs(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var me=f.JSON.stringify,Ce=f.JSON.parse,je=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function ue(){}function Ve(){}var He={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ze(){R.call(this,"d")}E(Ze,R);function Ht(){R.call(this,"c")}E(Ht,R);var Ue={},ft=null;function cn(){return ft=ft||new wt}Ue.Ia="serverreachability";function or(d){R.call(this,Ue.Ia,d)}E(or,R);function Rn(d){const x=cn();St(x,new or(x))}Ue.STAT_EVENT="statevent";function qs(d,x){R.call(this,Ue.STAT_EVENT,d),this.stat=x}E(qs,R);function It(d){const x=cn();St(x,new qs(x,d))}Ue.Ja="timingevent";function Sr(d,x){R.call(this,Ue.Ja,d),this.size=x}E(Sr,R);function Ar(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},x)}function cr(){this.g=!0}cr.prototype.ua=function(){this.g=!1};function Ch(d,x,v,N,z,H){d.info(function(){if(d.g)if(H){var oe="",Le=H.split("&");for(let tt=0;tt<Le.length;tt++){var At=Le[tt].split("=");if(At.length>1){const bt=At[0];At=At[1];const Kn=bt.split("_");oe=Kn.length>=2&&Kn[1]=="type"?oe+(bt+"="+At+"&"):oe+(bt+"=redacted&")}}}else oe=null;else oe=H;return"XMLHTTP REQ ("+N+") [attempt "+z+"]: "+x+`
`+v+`
`+oe})}function qc(d,x,v,N,z,H,oe){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+z+"]: "+x+`
`+v+`
`+H+" "+oe})}function jr(d,x,v,N){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+Rh(d,v)+(N?" "+N:"")})}function Hs(d,x){d.info(function(){return"TIMEOUT: "+x})}cr.prototype.info=function(){};function Rh(d,x){if(!d.g)return x;if(!x)return null;try{const H=JSON.parse(x);if(H){for(d=0;d<H.length;d++)if(Array.isArray(H[d])){var v=H[d];if(!(v.length<2)){var N=v[1];if(Array.isArray(N)&&!(N.length<1)){var z=N[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<N.length;oe++)N[oe]=""}}}}return me(H)}catch{return x}}var Fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wl;function Gs(){}E(Gs,ue),Gs.prototype.g=function(){return new XMLHttpRequest},Wl=new Gs;function sa(d){return encodeURIComponent(String(d))}function Hc(d){var x=1;d=d.split(":");const v=[];for(;x>0&&d.length;)v.push(d.shift()),x--;return d.length&&v.push(d.join(":")),v}function ur(d,x,v,N){this.j=d,this.i=x,this.l=v,this.S=N||1,this.V=new aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dr}function dr(){this.i=null,this.g="",this.h=!1}var Dt={},Kt={};function Cr(d,x,v){d.M=1,d.A=Qs(Mt(x)),d.u=v,d.R=!0,Vi(d,null)}function Vi(d,x){d.F=Date.now(),Rr(d),d.B=Mt(d.A);var v=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),Ui(v.i,"t",N),d.C=0,v=d.j.L,d.h=new dr,d.g=au(d.j,v?x:null,!d.u),d.P>0&&(d.O=new Jt(y(d.Y,d,d.g),d.P)),x=d.V,v=d.g,N=d.ba;var z="readystatechange";Array.isArray(z)||(z&&(Us[0]=z.toString()),z=Us);for(let H=0;H<z.length;H++){const oe=be(v,z[H],N||x.handleEvent,!1,x.h||x);if(!oe)break;x.g[oe.key]=oe}x=d.J?I(d.J):{},d.u?(d.v||(d.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,x)):(d.v="GET",d.g.ea(d.B,d.v,null,x)),Rn(),Ch(d.i,d.v,d.B,d.l,d.S,d.u)}ur.prototype.ba=function(d){d=d.target;const x=this.O;x&&mr(d)==3?x.j():this.Y(d)},ur.prototype.Y=function(d){try{if(d==this.g)e:{const Le=mr(this.g),At=this.g.ya(),tt=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Le!=4||At==7||(At==8||tt<=0?Rn(3):Rn(2)),Ir(this);var x=this.g.ca();this.X=x;var v=Ih(this);if(this.o=x==200,qc(this.i,this.v,this.B,this.l,this.S,Le,x),this.o){if(this.U&&!this.L){t:{if(this.g){var N,z=this.g;if((N=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(N)){var H=N;break t}}H=null}if(d=H)jr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Dr(this,d);else{this.o=!1,this.m=3,It(12),In(this),Gn(this);break e}}if(this.R){d=!0;let bt;for(;!this.K&&this.C<v.length;)if(bt=Gc(this,v),bt==Kt){Le==4&&(this.m=4,It(14),d=!1),jr(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Dt){this.m=4,It(15),jr(this.i,this.l,v,"[Invalid Chunk]"),d=!1;break}else jr(this.i,this.l,bt,null),Dr(this,bt);if(Fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||v.length!=0||this.h.h||(this.m=1,It(16),d=!1),this.o=this.o&&d,!d)jr(this.i,this.l,v,"[Invalid Chunked Response]"),In(this),Gn(this);else if(v.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),mo(oe),oe.P=!0,It(11))}}else jr(this.i,this.l,v,null),Dr(this,v);Le==4&&In(this),this.o&&!this.K&&(Le==4?eu(this.j,this):(this.o=!1,Rr(this)))}else la(this.g),x==400&&v.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),In(this),Gn(this)}}}catch{}finally{}};function Ih(d){if(!Fc(d))return d.g.la();const x=en(d.g);if(x==="")return"";let v="";const N=x.length,z=mr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return In(d),Gn(d),"";d.h.i=new f.TextDecoder}for(let H=0;H<N;H++)d.h.h=!0,v+=d.h.i.decode(x[H],{stream:!(z&&H==N-1)});return x.length=0,d.h.g+=v,d.C=0,d.h.g}function Fc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Gc(d,x){var v=d.C,N=x.indexOf(`
`,v);return N==-1?Kt:(v=Number(x.substring(v,N)),isNaN(v)?Dt:(N+=1,N+v>x.length?Kt:(x=x.slice(N,N+v),d.C=N+v,x)))}ur.prototype.cancel=function(){this.K=!0,In(this)};function Rr(d){d.T=Date.now()+d.H,Li(d,d.H)}function Li(d,x){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ar(y(d.aa,d),x)}function Ir(d){d.D&&(f.clearTimeout(d.D),d.D=null)}ur.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Hs(this.i,this.B),this.M!=2&&(Rn(),It(17)),In(this),this.m=2,Gn(this)):Li(this,this.T-d)};function Gn(d){d.j.I==0||d.K||eu(d.j,d)}function In(d){Ir(d);var x=d.O;x&&typeof x.dispose=="function"&&x.dispose(),d.O=null,Bs(d.V),d.g&&(x=d.g,d.g=null,x.abort(),x.dispose())}function Dr(d,x){try{var v=d.j;if(v.I!=0&&(v.g==d||Mr(v.h,d))){if(!d.L&&Mr(v.h,d)&&v.I==3){try{var N=v.Ba.g.parse(x)}catch{N=null}if(Array.isArray(N)&&N.length==3){var z=N;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<d.F)Gi(v),Ga(v);else break e;Js(v),It(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ar(y(v.Va,v),6e3));Or(v.h)<=1&&v.ta&&(v.ta=void 0)}else Br(v,11)}else if((d.L||v.g==d)&&Gi(v),!A(x))for(z=v.Ba.g.parse(x),x=0;x<z.length;x++){let tt=z[x];const bt=tt[0];if(!(bt<=v.K))if(v.K=bt,tt=tt[1],v.I==2)if(tt[0]=="c"){v.M=tt[1],v.ba=tt[2];const Kn=tt[3];Kn!=null&&(v.ka=Kn,v.j.info("VER="+v.ka));const qr=tt[4];qr!=null&&(v.za=qr,v.j.info("SVER="+v.za));const gr=tt[5];gr!=null&&typeof gr=="number"&&gr>0&&(N=1.5*gr,v.O=N,v.j.info("backChannelRequestTimeoutMs_="+N)),N=v;const pr=d.g;if(pr){const ei=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var H=N.h;H.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(to(H,H.h),H.h=null))}if(N.G){const Qi=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qi&&(N.wa=Qi,st(N.J,N.G,Qi))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-d.F,v.j.info("Handshake RTT: "+v.T+"ms")),N=v;var oe=d;if(N.na=ru(N,N.L?N.ba:null,N.W),oe.L){no(N.h,oe);var Le=oe,At=N.O;At&&(Le.H=At),Le.D&&(Ir(Le),Rr(Le)),N.g=oe}else Wc(N);v.i.length>0&&Ur(v)}else tt[0]!="stop"&&tt[0]!="close"||Br(v,7);else v.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Br(v,7):ho(v):tt[0]!="noop"&&v.l&&v.l.qa(tt),v.A=0)}}Rn(4)}catch{}}var Ot=class{constructor(d,x){this.g=d,this.map=x}};function Jl(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function eo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Or(d){return d.h?1:d.g?d.g.size:0}function Mr(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function to(d,x){d.g?d.g.add(x):d.h=x}function no(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}Jl.prototype.cancel=function(){if(this.i=ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ro(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const v of d.g.values())x=x.concat(v.G);return x}return V(d.i)}var Qc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pi(d,x){if(d){d=d.split("&");for(let v=0;v<d.length;v++){const N=d[v].indexOf("=");let z,H=null;N>=0?(z=d[v].substring(0,N),H=d[v].substring(N+1)):z=d[v],x(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Dn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;d instanceof Dn?(this.l=d.l,Yt(this,d.j),this.o=d.o,this.g=d.g,Pa(this,d.u),this.h=d.h,ao(this,Xc(d.i)),this.m=d.m):d&&(x=String(d).match(Qc))?(this.l=!1,Yt(this,x[1]||"",!0),this.o=Vr(x[2]||""),this.g=Vr(x[3]||"",!0),Pa(this,x[4]),this.h=Vr(x[5]||"",!0),ao(this,x[6]||"",!0),this.m=Vr(x[7]||"")):(this.l=!1,this.i=new Ua(null,this.l))}Dn.prototype.toString=function(){const d=[];var x=this.j;x&&d.push($s(x,zi,!0),":");var v=this.g;return(v||x=="file")&&(d.push("//"),(x=this.o)&&d.push($s(x,zi,!0),"@"),d.push(sa(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&d.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push($s(v,v.charAt(0)=="/"?so:$c,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",$s(v,Kc)),d.join("")},Dn.prototype.resolve=function(d){const x=Mt(this);let v=!!d.j;v?Yt(x,d.j):v=!!d.o,v?x.o=d.o:v=!!d.g,v?x.g=d.g:v=d.u!=null;var N=d.h;if(v)Pa(x,d.u);else if(v=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var z=x.h.lastIndexOf("/");z!=-1&&(N=x.h.slice(0,z+1)+N)}if(z=N,z==".."||z==".")N="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){N=z.lastIndexOf("/",0)==0,z=z.split("/");const H=[];for(let oe=0;oe<z.length;){const Le=z[oe++];Le=="."?N&&oe==z.length&&H.push(""):Le==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),N&&oe==z.length&&H.push("")):(H.push(Le),N=!0)}N=H.join("/")}else N=z}return v?x.h=N:v=d.i.toString()!=="",v?ao(x,Xc(d.i)):v=!!d.m,v&&(x.m=d.m),x};function Mt(d){return new Dn(d)}function Yt(d,x,v){d.j=v?Vr(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function Pa(d,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);d.u=x}else d.u=null}function ao(d,x,v){x instanceof Ua?(d.i=x,Bi(d.i,d.l)):(v||(x=$s(x,za)),d.i=new Ua(x,d.l))}function st(d,x,v){d.i.set(x,v)}function Qs(d){return st(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Vr(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function $s(d,x,v){return typeof d=="string"?(d=encodeURI(d).replace(x,vn),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var zi=/[#\/\?@]/g,$c=/[#\?:]/g,so=/[#\?]/g,za=/[#\?@]/g,Kc=/#/g;function Ua(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function _n(d){d.g||(d.g=new Map,d.h=0,d.i&&Pi(d.i,function(x,v){d.add(decodeURIComponent(x.replace(/\+/g," ")),v)}))}a=Ua.prototype,a.add=function(d,x){_n(this),this.i=null,d=Ba(this,d);let v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(x),this.h+=1,this};function Yc(d,x){_n(d),x=Ba(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function io(d,x){return _n(d),x=Ba(d,x),d.g.has(x)}a.forEach=function(d,x){_n(this),this.g.forEach(function(v,N){v.forEach(function(z){d.call(x,z,N,this)},this)},this)};function lo(d,x){_n(d);let v=[];if(typeof x=="string")io(d,x)&&(v=v.concat(d.g.get(Ba(d,x))));else for(d=Array.from(d.g.values()),x=0;x<d.length;x++)v=v.concat(d[x]);return v}a.set=function(d,x){return _n(this),this.i=null,d=Ba(this,d),io(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},a.get=function(d,x){return d?(d=lo(this,d),d.length>0?String(d[0]):x):x};function Ui(d,x,v){Yc(d,x),v.length>0&&(d.i=null,d.g.set(Ba(d,x),V(v)),d.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(let N=0;N<x.length;N++){var v=x[N];const z=sa(v);v=lo(this,v);for(let H=0;H<v.length;H++){let oe=z;v[H]!==""&&(oe+="="+sa(v[H])),d.push(oe)}}return this.i=d.join("&")};function Xc(d){const x=new Ua;return x.i=d.i,d.g&&(x.g=new Map(d.g),x.h=d.h),x}function Ba(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function Bi(d,x){x&&!d.j&&(_n(d),d.i=null,d.g.forEach(function(v,N){const z=N.toLowerCase();N!=z&&(Yc(this,N),Ui(this,z,v))},d)),d.j=x}function hr(d,x){const v=new cr;if(f.Image){const N=new Image;N.onload=_(Qn,v,"TestLoadImage: loaded",!0,x,N),N.onerror=_(Qn,v,"TestLoadImage: error",!1,x,N),N.onabort=_(Qn,v,"TestLoadImage: abort",!1,x,N),N.ontimeout=_(Qn,v,"TestLoadImage: timeout",!1,x,N),f.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else x(!1)}function oo(d,x){const v=new cr,N=new AbortController,z=setTimeout(()=>{N.abort(),Qn(v,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:N.signal}).then(H=>{clearTimeout(z),H.ok?Qn(v,"TestPingServer: ok",!0,x):Qn(v,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(z),Qn(v,"TestPingServer: error",!1,x)})}function Qn(d,x,v,N,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),N(v)}catch{}}function qa(){this.g=new je}function Lr(d){this.i=d.Sb||null,this.h=d.ab||!1}E(Lr,ue),Lr.prototype.g=function(){return new Ks(this.i,this.h)};function Ks(d,x){wt.call(this),this.H=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ks,wt),a=Ks.prototype,a.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=x,this.readyState=1,fr(this)},a.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(x.body=d),(this.H||f).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=0},a.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qi(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function qi(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}a.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?Ha(this):fr(this),this.readyState==3&&qi(this)}},a.Oa=function(d){this.g&&(this.response=this.responseText=d,Ha(this))},a.Na=function(d){this.g&&(this.response=d,Ha(this))},a.ga=function(){this.g&&Ha(this)};function Ha(d){d.readyState=4,d.l=null,d.j=null,d.B=null,fr(d)}a.setRequestHeader=function(d,x){this.A.append(d,x)},a.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var v=x.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=x.next();return d.join(`\r
`)};function fr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $n(d){let x="";return Me(d,function(v,N){x+=N,x+=":",x+=v,x+=`\r
`}),x}function Ys(d,x,v){e:{for(N in v){var N=!1;break e}N=!0}N||(v=$n(v),typeof d=="string"?v!=null&&sa(v):st(d,x,v))}function ot(d){wt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ot,wt);var Pr=/^https?$/i,co=["POST","PUT"];a=ot.prototype,a.Fa=function(d){this.H=d},a.ea=function(d,x,v,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wl.g(),this.g.onreadystatechange=j(y(this.Ca,this));try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(H){Xs(this,H);return}if(d=v||"",v=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var z in N)v.set(z,N[z]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const H of N.keys())v.set(H,N.get(H));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),z=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(co,x,void 0)>=0)||N||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,oe]of v)this.g.setRequestHeader(H,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(H){Xs(this,H)}};function Xs(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.o=5,uo(d),ia(d)}function uo(d){d.A||(d.A=!0,St(d,"complete"),St(d,"error"))}a.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,St(this,"complete"),St(this,"abort"),ia(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ia(this,!0)),ot.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Zs(this):this.Xa())},a.Xa=function(){Zs(this)};function Zs(d){if(d.h&&typeof u<"u"){if(d.v&&mr(d)==4)setTimeout(d.Ca.bind(d),0);else if(St(d,"readystatechange"),mr(d)==4){d.h=!1;try{const H=d.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var v;if(!(v=x)){var N;if(N=H===0){let oe=String(d.D).match(Qc)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),N=!Pr.test(oe?oe.toLowerCase():"")}v=N}if(v)St(d,"complete"),St(d,"success");else{d.o=6;try{var z=mr(d)>2?d.g.statusText:""}catch{z=""}d.l=z+" ["+d.ca()+"]",uo(d)}}finally{ia(d)}}}}function ia(d,x){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const v=d.g;d.g=null,x||St(d,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function mr(d){return d.g?d.g.readyState:0}a.ca=function(){try{return mr(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),Ce(x)}};function en(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function la(d){const x={};d=(d.g&&mr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(A(d[N]))continue;var v=Hc(d[N]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=x[z]||[];x[z]=H,H.push(v)}Ie(x,function(N){return N.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(d,x,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||x}function Fa(d){this.za=0,this.i=[],this.j=new cr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zr("baseRetryDelayMs",5e3,d),this.Za=zr("retryDelaySeedMs",1e4,d),this.Ta=zr("forwardChannelMaxRetries",2,d),this.va=zr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Jl(d&&d.concurrentRequestLimit),this.Ba=new qa,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Fa.prototype,a.ka=8,a.I=1,a.connect=function(d,x,v,N){It(0),this.W=d,this.H=x||{},v&&N!==void 0&&(this.H.OSID=v,this.H.OAID=N),this.F=this.X,this.J=ru(this,null,this.W),Ur(this)};function ho(d){if(Hi(d),d.I==3){var x=d.V++,v=Mt(d.J);if(st(v,"SID",d.M),st(v,"RID",x),st(v,"TYPE","terminate"),Ws(d,v),x=new ur(d,d.j,x),x.M=2,x.A=Qs(Mt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(x.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=x.A,v=!0),v||(x.g=au(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Rr(x)}nu(d)}function Ga(d){d.g&&(mo(d),d.g.cancel(),d.g=null)}function Hi(d){Ga(d),d.v&&(f.clearTimeout(d.v),d.v=null),Gi(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function Ur(d){if(!eo(d.h)&&!d.m){d.m=!0;var x=d.Ea;ce||k(),$||(ce(),$=!0),T.add(x,d),d.D=0}}function Fi(d,x){return Or(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=x.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ar(y(d.Ea,d,x),tu(d,d.D)),d.D++,!0)}a.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const z=new ur(this,this.j,d);let H=this.o;if(this.U&&(H?(H=I(H),P(H,this.U)):H=this.U),this.u!==null||this.R||(z.J=H,H=null),this.S)e:{for(var x=0,v=0;v<this.i.length;v++){t:{var N=this.i[v];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(x+=N,x>4096){x=v;break e}if(x===4096||v===this.i.length-1){x=v+1;break e}}x=1e3}else x=1e3;x=Zc(this,z,x),v=Mt(this.J),st(v,"RID",d),st(v,"CVER",22),this.G&&st(v,"X-HTTP-Session-Id",this.G),Ws(this,v),H&&(this.R?x="headers="+sa($n(H))+"&"+x:this.u&&Ys(v,this.u,H)),to(this.h,z),this.Ra&&st(v,"TYPE","init"),this.S?(st(v,"$req",x),st(v,"SID","null"),z.U=!0,Cr(z,v,null)):Cr(z,v,x),this.I=2}}else this.I==3&&(d?fo(this,d):this.i.length==0||eo(this.h)||fo(this))};function fo(d,x){var v;x?v=x.l:v=d.V++;const N=Mt(d.J);st(N,"SID",d.M),st(N,"RID",v),st(N,"AID",d.K),Ws(d,N),d.u&&d.o&&Ys(N,d.u,d.o),v=new ur(d,d.j,v,d.D+1),d.u===null&&(v.J=d.o),x&&(d.i=x.G.concat(d.i)),x=Zc(d,v,1e3),v.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),to(d.h,v),Cr(v,N,x)}function Ws(d,x){d.H&&Me(d.H,function(v,N){st(x,N,v)}),d.l&&Me({},function(v,N){st(x,N,v)})}function Zc(d,x,v){v=Math.min(d.i.length,v);const N=d.l?y(d.l.Ka,d.l,d):null;e:{var z=d.i;let Le=-1;for(;;){const At=["count="+v];Le==-1?v>0?(Le=z[0].g,At.push("ofs="+Le)):Le=0:At.push("ofs="+Le);let tt=!0;for(let bt=0;bt<v;bt++){var H=z[bt].g;const Kn=z[bt].map;if(H-=Le,H<0)Le=Math.max(0,z[bt].g-100),tt=!1;else try{H="req"+H+"_"||"";try{var oe=Kn instanceof Map?Kn:Object.entries(Kn);for(const[qr,gr]of oe){let pr=gr;g(gr)&&(pr=me(gr)),At.push(H+qr+"="+encodeURIComponent(pr))}}catch(qr){throw At.push(H+"type="+encodeURIComponent("_badmap")),qr}}catch{N&&N(Kn)}}if(tt){oe=At.join("&");break e}}oe=void 0}return d=d.i.splice(0,v),x.G=d,oe}function Wc(d){if(!d.g&&!d.v){d.Y=1;var x=d.Da;ce||k(),$||(ce(),$=!0),T.add(x,d),d.A=0}}function Js(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ar(y(d.Da,d),tu(d,d.A)),d.A++,!0)}a.Da=function(){if(this.v=null,Jc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ar(y(this.Wa,this),d)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ga(this),Jc(this))};function mo(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function Jc(d){d.g=new ur(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var x=Mt(d.na);st(x,"RID","rpc"),st(x,"SID",d.M),st(x,"AID",d.K),st(x,"CI",d.F?"0":"1"),!d.F&&d.ia&&st(x,"TO",d.ia),st(x,"TYPE","xmlhttp"),Ws(d,x),d.u&&d.o&&Ys(x,d.u,d.o),d.O&&(d.g.H=d.O);var v=d.g;d=d.ba,v.M=1,v.A=Qs(Mt(x)),v.u=null,v.R=!0,Vi(v,d)}a.Va=function(){this.C!=null&&(this.C=null,Ga(this),Js(this),It(19))};function Gi(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function eu(d,x){var v=null;if(d.g==x){Gi(d),mo(d),d.g=null;var N=2}else if(Mr(d.h,x))v=x.G,no(d.h,x),N=1;else return;if(d.I!=0){if(x.o)if(N==1){v=x.u?x.u.length:0,x=Date.now()-x.F;var z=d.D;N=cn(),St(N,new Sr(N,v)),Ur(d)}else Wc(d);else if(z=x.m,z==3||z==0&&x.X>0||!(N==1&&Fi(d,x)||N==2&&Js(d)))switch(v&&v.length>0&&(x=d.h,x.i=x.i.concat(v)),z){case 1:Br(d,5);break;case 4:Br(d,10);break;case 3:Br(d,6);break;default:Br(d,2)}}}function tu(d,x){let v=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(v*=2),v*x}function Br(d,x){if(d.j.info("Error code "+x),x==2){var v=y(d.bb,d),N=d.Ua;const z=!N;N=new Dn(N||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Yt(N,"https"),Qs(N),z?hr(N.toString(),v):oo(N.toString(),v)}else It(2);d.I=0,d.l&&d.l.pa(x),nu(d),Hi(d)}a.bb=function(d){d?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function nu(d){if(d.I=0,d.ja=[],d.l){const x=ro(d.h);(x.length!=0||d.i.length!=0)&&(G(d.ja,x),G(d.ja,d.i),d.h.i.length=0,V(d.i),d.i.length=0),d.l.oa()}}function ru(d,x,v){var N=v instanceof Dn?Mt(v):new Dn(v);if(N.g!="")x&&(N.g=x+"."+N.g),Pa(N,N.u);else{var z=f.location;N=z.protocol,x=x?x+"."+z.hostname:z.hostname,z=+z.port;const H=new Dn(null);N&&Yt(H,N),x&&(H.g=x),z&&Pa(H,z),v&&(H.h=v),N=H}return v=d.G,x=d.wa,v&&x&&st(N,v,x),st(N,"VER",d.ka),Ws(d,N),N}function au(d,x,v){if(x&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Aa&&!d.ma?new ot(new Lr({ab:v})):new ot(d.ma),x.Fa(d.L),x}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}a=su.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Qa(){}Qa.prototype.g=function(d,x){return new yn(d,x)};function yn(d,x){wt.call(this),this.g=new Fa(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(d?d["X-WebChannel-Client-Profile"]=x.sa:d={"X-WebChannel-Client-Profile":x.sa}),this.g.U=d,(d=x&&x.Qb)&&!A(d)&&(this.g.u=d),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!A(x)&&(this.g.G=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new oa(this)}E(yn,wt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ho(this.g)},yn.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.v&&(v={},v.__data__=me(d),d=v);x.i.push(new Ot(x.Ya++,d)),x.I==3&&Ur(x)},yn.prototype.N=function(){this.g.l=null,delete this.j,ho(this.g),delete this.g,yn.Z.N.call(this)};function iu(d){Ze.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const v in x){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}E(iu,Ze);function lu(){Ht.call(this),this.status=1}E(lu,Ht);function oa(d){this.g=d}E(oa,su),oa.prototype.ra=function(){St(this.g,"a")},oa.prototype.qa=function(d){St(this.g,new iu(d))},oa.prototype.pa=function(d){St(this.g,new lu)},oa.prototype.oa=function(){St(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,R_=function(){return new Qa},C_=function(){return cn()},j_=Ue,bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,wd=Fs,Zl.COMPLETE="complete",A_=Zl,Ve.EventType=He,He.OPEN="a",He.CLOSE="b",He.ERROR="c",He.MESSAGE="d",wt.prototype.listen=wt.prototype.J,tc=Ve,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,S_=ot}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});const l1="@firebase/firestore",o1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new rh("@firebase/firestore");function wl(){return Si.logLevel}function ge(a,...e){if(Si.logLevel<=Qe.DEBUG){const n=e.map(Wm);Si.debug(`Firestore (${Fl}): ${a}`,...n)}}function Ia(a,...e){if(Si.logLevel<=Qe.ERROR){const n=e.map(Wm);Si.error(`Firestore (${Fl}): ${a}`,...n)}}function Dl(a,...e){if(Si.logLevel<=Qe.WARN){const n=e.map(Wm);Si.warn(`Firestore (${Fl}): ${a}`,...n)}}function Wm(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(a,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,I_(a,s,n)}function I_(a,e,n){let s=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ia(s),new Error(s)}function at(a,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,a||I_(e,l,s)}function Oe(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class w5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class E5{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Aa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Aa,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Aa)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(at(typeof s.accessToken=="string",31837,{l:s}),new D_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class N5{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k5{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new N5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class c1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const s=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new c1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new c1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<a;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=S5(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function $e(a,e){return a<e?-1:a>e?1:0}function vm(a,e){const n=Math.min(a.length,e.length);for(let s=0;s<n;s++){const l=a.charAt(s),u=e.charAt(s);if(l!==u)return B0(l)===B0(u)?$e(l,u):B0(l)?1:-1}return $e(a.length,e.length)}const A5=55296,j5=57343;function B0(a){const e=a.charCodeAt(0);return e>=A5&&e<=j5}function Ol(a,e,n){return a.length===e.length&&a.every(((s,l)=>n(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="__name__";class $r{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=$r.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return $e(e.length,n.length)}static compareSegments(e,n){const s=$r.isNumericId(e),l=$r.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?$r.extractNumericId(e).compare($r.extractNumericId(n)):vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class mt extends $r{construct(e,n,s){return new mt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new mt(n)}static emptyPath(){return new mt([])}}const C5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends $r{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return C5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u1}static keyField(){return new ln([u1])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(u(),l++)}if(u(),f)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(mt.fromString(e))}static fromName(e){return new Ee(mt.fromString(e).popFirst(5))}static empty(){return new Ee(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(a,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function R5(a,e,n,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function d1(a){if(!Ee.isDocumentKey(a))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function h1(a){if(Ee.isDocumentKey(a))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function M_(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function lh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ae(12329,{type:typeof a})}function jn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lh(a);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(a,e){const n={typeString:a};return e&&(n.value=e),n}function Mc(a,e){if(!M_(a))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){n=`JSON missing required field: '${s}'`;break}const f=a[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=-62135596800,m1=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*m1);return new xt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<f1)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m1}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mc(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-f1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:qt("string",xt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new xt(0,0))}static max(){return new Re(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=-1;function I5(a,e){const n=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=Re.fromTimestamp(s===1e9?new xt(n+1,0):new xt(n,s));return new Ts(l,Ee.empty(),e)}function D5(a){return new Ts(a.readTime,a.key,_c)}class Ts{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ts(Re.min(),Ee.empty(),_c)}static max(){return new Ts(Re.max(),Ee.empty(),_c)}}function O5(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(a.documentKey,e.documentKey),n!==0?n:$e(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(a){if(a.code!==ee.FAILED_PRECONDITION||a.message!==M5)throw a;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,s)=>{n(e)}))}static reject(e){return new ae(((n,s)=>{s(e)}))}static waitFor(e){return new ae(((n,s)=>{let l=0,u=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++u,f&&u===l&&n()}),(p=>s(p)))})),f=!0,u===l&&n()}))}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next((l=>l?ae.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(e,n){return new ae(((s,l)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((_=>{f[y]=_,++g,g===u&&s(f)}),(_=>l(_)))}}))}static doWhile(e,n){return new ae(((s,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):s()};u()}))}}function L5(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ql(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=-1;function ch(a){return a==null}function Hd(a){return a===0&&1/a==-1/0}function P5(a){return typeof a=="number"&&Number.isInteger(a)&&!Hd(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="";function z5(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=g1(e)),e=U5(a.get(n),e);return g1(e)}function U5(a,e){let n=e;const s=a.length;for(let l=0;l<s;l++){const u=a.charAt(l);switch(u){case"\0":n+="";break;case V_:n+="";break;default:n+=u}}return n}function g1(a){return a+V_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function Os(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function L_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new md(this.root,e,this.comparator,!1)}getReverseIterator(){return new md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new md(this.root,e,this.comparator,!0)}}class md{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??sn.RED,this.left=l??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new sn(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return sn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y1(this.data.getIterator())}getIteratorFrom(e){return new y1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class y1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Gt(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ol(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new P_("Invalid base64 string: "+u):u}})(e);return new on(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const B5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(a){if(at(!!a,39018),typeof a=="string"){let e=0;const n=B5.exec(a);if(at(!!n,46558,{timestamp:a}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(a.seconds),nanos:Rt(a.nanos)}}function Rt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function As(a){return typeof a=="string"?on.fromBase64String(a):on.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="server_timestamp",U_="__type__",B_="__previous_value__",q_="__local_write_time__";function tg(a){var n,s;return((s=(((n=a==null?void 0:a.mapValue)==null?void 0:n.fields)||{})[U_])==null?void 0:s.stringValue)===z_}function uh(a){const e=a.mapValue.fields[B_];return tg(e)?uh(e):e}function wc(a){const e=Ss(a.mapValue.fields[q_].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n,s,l,u,f,g,p,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=_}}const Fd="(default)";class Ec{constructor(e,n){this.projectId=e,this.database=n||Fd}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database===Fd}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="__type__",H5="__max__",gd={mapValue:{}},F_="__vector__",Gd="value";function js(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?tg(a)?4:G5(a)?9007199254740991:F5(a)?10:11:Ae(28295,{value:a})}function ra(a,e){if(a===e)return!0;const n=js(a);if(n!==js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return wc(a).isEqual(wc(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Ss(l.timestampValue),g=Ss(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(l,u){return As(l.bytesValue).isEqual(As(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(l,u){return Rt(l.geoPointValue.latitude)===Rt(u.geoPointValue.latitude)&&Rt(l.geoPointValue.longitude)===Rt(u.geoPointValue.longitude)})(a,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Rt(l.integerValue)===Rt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Rt(l.doubleValue),g=Rt(u.doubleValue);return f===g?Hd(f)===Hd(g):isNaN(f)&&isNaN(g)}return!1})(a,e);case 9:return Ol(a.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(p1(f)!==p1(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!ra(f[p],g[p])))return!1;return!0})(a,e);default:return Ae(52216,{left:a})}}function Nc(a,e){return(a.values||[]).find((n=>ra(n,e)))!==void 0}function Ml(a,e){if(a===e)return 0;const n=js(a),s=js(e);if(n!==s)return $e(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=Rt(u.integerValue||u.doubleValue),p=Rt(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(a,e);case 3:return x1(a.timestampValue,e.timestampValue);case 4:return x1(wc(a),wc(e));case 5:return vm(a.stringValue,e.stringValue);case 6:return(function(u,f){const g=As(u),p=As(f);return g.compareTo(p)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const _=$e(g[y],p[y]);if(_!==0)return _}return $e(g.length,p.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=$e(Rt(u.latitude),Rt(f.latitude));return g!==0?g:$e(Rt(u.longitude),Rt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return b1(a.arrayValue,e.arrayValue);case 10:return(function(u,f){var j,V,G,se;const g=u.fields||{},p=f.fields||{},y=(j=g[Gd])==null?void 0:j.arrayValue,_=(V=p[Gd])==null?void 0:V.arrayValue,E=$e(((G=y==null?void 0:y.values)==null?void 0:G.length)||0,((se=_==null?void 0:_.values)==null?void 0:se.length)||0);return E!==0?E:b1(y,_)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===gd.mapValue&&f===gd.mapValue)return 0;if(u===gd.mapValue)return 1;if(f===gd.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),y=f.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const j=vm(p[E],_[E]);if(j!==0)return j;const V=Ml(g[p[E]],y[_[E]]);if(V!==0)return V}return $e(p.length,_.length)})(a.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function x1(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return $e(a,e);const n=Ss(a),s=Ss(e),l=$e(n.seconds,s.seconds);return l!==0?l:$e(n.nanos,s.nanos)}function b1(a,e){const n=a.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=Ml(n[l],s[l]);if(u)return u}return $e(n.length,s.length)}function Vl(a){return _m(a)}function _m(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const s=Ss(n);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return As(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return Ee.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=_m(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${_m(n.fields[f])}`;return l+"}"})(a.mapValue):Ae(61005,{value:a})}function Ed(a){switch(js(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uh(a);return e?16+Ed(e):16;case 5:return 2*a.stringValue.length;case 6:return As(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+Ed(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return Os(s.fields,((u,f)=>{l+=u.length+Ed(f)})),l})(a.mapValue);default:throw Ae(13486,{value:a})}}function v1(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function wm(a){return!!a&&"integerValue"in a}function ng(a){return!!a&&"arrayValue"in a}function _1(a){return!!a&&"nullValue"in a}function w1(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Nd(a){return!!a&&"mapValue"in a}function F5(a){var n,s;return((s=(((n=a==null?void 0:a.mapValue)==null?void 0:n.fields)||{})[H_])==null?void 0:s.stringValue)===F_}function oc(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Os(a.mapValue.fields,((n,s)=>e.mapValue.fields[n]=oc(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(a.arrayValue.values[n]);return e}return{...a}}function G5(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===H5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=ln.emptyPath(),s={},l=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=oc(f):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());Nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Nd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Os(n,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new An(oc(this.value))}}function G_(a){const e=[];return Os(a.fields,((n,s)=>{const l=new ln([n]);if(Nd(s)){const u=G_(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,s,l,u,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new mn(e,0,Re.min(),Re.min(),Re.min(),An.empty(),0)}static newFoundDocument(e,n,s,l){return new mn(e,1,n,Re.min(),s,l,0)}static newNoDocument(e,n){return new mn(e,2,n,Re.min(),Re.min(),An.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Re.min(),Re.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.position=e,this.inclusive=n}}function E1(a,e,n){let s=0;for(let l=0;l<a.position.length;l++){const u=e[l],f=a.position[l];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=Ml(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function N1(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!ra(a.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Q5(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{}class Bt extends Q_{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new K5(e,n,s):n==="array-contains"?new Z5(e,s):n==="in"?new W5(e,s):n==="not-in"?new J5(e,s):n==="array-contains-any"?new ej(e,s):new Bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Y5(e,s):new X5(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ml(n,this.value)):n!==null&&js(this.value)===js(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends Q_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Nr(e,n)}matches(e){return $_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $_(a){return a.op==="and"}function K_(a){return $5(a)&&$_(a)}function $5(a){for(const e of a.filters)if(e instanceof Nr)return!1;return!0}function Em(a){if(a instanceof Bt)return a.field.canonicalString()+a.op.toString()+Vl(a.value);if(K_(a))return a.filters.map((e=>Em(e))).join(",");{const e=a.filters.map((n=>Em(n))).join(",");return`${a.op}(${e})`}}function Y_(a,e){return a instanceof Bt?(function(s,l){return l instanceof Bt&&s.op===l.op&&s.field.isEqual(l.field)&&ra(s.value,l.value)})(a,e):a instanceof Nr?(function(s,l){return l instanceof Nr&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,g)=>u&&Y_(f,l.filters[g])),!0):!1})(a,e):void Ae(19439)}function X_(a){return a instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Vl(n.value)}`})(a):a instanceof Nr?(function(n){return n.op.toString()+" {"+n.getFilters().map(X_).join(" ,")+"}"})(a):"Filter"}class K5 extends Bt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class Y5 extends Bt{constructor(e,n){super(e,"in",n),this.keys=Z_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class X5 extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=Z_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Z_(a,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Ee.fromName(s.referenceValue)))}class Z5 extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ng(n)&&Nc(n.arrayValue,this.value)}}class W5 extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nc(this.value.arrayValue,n)}}class J5 extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nc(this.value.arrayValue,n)}}class ej extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Nc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n=null,s=[],l=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function k1(a,e=null,n=[],s=[],l=null,u=null,f=null){return new tj(a,e,n,s,l,u,f)}function rg(a){const e=Oe(a);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Em(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Vl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Vl(s))).join(",")),e.Te=n}return e.Te}function ag(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!Q5(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!Y_(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!N1(a.startAt,e.startAt)&&N1(a.endAt,e.endAt)}function Nm(a){return Ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n=null,s=[],l=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nj(a,e,n,s,l,u,f,g){return new $l(a,e,n,s,l,u,f,g)}function dh(a){return new $l(a)}function T1(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function W_(a){return a.collectionGroup!==null}function cc(a){const e=Oe(a);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Gt(ln.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new kc(u,s))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new kc(ln.keyField(),s))}return e.Ie}function Wr(a){const e=Oe(a);return e.Ee||(e.Ee=rj(e,cc(a))),e.Ee}function rj(a,e){if(a.limitType==="F")return k1(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new kc(l.field,u)}));const n=a.endAt?new Qd(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Qd(a.startAt.position,a.startAt.inclusive):null;return k1(a.path,a.collectionGroup,e,a.filters,a.limit,n,s)}}function km(a,e){const n=a.filters.concat([e]);return new $l(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function Tm(a,e,n){return new $l(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function hh(a,e){return ag(Wr(a),Wr(e))&&a.limitType===e.limitType}function J_(a){return`${rg(Wr(a))}|lt:${a.limitType}`}function El(a){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>X_(l))).join(", ")}]`),ch(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>Vl(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>Vl(l))).join(",")),`Target(${s})`})(Wr(a))}; limitType=${a.limitType})`}function fh(a,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,l){for(const u of cc(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(a,e)&&(function(s,l){return!(s.startAt&&!(function(f,g,p){const y=E1(f,g,p);return f.inclusive?y<=0:y<0})(s.startAt,cc(s),l)||s.endAt&&!(function(f,g,p){const y=E1(f,g,p);return f.inclusive?y>=0:y>0})(s.endAt,cc(s),l))})(a,e)}function aj(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function e2(a){return(e,n)=>{let s=!1;for(const l of cc(a)){const u=sj(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function sj(a,e,n){const s=a.field.isKeyField()?Ee.comparator(e.key,n.key):(function(u,f,g){const p=f.data.field(u),y=g.data.field(u);return p!==null&&y!==null?Ml(p,y):Ae(42886)})(a.field,e,n);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,((n,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return L_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new _t(Ee.comparator);function Da(){return ij}const t2=new _t(Ee.comparator);function nc(...a){let e=t2;for(const n of a)e=e.insert(n.key,n);return e}function n2(a){let e=t2;return a.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function yi(){return uc()}function r2(){return uc()}function uc(){return new Oi((a=>a.toString()),((a,e)=>a.isEqual(e)))}const lj=new _t(Ee.comparator),oj=new Gt(Ee.comparator);function Ke(...a){let e=oj;for(const n of a)e=e.add(n);return e}const cj=new Gt($e);function uj(){return cj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hd(e)?"-0":e}}function a2(a){return{integerValue:""+a}}function s2(a,e){return P5(e)?a2(e):sg(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function dj(a,e,n){return a instanceof Tc?(function(l,u){const f={fields:{[U_]:{stringValue:z_},[q_]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&tg(u)&&(u=uh(u)),u&&(f.fields[B_]=u),{mapValue:f}})(n,e):a instanceof Sc?l2(a,e):a instanceof Ac?o2(a,e):(function(l,u){const f=i2(l,u),g=S1(f)+S1(l.Ae);return wm(f)&&wm(l.Ae)?a2(g):sg(l.serializer,g)})(a,e)}function hj(a,e,n){return a instanceof Sc?l2(a,e):a instanceof Ac?o2(a,e):n}function i2(a,e){return a instanceof jc?(function(s){return wm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Tc extends mh{}class Sc extends mh{constructor(e){super(),this.elements=e}}function l2(a,e){const n=c2(e);for(const s of a.elements)n.some((l=>ra(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Ac extends mh{constructor(e){super(),this.elements=e}}function o2(a,e){let n=c2(e);for(const s of a.elements)n=n.filter((l=>!ra(l,s)));return{arrayValue:{values:n}}}class jc extends mh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function S1(a){return Rt(a.integerValue||a.doubleValue)}function c2(a){return ng(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.field=e,this.transform=n}}function fj(a,e){return a.field.isEqual(e.field)&&(function(s,l){return s instanceof Sc&&l instanceof Sc||s instanceof Ac&&l instanceof Ac?Ol(s.elements,l.elements,ra):s instanceof jc&&l instanceof jc?ra(s.Ae,l.Ae):s instanceof Tc&&l instanceof Tc})(a.transform,e.transform)}class mj{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class gh{}function d2(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new ig(a.key,ir.none()):new Vc(a.key,a.data,ir.none());{const n=a.data,s=An.empty();let l=new Gt(ln.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new Ms(a.key,s,new Bn(l.toArray()),ir.none())}}function gj(a,e,n){a instanceof Vc?(function(l,u,f){const g=l.value.clone(),p=j1(l.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,e,n):a instanceof Ms?(function(l,u,f){if(!kd(l.precondition,u))return void u.convertToUnknownDocument(f.version);const g=j1(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(h2(l)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function dc(a,e,n,s){return a instanceof Vc?(function(u,f,g,p){if(!kd(u.precondition,f))return g;const y=u.value.clone(),_=C1(u.fieldTransforms,p,f);return y.setAll(_),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(a,e,n,s):a instanceof Ms?(function(u,f,g,p){if(!kd(u.precondition,f))return g;const y=C1(u.fieldTransforms,p,f),_=f.data;return _.setAll(h2(u)),_.setAll(y),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(a,e,n,s):(function(u,f,g){return kd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(a,e,n)}function pj(a,e){let n=null;for(const s of a.fieldTransforms){const l=e.data.field(s.field),u=i2(s.transform,l||null);u!=null&&(n===null&&(n=An.empty()),n.set(s.field,u))}return n||null}function A1(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ol(s,l,((u,f)=>fj(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Vc extends gh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ms extends gh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function h2(a){const e=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=a.data.field(n);e.set(n,s)}})),e}function j1(a,e,n){const s=new Map;at(a.length===n.length,32656,{Re:n.length,Ve:a.length});for(let l=0;l<n.length;l++){const u=a[l],f=u.transform,g=e.data.field(u.field);s.set(u.field,hj(f,g,n[l]))}return s}function C1(a,e,n){const s=new Map;for(const l of a){const u=l.transform,f=n.data.field(l.field);s.set(l.field,dj(u,f,e))}return s}class ig extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yj extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&gj(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=dc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=dc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=r2();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(l.key)?null:g;const p=d2(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Ol(this.mutations,e.mutations,((n,s)=>A1(n,s)))&&Ol(this.baseMutations,e.baseMutations,((n,s)=>A1(n,s)))}}class lg{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){at(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return lj})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new lg(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,We;function _j(a){switch(a){case ee.OK:return Ae(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ae(15467,{code:a})}}function f2(a){if(a===void 0)return Ia("GRPC error has no .code"),ee.UNKNOWN;switch(a){case Ut.OK:return ee.OK;case Ut.CANCELLED:return ee.CANCELLED;case Ut.UNKNOWN:return ee.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ee.INTERNAL;case Ut.UNAVAILABLE:return ee.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ee.NOT_FOUND;case Ut.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ut.ABORTED:return ee.ABORTED;case Ut.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ut.DATA_LOSS:return ee.DATA_LOSS;default:return Ae(39323,{code:a})}}(We=Ut||(Ut={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new Es([4294967295,4294967295],0);function R1(a){const e=wj().encode(a),n=new T_;return n.update(e),new Uint8Array(n.digest())}function I1(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Es([n,s],0),new Es([l,u],0)]}class og{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new rc(`Invalid padding: ${n}`);if(s<0)throw new rc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new rc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Es.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(Es.fromNumber(s)));return l.compare(Ej)===1&&(l=new Es([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=R1(e),[s,l]=I1(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new og(u,l,n);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=R1(e),[s,l]=I1(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ph(Re.min(),l,new _t($e),Da(),Ke())}}class Lc{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Lc(s,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class m2{constructor(e,n){this.targetId=e,this.Ce=n}}class g2{constructor(e,n,s=on.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class D1{constructor(){this.ve=0,this.Fe=O1(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),s=Ke();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Ae(38017,{changeType:u})}})),new Lc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=O1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Nj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Da(),this.Je=pd(),this.He=pd(),this.Ye=new _t($e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Nm(u))if(s===0){const f=new Ee(u.path);this.et(n,f,mn.newNoDocument(f,Re.min()))}else at(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,g;try{f=As(s).toUint8Array()}catch(p){if(p instanceof P_)return Dl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new og(f,l,u)}catch(p){return Dl(p instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Nm(g.target)){const p=new Ee(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,mn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ke();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new ph(e,n,this.Ye,this.je,s);return this.je=Da(),this.Je=pd(),this.He=pd(),this.Ye=new _t($e),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new D1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gt($e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gt($e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new D1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function pd(){return new _t(Ee.comparator)}function O1(){return new _t(Ee.comparator)}const kj={asc:"ASCENDING",desc:"DESCENDING"},Tj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sj={and:"AND",or:"OR"};class Aj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sm(a,e){return a.useProto3Json||ch(e)?e:{value:e}}function $d(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p2(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function jj(a,e){return $d(a,e.toTimestamp())}function Jr(a){return at(!!a,49232),Re.fromTimestamp((function(n){const s=Ss(n);return new xt(s.seconds,s.nanos)})(a))}function cg(a,e){return Am(a,e).canonicalString()}function Am(a,e){const n=(function(l){return new mt(["projects",l.projectId,"databases",l.database])})(a).child("documents");return e===void 0?n:n.child(e)}function y2(a){const e=mt.fromString(a);return at(w2(e),10190,{key:e.toString()}),e}function jm(a,e){return cg(a.databaseId,e.path)}function q0(a,e){const n=y2(e);if(n.get(1)!==a.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new Ee(b2(n))}function x2(a,e){return cg(a.databaseId,e)}function Cj(a){const e=y2(a);return e.length===4?mt.emptyPath():b2(e)}function Cm(a){return new mt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function b2(a){return at(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function M1(a,e,n){return{name:jm(a,e),fields:n.value.mapValue.fields}}function Rj(a,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,_){return y.useProto3Json?(at(_===void 0||typeof _=="string",58123),on.fromBase64String(_||"")):(at(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),on.fromUint8Array(_||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(y){const _=y.code===void 0?ee.UNKNOWN:f2(y.code);return new he(_,y.message||"")})(f);n=new g2(s,l,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=q0(a,s.document.name),u=Jr(s.document.updateTime),f=s.document.createTime?Jr(s.document.createTime):Re.min(),g=new An({mapValue:{fields:s.document.fields}}),p=mn.newFoundDocument(l,u,f,g),y=s.targetIds||[],_=s.removedTargetIds||[];n=new Td(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=q0(a,s.document),u=s.readTime?Jr(s.readTime):Re.min(),f=mn.newNoDocument(l,u),g=s.removedTargetIds||[];n=new Td([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=q0(a,s.document),u=s.removedTargetIds||[];n=new Td([],u,l,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new vj(l,u),g=s.targetId;n=new m2(g,f)}}return n}function Ij(a,e){let n;if(e instanceof Vc)n={update:M1(a,e.key,e.value)};else if(e instanceof ig)n={delete:jm(a,e.key)};else if(e instanceof Ms)n={update:M1(a,e.key,e.data),updateMask:Bj(e.fieldMask)};else{if(!(e instanceof yj))return Ae(16599,{Vt:e.type});n={verify:jm(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof Tc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Sc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ac)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof jc)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Ae(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:jj(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(a,e.precondition)),n}function Dj(a,e){return a&&a.length>0?(at(e!==void 0,14353),a.map((n=>(function(l,u){let f=l.updateTime?Jr(l.updateTime):Jr(u);return f.isEqual(Re.min())&&(f=Jr(u)),new mj(f,l.transformResults||[])})(n,e)))):[]}function Oj(a,e){return{documents:[x2(a,e.path)]}}function Mj(a,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=x2(a,l);const u=(function(y){if(y.length!==0)return _2(Nr.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((_=>(function(j){return{field:Nl(j.field),direction:Pj(j.dir)}})(_)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Sm(a,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function Vj(a){let e=Cj(a.parent);const n=a.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){at(s===1,65062);const _=n.from[0];_.allDescendants?l=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(E){const j=v2(E);return j instanceof Nr&&K_(j)?j.getFilters():[j]})(n.where));let f=[];n.orderBy&&(f=(function(E){return E.map((j=>(function(G){return new kc(kl(G.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(j)))})(n.orderBy));let g=null;n.limit&&(g=(function(E){let j;return j=typeof E=="object"?E.value:E,ch(j)?null:j})(n.limit));let p=null;n.startAt&&(p=(function(E){const j=!!E.before,V=E.values||[];return new Qd(V,j)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const j=!E.before,V=E.values||[];return new Qd(V,j)})(n.endAt)),nj(e,l,f,u,g,"F",p,y)}function Lj(a,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function v2(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=kl(n.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=kl(n.unaryFilter.field);return Bt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=kl(n.unaryFilter.field);return Bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=kl(n.unaryFilter.field);return Bt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(a):a.fieldFilter!==void 0?(function(n){return Bt.create(kl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return Nr.create(n.compositeFilter.filters.map((s=>v2(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(a):Ae(30097,{filter:a})}function Pj(a){return kj[a]}function zj(a){return Tj[a]}function Uj(a){return Sj[a]}function Nl(a){return{fieldPath:a.canonicalString()}}function kl(a){return ln.fromServerFormat(a.fieldPath)}function _2(a){return a instanceof Bt?(function(n){if(n.op==="=="){if(w1(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NAN"}};if(_1(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w1(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NAN"}};if(_1(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(n.field),op:zj(n.op),value:n.value}}})(a):a instanceof Nr?(function(n){const s=n.getFilters().map((l=>_2(l)));return s.length===1?s[0]:{compositeFilter:{op:Uj(n.op),filters:s}}})(a):Ae(54877,{filter:a})}function Bj(a){const e=[];return a.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function w2(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,s,l,u=Re.min(),f=Re.min(),g=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.yt=e}}function Hj(a){const e=Vj({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.Cn=new Gj}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ts.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class Gj{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Gt(mt.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Gt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E2=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(E2,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ll(0)}static cr(){return new Ll(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="LruGarbageCollector",Qj=1048576;function P1([a,e],[n,s]){const l=$e(a,n);return l===0?$e(e,s):l}class $j{constructor(e){this.Ir=e,this.buffer=new Gt(P1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();P1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Kj{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(L1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ql(n)?ge(L1,"Ignoring IndexedDB error during garbage collection: ",n):await Gl(n)}await this.Vr(3e5)}))}}class Yj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(oh.ce);const s=new $j(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(V1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,u,f,g,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,f=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(s=E,g=Date.now(),this.removeTargets(e,s,n)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),wl()<=Qe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:E}))))}}function Xj(a,e){return new Yj(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.changes=new Oi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&dc(s.mutation,l,Bn.empty(),xt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ke()){const l=yi();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((u=>{let f=nc();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=yi();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ke())))}populateOverlays(e,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,s,l){let u=Da();const f=uc(),g=(function(){return uc()})();return n.forEach(((p,y)=>{const _=s.get(y.key);l.has(y.key)&&(_===void 0||_.mutation instanceof Ms)?u=u.insert(y.key,y):_!==void 0?(f.set(y.key,_.mutation.getFieldMask()),dc(_.mutation,y,_.mutation.getFieldMask(),xt.now())):f.set(y.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,_)=>f.set(y,_))),n.forEach(((y,_)=>g.set(y,new Wj(_,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=uc();let l=new _t(((f,g)=>f-g)),u=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let _=s.get(p)||Bn.empty();_=g.applyToLocalView(y,_),s.set(p,_);const E=(l.get(g.batchId)||Ke()).add(p);l=l.insert(g.batchId,E)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,_=p.value,E=r2();_.forEach((j=>{if(!u.has(j)){const V=d2(n.get(j),s.get(j));V!==null&&E.set(j,V),u=u.add(j)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ae.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):W_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):ae.resolve(yi());let g=_c,p=u;return f.next((y=>ae.forEach(y,((_,E)=>(g<E.largestBatchId&&(g=E.largestBatchId),u.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next((j=>{p=p.insert(_,j)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Ke()))).next((_=>({batchId:g,changes:n2(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((s=>{let l=nc();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let f=nc();return this.indexManager.getCollectionParents(e,u).next((g=>ae.forEach(g,(p=>{const y=(function(E,j){return new $l(j,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((_=>{_.forEach(((E,j)=>{f=f.insert(E,j)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l)))).next((f=>{u.forEach(((p,y)=>{const _=y.getKey();f.get(_)===null&&(f=f.insert(_,mn.newInvalidDocument(_)))}));let g=nc();return f.forEach(((p,y)=>{const _=u.get(p);_!==void 0&&dc(_.mutation,y,Bn.empty(),xt.now()),fh(n,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Jr(l.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:Hj(l.bundledQuery),readTime:Jr(l.readTime)}})(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this.overlays=new _t(Ee.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=yi();return ae.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,u)=>{this.St(e,n,u)})),ae.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const l=yi(),u=n.length+1,f=new Ee(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&l.set(p.getKey(),p)}return ae.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new _t(((y,_)=>y-_));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let _=u.get(y.largestBatchId);_===null&&(_=yi(),u=u.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const g=yi(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,_)=>g.set(y,_))),!(g.size()>=l)););return ae.resolve(g)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new bj(n,s));let u=this.qr.get(n);u===void 0&&(u=Ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.Qr=new Gt(Zt.$r),this.Ur=new Gt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ee(new mt([])),s=new Zt(n,e),l=new Zt(n,e+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new mt([])),s=new Zt(n,e),l=new Zt(n,e+1);let u=Ke();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||$e(e.Yr,n.Yr)}static Kr(e,n){return $e(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Zt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new xj(u,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new Zt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ae.resolve(f)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?eg:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Zt(n,0),l=new Zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const g=this.Xr(f.Yr);u.push(g)})),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gt($e);return n.forEach((l=>{const u=new Zt(l,0),f=new Zt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{s=s.add(g.Yr)}))})),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new Zt(new Ee(u),0);let g=new Gt($e);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Yr)),!0)}),f),ae.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){at(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(n.mutations,(l=>{const u=new Zt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Zt(n,0),l=this.Zr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.ri=e,this.docs=(function(){return new _t(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let s=Da();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():mn.newInvalidDocument(l))})),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=Da();const f=n.path,g=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||O5(D5(_),s)<=0||(l.has(_.key)||fh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,s,l){Ae(9500)}ii(e,n){return ae.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new s3(this)}getSize(e){return ae.resolve(this.size)}}class s3 extends Zj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.persistence=e,this.si=new Oi((n=>rg(n)),ag),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=Ll.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ll(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),ae.waitFor(u).next((()=>l))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n){this.ui={},this.overlays={},this.ci=new oh(0),this.li=!1,this.li=!0,this.hi=new n3,this.referenceDelegate=e(this),this.Pi=new i3(this),this.indexManager=new Fj,this.remoteDocumentCache=(function(l){return new a3(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new qj(n),this.Ii=new e3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new r3(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const l=new l3(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return ae.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class l3 extends V5{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ri=new ug,this.Vi=null}static mi(e){return new dg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(s=>{const l=Ee.fromPath(s);return this.gi(e,l).next((u=>{u||n.removeEntry(l,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kd{constructor(e,n){this.persistence=e,this.pi=new Oi((s=>z5(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=Xj(this,n)}static mi(e,n){return new Kd(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?ae.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((g=>{g||(s++,u.removeEntry(f,Re.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ed(e.data.value)),n}br(e,n,s){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ae.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=Ke(),l=Ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new hg(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MT()?8:L5(pn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new o3;return this.Ss(e,n,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>u.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(wl()<=Qe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",El(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(wl()<=Qe.DEBUG&&ge("QueryEngine","Query:",El(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(wl()<=Qe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",El(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):ae.resolve())}ys(e,n){if(T1(n))return ae.resolve(null);let s=Wr(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Tm(n,null,"F"),s=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ke(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,g);return this.Cs(n,y,f,p.readTime)?this.ys(e,Tm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,l){return T1(n)||l.isEqual(Re.min())?ae.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,l)?ae.resolve(null):(wl()<=Qe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),El(n)),this.vs(e,f,n,I5(l,_c)).next((g=>g)))}))}Ds(e,n){let s=new Gt(e2(e));return n.forEach(((l,u)=>{fh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,s){return wl()<=Qe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",El(n)),this.ps.getDocumentsMatchingQuery(e,n,Ts.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="LocalStore",u3=3e8;class d3{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new _t($e),this.xs=new Oi((u=>rg(u)),ag),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function h3(a,e,n,s){return new d3(a,e,n,s)}async function k2(a,e){const n=Oe(a);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let p=Ke();for(const y of l){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of u){g.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function f3(a,e){const n=Oe(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,_){const E=y.batch,j=E.keys();let V=ae.resolve();return j.forEach((G=>{V=V.next((()=>_.getEntry(p,G))).next((se=>{const Z=y.docVersions.get(G);at(Z!==null,48541),se.version.compareTo(Z)<0&&(E.applyToRemoteDocument(se,y),se.isValidDocument()&&(se.setReadTime(y.commitVersion),_.addEntry(se)))}))})),V.next((()=>g.mutationQueue.removeMutationBatch(p,E)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Ke();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function T2(a){const e=Oe(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function m3(a,e){const n=Oe(a),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((_,E)=>{const j=l.get(E);if(!j)return;g.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,E))));let V=j.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?V=V.withResumeToken(on.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,s)),l=l.insert(E,V),(function(se,Z,pe){return se.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=u3?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(j,V,_)&&g.push(n.Pi.updateTargetData(u,V))}));let p=Da(),y=Ke();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),g.push(g3(u,f,e.documentUpdates).next((_=>{p=_.ks,y=_.qs}))),!s.isEqual(Re.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(_)}return ae.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=l,u)))}function g3(a,e,n){let s=Ke(),l=Ke();return n.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let f=Da();return n.forEach(((g,p)=>{const y=u.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):ge(fg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function p3(a,e){const n=Oe(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=eg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function y3(a,e){const n=Oe(a);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((u=>u?(l=u,ae.resolve(l)):n.Pi.allocateTargetId(s).next((f=>(l=new vs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Rm(a,e,n){const s=Oe(a),l=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Ql(f))throw f;ge(fg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function z1(a,e,n){const s=Oe(a);let l=Re.min(),u=Ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,_){const E=Oe(p),j=E.xs.get(_);return j!==void 0?ae.resolve(E.Ms.get(j)):E.Pi.getTargetData(y,_)})(s,f,Wr(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?l:Re.min(),n?u:Ke()))).next((g=>(x3(s,aj(e),g),{documents:g,Qs:u})))))}function x3(a,e,n){let s=a.Os.get(e)||Re.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class U1{constructor(){this.activeTargetIds=uj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b3{constructor(){this.Mo=new U1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new U1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="ConnectivityMonitor";class q1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(B1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(B1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd=null;function Im(){return yd===null?yd=(function(){return 268435456+Math.round(2147483648*Math.random())})():yd++,"0x"+yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="RestConnection",_3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Fd?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,u){const f=Im(),g=this.zo(e,n.toUriEncodedString());ge(H0,`Sending RPC '${e}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:y}=new URL(g),_=Bl(y);return this.Jo(e,g,p,s,_).then((E=>(ge(H0,`Received RPC '${e}' ${f}: `,E),E)),(E=>{throw Dl(H0,`RPC '${e}' ${f} failed with error: `,E,"url: ",g,"request:",s),E}))}Ho(e,n,s,l,u,f){return this.Go(e,n,s,l,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const s=_3[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class N3 extends w3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,u){const f=Im();return new Promise(((g,p)=>{const y=new S_;y.setWithCredentials(!0),y.listenOnce(A_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case wd.NO_ERROR:const E=y.getResponseJson();ge(dn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(E)),g(E);break;case wd.TIMEOUT:ge(dn,`RPC '${e}' ${f} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const j=y.getStatus();if(ge(dn,`RPC '${e}' ${f} failed with status:`,j,"response text:",y.getResponseText()),j>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const G=V==null?void 0:V.error;if(G&&G.status&&G.message){const se=(function(pe){const ne=pe.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ne)>=0?ne:ee.UNKNOWN})(G.status);p(new he(se,G.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ge(dn,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(l);ge(dn,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",_,s,15)}))}T_(e,n,s){const l=Im(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=R_(),g=C_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");ge(dn,`Creating RPC '${e}' stream ${l}: ${_}`,p);const E=f.createWebChannel(_,p);this.I_(E);let j=!1,V=!1;const G=new E3({Yo:Z=>{V?ge(dn,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(j||(ge(dn,`Opening RPC '${e}' stream ${l} transport.`),E.open(),j=!0),ge(dn,`RPC '${e}' stream ${l} sending:`,Z),E.send(Z))},Zo:()=>E.close()}),se=(Z,pe,ne)=>{Z.listen(pe,(le=>{try{ne(le)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return se(E,tc.EventType.OPEN,(()=>{V||(ge(dn,`RPC '${e}' stream ${l} transport opened.`),G.o_())})),se(E,tc.EventType.CLOSE,(()=>{V||(V=!0,ge(dn,`RPC '${e}' stream ${l} transport closed`),G.a_(),this.E_(E))})),se(E,tc.EventType.ERROR,(Z=>{V||(V=!0,Dl(dn,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),G.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),se(E,tc.EventType.MESSAGE,(Z=>{var pe;if(!V){const ne=Z.data[0];at(!!ne,16349);const le=ne,_e=(le==null?void 0:le.error)||((pe=le[0])==null?void 0:pe.error);if(_e){ge(dn,`RPC '${e}' stream ${l} received error:`,_e);const ce=_e.status;let $=(function(S){const D=Ut[S];if(D!==void 0)return f2(D)})(ce),T=_e.message;$===void 0&&($=ee.INTERNAL,T="Unknown error status: "+ce+" with message "+_e.message),V=!0,G.a_(new he($,T)),E.close()}else ge(dn,`RPC '${e}' stream ${l} received:`,ne),G.u_(ne)}})),se(g,j_.STAT_EVENT,(Z=>{Z.stat===bm.PROXY?ge(dn,`RPC '${e}' stream ${l} detected buffering proxy`):Z.stat===bm.NOPROXY&&ge(dn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function F0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(a){return new Aj(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&ge("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="PersistentStream";class A2{constructor(e,n,s,l,u,f,g,p){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new S2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Ia(n.toString()),Ia("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(H1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(H1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class k3 extends A2{constructor(e,n,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Rj(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?Jr(f.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Cm(this.serializer),n.addTarget=(function(u,f){let g;const p=f.target;if(g=Nm(p)?{documents:Oj(u,p)}:{query:Mj(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=p2(u,f.resumeToken);const y=Sm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Re.min())>0){g.readTime=$d(u,f.snapshotVersion.toTimestamp());const y=Sm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=Lj(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Cm(this.serializer),n.removeTarget=e,this.q_(n)}}class T3 extends A2{constructor(e,n,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Dj(e.writeResults,e.commitTime),s=Jr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Cm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Ij(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{}class A3 extends S3{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Am(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Am(n,s),l,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class j3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ia(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="RemoteStore";class C3{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Mi(this)&&(ge(Ai,"Restarting streams for network reachability change."),await(async function(p){const y=Oe(p);y.Ea.add(4),await Pc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await xh(y)})(this))}))})),this.Ra=new j3(s,l)}}async function xh(a){if(Mi(a))for(const e of a.da)await e(!0)}async function Pc(a){for(const e of a.da)await e(!1)}function j2(a,e){const n=Oe(a);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yg(n)?pg(n):Kl(n).O_()&&gg(n,e))}function mg(a,e){const n=Oe(a),s=Kl(n);n.Ia.delete(e),s.O_()&&C2(n,e),n.Ia.size===0&&(s.O_()?s.L_():Mi(n)&&n.Ra.set("Unknown"))}function gg(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kl(a).Y_(e)}function C2(a,e){a.Va.Ue(e),Kl(a).Z_(e)}function pg(a){a.Va=new Nj({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Kl(a).start(),a.Ra.ua()}function yg(a){return Mi(a)&&!Kl(a).x_()&&a.Ia.size>0}function Mi(a){return Oe(a).Ea.size===0}function R2(a){a.Va=void 0}async function R3(a){a.Ra.set("Online")}async function I3(a){a.Ia.forEach(((e,n)=>{gg(a,e)}))}async function D3(a,e){R2(a),yg(a)?(a.Ra.ha(e),pg(a)):a.Ra.set("Unknown")}async function O3(a,e,n){if(a.Ra.set("Online"),e instanceof g2&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(a,e)}catch(s){ge(Ai,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yd(a,s)}else if(e instanceof Td?a.Va.Ze(e):e instanceof m2?a.Va.st(e):a.Va.tt(e),!n.isEqual(Re.min()))try{const s=await T2(a.localStore);n.compareTo(s)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(y);_&&u.Ia.set(y,_.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,y)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(on.EMPTY_BYTE_STRING,_.snapshotVersion)),C2(u,p);const E=new vs(_.target,p,y,_.sequenceNumber);gg(u,E)})),u.remoteSyncer.applyRemoteEvent(g)})(a,n)}catch(s){ge(Ai,"Failed to raise snapshot:",s),await Yd(a,s)}}async function Yd(a,e,n){if(!Ql(e))throw e;a.Ea.add(1),await Pc(a),a.Ra.set("Offline"),n||(n=()=>T2(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ge(Ai,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await xh(a)}))}function I2(a,e){return e().catch((n=>Yd(a,n,e)))}async function bh(a){const e=Oe(a),n=Cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:eg;for(;M3(e);)try{const l=await p3(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,V3(e,l)}catch(l){await Yd(e,l)}D2(e)&&O2(e)}function M3(a){return Mi(a)&&a.Ta.length<10}function V3(a,e){a.Ta.push(e);const n=Cs(a);n.O_()&&n.X_&&n.ea(e.mutations)}function D2(a){return Mi(a)&&!Cs(a).x_()&&a.Ta.length>0}function O2(a){Cs(a).start()}async function L3(a){Cs(a).ra()}async function P3(a){const e=Cs(a);for(const n of a.Ta)e.ea(n.mutations)}async function z3(a,e,n){const s=a.Ta.shift(),l=lg.from(s,e,n);await I2(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await bh(a)}async function U3(a,e){e&&Cs(a).X_&&await(async function(s,l){if((function(f){return _j(f)&&f!==ee.ABORTED})(l.code)){const u=s.Ta.shift();Cs(s).B_(),await I2(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await bh(s)}})(a,e),D2(a)&&O2(a)}async function F1(a,e){const n=Oe(a);n.asyncQueue.verifyOperationInProgress(),ge(Ai,"RemoteStore received new credentials");const s=Mi(n);n.Ea.add(3),await Pc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xh(n)}async function B3(a,e){const n=Oe(a);e?(n.Ea.delete(2),await xh(n)):e||(n.Ea.add(2),await Pc(n),n.Ra.set("Unknown"))}function Kl(a){return a.ma||(a.ma=(function(n,s,l){const u=Oe(n);return u.sa(),new k3(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:R3.bind(null,a),t_:I3.bind(null,a),r_:D3.bind(null,a),H_:O3.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),yg(a)?pg(a):a.Ra.set("Unknown")):(await a.ma.stop(),R2(a))}))),a.ma}function Cs(a){return a.fa||(a.fa=(function(n,s,l){const u=Oe(n);return u.sa(),new T3(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:L3.bind(null,a),r_:U3.bind(null,a),ta:P3.bind(null,a),na:z3.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await bh(a)):(await a.fa.stop(),a.Ta.length>0&&(ge(Ai,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const f=Date.now()+s,g=new xg(e,n,f,l,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(a,e){if(Ia("AsyncQueue",`${e}: ${a}`),Ql(a))return new he(ee.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{static emptySet(e){return new Rl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=nc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Rl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.ga=new _t(Ee.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Pl{constructor(e,n,s,l,u,f,g,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,l,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new Pl(e,n,Rl.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class H3{constructor(){this.queries=Q1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Oe(n),u=l.queries;l.queries=Q1(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function Q1(){return new Oi((a=>J_(a)),hh)}async function vg(a,e){const n=Oe(a);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new q3,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=bg(f,`Initialization of query '${El(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&wg(n)}async function _g(a,e){const n=Oe(a),s=e.query;let l=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function F3(a,e){const n=Oe(a);let s=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(l)&&(s=!0);f.wa=l}}s&&wg(n)}function G3(a,e,n){const s=Oe(a),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(e)}function wg(a){a.Ca.forEach((e=>{e.next()}))}var Dm,$1;($1=Dm||(Dm={})).Ma="default",$1.Cache="cache";class Eg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Pl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.key=e}}class V2{constructor(e){this.key=e}}class Q3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=e2(e),this.tu=new Rl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new G1,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((_,E)=>{const j=l.get(_),V=fh(this.query,E)?E:null,G=!!j&&this.mutatedKeys.has(j.key),se=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let Z=!1;j&&V?j.data.isEqual(V.data)?G!==se&&(s.track({type:3,doc:V}),Z=!0):this.su(j,V)||(s.track({type:2,doc:V}),Z=!0,(p&&this.eu(V,p)>0||y&&this.eu(V,y)<0)&&(g=!0)):!j&&V?(s.track({type:0,doc:V}),Z=!0):j&&!V&&(s.track({type:1,doc:j}),Z=!0,(p||y)&&(g=!0)),Z&&(V?(f=f.add(V),u=se?u.add(_):u.delete(_)):(f=f.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,E)=>(function(V,G){const se=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:Z})}};return se(V)-se(G)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new Pl(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new G1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new V2(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new M2(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ng="SyncEngine";class $3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class K3{constructor(e){this.key=e,this.hu=!1}}class Y3{constructor(e,n,s,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Oi((g=>J_(g)),hh),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Ee.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=Ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function X3(a,e,n=!0){const s=q2(a);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await L2(s,e,n,!0),l}async function Z3(a,e){const n=q2(a);await L2(n,e,!0,!1)}async function L2(a,e,n,s){const l=await y3(a.localStore,Wr(e)),u=l.targetId,f=a.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await W3(a,e,u,f==="current",l.resumeToken)),a.isPrimaryClient&&n&&j2(a.remoteStore,l),g}async function W3(a,e,n,s,l){a.pu=(E,j,V)=>(async function(se,Z,pe,ne){let le=Z.view.ru(pe);le.Cs&&(le=await z1(se.localStore,Z.query,!1).then((({documents:T})=>Z.view.ru(T,le))));const _e=ne&&ne.targetChanges.get(Z.targetId),ce=ne&&ne.targetMismatches.get(Z.targetId)!=null,$=Z.view.applyChanges(le,se.isPrimaryClient,_e,ce);return Y1(se,Z.targetId,$.au),$.snapshot})(a,E,j,V);const u=await z1(a.localStore,e,!0),f=new Q3(e,u.Qs),g=f.ru(u.documents),p=Lc.createSynthesizedTargetChangeForCurrentChange(n,s&&a.onlineState!=="Offline",l),y=f.applyChanges(g,a.isPrimaryClient,p);Y1(a,n,y.au);const _=new $3(e,n,f);return a.Tu.set(e,_),a.Iu.has(n)?a.Iu.get(n).push(e):a.Iu.set(n,[e]),y.snapshot}async function J3(a,e,n){const s=Oe(a),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!hh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Rm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&mg(s.remoteStore,l.targetId),Om(s,l.targetId)})).catch(Gl)):(Om(s,l.targetId),await Rm(s.localStore,l.targetId,!0))}async function e6(a,e){const n=Oe(a),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),mg(n.remoteStore,s.targetId))}async function t6(a,e,n){const s=o6(a);try{const l=await(function(f,g){const p=Oe(f),y=xt.now(),_=g.reduce(((V,G)=>V.add(G.key)),Ke());let E,j;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let G=Da(),se=Ke();return p.Ns.getEntries(V,_).next((Z=>{G=Z,G.forEach(((pe,ne)=>{ne.isValidDocument()||(se=se.add(pe))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,G))).next((Z=>{E=Z;const pe=[];for(const ne of g){const le=pj(ne,E.get(ne.key).overlayedDocument);le!=null&&pe.push(new Ms(ne.key,le,G_(le.value.mapValue),ir.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,pe,g)})).next((Z=>{j=Z;const pe=Z.applyToLocalDocumentSet(E,se);return p.documentOverlayCache.saveOverlays(V,Z.batchId,pe)}))})).then((()=>({batchId:j.batchId,changes:n2(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new _t($e)),y=y.insert(g,p),f.Vu[f.currentUser.toKey()]=y})(s,l.batchId,n),await zc(s,l.changes),await bh(s.remoteStore)}catch(l){const u=bg(l,"Failed to persist write");n.reject(u)}}async function P2(a,e){const n=Oe(a);try{const s=await m3(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(at(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?at(f.hu,14607):l.removedDocuments.size>0&&(at(f.hu,42227),f.hu=!1))})),await zc(n,s,e)}catch(s){await Gl(s)}}function K1(a,e,n){const s=Oe(a);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=Oe(f);p.onlineState=g;let y=!1;p.queries.forEach(((_,E)=>{for(const j of E.Sa)j.va(g)&&(y=!0)})),y&&wg(p)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function n6(a,e,n){const s=Oe(a);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),u=l&&l.key;if(u){let f=new _t(Ee.comparator);f=f.insert(u,mn.newNoDocument(u,Re.min()));const g=Ke().add(u),p=new ph(Re.min(),new Map,new _t($e),f,g);await P2(s,p),s.du=s.du.remove(u),s.Au.delete(e),kg(s)}else await Rm(s.localStore,e,!1).then((()=>Om(s,e,n))).catch(Gl)}async function r6(a,e){const n=Oe(a),s=e.batch.batchId;try{const l=await f3(n.localStore,e);U2(n,s,null),z2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await zc(n,l)}catch(l){await Gl(l)}}async function a6(a,e,n){const s=Oe(a);try{const l=await(function(f,g){const p=Oe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return p.mutationQueue.lookupMutationBatch(y,g).next((E=>(at(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(y,E)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>p.localDocuments.getDocuments(y,_)))}))})(s.localStore,e);U2(s,e,n),z2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await zc(s,l)}catch(l){await Gl(l)}}function z2(a,e){(a.mu.get(e)||[]).forEach((n=>{n.resolve()})),a.mu.delete(e)}function U2(a,e,n){const s=Oe(a);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function Om(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),n&&a.Pu.yu(s,n);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||B2(a,s)}))}function B2(a,e){a.Eu.delete(e.path.canonicalString());const n=a.du.get(e);n!==null&&(mg(a.remoteStore,n),a.du=a.du.remove(e),a.Au.delete(n),kg(a))}function Y1(a,e,n){for(const s of n)s instanceof M2?(a.Ru.addReference(s.key,e),s6(a,s)):s instanceof V2?(ge(Ng,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||B2(a,s.key)):Ae(19791,{wu:s})}function s6(a,e){const n=e.key,s=n.path.canonicalString();a.du.get(n)||a.Eu.has(s)||(ge(Ng,"New document in limbo: "+n),a.Eu.add(s),kg(a))}function kg(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const n=new Ee(mt.fromString(e)),s=a.fu.next();a.Au.set(s,new K3(n)),a.du=a.du.insert(n,s),j2(a.remoteStore,new vs(Wr(dh(n.path)),s,"TargetPurposeLimboResolution",oh.ce))}}async function zc(a,e,n){const s=Oe(a),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{f.push(s.pu(p,e,n).then((y=>{var _;if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){l.push(y);const E=hg.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(p,y){const _=Oe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ae.forEach(y,(j=>ae.forEach(j.Es,(V=>_.persistence.referenceDelegate.addReference(E,j.targetId,V))).next((()=>ae.forEach(j.ds,(V=>_.persistence.referenceDelegate.removeReference(E,j.targetId,V)))))))))}catch(E){if(!Ql(E))throw E;ge(fg,"Failed to update sequence numbers: "+E)}for(const E of y){const j=E.targetId;if(!E.fromCache){const V=_.Ms.get(j),G=V.snapshotVersion,se=V.withLastLimboFreeSnapshotVersion(G);_.Ms=_.Ms.insert(j,se)}}})(s.localStore,u))}async function i6(a,e){const n=Oe(a);if(!n.currentUser.isEqual(e)){ge(Ng,"User change. New user:",e.toKey());const s=await k2(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new he(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zc(n,s.Ls)}}function l6(a,e){const n=Oe(a),s=n.Au.get(e);if(s&&s.hu)return Ke().add(s.key);{let l=Ke();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function q2(a){const e=Oe(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=P2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n6.bind(null,e),e.Pu.H_=F3.bind(null,e.eventManager),e.Pu.yu=G3.bind(null,e.eventManager),e}function o6(a){const e=Oe(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a6.bind(null,e),e}class Xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return h3(this.persistence,new c3,e.initialUser,this.serializer)}Cu(e){return new N2(dg.mi,this.serializer)}Du(e){return new b3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xd.provider={build:()=>new Xd};class c6 extends Xd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof Kd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Kj(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new N2((s=>Kd.mi(s,n)),this.serializer)}}class Mm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>K1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=i6.bind(null,this.syncEngine),await B3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new H3})()}createDatastore(e){const n=yh(e.databaseInfo.databaseId),s=(function(u){return new N3(u)})(e.databaseInfo);return(function(u,f,g,p){return new A3(u,f,g,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,u,f,g){return new C3(s,l,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>K1(this.syncEngine,n,0)),(function(){return q1.v()?new q1:new v3})())}createSyncEngine(e,n){return(function(l,u,f,g,p,y,_){const E=new Y3(l,u,f,g,p,y);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=Oe(l);ge(Ai,"RemoteStore shutting down."),u.Ea.add(5),await Pc(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Mm.provider={build:()=>new Mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ia("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="FirestoreClient";class u6{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=hn.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ge(Rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ge(Rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=bg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function G0(a,e){a.asyncQueue.verifyOperationInProgress(),ge(Rs,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let s=n.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await k2(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function X1(a,e){a.asyncQueue.verifyOperationInProgress();const n=await d6(a);ge(Rs,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener((s=>F1(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>F1(e.remoteStore,l))),a._onlineComponents=e}async function d6(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ge(Rs,"Using user provided OfflineComponentProvider");try{await G0(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ee.FAILED_PRECONDITION||l.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Dl("Error using user provided cache. Falling back to memory cache: "+n),await G0(a,new Xd)}}else ge(Rs,"Using default OfflineComponentProvider"),await G0(a,new c6(void 0));return a._offlineComponents}async function H2(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ge(Rs,"Using user provided OnlineComponentProvider"),await X1(a,a._uninitializedComponentsProvider._online)):(ge(Rs,"Using default OnlineComponentProvider"),await X1(a,new Mm))),a._onlineComponents}function h6(a){return H2(a).then((e=>e.syncEngine))}async function Zd(a){const e=await H2(a),n=e.eventManager;return n.onListen=X3.bind(null,e.syncEngine),n.onUnlisten=J3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Z3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=e6.bind(null,e.syncEngine),n}function f6(a,e,n={}){const s=new Aa;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,y){const _=new Tg({next:j=>{_.Nu(),f.enqueueAndForget((()=>_g(u,E)));const V=j.docs.has(g);!V&&j.fromCache?y.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&j.fromCache&&p&&p.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(j)},error:j=>y.reject(j)}),E=new Eg(dh(g.path),_,{includeMetadataChanges:!0,qa:!0});return vg(u,E)})(await Zd(a),a.asyncQueue,e,n,s))),s.promise}function m6(a,e,n={}){const s=new Aa;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,y){const _=new Tg({next:j=>{_.Nu(),f.enqueueAndForget((()=>_g(u,E))),j.fromCache&&p.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(j)},error:j=>y.reject(j)}),E=new Eg(g,_,{includeMetadataChanges:!0,qa:!0});return vg(u,E)})(await Zd(a),a.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="firestore.googleapis.com",W1=!0;class J1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G2,this.ssl=W1}else this.host=e.host,this.ssl=e.ssl??W1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Qj)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new _5;switch(s.type){case"firstParty":return new k5(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Z1.get(n);s&&(ge("ComponentProvider","Removing Datastore"),Z1.delete(n),s.terminate())})(this),Promise.resolve()}}function g6(a,e,n,s={}){var y;a=jn(a,vh);const l=Bl(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${n}`;l&&(Mv(`https://${g}`),Vv("Firestore",!0)),u.host!==G2&&u.host!==g&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:l,emulatorOptions:s};if(!ks(p,f)&&(a._setSettings(p),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=hn.MOCK_USER;else{_=ST(s.mockUserToken,(y=a._app)==null?void 0:y.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new hn(j)}a._authCredentials=new w5(new D_(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class kt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Mc(n,kt._jsonSchema))return new kt(e,s||null,new Ee(mt.fromString(n.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:qt("string",kt._jsonSchemaVersion),referencePath:qt("string")};class Ns extends Vs{constructor(e,n,s){super(e,n,dh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new Ee(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function Oa(a,e,...n){if(a=Tt(a),O_("collection","path",e),a instanceof vh){const s=mt.fromString(e,...n);return h1(s),new Ns(a,null,s)}{if(!(a instanceof kt||a instanceof Ns))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(mt.fromString(e,...n));return h1(s),new Ns(a.firestore,null,s)}}function Is(a,e,...n){if(a=Tt(a),arguments.length===1&&(e=Jm.newId()),O_("doc","path",e),a instanceof vh){const s=mt.fromString(e,...n);return d1(s),new kt(a,null,new Ee(s))}{if(!(a instanceof kt||a instanceof Ns))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(mt.fromString(e,...n));return d1(s),new kt(a.firestore,a instanceof Ns?a.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="AsyncQueue";class tv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new S2(this,"async_queue_retry"),this._c=()=>{const s=F0();s&&ge(ev,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=F0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=F0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ql(e))throw e;ge(ev,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ia("INTERNAL UNHANDLED ERROR: ",nv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=xg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ae(47125,{Pc:nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(a){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(a,["next","error","complete"])}class Ma extends vh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new tv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tv(e),this._firestoreClient=void 0,await e}}}function p6(a,e){const n=typeof a=="object"?a:Hm(),s=typeof a=="string"?a:Fd,l=Di(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=kT("firestore");u&&g6(l,...u)}return l}function _h(a){if(a._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||y6(a),a._firestoreClient}function y6(a){var s,l,u;const e=a._freezeSettings(),n=(function(g,p,y,_){return new q5(g,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,F2(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(a._databaseId,((s=a._app)==null?void 0:s.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new u6(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ar(on.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ar(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mc(e,ar._jsonSchema))return ar.fromBase64String(e.bytes)}}ar._jsonSchemaVersion="firestore/bytes/1.0",ar._jsonSchema={type:qt("string",ar._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ea._jsonSchemaVersion}}static fromJSON(e){if(Mc(e,ea._jsonSchema))return new ea(e.latitude,e.longitude)}}ea._jsonSchemaVersion="firestore/geoPoint/1.0",ea._jsonSchema={type:qt("string",ea._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mc(e,ta._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ta(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ta._jsonSchemaVersion="firestore/vectorValue/1.0",ta._jsonSchema={type:qt("string",ta._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=/^__.*__$/;class b6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vc(e,this.data,n,this.fieldTransforms)}}class Q2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $2(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:a})}}class Sg{constructor(e,n,s,l,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($2(this.Ac)&&x6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class v6{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||yh(e)}Cc(e,n,s,l=!1){return new Sg({Ac:e,methodName:n,Dc:s,path:ln.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eh(a){const e=a._freezeSettings(),n=yh(a._databaseId);return new v6(a._databaseId,!!e.ignoreUndefinedProperties,n)}function K2(a,e,n,s,l,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,e,n,l);Cg("Data must be an object, but it was:",f,s);const g=Y2(s,f);let p,y;if(u.merge)p=new Bn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const j=Vm(e,E,n);if(!f.contains(j))throw new he(ee.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);Z2(_,j)||_.push(j)}p=new Bn(_),y=f.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,y=f.fieldTransforms;return new b6(new An(g),p,y)}class Nh extends Uc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}class Ag extends Uc{_toFieldTransform(e){return new u2(e.path,new Tc)}isEqual(e){return e instanceof Ag}}class jg extends Uc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new jc(e.serializer,s2(e.serializer,this.Fc));return new u2(e.path,n)}isEqual(e){return e instanceof jg&&this.Fc===e.Fc}}function _6(a,e,n,s){const l=a.Cc(1,e,n);Cg("Data must be an object, but it was:",l,s);const u=[],f=An.empty();Os(s,((p,y)=>{const _=Rg(e,p,n);y=Tt(y);const E=l.yc(_);if(y instanceof Nh)u.push(_);else{const j=Bc(y,E);j!=null&&(u.push(_),f.set(_,j))}}));const g=new Bn(u);return new Q2(f,g,l.fieldTransforms)}function w6(a,e,n,s,l,u){const f=a.Cc(1,e,n),g=[Vm(e,s,n)],p=[l];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<u.length;j+=2)g.push(Vm(e,u[j])),p.push(u[j+1]);const y=[],_=An.empty();for(let j=g.length-1;j>=0;--j)if(!Z2(y,g[j])){const V=g[j];let G=p[j];G=Tt(G);const se=f.yc(V);if(G instanceof Nh)y.push(V);else{const Z=Bc(G,se);Z!=null&&(y.push(V),_.set(V,Z))}}const E=new Bn(y);return new Q2(_,E,f.fieldTransforms)}function E6(a,e,n,s=!1){return Bc(n,a.Cc(s?4:3,e))}function Bc(a,e){if(X2(a=Tt(a)))return Cg("Unsupported field value:",e,a),Y2(a,e);if(a instanceof Uc)return(function(s,l){if(!$2(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const g of s){let p=Bc(g,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(a,e)}return(function(s,l){if((s=Tt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return s2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=xt.fromDate(s);return{timestampValue:$d(l.serializer,u)}}if(s instanceof xt){const u=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$d(l.serializer,u)}}if(s instanceof ea)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ar)return{bytesValue:p2(l.serializer,s._byteString)};if(s instanceof kt){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ta)return(function(f,g){return{mapValue:{fields:{[H_]:{stringValue:F_},[Gd]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return sg(g.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${lh(s)}`)})(a,e)}function Y2(a,e){const n={};return L_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(a,((s,l)=>{const u=Bc(l,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function X2(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof xt||a instanceof ea||a instanceof ar||a instanceof kt||a instanceof Uc||a instanceof ta)}function Cg(a,e,n){if(!X2(n)||!M_(n)){const s=lh(n);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function Vm(a,e,n){if((e=Tt(e))instanceof wh)return e._internalPath;if(typeof e=="string")return Rg(a,e);throw Wd("Field path arguments must be of type string or ",a,!1,void 0,n)}const N6=new RegExp("[~\\*/\\[\\]]");function Rg(a,e,n){if(e.search(N6)>=0)throw Wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new wh(...e.split("."))._internalPath}catch{throw Wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function Wd(a,e,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new he(ee.INVALID_ARGUMENT,g+a+p)}function Z2(a,e){return a.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k6 extends W2{data(){return super.data()}}function kh(a,e){return typeof e=="string"?Rg(a,e):e instanceof wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class ew extends Ig{}function ji(a,e,...n){let s=[];e instanceof Ig&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Dg)).length,g=u.filter((p=>p instanceof Th)).length;if(f>1||f>0&&g>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class Th extends ew{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Th(e,n,s)}_apply(e){const n=this._parse(e);return nw(e._query,n),new Vs(e.firestore,e.converter,km(e._query,n))}_parse(e){const n=Eh(e.firestore);return(function(u,f,g,p,y,_,E){let j;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){sv(E,_);const G=[];for(const se of E)G.push(av(p,u,se));j={arrayValue:{values:G}}}else j=av(p,u,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||sv(E,_),j=E6(g,f,E,_==="in"||_==="not-in");return Bt.create(y,_,j)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zl(a,e,n){const s=e,l=kh("where",a);return Th._create(l,s,n)}class Dg extends Ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const g=u.getFlattenedFilters();for(const p of g)nw(f,p),f=km(f,p)})(e._query,n),new Vs(e.firestore,e.converter,km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Og extends ew{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Og(e,n)}_apply(e){const n=(function(l,u,f){if(l.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kc(u,f)})(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new $l(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function tw(a,e="asc"){const n=e,s=kh("orderBy",a);return Og._create(s,n)}function av(a,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W_(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(mt.fromString(n));if(!Ee.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return v1(a,new Ee(s))}if(n instanceof kt)return v1(a,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(n)}.`)}function sv(a,e){if(!Array.isArray(a)||a.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nw(a,e){const n=(function(l,u){for(const f of l)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class T6{convertValue(e,n="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Os(e,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,l,u;const n=(u=(l=(s=e.fields)==null?void 0:s[Gd].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>Rt(f.doubleValue)));return new ta(n)}convertGeoPoint(e){return new ea(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(wc(e));default:return null}}convertTimestamp(e){const n=Ss(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=mt.fromString(e);at(w2(s),9688,{name:e});const l=new Ec(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return l.isEqual(n)||Ia(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(a,e,n){let s;return s=a?n&&(n.merge||n.mergeFields)?a.toFirestore(e,n):a.toFirestore(e):e,s}class ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bi extends W2{constructor(e,n,s,l,u,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(kh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=bi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bi._jsonSchemaVersion="firestore/documentSnapshot/1.0",bi._jsonSchema={type:qt("string",bi._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Sd extends bi{data(e={}){return super.data(e)}}class vi{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new ac(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Sd(this._firestore,this._userDataWriter,s.key,s,new ac(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new Sd(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ac(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Sd(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ac(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,_=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),_=f.indexOf(g.doc.key)),{type:S6(g.type),doc:p,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S6(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(a){a=jn(a,kt);const e=jn(a.firestore,Ma);return f6(_h(e),a._key).then((n=>iw(e,a,n)))}vi._jsonSchemaVersion="firestore/querySnapshot/1.0",vi._jsonSchema={type:qt("string",vi._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class Mg extends T6{constructor(e){super(),this.firestore=e}convertBytes(e){return new ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function Yl(a){a=jn(a,Vs);const e=jn(a.firestore,Ma),n=_h(e),s=new Mg(e);return J2(a._query),m6(n,a._query).then((l=>new vi(e,s,a,l)))}function aw(a,e,n){a=jn(a,kt);const s=jn(a.firestore,Ma),l=rw(a.converter,e,n);return Sh(s,[K2(Eh(s),"setDoc",a._key,l,a.converter!==null,n).toMutation(a._key,ir.none())])}function Vg(a,e,n,...s){a=jn(a,kt);const l=jn(a.firestore,Ma),u=Eh(l);let f;return f=typeof(e=Tt(e))=="string"||e instanceof wh?w6(u,"updateDoc",a._key,e,n,s):_6(u,"updateDoc",a._key,e),Sh(l,[f.toMutation(a._key,ir.exists(!0))])}function j6(a){return Sh(jn(a.firestore,Ma),[new ig(a._key,ir.none())])}function sw(a,e){const n=jn(a.firestore,Ma),s=Is(a),l=rw(a.converter,e);return Sh(n,[K2(Eh(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,ir.exists(!1))]).then((()=>s))}function C6(a,...e){var p,y,_;a=Tt(a);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||rv(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(rv(e[s])){const E=e[s];e[s]=(p=E.next)==null?void 0:p.bind(E),e[s+1]=(y=E.error)==null?void 0:y.bind(E),e[s+2]=(_=E.complete)==null?void 0:_.bind(E)}let u,f,g;if(a instanceof kt)f=jn(a.firestore,Ma),g=dh(a._key.path),u={next:E=>{e[s]&&e[s](iw(f,a,E))},error:e[s+1],complete:e[s+2]};else{const E=jn(a,Vs);f=jn(E.firestore,Ma),g=E._query;const j=new Mg(f);u={next:V=>{e[s]&&e[s](new vi(f,j,E,V))},error:e[s+1],complete:e[s+2]},J2(a._query)}return(function(j,V,G,se){const Z=new Tg(se),pe=new Eg(V,Z,G);return j.asyncQueue.enqueueAndForget((async()=>vg(await Zd(j),pe))),()=>{Z.Nu(),j.asyncQueue.enqueueAndForget((async()=>_g(await Zd(j),pe)))}})(_h(f),g,l,u)}function Sh(a,e){return(function(s,l){const u=new Aa;return s.asyncQueue.enqueueAndForget((async()=>t6(await h6(s),l,u))),u.promise})(_h(a),e)}function iw(a,e,n){const s=n.docs.get(e._key),l=new Mg(a);return new bi(a,l,e._key,s,new ac(n.hasPendingWrites,n.fromCache),e.converter)}function Jd(){return new Ag("serverTimestamp")}function iv(a){return new jg("increment",a)}(function(e,n=!0){(function(l){Fl=l})(ql),na(new wr("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new Ma(new E5(s.getProvider("auth-internal")),new T5(f,s.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(y.options.projectId,_)})(f,l),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),sr(l1,o1,e),sr(l1,o1,"esm2020")})();const lw="@firebase/installations",Lg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=1e4,cw=`w:${Lg}`,uw="FIS_v2",R6="https://firebaseinstallations.googleapis.com/v1",I6=3600*1e3,D6="installations",O6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ci=new Ii(D6,O6,M6);function dw(a){return a instanceof kr&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw({projectId:a}){return`${R6}/projects/${a}/installations`}function fw(a){return{token:a.token,requestStatus:2,expiresIn:L6(a.expiresIn),creationTime:Date.now()}}async function mw(a,e){const s=(await e.json()).error;return Ci.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function gw({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function V6(a,{refreshToken:e}){const n=gw(a);return n.append("Authorization",P6(e)),n}async function pw(a){const e=await a();return e.status>=500&&e.status<600?a():e}function L6(a){return Number(a.replace("s","000"))}function P6(a){return`${uw} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6({appConfig:a,heartbeatServiceProvider:e},{fid:n}){const s=hw(a),l=gw(a),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const f={fid:n,authVersion:uw,appId:a.appId,sdkVersion:cw},g={method:"POST",headers:l,body:JSON.stringify(f)},p=await pw(()=>fetch(s,g));if(p.ok){const y=await p.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:fw(y.authToken)}}else throw await mw("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=/^[cdef][\w-]{21}$/,Lm="";function q6(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const n=H6(a);return B6.test(n)?n:Lm}catch{return Lm}}function H6(a){return U6(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Map;function bw(a,e){const n=Ah(a);vw(n,e),F6(n,e)}function vw(a,e){const n=xw.get(a);if(n)for(const s of n)s(e)}function F6(a,e){const n=G6();n&&n.postMessage({key:a,fid:e}),Q6()}let xi=null;function G6(){return!xi&&"BroadcastChannel"in self&&(xi=new BroadcastChannel("[Firebase] FID Change"),xi.onmessage=a=>{vw(a.data.key,a.data.fid)}),xi}function Q6(){xw.size===0&&xi&&(xi.close(),xi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="firebase-installations-database",K6=1,Ri="firebase-installations-store";let Q0=null;function Pg(){return Q0||(Q0=qv($6,K6,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Ri)}}})),Q0}async function eh(a,e){const n=Ah(a),l=(await Pg()).transaction(Ri,"readwrite"),u=l.objectStore(Ri),f=await u.get(n);return await u.put(e,n),await l.done,(!f||f.fid!==e.fid)&&bw(a,e.fid),e}async function _w(a){const e=Ah(a),s=(await Pg()).transaction(Ri,"readwrite");await s.objectStore(Ri).delete(e),await s.done}async function jh(a,e){const n=Ah(a),l=(await Pg()).transaction(Ri,"readwrite"),u=l.objectStore(Ri),f=await u.get(n),g=e(f);return g===void 0?await u.delete(n):await u.put(g,n),await l.done,g&&(!f||f.fid!==g.fid)&&bw(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zg(a){let e;const n=await jh(a.appConfig,s=>{const l=Y6(s),u=X6(a,l);return e=u.registrationPromise,u.installationEntry});return n.fid===Lm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Y6(a){const e=a||{fid:q6(),registrationStatus:0};return ww(e)}function X6(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Ci.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Z6(a,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:W6(a)}:{installationEntry:e}}async function Z6(a,e){try{const n=await z6(a,e);return eh(a.appConfig,n)}catch(n){throw dw(n)&&n.customData.serverCode===409?await _w(a.appConfig):await eh(a.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function W6(a){let e=await lv(a.appConfig);for(;e.registrationStatus===1;)await yw(100),e=await lv(a.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await zg(a);return s||n}return e}function lv(a){return jh(a,e=>{if(!e)throw Ci.create("installation-not-found");return ww(e)})}function ww(a){return J6(a)?{fid:a.fid,registrationStatus:0}:a}function J6(a){return a.registrationStatus===1&&a.registrationTime+ow<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC({appConfig:a,heartbeatServiceProvider:e},n){const s=tC(a,n),l=V6(a,n),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const f={installation:{sdkVersion:cw,appId:a.appId}},g={method:"POST",headers:l,body:JSON.stringify(f)},p=await pw(()=>fetch(s,g));if(p.ok){const y=await p.json();return fw(y)}else throw await mw("Generate Auth Token",p)}function tC(a,{fid:e}){return`${hw(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(a,e=!1){let n;const s=await jh(a.appConfig,u=>{if(!Ew(u))throw Ci.create("not-registered");const f=u.authToken;if(!e&&aC(f))return u;if(f.requestStatus===1)return n=nC(a,e),u;{if(!navigator.onLine)throw Ci.create("app-offline");const g=iC(u);return n=rC(a,g),g}});return n?await n:s.authToken}async function nC(a,e){let n=await ov(a.appConfig);for(;n.authToken.requestStatus===1;)await yw(100),n=await ov(a.appConfig);const s=n.authToken;return s.requestStatus===0?Ug(a,e):s}function ov(a){return jh(a,e=>{if(!Ew(e))throw Ci.create("not-registered");const n=e.authToken;return lC(n)?{...e,authToken:{requestStatus:0}}:e})}async function rC(a,e){try{const n=await eC(a,e),s={...e,authToken:n};return await eh(a.appConfig,s),n}catch(n){if(dw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _w(a.appConfig);else{const s={...e,authToken:{requestStatus:0}};await eh(a.appConfig,s)}throw n}}function Ew(a){return a!==void 0&&a.registrationStatus===2}function aC(a){return a.requestStatus===2&&!sC(a)}function sC(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+I6}function iC(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function lC(a){return a.requestStatus===1&&a.requestTime+ow<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(a){const e=a,{installationEntry:n,registrationPromise:s}=await zg(e);return s?s.catch(console.error):Ug(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(a,e=!1){const n=a;return await uC(n),(await Ug(n,e)).token}async function uC(a){const{registrationPromise:e}=await zg(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(a){if(!a||!a.options)throw $0("App Configuration");if(!a.name)throw $0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!a.options[n])throw $0(n);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function $0(a){return Ci.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="installations",hC="installations-internal",fC=a=>{const e=a.getProvider("app").getImmediate(),n=dC(e),s=Di(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},mC=a=>{const e=a.getProvider("app").getImmediate(),n=Di(e,Nw).getImmediate();return{getId:()=>oC(n),getToken:l=>cC(n,l)}};function gC(){na(new wr(Nw,fC,"PUBLIC")),na(new wr(hC,mC,"PRIVATE"))}gC();sr(lw,Lg);sr(lw,Lg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="analytics",pC="firebase_id",yC="origin",xC=60*1e3,bC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new rh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qn=new Ii("analytics","Analytics",vC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(a){if(!a.startsWith(Bg)){const e=qn.create("invalid-gtag-resource",{gtagURL:a});return bn.warn(e.message),""}return a}function kw(a){return Promise.all(a.map(e=>e.catch(n=>n)))}function wC(a,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(a,e)),n}function EC(a,e){const n=wC("firebase-js-sdk-policy",{createScriptURL:_C}),s=document.createElement("script"),l=`${Bg}?l=${a}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function NC(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function kC(a,e,n,s,l,u){const f=s[l];try{if(f)await e[f];else{const p=(await kw(n)).find(y=>y.measurementId===l);p&&await e[p.appId]}}catch(g){bn.error(g)}a("config",l,u)}async function TC(a,e,n,s,l){try{let u=[];if(l&&l.send_to){let f=l.send_to;Array.isArray(f)||(f=[f]);const g=await kw(n);for(const p of f){const y=g.find(E=>E.measurementId===p),_=y&&e[y.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),a("event",s,l||{})}catch(u){bn.error(u)}}function SC(a,e,n,s){async function l(u,...f){try{if(u==="event"){const[g,p]=f;await TC(a,e,n,g,p)}else if(u==="config"){const[g,p]=f;await kC(a,e,n,s,g,p)}else if(u==="consent"){const[g,p]=f;a("consent",g,p)}else if(u==="get"){const[g,p,y]=f;a("get",g,p,y)}else if(u==="set"){const[g]=f;a("set",g)}else a(u,...f)}catch(g){bn.error(g)}}return l}function AC(a,e,n,s,l){let u=function(...f){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=SC(u,a,e,n),{gtagCore:u,wrappedGtag:window[l]}}function jC(a){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Bg)&&n.src.includes(a))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=30,RC=1e3;class IC{constructor(e={},n=RC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Tw=new IC;function DC(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function OC(a){var f;const{appId:e,apiKey:n}=a,s={method:"GET",headers:DC(n)},l=bC.replace("{app-id}",e),u=await fetch(l,s);if(u.status!==200&&u.status!==304){let g="";try{const p=await u.json();(f=p.error)!=null&&f.message&&(g=p.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:g})}return u.json()}async function MC(a,e=Tw,n){const{appId:s,apiKey:l,measurementId:u}=a.options;if(!s)throw qn.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:s};throw qn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new PC;return setTimeout(async()=>{g.abort()},xC),Sw({appId:s,apiKey:l,measurementId:u},f,g,e)}async function Sw(a,{throttleEndTimeMillis:e,backoffCount:n},s,l=Tw){var g;const{appId:u,measurementId:f}=a;try{await VC(s,e)}catch(p){if(f)return bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:f};throw p}try{const p=await OC(a);return l.deleteThrottleMetadata(u),p}catch(p){const y=p;if(!LC(y)){if(l.deleteThrottleMetadata(u),f)return bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:f};throw p}const _=Number((g=y==null?void 0:y.customData)==null?void 0:g.httpStatus)===503?Ib(n,l.intervalMillis,CC):Ib(n,l.intervalMillis),E={throttleEndTimeMillis:Date.now()+_,backoffCount:n+1};return l.setThrottleMetadata(u,E),bn.debug(`Calling attemptFetch again in ${_} millis`),Sw(a,E,s,l)}}function VC(a,e){return new Promise((n,s)=>{const l=Math.max(e-Date.now(),0),u=setTimeout(n,l);a.addEventListener(()=>{clearTimeout(u),s(qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function LC(a){if(!(a instanceof kr)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class PC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zC(a,e,n,s,l){if(l&&l.global){a("event",n,s);return}else{const u=await e,f={...s,send_to:u};a("event",n,f)}}async function UC(a,e,n,s){if(s&&s.global){const l={};for(const u of Object.keys(n))l[`user_properties.${u}`]=n[u];return a("set",l),Promise.resolve()}else{const l=await e;a("config",l,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(){if(Pv())try{await zv()}catch(a){return bn.warn(qn.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return bn.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qC(a,e,n,s,l,u,f){const g=MC(a);g.then(j=>{n[j.measurementId]=j.appId,a.options.measurementId&&j.measurementId!==a.options.measurementId&&bn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>bn.error(j)),e.push(g);const p=BC().then(j=>{if(j)return s.getId()}),[y,_]=await Promise.all([g,p]);jC(u)||EC(u,y.measurementId),l("js",new Date);const E=(f==null?void 0:f.config)??{};return E[yC]="firebase",E.update=!0,_!=null&&(E[pC]=_),l("config",y.measurementId,E),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.app=e}_delete(){return delete Il[this.app.options.appId],Promise.resolve()}}let Il={},cv=[];const uv={};let K0="dataLayer",FC="gtag",dv,qg,hv=!1;function GC(){const a=[];if(Lv()&&a.push("This is a browser extension environment."),VT()||a.push("Cookies are not available."),a.length>0){const e=a.map((s,l)=>`(${l+1}) ${s}`).join(" "),n=qn.create("invalid-analytics-context",{errorInfo:e});bn.warn(n.message)}}function QC(a,e,n){GC();const s=a.options.appId;if(!s)throw qn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qn.create("no-api-key");if(Il[s]!=null)throw qn.create("already-exists",{id:s});if(!hv){NC(K0);const{wrappedGtag:u,gtagCore:f}=AC(Il,cv,uv,K0,FC);qg=u,dv=f,hv=!0}return Il[s]=qC(a,cv,uv,e,dv,K0,n),new HC(a)}function $C(a=Hm()){a=Tt(a);const e=Di(a,th);return e.isInitialized()?e.getImmediate():KC(a)}function KC(a,e={}){const n=Di(a,th);if(n.isInitialized()){const l=n.getImmediate();if(ks(e,n.getOptions()))return l;throw qn.create("already-initialized")}return n.initialize({options:e})}function YC(a,e,n){a=Tt(a),UC(qg,Il[a.app.options.appId],e,n).catch(s=>bn.error(s))}function XC(a,e,n,s){a=Tt(a),zC(qg,Il[a.app.options.appId],e,n,s).catch(l=>bn.error(l))}const fv="@firebase/analytics",mv="0.10.19";function ZC(){na(new wr(th,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return QC(s,l,n)},"PUBLIC")),na(new wr("analytics-internal",a,"PRIVATE")),sr(fv,mv),sr(fv,mv,"esm2020");function a(e){try{const n=e.getProvider(th).getImmediate();return{logEvent:(s,l,u)=>XC(n,s,l,u),setUserProperties:(s,l)=>YC(n,s,l)}}catch(n){throw qn.create("interop-component-reg-failed",{reason:n})}}}ZC();const WC={apiKey:"AIzaSyBFr--na-wJGHMdev7vUhPufAJHlyP3GNQ",authDomain:"school-9d3db.firebaseapp.com",projectId:"school-9d3db",storageBucket:"school-9d3db.firebasestorage.app",messagingSenderId:"429673694272",appId:"1:429673694272:web:43390c4fdfa5bce4744ba5",measurementId:"G-8YSDYV9VBN"},Hg=Hv(WC),hc=b5(Hg),gn=p6(Hg);$C(Hg);const Aw=re.createContext(void 0),JC=({children:a})=>{const[e,n]=re.useState(null),[s,l]=re.useState(!0),u=(p,y)=>{const _=`teacher-${y.split("@")[0]}`;let E="https://img.freepik.com/free-vector/teacher-standing-near-blackboard_23-2147517173.jpg";p.includes("")?E="https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P":p.includes("")&&(E="https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj"),n({uid:_,email:y,displayName:p,role:"teacher",avatar:E,gender:"male"}),localStorage.setItem("isTeacher","true"),localStorage.setItem("teacherName",p),localStorage.setItem("teacherEmail",y)},f=async()=>{try{(e==null?void 0:e.role)==="teacher"?(localStorage.removeItem("isTeacher"),localStorage.removeItem("teacherName"),localStorage.removeItem("teacherEmail"),n(null)):await oA(hc)}catch(p){console.error("Logout error",p)}},g=async p=>{if(e)try{let y={...p};if(p.firstName!==void 0||p.lastName!==void 0){const _=p.firstName!==void 0?p.firstName:e.firstName||"",E=p.lastName!==void 0?p.lastName:e.lastName||"";y.displayName=`${_} ${E}`.trim()}if(n(_=>_?{..._,...y}:null),e.role!=="teacher"){const _=Is(gn,"users",e.uid);await Vg(_,y)}}catch(y){throw console.error("Error updating profile:",y),y}};return re.useEffect(()=>{const p=localStorage.getItem("isTeacher")==="true";if(p){const _=localStorage.getItem("teacherName")||"",E=localStorage.getItem("teacherEmail")||"teacher@etqan.edu";u(_,E),l(!1);return}const y=lA(hc,async _=>{if(_)try{const E=Is(gn,"users",_.uid),j=await A6(E);if(j.exists()){const V=j.data();n({uid:_.uid,email:_.email||"",displayName:V.displayName||`${V.firstName||""} ${V.lastName||""}`.trim()||"Student",firstName:V.firstName,lastName:V.lastName,age:V.age,role:V.role,grade:V.grade,phone:V.phone,address:V.address,school:V.school,gender:V.gender,avatar:V.avatar,profileBackground:V.profileBackground,genderChanged:V.genderChanged})}else n({uid:_.uid,email:_.email||"",displayName:"User",role:"student"})}catch(E){console.error("Error fetching user profile:",E)}else p||n(null);l(!1)});return()=>y()},[]),c.jsx(Aw.Provider,{value:{user:e,loading:s,logout:f,setTeacherSession:u,updateUserProfile:g},children:!s&&a})},Ls=()=>{const a=re.useContext(Aw);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},eR=({onLoginClick:a,onNavigate:e,onLogoutClick:n})=>{const[s,l]=re.useState(!1),[u,f]=re.useState(!1),{user:g}=Ls();re.useEffect(()=>{const y=()=>{window.scrollY>10?f(!0):f(!1)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]);const p=y=>{e(y),l(!1),window.scrollTo({top:0,behavior:"smooth"})};return c.jsxs("nav",{className:`w-full z-50 sticky top-0 transition-all duration-500 ${u?"bg-emerald-900/95 backdrop-blur-md shadow-lg":"bg-emerald-800 shadow-md"}`,children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-20",children:[c.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>p("HOME"),children:[c.jsx("div",{className:"p-1 bg-white/10 rounded-full group-hover:bg-white/20 transition-colors",children:c.jsx("img",{src:"https://lh3.googleusercontent.com/d/13x8Gorb7y4H2qcQ1LVJtHY9-RoUhxg2z",alt:"  ",className:"w-12 h-12 rounded-full object-cover border-2 border-white/30 shadow-sm"})}),c.jsx("span",{className:"text-2xl font-black text-white tracking-tight drop-shadow-sm",children:""})]}),c.jsx("div",{className:"hidden md:flex items-center justify-center flex-1 px-4 lg:px-8",children:c.jsxs("div",{className:"flex items-center gap-1 bg-black/10 px-2 py-1.5 rounded-full border border-white/10 backdrop-blur-sm shadow-inner",children:[c.jsxs("button",{onClick:()=>p("HOME"),className:"px-4 lg:px-5 py-2 text-white font-bold rounded-full hover:bg-white/20 transition-all flex items-center gap-2 text-sm lg:text-base",children:[c.jsx(im,{className:"w-4 h-4"}),""]}),c.jsxs("button",{onClick:()=>p("QUIZZES"),className:"px-4 lg:px-5 py-2 text-white font-bold rounded-full hover:bg-white/20 transition-all flex items-center gap-2 text-sm lg:text-base",children:[c.jsx(_r,{className:"w-4 h-4"}),""]}),c.jsxs("button",{onClick:()=>p("CONTACT_TEACHER"),className:"px-4 lg:px-5 py-2 text-white font-bold rounded-full hover:bg-white/20 transition-all flex items-center gap-2 text-sm lg:text-base",children:[c.jsx(pc,{className:"w-4 h-4"}),"  "]})]})}),c.jsx("div",{className:"hidden md:flex items-center gap-3",children:g?c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>p("PROFILE"),className:"flex items-center gap-2 text-white hover:bg-white/15 px-4 py-2.5 rounded-full transition-all font-bold",title:" ",children:[c.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden bg-white/20 flex items-center justify-center border border-white/30",children:g.avatar?c.jsx("img",{src:g.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):c.jsx(Kr,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-sm font-bold max-w-[100px] truncate",children:g.displayName.split(" ")[0]})]}),g.role==="teacher"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>p("QUESTION_BANK"),className:"bg-white/10 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all border border-white/20",title:" ",children:c.jsx(gc,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>p("TEACHER_DASHBOARD"),className:"bg-blue-500 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-blue-600 transition-all shadow-lg border border-blue-400/50",title:" ",children:c.jsx(mc,{className:"w-5 h-5"})})]}),c.jsx("button",{onClick:n,className:"bg-red-500/80 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-red-600 transition-all border border-red-400/30",title:"",children:c.jsx(Id,{className:"w-4 h-4"})})]}):c.jsxs("button",{onClick:a,className:"bg-white text-emerald-700 px-6 py-2.5 rounded-full font-bold hover:bg-emerald-50 transition-all shadow-lg flex items-center gap-2 transform hover:scale-105",children:[c.jsx(Nb,{className:"w-4 h-4"})," "]})}),c.jsx("div",{className:"md:hidden flex items-center gap-2",children:c.jsx("button",{onClick:()=>l(!s),className:"text-white hover:text-emerald-100 p-2 transition-colors",children:s?c.jsx(ja,{className:"w-8 h-8"}):c.jsx(Nk,{className:"w-8 h-8"})})})]})}),s&&c.jsx("div",{className:"md:hidden bg-gray-900 border-t border-gray-800 shadow-xl absolute w-full z-50 animate-fade-in h-screen overflow-y-auto pb-20",children:c.jsxs("div",{className:"px-4 pt-2 pb-6 space-y-2",children:[g&&c.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-gray-800 rounded-2xl border border-gray-700 mt-4",children:[c.jsx("div",{className:"w-12 h-12 bg-emerald-900 rounded-full flex items-center justify-center text-emerald-200 font-bold text-lg overflow-hidden border border-emerald-700",children:g.avatar?c.jsx("img",{src:g.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):g.displayName.charAt(0)}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-white text-lg",children:g.displayName}),c.jsx("span",{className:"text-sm text-gray-400",children:g.email})]})]}),c.jsxs("button",{onClick:()=>p("HOME"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[c.jsx(im,{className:"w-5 h-5 text-emerald-400"})," "]}),c.jsxs("button",{onClick:()=>p("QUIZZES"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[c.jsx(_r,{className:"w-5 h-5 text-emerald-400"}),"  "]}),c.jsxs("button",{onClick:()=>p("CONTACT_TEACHER"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[c.jsx(pc,{className:"w-5 h-5 text-emerald-400"}),"   "]}),c.jsxs("button",{onClick:()=>p("ABOUT_PLATFORM"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[c.jsx(hk,{className:"w-5 h-5 text-emerald-400"}),"  "]}),c.jsxs("button",{onClick:()=>p("SERVICES"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[c.jsx(bv,{className:"w-5 h-5 text-emerald-400"})," "]}),g&&c.jsxs("button",{onClick:()=>p("PROFILE"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[c.jsx(GN,{className:"w-5 h-5 text-emerald-400"}),"  "]}),c.jsx("div",{className:"border-t border-gray-700 my-2 pt-2"}),g?c.jsxs("div",{className:"space-y-3 mt-2",children:[g.role==="teacher"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>p("TEACHER_DASHBOARD"),className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold shadow-md flex items-center justify-center gap-2",children:[c.jsx(mc,{className:"w-5 h-5"}),"  "]}),c.jsxs("button",{onClick:()=>p("QUESTION_BANK"),className:"w-full bg-gray-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[c.jsx(gc,{className:"w-5 h-5"})," "]})]}),c.jsxs("button",{onClick:()=>{l(!1),n()},className:"w-full bg-red-900/20 text-red-400 border border-red-900/30 py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[c.jsx(Id,{className:"w-5 h-5"})," "]})]}):c.jsxs("button",{onClick:()=>{l(!1),a()},className:"w-full mt-2 bg-emerald-600 text-white py-3 rounded-xl font-bold shadow-md flex items-center justify-center gap-2",children:[c.jsx(Nb,{className:"w-5 h-5"})," "]})]})})]})},tR=({onStartQuiz:a,onLoginClick:e,onNavigate:n})=>{const{user:s}=Ls(),[l,u]=re.useState(!1),f=()=>{u(!0),setTimeout(()=>u(!1),3e3)},g=()=>{s?n("QUIZZES"):f()},p=()=>{s?n("LESSONS"):f()},y=()=>{n("CONTACT_TEACHER")};return c.jsxs("section",{className:"relative w-full min-h-[calc(100vh-80px)] flex items-center justify-center bg-white dark:bg-gray-900 overflow-hidden animate-fade-in transition-colors duration-300",children:[l&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none px-4",children:c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/90 border border-red-200 dark:border-red-800 shadow-xl rounded-xl p-4 flex items-center gap-3 relative w-full max-w-md animate-fade-in-up pointer-events-auto",children:[c.jsx("div",{className:"bg-red-100 dark:bg-red-800 p-2 rounded-full shrink-0",children:c.jsx(jd,{className:"w-6 h-6 text-red-600 dark:text-red-200"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"  "}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs mt-1",children:"        ."})]}),c.jsx("button",{onClick:()=>u(!1),className:"absolute top-2 left-2 text-gray-400 dark:text-gray-300 hover:text-gray-600 dark:hover:text-white",children:c.jsx(ja,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>{u(!1),e()},className:"mr-auto bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors shrink-0",children:""})]})}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-0 w-full relative z-10 flex flex-col items-center text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-100 dark:border-emerald-800 px-4 py-2 rounded-full shadow-sm",children:[c.jsx(Um,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),c.jsx("span",{className:"text-emerald-800 dark:text-emerald-300 font-bold text-sm",children:"   "})]})}),c.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black text-gray-900 dark:text-white leading-[1.2] lg:leading-[1.15] mb-6 transition-colors",children:["  ",c.jsx("br",{}),c.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 inline-block relative",children:[" ",c.jsx("svg",{className:"absolute w-full h-3 -bottom-1 right-0 text-emerald-200 dark:text-emerald-900 -z-10",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:c.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]}),c.jsx("br",{}),"  "]}),c.jsxs("p",{className:"text-lg md:text-xl text-gray-600 dark:text-gray-300 leading-relaxed max-w-2xl mx-auto mb-10 transition-colors",children:["          ",c.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-black text-2xl px-1 relative inline-block",children:"   "}),"."]}),c.jsxs("div",{className:"flex flex-col w-full max-w-md gap-4 justify-center",children:[c.jsxs("button",{onClick:g,className:"w-full bg-emerald-500 hover:bg-emerald-600 dark:bg-emerald-600 dark:hover:bg-emerald-700 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-emerald-200/50 dark:hover:shadow-emerald-900/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[c.jsx(_r,{className:"w-6 h-6"})," ",c.jsx(sc,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),c.jsxs("button",{onClick:p,className:"w-full bg-blue-500 hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-blue-200/50 dark:hover:shadow-blue-900/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[c.jsx(Rd,{className:"w-6 h-6"})," ",c.jsx(sc,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),c.jsxs("button",{onClick:y,className:"w-full bg-teal-500 hover:bg-teal-600 dark:bg-teal-600 dark:hover:bg-teal-700 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-teal-200/50 dark:hover:shadow-teal-900/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[c.jsx(pc,{className:"w-6 h-6"}),"  ",c.jsx(sc,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[s&&c.jsxs("button",{onClick:()=>n("PROFILE"),className:"flex-1 bg-white dark:bg-gray-800 border-2 border-emerald-100 dark:border-emerald-900 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 text-lg font-bold px-8 py-4 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-sm",children:[c.jsx(Kr,{className:"w-5 h-5"})," "]}),!s&&c.jsxs("button",{onClick:e,className:"flex-1 bg-white dark:bg-gray-800 border-2 border-emerald-100 dark:border-emerald-900 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 text-lg font-bold px-8 py-4 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-sm",children:[c.jsx(Dk,{className:"w-5 h-5 fill-emerald-600 text-emerald-600 dark:fill-emerald-400 dark:text-emerald-400"})," "]})]})]})]})]})},Y0=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),X0=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),nR=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12 2C6.48 2 2 6.03 2 11c0 2.87 1.56 5.47 4 7.1V22l3.57-1.96c.78.22 1.6.34 2.43.34 5.52 0 10-4.03 10-9s-4.48-9-10-9zm1.06 12.07l-2.6-2.78-5.07 2.78 5.58-5.93 2.62 2.78 5.05-2.78-5.58 5.93z"})}),gv=[{id:1,name:" ",text:"       .",platform:"whatsapp",time:"10:30 "},{id:2,name:" ",text:"       .",platform:"messenger",time:"11:15 "},{id:3,name:" ",text:"        .",platform:"telegram",time:"09:45 "},{id:4,name:" ",text:"      .",platform:"whatsapp",time:"02:20 "},{id:5,name:"  ",text:"        .",platform:"messenger",time:"04:10 "},{id:6,name:" ",text:"       .",platform:"telegram",time:"08:00 "},{id:7,name:" ",text:"        .",platform:"whatsapp",time:"01:30 "},{id:8,name:" ",text:"       .",platform:"messenger",time:"06:45 "},{id:9,name:" ",text:"       .",platform:"telegram",time:"03:15 "},{id:10,name:" ",text:"       .",platform:"whatsapp",time:"12:00 "},{id:11,name:" ",text:"        .",platform:"messenger",time:"07:30 "},{id:12,name:" ",text:"      .",platform:"telegram",time:"10:10 "},{id:13,name:" ",text:"         .",platform:"whatsapp",time:"05:50 "},{id:14,name:" ",text:"        .",platform:"messenger",time:"09:20 "},{id:15,name:" ",text:"        .",platform:"telegram",time:"08:45 "}],rR=[{icon:dT,title:" ",desc:"        .",color:"bg-blue-100 text-blue-600"},{icon:_r,title:" ",desc:"        .",color:"bg-emerald-100 text-emerald-600"},{icon:Xk,title:" ",desc:"       .",color:"bg-yellow-100 text-yellow-600"},{icon:MN,title:" ",desc:"        .",color:"bg-purple-100 text-purple-600"}],aR=({onNavigate:a})=>{const[e,n]=re.useState([0,1,2]),[s,l]=re.useState(!0);re.useEffect(()=>{const g=setInterval(()=>{l(!1),setTimeout(()=>{const p=[];for(;p.length<3;){const y=Math.floor(Math.random()*gv.length);p.includes(y)||p.push(y)}n(p),l(!0)},500)},5e3);return()=>clearInterval(g)},[]);const u=g=>{switch(g){case"whatsapp":return c.jsx(Y0,{className:"w-5 h-5 text-white"});case"messenger":return c.jsx(nR,{className:"w-5 h-5 text-white"});case"telegram":return c.jsx(X0,{className:"w-5 h-5 text-white"});default:return null}},f=g=>{switch(g){case"whatsapp":return"bg-green-500";case"messenger":return"bg-blue-600";case"telegram":return"bg-sky-500";default:return"bg-gray-500"}};return c.jsx("section",{className:"py-20 bg-white dark:bg-gray-900 relative overflow-hidden transition-colors duration-300",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:" "}),c.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),c.jsx("p",{className:"mt-6 text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"                          ."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[c.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-8 rounded-3xl border border-slate-100 dark:border-gray-700 hover:border-emerald-200 dark:hover:border-emerald-600 transition-all group flex flex-col h-full shadow-lg hover:shadow-xl",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[c.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-xl overflow-hidden shrink-0 border-4 border-white dark:border-gray-700 group-hover:scale-105 transition-transform",children:c.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"text-center sm:text-right flex-1",children:[c.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white mb-3",children:".   "}),c.jsx("p",{className:"text-emerald-600 dark:text-emerald-400 font-bold text-xl mb-4",children:"  "}),c.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-600 dark:text-gray-300 font-medium bg-white dark:bg-gray-700 px-4 py-2 rounded-full inline-flex shadow-sm border border-gray-100 dark:border-gray-600",children:[c.jsx(lm,{className:"w-5 h-5 text-emerald-500"}),"   - "]})]})]}),c.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200 dark:border-gray-700",children:[c.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-4 text-center sm:text-right",children:" "}),c.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[c.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(am,{className:"w-7 h-7"})}),c.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(Y0,{className:"w-7 h-7"})}),c.jsx("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(X0,{className:"w-7 h-7"})})]})]})]}),c.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-8 rounded-3xl border border-slate-100 dark:border-gray-700 hover:border-emerald-200 dark:hover:border-emerald-600 transition-all group flex flex-col h-full shadow-lg hover:shadow-xl",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[c.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-xl overflow-hidden shrink-0 border-4 border-white dark:border-gray-700 group-hover:scale-105 transition-transform",children:c.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:".   ",className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"text-center sm:text-right flex-1",children:[c.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white mb-3",children:".   "}),c.jsx("p",{className:"text-blue-700 dark:text-blue-400 font-bold text-xl mb-4",children:"  "}),c.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-500 dark:text-gray-300 font-medium bg-white dark:bg-gray-700 px-4 py-2 rounded-full inline-flex shadow-sm border border-gray-100 dark:border-gray-600",children:[c.jsx(lm,{className:"w-5 h-5 text-blue-500"}),"   - "]})]})]}),c.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200 dark:border-gray-700",children:[c.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-4 text-center sm:text-right",children:" "}),c.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[c.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(am,{className:"w-7 h-7"})}),c.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(Y0,{className:"w-7 h-7"})}),c.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:c.jsx(X0,{className:"w-7 h-7"})})]})]})]})]}),c.jsx("div",{className:"text-center mb-12",children:c.jsxs("button",{onClick:()=>a("TEACHER_CV"),className:"inline-flex items-center gap-3 bg-emerald-600 text-white text-xl font-bold px-10 py-5 rounded-full shadow-lg hover:bg-emerald-700 hover:shadow-emerald-200 dark:hover:shadow-emerald-900/50 transition-all transform hover:-translate-y-1",children:[c.jsx(_i,{className:"w-6 h-6"}),"  ",c.jsx(Ad,{className:"w-6 h-6"})]})}),c.jsxs("div",{className:"mb-0 pt-10 border-t border-gray-100 dark:border-gray-700",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"       "})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((g,p)=>{const y=gv[g];return c.jsx("div",{className:`transform transition-all duration-500 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:c.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 relative h-full flex flex-col hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 bg-white dark:bg-gray-800 border-b border-r border-gray-100 dark:border-gray-700 transform rotate-45"}),c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center text-emerald-700 dark:text-emerald-300 font-bold text-lg",children:y.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:y.name}),c.jsx("span",{className:"text-xs text-gray-400 font-medium",children:y.time})]})]}),c.jsx("div",{className:`w-8 h-8 rounded-full ${f(y.platform)} flex items-center justify-center shadow-sm`,children:u(y.platform)})]}),c.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-base leading-relaxed font-medium",children:['"',y.text,'"']})]})},`${y.id}-${p}`)})})]}),c.jsxs("div",{className:"mb-0 pt-20 mt-12 border-t border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:" "}),c.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),c.jsx("p",{className:"mt-6 text-lg text-gray-600 dark:text-gray-300",children:"     "})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative",children:[c.jsx("div",{className:"hidden lg:block absolute top-12 left-0 w-full h-0.5 bg-gray-200 dark:bg-gray-700 -z-10 transform -translate-y-1/2"}),rR.map((g,p)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 text-center relative group hover:-translate-y-2 transition-transform duration-300",children:[c.jsx("div",{className:"absolute -top-4 right-6 w-8 h-8 bg-gray-900 dark:bg-black text-white rounded-full flex items-center justify-center font-bold text-sm shadow-md z-10 border-2 border-white dark:border-gray-700",children:p+1}),c.jsx("div",{className:"w-24 h-24 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-gray-50 dark:border-gray-600 group-hover:border-emerald-100 dark:group-hover:border-emerald-900 transition-colors relative z-0",children:c.jsx("div",{className:`w-16 h-16 ${g.color} rounded-full flex items-center justify-center`,children:c.jsx(g.icon,{className:"w-8 h-8"})})}),c.jsx("h3",{className:"font-black text-xl mb-3 text-gray-900 dark:text-white",children:g.title}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed font-medium px-2",children:g.desc})]},p))]})]})]})})},sR=({isOpen:a,onClose:e})=>{const[n,s]=re.useState("ROLE_SELECTION"),[l,u]=re.useState(!1),[f,g]=re.useState(null),[p,y]=re.useState(null),{setTeacherSession:_}=Ls(),[E,j]=re.useState(""),[V,G]=re.useState(""),[se,Z]=re.useState(""),[pe,ne]=re.useState(""),[le,_e]=re.useState(""),[ce,$]=re.useState(""),[T,k]=re.useState(""),[S,D]=re.useState(""),[R,M]=re.useState(""),[A,Ne]=re.useState("male"),[Ye,K]=re.useState("");if(!a)return null;const ie=()=>{s("ROLE_SELECTION"),g(null),y(null),j(""),G(""),Z(""),ne(""),_e(""),$(""),k(""),D(""),M(""),Ne("male"),K(""),u(!1)},ye=()=>{ie(),e()},Me=be=>{be.preventDefault(),g(null),u(!0),setTimeout(()=>{E==="2001"?(_(".   ","yazan@etqan.edu"),y("   !"),setTimeout(()=>ye(),1500)):E==="2003"?(_(".   ","majd@etqan.edu"),y("    !"),setTimeout(()=>ye(),1500)):(g("   "),u(!1))},800)},Ie=async be=>{be.preventDefault(),g(null),u(!0);try{await aA(hc,V.trim(),se),y("   !"),setTimeout(()=>ye(),1500)}catch(gt){console.error(gt),g("      "),u(!1)}},I=async be=>{be.preventDefault(),g(null),u(!0);try{const Hn=(await rA(hc,S.trim(),R)).user;await aw(Is(gn,"users",Hn.uid),{firstName:pe,lastName:le,age:ce,grade:T,gender:A,avatar:"",profileBackground:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",email:S.trim(),role:"student",totalXP:0,quizzesCompleted:0,createdAt:new Date}),y("   !"),setTimeout(()=>ye(),1500)}catch(gt){console.error(gt),gt.code==="auth/email-already-in-use"?g("   "):gt.code==="auth/weak-password"?g("   "):g("    .    ."),u(!1)}},W=async be=>{be.preventDefault(),g(null),u(!0);try{await nA(hc,Ye.trim()),y("   !")}catch(gt){console.error(gt),gt.code==="auth/user-not-found"?g("    "):gt.code==="auth/invalid-email"?g("    "):gt.code==="auth/too-many-requests"?g("           ."):g("          .")}finally{u(!1)}},P=()=>{switch(n){case"TEACHER_LOGIN":return"    ...";case"STUDENT_LOGIN":return"  ...";case"STUDENT_SIGNUP":return"   ...";case"FORGOT_PASSWORD":return"   ...";default:return" ..."}},Y=()=>c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800 dark:text-white",children:"   "}),c.jsxs("button",{onClick:()=>s("STUDENT_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all",children:[c.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900 p-3 rounded-full ml-4 group-hover:bg-emerald-200 dark:group-hover:bg-emerald-800 transition-colors",children:c.jsx(Kr,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsxs("div",{className:"text-right flex-1",children:[c.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"    "})]}),c.jsx(D0,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})]}),c.jsxs("button",{onClick:()=>s("TEACHER_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full ml-4 group-hover:bg-blue-200 dark:group-hover:bg-blue-800 transition-colors",children:c.jsx(Ul,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"text-right flex-1",children:[c.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"   "})]}),c.jsx(D0,{className:"w-5 h-5 text-gray-300 group-hover:text-blue-500"})]})]}),F=()=>c.jsxs("form",{onSubmit:Me,className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Sl,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:" "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"     "})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),c.jsx("input",{type:"password",value:E,onChange:be=>j(be.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900 outline-none transition-all text-center text-lg tracking-widest bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0})]}),c.jsx("button",{type:"submit",className:"mt-4 w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 dark:shadow-none",children:""})]}),fe=()=>c.jsxs("form",{onSubmit:Ie,className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:" !   "})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"email",value:V,onChange:be=>G(be.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),c.jsx(kb,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"password",value:se,onChange:be=>Z(be.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0}),c.jsx(Sl,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]}),c.jsx("div",{className:"text-left",children:c.jsx("button",{type:"button",onClick:()=>s("FORGOT_PASSWORD"),className:"text-xs text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})})]}),c.jsx("button",{type:"submit",disabled:l,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),c.jsx("div",{className:"mt-4 text-center",children:c.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["   "," ",c.jsx("button",{type:"button",onClick:()=>s("STUDENT_SIGNUP"),className:"text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})]})})]}),ke=()=>c.jsxs("form",{onSubmit:I,className:"flex flex-col gap-3",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"   "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"   "})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),c.jsx("input",{type:"text",value:pe,onChange:be=>ne(be.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),c.jsx("input",{type:"text",value:le,onChange:be=>_e(be.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),c.jsx("input",{type:"number",value:ce,onChange:be=>$(be.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),c.jsxs("div",{className:"flex gap-2 h-[42px]",children:[c.jsx("button",{type:"button",onClick:()=>Ne("male"),className:`flex-1 rounded-lg text-sm font-bold transition-all border ${A==="male"?"bg-blue-100 dark:bg-blue-900 border-blue-500 text-blue-700 dark:text-blue-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""}),c.jsx("button",{type:"button",onClick:()=>Ne("female"),className:`flex-1 rounded-lg text-sm font-bold transition-all border ${A==="female"?"bg-pink-100 dark:bg-pink-900 border-pink-500 text-pink-700 dark:text-pink-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""})]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 block mb-1",children:" :"}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,6,7,8,9,10,11,12].map(be=>c.jsx("button",{type:"button",onClick:()=>k(be.toString()),className:`py-2 px-1 rounded-xl text-sm font-bold transition-all border ${T===be.toString()?"bg-emerald-600 text-white border-emerald-600 shadow-md scale-105":"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-100 dark:border-gray-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 hover:border-emerald-200"}`,children:be},be))})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),c.jsx("input",{type:"email",value:S,onChange:be=>D(be.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),c.jsx("input",{type:"password",value:R,onChange:be=>M(be.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0,minLength:6})]}),c.jsx("button",{type:"submit",disabled:l,className:"mt-2 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),c.jsx("div",{className:"text-center mt-2",children:c.jsx("button",{type:"button",onClick:()=>s("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors",children:"    "})})]}),rt=()=>c.jsxs("form",{onSubmit:W,className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:["     ",c.jsx("strong",{children:""}),"  "]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"email",value:Ye,onChange:be=>K(be.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),c.jsx(kb,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),c.jsx("button",{type:"submit",disabled:l,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:"  "}),c.jsx("div",{className:"text-center mt-4",children:c.jsxs("button",{type:"button",onClick:()=>s("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors flex items-center justify-center gap-1 mx-auto",children:[c.jsx(Ad,{className:"w-4 h-4"}),"  "]})})]});return c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:ye}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-md relative shadow-2xl overflow-hidden animate-fade-in-up p-6 min-h-[400px] flex flex-col border border-gray-100 dark:border-gray-800",children:[l&&!p&&c.jsxs("div",{className:"absolute inset-0 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm z-50 flex flex-col items-center justify-center animate-fade-in rounded-3xl",children:[c.jsxs("div",{className:"relative mb-6",children:[c.jsx("div",{className:"absolute inset-0 bg-emerald-200 dark:bg-emerald-900 rounded-full animate-ping opacity-30 duration-1000"}),c.jsx("div",{className:"relative w-20 h-20 bg-emerald-50 dark:bg-emerald-900/50 rounded-full flex items-center justify-center border border-emerald-100 dark:border-emerald-800 shadow-inner",children:c.jsx(fn,{className:"w-10 h-10 text-emerald-600 dark:text-emerald-400 animate-spin"})})]}),c.jsx("h4",{className:"text-lg font-black text-gray-800 dark:text-white mb-2 tracking-tight animate-pulse",children:P()}),c.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"   "})]}),c.jsx("button",{onClick:ye,disabled:l,className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 disabled:opacity-50",children:c.jsx(ja,{className:"w-5 h-5"})}),n!=="ROLE_SELECTION"&&!p&&n!=="FORGOT_PASSWORD"&&c.jsxs("button",{onClick:()=>s("ROLE_SELECTION"),disabled:l,className:"absolute top-4 right-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 flex items-center gap-1 disabled:opacity-50",children:[c.jsx(D0,{className:"w-5 h-5"}),c.jsx("span",{className:"text-xs font-bold",children:""})]}),c.jsx("div",{className:"mt-6 flex-1 flex flex-col justify-center",children:p?c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center gap-4 animate-fade-in",children:[c.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-2 animate-[bounce_1s_infinite]",children:c.jsx(Cd,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white leading-relaxed px-4 whitespace-pre-line",children:p}),n==="FORGOT_PASSWORD"&&c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-900 rounded-xl p-4 mx-4 text-sm text-yellow-800 dark:text-yellow-200 text-right shadow-sm mt-4",children:[c.jsxs("p",{className:"font-bold flex items-center gap-2 mb-2 text-yellow-900 dark:text-yellow-100",children:[c.jsx(jd,{className:"w-5 h-5"}),"  :"]}),c.jsxs("p",{className:"leading-relaxed",children:["         ",c.jsx("strong",{children:"    (Spam)"}),"  (Junk)."]})]}),c.jsx("button",{onClick:()=>{n==="FORGOT_PASSWORD"?(s("STUDENT_LOGIN"),y(null)):ye()},className:"mt-8 bg-emerald-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none transform hover:scale-105 duration-200",children:n==="FORGOT_PASSWORD"?"  ":""})]}):c.jsxs(c.Fragment,{children:[n==="ROLE_SELECTION"&&Y(),n==="TEACHER_LOGIN"&&F(),n==="STUDENT_LOGIN"&&fe(),n==="STUDENT_SIGNUP"&&ke(),n==="FORGOT_PASSWORD"&&rt(),f&&c.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 rounded-lg flex items-start gap-2 text-red-600 dark:text-red-400 text-sm animate-fade-in",children:[c.jsx(jd,{className:"w-5 h-5 shrink-0 mt-0.5"}),c.jsx("span",{className:"font-medium",children:f})]})]})})]})]})},iR=()=>{const{user:a}=Ls(),[e,n]=re.useState(!1),[s,l]=re.useState(null),[u,f]=re.useState("MCQ"),[g,p]=re.useState({title:"",subject:"English",grade:"",category:"Language",description:""}),[y,_]=re.useState([]),[E,j]=re.useState(null),[V,G]=re.useState({question:"",options:["","","",""],correctAnswer:0,explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"}),[se,Z]=re.useState(""),[pe,ne]=re.useState(!1),[le,_e]=re.useState([]),[ce,$]=re.useState(!1),[T,k]=re.useState(""),S=(P,Y)=>{G(F=>({...F,[P]:Y}))},D=(P,Y)=>{const F=[...V.options];F[P]=Y,G(fe=>({...fe,options:F}))},R=()=>{if(!V.question.trim()){alert("   ");return}if((u==="MCQ"||u==="READING")&&V.options.some(F=>!F.trim())){alert("   ");return}if(u==="READING"&&!V.passageContent.trim()){alert("   ");return}if(u==="REORDER"&&!se.trim()){alert("    ");return}let P=[];if(u==="TF")P=["",""];else if(u==="REORDER"){if(P=se.split(" ").filter(F=>F.trim().length>0),P.length<2){alert("       ");return}}else P=V.options;const Y={id:E||Date.now(),question:V.question,options:P,correctAnswer:V.correctAnswer,explanation:V.explanation||"",type:u};u==="READING"&&(Y.passageContent=V.passageContent,Y.generalInstruction=V.generalInstruction,Y.passageFontSize=V.passageFontSize),E?(_(y.map(F=>F.id===E?Y:F)),j(null)):_([...y,Y]),M()},M=()=>{G({question:"",options:["","","",""],correctAnswer:0,explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"}),Z(""),j(null),f("MCQ")},A=P=>{const Y=y.find(F=>F.id===P);Y&&(j(P),f(Y.type||"MCQ"),Y.type==="REORDER"?(Z(Y.options.join(" ")),G({question:Y.question,options:["","","",""],correctAnswer:Y.correctAnswer,explanation:Y.explanation||"",passageContent:Y.passageContent||"",generalInstruction:Y.generalInstruction||"",passageFontSize:Y.passageFontSize||"md"})):(G({question:Y.question,options:Y.type==="TF"?["","","",""]:Y.options.length>=4?Y.options:[...Y.options,...Array(4-Y.options.length).fill("")],correctAnswer:Y.correctAnswer,explanation:Y.explanation||"",passageContent:Y.passageContent||"",generalInstruction:Y.generalInstruction||"",passageFontSize:Y.passageFontSize||"md"}),Z("")),window.scrollTo({top:0,behavior:"smooth"}))},Ne=()=>{M()},Ye=P=>{window.confirm("      ")&&(_(y.filter(Y=>Y.id!==P)),E===P&&M())},K=async()=>{if(!g.title||!g.grade){alert("     ");return}if(y.length===0){alert("     ");return}n(!0);try{const P={title:g.title,subject:g.subject,grade:g.grade,category:g.category,questions:y,createdBy:(a==null?void 0:a.uid)||"teacher",teacherName:(a==null?void 0:a.displayName)||"",description:g.description||""};if(s){const Y=Is(gn,"quizzes",s);await Vg(Y,{...P,updatedAt:Jd()}),alert("    !")}else await sw(Oa(gn,"quizzes"),{...P,createdAt:Jd()}),alert("    !");p({title:"",subject:"English",grade:"",category:"Language",description:""}),_([]),l(null),M()}catch(P){console.error("Error saving quiz:",P),alert("   ")}finally{n(!1)}},ie=()=>{window.confirm("        .")&&(p({title:"",subject:"English",grade:"",category:"Language",description:""}),_([]),l(null),M())},ye=async()=>{$(!0);try{const P=ji(Oa(gn,"quizzes"),tw("createdAt","desc")),Y=await Yl(P);_e(Y.docs.map(F=>({id:F.id,...F.data()})))}catch(P){console.error(P)}$(!1)},Me=()=>{ye(),ne(!0)},Ie=P=>{y.length>0&&!window.confirm("         .")||(l(P.id||null),p({title:P.title,subject:P.subject,grade:P.grade,category:P.category||"Language",description:P.description||""}),_(P.questions),ne(!1),M(),window.scrollTo({top:0,behavior:"smooth"}))},I=le.filter(P=>P.title.toLowerCase().includes(T.toLowerCase())||P.grade.includes(T)),W=[{value:"sm",label:""},{value:"md",label:""},{value:"lg",label:""},{value:"xl",label:" "}];return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 animate-fade-in transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 pt-10 pb-28 px-4 border-b border-gray-200 dark:border-gray-700 shadow-sm relative overflow-hidden",children:c.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-3xl shadow-inner border border-blue-100 dark:border-blue-800",children:c.jsx(wb,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"text-center md:text-right",children:[c.jsx("h1",{className:"text-3xl md:text-5xl font-black tracking-tight text-gray-900 dark:text-white mb-2",children:" "}),c.jsxs("p",{className:"text-blue-600 dark:text-blue-400 font-bold text-lg",children:["  ",a==null?void 0:a.displayName]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[s&&c.jsxs("button",{onClick:ie,className:"flex items-center gap-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 px-6 py-3 rounded-xl font-bold shadow-sm hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-100 dark:border-red-800 transition-all",children:[c.jsx(ja,{className:"w-5 h-5"})," "]}),c.jsxs("button",{onClick:Me,className:"flex items-center gap-2 bg-white dark:bg-gray-700 text-gray-700 dark:text-white px-6 py-3 rounded-xl font-bold shadow-md hover:shadow-lg border border-gray-100 dark:border-gray-600 transition-all hover:-translate-y-1",children:[c.jsx(nm,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," ( )"]})]})]})})}),c.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-16 relative z-20",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[c.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border p-6 md:p-8 transition-all ${s?"border-blue-500 ring-2 ring-blue-100 dark:ring-blue-900":"border-white dark:border-gray-700"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-8 border-b border-gray-100 dark:border-gray-700 pb-4",children:[c.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-3",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:c.jsx(_r,{className:"w-5 h-5 text-blue-700 dark:text-blue-400"})}),s?"  ":"  "]}),s&&c.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:" "})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),c.jsx("input",{type:"text",value:g.title,onChange:P=>p({...g,title:P.target.value}),placeholder:":    - ",className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 transition-all outline-none font-bold text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx(Rk,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),c.jsxs("select",{value:g.subject,onChange:P=>p({...g,subject:P.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[c.jsx("option",{value:"English",children:"English"}),c.jsx("option",{value:"Science",children:""}),c.jsx("option",{value:"Math",children:""})]})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"    "}),c.jsxs("div",{className:"relative",children:[c.jsx(Ul,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),c.jsxs("select",{value:g.grade,onChange:P=>p({...g,grade:P.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[c.jsx("option",{value:"",className:"text-gray-400",children:" "}),c.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(P=>c.jsxs("option",{value:P.toString(),children:[" ",P]},P))}),c.jsx("optgroup",{label:" ",children:c.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:c.jsx(fc,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"col-span-2 md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"  /  (Category)"}),c.jsxs("div",{className:"relative",children:[c.jsx(kv,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),c.jsxs("select",{value:g.category,onChange:P=>p({...g,category:P.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[c.jsx("option",{value:"Language",children:"Language ()"}),c.jsx("option",{value:"Reading",children:"Reading ()"}),c.jsx("option",{value:"Writing",children:"Writing ()"}),c.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"}),c.jsx("option",{value:"General",children:"  (General Quiz)"})]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:c.jsx(fc,{className:"w-5 h-5"})})]})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"  ()"}),c.jsx("textarea",{value:g.description,onChange:P=>p({...g,description:P.target.value}),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-medium text-gray-900 dark:text-white h-24 resize-none placeholder-gray-400 dark:placeholder-gray-500",placeholder:"    ..."})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6 md:p-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 border-b border-gray-100 dark:border-gray-700 pb-4",children:[c.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-3",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:c.jsx(mc,{className:"w-5 h-5 text-blue-700 dark:text-blue-400"})}),E?" ":" "]}),c.jsxs("div",{className:"flex flex-wrap gap-2 bg-gray-100 dark:bg-gray-700 p-1.5 rounded-xl self-start",children:[c.jsx("button",{onClick:()=>f("MCQ"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${u==="MCQ"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:"  "}),c.jsx("button",{onClick:()=>f("TF"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${u==="TF"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:"  "}),c.jsxs("button",{onClick:()=>f("READING"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${u==="READING"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:[c.jsx(Rd,{className:"w-4 h-4"})," "]}),c.jsxs("button",{onClick:()=>f("REORDER"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${u==="REORDER"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:[c.jsx(wv,{className:"w-4 h-4"})," "]})]})]}),c.jsxs("div",{className:"space-y-6",children:[u==="READING"&&c.jsxs("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-900/20 p-5 rounded-2xl border border-blue-100 dark:border-blue-800 mb-6",children:[c.jsxs("h4",{className:"font-bold text-blue-800 dark:text-blue-300 flex items-center gap-2 mb-2",children:[c.jsx(Sv,{className:"w-5 h-5"})," "]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-blue-700 dark:text-blue-300 mb-1",children:"  (General Instruction)"}),c.jsx("input",{type:"text",value:V.generalInstruction,onChange:P=>S("generalInstruction",P.target.value),placeholder:": Read the following text then answer the question",className:"w-full px-4 py-3 rounded-xl border border-blue-200 dark:border-blue-700 focus:border-blue-500 outline-none bg-white dark:bg-gray-800 text-sm font-medium"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-blue-700 dark:text-blue-300 mb-1",children:"  (Passage)"}),c.jsx("textarea",{value:V.passageContent,onChange:P=>S("passageContent",P.target.value),placeholder:"   ... ( Enter   )",className:"w-full px-4 py-3 rounded-xl border border-blue-200 dark:border-blue-700 focus:border-blue-500 outline-none bg-white dark:bg-gray-800 text-sm font-medium h-40 resize-y whitespace-pre-wrap",style:{direction:"ltr",textAlign:"left"}}),c.jsx("p",{className:"text-[10px] text-blue-500 mt-1",children:"* :        ."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-bold text-blue-700 dark:text-blue-300 mb-2 flex items-center gap-2",children:[c.jsx(cT,{className:"w-4 h-4"}),"   (  )"]}),c.jsx("div",{className:"flex gap-3",children:W.map(P=>c.jsx("button",{onClick:()=>S("passageFontSize",P.value),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all border ${V.passageFontSize===P.value?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-600 hover:border-blue-400"}`,children:P.label},P.value))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:u==="READING"?"  ":u==="REORDER"?"/ ":" "}),c.jsxs("div",{className:"relative",children:[c.jsx(wi,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4"}),c.jsx("input",{type:"text",value:V.question,onChange:P=>S("question",P.target.value),placeholder:u==="REORDER"?": Rearrange the following sentence":"   ...",className:"w-full px-5 py-4 pr-12 rounded-2xl border-2 border-gray-100 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none font-bold text-lg text-gray-900 dark:text-white bg-gray-50/50 dark:bg-gray-700/50 placeholder-gray-400 transition-all"})]})]}),u==="MCQ"||u==="READING"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:V.options.map((P,Y)=>c.jsxs("div",{className:`relative group transition-all duration-300 ${V.correctAnswer===Y?"scale-[1.02]":""}`,children:[c.jsxs("label",{className:"flex items-center justify-between mb-2 px-1",children:[c.jsxs("span",{className:`text-xs font-bold ${V.correctAnswer===Y?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:[" ",Y+1]}),c.jsx("button",{onClick:()=>S("correctAnswer",Y),className:`text-[10px] px-2 py-1 rounded-md transition-colors font-bold ${V.correctAnswer===Y?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:V.correctAnswer===Y?" ":" "})]}),c.jsx("input",{type:"text",value:P,onChange:F=>D(Y,F.target.value),placeholder:`  ${Y+1}`,className:`w-full px-4 py-3 rounded-xl border-2 outline-none transition-all font-medium ${Y===V.correctAnswer?"border-blue-500 bg-blue-50/30 dark:bg-blue-900/20 text-gray-900 dark:text-white shadow-sm ring-2 ring-blue-100 dark:ring-blue-900/30":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 focus:border-blue-400 text-gray-700 dark:text-gray-200"}`})]},Y))}):u==="REORDER"?c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:"  (   )"}),c.jsx("input",{type:"text",dir:"ltr",value:se,onChange:P=>Z(P.target.value),placeholder:"e.g. The sun rises in the east",className:"w-full px-5 py-4 rounded-2xl border-2 border-emerald-100 dark:border-emerald-800 focus:border-emerald-500 outline-none text-lg font-medium text-gray-900 dark:text-white bg-emerald-50/20 dark:bg-emerald-900/10 text-left"}),se&&c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:se.split(" ").filter(P=>P.trim()).map((P,Y)=>c.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-3 py-1 rounded-lg text-sm font-bold text-gray-700 dark:text-gray-300",children:P},Y))}),c.jsx("p",{className:"text-xs text-gray-500",children:"      ."})]}):c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>S("correctAnswer",0),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${V.correctAnswer===0?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 shadow-md":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[V.correctAnswer===0&&c.jsx(Na,{className:"w-6 h-6"})," (True)"]}),c.jsxs("button",{onClick:()=>S("correctAnswer",1),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${V.correctAnswer===1?"border-red-500 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 shadow-md":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[V.correctAnswer===1&&c.jsx(Na,{className:"w-6 h-6"})," (False)"]})]}),c.jsxs("div",{className:"bg-yellow-50/50 dark:bg-yellow-900/10 p-4 rounded-2xl border border-yellow-100 dark:border-yellow-900/30",children:[c.jsxs("label",{className:"block text-sm font-bold text-yellow-800 dark:text-yellow-500 mb-2 flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"  ()"]}),c.jsx("textarea",{value:V.explanation,onChange:P=>S("explanation",P.target.value),placeholder:"        ...",className:"w-full px-4 py-3 rounded-xl border border-yellow-200 dark:border-yellow-800/50 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-100 dark:focus:ring-yellow-900/30 outline-none text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-800 h-20 resize-none placeholder-gray-400 text-sm"})]}),c.jsxs("div",{className:"flex gap-3",children:[E&&c.jsxs("button",{onClick:Ne,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 py-4 rounded-2xl font-bold hover:bg-gray-300 dark:hover:bg-gray-600 transition-all flex items-center justify-center gap-2",children:[c.jsx(Nv,{className:"w-5 h-5"})," "]}),c.jsx("button",{onClick:R,className:`flex-1 bg-gray-900 dark:bg-black text-white py-4 rounded-2xl font-bold hover:bg-black dark:hover:bg-gray-900 transition-all shadow-lg shadow-gray-200 dark:shadow-none flex items-center justify-center gap-2 transform hover:-translate-y-1 ${E?"bg-blue-600 dark:bg-blue-600 hover:bg-blue-700 dark:hover:bg-blue-700":""}`,children:E?c.jsxs(c.Fragment,{children:[c.jsx(yc,{className:"w-5 h-5"})," "]}):c.jsxs(c.Fragment,{children:[c.jsx(mc,{className:"w-5 h-5"}),"  "]})})]})]})]})]}),c.jsx("div",{className:"lg:col-span-1",children:c.jsxs("div",{className:"sticky top-24 space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6",children:[c.jsxs("h3",{className:"text-lg font-black text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[c.jsx(yc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," "]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-5 bg-gray-50 dark:bg-gray-700 rounded-2xl border border-gray-100 dark:border-gray-600 flex flex-col gap-3",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),c.jsx("span",{className:"font-black text-gray-900 dark:text-white bg-white dark:bg-gray-600 px-3 py-0.5 rounded-md shadow-sm",children:y.length})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),c.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded-md",children:g.category})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),s?c.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold bg-emerald-50 dark:bg-emerald-900/30 px-2 py-0.5 rounded-md",children:""}):c.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded-md",children:""})]})]}),c.jsxs("button",{onClick:K,disabled:e||y.length===0,className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all flex items-center justify-center gap-2 transform ${e||y.length===0?"bg-gray-300 dark:bg-gray-600 cursor-not-allowed shadow-none":"bg-blue-600 hover:bg-blue-700 shadow-blue-200 dark:shadow-none hover:-translate-y-1"}`,children:[e?c.jsx(fn,{className:"w-5 h-5 animate-spin"}):s?c.jsx(Ev,{className:"w-5 h-5"}):c.jsx(Na,{className:"w-5 h-5"}),e?" ...":s?" ":"  "]})]})]}),y.length>0&&c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6 animate-fade-in-up",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 p-1.5 rounded-lg",children:c.jsx(wb,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),"  (",y.length,")"]}),c.jsx("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 custom-scrollbar",children:y.map((P,Y)=>c.jsxs("div",{className:`p-3 rounded-xl border transition-all group relative ${E===P.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-500 ring-1 ring-blue-500":"bg-gray-50 dark:bg-gray-700/50 border-gray-100 dark:border-gray-600 hover:border-blue-300"}`,children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"bg-white dark:bg-gray-600 text-gray-700 dark:text-gray-300 font-bold w-6 h-6 flex items-center justify-center rounded-lg text-xs shrink-0 shadow-sm",children:Y+1}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm line-clamp-2 mb-1.5",children:P.question}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-[10px] bg-white dark:bg-gray-600 text-gray-500 dark:text-gray-300 px-2 py-0.5 rounded border border-gray-200 dark:border-gray-500",children:P.type==="REORDER"?"":P.options.length===2?"/":P.passageContent?"":""})})]})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-200 dark:border-gray-600/50 justify-end",children:[c.jsxs("button",{onClick:()=>A(P.id),className:"flex items-center gap-1 text-xs font-bold text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[c.jsx(om,{className:"w-3.5 h-3.5"}),""]}),c.jsx("div",{className:"w-px h-3 bg-gray-300 dark:bg-gray-600"}),c.jsxs("button",{onClick:()=>Ye(P.id),className:"flex items-center gap-1 text-xs font-bold text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[c.jsx(cm,{className:"w-3.5 h-3.5"}),""]})]})]},P.id))})]})]})})]})}),pe&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-3xl max-h-[85vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-xl",children:c.jsx(nm,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:" "}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"    "})]})]}),c.jsx("button",{onClick:()=>ne(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-gray-500 dark:text-gray-400",children:c.jsx(ja,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700",children:c.jsxs("div",{className:"relative",children:[c.jsx(Ni,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-4 pointer-events-none"}),c.jsx("input",{type:"text",placeholder:"   ...",value:T,onChange:P=>k(P.target.value),className:"w-full px-12 py-3 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-700 font-bold text-gray-700 dark:text-white transition-all"})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900 custom-scrollbar",children:ce?c.jsx("div",{className:"flex justify-center py-10",children:c.jsx(fn,{className:"w-8 h-8 animate-spin text-emerald-600"})}):I.length===0?c.jsx("div",{className:"text-center py-10 text-gray-400",children:"   "}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.map(P=>c.jsxs("div",{onClick:()=>Ie(P),className:"bg-white dark:bg-gray-800 p-4 rounded-2xl border border-gray-200 dark:border-gray-700 cursor-pointer hover:border-emerald-500 dark:hover:border-emerald-500 hover:shadow-lg transition-all group",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-[10px] font-bold px-2 py-0.5 rounded-md",children:P.subject}),c.jsx("span",{className:"text-xs text-gray-400",children:P.grade})]}),c.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-2 line-clamp-1 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:P.title}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[c.jsx(wi,{className:"w-3 h-3"}),P.questions.length," "]})]},P.id))})})]})})]})},Z0=[{minLevel:1,title:" ",color:"bg-gray-100 text-gray-600 border-gray-200",icon:sm},{minLevel:5,title:" ",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:_r},{minLevel:10,title:" ",color:"bg-blue-100 text-blue-700 border-blue-200",icon:Ni},{minLevel:15,title:" ",color:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:_i},{minLevel:20,title:" ",color:"bg-purple-100 text-purple-700 border-purple-200",icon:Bm},{minLevel:30,title:" ",color:"bg-amber-100 text-amber-700 border-amber-200",icon:Ei}],jw=[{url:"https://lh3.googleusercontent.com/d/1seg3JDYcNsDBtTY4gU9N5empajSAT_-E",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1QnacjkYXRr-N4yhmt44LubRxbRnzNgqH",minLevel:1},{url:"https://lh3.googleusercontent.com/d/198SBde0OI07puyVx53mi9MpZ7F-iKltI",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1E--pczIn4ZCSWpWYhKZutLX8lfhtmCrp",minLevel:5},{url:"https://lh3.googleusercontent.com/d/1h5uzg3mZaeaozqEkzwItA14xqDq7kbMb",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1qKn7YfQr7VaDPXB8EjUvlCW-qt3v5E0u",minLevel:15}],Cw=[{url:"https://lh3.googleusercontent.com/d/1AqS4xhkK53MwCO-LFRdmtYBQsYSH6vz1",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1h9RlprJi3PeKwNaVulHZMCamtbEp7BcS",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1ufUwP7M3wdxWBW60s2xdpZC6W7jfpXv4",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1WQNhE7g0WBHbBu4e93R8Oy1qFOclP-qs",minLevel:5},{url:"https://lh3.googleusercontent.com/d/1ep_ggXFs0rCkGJ212WkY5DuRbLNkyLyr",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1siamCZMGjbXH6L9bop_dN1UPSSwfyIwc",minLevel:15}],lR=[...jw,...Cw],W0=[{id:"nature_1",url:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",name:" ",minLevel:1},{id:"nature_2",url:"https://lh3.googleusercontent.com/d/1tBjHedpcXQiEjXro--zG3iWDokgrDbgZ",name:" ",minLevel:5},{id:"nature_3",url:"https://lh3.googleusercontent.com/d/1Chp7z63_XfLlt4ZC0MRmKwNsSTlCWwOa",name:" ",minLevel:10},{id:"nature_4",url:"https://lh3.googleusercontent.com/d/12RHK_FCMJt8D24AB3UV7nHxbD50EF4MX",name:" ",minLevel:15},{id:"nature_5",url:"https://lh3.googleusercontent.com/d/1We4c8009ObQB9ZDrpQ8ssUuos4V_4b9w",name:" ",minLevel:20}],oR=({data:a})=>{if(!a||a.length===0)return c.jsx("div",{className:"h-40 flex items-center justify-center text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-800 rounded-xl border border-dashed border-gray-200 dark:border-gray-700",children:"     "});const e=100,n=300,s=100,l=a.map((f,g)=>{const p=g/(a.length-1||1)*n,y=e-f/s*e;return`${p},${y}`}).join(" "),u=`${l} ${n},${e} 0,${e}`;return c.jsxs("div",{className:"w-full h-48 bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-100 dark:border-gray-700 relative overflow-hidden",children:[c.jsxs("svg",{viewBox:`0 0 ${n} ${e}`,className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:[c.jsx("line",{x1:"0",y1:"0",x2:n,y2:"0",stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),c.jsx("line",{x1:"0",y1:e/2,x2:n,y2:e/2,stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),c.jsx("line",{x1:"0",y1:e,x2:n,y2:e,stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"chartGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:"rgba(16, 185, 129, 0.2)"}),c.jsx("stop",{offset:"100%",stopColor:"rgba(16, 185, 129, 0)"})]})}),c.jsx("path",{d:`M0,${e} ${u}`,fill:"url(#chartGradient)"}),c.jsx("polyline",{points:l,fill:"none",stroke:"#10b981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.map((f,g)=>{const p=g/(a.length-1||1)*n,y=e-f/s*e;return c.jsx("circle",{cx:p,cy:y,r:"3.5",fill:"white",stroke:"#10b981",strokeWidth:"2",className:"dark:fill-gray-800"},g)})]}),c.jsx("div",{className:"absolute top-2 right-2 text-[10px] font-bold text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded-full",children:" "})]})},cR=a=>{if(!a)return"";const e=a.toDate?a.toDate():new Date(a.seconds*1e3),n=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getFullYear();let u=e.getHours();const f=e.getMinutes().toString().padStart(2,"0"),g=u>=12?"":"";return u=u%12,u=u||12,`${n}/${s}/${l} ${u}:${f} ${g}`},uR=({onNavigate:a})=>{const{user:e,updateUserProfile:n}=Ls(),[s,l]=re.useState(!1),[u,f]=re.useState(null),g=lR,[p,y]=re.useState(!1),[_,E]=re.useState(!1),[j,V]=re.useState(!1),[G,se]=re.useState("male"),[Z,pe]=re.useState((e==null?void 0:e.avatar)||""),[ne,le]=re.useState((e==null?void 0:e.profileBackground)||W0[0].url),[_e,ce]=re.useState([]),[$,T]=re.useState(!0),[k,S]=re.useState(0),[D,R]=re.useState(1),[M,A]=re.useState(Z0[0]),[Ne,Ye]=re.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",age:(e==null?void 0:e.age)||"",grade:(e==null?void 0:e.grade)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",school:(e==null?void 0:e.school)||""});re.useEffect(()=>{e&&(Ye(F=>({...F,firstName:e.firstName||F.firstName,lastName:e.lastName||F.lastName})),e.avatar&&pe(e.avatar),e.profileBackground&&le(e.profileBackground))},[e]),re.useEffect(()=>{(async()=>{if(e){if(e.role==="teacher"){T(!1);return}try{const fe=ji(Oa(gn,"quiz_results"),zl("userId","==",e.uid)),ke=await Yl(fe),rt=[];let be=0;ke.forEach(Wt=>{const Qt=Wt.data();rt.push({id:Wt.id,...Qt});let $t=10+Qt.percentage*2;Qt.passed&&($t+=50),Qt.percentage===100&&($t+=100),be+=Math.round($t)}),rt.sort((Wt,Qt)=>{var Fn,lr;const $t=((Fn=Wt.createdAt)==null?void 0:Fn.seconds)||0,Tr=((lr=Qt.createdAt)==null?void 0:lr.seconds)||0;return $t-Tr}),ce(rt),S(be);const gt=Math.floor(be/500)+1;R(gt);const Hn=[...Z0].reverse().find(Wt=>gt>=Wt.minLevel)||Z0[0];A(Hn)}catch(fe){console.error("Error fetching progress:",fe)}finally{T(!1)}}})()},[e]);const K=async F=>{F.preventDefault(),l(!0),f(null);try{await n({...Ne}),f("   !"),setTimeout(()=>f(null),3e3)}catch(fe){console.error(fe),alert("   ")}finally{l(!1)}},ie=async()=>{l(!0);try{await n({avatar:Z}),y(!1)}catch(F){console.error(F)}finally{l(!1)}},ye=async()=>{l(!0);try{await n({profileBackground:ne}),E(!1)}catch(F){console.error(F)}finally{l(!1)}},Me=async()=>{l(!0);try{const F=G==="male"?jw[0].url:Cw[0].url;await n({gender:G,genderChanged:!0,avatar:F}),V(!1),f("     "),setTimeout(()=>f(null),3e3)}catch(F){console.error(F),alert("   ")}finally{l(!1)}},Ie=_e.slice(-10).map(F=>F.percentage),I=(D-1)*500,W=Math.min(100,Math.max(0,(k-I)/500*100)),P=F=>F?F.startsWith("http")?{backgroundImage:`url(${F})`,backgroundSize:"cover",backgroundPosition:"center"}:{}:{backgroundImage:`url(${W0[0].url})`,backgroundSize:"cover",backgroundPosition:"center"},Y=F=>!F||F.startsWith("http")?"bg-no-repeat bg-center":F;return(e==null?void 0:e.role)==="teacher"?c.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12 animate-fade-in-up",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700 p-8 md:p-12 text-center",children:[c.jsxs("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-6 relative",children:[c.jsx("div",{className:"absolute inset-0 bg-blue-500 rounded-full blur-xl opacity-20"}),c.jsx("img",{src:e.avatar||"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:e.displayName,className:"w-full h-full object-cover rounded-full border-4 border-white dark:border-gray-700 shadow-lg relative z-10"})]}),c.jsx("h1",{className:"text-3xl md:text-4xl font-black text-gray-900 dark:text-white mb-2",children:e.displayName}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mb-10 text-lg",children:e.email}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[c.jsxs("button",{onClick:()=>a&&a("TEACHER_DASHBOARD"),className:"flex flex-col items-center justify-center gap-4 p-8 rounded-3xl bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-100 dark:border-blue-800 hover:border-blue-500 hover:shadow-xl transition-all group",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-500 text-white rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:c.jsx(mc,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xl font-bold text-gray-900 dark:text-white mb-1",children:" "}),c.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"   "})]})]}),c.jsxs("button",{onClick:()=>a&&a("QUESTION_BANK"),className:"flex flex-col items-center justify-center gap-4 p-8 rounded-3xl bg-emerald-50 dark:bg-emerald-900/20 border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-500 hover:shadow-xl transition-all group",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-500 text-white rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:c.jsx(gc,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xl font-bold text-gray-900 dark:text-white mb-1",children:" "}),c.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"  "})]})]})]})]})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up",children:[j&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-24 bg-black/80 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-sm shadow-2xl border border-gray-200 dark:border-gray-700 p-6",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Kr,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:" "}),c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-xl border border-yellow-200 dark:border-yellow-800 text-sm text-yellow-800 dark:text-yellow-200 flex items-start gap-2 text-right",children:[c.jsx(Av,{className:"w-5 h-5 shrink-0"}),c.jsx("p",{children:":          ."})]})]}),c.jsxs("div",{className:"flex gap-3 mb-6",children:[c.jsx("button",{onClick:()=>se("male"),className:`flex-1 py-3 rounded-xl font-bold border-2 transition-all ${G==="male"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""}),c.jsx("button",{onClick:()=>se("female"),className:`flex-1 py-3 rounded-xl font-bold border-2 transition-all ${G==="female"?"border-pink-500 bg-pink-50 dark:bg-pink-900/20 text-pink-600 dark:text-pink-400":"border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-3 rounded-xl font-bold bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""}),c.jsx("button",{onClick:Me,disabled:s,className:"flex-1 py-3 rounded-xl font-bold bg-emerald-600 text-white hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2",children:s?c.jsx(fn,{className:"w-4 h-4 animate-spin"}):" "})]})]})}),p&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-sm max-h-[85vh] flex flex-col shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden relative",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center shrink-0",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(Kr,{className:"w-5 h-5 text-purple-500"})," "]}),c.jsx("button",{onClick:()=>y(!1),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:c.jsx(ja,{className:"w-5 h-5 text-gray-500"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:c.jsx("div",{className:"grid grid-cols-3 gap-3",children:g.map((F,fe)=>{const ke=D<F.minLevel;return c.jsxs("button",{onClick:()=>!ke&&pe(F.url),disabled:ke,className:`relative aspect-square rounded-xl overflow-hidden border-2 transition-all bg-gray-50 dark:bg-gray-800 ${Z===F.url?"border-emerald-500 shadow-md ring-2 ring-emerald-100 dark:ring-emerald-900/30":"border-transparent hover:border-gray-300 dark:hover:border-gray-600"} ${ke?"opacity-60 grayscale":"hover:scale-105 active:scale-95"}`,children:[c.jsx("img",{src:F.url,alt:`Avatar ${fe}`,className:"w-full h-full object-cover"}),ke&&c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 text-white backdrop-blur-[1px]",children:[c.jsx(Sl,{className:"w-4 h-4 mb-0.5"}),c.jsxs("span",{className:"text-[10px] font-bold",children:[" ",F.minLevel]})]}),!ke&&Z===F.url&&c.jsx("div",{className:"absolute top-1 right-1 bg-emerald-500 text-white rounded-full p-0.5 shadow-sm",children:c.jsx(Na,{className:"w-3 h-3"})})]},fe)})})}),c.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800 shrink-0",children:c.jsxs("button",{onClick:ie,disabled:s,className:"w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:[s?c.jsx(fn,{className:"w-5 h-5 animate-spin"}):c.jsx(yc,{className:"w-5 h-5"})," "]})})]})}),_&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-2xl max-h-[85vh] flex flex-col shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden relative",children:[c.jsxs("div",{className:"p-5 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center shrink-0",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(Sb,{className:"w-6 h-6 text-emerald-500"})," "]}),c.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:c.jsx(ja,{className:"w-6 h-6 text-gray-500"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:W0.map((F,fe)=>{const ke=D<F.minLevel,rt=ne===F.url;return c.jsxs("button",{onClick:()=>!ke&&le(F.url),disabled:ke,className:`relative h-28 rounded-2xl overflow-hidden border-4 transition-all duration-300 group ${rt?"border-emerald-500 scale-[1.02] shadow-md":"border-transparent"} ${ke?"opacity-60 cursor-not-allowed grayscale":"hover:scale-[1.02] cursor-pointer"}`,children:[c.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${F.url})`}}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:ke?c.jsxs("div",{className:"bg-black/60 px-3 py-1.5 rounded-lg backdrop-blur-sm flex items-center gap-1.5",children:[c.jsx(Sl,{className:"w-4 h-4 text-white"}),c.jsxs("span",{className:"text-xs text-white font-bold",children:[" ",F.minLevel]})]}):rt&&c.jsx(Na,{className:"w-8 h-8 text-white drop-shadow-md"})}),c.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-black/80 to-transparent p-2 text-center",children:c.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:F.name})})]},fe)})})}),c.jsxs("div",{className:"p-5 border-t border-gray-100 dark:border-gray-800 shrink-0 flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>E(!1),className:"px-6 py-2.5 rounded-xl font-bold text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:""}),c.jsx("button",{onClick:ye,disabled:s,className:"bg-emerald-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center gap-2",children:s?c.jsx(fn,{className:"w-5 h-5 animate-spin"}):" "})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[c.jsx("div",{className:"lg:col-span-7 lg:order-1 space-y-8",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[3rem] shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700 relative group",children:[c.jsxs("div",{className:`relative w-full h-48 md:h-64 transition-all duration-500 ${Y(e==null?void 0:e.profileBackground)}`,style:P(e==null?void 0:e.profileBackground),children:[c.jsxs("button",{onClick:()=>E(!0),className:"absolute top-4 left-4 bg-black/30 hover:bg-black/50 text-white backdrop-blur-md px-4 py-2 rounded-full text-xs md:text-sm font-bold flex items-center gap-2 transition-all border border-white/20 z-20",children:[c.jsx(Sb,{className:"w-4 h-4"})," "]}),c.jsxs("div",{className:`absolute top-4 right-4 px-4 py-1.5 rounded-full text-xs font-black flex items-center gap-2 backdrop-blur-md shadow-lg border-2 z-10 ${M.color}`,children:[c.jsx(M.icon,{className:"w-4 h-4"}),M.title]}),c.jsx("div",{className:"absolute -bottom-12 md:-bottom-16 right-8 md:right-12 z-20",children:c.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>y(!0),children:[c.jsx("div",{className:"w-28 h-28 md:w-36 md:h-36 rounded-full border-[6px] border-white dark:border-gray-800 shadow-2xl overflow-hidden bg-white dark:bg-gray-700 relative z-10 transition-transform transform group-hover:scale-105 flex items-center justify-center",children:e!=null&&e.avatar?c.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):c.jsx(Kr,{className:"w-16 h-16 text-gray-300 dark:text-gray-500"})}),c.jsx("div",{className:"absolute bottom-1 right-1 bg-emerald-500 text-white p-2 rounded-full border-4 border-white dark:border-gray-800 shadow-sm z-20 hover:bg-emerald-600 transition-colors",children:c.jsx(jk,{className:"w-4 h-4"})})]})})]}),c.jsxs("div",{className:"pt-16 md:pt-20 px-8 pb-8",children:[c.jsxs("div",{className:"flex flex-col items-start",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-1",children:e==null?void 0:e.displayName}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 text-sm font-medium mb-6",children:[c.jsx("span",{children:e==null?void 0:e.email}),c.jsx("span",{className:"text-gray-300",children:""}),c.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold flex items-center gap-1",children:[c.jsx(um,{className:"w-3 h-3"})," ",D]})]})]}),c.jsxs("form",{onSubmit:K,className:"space-y-6 border-t border-gray-100 dark:border-gray-700 pt-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[c.jsx("div",{className:"md:col-span-2",children:c.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2 mb-4",children:[c.jsx(Kr,{className:"w-5 h-5 text-blue-500"})," "]})}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),c.jsx("input",{type:"text",value:Ne.firstName,onChange:F=>Ye({...Ne,firstName:F.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),c.jsx("input",{type:"text",value:Ne.lastName,onChange:F=>Ye({...Ne,lastName:F.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),c.jsxs("div",{className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent font-bold text-gray-900 dark:text-white flex justify-between items-center",children:[c.jsx("span",{children:(e==null?void 0:e.gender)==="male"?"":""}),!(e!=null&&e.genderChanged)&&c.jsx("button",{type:"button",onClick:()=>V(!0),className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-lg hover:bg-blue-200 transition-colors font-bold",children:""}),(e==null?void 0:e.genderChanged)&&c.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-lg border border-gray-200 dark:border-gray-600",children:[c.jsx(Sl,{className:"w-3 h-3"}),""]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),c.jsx("input",{type:"text",value:Ne.phone,onChange:F=>Ye({...Ne,phone:F.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),c.jsx("input",{type:"text",value:Ne.address,onChange:F=>Ye({...Ne,address:F.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsx("div",{className:"md:col-span-2 mt-2",children:c.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2 mb-4",children:[c.jsx(Ul,{className:"w-5 h-5 text-emerald-500"})," "]})}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),c.jsx("input",{type:"text",value:Ne.school,onChange:F=>Ye({...Ne,school:F.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-emerald-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),c.jsxs("select",{value:Ne.grade,onChange:F=>Ye({...Ne,grade:F.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-emerald-500 outline-none font-bold text-gray-900 dark:text-white appearance-none cursor-pointer transition-all",children:[c.jsx("option",{value:"",children:" "}),[5,6,7,8,9,10,11,12].map(F=>c.jsxs("option",{value:F,children:[" ",F]},F)),c.jsx("option",{value:"English Major - QOU",children:"  "})]}),c.jsx("div",{className:"absolute left-4 bottom-4 pointer-events-none text-gray-500",children:c.jsx(fc,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex items-center justify-end pt-4 gap-4",children:[u&&c.jsxs("span",{className:"text-green-600 font-bold text-sm animate-fade-in flex items-center gap-1",children:[c.jsx(Na,{className:"w-4 h-4"})," ",u]}),c.jsxs("button",{type:"submit",disabled:s,className:"bg-gray-900 dark:bg-white text-white dark:text-black px-8 py-3 rounded-xl font-bold hover:opacity-90 transition-opacity flex items-center gap-2",children:[s?c.jsx(fn,{className:"w-5 h-5 animate-spin"}):c.jsx(yc,{className:"w-5 h-5"})," "]})]})]})]})]})}),c.jsxs("div",{className:"lg:col-span-5 lg:order-2 space-y-6 mt-8 lg:mt-0",children:[c.jsxs("div",{className:"bg-gradient-to-br from-indigo-700 via-purple-700 to-fuchsia-700 rounded-[2.5rem] shadow-2xl p-6 text-white relative overflow-hidden border-4 border-white dark:border-gray-800 ring-4 ring-indigo-50 dark:ring-gray-900",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-500 opacity-20 rounded-full translate-y-1/2 -translate-x-1/2 blur-3xl"}),c.jsx("div",{className:"flex items-center justify-between mb-6 relative z-10",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-md opacity-50 rounded-full"}),c.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-300 to-orange-500 rounded-2xl shadow-lg relative border border-white/30",children:c.jsx(M.icon,{className:"w-8 h-8 text-white"})})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-3xl font-black tracking-tight",children:[" ",D]}),c.jsxs("p",{className:"text-indigo-100 text-sm font-medium flex items-center gap-1.5 mt-0.5 bg-black/20 px-3 py-1 rounded-full w-fit",children:[c.jsx(zm,{className:"w-3.5 h-3.5 text-orange-400 fill-orange-400"}),k,"   (XP)"]})]})]})}),c.jsxs("div",{className:"relative mb-8",children:[c.jsxs("div",{className:"flex justify-between text-xs font-bold text-indigo-200 mb-1 px-1",children:[c.jsx("span",{children:M.title}),c.jsxs("span",{children:["  ",D+1]})]}),c.jsx("div",{className:"w-full bg-black/30 h-3.5 rounded-full relative overflow-hidden backdrop-blur-sm border border-white/10",children:c.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 h-full rounded-full transition-all duration-1000 ease-out relative shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${W}%`},children:c.jsx("div",{className:"absolute inset-0 bg-white/30 w-full h-full animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite]"})})})]}),c.jsxs("div",{className:"bg-black/20 rounded-2xl p-5 backdrop-blur-md border border-white/10",children:[c.jsxs("h4",{className:"text-sm font-bold text-indigo-100 mb-2 flex items-center gap-2",children:[c.jsx(Ei,{className:"w-4 h-4 text-yellow-300"})," "]}),c.jsx("div",{className:"text-xl font-black text-white tracking-wide mb-1",children:M.title}),c.jsx("div",{className:"text-xs text-indigo-200",children:"     !"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 max-h-[500px] overflow-hidden flex flex-col",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2 sticky top-0 bg-white dark:bg-gray-800 z-10 pb-2 border-b border-gray-100 dark:border-gray-700",children:[c.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:c.jsx(_b,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),"  "]}),$?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx(fn,{className:"w-6 h-6 animate-spin text-blue-500"})}):_e.length===0?c.jsxs("div",{className:"text-center py-12 text-gray-400 flex flex-col items-center gap-3",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center",children:c.jsx(_b,{className:"w-8 h-8 opacity-50"})}),c.jsx("p",{className:"font-medium",children:"     "})]}):c.jsx("div",{className:"space-y-3 overflow-y-auto pr-2 custom-scrollbar",children:[..._e].reverse().map(F=>c.jsxs("div",{className:"p-4 rounded-2xl border border-gray-100 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-800 hover:bg-blue-50/50 dark:hover:bg-blue-900/20 transition-all group relative overflow-hidden",children:[c.jsx("div",{className:`absolute right-0 top-0 bottom-0 w-1.5 ${F.passed?"bg-emerald-500":"bg-red-500"}`}),c.jsxs("div",{className:"flex justify-between items-start mb-3 pr-3",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-sm md:text-base line-clamp-1 mb-1",children:F.quizTitle}),c.jsxs("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 flex items-center gap-1.5 bg-gray-100 dark:bg-gray-700 w-fit px-2 py-1 rounded-md",children:[c.jsx(vv,{className:"w-3.5 h-3.5 text-gray-400 dark:text-gray-500"}),cR(F.createdAt)]})]}),c.jsx("div",{className:"flex flex-col items-end gap-1",children:F.passed?c.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-100 dark:bg-emerald-900/30 px-2 py-0.5 rounded-full",children:[c.jsx(Na,{className:"w-3 h-3"})," "]}):c.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30 px-2 py-0.5 rounded-full",children:[c.jsx(tm,{className:"w-3 h-3"})," "]})})]}),c.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 dark:text-gray-400 border-t border-dashed border-gray-200 dark:border-gray-600 pt-2 pr-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300 font-medium",children:F.subject}),c.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold bg-emerald-50 dark:bg-emerald-900/20 px-2 py-0.5 rounded-md flex items-center gap-1",children:[c.jsx(Ab,{className:"w-3 h-3"}),F.passed?"+50 XP":"+10 XP"]})]}),c.jsxs("span",{className:`font-black text-lg ${F.percentage>=50?"text-emerald-600 dark:text-emerald-400":"text-red-500 dark:text-red-400"}`,children:[F.percentage,"%"]})]})]},F.id))})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:c.jsx(Ab,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"  "]}),$?c.jsx("div",{className:"h-48 flex items-center justify-center",children:c.jsx(fn,{className:"w-6 h-6 animate-spin text-emerald-500"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsx(oR,{data:Ie}),c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-700",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-300 text-sm font-bold",children:" "}),c.jsxs("span",{className:`font-black text-xl ${Ie.length>0&&Ie.reduce((F,fe)=>F+fe,0)/Ie.length>=90?"text-emerald-600 dark:text-emerald-400":"text-blue-600 dark:text-blue-400"}`,children:[Ie.length>0?Math.round(Ie.reduce((F,fe)=>F+fe,0)/Ie.length):0,"%"]})]})]})]})]})]})]})},dR=[{id:"All",label:" (All)"},{id:"Language",label:"Language ()"},{id:"Reading",label:"Reading ()"},{id:"Writing",label:"Writing ()"},{id:"Vocabulary",label:"Vocabulary ()"},{id:"General",label:"  (General Quiz)"}],J0=({options:a,value:e,onChange:n,placeholder:s,disabled:l})=>{const[u,f]=re.useState(!1),g=re.useRef(null);re.useEffect(()=>{const y=_=>{g.current&&!g.current.contains(_.target)&&f(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const p=a.find(y=>y.value===e&&!y.isHeader);return c.jsxs("div",{className:`relative ${u?"z-50":"z-0"}`,ref:g,children:[c.jsxs("button",{type:"button",onClick:()=>!l&&f(!u),className:`w-full px-5 py-4 rounded-2xl font-bold text-right border-2 flex justify-between items-center outline-none transition-all
            ${l?"bg-gray-100 dark:bg-gray-800 border-gray-100 dark:border-gray-700 text-gray-400 cursor-not-allowed":u?"bg-white dark:bg-gray-800 border-emerald-500 ring-4 ring-emerald-50 dark:ring-emerald-900/20 text-gray-900 dark:text-white shadow-lg":"bg-gray-50 dark:bg-gray-700 border-transparent hover:border-emerald-200 dark:hover:border-emerald-700 text-gray-900 dark:text-white shadow-sm"}
         `,children:[c.jsx("span",{className:`truncate ${p?"":"text-gray-400 dark:text-gray-500"}`,children:p?p.label:s}),c.jsx(fc,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${u?"rotate-180 text-emerald-500":""}`})]}),u&&c.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl shadow-xl max-h-72 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-50",children:[a.map((y,_)=>{if(y.isHeader)return c.jsx("div",{className:"px-4 py-2 text-xs font-black text-gray-400 dark:text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-50/50 dark:bg-gray-700/50 rounded-lg mb-1",children:y.label},_);const E=y.value===e;return c.jsxs("div",{onClick:()=>{n(y.value),f(!1)},className:`px-4 py-3 rounded-xl font-bold text-sm cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${E?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}
                   `,children:[y.label,E&&c.jsx(Cd,{className:"w-4 h-4"})]},_)}),a.length===0&&c.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"   "})]})]})},hR=({onBack:a})=>{const{user:e}=Ls(),[n,s]=re.useState("SELECTION"),[l,u]=re.useState(""),[f,g]=re.useState(""),[p,y]=re.useState("All"),[_,E]=re.useState([]),[j,V]=re.useState(!1),[G,se]=re.useState(null),[Z,pe]=re.useState(0),[ne,le]=re.useState({}),[_e,ce]=re.useState(1800),[$,T]=re.useState(!1),[k,S]=re.useState(0),[D,R]=re.useState({}),[M,A]=re.useState(!1),[Ne,Ye]=re.useState(null),[K,ie]=re.useState(!1),[ye,Me]=re.useState(!1),[Ie,I]=re.useState(!1),[W,P]=re.useState(0),[Y,F]=re.useState(!1),[fe,ke]=re.useState(null);re.useEffect(()=>{window.scrollTo(0,0)},[n]),re.useEffect(()=>{f?rt():E([])},[f]),re.useEffect(()=>{let me;return n==="ACTIVE"&&_e>0&&(me=setInterval(()=>{ce(Ce=>Ce<=1?(Tr(),0):Ce-1)},1e3)),()=>clearInterval(me)},[n,_e]),re.useEffect(()=>{if(n!=="ACTIVE")return;const me=()=>{P(Ve=>{const He=Ve+1;return He===1?Me(!0):He>=2&&(Me(!1),I(!0)),He})},Ce=()=>{document.hidden&&me()},je=Ve=>{(Ve.key==="PrintScreen"||Ve.ctrlKey&&Ve.key==="p"||Ve.metaKey&&Ve.shiftKey)&&(Ve.preventDefault(),me())},ue=Ve=>Ve.preventDefault();return document.addEventListener("visibilitychange",Ce),document.addEventListener("keydown",je),document.addEventListener("contextmenu",ue),document.addEventListener("copy",ue),document.addEventListener("paste",ue),document.addEventListener("cut",ue),document.addEventListener("selectstart",ue),()=>{document.removeEventListener("visibilitychange",Ce),document.removeEventListener("keydown",je),document.removeEventListener("contextmenu",ue),document.removeEventListener("copy",ue),document.removeEventListener("paste",ue),document.removeEventListener("cut",ue),document.removeEventListener("selectstart",ue)}},[n]);const rt=async()=>{V(!0);try{const me=ji(Oa(gn,"quizzes"),zl("grade","==",f)),Ce=await Yl(me),je=[];Ce.forEach(ue=>{je.push({id:ue.id,...ue.data()})}),E(je)}catch(me){console.error("Error fetching quizzes:",me)}finally{V(!1)}},be=Array.from(new Set(_.map(me=>me.subject))),gt=_.filter(me=>{const Ce=l?me.subject===l:!0,je=p&&p!=="All"?me.category===p:!0;return Ce&&je}),Hn=me=>{Ye(me),A(!0)},Wt=()=>{if(!Ne)return;if(!Ne.questions||Ne.questions.length===0){alert("      ");return}const me={};Ne.questions.forEach((Ce,je)=>{if(Ce.type==="REORDER"){const ue=Ce.options.map((Ve,He)=>He);for(let Ve=ue.length-1;Ve>0;Ve--){const He=Math.floor(Math.random()*(Ve+1));[ue[Ve],ue[He]]=[ue[He],ue[Ve]]}me[je]=ue}}),R(me),se(Ne),pe(0),le({}),ce(1800),S(0),P(0),I(!1),A(!1),Ye(null),s("ACTIVE")},Qt=me=>{le(Ce=>({...Ce,[Z]:me}))},$t=()=>{G&&(Z<G.questions.length-1?pe(me=>me+1):Tr())},Tr=async()=>{if(!G||!e){s("RESULT");return}T(!0);const me=lr(),Ce=Math.round(me/G.questions.length*100);let je=10+Ce*2;Ce>=50&&(je+=50),Ce===100&&(je+=100);const ue=Math.round(je);S(ue);try{await sw(Oa(gn,"quiz_results"),{userId:e.uid,userName:e.displayName,quizId:G.id||"unknown",quizTitle:G.title,subject:G.subject,score:me,totalQuestions:G.questions.length,percentage:Ce,passed:Ce>=50,earnedXP:ue,createdAt:Jd()});const Ve=Is(gn,"users",e.uid);await aw(Ve,{totalXP:iv(ue),quizzesCompleted:iv(1),lastQuizDate:Jd(),role:"student",email:e.email,displayName:e.displayName},{merge:!0})}catch(Ve){console.error("Error saving quiz result:",Ve)}finally{T(!1),s("RESULT")}},Fn=me=>{const Ce=Math.floor(me/60),je=me%60;return`${Ce}:${je<10?"0":""}${je}`},lr=()=>{if(!G)return 0;let me=0;return G.questions.forEach((Ce,je)=>{if(Ce.type==="REORDER"){const ue=ne[je];if(ue&&ue.length===Ce.options.length){let Ve=!0;for(let He=0;He<Ce.options.length;He++)if(ue[He]!==He){Ve=!1;break}Ve&&me++}}else ne[je]===Ce.correctAnswer&&me++}),me},Ps=()=>{ie(!0)},wt=()=>{ie(!1),s("SELECTION")},St=()=>{I(!1),s("SELECTION")},Cn=me=>{ke(me),F(!0)},Xl=()=>{F(!1),fe==="REVIEW"?s("REVIEW"):fe==="RETAKE"?Wt():fe==="LIST"?s("SELECTION"):fe==="HOME"&&a(),ke(null)},zs=(me,Ce)=>{const je=ne[Z]||[];Qt(Ce?[...je,me]:je.filter(ue=>ue!==me))},Jt=()=>{const me=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(ue=>({label:` ${ue}`,value:ue.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"   -   ",value:"English Major - QOU"}],Ce=[{label:"  ",value:""},...be.map(ue=>({label:String(ue),value:String(ue)}))],je=dR.map(ue=>({label:ue.label,value:ue.id}));return c.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 animate-fade-in",children:[c.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(156, 163, 175, 0.5);
          border-radius: 20px;
        }
      `}),c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-black text-gray-900 dark:text-white mb-2",children:" "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm md:text-base",children:"       "})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-6",children:[c.jsxs("div",{className:"lg:col-span-7 bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative z-30",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:c.jsx(Ul,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"     "]}),c.jsx(J0,{options:me,value:f,onChange:ue=>{g(ue),u(""),y("All")},placeholder:"--    --"})]}),c.jsxs("div",{className:"lg:col-span-5 bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative z-20",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:c.jsx(_r,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})," "]}),c.jsx(J0,{options:Ce,value:l,onChange:u,placeholder:f?" ":"   ",disabled:!f})]})]}),f&&c.jsx("div",{className:"mb-10 animate-fade-in relative z-10",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[c.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:c.jsx(kv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"  ()"]}),c.jsx(J0,{options:je,value:p,onChange:y,placeholder:"  "})]})}),f&&c.jsxs("div",{className:"space-y-6 animate-fade-in-up relative z-0",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 border-r-4 border-emerald-500 pr-3 flex items-center gap-2",children:[c.jsx(Eb,{className:"w-5 h-5"})," "]}),j?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx(fn,{className:"w-8 h-8 animate-spin text-emerald-600 dark:text-emerald-400"})}):_.length===0?c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300 dark:border-gray-600",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Ni,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"      "})]}):gt.length===0?c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300 dark:border-gray-600",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Ni,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"     "})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:gt.map(ue=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md hover:border-emerald-300 dark:hover:border-emerald-600 transition-all group",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 text-[10px] font-bold px-2 py-1 rounded-md w-fit",children:ue.subject}),ue.category&&c.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-[10px] font-bold px-2 py-1 rounded-md w-fit border border-blue-100 dark:border-blue-800",children:ue.category==="General"?"General Quiz":ue.category})]}),c.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:[ue.questions.length," "]})]}),c.jsx("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2 line-clamp-2",children:ue.title}),c.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400 text-xs mb-5",children:[c.jsx(Dd,{className:"w-3 h-3"}),c.jsx("span",{children:ue.grade==="English Major - QOU"?"  ":` ${ue.grade}`})]}),c.jsxs("button",{onClick:()=>Hn(ue),className:"w-full bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800 py-2.5 rounded-xl font-bold text-sm group-hover:bg-emerald-600 group-hover:text-white transition-all flex items-center justify-center gap-2",children:[" ",c.jsx(Ad,{className:"w-4 h-4"})]})]},ue.id))})]}),M&&c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>A(!1)}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-gray-100 dark:border-gray-800",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(wi,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:"  "}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:["   ",c.jsx("strong",{children:Ne==null?void 0:Ne.title})," "]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:Wt,className:"flex-1 bg-emerald-600 text-white py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-colors",children:" "}),c.jsx("button",{onClick:()=>A(!1),className:"flex-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-2.5 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""})]})]})]})]})},aa=()=>{if(!G||!G.questions||!G.questions[Z])return c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 gap-4",children:[c.jsx("div",{className:"text-red-500 font-bold text-lg",children:"    "}),c.jsx("button",{onClick:()=>s("SELECTION"),className:"text-blue-600 dark:text-blue-400 underline",children:" "})]});const me=G.questions[Z],Ce=me.type==="REORDER";let je=!1;if(Ce){const Ue=ne[Z];je=Ue!==void 0&&Ue.length===me.options.length}else je=ne[Z]!==void 0;const ue=Z===G.questions.length-1,Ve=G.subject.toLowerCase().includes("english")||G.subject.includes("")||G.subject.includes(""),He=Ve?"ltr":"rtl",Ze=Ve?"text-left":"text-right",Ht={sm:"text-sm leading-relaxed",md:"text-base leading-relaxed",lg:"text-xl leading-loose",xl:"text-2xl leading-loose"}[me.passageFontSize||"md"];return c.jsxs("div",{className:"fixed inset-0 z-[9999] bg-gray-50 dark:bg-gray-900 overflow-y-auto select-none",onContextMenu:Ue=>Ue.preventDefault(),style:{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTouchCallout:"none"},children:[Ie&&c.jsx("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center px-4 bg-black/90 backdrop-blur-md",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-8 max-w-sm w-full relative z-20 animate-bounce text-center border-4 border-red-600 shadow-[0_0_50px_rgba(220,38,38,0.5)]",children:[c.jsx("div",{className:"w-24 h-24 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:c.jsx(qk,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),c.jsx("h3",{className:"text-3xl font-black text-red-600 mb-4",children:"   "}),c.jsxs("p",{className:"text-gray-800 dark:text-gray-200 font-bold mb-8 text-lg leading-relaxed",children:["      .",c.jsx("br",{}),c.jsx("span",{className:"text-red-500 block mt-2",children:"     ."})]}),c.jsx("button",{onClick:St,className:"w-full bg-red-600 text-white py-4 rounded-xl font-black text-xl hover:bg-red-700 transition-all shadow-lg transform hover:scale-105",children:""})]})}),ye&&!Ie&&c.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-red-900/80 backdrop-blur-sm"}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-20 animate-bounce text-center border-4 border-red-500 shadow-2xl",children:[c.jsx("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:c.jsx(Av,{className:"w-10 h-10 text-red-600 dark:text-red-400"})}),c.jsx("h3",{className:"text-2xl font-black text-red-600 mb-2",children:" !"}),c.jsxs("p",{className:"text-gray-800 dark:text-gray-200 font-bold mb-4",children:["         .",c.jsx("br",{}),c.jsx("span",{className:"text-red-500 dark:text-red-400 text-sm mt-2 block",children:"       ."})]}),c.jsx("button",{onClick:()=>Me(!1),className:"w-full bg-red-600 text-white py-3 rounded-xl font-bold hover:bg-red-700 transition-colors",children:"  "})]})]}),K&&c.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>ie(!1)}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-gray-100 dark:border-gray-800",children:[c.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Id,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),c.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:" "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:"           ."}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:wt,className:"flex-1 bg-red-600 text-white py-2.5 rounded-xl font-bold hover:bg-red-700 transition-colors",children:" "}),c.jsx("button",{onClick:()=>ie(!1),className:"flex-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-2.5 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50 shadow-sm",children:[c.jsxs("div",{className:"max-w-4xl mx-auto px-3 h-14 flex justify-between items-center",children:[c.jsxs("button",{onClick:Ps,className:"flex items-center gap-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1.5 rounded-lg transition-colors font-bold text-sm",children:[c.jsx(Id,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:""})]}),c.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center",children:c.jsxs("div",{className:`flex items-center gap-2 px-4 py-1 rounded-full font-mono font-bold text-base shadow-inner ${_e<300?"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-200 animate-pulse":"bg-gray-100 dark:bg-gray-700 text-emerald-700 dark:text-emerald-400"}`,children:[c.jsx(_v,{className:"w-4 h-4"}),Fn(_e)]})}),c.jsxs("div",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:[Z+1," / ",G.questions.length]})]}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-1.5",children:c.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-500 ease-out",style:{width:`${(Z+1)/G.questions.length*100}%`}})})]}),c.jsxs("div",{className:"max-w-3xl mx-auto px-3 py-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-fade-in-up",dir:He,children:[c.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/20 border-b border-emerald-100 dark:border-emerald-800 p-4 flex items-center justify-between",children:[c.jsx("h2",{className:"font-black text-gray-800 dark:text-gray-200 text-base md:text-lg",children:G.title}),c.jsx("div",{className:"bg-white dark:bg-gray-700 p-1.5 rounded-lg shadow-sm border border-gray-100 dark:border-gray-600",children:Ce?c.jsx(wv,{className:"w-4 h-4 text-emerald-500"}):c.jsx(Sl,{className:"w-4 h-4 text-gray-400"})})]}),c.jsxs("div",{className:"p-5 md:p-8",children:[me.passageContent&&c.jsxs("div",{className:"mb-8",children:[me.generalInstruction&&c.jsx("div",{className:`text-gray-500 dark:text-gray-400 font-bold mb-3 text-sm bg-gray-100 dark:bg-gray-700/50 px-3 py-2 rounded-lg border-l-4 border-emerald-500 ${Ze}`,children:me.generalInstruction}),c.jsx("div",{className:`bg-blue-50 dark:bg-blue-900/20 p-5 rounded-2xl border border-blue-100 dark:border-blue-800 ${Ze}`,children:c.jsx("div",{className:`text-gray-800 dark:text-gray-200 whitespace-pre-wrap font-medium ${Ht}`,children:me.passageContent})})]}),c.jsx("h3",{className:`text-lg md:text-2xl font-black text-black dark:text-white leading-relaxed mb-8 ${Ze}`,children:me.question}),Ce?c.jsxs("div",{className:"space-y-6",dir:"ltr",children:[c.jsxs("div",{className:"min-h-[100px] p-4 bg-gray-50 dark:bg-gray-700/30 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex flex-wrap gap-2 items-start content-start transition-all",children:[(ne[Z]||[]).map((Ue,ft)=>c.jsx("button",{onClick:()=>zs(Ue,!1),className:"bg-emerald-500 text-white px-4 py-2 rounded-xl font-bold shadow-sm hover:bg-red-500 transition-colors animate-fade-in",children:me.options[Ue]},`ans-${ft}`)),(!ne[Z]||ne[Z].length===0)&&c.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm font-medium italic",children:"      "})]}),c.jsx("div",{className:"flex flex-wrap gap-3 justify-center bg-white dark:bg-gray-800 p-4",children:(D[Z]||[]).filter(Ue=>!(ne[Z]||[]).includes(Ue)).map((Ue,ft)=>c.jsx("button",{onClick:()=>zs(Ue,!0),className:"bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-xl font-bold shadow-sm hover:border-emerald-400 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all transform hover:scale-105 active:scale-95",children:me.options[Ue]},`bank-${ft}`))}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{onClick:()=>Qt([]),className:"text-xs font-bold text-gray-400 hover:text-red-500 flex items-center gap-1",children:[c.jsx(Nv,{className:"w-3 h-3"})," "]})})]}):c.jsx("div",{className:"space-y-3",children:me.options.map((Ue,ft)=>c.jsxs("button",{onClick:()=>Qt(ft),className:`w-full ${Ze} p-4 rounded-xl border-2 transition-all flex items-center justify-between group hover:scale-[1.01] active:scale-[0.99] duration-200 ${ne[Z]===ft?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/30 shadow-md ring-2 ring-emerald-100 dark:ring-emerald-900":"border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-600 shadow-sm"}`,children:[c.jsx("span",{className:`text-base font-bold ${ne[Z]===ft?"text-emerald-900 dark:text-emerald-300":"text-gray-700 dark:text-gray-300"}`,children:Ue}),c.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 ml-2 transition-colors ${ne[Z]===ft?"border-emerald-600 bg-emerald-600":"border-gray-300 dark:border-gray-600 group-hover:border-emerald-400"}`,children:ne[Z]===ft&&c.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]},ft))})]})]}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:$t,disabled:!je||$,className:`w-full sm:w-auto px-8 py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-lg transition-all ${!je||$?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed shadow-none":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-emerald-200 dark:hover:shadow-none active:scale-95"}`,children:$?c.jsxs(c.Fragment,{children:["  ",c.jsx(fn,{className:"w-5 h-5 animate-spin"})]}):c.jsxs(c.Fragment,{children:[ue?" ":" ",He==="rtl"?c.jsx(Ad,{className:"w-5 h-5"}):c.jsx(Yr,{className:"w-5 h-5"})]})})})]})]})},Us=()=>{if(!G)return null;const me=lr(),Ce=G.questions.length,je=Math.round(me/Ce*100);let ue="text-red-500",Ve="from-red-500 to-pink-600",He=tm;je>=90?(ue="text-emerald-500",Ve="from-emerald-400 to-teal-600",He=Ei):je>=75?(ue="text-blue-500",Ve="from-blue-400 to-indigo-600",He=_i):je>=50&&(ue="text-yellow-500",Ve="from-yellow-400 to-orange-500",He=Cd);const Ze=He;return c.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4 animate-fade-in",children:c.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-[2.5rem] shadow-2xl overflow-hidden relative border border-gray-100 dark:border-gray-700",children:[je>=75&&c.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{backgroundImage:"radial-gradient(circle, #34d399 2px, transparent 2.5px)",backgroundSize:"20px 20px"}}),c.jsxs("div",{className:`relative pt-12 pb-16 px-6 text-center bg-gradient-to-br ${Ve}`,children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("div",{className:"w-24 h-24 mx-auto bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center mb-4 shadow-lg ring-4 ring-white/10",children:c.jsx(Ze,{className:"w-12 h-12 text-white"})}),c.jsx("h2",{className:"text-3xl font-black text-white mb-1",children:je>=90?"!":je>=50?"!":" "}),c.jsx("p",{className:"text-white/90 font-medium text-sm mb-6",children:G.title}),c.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-6 py-2 rounded-full border border-white/20 shadow-lg",children:[c.jsx(zm,{className:"w-5 h-5 text-yellow-300 fill-yellow-300 animate-pulse"}),c.jsxs("span",{className:"font-black text-white text-lg",children:["+",k," XP"]})]})]}),c.jsx("div",{className:"absolute -bottom-1 left-0 w-full overflow-hidden leading-[0]",children:c.jsx("svg",{className:"relative block w-[calc(100%+1.3px)] h-[50px]","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:c.jsx("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z",className:"fill-white dark:fill-gray-800"})})})]}),c.jsxs("div",{className:"px-6 pb-8 -mt-6 relative z-10",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 text-center mb-6 transform -translate-y-4",children:[c.jsx("div",{className:"text-sm text-gray-400 font-bold uppercase tracking-wider mb-2",children:" "}),c.jsx("div",{className:"flex justify-center items-baseline gap-1",children:c.jsxs("span",{className:`text-6xl font-black ${ue}`,children:[je,"%"]})}),c.jsxs("div",{className:"text-gray-400 font-medium mt-1 text-sm",children:[me,"     ",Ce]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-2xl border border-emerald-100 dark:border-emerald-800 text-center",children:[c.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-black text-2xl mb-1",children:me}),c.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold",children:" "})]}),c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-2xl border border-red-100 dark:border-red-800 text-center",children:[c.jsx("div",{className:"text-red-500 dark:text-red-400 font-black text-2xl mb-1",children:Ce-me}),c.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold",children:" "})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>Cn("REVIEW"),className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95",children:[c.jsx(rm,{className:"w-5 h-5"})," "]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>Cn("RETAKE"),className:"py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-white font-bold rounded-2xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2 text-sm",children:[c.jsx(Ev,{className:"w-4 h-4"})," "]}),c.jsxs("button",{onClick:()=>Cn("LIST"),className:"py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-white font-bold rounded-2xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2 text-sm",children:[c.jsx(Eb,{className:"w-4 h-4"}),""]})]}),c.jsxs("button",{onClick:()=>Cn("HOME"),className:"w-full py-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 font-bold text-sm transition-colors flex items-center justify-center gap-2",children:[c.jsx(im,{className:"w-4 h-4"})," "]})]})]})]})})},Bs=()=>{if(!G)return null;const me=G.subject.toLowerCase().includes("english")||G.subject.includes("")||G.subject.includes(""),Ce=me?"ltr":"rtl",je=me?"text-left":"text-right";return c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[c.jsx(rm,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})," "]}),c.jsxs("button",{onClick:()=>s("RESULT"),className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white font-medium flex items-center gap-1 text-sm",children:[c.jsx(Yr,{className:"w-4 h-4"})," "]})]}),c.jsx("div",{className:"space-y-6",children:G.questions.map((ue,Ve)=>{const He=ue.type==="REORDER";let Ze=!1,Ht=null;if(He){const ft=ne[Ve];ft?(Ht=ft.map(cn=>ue.options[cn]).join(" "),Ze=ft.length===ue.options.length&&ft.every((cn,or)=>cn===or)):(Ht="  ",Ze=!1)}else{const ft=ne[Ve];Ze=ft===ue.correctAnswer,Ht=ft!==void 0?ue.options[ft]:"  "}const Ue={sm:"text-sm leading-relaxed",md:"text-base leading-relaxed",lg:"text-xl leading-loose",xl:"text-2xl leading-loose"}[ue.passageFontSize||"md"];return c.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-sm border p-5 ${Ze?"border-gray-100 dark:border-gray-700":"border-red-100 dark:border-red-900/50"}`,dir:Ce,children:[ue.passageContent&&c.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-100 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-1 rounded-md",children:c.jsx(Sv,{className:"w-4 h-4 text-blue-600"})}),c.jsx("span",{className:"text-xs font-bold text-gray-500",children:" "})]}),c.jsx("div",{className:`text-gray-600 dark:text-gray-300 whitespace-pre-wrap bg-gray-50 dark:bg-gray-700/30 p-3 rounded-xl ${je} ${Ue}`,children:ue.passageContent})]}),c.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[c.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shrink-0 mt-0.5 ${Ze?"bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"}`,children:Ve+1}),c.jsx("h3",{className:`text-base font-bold text-gray-900 dark:text-white leading-relaxed ${je}`,children:ue.question})]}),He?c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsxs("div",{className:`p-3 rounded-xl border text-sm ${Ze?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-500":"bg-red-50 dark:bg-red-900/20 border-red-500"}`,children:[c.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:":"}),c.jsx("span",{className:"font-bold",children:Ht})]}),!Ze&&c.jsxs("div",{className:"p-3 rounded-xl border bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-sm",children:[c.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:" :"}),c.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:ue.options.join(" ")})]})]}):c.jsx("div",{className:"space-y-2 mb-4",children:ue.options.map((ft,cn)=>{let or="p-3 rounded-xl border flex items-center justify-between text-sm ";const Rn=ne[Ve];return cn===ue.correctAnswer?or+="bg-emerald-50 dark:bg-emerald-900/30 border-emerald-500 text-emerald-900 dark:text-emerald-300 font-bold":cn===Rn&&!Ze?or+="bg-red-50 dark:bg-red-900/30 border-red-500 text-red-900 dark:text-red-300 font-medium opacity-75":or+="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400 opacity-60",c.jsxs("div",{className:or,children:[c.jsx("span",{className:je,children:ft}),cn===ue.correctAnswer&&c.jsx(Cd,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),cn===Rn&&!Ze&&c.jsx(tm,{className:"w-4 h-4 text-red-600 dark:text-red-400"})]},cn)})}),ue.explanation&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 p-3 rounded-xl text-blue-900 dark:text-blue-300 text-sm leading-relaxed flex items-start gap-2",dir:"rtl",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-1 rounded-full mt-0.5 shrink-0",children:c.jsx(_r,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"w-full",children:[c.jsx("span",{className:"font-bold block mb-1 text-right text-xs",children:" :"}),c.jsx("div",{className:je,dir:Ce,children:ue.explanation})]})]})]},ue.id)})})]})};return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 pb-20",children:[n==="SELECTION"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-4 px-4 sticky top-0 z-30",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:[c.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:c.jsx(Yr,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),c.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:" "})]})}),Jt()]}),n==="ACTIVE"&&aa(),n==="RESULT"&&Us(),n==="REVIEW"&&Bs(),Y&&c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>F(!1)}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-gray-100 dark:border-gray-800",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(wi,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:"  "}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:[fe==="REVIEW"&&"   ",fe==="RETAKE"&&"     ",fe==="LIST"&&"    ",fe==="HOME"&&"    "]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:Xl,className:"flex-1 bg-emerald-600 text-white py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-colors",children:""}),c.jsx("button",{onClick:()=>F(!1),className:"flex-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-2.5 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""})]})]})]})]})},fR=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),mR=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),gR=({onBack:a})=>{const e=[{name:".   ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",title:"  ",school:"  ",location:" ",color:"emerald",bio:"         .              .",skills:["  ","  "," ","  "],social:{facebook:"#",whatsapp:"https://wa.me/972568401548",telegram:"https://t.me/yazan1342"}},{name:".   ",image:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",title:"  ",school:"  ",location:" ",color:"blue",bio:"       .                .",skills:[" "," "," ","  "],social:{facebook:"#",whatsapp:"#",telegram:"#"}}];return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-6xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[c.jsx(Yr,{className:"w-6 h-6"})," "]})})}),c.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:"  "}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"       "})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map((n,s)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700 flex flex-col h-full hover:shadow-2xl transition-shadow duration-300",children:[c.jsx("div",{className:`bg-${n.color}-600 h-32 relative`,children:c.jsx("div",{className:"absolute -bottom-12 right-8",children:c.jsx("div",{className:"w-24 h-24 bg-white dark:bg-gray-700 p-1 rounded-2xl shadow-lg transform rotate-3",children:c.jsx("div",{className:`w-full h-full bg-${n.color}-50 dark:bg-${n.color}-900/30 rounded-xl flex items-center justify-center overflow-hidden`,children:c.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})})})})}),c.jsxs("div",{className:"pt-16 pb-8 px-8 flex-1 flex flex-col",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:n.name}),c.jsx("p",{className:`text-${n.color}-600 dark:text-${n.color}-400 font-bold text-lg mb-4`,children:n.title}),c.jsxs("div",{className:"flex flex-col gap-2 text-gray-500 dark:text-gray-400 text-sm mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(bv,{className:"w-4 h-4"}),n.school]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lm,{className:"w-4 h-4"}),n.location]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[c.jsx(Um,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"})," "]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:n.bio})]})]}),c.jsxs("div",{className:"mt-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[c.jsx(_i,{className:`w-5 h-5 text-${n.color}-600 dark:text-${n.color}-400`})," "]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((l,u)=>c.jsx("span",{className:`bg-${n.color}-50 dark:bg-${n.color}-900/20 text-${n.color}-700 dark:text-${n.color}-300 px-3 py-1 rounded-lg text-sm font-medium`,children:l},u))})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-700",children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 text-sm",children:" "}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("a",{href:n.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:c.jsx(am,{className:"w-5 h-5"})}),c.jsx("a",{href:n.social.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 flex items-center justify-center hover:bg-green-600 hover:text-white transition-all",children:c.jsx(fR,{className:"w-5 h-5"})}),c.jsx("a",{href:n.social.telegram,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-sky-50 dark:bg-sky-900/20 text-sky-600 dark:text-sky-400 flex items-center justify-center hover:bg-sky-600 hover:text-white transition-all",children:c.jsx(mR,{className:"w-5 h-5"})})]})]})]})]})]},s))})]})]})},pR=({onBack:a})=>c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[c.jsx(Yr,{className:"w-6 h-6"})," "]})})}),c.jsx("div",{className:"relative bg-emerald-600 dark:bg-emerald-800 py-20 overflow-hidden",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10 text-center",children:[c.jsx("span",{className:"bg-emerald-500/50 dark:bg-emerald-700/50 text-white px-4 py-1 rounded-full text-sm font-medium mb-6 inline-block backdrop-blur-sm",children:"    "}),c.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight",children:["   ",c.jsx("br",{}),"   "]}),c.jsx("p",{className:"text-emerald-100 text-xl max-w-2xl mx-auto leading-relaxed",children:"                    ."})]})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-20",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all",children:[c.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6",children:c.jsx(rm,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),c.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-4",children:""}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg",children:"                   ."})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center mb-6",children:c.jsx(Tv,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-4",children:""}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg",children:"                  ."})]})]}),c.jsxs("div",{className:"mb-20",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:"   "}),c.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:Fk,title:" ",desc:"       ."},{icon:ok,title:" ",desc:"           ."},{icon:DN,title:" ",desc:"         ."},{icon:mT,title:" ",desc:"          ."}].map((e,n)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl border border-gray-100 dark:border-gray-700 text-center hover:border-emerald-300 dark:hover:border-emerald-600 transition-all group",children:[c.jsx("div",{className:"w-14 h-14 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/30 transition-colors",children:c.jsx(e.icon,{className:"w-7 h-7 text-gray-600 dark:text-gray-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-400"})}),c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg mb-2",children:e.title}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed",children:e.desc})]},n))})]})]})]}),yR=({onBack:a})=>c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in flex flex-col transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[c.jsx(Yr,{className:"w-6 h-6"})," "]})})}),c.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-12 rounded-3xl shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700 max-w-md w-full flex flex-col items-center transform hover:scale-105 transition-transform duration-300",children:[c.jsx("div",{className:"w-24 h-24 bg-emerald-50 dark:bg-emerald-900/20 rounded-full flex items-center justify-center mb-6 animate-bounce",children:c.jsx(_v,{className:"w-12 h-12 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-3",children:""}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg font-medium",children:"        "})]})})]}),xR=({onBack:a})=>{const[e,n]=re.useState(""),[s,l]=re.useState(""),[u,f]=re.useState("SELECTION"),[g,p]=re.useState(["handouts"]),[y,_]=re.useState([]),[E,j]=re.useState(!1);re.useEffect(()=>{u==="CONTENT"&&s&&e&&V()},[u,s,e]);const V=async()=>{j(!0);try{const ce=ji(Oa(gn,"study_materials"),zl("grade","==",s),zl("subject","==",e)),$=await Yl(ce),T=[];$.forEach(k=>{T.push({id:k.id,...k.data()})}),T.sort((k,S)=>{var M,A;const D=((M=k.createdAt)==null?void 0:M.seconds)||0;return(((A=S.createdAt)==null?void 0:A.seconds)||0)-D}),_(T)}catch(ce){console.error("Error fetching materials:",ce)}finally{j(!1)}},G=()=>{e&&s&&f("CONTENT")},se=ce=>{p($=>$.includes(ce)?$.filter(T=>T!==ce):[...$,ce])},Z=()=>{const ce=y.filter(k=>k.category==="handouts"),$=y.filter(k=>k.category==="worksheets"),T=y.filter(k=>k.category==="exams");return[{id:"handouts",title:" ",files:ce},{id:"worksheets",title:" ",files:$},{id:"exams",title:" ",files:T}]},pe=ce=>ce?(ce.toDate?ce.toDate():new Date(ce.seconds*1e3)).toLocaleDateString("ar-EG"):"",ne=Z(),le=()=>c.jsxs("div",{className:"w-full animate-fade-in pb-20 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[c.jsxs("div",{className:"relative pt-32 pb-56 px-4 overflow-hidden rounded-b-[3.5rem] shadow-2xl shadow-gray-200 dark:shadow-none mb-20",children:[c.jsxs("div",{className:"absolute inset-0 z-0",children:[c.jsx("img",{src:"https://lh3.googleusercontent.com/d/1gSDH-0a3cWa8m8APr5qXGkKxINXZcSid",alt:"Background",className:"w-full h-full object-cover object-center scale-105"}),c.jsx("div",{className:"absolute inset-0 bg-emerald-900/70 mix-blend-multiply"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/40"})]}),c.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[c.jsx("div",{className:"inline-flex items-center justify-center p-5 bg-white/10 backdrop-blur-md rounded-3xl mb-6 border border-white/20 shadow-inner ring-1 ring-white/30 animate-fade-in-up",children:c.jsx(dd,{className:"w-10 h-10 text-white drop-shadow-md"})}),c.jsx("h2",{className:"text-5xl md:text-7xl font-black text-white mb-6 tracking-tight drop-shadow-2xl animate-fade-in-up delay-100",children:"  "}),c.jsx("p",{className:"text-white/95 text-xl md:text-2xl max-w-3xl mx-auto font-medium leading-relaxed drop-shadow-lg mb-8 animate-fade-in-up delay-200",children:"         PDF.      ."})]})]}),c.jsx("div",{className:"max-w-4xl mx-auto px-6 -mt-40 relative z-20 animate-fade-in-up delay-300",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2.5rem] shadow-2xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 p-8 md:p-12 backdrop-blur-xl",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[c.jsxs("div",{className:"group",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:[c.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/40 transition-colors",children:c.jsx(_r,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})," "]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:e,onChange:ce=>n(ce.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border-2 border-transparent hover:border-emerald-200 dark:hover:border-emerald-700 focus:border-emerald-500 focus:bg-white dark:focus:bg-gray-800 focus:ring-4 focus:ring-emerald-100 dark:focus:ring-emerald-900/30 outline-none transition-all text-lg font-bold text-gray-800 dark:text-gray-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",className:"text-gray-400 dark:text-gray-500",children:" "}),c.jsx("option",{value:"English",children:"  (English)"}),c.jsx("option",{value:"Math",children:""}),c.jsx("option",{value:"Science",children:""})]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:c.jsx(sc,{className:"w-5 h-5 -rotate-90"})})]})]}),c.jsxs("div",{className:"group",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2 group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors",children:[c.jsx("div",{className:"p-2 bg-teal-50 dark:bg-teal-900/20 rounded-lg group-hover:bg-teal-100 dark:group-hover:bg-teal-900/40 transition-colors",children:c.jsx(Ul,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})})," "]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:s,onChange:ce=>l(ce.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border-2 border-transparent hover:border-teal-200 dark:hover:border-teal-700 focus:border-emerald-500 focus:bg-white dark:focus:bg-gray-800 focus:ring-4 focus:ring-emerald-100 dark:focus:ring-emerald-900/30 outline-none transition-all text-lg font-bold text-gray-800 dark:text-gray-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",className:"text-gray-400 dark:text-gray-500",children:" "}),c.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(ce=>c.jsxs("option",{value:ce.toString(),children:[" ",ce]},ce))}),c.jsx("optgroup",{label:" ",children:c.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:c.jsx(sc,{className:"w-5 h-5 -rotate-90"})})]})]})]}),c.jsxs("button",{onClick:G,disabled:!e||!s,className:`w-full py-5 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all shadow-lg ${!e||!s?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed shadow-none":"bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 hover:shadow-emerald-300 dark:hover:shadow-emerald-900/50 hover:-translate-y-1"}`,children:[c.jsx(Ni,{className:"w-6 h-6"})," "]})]})})]}),_e=()=>c.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8 animate-fade-in-up min-h-screen",children:[c.jsxs("div",{className:"text-center mb-8 bg-white dark:bg-gray-800 p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-teal-500"}),c.jsx("div",{className:"w-16 h-16 bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.jsx(Rd,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsxs("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2",children:[" ",e]}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-sm md:text-base",children:["        ",c.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:s==="English Major - QOU"?"  ":s})]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("button",{onClick:()=>f("SELECTION"),className:"flex items-center gap-2 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 px-5 py-3 rounded-xl font-bold shadow-sm border border-gray-200 dark:border-gray-700 hover:border-emerald-300 dark:hover:border-emerald-600 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all hover:-translate-y-0.5",children:[c.jsx(Yr,{className:"w-5 h-5"})," "]}),c.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs font-bold text-gray-400 bg-gray-50 dark:bg-gray-800 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-700",children:[c.jsx(dd,{className:"w-3.5 h-3.5"}),ne.reduce((ce,$)=>ce+$.files.length,0)," "]})]}),E?c.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[c.jsx(fn,{className:"w-10 h-10 animate-spin text-emerald-600 dark:text-emerald-400"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold",children:"  ..."})]}):c.jsx("div",{className:"space-y-4",children:ne.map(ce=>{const $=g.includes(ce.id);return c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[c.jsxs("button",{onClick:()=>se(ce.id),className:`w-full flex items-center justify-between p-5 transition-colors ${$?"bg-gray-50/50 dark:bg-gray-700/30":"hover:bg-gray-50 dark:hover:bg-gray-700/30"}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-2.5 rounded-xl ${$?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:c.jsx(dd,{className:"w-6 h-6"})}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"font-bold text-base text-gray-900 dark:text-white block",children:ce.title}),c.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:[ce.files.length," "]})]})]}),c.jsx("div",{className:`transition-transform duration-300 ${$?"rotate-180":""}`,children:c.jsx(fc,{className:"w-5 h-5 text-gray-400"})})]}),$&&c.jsx("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700",children:ce.files.length===0?c.jsxs("div",{className:"p-8 text-center flex flex-col items-center justify-center text-gray-400",children:[c.jsx(dd,{className:"w-10 h-10 mb-2 opacity-20"}),c.jsx("p",{className:"text-sm font-medium",children:"       "})]}):c.jsx("div",{className:"divide-y divide-gray-50 dark:divide-gray-700/50",children:ce.files.map((T,k)=>c.jsxs("div",{onClick:()=>T.url&&window.open(T.url,"_blank"),className:"flex items-center justify-between p-4 hover:bg-emerald-50 dark:hover:bg-emerald-900/10 transition-colors group cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-50 dark:bg-red-900/20 flex items-center justify-center shrink-0 text-red-500",children:c.jsx(Rd,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[c.jsx("span",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 group-hover:text-emerald-700 dark:group-hover:text-emerald-300 transition-colors whitespace-normal break-words",children:T.title}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-0.5",children:[c.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:T.size}),c.jsx("span",{children:""}),c.jsx("span",{children:pe(T.createdAt)})]})]})]}),c.jsx("button",{className:"p-2.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-400 group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/30 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-all shrink-0 ml-3",children:c.jsx(nm,{className:"w-5 h-5"})})]},k))})})]},ce.id)})}),c.jsxs("div",{className:"mt-8 flex items-center gap-3 justify-center text-xs text-gray-400 bg-gray-50 dark:bg-gray-800 p-4 rounded-2xl border border-dashed border-gray-200 dark:border-gray-700",children:[c.jsx(jd,{className:"w-4 h-4 text-emerald-500 shrink-0"}),c.jsx("span",{children:"      PDF  "})]})]});return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 transition-colors duration-300",children:[c.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-emerald-100 dark:border-gray-700 py-4 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-emerald-50 dark:hover:bg-gray-700 rounded-full transition-colors group flex items-center gap-2",children:[c.jsx(Yr,{className:"w-6 h-6 text-gray-500 dark:text-gray-400 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors"}),c.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors hidden sm:inline",children:""})]})})}),u==="SELECTION"?le():_e()]})},bR=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),vR=({className:a})=>c.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),_R=({onBack:a})=>{const e=n=>{let s="";switch(n){case"message":s="       .";break;case"question":s="       ...";break;case"review":s="      .";break;case"inquiry":s="    .";break;default:s="  ."}const l=`https://wa.me/972568401548?text=${encodeURIComponent(s)}`;window.open(l,"_blank")};return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in pb-20 transition-colors duration-300",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-emerald-100 dark:border-emerald-900 py-6 px-4 sticky top-0 z-30 shadow-sm",children:c.jsx("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:c.jsxs("button",{onClick:a,className:"p-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold group",children:[c.jsx(Yr,{className:"w-6 h-6 group-hover:text-emerald-600 dark:group-hover:text-emerald-400"})," "]})})}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:"  "}),c.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),c.jsx("p",{className:"mt-6 text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"     .         ."})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-emerald-100 dark:border-gray-700 overflow-hidden transform hover:shadow-2xl transition-all duration-300",children:[c.jsxs("div",{className:"bg-emerald-600 dark:bg-emerald-800 p-8 text-white text-center relative overflow-hidden",children:[c.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white/10 backdrop-blur-sm rounded-2xl mb-4 border border-white/20",children:c.jsx(pc,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-3xl font-black mb-2 relative z-10",children:"   "}),c.jsx("p",{className:"text-emerald-100 opacity-90 relative z-10 font-medium text-lg",children:"      "})]}),c.jsxs("div",{className:"p-8 md:p-12",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-12",children:[c.jsxs("button",{onClick:()=>e("message"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-all group border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-200 dark:hover:border-emerald-700 hover:-translate-y-2 duration-300",children:[c.jsx("div",{className:"w-16 h-16 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900",children:c.jsx(pc,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg block mb-1",children:" "}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"  "})]})]}),c.jsxs("button",{onClick:()=>e("question"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-all group border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-200 dark:hover:border-emerald-700 hover:-translate-y-2 duration-300",children:[c.jsx("div",{className:"w-16 h-16 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900",children:c.jsx(wi,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg block mb-1",children:" "}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"   "})]})]}),c.jsxs("button",{onClick:()=>e("review"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-all group border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-200 dark:hover:border-emerald-700 hover:-translate-y-2 duration-300",children:[c.jsx("div",{className:"w-16 h-16 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900",children:c.jsx(ek,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg block mb-1",children:" "}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"   "})]})]}),c.jsxs("button",{onClick:()=>e("inquiry"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-all group border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-200 dark:hover:border-emerald-700 hover:-translate-y-2 duration-300",children:[c.jsx("div",{className:"w-16 h-16 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-900",children:c.jsx(Dd,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg block mb-1",children:" "}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"   "})]})]})]}),c.jsxs("div",{className:"border-t-2 border-gray-100 dark:border-gray-700 pt-10",children:[c.jsx("h4",{className:"text-center text-gray-500 dark:text-gray-400 font-bold mb-6 uppercase tracking-wide text-sm",children:" "}),c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 bg-gradient-to-br from-gray-50 to-white dark:from-gray-800 dark:to-gray-900 p-8 rounded-3xl border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"relative shrink-0 group cursor-pointer",children:[c.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-full blur-lg opacity-20 group-hover:opacity-40 transition-opacity"}),c.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-28 h-28 rounded-full object-cover border-4 border-white dark:border-gray-700 shadow-lg relative z-10"}),c.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-emerald-500 border-4 border-white dark:border-gray-700 rounded-full z-20"})]}),c.jsxs("div",{className:"text-center md:text-right flex-1",children:[c.jsx("h4",{className:"font-black text-2xl text-gray-900 dark:text-white mb-2",children:".   "}),c.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 font-bold text-base mb-6 flex items-center justify-center md:justify-start gap-2 bg-emerald-50 dark:bg-emerald-900/30 w-fit mx-auto md:mx-0 px-4 py-1 rounded-full",children:[c.jsx(Ul,{className:"w-5 h-5"}),"    "]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4",children:[c.jsxs("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#25D366] text-white px-6 py-3 rounded-xl font-bold text-sm hover:shadow-lg hover:scale-105 transition-all shadow-green-200 dark:shadow-none",children:[c.jsx(bR,{className:"w-5 h-5"}),"  "]}),c.jsxs("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#0088cc] text-white px-6 py-3 rounded-xl font-bold text-sm hover:shadow-lg hover:scale-105 transition-all shadow-sky-200 dark:shadow-none",children:[c.jsx(vR,{className:"w-5 h-5"}),"  "]})]})]})]})]})]})]})]})]})},em=[{minLevel:1,title:" ",icon:sm,bgGradient:"bg-gradient-to-br from-slate-50 to-slate-200 dark:from-slate-800 dark:to-slate-900",borderColor:"border-slate-300 dark:border-slate-700",textColor:"text-slate-800 dark:text-slate-200",iconBox:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300",watermark:sm},{minLevel:5,title:" ",icon:_r,bgGradient:"bg-gradient-to-br from-emerald-50 to-teal-100 dark:from-emerald-900/40 dark:to-teal-900/40",borderColor:"border-emerald-300 dark:border-emerald-700",textColor:"text-emerald-900 dark:text-emerald-100",iconBox:"bg-emerald-200 dark:bg-emerald-800 text-emerald-700 dark:text-emerald-300",watermark:_r},{minLevel:10,title:"",icon:Ni,bgGradient:"bg-gradient-to-br from-sky-50 to-blue-200 dark:from-sky-900/40 dark:to-blue-900/40",borderColor:"border-blue-300 dark:border-blue-700",textColor:"text-blue-900 dark:text-blue-100",iconBox:"bg-blue-200 dark:bg-blue-800 text-blue-700 dark:text-blue-300",watermark:Vk},{minLevel:15,title:" ",icon:_i,bgGradient:"bg-gradient-to-br from-violet-100 to-purple-200 dark:from-violet-900/40 dark:to-purple-900/40",borderColor:"border-purple-300 dark:border-purple-700",textColor:"text-purple-900 dark:text-purple-100",iconBox:"bg-purple-200 dark:bg-purple-800 text-purple-700 dark:text-purple-300",watermark:Qk},{minLevel:20,title:"",icon:Bm,bgGradient:"bg-gradient-to-br from-fuchsia-100 to-rose-200 dark:from-fuchsia-900/40 dark:to-rose-900/40",borderColor:"border-rose-300 dark:border-rose-700",textColor:"text-rose-900 dark:text-rose-100",iconBox:"bg-rose-200 dark:bg-rose-800 text-rose-700 dark:text-rose-300",watermark:ik},{minLevel:30,title:"",icon:Ei,bgGradient:"bg-gradient-to-br from-amber-100 via-yellow-200 to-amber-400 dark:from-amber-800 dark:via-yellow-700 dark:to-orange-900",borderColor:"border-yellow-500 dark:border-yellow-600",textColor:"text-amber-900 dark:text-amber-100",iconBox:"bg-gradient-to-r from-amber-400 to-yellow-600 text-white shadow-md",watermark:Ei}],wR=({onLoginClick:a})=>{const[e,n]=re.useState([]),[s,l]=re.useState(!0),{user:u}=Ls(),[f,g]=re.useState(null),[p,y]=re.useState(null),[_,E]=re.useState(!1);re.useEffect(()=>{const ne=ji(Oa(gn,"users"),zl("role","==","student")),le=C6(ne,_e=>{const ce=[];_e.forEach($=>{const T=$.data();ce.push({uid:$.id,...T})}),ce.sort(($,T)=>(Number(T.totalXP)||0)-(Number($.totalXP)||0)),n(ce.slice(0,10)),l(!1)},_e=>{console.error("Error fetching leaderboard:",_e),l(!1)});return()=>le()},[]);const j=async ne=>{g(ne),E(!0),y(null);try{const le=ji(Oa(gn,"quiz_results"),zl("userId","==",ne.uid)),_e=await Yl(le);let ce=0,$=0;_e.forEach(k=>{const S=k.data();S.percentage!==void 0&&(ce+=S.percentage,$++)});const T=$>0?Math.round(ce/$):0;y({average:T,totalQuizzes:$})}catch(le){console.error("Error fetching student stats",le)}finally{E(!1)}},V=ne=>{switch(ne){case 0:return"bg-gradient-to-br from-yellow-300 to-amber-500 border-amber-400 text-white shadow-sm shadow-amber-200 dark:shadow-none ring-2 ring-yellow-100 dark:ring-yellow-900";case 1:return"bg-gradient-to-br from-slate-300 to-slate-400 border-slate-400 text-white shadow-sm shadow-slate-200 dark:shadow-none ring-2 ring-slate-100 dark:ring-slate-700";case 2:return"bg-gradient-to-br from-orange-300 to-orange-500 border-orange-400 text-white shadow-sm shadow-orange-200 dark:shadow-none ring-2 ring-orange-100 dark:ring-orange-900";default:return"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 text-gray-500 dark:text-gray-400 shadow-sm"}},G=ne=>{switch(ne){case 0:return c.jsx(Ei,{className:"w-3 h-3 text-white fill-white animate-pulse"});case 1:return c.jsx(Tb,{className:"w-3 h-3 text-white fill-white/20"});case 2:return c.jsx(Tb,{className:"w-3 h-3 text-white fill-white/20"});default:return c.jsxs("span",{className:"font-bold text-[10px]",children:["#",ne+1]})}},se=ne=>{const le=Math.floor(ne/500)+1,_e=[...em].reverse().find(ce=>le>=ce.minLevel)||em[0];return{level:le,rank:_e}},Z=e.reduce((ne,le)=>ne+(le.totalXP||0),0),pe=e.reduce((ne,le)=>ne+(le.quizzesCompleted||0),0);return c.jsxs("section",{className:"py-12 md:py-16 bg-gradient-to-b from-indigo-50/50 to-white dark:from-gray-900 dark:to-gray-800 border-t border-gray-100 dark:border-gray-800 relative overflow-hidden transition-colors duration-300",children:[c.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-purple-200 dark:bg-purple-900 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),c.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 bg-indigo-200 dark:bg-indigo-900 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),f&&c.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>g(null)}),c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] w-full max-w-md relative shadow-2xl animate-fade-in-up overflow-hidden border border-white/20",children:[c.jsx("button",{onClick:()=>g(null),className:"absolute top-4 right-4 p-2 bg-black/10 hover:bg-black/20 dark:bg-white/10 dark:hover:bg-white/20 rounded-full text-white z-20 transition-colors backdrop-blur-sm",children:c.jsx(ja,{className:"w-5 h-5"})}),c.jsx("div",{className:"h-32 bg-gradient-to-r from-indigo-600 to-purple-600 relative",children:c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"})}),c.jsxs("div",{className:"px-8 pb-8 -mt-16 relative z-10 text-center",children:[c.jsx("div",{className:"w-32 h-32 mx-auto rounded-full p-1.5 bg-white dark:bg-gray-900 shadow-xl mb-4",children:c.jsx("div",{className:"w-full h-full rounded-full overflow-hidden border-4 border-indigo-100 dark:border-indigo-900/50",children:f.avatar?c.jsx("img",{src:f.avatar,alt:f.displayName,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:c.jsx(Kr,{className:"w-12 h-12 text-gray-400"})})})}),c.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white mb-1",children:f.displayName}),c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-sm flex items-center justify-center gap-1 mb-6",children:[c.jsx(Dd,{className:"w-4 h-4"}),f.school||" "]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[c.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-2xl border border-indigo-100 dark:border-indigo-800",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[yv.createElement(se(f.totalXP||0).rank.icon,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),c.jsx("span",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 uppercase",children:""})]}),c.jsx("div",{className:"font-black text-gray-900 dark:text-white text-sm",children:se(f.totalXP||0).rank.title}),c.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[" ",se(f.totalXP||0).level]})]}),c.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-2xl border border-emerald-100 dark:border-emerald-800",children:_?c.jsx("div",{className:"flex justify-center py-2",children:c.jsx(fn,{className:"w-5 h-5 animate-spin text-emerald-600"})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx(Um,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400 fill-emerald-600 dark:fill-emerald-400"}),c.jsx("span",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase",children:" "})]}),c.jsxs("div",{className:"font-black text-gray-900 dark:text-white text-xl",children:[(p==null?void 0:p.average)||0,"%"]}),c.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[(p==null?void 0:p.totalQuizzes)||0," "]})]})})]}),c.jsxs("div",{className:"bg-yellow-50/50 dark:bg-yellow-900/10 border-2 border-yellow-100 dark:border-yellow-900/30 border-dashed rounded-xl p-5 relative",children:[c.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 px-3 py-1 rounded-full text-[10px] font-bold shadow-sm flex items-center gap-1",children:[c.jsx(_i,{className:"w-3 h-3"})," "]}),c.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed font-medium mt-2 mb-6",children:["     / ",c.jsx("span",{className:"font-bold text-gray-900 dark:text-white underline decoration-yellow-400",children:f.displayName}),"      /   ."]}),c.jsxs("div",{className:"flex justify-around items-center pt-4 border-t border-yellow-200/50 dark:border-yellow-800/30",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-[10px] text-gray-400 mb-1 font-medium",children:" "}),c.jsx("div",{className:"font-serif font-bold text-gray-900 dark:text-white text-sm italic",children:".   "})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-[10px] text-gray-400 mb-1 font-medium",children:" "}),c.jsx("div",{className:"font-serif font-bold text-gray-900 dark:text-white text-sm italic",children:".   "})]})]})]})]})]})]}),c.jsxs("div",{className:"max-w-6xl mx-auto px-4 relative z-10 mb-20",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white dark:bg-gray-800 rounded-2xl shadow-lg shadow-indigo-100 dark:shadow-none border border-indigo-50 dark:border-indigo-900 mb-4 transform -rotate-3 hover:rotate-0 transition-transform duration-300",children:c.jsx(um,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),c.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 dark:text-white mb-2 tracking-tight",children:" "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm md:text-base font-medium",children:"      "})]}),c.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-3xl border border-white dark:border-gray-700 shadow-2xl shadow-indigo-100/50 dark:shadow-none p-4 md:p-6 relative",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-20"}),s?c.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-indigo-200 dark:bg-indigo-900 rounded-full blur-xl opacity-50 animate-pulse"}),c.jsx(fn,{className:"w-10 h-10 animate-spin text-indigo-600 dark:text-indigo-400 relative z-10"})]}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold mt-4 text-sm animate-pulse",children:"  ..."})]}):e.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white dark:border-gray-600 shadow-lg",children:c.jsx(_i,{className:"w-8 h-8 text-gray-300 dark:text-gray-500"})}),c.jsx("h3",{className:"text-xl font-black text-gray-700 dark:text-gray-300 mb-2",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mb-6 text-sm",children:"       !"}),!u&&c.jsxs("button",{onClick:a,className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all hover:shadow-lg hover:shadow-indigo-200 dark:shadow-none transform hover:-translate-y-1",children:[c.jsx(Kk,{className:"w-4 h-4"}),"  "]})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center px-4 py-2 text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider border-b border-gray-100 dark:border-gray-700 mb-2",children:[c.jsx("span",{children:""}),c.jsx("span",{className:"ml-auto mr-16",children:" "}),c.jsx("span",{children:""})]}),e.map((ne,le)=>c.jsxs("div",{onClick:()=>j(ne),className:`flex items-center justify-between p-4 rounded-2xl transition-all duration-300 cursor-pointer group ${(u==null?void 0:u.uid)===ne.uid?"bg-gradient-to-r from-indigo-50 to-white dark:from-indigo-900/30 dark:to-gray-800 border border-indigo-200 dark:border-indigo-800 shadow-md z-10 relative transform scale-[1.02]":"bg-white dark:bg-gray-700/50 hover:bg-gray-50 dark:hover:bg-gray-700 border border-transparent hover:border-gray-100 dark:hover:border-gray-600 hover:scale-[1.01]"}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center shrink-0 shadow-sm ${V(le)}`,children:G(le)}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden border-2 border-white dark:border-gray-600 shadow-sm bg-gray-100 dark:bg-gray-700 flex items-center justify-center group-hover:border-indigo-200 dark:group-hover:border-indigo-700 transition-colors",children:ne.avatar?c.jsx("img",{src:ne.avatar,alt:ne.displayName,className:"w-full h-full object-cover"}):c.jsx(Kr,{className:"w-6 h-6 text-gray-400"})}),le===0&&c.jsx("div",{className:"absolute -top-2 -right-1 text-yellow-500 drop-shadow-sm",children:c.jsx(Ei,{className:"w-5 h-5 fill-yellow-500"})})]})]}),c.jsxs("div",{className:"flex flex-col items-center text-center flex-1 px-2 min-w-0",children:[c.jsx("span",{className:`font-bold text-lg truncate w-full group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors ${(u==null?void 0:u.uid)===ne.uid?"text-indigo-700 dark:text-indigo-300":"text-gray-900 dark:text-white"}`,children:ne.displayName}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mt-1 w-full justify-center",children:[c.jsx(Dd,{className:"w-3 h-3 shrink-0"}),c.jsx("span",{className:"truncate max-w-[120px]",children:ne.school||" "})]})]}),c.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-600 px-2 py-1 rounded-lg border border-gray-100 dark:border-gray-500 shrink-0 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900/30 group-hover:border-indigo-100 dark:group-hover:border-indigo-800 transition-all",children:[c.jsx("span",{className:"font-black text-gray-900 dark:text-white text-xs",children:ne.totalXP||0}),c.jsx(zm,{className:`w-3 h-3 ${le<3?"text-orange-500 fill-orange-500":"text-gray-300 dark:text-gray-400"}`})]})]},ne.uid))]})]})]}),c.jsx("div",{className:"max-w-6xl mx-auto px-4 mb-20 relative z-10 pt-4",children:c.jsxs("div",{className:"relative overflow-hidden rounded-[2.5rem] bg-gray-900 shadow-2xl border border-gray-800 group",children:[c.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 bg-indigo-600 rounded-full blur-3xl opacity-20 group-hover:opacity-30 transition-opacity duration-700"}),c.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-96 h-96 bg-emerald-600 rounded-full blur-3xl opacity-20 group-hover:opacity-30 transition-opacity duration-700"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20 mix-blend-overlay"}),c.jsx("div",{className:"relative z-10 p-8 md:p-12",children:c.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-10",children:[c.jsxs("div",{className:"text-center lg:text-right max-w-lg",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/20 text-emerald-300 text-sm font-bold mb-6 backdrop-blur-md shadow-lg animate-pulse",children:[c.jsx(kN,{className:"w-4 h-4"}),c.jsx("span",{children:" "})]}),c.jsxs("h2",{className:"text-3xl md:text-5xl font-black text-white mb-6 leading-tight",children:[" ",c.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400",children:""}),"  !"]}),c.jsx("p",{className:"text-slate-300 text-lg leading-relaxed font-medium",children:"             .      ."})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full lg:w-auto",children:[c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 p-6 rounded-3xl text-center hover:bg-white/10 transition-all transform hover:-translate-y-1 shadow-lg",children:[c.jsx("div",{className:"inline-flex p-3 bg-indigo-500/20 rounded-2xl mb-3 text-indigo-400",children:c.jsx(Bm,{className:"w-6 h-6"})}),c.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:Z.toLocaleString()}),c.jsx("div",{className:"text-[10px] md:text-xs font-bold text-indigo-200 uppercase tracking-wider",children:" XP "})]}),c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 p-6 rounded-3xl text-center hover:bg-white/10 transition-all transform hover:-translate-y-1 shadow-lg",children:[c.jsx("div",{className:"inline-flex p-3 bg-emerald-500/20 rounded-2xl mb-3 text-emerald-400",children:c.jsx(Na,{className:"w-6 h-6"})}),c.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:pe.toLocaleString()}),c.jsx("div",{className:"text-[10px] md:text-xs font-bold text-emerald-200 uppercase tracking-wider",children:" "})]}),c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 p-6 rounded-3xl text-center hover:bg-white/10 transition-all transform hover:-translate-y-1 shadow-lg",children:[c.jsx("div",{className:"inline-flex p-3 bg-amber-500/20 rounded-2xl mb-3 text-amber-400",children:c.jsx(um,{className:"w-6 h-6"})}),c.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:e.length}),c.jsx("div",{className:"text-[10px] md:text-xs font-bold text-amber-200 uppercase tracking-wider",children:" "})]}),c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 p-6 rounded-3xl text-center hover:bg-white/10 transition-all transform hover:-translate-y-1 shadow-lg",children:[c.jsx("div",{className:"inline-flex p-3 bg-rose-500/20 rounded-2xl mb-3 text-rose-400",children:c.jsx(rT,{className:"w-6 h-6"})}),c.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:"24/7"}),c.jsx("div",{className:"text-[10px] md:text-xs font-bold text-rose-200 uppercase tracking-wider",children:" "})]})]})]})})]})}),c.jsxs("div",{className:"max-w-6xl mx-auto px-4 mt-16 relative z-10",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center p-2.5 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-indigo-50 dark:border-indigo-900 mb-3 transform hover:scale-110 transition-transform",children:c.jsx(Tv,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),c.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-xl mx-auto text-sm leading-relaxed",children:"         !"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 lg:gap-4",children:em.map((ne,le)=>c.jsxs("div",{className:`relative rounded-xl p-4 border shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all group overflow-hidden ${ne.bgGradient} ${ne.borderColor} flex flex-col items-center text-center h-full`,children:[c.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-10 rotate-12 transform scale-150 transition-transform duration-700 group-hover:scale-[1.8] group-hover:rotate-6 pointer-events-none",children:c.jsx(ne.watermark,{className:`w-24 h-24 ${ne.textColor}`})}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full",children:[c.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shadow-inner mb-3 ${ne.iconBox}`,children:c.jsx(ne.icon,{className:"w-5 h-5"})}),c.jsx("h3",{className:`text-sm font-black mb-1 leading-tight ${ne.textColor}`,children:ne.title}),c.jsxs("div",{className:`text-[10px] font-bold py-1 px-2 rounded-md bg-white/40 dark:bg-black/20 backdrop-blur-sm mt-auto ${ne.textColor}`,children:[" ",ne.minLevel]})]}),le===5&&c.jsx("div",{className:"absolute top-0 -left-[100%] w-full h-full bg-gradient-to-r from-transparent via-white/40 to-transparent skew-x-12 group-hover:animate-[shimmer_1.5s_infinite]"})]},le))})]})]})},ER=({onBack:a})=>{const[e,n]=re.useState([]),[s,l]=re.useState(!0),[u,f]=re.useState(""),[g,p]=re.useState(null),[y,_]=re.useState(!1);re.useEffect(()=>{E()},[]);const E=async()=>{l(!0);try{const $=ji(Oa(gn,"quizzes"),tw("createdAt","desc")),k=(await Yl($)).docs.map(S=>({id:S.id,...S.data()}));n(k)}catch($){console.error("Error fetching quizzes:",$)}finally{l(!1)}},j=$=>{p({category:"Language",...$})},V=async($,T)=>{if($.stopPropagation(),!T){alert(":   ");return}if(window.confirm("  "))try{await j6(Is(gn,"quizzes",T)),n(k=>k.filter(S=>S.id!==T))}catch(k){console.error("Error deleting quiz:",k),alert("   : "+k.message)}},G=($,T)=>{g&&p({...g,[$]:T})},se=($,T,k)=>{if(!g)return;const S=[...g.questions];S[$]={...S[$],[T]:k},p({...g,questions:S})},Z=($,T,k)=>{if(!g)return;const S=[...g.questions],D=[...S[$].options];D[T]=k,S[$]={...S[$],options:D},p({...g,questions:S})},pe=$=>{if(g&&window.confirm("      ")){const T=g.questions.filter((k,S)=>S!==$);p({...g,questions:T})}},ne=async()=>{if(!(!g||!g.id)){if(g.questions.length===0){alert("     !");return}_(!0);try{const $=Is(gn,"quizzes",g.id);await Vg($,{title:g.title,subject:g.subject,grade:g.grade,category:g.category,questions:g.questions}),n(T=>T.map(k=>k.id===g.id?g:k)),p(null),alert("   ")}catch($){console.error("Error updating quiz:",$),alert("   ")}finally{_(!1)}}},le=e.filter($=>$.title.toLowerCase().includes(u.toLowerCase())||$.teacherName&&$.teacherName.toLowerCase().includes(u.toLowerCase())),_e=$=>$?($.toDate?$.toDate():new Date($.seconds*1e3)).toLocaleDateString("ar-EG"):"",ce="w-full p-3 rounded-xl border-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 outline-none font-bold text-black dark:text-white bg-white dark:bg-gray-700 shadow-sm transition-colors placeholder-gray-500 dark:placeholder-gray-400";return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 animate-fade-in relative transition-colors duration-300",children:[c.jsx("style",{children:`
        .custom-scrollbar {
          scrollbar-width: thin;
          scrollbar-color: #cbd5e1 transparent;
        }
        .dark .custom-scrollbar {
          scrollbar-color: #475569 transparent;
        }
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
          height: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 10px;
        }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb {
           background: #475569;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),c.jsx("div",{className:"bg-white dark:bg-gray-800 pt-8 pb-20 px-4 border-b border-gray-200 dark:border-gray-700 shadow-sm relative overflow-hidden",children:c.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("button",{onClick:a,className:"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 p-2 rounded-full transition-colors",children:c.jsx(Yr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),c.jsx("span",{className:"font-bold text-gray-500 dark:text-gray-400",children:" "})]}),c.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end justify-between gap-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-2 tracking-tight",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"      "})]}),c.jsxs("div",{className:"w-full md:w-auto bg-white dark:bg-gray-700 p-2 rounded-2xl shadow-lg shadow-gray-100 dark:shadow-none border border-gray-100 dark:border-gray-600 flex items-center gap-2",children:[c.jsx(Ni,{className:"w-5 h-5 text-gray-400 dark:text-gray-300 mr-2"}),c.jsx("input",{type:"text",placeholder:"    ...",value:u,onChange:$=>f($.target.value),className:"w-full md:w-64 outline-none text-sm font-bold text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 bg-transparent"})]})]})]})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-12 relative z-20",children:s?c.jsx("div",{className:"flex justify-center items-center py-20",children:c.jsx(fn,{className:"w-10 h-10 animate-spin text-blue-600 dark:text-blue-400"})}):le.length===0?c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 p-12 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(gc,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"       ."})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:le.map($=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700 overflow-hidden group flex flex-col",children:[c.jsxs("div",{className:"p-6 flex-1",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-lg text-xs font-bold",children:$.subject}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>j($),className:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 p-1.5 rounded-lg hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-colors",title:" ",children:c.jsx(om,{className:"w-4 h-4"})}),c.jsx("button",{onClick:T=>V(T,$.id),className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-1.5 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors",title:" ",children:c.jsx(cm,{className:"w-4 h-4"})})]})]}),c.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2 line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:$.title}),$.category&&c.jsx("span",{className:"inline-block mb-4 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400 text-[10px] font-bold px-2 py-1 rounded-md border border-amber-100 dark:border-amber-800/50",children:$.category}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-6",children:[c.jsxs("span",{className:"bg-gray-50 dark:bg-gray-700 px-2 py-0.5 rounded border border-gray-100 dark:border-gray-600 font-bold",children:[" ",$.grade]}),c.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),c.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700/50 text-gray-600 dark:text-gray-400 px-2 py-0.5 rounded-lg text-xs font-bold flex items-center gap-1",children:[c.jsx(vv,{className:"w-3 h-3"}),_e($.createdAt)]})]})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 border-t border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-white dark:bg-gray-700 rounded-full border border-gray-200 dark:border-gray-600 flex items-center justify-center shadow-sm text-gray-400 dark:text-gray-300",children:c.jsx(Kr,{className:"w-4 h-4"})}),c.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:$.teacherName||""})]}),c.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-md border border-gray-100 dark:border-gray-600",children:[c.jsx(wi,{className:"w-3 h-3"}),$.questions.length," "]})]})]},$.id))})}),g&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0 sticky top-0 z-10",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-xl",children:c.jsx(om,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:" "}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"     "})]})]}),c.jsx("button",{onClick:()=>p(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-gray-500 dark:text-gray-400",children:c.jsx(ja,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900 custom-scrollbar",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 mb-8",children:[c.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx(gc,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," "]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:" "}),c.jsx("input",{type:"text",value:g.title,onChange:$=>G("title",$.target.value),className:ce})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:""}),c.jsx("input",{type:"text",value:g.subject,onChange:$=>G("subject",$.target.value),className:ce})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:""}),c.jsx("select",{value:g.grade,onChange:$=>G("grade",$.target.value),className:ce,children:[5,6,7,8,9,10,11,12].map($=>c.jsxs("option",{value:$,children:[" ",$]},$))})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:"  (Category)"}),c.jsxs("select",{value:g.category||"Language",onChange:$=>G("category",$.target.value),className:ce,children:[c.jsx("option",{value:"Language",children:"Language ()"}),c.jsx("option",{value:"Reading",children:"Reading ()"}),c.jsx("option",{value:"Writing",children:"Writing ()"}),c.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(wi,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," (",g.questions.length,")"]}),c.jsx("span",{className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded-lg",children:"*        "})]}),g.questions.map(($,T)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 relative group",children:[c.jsx("button",{onClick:()=>pe(T),className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 rounded-lg transition-colors",title:" ",children:c.jsx(cm,{className:"w-5 h-5"})}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1.5",children:["  ",T+1]}),c.jsx("input",{type:"text",dir:"ltr",value:$.question,onChange:k=>se(T,"question",k.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-300 dark:border-gray-600 focus:border-emerald-500 dark:focus:border-emerald-500 outline-none font-bold text-black dark:text-white bg-white dark:bg-gray-700 shadow-sm text-lg transition-colors placeholder-gray-500 dark:placeholder-gray-400 text-left"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:$.options.map((k,S)=>c.jsxs("div",{className:"relative",children:[c.jsxs("label",{className:"flex items-center justify-between text-xs font-bold text-gray-500 dark:text-gray-400 mb-1 px-1",children:[c.jsxs("span",{children:[" ",S+1]}),c.jsxs("button",{onClick:()=>se(T,"correctAnswer",S),className:`flex items-center gap-1 px-2 py-0.5 rounded cursor-pointer transition-colors ${$.correctAnswer===S?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[$.correctAnswer===S?c.jsx(Na,{className:"w-3 h-3"}):c.jsx("div",{className:"w-3 h-3 border border-gray-400 rounded-full"}),$.correctAnswer===S?" ":" "]})]}),c.jsx("input",{type:"text",dir:"ltr",value:k,onChange:D=>Z(T,S,D.target.value),className:`w-full p-3 rounded-xl border-2 outline-none font-bold transition-colors shadow-sm text-left ${$.correctAnswer===S?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-300":"border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 text-black dark:text-white bg-white dark:bg-gray-700"}`})]},S))}),c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-xl border border-yellow-200 dark:border-yellow-800",children:[c.jsx("label",{className:"block text-xs font-bold text-yellow-800 dark:text-yellow-200 mb-1",children:" "}),c.jsx("textarea",{value:$.explanation||"",onChange:k=>se(T,"explanation",k.target.value),className:"w-full p-3 rounded-lg border border-yellow-300 dark:border-yellow-700 focus:border-yellow-500 dark:focus:border-yellow-500 outline-none text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-800 text-sm h-20 resize-none shadow-sm custom-scrollbar text-left",placeholder:"  ...",dir:"ltr"})]})]},T))]})]}),c.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3 shrink-0 sticky bottom-0 z-10",children:[c.jsx("button",{onClick:()=>p(null),className:"px-6 py-3 rounded-xl font-bold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:""}),c.jsxs("button",{onClick:ne,disabled:y,className:"px-8 py-3 rounded-xl font-bold text-white bg-emerald-600 hover:bg-emerald-700 transition-colors flex items-center gap-2 shadow-lg shadow-emerald-200 dark:shadow-none",children:[y?c.jsx(fn,{className:"w-5 h-5 animate-spin"}):c.jsx(yc,{className:"w-5 h-5"})," "]})]})]})})]})};function NR(){const[a,e]=re.useState("HOME"),[n,s]=re.useState(!1),[l,u]=re.useState(!1),{logout:f}=Ls();re.useEffect(()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0),window.history.replaceState({view:"HOME"},"","");const y=_=>{_.state&&_.state.view?e(_.state.view):e("HOME")};return window.addEventListener("popstate",y),()=>window.removeEventListener("popstate",y)},[]),re.useEffect(()=>{window.scrollTo(0,0)},[a]);const g=y=>{y!==a&&(window.history.pushState({view:y},"",""),e(y))},p=async()=>{u(!0),setTimeout(async()=>{await f(),u(!1),g("HOME")},1e3)};return c.jsxs("div",{className:"min-h-screen flex flex-col relative transition-colors duration-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[l&&c.jsx("div",{className:"fixed inset-0 z-[200] bg-emerald-600 flex items-center justify-center animate-fade-in",children:c.jsx("div",{className:"text-white text-2xl font-bold animate-bounce",children:"  ..."})}),c.jsx(eR,{onLoginClick:()=>s(!0),onNavigate:g,onLogoutClick:p}),c.jsxs("main",{className:"flex-grow",children:[a==="HOME"&&c.jsxs(c.Fragment,{children:[c.jsx(tR,{onStartQuiz:()=>g("QUIZZES"),onLoginClick:()=>s(!0),onNavigate:g}),c.jsx(aR,{onNavigate:g}),c.jsx(wR,{onLoginClick:()=>s(!0)})]}),a==="ABOUT_PLATFORM"&&c.jsx(pR,{onBack:()=>g("HOME")}),a==="SERVICES"&&c.jsx(yR,{onBack:()=>g("HOME")}),a==="TEACHER_CV"&&c.jsx(gR,{onBack:()=>g("HOME")}),a==="PROFILE"&&c.jsx(uR,{onNavigate:g}),a==="TEACHER_DASHBOARD"&&c.jsx(iR,{}),a==="QUESTION_BANK"&&c.jsx(ER,{onBack:()=>g("HOME")}),a==="QUIZZES"&&c.jsx(hR,{onBack:()=>g("HOME")}),a==="LESSONS"&&c.jsx(xR,{onBack:()=>g("HOME")}),a==="CONTACT_TEACHER"&&c.jsx(_R,{onBack:()=>g("HOME")})]}),c.jsx(sR,{isOpen:n,onClose:()=>s(!1)}),c.jsx("footer",{className:"bg-white dark:bg-gray-900 py-8 border-t border-gray-100 dark:border-gray-800",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-400 dark:text-gray-500 text-sm",children:[" ",new Date().getFullYear(),"   .   ."]})})]})}const Rw=document.getElementById("root");if(!Rw)throw new Error("Could not find root element to mount to");const kR=xN.createRoot(Rw);kR.render(c.jsx(yv.StrictMode,{children:c.jsx(JC,{children:c.jsx(NR,{})})}));
