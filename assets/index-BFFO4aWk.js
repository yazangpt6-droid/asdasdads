(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var XX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var e2={exports:{}},x0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QB;function x8(){if(QB)return x0;QB=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:r,type:n,key:l,ref:s!==void 0?s:null,props:o}}return x0.Fragment=e,x0.jsx=t,x0.jsxs=t,x0}var LB;function b8(){return LB||(LB=1,e2.exports=x8()),e2.exports}var i=b8(),t2={exports:{}},or={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kB;function y8(){if(kB)return or;kB=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function N(X){return X===null||typeof X!="object"?null:(X=v&&X[v]||X["@@iterator"],typeof X=="function"?X:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,O={};function R(X,L,H){this.props=X,this.context=L,this.refs=O,this.updater=H||T}R.prototype.isReactComponent={},R.prototype.setState=function(X,L){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,L,"setState")},R.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function P(){}P.prototype=R.prototype;function K(X,L,H){this.props=X,this.context=L,this.refs=O,this.updater=H||T}var se=K.prototype=new P;se.constructor=K,I(se,R.prototype),se.isPureReactComponent=!0;var ae=Array.isArray;function le(){}var U={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function M(X,L,H){var J=H.ref;return{$$typeof:r,type:X,key:L,ref:J!==void 0?J:null,props:H}}function z(X,L){return M(X.type,L,X.props)}function E(X){return typeof X=="object"&&X!==null&&X.$$typeof===r}function F(X){var L={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(H){return L[H]})}var D=/\/+/g;function $(X,L){return typeof X=="object"&&X!==null&&X.key!=null?F(""+X.key):L.toString(36)}function be(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(le,le):(X.status="pending",X.then(function(L){X.status==="pending"&&(X.status="fulfilled",X.value=L)},function(L){X.status==="pending"&&(X.status="rejected",X.reason=L)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function te(X,L,H,J,ee){var he=typeof X;(he==="undefined"||he==="boolean")&&(X=null);var me=!1;if(X===null)me=!0;else switch(he){case"bigint":case"string":case"number":me=!0;break;case"object":switch(X.$$typeof){case r:case e:me=!0;break;case x:return me=X._init,te(me(X._payload),L,H,J,ee)}}if(me)return ee=ee(X),me=J===""?"."+$(X,0):J,ae(ee)?(H="",me!=null&&(H=me.replace(D,"$&/")+"/"),te(ee,L,H,"",function(Xe){return Xe})):ee!=null&&(E(ee)&&(ee=z(ee,H+(ee.key==null||X&&X.key===ee.key?"":(""+ee.key).replace(D,"$&/")+"/")+me)),L.push(ee)),1;me=0;var ve=J===""?".":J+":";if(ae(X))for(var Be=0;Be<X.length;Be++)J=X[Be],he=ve+$(J,Be),me+=te(J,L,H,he,ee);else if(Be=N(X),typeof Be=="function")for(X=Be.call(X),Be=0;!(J=X.next()).done;)J=J.value,he=ve+$(J,Be++),me+=te(J,L,H,he,ee);else if(he==="object"){if(typeof X.then=="function")return te(be(X),L,H,J,ee);throw L=String(X),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return me}function Y(X,L,H){if(X==null)return X;var J=[],ee=0;return te(X,J,"","",function(he){return L.call(H,he,ee++)}),J}function ie(X){if(X._status===-1){var L=X._result;L=L(),L.then(function(H){(X._status===0||X._status===-1)&&(X._status=1,X._result=H)},function(H){(X._status===0||X._status===-1)&&(X._status=2,X._result=H)}),X._status===-1&&(X._status=0,X._result=L)}if(X._status===1)return X._result.default;throw X._result}var ge=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},xe={map:Y,forEach:function(X,L,H){Y(X,function(){L.apply(this,arguments)},H)},count:function(X){var L=0;return Y(X,function(){L++}),L},toArray:function(X){return Y(X,function(L){return L})||[]},only:function(X){if(!E(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return or.Activity=p,or.Children=xe,or.Component=R,or.Fragment=t,or.Profiler=s,or.PureComponent=K,or.StrictMode=n,or.Suspense=h,or.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,or.__COMPILER_RUNTIME={__proto__:null,c:function(X){return U.H.useMemoCache(X)}},or.cache=function(X){return function(){return X.apply(null,arguments)}},or.cacheSignal=function(){return null},or.cloneElement=function(X,L,H){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var J=I({},X.props),ee=X.key;if(L!=null)for(he in L.key!==void 0&&(ee=""+L.key),L)!S.call(L,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&L.ref===void 0||(J[he]=L[he]);var he=arguments.length-2;if(he===1)J.children=H;else if(1<he){for(var me=Array(he),ve=0;ve<he;ve++)me[ve]=arguments[ve+2];J.children=me}return M(X.type,ee,J)},or.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},or.createElement=function(X,L,H){var J,ee={},he=null;if(L!=null)for(J in L.key!==void 0&&(he=""+L.key),L)S.call(L,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ee[J]=L[J]);var me=arguments.length-2;if(me===1)ee.children=H;else if(1<me){for(var ve=Array(me),Be=0;Be<me;Be++)ve[Be]=arguments[Be+2];ee.children=ve}if(X&&X.defaultProps)for(J in me=X.defaultProps,me)ee[J]===void 0&&(ee[J]=me[J]);return M(X,he,ee)},or.createRef=function(){return{current:null}},or.forwardRef=function(X){return{$$typeof:u,render:X}},or.isValidElement=E,or.lazy=function(X){return{$$typeof:x,_payload:{_status:-1,_result:X},_init:ie}},or.memo=function(X,L){return{$$typeof:g,type:X,compare:L===void 0?null:L}},or.startTransition=function(X){var L=U.T,H={};U.T=H;try{var J=X(),ee=U.S;ee!==null&&ee(H,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(le,ge)}catch(he){ge(he)}finally{L!==null&&H.types!==null&&(L.types=H.types),U.T=L}},or.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},or.use=function(X){return U.H.use(X)},or.useActionState=function(X,L,H){return U.H.useActionState(X,L,H)},or.useCallback=function(X,L){return U.H.useCallback(X,L)},or.useContext=function(X){return U.H.useContext(X)},or.useDebugValue=function(){},or.useDeferredValue=function(X,L){return U.H.useDeferredValue(X,L)},or.useEffect=function(X,L){return U.H.useEffect(X,L)},or.useEffectEvent=function(X){return U.H.useEffectEvent(X)},or.useId=function(){return U.H.useId()},or.useImperativeHandle=function(X,L,H){return U.H.useImperativeHandle(X,L,H)},or.useInsertionEffect=function(X,L){return U.H.useInsertionEffect(X,L)},or.useLayoutEffect=function(X,L){return U.H.useLayoutEffect(X,L)},or.useMemo=function(X,L){return U.H.useMemo(X,L)},or.useOptimistic=function(X,L){return U.H.useOptimistic(X,L)},or.useReducer=function(X,L,H){return U.H.useReducer(X,L,H)},or.useRef=function(X){return U.H.useRef(X)},or.useState=function(X){return U.H.useState(X)},or.useSyncExternalStore=function(X,L,H){return U.H.useSyncExternalStore(X,L,H)},or.useTransition=function(){return U.H.useTransition()},or.version="19.2.3",or}var RB;function kw(){return RB||(RB=1,t2.exports=y8()),t2.exports}var ue=kw();const Rw=F_(ue);var r2={exports:{}},b0={},n2={exports:{}},s2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DB;function w8(){return DB||(DB=1,(function(r){function e(te,Y){var ie=te.length;te.push(Y);e:for(;0<ie;){var ge=ie-1>>>1,xe=te[ge];if(0<s(xe,Y))te[ge]=Y,te[ie]=xe,ie=ge;else break e}}function t(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var Y=te[0],ie=te.pop();if(ie!==Y){te[0]=ie;e:for(var ge=0,xe=te.length,X=xe>>>1;ge<X;){var L=2*(ge+1)-1,H=te[L],J=L+1,ee=te[J];if(0>s(H,ie))J<xe&&0>s(ee,H)?(te[ge]=ee,te[J]=ie,ge=J):(te[ge]=H,te[L]=ie,ge=L);else if(J<xe&&0>s(ee,ie))te[ge]=ee,te[J]=ie,ge=J;else break e}}return Y}function s(te,Y){var ie=te.sortIndex-Y.sortIndex;return ie!==0?ie:te.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var h=[],g=[],x=1,p=null,v=3,N=!1,T=!1,I=!1,O=!1,R=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function se(te){for(var Y=t(g);Y!==null;){if(Y.callback===null)n(g);else if(Y.startTime<=te)n(g),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=t(g)}}function ae(te){if(I=!1,se(te),!T)if(t(h)!==null)T=!0,le||(le=!0,F());else{var Y=t(g);Y!==null&&be(ae,Y.startTime-te)}}var le=!1,U=-1,S=5,M=-1;function z(){return O?!0:!(r.unstable_now()-M<S)}function E(){if(O=!1,le){var te=r.unstable_now();M=te;var Y=!0;try{e:{T=!1,I&&(I=!1,P(U),U=-1),N=!0;var ie=v;try{t:{for(se(te),p=t(h);p!==null&&!(p.expirationTime>te&&z());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,v=p.priorityLevel;var xe=ge(p.expirationTime<=te);if(te=r.unstable_now(),typeof xe=="function"){p.callback=xe,se(te),Y=!0;break t}p===t(h)&&n(h),se(te)}else n(h);p=t(h)}if(p!==null)Y=!0;else{var X=t(g);X!==null&&be(ae,X.startTime-te),Y=!1}}break e}finally{p=null,v=ie,N=!1}Y=void 0}}finally{Y?F():le=!1}}}var F;if(typeof K=="function")F=function(){K(E)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=E,F=function(){$.postMessage(null)}}else F=function(){R(E,0)};function be(te,Y){U=R(function(){te(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(te){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var ie=v;v=Y;try{return te()}finally{v=ie}},r.unstable_requestPaint=function(){O=!0},r.unstable_runWithPriority=function(te,Y){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ie=v;v=te;try{return Y()}finally{v=ie}},r.unstable_scheduleCallback=function(te,Y,ie){var ge=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ge+ie:ge):ie=ge,te){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ie+xe,te={id:x++,callback:Y,priorityLevel:te,startTime:ie,expirationTime:xe,sortIndex:-1},ie>ge?(te.sortIndex=ie,e(g,te),t(h)===null&&te===t(g)&&(I?(P(U),U=-1):I=!0,be(ae,ie-ge))):(te.sortIndex=xe,e(h,te),T||N||(T=!0,le||(le=!0,F()))),te},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(te){var Y=v;return function(){var ie=v;v=Y;try{return te.apply(this,arguments)}finally{v=ie}}}})(s2)),s2}var MB;function v8(){return MB||(MB=1,n2.exports=w8()),n2.exports}var a2={exports:{}},_a={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OB;function B8(){if(OB)return _a;OB=1;var r=kw();function e(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,g,x){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:h,containerInfo:g,implementation:x}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,_a.createPortal=function(h,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(h,g,null,x)},_a.flushSync=function(h){var g=l.T,x=n.p;try{if(l.T=null,n.p=2,h)return h()}finally{l.T=g,n.p=x,n.d.f()}},_a.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,n.d.C(h,g))},_a.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},_a.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var x=g.as,p=u(x,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?n.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:N}):x==="script"&&n.d.X(h,{crossOrigin:p,integrity:v,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_a.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=u(g.as,g.crossOrigin);n.d.M(h,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&n.d.M(h)},_a.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,p=u(x,g.crossOrigin);n.d.L(h,x,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_a.preloadModule=function(h,g){if(typeof h=="string")if(g){var x=u(g.as,g.crossOrigin);n.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else n.d.m(h)},_a.requestFormReset=function(h){n.d.r(h)},_a.unstable_batchedUpdates=function(h,g){return h(g)},_a.useFormState=function(h,g,x){return l.H.useFormState(h,g,x)},_a.useFormStatus=function(){return l.H.useHostTransitionStatus()},_a.version="19.2.3",_a}var PB;function Q_(){if(PB)return a2.exports;PB=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),a2.exports=B8(),a2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HB;function N8(){if(HB)return b0;HB=1;var r=v8(),e=kw(),t=Q_();function n(a){var A="https://react.dev/errors/"+a;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)A+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var A=a,c=a;if(a.alternate)for(;A.return;)A=A.return;else{a=A;do A=a,(A.flags&4098)!==0&&(c=A.return),a=A.return;while(a)}return A.tag===3?c:null}function l(a){if(a.tag===13){var A=a.memoizedState;if(A===null&&(a=a.alternate,a!==null&&(A=a.memoizedState)),A!==null)return A.dehydrated}return null}function u(a){if(a.tag===31){var A=a.memoizedState;if(A===null&&(a=a.alternate,a!==null&&(A=a.memoizedState)),A!==null)return A.dehydrated}return null}function h(a){if(o(a)!==a)throw Error(n(188))}function g(a){var A=a.alternate;if(!A){if(A=o(a),A===null)throw Error(n(188));return A!==a?null:a}for(var c=a,f=A;;){var y=c.return;if(y===null)break;var B=y.alternate;if(B===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===B.child){for(B=y.child;B;){if(B===c)return h(y),a;if(B===f)return h(y),A;B=B.sibling}throw Error(n(188))}if(c.return!==f.return)c=y,f=B;else{for(var k=!1,Z=y.child;Z;){if(Z===c){k=!0,c=y,f=B;break}if(Z===f){k=!0,f=y,c=B;break}Z=Z.sibling}if(!k){for(Z=B.child;Z;){if(Z===c){k=!0,c=B,f=y;break}if(Z===f){k=!0,f=B,c=y;break}Z=Z.sibling}if(!k)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:A}function x(a){var A=a.tag;if(A===5||A===26||A===27||A===6)return a;for(a=a.child;a!==null;){if(A=x(a),A!==null)return A;a=a.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),K=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=E&&a[E]||a["@@iterator"],typeof a=="function"?a:null)}var D=Symbol.for("react.client.reference");function $(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===D?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case I:return"Fragment";case R:return"Profiler";case O:return"StrictMode";case ae:return"Suspense";case le:return"SuspenseList";case M:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case T:return"Portal";case K:return a.displayName||"Context";case P:return(a._context.displayName||"Context")+".Consumer";case se:var A=a.render;return a=a.displayName,a||(a=A.displayName||A.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case U:return A=a.displayName||null,A!==null?A:$(a.type)||"Memo";case S:A=a._payload,a=a._init;try{return $(a(A))}catch{}}return null}var be=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ge=[],xe=-1;function X(a){return{current:a}}function L(a){0>xe||(a.current=ge[xe],ge[xe]=null,xe--)}function H(a,A){xe++,ge[xe]=a.current,a.current=A}var J=X(null),ee=X(null),he=X(null),me=X(null);function ve(a,A){switch(H(he,A),H(ee,a),H(J,null),A.nodeType){case 9:case 11:a=(a=A.documentElement)&&(a=a.namespaceURI)?nB(a):0;break;default:if(a=A.tagName,A=A.namespaceURI)A=nB(A),a=sB(A,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}L(J),H(J,a)}function Be(){L(J),L(ee),L(he)}function Xe(a){a.memoizedState!==null&&H(me,a);var A=J.current,c=sB(A,a.type);A!==c&&(H(ee,a),H(J,c))}function Re(a){ee.current===a&&(L(J),L(ee)),me.current===a&&(L(me),f0._currentValue=ie)}var tt,fe;function Me(a){if(tt===void 0)try{throw Error()}catch(c){var A=c.stack.trim().match(/\n( *(at )?)/);tt=A&&A[1]||"",fe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+a+fe}var de=!1;function oe(a,A){if(!a||de)return"";de=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(A){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(De){var Le=De}Reflect.construct(a,[],We)}else{try{We.call()}catch(De){Le=De}a.call(We.prototype)}}else{try{throw Error()}catch(De){Le=De}(We=a())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(De){if(De&&Le&&typeof De.stack=="string")return[De.stack,Le.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=f.DetermineComponentFrameRoot(),k=B[0],Z=B[1];if(k&&Z){var pe=k.split(`
`),Fe=Z.split(`
`);for(y=f=0;f<pe.length&&!pe[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Fe.length&&!Fe[y].includes("DetermineComponentFrameRoot");)y++;if(f===pe.length||y===Fe.length)for(f=pe.length-1,y=Fe.length-1;1<=f&&0<=y&&pe[f]!==Fe[y];)y--;for(;1<=f&&0<=y;f--,y--)if(pe[f]!==Fe[y]){if(f!==1||y!==1)do if(f--,y--,0>y||pe[f]!==Fe[y]){var Ke=`
`+pe[f].replace(" at new "," at ");return a.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",a.displayName)),Ke}while(1<=f&&0<=y);break}}}finally{de=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Me(c):""}function Je(a,A){switch(a.tag){case 26:case 27:case 5:return Me(a.type);case 16:return Me("Lazy");case 13:return a.child!==A&&A!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return oe(a.type,!1);case 11:return oe(a.type.render,!1);case 1:return oe(a.type,!0);case 31:return Me("Activity");default:return""}}function ot(a){try{var A="",c=null;do A+=Je(a,c),c=a,a=a.return;while(a);return A}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Oe=Object.prototype.hasOwnProperty,He=r.unstable_scheduleCallback,st=r.unstable_cancelCallback,it=r.unstable_shouldYield,vt=r.unstable_requestPaint,bt=r.unstable_now,Ot=r.unstable_getCurrentPriorityLevel,Yt=r.unstable_ImmediatePriority,Zt=r.unstable_UserBlockingPriority,cr=r.unstable_NormalPriority,Mt=r.unstable_LowPriority,ar=r.unstable_IdlePriority,At=r.log,ke=r.unstable_setDisableYieldValue,ut=null,It=null;function Ut(a){if(typeof At=="function"&&ke(a),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(ut,a)}catch{}}var Ft=Math.clz32?Math.clz32:On,Rr=Math.log,Pt=Math.LN2;function On(a){return a>>>=0,a===0?32:31-(Rr(a)/Pt|0)|0}var lr=256,gn=262144,fr=4194304;function ur(a){var A=a&42;if(A!==0)return A;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function jt(a,A,c){var f=a.pendingLanes;if(f===0)return 0;var y=0,B=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var Z=f&134217727;return Z!==0?(f=Z&~B,f!==0?y=ur(f):(k&=Z,k!==0?y=ur(k):c||(c=Z&~a,c!==0&&(y=ur(c))))):(Z=f&~B,Z!==0?y=ur(Z):k!==0?y=ur(k):c||(c=f&~a,c!==0&&(y=ur(c)))),y===0?0:A!==0&&A!==y&&(A&B)===0&&(B=y&-y,c=A&-A,B>=c||B===32&&(c&4194048)!==0)?A:y}function Xt(a,A){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&A)===0}function ma(a,A){switch(a){case 1:case 2:case 4:case 8:case 64:return A+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Er(){var a=fr;return fr<<=1,(fr&62914560)===0&&(fr=4194304),a}function Xr(a){for(var A=[],c=0;31>c;c++)A.push(a);return A}function mn(a,A){a.pendingLanes|=A,A!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Qe(a,A,c,f,y,B){var k=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var Z=a.entanglements,pe=a.expirationTimes,Fe=a.hiddenUpdates;for(c=k&~c;0<c;){var Ke=31-Ft(c),We=1<<Ke;Z[Ke]=0,pe[Ke]=-1;var Le=Fe[Ke];if(Le!==null)for(Fe[Ke]=null,Ke=0;Ke<Le.length;Ke++){var De=Le[Ke];De!==null&&(De.lane&=-536870913)}c&=~We}f!==0&&ct(a,f,0),B!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=B&~(k&~A))}function ct(a,A,c){a.pendingLanes|=A,a.suspendedLanes&=~A;var f=31-Ft(A);a.entangledLanes|=A,a.entanglements[f]=a.entanglements[f]|1073741824|c&261930}function kt(a,A){var c=a.entangledLanes|=A;for(a=a.entanglements;c;){var f=31-Ft(c),y=1<<f;y&A|a[f]&A&&(a[f]|=A),c&=~y}}function yt(a,A){var c=A&-A;return c=(c&42)!==0?1:rt(c),(c&(a.suspendedLanes|A))!==0?0:c}function rt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function xt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Qt(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:EB(a.type))}function _t(a,A){var c=Y.p;try{return Y.p=a,A()}finally{Y.p=c}}var Ht=Math.random().toString(36).slice(2),mt="__reactFiber$"+Ht,rr="__reactProps$"+Ht,yn="__reactContainer$"+Ht,Zs="__reactEvents$"+Ht,pa="__reactListeners$"+Ht,Pa="__reactHandles$"+Ht,no="__reactResources$"+Ht,ea="__reactMarker$"+Ht;function ji(a){delete a[mt],delete a[rr],delete a[Zs],delete a[pa],delete a[Pa]}function ta(a){var A=a[mt];if(A)return A;for(var c=a.parentNode;c;){if(A=c[yn]||c[mt]){if(c=A.alternate,A.child!==null||c!==null&&c.child!==null)for(a=uB(a);a!==null;){if(c=a[mt])return c;a=uB(a)}return A}a=c,c=a.parentNode}return null}function vs(a){if(a=a[mt]||a[yn]){var A=a.tag;if(A===5||A===6||A===13||A===31||A===26||A===27||A===3)return a}return null}function Ds(a){var A=a.tag;if(A===5||A===26||A===27||A===6)return a.stateNode;throw Error(n(33))}function si(a){var A=a[no];return A||(A=a[no]={hoistableStyles:new Map,hoistableScripts:new Map}),A}function En(a){a[ea]=!0}var so=new Set,gA={};function ai(a,A){xa(a,A),xa(a+"Capture",A)}function xa(a,A){for(gA[a]=A,a=0;a<A.length;a++)so.add(A[a])}var ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mA={},pl={};function To(a){return Oe.call(pl,a)?!0:Oe.call(mA,a)?!1:ml.test(a)?pl[a]=!0:(mA[a]=!0,!1)}function pA(a,A,c){if(To(A))if(c===null)a.removeAttribute(A);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(A);return;case"boolean":var f=A.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(A);return}}a.setAttribute(A,""+c)}}function Sr(a,A,c){if(c===null)a.removeAttribute(A);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(A);return}a.setAttribute(A,""+c)}}function wn(a,A,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(A,c,""+f)}}function Pn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ti(a){var A=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(A==="checkbox"||A==="radio")}function Uo(a,A,c){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,A);if(!a.hasOwnProperty(A)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,B=f.set;return Object.defineProperty(a,A,{configurable:!0,get:function(){return y.call(this)},set:function(k){c=""+k,B.call(this,k)}}),Object.defineProperty(a,A,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(k){c=""+k},stopTracking:function(){a._valueTracker=null,delete a[A]}}}}function kr(a){if(!a._valueTracker){var A=Ti(a)?"checked":"value";a._valueTracker=Uo(a,A,""+a[A])}}function Bs(a){if(!a)return!1;var A=a._valueTracker;if(!A)return!0;var c=A.getValue(),f="";return a&&(f=Ti(a)?a.checked?"true":"false":a.value),a=f,a!==c?(A.setValue(a),!0):!1}function ra(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Gn=/[\n"\\]/g;function As(a){return a.replace(Gn,function(A){return"\\"+A.charCodeAt(0).toString(16)+" "})}function Fo(a,A,c,f,y,B,k,Z){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),A!=null?k==="number"?(A===0&&a.value===""||a.value!=A)&&(a.value=""+Pn(A)):a.value!==""+Pn(A)&&(a.value=""+Pn(A)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),A!=null?xA(a,k,Pn(A)):c!=null?xA(a,k,Pn(c)):f!=null&&a.removeAttribute("value"),y==null&&B!=null&&(a.defaultChecked=!!B),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?a.name=""+Pn(Z):a.removeAttribute("name")}function uc(a,A,c,f,y,B,k,Z){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(a.type=B),A!=null||c!=null){if(!(B!=="submit"&&B!=="reset"||A!=null)){kr(a);return}c=c!=null?""+Pn(c):"",A=A!=null?""+Pn(A):c,Z||A===a.value||(a.value=A),a.defaultValue=A}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=Z?a.checked:!!f,a.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),kr(a)}function xA(a,A,c){A==="number"&&ra(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ao(a,A,c,f){if(a=a.options,A){A={};for(var y=0;y<c.length;y++)A["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=A.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&f&&(a[c].defaultSelected=!0)}else{for(c=""+Pn(c),A=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,f&&(a[y].defaultSelected=!0);return}A!==null||a[y].disabled||(A=a[y])}A!==null&&(A.selected=!0)}}function xl(a,A,c){if(A!=null&&(A=""+Pn(A),A!==a.value&&(a.value=A),c==null)){a.defaultValue!==A&&(a.defaultValue=A);return}a.defaultValue=c!=null?""+Pn(c):""}function io(a,A,c,f){if(A==null){if(f!=null){if(c!=null)throw Error(n(92));if(be(f)){if(1<f.length)throw Error(n(93));f=f[0]}c=f}c==null&&(c=""),A=c}c=Pn(A),a.defaultValue=c,f=a.textContent,f===c&&f!==""&&f!==null&&(a.value=f),kr(a)}function ls(a,A){if(A){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=A;return}}a.textContent=A}var dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(a,A,c){var f=A.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?a.setProperty(A,""):A==="float"?a.cssFloat="":a[A]="":f?a.setProperty(A,c):typeof c!="number"||c===0||dc.has(A)?A==="float"?a.cssFloat=c:a[A]=(""+c).trim():a[A]=c+"px"}function yl(a,A,c){if(A!=null&&typeof A!="object")throw Error(n(62));if(a=a.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||A!=null&&A.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var y in A)f=A[y],A.hasOwnProperty(y)&&c[y]!==f&&bl(a,y,f)}else for(var B in A)A.hasOwnProperty(B)&&bl(a,B,A[B])}function ba(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ha=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lo(a){return Ha.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function sn(){}var wl=null;function na(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var zt=null,ii=null;function ko(a){var A=vs(a);if(A&&(a=A.stateNode)){var c=a[rr]||null;e:switch(a=A.stateNode,A.type){case"input":if(Fo(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),A=c.name,c.type==="radio"&&A!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+As(""+A)+'"][type="radio"]'),A=0;A<c.length;A++){var f=c[A];if(f!==a&&f.form===a.form){var y=f[rr]||null;if(!y)throw Error(n(90));Fo(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(A=0;A<c.length;A++)f=c[A],f.form===a.form&&Bs(f)}break e;case"textarea":xl(a,c.value,c.defaultValue);break e;case"select":A=c.value,A!=null&&ao(a,!!c.multiple,A,!1)}}}var sa=!1;function Ui(a,A,c){if(sa)return a(A,c);sa=!0;try{var f=a(A);return f}finally{if(sa=!1,(zt!==null||ii!==null)&&(Im(),zt&&(A=zt,a=ii,ii=zt=null,ko(A),a)))for(A=0;A<a.length;A++)ko(a[A])}}function ya(a,A){var c=a.stateNode;if(c===null)return null;var f=c[rr]||null;if(f===null)return null;c=f[A];e:switch(A){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,A,typeof c));return c}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fi=!1;if(Ns)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){Fi=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{Fi=!1}var oi=null,vl=null,Qi=null;function Li(){if(Qi)return Qi;var a,A=vl,c=A.length,f,y="value"in oi?oi.value:oi.textContent,B=y.length;for(a=0;a<c&&A[a]===y[a];a++);var k=c-a;for(f=1;f<=k&&A[c-f]===y[B-f];f++);return Qi=y.slice(a,1<f?1-f:void 0)}function wa(a){var A=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&A===13&&(a=13)):a=A,a===10&&(a=13),32<=a||a===13?a:0}function ki(){return!0}function Cs(){return!1}function Hn(a){function A(c,f,y,B,k){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=B,this.target=k,this.currentTarget=null;for(var Z in a)a.hasOwnProperty(Z)&&(c=a[Z],this[Z]=c?c(B):B[Z]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?ki:Cs,this.isPropagationStopped=Cs,this}return p(A.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),A}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Hn(va),Ri=p({},va,{view:0,detail:0}),bA=Hn(Ri),Di,aa,cs,yA=p({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==cs&&(cs&&a.type==="mousemove"?(Di=a.screenX-cs.screenX,aa=a.screenY-cs.screenY):aa=Di=0,cs=a),Di)},movementY:function(a){return"movementY"in a?a.movementY:aa}}),Ai=Hn(yA),_s=p({},yA,{dataTransfer:0}),wA=Hn(_s),oo=p({},Ri,{relatedTarget:0}),Ro=Hn(oo),Ao=p({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),hc=Hn(Ao),lo=p({},va,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),vA=Hn(lo),Bl=p({},va,{data:0}),ia=Hn(Bl),BA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(a){var A=this.nativeEvent;return A.getModifierState?A.getModifierState(a):(a=Nl[a])?!!A[a]:!1}function Ka(){return fc}var Vn=p({},Ri,{key:function(a){if(a.key){var A=BA[a.key]||a.key;if(A!=="Unidentified")return A}return a.type==="keypress"?(a=wa(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?NA[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(a){return a.type==="keypress"?wa(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?wa(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),CA=Hn(Vn),Mi=p({},yA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),za=Hn(Mi),d=p({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),b=Hn(d),C=p({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=Hn(C),re=p({},yA,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ce=Hn(re),Ee=p({},va,{newState:0,oldState:0}),Ze=Hn(Ee),ft=[9,13,27,32],pt=Ns&&"CompositionEvent"in window,Bt=null;Ns&&"documentMode"in document&&(Bt=document.documentMode);var er=Ns&&"TextEvent"in window&&!Bt,Tr=Ns&&(!pt||Bt&&8<Bt&&11>=Bt),Ur=" ",Mr=!1;function Sn(a,A){switch(a){case"keyup":return ft.indexOf(A.keyCode)!==-1;case"keydown":return A.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vn(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ms=!1;function qa(a,A){switch(a){case"compositionend":return vn(A);case"keypress":return A.which!==32?null:(Mr=!0,Ur);case"textInput":return a=A.data,a===Ur&&Mr?null:a;default:return null}}function co(a,A){if(Ms)return a==="compositionend"||!pt&&Sn(a,A)?(a=Li(),Qi=vl=oi=null,Ms=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(A.ctrlKey||A.altKey||A.metaKey)||A.ctrlKey&&A.altKey){if(A.char&&1<A.char.length)return A.char;if(A.which)return String.fromCharCode(A.which)}return null;case"compositionend":return Tr&&A.locale!=="ko"?null:A.data;default:return null}}var Dd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gc(a){var A=a&&a.nodeName&&a.nodeName.toLowerCase();return A==="input"?!!Dd[a.type]:A==="textarea"}function mc(a,A,c,f){zt?ii?ii.push(f):ii=[f]:zt=f,A=km(A,"onChange"),0<A.length&&(c=new Va("onChange","change",null,c,f),a.push({event:c,listeners:A}))}var uo=null,Do=null;function Ru(a){W4(a,0)}function Mo(a){var A=Ds(a);if(Bs(A))return a}function us(a,A){if(a==="change")return A}var Cl=!1;if(Ns){var _A;if(Ns){var EA="oninput"in document;if(!EA){var pc=document.createElement("div");pc.setAttribute("oninput","return;"),EA=typeof pc.oninput=="function"}_A=EA}else _A=!1;Cl=_A&&(!document.documentMode||9<document.documentMode)}function oa(){uo&&(uo.detachEvent("onpropertychange",Md),Do=uo=null)}function Md(a){if(a.propertyName==="value"&&Mo(Do)){var A=[];mc(A,Do,a,na(a)),Ui(Ru,A)}}function Du(a,A,c){a==="focusin"?(oa(),uo=A,Do=c,uo.attachEvent("onpropertychange",Md)):a==="focusout"&&oa()}function Od(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Mo(Do)}function li(a,A){if(a==="click")return Mo(A)}function xc(a,A){if(a==="input"||a==="change")return Mo(A)}function Pd(a,A){return a===A&&(a!==0||1/a===1/A)||a!==a&&A!==A}var Os=typeof Object.is=="function"?Object.is:Pd;function ci(a,A){if(Os(a,A))return!0;if(typeof a!="object"||a===null||typeof A!="object"||A===null)return!1;var c=Object.keys(a),f=Object.keys(A);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!Oe.call(A,y)||!Os(a[y],A[y]))return!1}return!0}function SA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Aa(a,A){var c=SA(a);a=0;for(var f;c;){if(c.nodeType===3){if(f=a+c.textContent.length,a<=A&&f>=A)return{node:c,offset:A-a};a=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=SA(c)}}function Ps(a,A){return a&&A?a===A?!0:a&&a.nodeType===3?!1:A&&A.nodeType===3?Ps(a,A.parentNode):"contains"in a?a.contains(A):a.compareDocumentPosition?!!(a.compareDocumentPosition(A)&16):!1:!1}function Oo(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var A=ra(a.document);A instanceof a.HTMLIFrameElement;){try{var c=typeof A.contentWindow.location.href=="string"}catch{c=!1}if(c)a=A.contentWindow;else break;A=ra(a.document)}return A}function Oi(a){var A=a&&a.nodeName&&a.nodeName.toLowerCase();return A&&(A==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||A==="textarea"||a.contentEditable==="true")}var Po=Ns&&"documentMode"in document&&11>=document.documentMode,Pi=null,Hi=null,cn=null,_l=!1;function Hs(a,A,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;_l||Pi==null||Pi!==ra(f)||(f=Pi,"selectionStart"in f&&Oi(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),cn&&ci(cn,f)||(cn=f,f=km(Hi,"onSelect"),0<f.length&&(A=new Va("onSelect","select",null,A,c),a.push({event:A,listeners:f}),A.target=Pi)))}function ds(a,A){var c={};return c[a.toLowerCase()]=A.toLowerCase(),c["Webkit"+a]="webkit"+A,c["Moz"+a]="moz"+A,c}var Vi={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},bc={},yc={};Ns&&(yc=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function Ga(a){if(bc[a])return bc[a];if(!Vi[a])return a;var A=Vi[a],c;for(c in A)if(A.hasOwnProperty(c)&&c in yc)return bc[a]=A[c];return a}var IA=Ga("animationend"),Ho=Ga("animationiteration"),jA=Ga("animationstart"),wc=Ga("transitionrun"),El=Ga("transitionstart"),TA=Ga("transitioncancel"),vc=Ga("transitionend"),Xa=new Map,Ba="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ba.push("scrollEnd");function mr(a,A){Xa.set(a,A),ai(A,[a])}var Vr=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Fr=[],pn=0,Ki=0;function UA(){for(var a=pn,A=Ki=pn=0;A<a;){var c=Fr[A];Fr[A++]=null;var f=Fr[A];Fr[A++]=null;var y=Fr[A];Fr[A++]=null;var B=Fr[A];if(Fr[A++]=null,f!==null&&y!==null){var k=f.pending;k===null?y.next=y:(y.next=k.next,k.next=y),f.pending=y}B!==0&&Mu(c,y,B)}}function Vo(a,A,c,f){Fr[pn++]=a,Fr[pn++]=A,Fr[pn++]=c,Fr[pn++]=f,Ki|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Bc(a,A,c,f){return Vo(a,A,c,f),Vs(a)}function Ko(a,A){return Vo(a,null,null,A),Vs(a)}function Mu(a,A,c){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c);for(var y=!1,B=a.return;B!==null;)B.childLanes|=c,f=B.alternate,f!==null&&(f.childLanes|=c),B.tag===22&&(a=B.stateNode,a===null||a._visibility&1||(y=!0)),a=B,B=B.return;return a.tag===3?(B=a.stateNode,y&&A!==null&&(y=31-Ft(c),a=B.hiddenUpdates,f=a[y],f===null?a[y]=[A]:f.push(A),A.lane=c|536870912),B):null}function Vs(a){if(50<o0)throw o0=0,Nb=null,Error(n(185));for(var A=a.return;A!==null;)a=A,A=a.return;return a.tag===3?a.stateNode:null}var Es={};function Hd(a,A,c,f){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=A,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(a,A,c,f){return new Hd(a,A,c,f)}function Vd(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ui(a,A){var c=a.alternate;return c===null?(c=Ks(a.tag,A,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=A,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,A=a.dependencies,c.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Ou(a,A){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=A,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,A=c.dependencies,a.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),a}function Nc(a,A,c,f,y,B){var k=0;if(f=a,typeof a=="function")Vd(a)&&(k=1);else if(typeof a=="string")k=i8(a,c,J.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case M:return a=Ks(31,c,A,y),a.elementType=M,a.lanes=B,a;case I:return FA(c.children,y,B,A);case O:k=8,y|=24;break;case R:return a=Ks(12,c,A,y|2),a.elementType=R,a.lanes=B,a;case ae:return a=Ks(13,c,A,y),a.elementType=ae,a.lanes=B,a;case le:return a=Ks(19,c,A,y),a.elementType=le,a.lanes=B,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case K:k=10;break e;case P:k=9;break e;case se:k=11;break e;case U:k=14;break e;case S:k=16,f=null;break e}k=29,c=Error(n(130,a===null?"null":typeof a,"")),f=null}return A=Ks(k,c,A,y),A.elementType=a,A.type=f,A.lanes=B,A}function FA(a,A,c,f){return a=Ks(7,a,f,A),a.lanes=c,a}function Pu(a,A,c){return a=Ks(6,a,null,A),a.lanes=c,a}function Kd(a){var A=Ks(18,null,null,0);return A.stateNode=a,A}function Cc(a,A,c){return A=Ks(4,a.children!==null?a.children:[],a.key,A),A.lanes=c,A.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},A}var zd=new WeakMap;function di(a,A){if(typeof a=="object"&&a!==null){var c=zd.get(a);return c!==void 0?c:(A={value:a,source:A,stack:ot(A)},zd.set(a,A),A)}return{value:a,source:A,stack:ot(A)}}var _c=[],Sl=0,qd=null,Hu=0,hi=[],fi=0,QA=null,gi=1,mi="";function $a(a,A){_c[Sl++]=Hu,_c[Sl++]=qd,qd=a,Hu=A}function Am(a,A,c){hi[fi++]=gi,hi[fi++]=mi,hi[fi++]=QA,QA=a;var f=gi;a=mi;var y=32-Ft(f)-1;f&=~(1<<y),c+=1;var B=32-Ft(A)+y;if(30<B){var k=y-y%5;B=(f&(1<<k)-1).toString(32),f>>=k,y-=k,gi=1<<32-Ft(A)+y|c<<y|f,mi=B+a}else gi=1<<B|c<<y|f,mi=a}function Of(a){a.return!==null&&($a(a,1),Am(a,1,0))}function Gd(a){for(;a===qd;)qd=_c[--Sl],_c[Sl]=null,Hu=_c[--Sl],_c[Sl]=null;for(;a===QA;)QA=hi[--fi],hi[fi]=null,mi=hi[--fi],hi[fi]=null,gi=hi[--fi],hi[fi]=null}function lm(a,A){hi[fi++]=gi,hi[fi++]=mi,hi[fi++]=QA,gi=A.id,mi=A.overflow,QA=a}var Ss=null,un=null,pr=!1,la=null,In=!1,zi=Error(n(519));function LA(a){var A=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ec(di(A,a)),zi}function Pf(a){var A=a.stateNode,c=a.type,f=a.memoizedProps;switch(A[mt]=a,A[rr]=f,c){case"dialog":yr("cancel",A),yr("close",A);break;case"iframe":case"object":case"embed":yr("load",A);break;case"video":case"audio":for(c=0;c<l0.length;c++)yr(l0[c],A);break;case"source":yr("error",A);break;case"img":case"image":case"link":yr("error",A),yr("load",A);break;case"details":yr("toggle",A);break;case"input":yr("invalid",A),uc(A,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":yr("invalid",A);break;case"textarea":yr("invalid",A),io(A,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||A.textContent===""+c||f.suppressHydrationWarning===!0||tB(A.textContent,c)?(f.popover!=null&&(yr("beforetoggle",A),yr("toggle",A)),f.onScroll!=null&&yr("scroll",A),f.onScrollEnd!=null&&yr("scrollend",A),f.onClick!=null&&(A.onclick=sn),A=!0):A=!1,A||LA(a,!0)}function zo(a){for(Ss=a.return;Ss;)switch(Ss.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Ss=Ss.return}}function Is(a){if(a!==Ss)return!1;if(!pr)return zo(a),pr=!0,!1;var A=a.tag,c;if((c=A!==3&&A!==27)&&((c=A===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Mb(a.type,a.memoizedProps)),c=!c),c&&un&&LA(a),zo(a),A===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));un=cB(a)}else if(A===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));un=cB(a)}else A===27?(A=un,Pc(a.type)?(a=Kb,Kb=null,un=a):un=A):un=Ss?bo(a.stateNode.nextSibling):null;return!0}function Il(){un=Ss=null,pr=!1}function Hf(){var a=la;return a!==null&&(vi===null?vi=a:vi.push.apply(vi,a),la=null),a}function Ec(a){la===null?la=[a]:la.push(a)}var Xd=X(null),kA=null,ho=null;function RA(a,A,c){H(Xd,A._currentValue),A._currentValue=c}function pi(a){a._currentValue=Xd.current,L(Xd)}function Sc(a,A,c){for(;a!==null;){var f=a.alternate;if((a.childLanes&A)!==A?(a.childLanes|=A,f!==null&&(f.childLanes|=A)):f!==null&&(f.childLanes&A)!==A&&(f.childLanes|=A),a===c)break;a=a.return}}function jl(a,A,c,f){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var B=y.dependencies;if(B!==null){var k=y.child;B=B.firstContext;e:for(;B!==null;){var Z=B;B=y;for(var pe=0;pe<A.length;pe++)if(Z.context===A[pe]){B.lanes|=c,Z=B.alternate,Z!==null&&(Z.lanes|=c),Sc(B.return,c,a),f||(k=null);break e}B=Z.next}}else if(y.tag===18){if(k=y.return,k===null)throw Error(n(341));k.lanes|=c,B=k.alternate,B!==null&&(B.lanes|=c),Sc(k,c,a),k=null}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===a){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}}function DA(a,A,c,f){a=null;for(var y=A,B=!1;y!==null;){if(!B){if((y.flags&524288)!==0)B=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var k=y.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var Z=y.type;Os(y.pendingProps.value,k.value)||(a!==null?a.push(Z):a=[Z])}}else if(y===me.current){if(k=y.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(f0):a=[f0])}y=y.return}a!==null&&jl(A,a,c,f),A.flags|=262144}function $d(a){for(a=a.firstContext;a!==null;){if(!Os(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function MA(a){kA=a,ho=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function js(a){return cm(kA,a)}function Yd(a,A){return kA===null&&MA(a),cm(a,A)}function cm(a,A){var c=A._currentValue;if(A={context:A,memoizedValue:c,next:null},ho===null){if(a===null)throw Error(n(308));ho=A,a.dependencies={lanes:0,firstContext:A},a.flags|=524288}else ho=ho.next=A;return c}var Vx=typeof AbortController<"u"?AbortController:function(){var a=[],A=this.signal={aborted:!1,addEventListener:function(c,f){a.push(f)}};this.abort=function(){A.aborted=!0,a.forEach(function(c){return c()})}},Kx=r.unstable_scheduleCallback,zx=r.unstable_NormalPriority,Kn={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ic(){return{controller:new Vx,data:new Map,refCount:0}}function Vu(a){a.refCount--,a.refCount===0&&Kx(zx,function(){a.controller.abort()})}var Ku=null,Wd=0,m=0,w=null;function _(a,A){if(Ku===null){var c=Ku=[];Wd=0,m=jb(),w={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Wd++,A.then(j,j),A}function j(){if(--Wd===0&&Ku!==null){w!==null&&(w.status="fulfilled");var a=Ku;Ku=null,m=0,w=null;for(var A=0;A<a.length;A++)(0,a[A])()}}function V(a,A){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){f.status="fulfilled",f.value=A;for(var y=0;y<c.length;y++)(0,c[y])(A)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var q=te.S;te.S=function(a,A){C4=bt(),typeof A=="object"&&A!==null&&typeof A.then=="function"&&_(a,A),q!==null&&q(a,A)};var G=X(null);function W(){var a=G.current;return a!==null?a:hn.pooledCache}function ne(a,A){A===null?H(G,G.current):H(G,A.pool)}function Ae(){var a=W();return a===null?null:{parent:Kn._currentValue,pool:a}}var ye=Error(n(460)),Te=Error(n(474)),je=Error(n(542)),_e={then:function(){}};function Ye(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Pe(a,A,c){switch(c=a[c],c===void 0?a.push(A):c!==A&&(A.then(sn,sn),A=c),A.status){case"fulfilled":return A.value;case"rejected":throw a=A.reason,et(a),a;default:if(typeof A.status=="string")A.then(sn,sn);else{if(a=hn,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=A,a.status="pending",a.then(function(f){if(A.status==="pending"){var y=A;y.status="fulfilled",y.value=f}},function(f){if(A.status==="pending"){var y=A;y.status="rejected",y.reason=f}})}switch(A.status){case"fulfilled":return A.value;case"rejected":throw a=A.reason,et(a),a}throw Ce=A,ye}}function we(a){try{var A=a._init;return A(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ce=c,ye):c}}var Ce=null;function qe(){if(Ce===null)throw Error(n(459));var a=Ce;return Ce=null,a}function et(a){if(a===ye||a===je)throw Error(n(483))}var ze=null,gt=0;function lt(a){var A=gt;return gt+=1,ze===null&&(ze=[]),Pe(ze,a,A)}function Dt(a,A){A=A.props.ref,a.ref=A!==void 0?A:null}function dt(a,A){throw A.$$typeof===v?Error(n(525)):(a=Object.prototype.toString.call(A),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":a)))}function Qr(a){function A(Se,Ne){if(a){var Ue=Se.deletions;Ue===null?(Se.deletions=[Ne],Se.flags|=16):Ue.push(Ne)}}function c(Se,Ne){if(!a)return null;for(;Ne!==null;)A(Se,Ne),Ne=Ne.sibling;return null}function f(Se){for(var Ne=new Map;Se!==null;)Se.key!==null?Ne.set(Se.key,Se):Ne.set(Se.index,Se),Se=Se.sibling;return Ne}function y(Se,Ne){return Se=ui(Se,Ne),Se.index=0,Se.sibling=null,Se}function B(Se,Ne,Ue){return Se.index=Ue,a?(Ue=Se.alternate,Ue!==null?(Ue=Ue.index,Ue<Ne?(Se.flags|=67108866,Ne):Ue):(Se.flags|=67108866,Ne)):(Se.flags|=1048576,Ne)}function k(Se){return a&&Se.alternate===null&&(Se.flags|=67108866),Se}function Z(Se,Ne,Ue,Ge){return Ne===null||Ne.tag!==6?(Ne=Pu(Ue,Se.mode,Ge),Ne.return=Se,Ne):(Ne=y(Ne,Ue),Ne.return=Se,Ne)}function pe(Se,Ne,Ue,Ge){var Vt=Ue.type;return Vt===I?Ke(Se,Ne,Ue.props.children,Ge,Ue.key):Ne!==null&&(Ne.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===S&&we(Vt)===Ne.type)?(Ne=y(Ne,Ue.props),Dt(Ne,Ue),Ne.return=Se,Ne):(Ne=Nc(Ue.type,Ue.key,Ue.props,null,Se.mode,Ge),Dt(Ne,Ue),Ne.return=Se,Ne)}function Fe(Se,Ne,Ue,Ge){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==Ue.containerInfo||Ne.stateNode.implementation!==Ue.implementation?(Ne=Cc(Ue,Se.mode,Ge),Ne.return=Se,Ne):(Ne=y(Ne,Ue.children||[]),Ne.return=Se,Ne)}function Ke(Se,Ne,Ue,Ge,Vt){return Ne===null||Ne.tag!==7?(Ne=FA(Ue,Se.mode,Ge,Vt),Ne.return=Se,Ne):(Ne=y(Ne,Ue),Ne.return=Se,Ne)}function We(Se,Ne,Ue){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=Pu(""+Ne,Se.mode,Ue),Ne.return=Se,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case N:return Ue=Nc(Ne.type,Ne.key,Ne.props,null,Se.mode,Ue),Dt(Ue,Ne),Ue.return=Se,Ue;case T:return Ne=Cc(Ne,Se.mode,Ue),Ne.return=Se,Ne;case S:return Ne=we(Ne),We(Se,Ne,Ue)}if(be(Ne)||F(Ne))return Ne=FA(Ne,Se.mode,Ue,null),Ne.return=Se,Ne;if(typeof Ne.then=="function")return We(Se,lt(Ne),Ue);if(Ne.$$typeof===K)return We(Se,Yd(Se,Ne),Ue);dt(Se,Ne)}return null}function Le(Se,Ne,Ue,Ge){var Vt=Ne!==null?Ne.key:null;if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Vt!==null?null:Z(Se,Ne,""+Ue,Ge);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case N:return Ue.key===Vt?pe(Se,Ne,Ue,Ge):null;case T:return Ue.key===Vt?Fe(Se,Ne,Ue,Ge):null;case S:return Ue=we(Ue),Le(Se,Ne,Ue,Ge)}if(be(Ue)||F(Ue))return Vt!==null?null:Ke(Se,Ne,Ue,Ge,null);if(typeof Ue.then=="function")return Le(Se,Ne,lt(Ue),Ge);if(Ue.$$typeof===K)return Le(Se,Ne,Yd(Se,Ue),Ge);dt(Se,Ue)}return null}function De(Se,Ne,Ue,Ge,Vt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Se=Se.get(Ue)||null,Z(Ne,Se,""+Ge,Vt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case N:return Se=Se.get(Ge.key===null?Ue:Ge.key)||null,pe(Ne,Se,Ge,Vt);case T:return Se=Se.get(Ge.key===null?Ue:Ge.key)||null,Fe(Ne,Se,Ge,Vt);case S:return Ge=we(Ge),De(Se,Ne,Ue,Ge,Vt)}if(be(Ge)||F(Ge))return Se=Se.get(Ue)||null,Ke(Ne,Se,Ge,Vt,null);if(typeof Ge.then=="function")return De(Se,Ne,Ue,lt(Ge),Vt);if(Ge.$$typeof===K)return De(Se,Ne,Ue,Yd(Ne,Ge),Vt);dt(Ne,Ge)}return null}function Et(Se,Ne,Ue,Ge){for(var Vt=null,Pr=null,Lt=Ne,dr=Ne=0,Br=null;Lt!==null&&dr<Ue.length;dr++){Lt.index>dr?(Br=Lt,Lt=null):Br=Lt.sibling;var Hr=Le(Se,Lt,Ue[dr],Ge);if(Hr===null){Lt===null&&(Lt=Br);break}a&&Lt&&Hr.alternate===null&&A(Se,Lt),Ne=B(Hr,Ne,dr),Pr===null?Vt=Hr:Pr.sibling=Hr,Pr=Hr,Lt=Br}if(dr===Ue.length)return c(Se,Lt),pr&&$a(Se,dr),Vt;if(Lt===null){for(;dr<Ue.length;dr++)Lt=We(Se,Ue[dr],Ge),Lt!==null&&(Ne=B(Lt,Ne,dr),Pr===null?Vt=Lt:Pr.sibling=Lt,Pr=Lt);return pr&&$a(Se,dr),Vt}for(Lt=f(Lt);dr<Ue.length;dr++)Br=De(Lt,Se,dr,Ue[dr],Ge),Br!==null&&(a&&Br.alternate!==null&&Lt.delete(Br.key===null?dr:Br.key),Ne=B(Br,Ne,dr),Pr===null?Vt=Br:Pr.sibling=Br,Pr=Br);return a&&Lt.forEach(function(qc){return A(Se,qc)}),pr&&$a(Se,dr),Vt}function Gt(Se,Ne,Ue,Ge){if(Ue==null)throw Error(n(151));for(var Vt=null,Pr=null,Lt=Ne,dr=Ne=0,Br=null,Hr=Ue.next();Lt!==null&&!Hr.done;dr++,Hr=Ue.next()){Lt.index>dr?(Br=Lt,Lt=null):Br=Lt.sibling;var qc=Le(Se,Lt,Hr.value,Ge);if(qc===null){Lt===null&&(Lt=Br);break}a&&Lt&&qc.alternate===null&&A(Se,Lt),Ne=B(qc,Ne,dr),Pr===null?Vt=qc:Pr.sibling=qc,Pr=qc,Lt=Br}if(Hr.done)return c(Se,Lt),pr&&$a(Se,dr),Vt;if(Lt===null){for(;!Hr.done;dr++,Hr=Ue.next())Hr=We(Se,Hr.value,Ge),Hr!==null&&(Ne=B(Hr,Ne,dr),Pr===null?Vt=Hr:Pr.sibling=Hr,Pr=Hr);return pr&&$a(Se,dr),Vt}for(Lt=f(Lt);!Hr.done;dr++,Hr=Ue.next())Hr=De(Lt,Se,dr,Hr.value,Ge),Hr!==null&&(a&&Hr.alternate!==null&&Lt.delete(Hr.key===null?dr:Hr.key),Ne=B(Hr,Ne,dr),Pr===null?Vt=Hr:Pr.sibling=Hr,Pr=Hr);return a&&Lt.forEach(function(p8){return A(Se,p8)}),pr&&$a(Se,dr),Vt}function An(Se,Ne,Ue,Ge){if(typeof Ue=="object"&&Ue!==null&&Ue.type===I&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case N:e:{for(var Vt=Ue.key;Ne!==null;){if(Ne.key===Vt){if(Vt=Ue.type,Vt===I){if(Ne.tag===7){c(Se,Ne.sibling),Ge=y(Ne,Ue.props.children),Ge.return=Se,Se=Ge;break e}}else if(Ne.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===S&&we(Vt)===Ne.type){c(Se,Ne.sibling),Ge=y(Ne,Ue.props),Dt(Ge,Ue),Ge.return=Se,Se=Ge;break e}c(Se,Ne);break}else A(Se,Ne);Ne=Ne.sibling}Ue.type===I?(Ge=FA(Ue.props.children,Se.mode,Ge,Ue.key),Ge.return=Se,Se=Ge):(Ge=Nc(Ue.type,Ue.key,Ue.props,null,Se.mode,Ge),Dt(Ge,Ue),Ge.return=Se,Se=Ge)}return k(Se);case T:e:{for(Vt=Ue.key;Ne!==null;){if(Ne.key===Vt)if(Ne.tag===4&&Ne.stateNode.containerInfo===Ue.containerInfo&&Ne.stateNode.implementation===Ue.implementation){c(Se,Ne.sibling),Ge=y(Ne,Ue.children||[]),Ge.return=Se,Se=Ge;break e}else{c(Se,Ne);break}else A(Se,Ne);Ne=Ne.sibling}Ge=Cc(Ue,Se.mode,Ge),Ge.return=Se,Se=Ge}return k(Se);case S:return Ue=we(Ue),An(Se,Ne,Ue,Ge)}if(be(Ue))return Et(Se,Ne,Ue,Ge);if(F(Ue)){if(Vt=F(Ue),typeof Vt!="function")throw Error(n(150));return Ue=Vt.call(Ue),Gt(Se,Ne,Ue,Ge)}if(typeof Ue.then=="function")return An(Se,Ne,lt(Ue),Ge);if(Ue.$$typeof===K)return An(Se,Ne,Yd(Se,Ue),Ge);dt(Se,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint"?(Ue=""+Ue,Ne!==null&&Ne.tag===6?(c(Se,Ne.sibling),Ge=y(Ne,Ue),Ge.return=Se,Se=Ge):(c(Se,Ne),Ge=Pu(Ue,Se.mode,Ge),Ge.return=Se,Se=Ge),k(Se)):c(Se,Ne)}return function(Se,Ne,Ue,Ge){try{gt=0;var Vt=An(Se,Ne,Ue,Ge);return ze=null,Vt}catch(Lt){if(Lt===ye||Lt===je)throw Lt;var Pr=Ks(29,Lt,null,Se.mode);return Pr.lanes=Ge,Pr.return=Se,Pr}finally{}}}var xr=Qr(!0),wr=Qr(!1),ir=!1;function Kr(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Or(a,A){a=a.updateQueue,A.updateQueue===a&&(A.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function qt(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Yr(a,A,c){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(zr&2)!==0){var y=f.pending;return y===null?A.next=A:(A.next=y.next,y.next=A),f.pending=A,A=Vs(a),Mu(a,null,c),A}return Vo(a,f,A,c),Vs(a)}function hs(a,A,c){if(A=A.updateQueue,A!==null&&(A=A.shared,(c&4194048)!==0)){var f=A.lanes;f&=a.pendingLanes,c|=f,A.lanes=c,kt(a,c)}}function jn(a,A){var c=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,B=null;if(c=c.firstBaseUpdate,c!==null){do{var k={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};B===null?y=B=k:B=B.next=k,c=c.next}while(c!==null);B===null?y=B=A:B=B.next=A}else y=B=A;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:B,shared:f.shared,callbacks:f.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=A:a.next=A,c.lastBaseUpdate=A}var zs=!1;function Ir(){if(zs){var a=w;if(a!==null)throw a}}function Ts(a,A,c,f){zs=!1;var y=a.updateQueue;ir=!1;var B=y.firstBaseUpdate,k=y.lastBaseUpdate,Z=y.shared.pending;if(Z!==null){y.shared.pending=null;var pe=Z,Fe=pe.next;pe.next=null,k===null?B=Fe:k.next=Fe,k=pe;var Ke=a.alternate;Ke!==null&&(Ke=Ke.updateQueue,Z=Ke.lastBaseUpdate,Z!==k&&(Z===null?Ke.firstBaseUpdate=Fe:Z.next=Fe,Ke.lastBaseUpdate=pe))}if(B!==null){var We=y.baseState;k=0,Ke=Fe=pe=null,Z=B;do{var Le=Z.lane&-536870913,De=Le!==Z.lane;if(De?(vr&Le)===Le:(f&Le)===Le){Le!==0&&Le===m&&(zs=!0),Ke!==null&&(Ke=Ke.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var Et=a,Gt=Z;Le=A;var An=c;switch(Gt.tag){case 1:if(Et=Gt.payload,typeof Et=="function"){We=Et.call(An,We,Le);break e}We=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Gt.payload,Le=typeof Et=="function"?Et.call(An,We,Le):Et,Le==null)break e;We=p({},We,Le);break e;case 2:ir=!0}}Le=Z.callback,Le!==null&&(a.flags|=64,De&&(a.flags|=8192),De=y.callbacks,De===null?y.callbacks=[Le]:De.push(Le))}else De={lane:Le,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ke===null?(Fe=Ke=De,pe=We):Ke=Ke.next=De,k|=Le;if(Z=Z.next,Z===null){if(Z=y.shared.pending,Z===null)break;De=Z,Z=De.next,De.next=null,y.lastBaseUpdate=De,y.shared.pending=null}}while(!0);Ke===null&&(pe=We),y.baseState=pe,y.firstBaseUpdate=Fe,y.lastBaseUpdate=Ke,B===null&&(y.shared.lanes=0),kc|=k,a.lanes=k,a.memoizedState=We}}function Na(a,A){if(typeof a!="function")throw Error(n(191,a));a.call(A)}function Zn(a,A){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Na(c[a],A)}var Tn=X(null),fs=X(0);function Ya(a,A){a=Hl,H(fs,a),H(Tn,A),Hl=a|A.baseLanes}function xi(){H(fs,Hl),H(Tn,Tn.current)}function Xn(){Hl=fs.current,L(Tn),L(fs)}var zn=X(null),gs=null;function Wa(a){var A=a.alternate;H(Un,Un.current&1),H(zn,a),gs===null&&(A===null||Tn.current!==null||A.memoizedState!==null)&&(gs=a)}function fo(a){H(Un,Un.current),H(zn,a),gs===null&&(gs=a)}function Bn(a){a.tag===22?(H(Un,Un.current),H(zn,a),gs===null&&(gs=a)):go()}function go(){H(Un,Un.current),H(zn,zn.current)}function Ca(a){L(zn),gs===a&&(gs=null),L(Un)}var Un=X(0);function Tl(a){for(var A=a;A!==null;){if(A.tag===13){var c=A.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Hb(c)||Vb(c)))return A}else if(A.tag===19&&(A.memoizedProps.revealOrder==="forwards"||A.memoizedProps.revealOrder==="backwards"||A.memoizedProps.revealOrder==="unstable_legacy-backwards"||A.memoizedProps.revealOrder==="together")){if((A.flags&128)!==0)return A}else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break;for(;A.sibling===null;){if(A.return===null||A.return===a)return null;A=A.return}A.sibling.return=A.return,A=A.sibling}return null}var Ja=0,tr=null,hr=null,dn=null,qo=!1,Ul=!1,mo=!1,zu=0,OA=0,PA=null,Jd=0;function an(){throw Error(n(321))}function Vf(a,A){if(A===null)return!1;for(var c=0;c<A.length&&c<a.length;c++)if(!Os(a[c],A[c]))return!1;return!0}function Kf(a,A,c,f,y,B){return Ja=B,tr=A,A.memoizedState=null,A.updateQueue=null,A.lanes=0,te.H=a===null||a.memoizedState===null?k5:Zx,mo=!1,B=c(f,y),mo=!1,Ul&&(B=Go(A,c,f,y)),Zd(a),B}function Zd(a){te.H=Jf;var A=hr!==null&&hr.next!==null;if(Ja=0,dn=hr=tr=null,qo=!1,OA=0,PA=null,A)throw Error(n(300));a===null||ps||(a=a.dependencies,a!==null&&$d(a)&&(ps=!0))}function Go(a,A,c,f){tr=a;var y=0;do{if(Ul&&(PA=null),OA=0,Ul=!1,25<=y)throw Error(n(301));if(y+=1,dn=hr=null,a.updateQueue!=null){var B=a.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}te.H=R5,B=A(c,f)}while(Ul);return B}function qx(){var a=te.H,A=a.useState()[0];return A=typeof A.then=="function"?HA(A):A,a=a.useState()[0],(hr!==null?hr.memoizedState:null)!==a&&(tr.flags|=1024),A}function zf(){var a=zu!==0;return zu=0,a}function qf(a,A,c){A.updateQueue=a.updateQueue,A.flags&=-2053,a.lanes&=~c}function eh(a){if(qo){for(a=a.memoizedState;a!==null;){var A=a.queue;A!==null&&(A.pending=null),a=a.next}qo=!1}Ja=0,dn=hr=tr=null,Ul=!1,OA=zu=0,PA=null}function ms(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?tr.memoizedState=dn=a:dn=dn.next=a,dn}function Fn(){if(hr===null){var a=tr.alternate;a=a!==null?a.memoizedState:null}else a=hr.next;var A=dn===null?tr.memoizedState:dn.next;if(A!==null)dn=A,hr=a;else{if(a===null)throw tr.alternate===null?Error(n(467)):Error(n(310));hr=a,a={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},dn===null?tr.memoizedState=dn=a:dn=dn.next=a}return dn}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function HA(a){var A=OA;return OA+=1,PA===null&&(PA=[]),a=Pe(PA,a,A),A=tr,(dn===null?A.memoizedState:dn.next)===null&&(A=A.alternate,te.H=A===null||A.memoizedState===null?k5:Zx),a}function jc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return HA(a);if(a.$$typeof===K)return js(a)}throw Error(n(438,String(a)))}function Fl(a){var A=null,c=tr.updateQueue;if(c!==null&&(A=c.memoCache),A==null){var f=tr.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(A={data:f.data.map(function(y){return y.slice()}),index:0})))}if(A==null&&(A={data:[],index:0}),c===null&&(c=qu(),tr.updateQueue=c),c.memoCache=A,c=A.data[A.index],c===void 0)for(c=A.data[A.index]=Array(a),f=0;f<a;f++)c[f]=z;return A.index++,c}function po(a,A){return typeof A=="function"?A(a):A}function th(a){var A=Fn();return Tc(A,hr,a)}function Tc(a,A,c){var f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=c;var y=a.baseQueue,B=f.pending;if(B!==null){if(y!==null){var k=y.next;y.next=B.next,B.next=k}A.baseQueue=y=B,f.pending=null}if(B=a.baseState,y===null)a.memoizedState=B;else{A=y.next;var Z=k=null,pe=null,Fe=A,Ke=!1;do{var We=Fe.lane&-536870913;if(We!==Fe.lane?(vr&We)===We:(Ja&We)===We){var Le=Fe.revertLane;if(Le===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,gesture:null,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),We===m&&(Ke=!0);else if((Ja&Le)===Le){Fe=Fe.next,Le===m&&(Ke=!0);continue}else We={lane:0,revertLane:Fe.revertLane,gesture:null,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},pe===null?(Z=pe=We,k=B):pe=pe.next=We,tr.lanes|=Le,kc|=Le;We=Fe.action,mo&&c(B,We),B=Fe.hasEagerState?Fe.eagerState:c(B,We)}else Le={lane:We,revertLane:Fe.revertLane,gesture:Fe.gesture,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},pe===null?(Z=pe=Le,k=B):pe=pe.next=Le,tr.lanes|=We,kc|=We;Fe=Fe.next}while(Fe!==null&&Fe!==A);if(pe===null?k=B:pe.next=Z,!Os(B,a.memoizedState)&&(ps=!0,Ke&&(c=w,c!==null)))throw c;a.memoizedState=B,a.baseState=k,a.baseQueue=pe,f.lastRenderedState=B}return y===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function rh(a){var A=Fn(),c=A.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var f=c.dispatch,y=c.pending,B=A.memoizedState;if(y!==null){c.pending=null;var k=y=y.next;do B=a(B,k.action),k=k.next;while(k!==y);Os(B,A.memoizedState)||(ps=!0),A.memoizedState=B,A.baseQueue===null&&(A.baseState=B),c.lastRenderedState=B}return[B,f]}function nh(a,A,c){var f=tr,y=Fn(),B=pr;if(B){if(c===void 0)throw Error(n(407));c=c()}else c=A();var k=!Os((hr||y).memoizedState,c);if(k&&(y.memoizedState=c,ps=!0),y=y.queue,Gx(Xf.bind(null,f,y,a),[a]),y.getSnapshot!==A||k||dn!==null&&dn.memoizedState.tag&1){if(f.flags|=2048,Ll(9,{destroy:void 0},Gf.bind(null,f,y,c,A),null),hn===null)throw Error(n(349));B||(Ja&127)!==0||Xo(f,A,c)}return c}function Xo(a,A,c){a.flags|=16384,a={getSnapshot:A,value:c},A=tr.updateQueue,A===null?(A=qu(),tr.updateQueue=A,A.stores=[a]):(c=A.stores,c===null?A.stores=[a]:c.push(a))}function Gf(a,A,c,f){A.value=c,A.getSnapshot=f,um(A)&&$f(a)}function Xf(a,A,c){return c(function(){um(A)&&$f(a)})}function um(a){var A=a.getSnapshot;a=a.value;try{var c=A();return!Os(a,c)}catch{return!0}}function $f(a){var A=Ko(a,2);A!==null&&Bi(A,a,2)}function VA(a){var A=ms();if(typeof a=="function"){var c=a;if(a=c(),mo){Ut(!0);try{c()}finally{Ut(!1)}}}return A.memoizedState=A.baseState=a,A.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:a},A}function dm(a,A,c,f){return a.baseState=c,Tc(a,hr,typeof f=="function"?f:po)}function hm(a,A,c,f,y){if(pm(a))throw Error(n(485));if(a=A.action,a!==null){var B={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){B.listeners.push(k)}};te.T!==null?c(!0):B.isTransition=!1,f(B),c=A.pending,c===null?(B.next=A.pending=B,fm(A,B)):(B.next=c.next,A.pending=c.next=B)}}function fm(a,A){var c=A.action,f=A.payload,y=a.state;if(A.isTransition){var B=te.T,k={};te.T=k;try{var Z=c(y,f),pe=te.S;pe!==null&&pe(k,Z),Yf(a,A,Z)}catch(Fe){Ql(a,A,Fe)}finally{B!==null&&k.types!==null&&(B.types=k.types),te.T=B}}else try{B=c(y,f),Yf(a,A,B)}catch(Fe){Ql(a,A,Fe)}}function Yf(a,A,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){gm(a,A,f)},function(f){return Ql(a,A,f)}):gm(a,A,c)}function gm(a,A,c){A.status="fulfilled",A.value=c,sh(A),a.state=c,A=a.pending,A!==null&&(c=A.next,c===A?a.pending=null:(c=c.next,A.next=c,fm(a,c)))}function Ql(a,A,c){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do A.status="rejected",A.reason=c,sh(A),A=A.next;while(A!==f)}a.action=null}function sh(a){a=a.listeners;for(var A=0;A<a.length;A++)(0,a[A])()}function Gu(a,A){return A}function xo(a,A){if(pr){var c=hn.formState;if(c!==null){e:{var f=tr;if(pr){if(un){t:{for(var y=un,B=In;y.nodeType!==8;){if(!B){y=null;break t}if(y=bo(y.nextSibling),y===null){y=null;break t}}B=y.data,y=B==="F!"||B==="F"?y:null}if(y){un=bo(y.nextSibling),f=y.data==="F!";break e}}LA(f)}f=!1}f&&(A=c[0])}}return c=ms(),c.memoizedState=c.baseState=A,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:A},c.queue=f,c=F5.bind(null,tr,f),f.dispatch=c,f=VA(!1),B=Jx.bind(null,tr,!1,f.queue),f=ms(),y={state:A,dispatch:null,action:a,pending:null},f.queue=y,c=hm.bind(null,tr,y,B,c),y.dispatch=c,f.memoizedState=a,[A,c,!1]}function $o(a){var A=Fn();return Yo(A,hr,a)}function Yo(a,A,c){if(A=Tc(a,A,Gu)[0],a=th(po)[0],typeof A=="object"&&A!==null&&typeof A.then=="function")try{var f=HA(A)}catch(k){throw k===ye?je:k}else f=A;A=Fn();var y=A.queue,B=y.dispatch;return c!==A.memoizedState&&(tr.flags|=2048,Ll(9,{destroy:void 0},ah.bind(null,y,c),null)),[f,B,a]}function ah(a,A){a.action=A}function ih(a){var A=Fn(),c=hr;if(c!==null)return Yo(A,c,a);Fn(),A=A.memoizedState,c=Fn();var f=c.queue.dispatch;return c.memoizedState=a,[A,f,!1]}function Ll(a,A,c,f){return a={tag:a,create:c,deps:f,inst:A,next:null},A=tr.updateQueue,A===null&&(A=qu(),tr.updateQueue=A),c=A.lastEffect,c===null?A.lastEffect=a.next=a:(f=c.next,c.next=a,a.next=f,A.lastEffect=a),a}function mm(){return Fn().memoizedState}function Uc(a,A,c,f){var y=ms();tr.flags|=a,y.memoizedState=Ll(1|A,{destroy:void 0},c,f===void 0?null:f)}function Fc(a,A,c,f){var y=Fn();f=f===void 0?null:f;var B=y.memoizedState.inst;hr!==null&&f!==null&&Vf(f,hr.memoizedState.deps)?y.memoizedState=Ll(A,B,c,f):(tr.flags|=a,y.memoizedState=Ll(1|A,B,c,f))}function b5(a,A){Uc(8390656,8,a,A)}function Gx(a,A){Fc(2048,8,a,A)}function uT(a){tr.flags|=4;var A=tr.updateQueue;if(A===null)A=qu(),tr.updateQueue=A,A.events=[a];else{var c=A.events;c===null?A.events=[a]:c.push(a)}}function y5(a){var A=Fn().memoizedState;return uT({ref:A,nextImpl:a}),function(){if((zr&2)!==0)throw Error(n(440));return A.impl.apply(void 0,arguments)}}function w5(a,A){return Fc(4,2,a,A)}function v5(a,A){return Fc(4,4,a,A)}function B5(a,A){if(typeof A=="function"){a=a();var c=A(a);return function(){typeof c=="function"?c():A(null)}}if(A!=null)return a=a(),A.current=a,function(){A.current=null}}function N5(a,A,c){c=c!=null?c.concat([a]):null,Fc(4,4,B5.bind(null,A,a),c)}function Xx(){}function C5(a,A){var c=Fn();A=A===void 0?null:A;var f=c.memoizedState;return A!==null&&Vf(A,f[1])?f[0]:(c.memoizedState=[a,A],a)}function _5(a,A){var c=Fn();A=A===void 0?null:A;var f=c.memoizedState;if(A!==null&&Vf(A,f[1]))return f[0];if(f=a(),mo){Ut(!0);try{a()}finally{Ut(!1)}}return c.memoizedState=[f,A],f}function $x(a,A,c){return c===void 0||(Ja&1073741824)!==0&&(vr&261930)===0?a.memoizedState=A:(a.memoizedState=c,a=E4(),tr.lanes|=a,kc|=a,c)}function E5(a,A,c,f){return Os(c,A)?c:Tn.current!==null?(a=$x(a,c,f),Os(a,A)||(ps=!0),a):(Ja&42)===0||(Ja&1073741824)!==0&&(vr&261930)===0?(ps=!0,a.memoizedState=c):(a=E4(),tr.lanes|=a,kc|=a,A)}function S5(a,A,c,f,y){var B=Y.p;Y.p=B!==0&&8>B?B:8;var k=te.T,Z={};te.T=Z,Jx(a,!1,A,c);try{var pe=y(),Fe=te.S;if(Fe!==null&&Fe(Z,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Ke=V(pe,f);Wf(a,A,Ke,Xi(a))}else Wf(a,A,f,Xi(a))}catch(We){Wf(a,A,{then:function(){},status:"rejected",reason:We},Xi())}finally{Y.p=B,k!==null&&Z.types!==null&&(k.types=Z.types),te.T=k}}function dT(){}function Yx(a,A,c,f){if(a.tag!==5)throw Error(n(476));var y=I5(a).queue;S5(a,y,A,ie,c===null?dT:function(){return j5(a),c(f)})}function I5(a){var A=a.memoizedState;if(A!==null)return A;A={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:ie},next:null};var c={};return A.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:c},next:null},a.memoizedState=A,a=a.alternate,a!==null&&(a.memoizedState=A),A}function j5(a){var A=I5(a);A.next===null&&(A=a.alternate.memoizedState),Wf(a,A.next.queue,{},Xi())}function Wx(){return js(f0)}function T5(){return Fn().memoizedState}function U5(){return Fn().memoizedState}function hT(a){for(var A=a.return;A!==null;){switch(A.tag){case 24:case 3:var c=Xi();a=qt(c);var f=Yr(A,a,c);f!==null&&(Bi(f,A,c),hs(f,A,c)),A={cache:Ic()},a.payload=A;return}A=A.return}}function fT(a,A,c){var f=Xi();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},pm(a)?Q5(A,c):(c=Bc(a,A,c,f),c!==null&&(Bi(c,a,f),L5(c,A,f)))}function F5(a,A,c){var f=Xi();Wf(a,A,c,f)}function Wf(a,A,c,f){var y={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(pm(a))Q5(A,y);else{var B=a.alternate;if(a.lanes===0&&(B===null||B.lanes===0)&&(B=A.lastRenderedReducer,B!==null))try{var k=A.lastRenderedState,Z=B(k,c);if(y.hasEagerState=!0,y.eagerState=Z,Os(Z,k))return Vo(a,A,y,0),hn===null&&UA(),!1}catch{}finally{}if(c=Bc(a,A,y,f),c!==null)return Bi(c,a,f),L5(c,A,f),!0}return!1}function Jx(a,A,c,f){if(f={lane:2,revertLane:jb(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},pm(a)){if(A)throw Error(n(479))}else A=Bc(a,c,f,2),A!==null&&Bi(A,a,2)}function pm(a){var A=a.alternate;return a===tr||A!==null&&A===tr}function Q5(a,A){Ul=qo=!0;var c=a.pending;c===null?A.next=A:(A.next=c.next,c.next=A),a.pending=A}function L5(a,A,c){if((c&4194048)!==0){var f=A.lanes;f&=a.pendingLanes,c|=f,A.lanes=c,kt(a,c)}}var Jf={readContext:js,use:jc,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};Jf.useEffectEvent=an;var k5={readContext:js,use:jc,useCallback:function(a,A){return ms().memoizedState=[a,A===void 0?null:A],a},useContext:js,useEffect:b5,useImperativeHandle:function(a,A,c){c=c!=null?c.concat([a]):null,Uc(4194308,4,B5.bind(null,A,a),c)},useLayoutEffect:function(a,A){return Uc(4194308,4,a,A)},useInsertionEffect:function(a,A){Uc(4,2,a,A)},useMemo:function(a,A){var c=ms();A=A===void 0?null:A;var f=a();if(mo){Ut(!0);try{a()}finally{Ut(!1)}}return c.memoizedState=[f,A],f},useReducer:function(a,A,c){var f=ms();if(c!==void 0){var y=c(A);if(mo){Ut(!0);try{c(A)}finally{Ut(!1)}}}else y=A;return f.memoizedState=f.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},f.queue=a,a=a.dispatch=fT.bind(null,tr,a),[f.memoizedState,a]},useRef:function(a){var A=ms();return a={current:a},A.memoizedState=a},useState:function(a){a=VA(a);var A=a.queue,c=F5.bind(null,tr,A);return A.dispatch=c,[a.memoizedState,c]},useDebugValue:Xx,useDeferredValue:function(a,A){var c=ms();return $x(c,a,A)},useTransition:function(){var a=VA(!1);return a=S5.bind(null,tr,a.queue,!0,!1),ms().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,A,c){var f=tr,y=ms();if(pr){if(c===void 0)throw Error(n(407));c=c()}else{if(c=A(),hn===null)throw Error(n(349));(vr&127)!==0||Xo(f,A,c)}y.memoizedState=c;var B={value:c,getSnapshot:A};return y.queue=B,b5(Xf.bind(null,f,B,a),[a]),f.flags|=2048,Ll(9,{destroy:void 0},Gf.bind(null,f,B,c,A),null),c},useId:function(){var a=ms(),A=hn.identifierPrefix;if(pr){var c=mi,f=gi;c=(f&~(1<<32-Ft(f)-1)).toString(32)+c,A="_"+A+"R_"+c,c=zu++,0<c&&(A+="H"+c.toString(32)),A+="_"}else c=Jd++,A="_"+A+"r_"+c.toString(32)+"_";return a.memoizedState=A},useHostTransitionStatus:Wx,useFormState:xo,useActionState:xo,useOptimistic:function(a){var A=ms();A.memoizedState=A.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return A.queue=c,A=Jx.bind(null,tr,!0,c),c.dispatch=A,[a,A]},useMemoCache:Fl,useCacheRefresh:function(){return ms().memoizedState=hT.bind(null,tr)},useEffectEvent:function(a){var A=ms(),c={impl:a};return A.memoizedState=c,function(){if((zr&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},Zx={readContext:js,use:jc,useCallback:C5,useContext:js,useEffect:Gx,useImperativeHandle:N5,useInsertionEffect:w5,useLayoutEffect:v5,useMemo:_5,useReducer:th,useRef:mm,useState:function(){return th(po)},useDebugValue:Xx,useDeferredValue:function(a,A){var c=Fn();return E5(c,hr.memoizedState,a,A)},useTransition:function(){var a=th(po)[0],A=Fn().memoizedState;return[typeof a=="boolean"?a:HA(a),A]},useSyncExternalStore:nh,useId:T5,useHostTransitionStatus:Wx,useFormState:$o,useActionState:$o,useOptimistic:function(a,A){var c=Fn();return dm(c,hr,a,A)},useMemoCache:Fl,useCacheRefresh:U5};Zx.useEffectEvent=y5;var R5={readContext:js,use:jc,useCallback:C5,useContext:js,useEffect:Gx,useImperativeHandle:N5,useInsertionEffect:w5,useLayoutEffect:v5,useMemo:_5,useReducer:rh,useRef:mm,useState:function(){return rh(po)},useDebugValue:Xx,useDeferredValue:function(a,A){var c=Fn();return hr===null?$x(c,a,A):E5(c,hr.memoizedState,a,A)},useTransition:function(){var a=rh(po)[0],A=Fn().memoizedState;return[typeof a=="boolean"?a:HA(a),A]},useSyncExternalStore:nh,useId:T5,useHostTransitionStatus:Wx,useFormState:ih,useActionState:ih,useOptimistic:function(a,A){var c=Fn();return hr!==null?dm(c,hr,a,A):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Fl,useCacheRefresh:U5};R5.useEffectEvent=y5;function eb(a,A,c,f){A=a.memoizedState,c=c(f,A),c=c==null?A:p({},A,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var tb={enqueueSetState:function(a,A,c){a=a._reactInternals;var f=Xi(),y=qt(f);y.payload=A,c!=null&&(y.callback=c),A=Yr(a,y,f),A!==null&&(Bi(A,a,f),hs(A,a,f))},enqueueReplaceState:function(a,A,c){a=a._reactInternals;var f=Xi(),y=qt(f);y.tag=1,y.payload=A,c!=null&&(y.callback=c),A=Yr(a,y,f),A!==null&&(Bi(A,a,f),hs(A,a,f))},enqueueForceUpdate:function(a,A){a=a._reactInternals;var c=Xi(),f=qt(c);f.tag=2,A!=null&&(f.callback=A),A=Yr(a,f,c),A!==null&&(Bi(A,a,c),hs(A,a,c))}};function D5(a,A,c,f,y,B,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,B,k):A.prototype&&A.prototype.isPureReactComponent?!ci(c,f)||!ci(y,B):!0}function M5(a,A,c,f){a=A.state,typeof A.componentWillReceiveProps=="function"&&A.componentWillReceiveProps(c,f),typeof A.UNSAFE_componentWillReceiveProps=="function"&&A.UNSAFE_componentWillReceiveProps(c,f),A.state!==a&&tb.enqueueReplaceState(A,A.state,null)}function Xu(a,A){var c=A;if("ref"in A){c={};for(var f in A)f!=="ref"&&(c[f]=A[f])}if(a=a.defaultProps){c===A&&(c=p({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function O5(a){Vr(a)}function P5(a){console.error(a)}function H5(a){Vr(a)}function xm(a,A){try{var c=a.onUncaughtError;c(A.value,{componentStack:A.stack})}catch(f){setTimeout(function(){throw f})}}function V5(a,A,c){try{var f=a.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:A.tag===1?A.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function rb(a,A,c){return c=qt(c),c.tag=3,c.payload={element:null},c.callback=function(){xm(a,A)},c}function K5(a){return a=qt(a),a.tag=3,a}function z5(a,A,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var B=f.value;a.payload=function(){return y(B)},a.callback=function(){V5(A,c,f)}}var k=c.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){V5(A,c,f),typeof y!="function"&&(Rc===null?Rc=new Set([this]):Rc.add(this));var Z=f.stack;this.componentDidCatch(f.value,{componentStack:Z!==null?Z:""})})}function gT(a,A,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(A=c.alternate,A!==null&&DA(A,c,y,!0),c=zn.current,c!==null){switch(c.tag){case 31:case 13:return gs===null?jm():c.alternate===null&&$n===0&&($n=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===_e?c.flags|=16384:(A=c.updateQueue,A===null?c.updateQueue=new Set([f]):A.add(f),Eb(a,f,y)),!1;case 22:return c.flags|=65536,f===_e?c.flags|=16384:(A=c.updateQueue,A===null?(A={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=A):(c=A.retryQueue,c===null?A.retryQueue=new Set([f]):c.add(f)),Eb(a,f,y)),!1}throw Error(n(435,c.tag))}return Eb(a,f,y),jm(),!1}if(pr)return A=zn.current,A!==null?((A.flags&65536)===0&&(A.flags|=256),A.flags|=65536,A.lanes=y,f!==zi&&(a=Error(n(422),{cause:f}),Ec(di(a,c)))):(f!==zi&&(A=Error(n(423),{cause:f}),Ec(di(A,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,f=di(f,c),y=rb(a.stateNode,f,y),jn(a,y),$n!==4&&($n=2)),!1;var B=Error(n(520),{cause:f});if(B=di(B,c),i0===null?i0=[B]:i0.push(B),$n!==4&&($n=2),A===null)return!0;f=di(f,c),c=A;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=rb(c.stateNode,f,a),jn(c,a),!1;case 1:if(A=c.type,B=c.stateNode,(c.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Rc===null||!Rc.has(B))))return c.flags|=65536,y&=-y,c.lanes|=y,y=K5(y),z5(y,a,c,f),jn(c,y),!1}c=c.return}while(c!==null);return!1}var nb=Error(n(461)),ps=!1;function ca(a,A,c,f){A.child=a===null?wr(A,null,c,f):xr(A,a.child,c,f)}function q5(a,A,c,f,y){c=c.render;var B=A.ref;if("ref"in f){var k={};for(var Z in f)Z!=="ref"&&(k[Z]=f[Z])}else k=f;return MA(A),f=Kf(a,A,c,k,B,y),Z=zf(),a!==null&&!ps?(qf(a,A,y),kl(a,A,y)):(pr&&Z&&Of(A),A.flags|=1,ca(a,A,f,y),A.child)}function G5(a,A,c,f,y){if(a===null){var B=c.type;return typeof B=="function"&&!Vd(B)&&B.defaultProps===void 0&&c.compare===null?(A.tag=15,A.type=B,X5(a,A,B,f,y)):(a=Nc(c.type,null,f,A,A.mode,y),a.ref=A.ref,a.return=A,A.child=a)}if(B=a.child,!ub(a,y)){var k=B.memoizedProps;if(c=c.compare,c=c!==null?c:ci,c(k,f)&&a.ref===A.ref)return kl(a,A,y)}return A.flags|=1,a=ui(B,f),a.ref=A.ref,a.return=A,A.child=a}function X5(a,A,c,f,y){if(a!==null){var B=a.memoizedProps;if(ci(B,f)&&a.ref===A.ref)if(ps=!1,A.pendingProps=f=B,ub(a,y))(a.flags&131072)!==0&&(ps=!0);else return A.lanes=a.lanes,kl(a,A,y)}return sb(a,A,c,f,y)}function $5(a,A,c,f){var y=f.children,B=a!==null?a.memoizedState:null;if(a===null&&A.stateNode===null&&(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((A.flags&128)!==0){if(B=B!==null?B.baseLanes|c:c,a!==null){for(f=A.child=a.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~B}else f=0,A.child=null;return Y5(a,A,B,c,f)}if((c&536870912)!==0)A.memoizedState={baseLanes:0,cachePool:null},a!==null&&ne(A,B!==null?B.cachePool:null),B!==null?Ya(A,B):xi(),Bn(A);else return f=A.lanes=536870912,Y5(a,A,B!==null?B.baseLanes|c:c,c,f)}else B!==null?(ne(A,B.cachePool),Ya(A,B),go(),A.memoizedState=null):(a!==null&&ne(A,null),xi(),go());return ca(a,A,y,c),A.child}function Zf(a,A){return a!==null&&a.tag===22||A.stateNode!==null||(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),A.sibling}function Y5(a,A,c,f,y){var B=W();return B=B===null?null:{parent:Kn._currentValue,pool:B},A.memoizedState={baseLanes:c,cachePool:B},a!==null&&ne(A,null),xi(),Bn(A),a!==null&&DA(a,A,f,!0),A.childLanes=y,null}function bm(a,A){return A=wm({mode:A.mode,children:A.children},a.mode),A.ref=a.ref,a.child=A,A.return=a,A}function W5(a,A,c){return xr(A,a.child,null,c),a=bm(A,A.pendingProps),a.flags|=2,Ca(A),A.memoizedState=null,a}function mT(a,A,c){var f=A.pendingProps,y=(A.flags&128)!==0;if(A.flags&=-129,a===null){if(pr){if(f.mode==="hidden")return a=bm(A,f),A.lanes=536870912,Zf(null,a);if(fo(A),(a=un)?(a=lB(a,In),a=a!==null&&a.data==="&"?a:null,a!==null&&(A.memoizedState={dehydrated:a,treeContext:QA!==null?{id:gi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},c=Kd(a),c.return=A,A.child=c,Ss=A,un=null)):a=null,a===null)throw LA(A);return A.lanes=536870912,null}return bm(A,f)}var B=a.memoizedState;if(B!==null){var k=B.dehydrated;if(fo(A),y)if(A.flags&256)A.flags&=-257,A=W5(a,A,c);else if(A.memoizedState!==null)A.child=a.child,A.flags|=128,A=null;else throw Error(n(558));else if(ps||DA(a,A,c,!1),y=(c&a.childLanes)!==0,ps||y){if(f=hn,f!==null&&(k=yt(f,c),k!==0&&k!==B.retryLane))throw B.retryLane=k,Ko(a,k),Bi(f,a,k),nb;jm(),A=W5(a,A,c)}else a=B.treeContext,un=bo(k.nextSibling),Ss=A,pr=!0,la=null,In=!1,a!==null&&lm(A,a),A=bm(A,f),A.flags|=4096;return A}return a=ui(a.child,{mode:f.mode,children:f.children}),a.ref=A.ref,A.child=a,a.return=A,a}function ym(a,A){var c=A.ref;if(c===null)a!==null&&a.ref!==null&&(A.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(a===null||a.ref!==c)&&(A.flags|=4194816)}}function sb(a,A,c,f,y){return MA(A),c=Kf(a,A,c,f,void 0,y),f=zf(),a!==null&&!ps?(qf(a,A,y),kl(a,A,y)):(pr&&f&&Of(A),A.flags|=1,ca(a,A,c,y),A.child)}function J5(a,A,c,f,y,B){return MA(A),A.updateQueue=null,c=Go(A,f,c,y),Zd(a),f=zf(),a!==null&&!ps?(qf(a,A,B),kl(a,A,B)):(pr&&f&&Of(A),A.flags|=1,ca(a,A,c,B),A.child)}function Z5(a,A,c,f,y){if(MA(A),A.stateNode===null){var B=Es,k=c.contextType;typeof k=="object"&&k!==null&&(B=js(k)),B=new c(f,B),A.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=tb,A.stateNode=B,B._reactInternals=A,B=A.stateNode,B.props=f,B.state=A.memoizedState,B.refs={},Kr(A),k=c.contextType,B.context=typeof k=="object"&&k!==null?js(k):Es,B.state=A.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(eb(A,c,k,f),B.state=A.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(k=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),k!==B.state&&tb.enqueueReplaceState(B,B.state,null),Ts(A,f,B,y),Ir(),B.state=A.memoizedState),typeof B.componentDidMount=="function"&&(A.flags|=4194308),f=!0}else if(a===null){B=A.stateNode;var Z=A.memoizedProps,pe=Xu(c,Z);B.props=pe;var Fe=B.context,Ke=c.contextType;k=Es,typeof Ke=="object"&&Ke!==null&&(k=js(Ke));var We=c.getDerivedStateFromProps;Ke=typeof We=="function"||typeof B.getSnapshotBeforeUpdate=="function",Z=A.pendingProps!==Z,Ke||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(Z||Fe!==k)&&M5(A,B,f,k),ir=!1;var Le=A.memoizedState;B.state=Le,Ts(A,f,B,y),Ir(),Fe=A.memoizedState,Z||Le!==Fe||ir?(typeof We=="function"&&(eb(A,c,We,f),Fe=A.memoizedState),(pe=ir||D5(A,c,pe,f,Le,Fe,k))?(Ke||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(A.flags|=4194308)):(typeof B.componentDidMount=="function"&&(A.flags|=4194308),A.memoizedProps=f,A.memoizedState=Fe),B.props=f,B.state=Fe,B.context=k,f=pe):(typeof B.componentDidMount=="function"&&(A.flags|=4194308),f=!1)}else{B=A.stateNode,Or(a,A),k=A.memoizedProps,Ke=Xu(c,k),B.props=Ke,We=A.pendingProps,Le=B.context,Fe=c.contextType,pe=Es,typeof Fe=="object"&&Fe!==null&&(pe=js(Fe)),Z=c.getDerivedStateFromProps,(Fe=typeof Z=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(k!==We||Le!==pe)&&M5(A,B,f,pe),ir=!1,Le=A.memoizedState,B.state=Le,Ts(A,f,B,y),Ir();var De=A.memoizedState;k!==We||Le!==De||ir||a!==null&&a.dependencies!==null&&$d(a.dependencies)?(typeof Z=="function"&&(eb(A,c,Z,f),De=A.memoizedState),(Ke=ir||D5(A,c,Ke,f,Le,De,pe)||a!==null&&a.dependencies!==null&&$d(a.dependencies))?(Fe||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(f,De,pe),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(f,De,pe)),typeof B.componentDidUpdate=="function"&&(A.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(A.flags|=1024)):(typeof B.componentDidUpdate!="function"||k===a.memoizedProps&&Le===a.memoizedState||(A.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&Le===a.memoizedState||(A.flags|=1024),A.memoizedProps=f,A.memoizedState=De),B.props=f,B.state=De,B.context=pe,f=Ke):(typeof B.componentDidUpdate!="function"||k===a.memoizedProps&&Le===a.memoizedState||(A.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&Le===a.memoizedState||(A.flags|=1024),f=!1)}return B=f,ym(a,A),f=(A.flags&128)!==0,B||f?(B=A.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:B.render(),A.flags|=1,a!==null&&f?(A.child=xr(A,a.child,null,y),A.child=xr(A,null,c,y)):ca(a,A,c,y),A.memoizedState=B.state,a=A.child):a=kl(a,A,y),a}function e4(a,A,c,f){return Il(),A.flags|=256,ca(a,A,c,f),A.child}var ab={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ib(a){return{baseLanes:a,cachePool:Ae()}}function ob(a,A,c){return a=a!==null?a.childLanes&~c:0,A&&(a|=Gi),a}function t4(a,A,c){var f=A.pendingProps,y=!1,B=(A.flags&128)!==0,k;if((k=B)||(k=a!==null&&a.memoizedState===null?!1:(Un.current&2)!==0),k&&(y=!0,A.flags&=-129),k=(A.flags&32)!==0,A.flags&=-33,a===null){if(pr){if(y?Wa(A):go(),(a=un)?(a=lB(a,In),a=a!==null&&a.data!=="&"?a:null,a!==null&&(A.memoizedState={dehydrated:a,treeContext:QA!==null?{id:gi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},c=Kd(a),c.return=A,A.child=c,Ss=A,un=null)):a=null,a===null)throw LA(A);return Vb(a)?A.lanes=32:A.lanes=536870912,null}var Z=f.children;return f=f.fallback,y?(go(),y=A.mode,Z=wm({mode:"hidden",children:Z},y),f=FA(f,y,c,null),Z.return=A,f.return=A,Z.sibling=f,A.child=Z,f=A.child,f.memoizedState=ib(c),f.childLanes=ob(a,k,c),A.memoizedState=ab,Zf(null,f)):(Wa(A),Ab(A,Z))}var pe=a.memoizedState;if(pe!==null&&(Z=pe.dehydrated,Z!==null)){if(B)A.flags&256?(Wa(A),A.flags&=-257,A=lb(a,A,c)):A.memoizedState!==null?(go(),A.child=a.child,A.flags|=128,A=null):(go(),Z=f.fallback,y=A.mode,f=wm({mode:"visible",children:f.children},y),Z=FA(Z,y,c,null),Z.flags|=2,f.return=A,Z.return=A,f.sibling=Z,A.child=f,xr(A,a.child,null,c),f=A.child,f.memoizedState=ib(c),f.childLanes=ob(a,k,c),A.memoizedState=ab,A=Zf(null,f));else if(Wa(A),Vb(Z)){if(k=Z.nextSibling&&Z.nextSibling.dataset,k)var Fe=k.dgst;k=Fe,f=Error(n(419)),f.stack="",f.digest=k,Ec({value:f,source:null,stack:null}),A=lb(a,A,c)}else if(ps||DA(a,A,c,!1),k=(c&a.childLanes)!==0,ps||k){if(k=hn,k!==null&&(f=yt(k,c),f!==0&&f!==pe.retryLane))throw pe.retryLane=f,Ko(a,f),Bi(k,a,f),nb;Hb(Z)||jm(),A=lb(a,A,c)}else Hb(Z)?(A.flags|=192,A.child=a.child,A=null):(a=pe.treeContext,un=bo(Z.nextSibling),Ss=A,pr=!0,la=null,In=!1,a!==null&&lm(A,a),A=Ab(A,f.children),A.flags|=4096);return A}return y?(go(),Z=f.fallback,y=A.mode,pe=a.child,Fe=pe.sibling,f=ui(pe,{mode:"hidden",children:f.children}),f.subtreeFlags=pe.subtreeFlags&65011712,Fe!==null?Z=ui(Fe,Z):(Z=FA(Z,y,c,null),Z.flags|=2),Z.return=A,f.return=A,f.sibling=Z,A.child=f,Zf(null,f),f=A.child,Z=a.child.memoizedState,Z===null?Z=ib(c):(y=Z.cachePool,y!==null?(pe=Kn._currentValue,y=y.parent!==pe?{parent:pe,pool:pe}:y):y=Ae(),Z={baseLanes:Z.baseLanes|c,cachePool:y}),f.memoizedState=Z,f.childLanes=ob(a,k,c),A.memoizedState=ab,Zf(a.child,f)):(Wa(A),c=a.child,a=c.sibling,c=ui(c,{mode:"visible",children:f.children}),c.return=A,c.sibling=null,a!==null&&(k=A.deletions,k===null?(A.deletions=[a],A.flags|=16):k.push(a)),A.child=c,A.memoizedState=null,c)}function Ab(a,A){return A=wm({mode:"visible",children:A},a.mode),A.return=a,a.child=A}function wm(a,A){return a=Ks(22,a,null,A),a.lanes=0,a}function lb(a,A,c){return xr(A,a.child,null,c),a=Ab(A,A.pendingProps.children),a.flags|=2,A.memoizedState=null,a}function r4(a,A,c){a.lanes|=A;var f=a.alternate;f!==null&&(f.lanes|=A),Sc(a.return,A,c)}function cb(a,A,c,f,y,B){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:A,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y,treeForkCount:B}:(k.isBackwards=A,k.rendering=null,k.renderingStartTime=0,k.last=f,k.tail=c,k.tailMode=y,k.treeForkCount=B)}function n4(a,A,c){var f=A.pendingProps,y=f.revealOrder,B=f.tail;f=f.children;var k=Un.current,Z=(k&2)!==0;if(Z?(k=k&1|2,A.flags|=128):k&=1,H(Un,k),ca(a,A,f,c),f=pr?Hu:0,!Z&&a!==null&&(a.flags&128)!==0)e:for(a=A.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&r4(a,c,A);else if(a.tag===19)r4(a,c,A);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===A)break e;for(;a.sibling===null;){if(a.return===null||a.return===A)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=A.child,y=null;c!==null;)a=c.alternate,a!==null&&Tl(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=A.child,A.child=null):(y=c.sibling,c.sibling=null),cb(A,!1,y,c,B,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=A.child,A.child=null;y!==null;){if(a=y.alternate,a!==null&&Tl(a)===null){A.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}cb(A,!0,c,null,B,f);break;case"together":cb(A,!1,null,null,void 0,f);break;default:A.memoizedState=null}return A.child}function kl(a,A,c){if(a!==null&&(A.dependencies=a.dependencies),kc|=A.lanes,(c&A.childLanes)===0)if(a!==null){if(DA(a,A,c,!1),(c&A.childLanes)===0)return null}else return null;if(a!==null&&A.child!==a.child)throw Error(n(153));if(A.child!==null){for(a=A.child,c=ui(a,a.pendingProps),A.child=c,c.return=A;a.sibling!==null;)a=a.sibling,c=c.sibling=ui(a,a.pendingProps),c.return=A;c.sibling=null}return A.child}function ub(a,A){return(a.lanes&A)!==0?!0:(a=a.dependencies,!!(a!==null&&$d(a)))}function pT(a,A,c){switch(A.tag){case 3:ve(A,A.stateNode.containerInfo),RA(A,Kn,a.memoizedState.cache),Il();break;case 27:case 5:Xe(A);break;case 4:ve(A,A.stateNode.containerInfo);break;case 10:RA(A,A.type,A.memoizedProps.value);break;case 31:if(A.memoizedState!==null)return A.flags|=128,fo(A),null;break;case 13:var f=A.memoizedState;if(f!==null)return f.dehydrated!==null?(Wa(A),A.flags|=128,null):(c&A.child.childLanes)!==0?t4(a,A,c):(Wa(A),a=kl(a,A,c),a!==null?a.sibling:null);Wa(A);break;case 19:var y=(a.flags&128)!==0;if(f=(c&A.childLanes)!==0,f||(DA(a,A,c,!1),f=(c&A.childLanes)!==0),y){if(f)return n4(a,A,c);A.flags|=128}if(y=A.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),H(Un,Un.current),f)break;return null;case 22:return A.lanes=0,$5(a,A,c,A.pendingProps);case 24:RA(A,Kn,a.memoizedState.cache)}return kl(a,A,c)}function s4(a,A,c){if(a!==null)if(a.memoizedProps!==A.pendingProps)ps=!0;else{if(!ub(a,c)&&(A.flags&128)===0)return ps=!1,pT(a,A,c);ps=(a.flags&131072)!==0}else ps=!1,pr&&(A.flags&1048576)!==0&&Am(A,Hu,A.index);switch(A.lanes=0,A.tag){case 16:e:{var f=A.pendingProps;if(a=we(A.elementType),A.type=a,typeof a=="function")Vd(a)?(f=Xu(a,f),A.tag=1,A=Z5(null,A,a,f,c)):(A.tag=0,A=sb(null,A,a,f,c));else{if(a!=null){var y=a.$$typeof;if(y===se){A.tag=11,A=q5(null,A,a,f,c);break e}else if(y===U){A.tag=14,A=G5(null,A,a,f,c);break e}}throw A=$(a)||a,Error(n(306,A,""))}}return A;case 0:return sb(a,A,A.type,A.pendingProps,c);case 1:return f=A.type,y=Xu(f,A.pendingProps),Z5(a,A,f,y,c);case 3:e:{if(ve(A,A.stateNode.containerInfo),a===null)throw Error(n(387));f=A.pendingProps;var B=A.memoizedState;y=B.element,Or(a,A),Ts(A,f,null,c);var k=A.memoizedState;if(f=k.cache,RA(A,Kn,f),f!==B.cache&&jl(A,[Kn],c,!0),Ir(),f=k.element,B.isDehydrated)if(B={element:f,isDehydrated:!1,cache:k.cache},A.updateQueue.baseState=B,A.memoizedState=B,A.flags&256){A=e4(a,A,f,c);break e}else if(f!==y){y=di(Error(n(424)),A),Ec(y),A=e4(a,A,f,c);break e}else{switch(a=A.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(un=bo(a.firstChild),Ss=A,pr=!0,la=null,In=!0,c=wr(A,null,f,c),A.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Il(),f===y){A=kl(a,A,c);break e}ca(a,A,f,c)}A=A.child}return A;case 26:return ym(a,A),a===null?(c=gB(A.type,null,A.pendingProps,null))?A.memoizedState=c:pr||(c=A.type,a=A.pendingProps,f=Rm(he.current).createElement(c),f[mt]=A,f[rr]=a,ua(f,c,a),En(f),A.stateNode=f):A.memoizedState=gB(A.type,a.memoizedProps,A.pendingProps,a.memoizedState),null;case 27:return Xe(A),a===null&&pr&&(f=A.stateNode=dB(A.type,A.pendingProps,he.current),Ss=A,In=!0,y=un,Pc(A.type)?(Kb=y,un=bo(f.firstChild)):un=y),ca(a,A,A.pendingProps.children,c),ym(a,A),a===null&&(A.flags|=4194304),A.child;case 5:return a===null&&pr&&((y=f=un)&&(f=GT(f,A.type,A.pendingProps,In),f!==null?(A.stateNode=f,Ss=A,un=bo(f.firstChild),In=!1,y=!0):y=!1),y||LA(A)),Xe(A),y=A.type,B=A.pendingProps,k=a!==null?a.memoizedProps:null,f=B.children,Mb(y,B)?f=null:k!==null&&Mb(y,k)&&(A.flags|=32),A.memoizedState!==null&&(y=Kf(a,A,qx,null,null,c),f0._currentValue=y),ym(a,A),ca(a,A,f,c),A.child;case 6:return a===null&&pr&&((a=c=un)&&(c=XT(c,A.pendingProps,In),c!==null?(A.stateNode=c,Ss=A,un=null,a=!0):a=!1),a||LA(A)),null;case 13:return t4(a,A,c);case 4:return ve(A,A.stateNode.containerInfo),f=A.pendingProps,a===null?A.child=xr(A,null,f,c):ca(a,A,f,c),A.child;case 11:return q5(a,A,A.type,A.pendingProps,c);case 7:return ca(a,A,A.pendingProps,c),A.child;case 8:return ca(a,A,A.pendingProps.children,c),A.child;case 12:return ca(a,A,A.pendingProps.children,c),A.child;case 10:return f=A.pendingProps,RA(A,A.type,f.value),ca(a,A,f.children,c),A.child;case 9:return y=A.type._context,f=A.pendingProps.children,MA(A),y=js(y),f=f(y),A.flags|=1,ca(a,A,f,c),A.child;case 14:return G5(a,A,A.type,A.pendingProps,c);case 15:return X5(a,A,A.type,A.pendingProps,c);case 19:return n4(a,A,c);case 31:return mT(a,A,c);case 22:return $5(a,A,c,A.pendingProps);case 24:return MA(A),f=js(Kn),a===null?(y=W(),y===null&&(y=hn,B=Ic(),y.pooledCache=B,B.refCount++,B!==null&&(y.pooledCacheLanes|=c),y=B),A.memoizedState={parent:f,cache:y},Kr(A),RA(A,Kn,y)):((a.lanes&c)!==0&&(Or(a,A),Ts(A,null,null,c),Ir()),y=a.memoizedState,B=A.memoizedState,y.parent!==f?(y={parent:f,cache:f},A.memoizedState=y,A.lanes===0&&(A.memoizedState=A.updateQueue.baseState=y),RA(A,Kn,f)):(f=B.cache,RA(A,Kn,f),f!==y.cache&&jl(A,[Kn],c,!0))),ca(a,A,A.pendingProps.children,c),A.child;case 29:throw A.pendingProps}throw Error(n(156,A.tag))}function Rl(a){a.flags|=4}function db(a,A,c,f,y){if((A=(a.mode&32)!==0)&&(A=!1),A){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(T4())a.flags|=8192;else throw Ce=_e,Te}else a.flags&=-16777217}function a4(a,A){if(A.type!=="stylesheet"||(A.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!yB(A))if(T4())a.flags|=8192;else throw Ce=_e,Te}function vm(a,A){A!==null&&(a.flags|=4),a.flags&16384&&(A=a.tag!==22?Er():536870912,a.lanes|=A,ch|=A)}function e0(a,A){if(!pr)switch(a.tailMode){case"hidden":A=a.tail;for(var c=null;A!==null;)A.alternate!==null&&(c=A),A=A.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?A||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Nn(a){var A=a.alternate!==null&&a.alternate.child===a.child,c=0,f=0;if(A)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=f,a.childLanes=c,A}function xT(a,A,c){var f=A.pendingProps;switch(Gd(A),A.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(A),null;case 1:return Nn(A),null;case 3:return c=A.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),A.memoizedState.cache!==f&&(A.flags|=2048),pi(Kn),Be(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Is(A)?Rl(A):a===null||a.memoizedState.isDehydrated&&(A.flags&256)===0||(A.flags|=1024,Hf())),Nn(A),null;case 26:var y=A.type,B=A.memoizedState;return a===null?(Rl(A),B!==null?(Nn(A),a4(A,B)):(Nn(A),db(A,y,null,f,c))):B?B!==a.memoizedState?(Rl(A),Nn(A),a4(A,B)):(Nn(A),A.flags&=-16777217):(a=a.memoizedProps,a!==f&&Rl(A),Nn(A),db(A,y,a,f,c)),null;case 27:if(Re(A),c=he.current,y=A.type,a!==null&&A.stateNode!=null)a.memoizedProps!==f&&Rl(A);else{if(!f){if(A.stateNode===null)throw Error(n(166));return Nn(A),null}a=J.current,Is(A)?Pf(A):(a=dB(y,f,c),A.stateNode=a,Rl(A))}return Nn(A),null;case 5:if(Re(A),y=A.type,a!==null&&A.stateNode!=null)a.memoizedProps!==f&&Rl(A);else{if(!f){if(A.stateNode===null)throw Error(n(166));return Nn(A),null}if(B=J.current,Is(A))Pf(A);else{var k=Rm(he.current);switch(B){case 1:B=k.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:B=k.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":B=k.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":B=k.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":B=k.createElement("div"),B.innerHTML="<script><\/script>",B=B.removeChild(B.firstChild);break;case"select":B=typeof f.is=="string"?k.createElement("select",{is:f.is}):k.createElement("select"),f.multiple?B.multiple=!0:f.size&&(B.size=f.size);break;default:B=typeof f.is=="string"?k.createElement(y,{is:f.is}):k.createElement(y)}}B[mt]=A,B[rr]=f;e:for(k=A.child;k!==null;){if(k.tag===5||k.tag===6)B.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===A)break e;for(;k.sibling===null;){if(k.return===null||k.return===A)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}A.stateNode=B;e:switch(ua(B,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Rl(A)}}return Nn(A),db(A,A.type,a===null?null:a.memoizedProps,A.pendingProps,c),null;case 6:if(a&&A.stateNode!=null)a.memoizedProps!==f&&Rl(A);else{if(typeof f!="string"&&A.stateNode===null)throw Error(n(166));if(a=he.current,Is(A)){if(a=A.stateNode,c=A.memoizedProps,f=null,y=Ss,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}a[mt]=A,a=!!(a.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||tB(a.nodeValue,c)),a||LA(A,!0)}else a=Rm(a).createTextNode(f),a[mt]=A,A.stateNode=a}return Nn(A),null;case 31:if(c=A.memoizedState,a===null||a.memoizedState!==null){if(f=Is(A),c!==null){if(a===null){if(!f)throw Error(n(318));if(a=A.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[mt]=A}else Il(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;Nn(A),a=!1}else c=Hf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return A.flags&256?(Ca(A),A):(Ca(A),null);if((A.flags&128)!==0)throw Error(n(558))}return Nn(A),null;case 13:if(f=A.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Is(A),f!==null&&f.dehydrated!==null){if(a===null){if(!y)throw Error(n(318));if(y=A.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[mt]=A}else Il(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;Nn(A),y=!1}else y=Hf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return A.flags&256?(Ca(A),A):(Ca(A),null)}return Ca(A),(A.flags&128)!==0?(A.lanes=c,A):(c=f!==null,a=a!==null&&a.memoizedState!==null,c&&(f=A.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),B=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(B=f.memoizedState.cachePool.pool),B!==y&&(f.flags|=2048)),c!==a&&c&&(A.child.flags|=8192),vm(A,A.updateQueue),Nn(A),null);case 4:return Be(),a===null&&Qb(A.stateNode.containerInfo),Nn(A),null;case 10:return pi(A.type),Nn(A),null;case 19:if(L(Un),f=A.memoizedState,f===null)return Nn(A),null;if(y=(A.flags&128)!==0,B=f.rendering,B===null)if(y)e0(f,!1);else{if($n!==0||a!==null&&(a.flags&128)!==0)for(a=A.child;a!==null;){if(B=Tl(a),B!==null){for(A.flags|=128,e0(f,!1),a=B.updateQueue,A.updateQueue=a,vm(A,a),A.subtreeFlags=0,a=c,c=A.child;c!==null;)Ou(c,a),c=c.sibling;return H(Un,Un.current&1|2),pr&&$a(A,f.treeForkCount),A.child}a=a.sibling}f.tail!==null&&bt()>Em&&(A.flags|=128,y=!0,e0(f,!1),A.lanes=4194304)}else{if(!y)if(a=Tl(B),a!==null){if(A.flags|=128,y=!0,a=a.updateQueue,A.updateQueue=a,vm(A,a),e0(f,!0),f.tail===null&&f.tailMode==="hidden"&&!B.alternate&&!pr)return Nn(A),null}else 2*bt()-f.renderingStartTime>Em&&c!==536870912&&(A.flags|=128,y=!0,e0(f,!1),A.lanes=4194304);f.isBackwards?(B.sibling=A.child,A.child=B):(a=f.last,a!==null?a.sibling=B:A.child=B,f.last=B)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=bt(),a.sibling=null,c=Un.current,H(Un,y?c&1|2:c&1),pr&&$a(A,f.treeForkCount),a):(Nn(A),null);case 22:case 23:return Ca(A),Xn(),f=A.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(A.flags|=8192):f&&(A.flags|=8192),f?(c&536870912)!==0&&(A.flags&128)===0&&(Nn(A),A.subtreeFlags&6&&(A.flags|=8192)):Nn(A),c=A.updateQueue,c!==null&&vm(A,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),f=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(f=A.memoizedState.cachePool.pool),f!==c&&(A.flags|=2048),a!==null&&L(G),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),A.memoizedState.cache!==c&&(A.flags|=2048),pi(Kn),Nn(A),null;case 25:return null;case 30:return null}throw Error(n(156,A.tag))}function bT(a,A){switch(Gd(A),A.tag){case 1:return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 3:return pi(Kn),Be(),a=A.flags,(a&65536)!==0&&(a&128)===0?(A.flags=a&-65537|128,A):null;case 26:case 27:case 5:return Re(A),null;case 31:if(A.memoizedState!==null){if(Ca(A),A.alternate===null)throw Error(n(340));Il()}return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 13:if(Ca(A),a=A.memoizedState,a!==null&&a.dehydrated!==null){if(A.alternate===null)throw Error(n(340));Il()}return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 19:return L(Un),null;case 4:return Be(),null;case 10:return pi(A.type),null;case 22:case 23:return Ca(A),Xn(),a!==null&&L(G),a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 24:return pi(Kn),null;case 25:return null;default:return null}}function i4(a,A){switch(Gd(A),A.tag){case 3:pi(Kn),Be();break;case 26:case 27:case 5:Re(A);break;case 4:Be();break;case 31:A.memoizedState!==null&&Ca(A);break;case 13:Ca(A);break;case 19:L(Un);break;case 10:pi(A.type);break;case 22:case 23:Ca(A),Xn(),a!==null&&L(G);break;case 24:pi(Kn)}}function t0(a,A){try{var c=A.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&a)===a){f=void 0;var B=c.create,k=c.inst;f=B(),k.destroy=f}c=c.next}while(c!==y)}}catch(Z){Jr(A,A.return,Z)}}function Qc(a,A,c){try{var f=A.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var B=y.next;f=B;do{if((f.tag&a)===a){var k=f.inst,Z=k.destroy;if(Z!==void 0){k.destroy=void 0,y=A;var pe=c,Fe=Z;try{Fe()}catch(Ke){Jr(y,pe,Ke)}}}f=f.next}while(f!==B)}}catch(Ke){Jr(A,A.return,Ke)}}function o4(a){var A=a.updateQueue;if(A!==null){var c=a.stateNode;try{Zn(A,c)}catch(f){Jr(a,a.return,f)}}}function A4(a,A,c){c.props=Xu(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(f){Jr(a,A,f)}}function r0(a,A){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof c=="function"?a.refCleanup=c(f):c.current=f}}catch(y){Jr(a,A,y)}}function KA(a,A){var c=a.ref,f=a.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){Jr(a,A,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Jr(a,A,y)}else c.current=null}function l4(a){var A=a.type,c=a.memoizedProps,f=a.stateNode;try{e:switch(A){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){Jr(a,a.return,y)}}function hb(a,A,c){try{var f=a.stateNode;PT(f,a.type,c,A),f[rr]=A}catch(y){Jr(a,a.return,y)}}function c4(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Pc(a.type)||a.tag===4}function fb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||c4(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Pc(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function gb(a,A,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,A?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,A):(A=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,A.appendChild(a),c=c._reactRootContainer,c!=null||A.onclick!==null||(A.onclick=sn));else if(f!==4&&(f===27&&Pc(a.type)&&(c=a.stateNode,A=null),a=a.child,a!==null))for(gb(a,A,c),a=a.sibling;a!==null;)gb(a,A,c),a=a.sibling}function Bm(a,A,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,A?c.insertBefore(a,A):c.appendChild(a);else if(f!==4&&(f===27&&Pc(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Bm(a,A,c),a=a.sibling;a!==null;)Bm(a,A,c),a=a.sibling}function u4(a){var A=a.stateNode,c=a.memoizedProps;try{for(var f=a.type,y=A.attributes;y.length;)A.removeAttributeNode(y[0]);ua(A,f,c),A[mt]=a,A[rr]=c}catch(B){Jr(a,a.return,B)}}var Dl=!1,xs=!1,mb=!1,d4=typeof WeakSet=="function"?WeakSet:Set,qs=null;function yT(a,A){if(a=a.containerInfo,Rb=Km,a=Oo(a),Oi(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,B=f.focusNode;f=f.focusOffset;try{c.nodeType,B.nodeType}catch{c=null;break e}var k=0,Z=-1,pe=-1,Fe=0,Ke=0,We=a,Le=null;t:for(;;){for(var De;We!==c||y!==0&&We.nodeType!==3||(Z=k+y),We!==B||f!==0&&We.nodeType!==3||(pe=k+f),We.nodeType===3&&(k+=We.nodeValue.length),(De=We.firstChild)!==null;)Le=We,We=De;for(;;){if(We===a)break t;if(Le===c&&++Fe===y&&(Z=k),Le===B&&++Ke===f&&(pe=k),(De=We.nextSibling)!==null)break;We=Le,Le=We.parentNode}We=De}c=Z===-1||pe===-1?null:{start:Z,end:pe}}else c=null}c=c||{start:0,end:0}}else c=null;for(Db={focusedElem:a,selectionRange:c},Km=!1,qs=A;qs!==null;)if(A=qs,a=A.child,(A.subtreeFlags&1028)!==0&&a!==null)a.return=A,qs=a;else for(;qs!==null;){switch(A=qs,B=A.alternate,a=A.flags,A.tag){case 0:if((a&4)!==0&&(a=A.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&B!==null){a=void 0,c=A,y=B.memoizedProps,B=B.memoizedState,f=c.stateNode;try{var Et=Xu(c.type,y);a=f.getSnapshotBeforeUpdate(Et,B),f.__reactInternalSnapshotBeforeUpdate=a}catch(Gt){Jr(c,c.return,Gt)}}break;case 3:if((a&1024)!==0){if(a=A.stateNode.containerInfo,c=a.nodeType,c===9)Pb(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Pb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=A.sibling,a!==null){a.return=A.return,qs=a;break}qs=A.return}}function h4(a,A,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Ol(a,c),f&4&&t0(5,c);break;case 1:if(Ol(a,c),f&4)if(a=c.stateNode,A===null)try{a.componentDidMount()}catch(k){Jr(c,c.return,k)}else{var y=Xu(c.type,A.memoizedProps);A=A.memoizedState;try{a.componentDidUpdate(y,A,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Jr(c,c.return,k)}}f&64&&o4(c),f&512&&r0(c,c.return);break;case 3:if(Ol(a,c),f&64&&(a=c.updateQueue,a!==null)){if(A=null,c.child!==null)switch(c.child.tag){case 27:case 5:A=c.child.stateNode;break;case 1:A=c.child.stateNode}try{Zn(a,A)}catch(k){Jr(c,c.return,k)}}break;case 27:A===null&&f&4&&u4(c);case 26:case 5:Ol(a,c),A===null&&f&4&&l4(c),f&512&&r0(c,c.return);break;case 12:Ol(a,c);break;case 31:Ol(a,c),f&4&&m4(a,c);break;case 13:Ol(a,c),f&4&&p4(a,c),f&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=IT.bind(null,c),$T(a,c))));break;case 22:if(f=c.memoizedState!==null||Dl,!f){A=A!==null&&A.memoizedState!==null||xs,y=Dl;var B=xs;Dl=f,(xs=A)&&!B?Pl(a,c,(c.subtreeFlags&8772)!==0):Ol(a,c),Dl=y,xs=B}break;case 30:break;default:Ol(a,c)}}function f4(a){var A=a.alternate;A!==null&&(a.alternate=null,f4(A)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(A=a.stateNode,A!==null&&ji(A)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Qn=null,bi=!1;function Ml(a,A,c){for(c=c.child;c!==null;)g4(a,A,c),c=c.sibling}function g4(a,A,c){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(ut,c)}catch{}switch(c.tag){case 26:xs||KA(c,A),Ml(a,A,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:xs||KA(c,A);var f=Qn,y=bi;Pc(c.type)&&(Qn=c.stateNode,bi=!1),Ml(a,A,c),u0(c.stateNode),Qn=f,bi=y;break;case 5:xs||KA(c,A);case 6:if(f=Qn,y=bi,Qn=null,Ml(a,A,c),Qn=f,bi=y,Qn!==null)if(bi)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(c.stateNode)}catch(B){Jr(c,A,B)}else try{Qn.removeChild(c.stateNode)}catch(B){Jr(c,A,B)}break;case 18:Qn!==null&&(bi?(a=Qn,oB(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),xh(a)):oB(Qn,c.stateNode));break;case 4:f=Qn,y=bi,Qn=c.stateNode.containerInfo,bi=!0,Ml(a,A,c),Qn=f,bi=y;break;case 0:case 11:case 14:case 15:Qc(2,c,A),xs||Qc(4,c,A),Ml(a,A,c);break;case 1:xs||(KA(c,A),f=c.stateNode,typeof f.componentWillUnmount=="function"&&A4(c,A,f)),Ml(a,A,c);break;case 21:Ml(a,A,c);break;case 22:xs=(f=xs)||c.memoizedState!==null,Ml(a,A,c),xs=f;break;default:Ml(a,A,c)}}function m4(a,A){if(A.memoizedState===null&&(a=A.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{xh(a)}catch(c){Jr(A,A.return,c)}}}function p4(a,A){if(A.memoizedState===null&&(a=A.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{xh(a)}catch(c){Jr(A,A.return,c)}}function wT(a){switch(a.tag){case 31:case 13:case 19:var A=a.stateNode;return A===null&&(A=a.stateNode=new d4),A;case 22:return a=a.stateNode,A=a._retryCache,A===null&&(A=a._retryCache=new d4),A;default:throw Error(n(435,a.tag))}}function Nm(a,A){var c=wT(a);A.forEach(function(f){if(!c.has(f)){c.add(f);var y=jT.bind(null,a,f);f.then(y,y)}})}function yi(a,A){var c=A.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],B=a,k=A,Z=k;e:for(;Z!==null;){switch(Z.tag){case 27:if(Pc(Z.type)){Qn=Z.stateNode,bi=!1;break e}break;case 5:Qn=Z.stateNode,bi=!1;break e;case 3:case 4:Qn=Z.stateNode.containerInfo,bi=!0;break e}Z=Z.return}if(Qn===null)throw Error(n(160));g4(B,k,y),Qn=null,bi=!1,B=y.alternate,B!==null&&(B.return=null),y.return=null}if(A.subtreeFlags&13886)for(A=A.child;A!==null;)x4(A,a),A=A.sibling}var Wo=null;function x4(a,A){var c=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:yi(A,a),wi(a),f&4&&(Qc(3,a,a.return),t0(3,a),Qc(5,a,a.return));break;case 1:yi(A,a),wi(a),f&512&&(xs||c===null||KA(c,c.return)),f&64&&Dl&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=Wo;if(yi(A,a),wi(a),f&512&&(xs||c===null||KA(c,c.return)),f&4){var B=c!==null?c.memoizedState:null;if(f=a.memoizedState,c===null)if(f===null)if(a.stateNode===null){e:{f=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":B=y.getElementsByTagName("title")[0],(!B||B[ea]||B[mt]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=y.createElement(f),y.head.insertBefore(B,y.querySelector("head > title"))),ua(B,f,c),B[mt]=a,En(B),f=B;break e;case"link":var k=xB("link","href",y).get(f+(c.href||""));if(k){for(var Z=0;Z<k.length;Z++)if(B=k[Z],B.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&B.getAttribute("rel")===(c.rel==null?null:c.rel)&&B.getAttribute("title")===(c.title==null?null:c.title)&&B.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){k.splice(Z,1);break t}}B=y.createElement(f),ua(B,f,c),y.head.appendChild(B);break;case"meta":if(k=xB("meta","content",y).get(f+(c.content||""))){for(Z=0;Z<k.length;Z++)if(B=k[Z],B.getAttribute("content")===(c.content==null?null:""+c.content)&&B.getAttribute("name")===(c.name==null?null:c.name)&&B.getAttribute("property")===(c.property==null?null:c.property)&&B.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&B.getAttribute("charset")===(c.charSet==null?null:c.charSet)){k.splice(Z,1);break t}}B=y.createElement(f),ua(B,f,c),y.head.appendChild(B);break;default:throw Error(n(468,f))}B[mt]=a,En(B),f=B}a.stateNode=f}else bB(y,a.type,a.stateNode);else a.stateNode=pB(y,f,a.memoizedProps);else B!==f?(B===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):B.count--,f===null?bB(y,a.type,a.stateNode):pB(y,f,a.memoizedProps)):f===null&&a.stateNode!==null&&hb(a,a.memoizedProps,c.memoizedProps)}break;case 27:yi(A,a),wi(a),f&512&&(xs||c===null||KA(c,c.return)),c!==null&&f&4&&hb(a,a.memoizedProps,c.memoizedProps);break;case 5:if(yi(A,a),wi(a),f&512&&(xs||c===null||KA(c,c.return)),a.flags&32){y=a.stateNode;try{ls(y,"")}catch(Et){Jr(a,a.return,Et)}}f&4&&a.stateNode!=null&&(y=a.memoizedProps,hb(a,y,c!==null?c.memoizedProps:y)),f&1024&&(mb=!0);break;case 6:if(yi(A,a),wi(a),f&4){if(a.stateNode===null)throw Error(n(162));f=a.memoizedProps,c=a.stateNode;try{c.nodeValue=f}catch(Et){Jr(a,a.return,Et)}}break;case 3:if(Om=null,y=Wo,Wo=Dm(A.containerInfo),yi(A,a),Wo=y,wi(a),f&4&&c!==null&&c.memoizedState.isDehydrated)try{xh(A.containerInfo)}catch(Et){Jr(a,a.return,Et)}mb&&(mb=!1,b4(a));break;case 4:f=Wo,Wo=Dm(a.stateNode.containerInfo),yi(A,a),wi(a),Wo=f;break;case 12:yi(A,a),wi(a);break;case 31:yi(A,a),wi(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Nm(a,f)));break;case 13:yi(A,a),wi(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(_m=bt()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Nm(a,f)));break;case 22:y=a.memoizedState!==null;var pe=c!==null&&c.memoizedState!==null,Fe=Dl,Ke=xs;if(Dl=Fe||y,xs=Ke||pe,yi(A,a),xs=Ke,Dl=Fe,wi(a),f&8192)e:for(A=a.stateNode,A._visibility=y?A._visibility&-2:A._visibility|1,y&&(c===null||pe||Dl||xs||$u(a)),c=null,A=a;;){if(A.tag===5||A.tag===26){if(c===null){pe=c=A;try{if(B=pe.stateNode,y)k=B.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{Z=pe.stateNode;var We=pe.memoizedProps.style,Le=We!=null&&We.hasOwnProperty("display")?We.display:null;Z.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(Et){Jr(pe,pe.return,Et)}}}else if(A.tag===6){if(c===null){pe=A;try{pe.stateNode.nodeValue=y?"":pe.memoizedProps}catch(Et){Jr(pe,pe.return,Et)}}}else if(A.tag===18){if(c===null){pe=A;try{var De=pe.stateNode;y?AB(De,!0):AB(pe.stateNode,!1)}catch(Et){Jr(pe,pe.return,Et)}}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===a)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break e;for(;A.sibling===null;){if(A.return===null||A.return===a)break e;c===A&&(c=null),A=A.return}c===A&&(c=null),A.sibling.return=A.return,A=A.sibling}f&4&&(f=a.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Nm(a,c))));break;case 19:yi(A,a),wi(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Nm(a,f)));break;case 30:break;case 21:break;default:yi(A,a),wi(a)}}function wi(a){var A=a.flags;if(A&2){try{for(var c,f=a.return;f!==null;){if(c4(f)){c=f;break}f=f.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var y=c.stateNode,B=fb(a);Bm(a,B,y);break;case 5:var k=c.stateNode;c.flags&32&&(ls(k,""),c.flags&=-33);var Z=fb(a);Bm(a,Z,k);break;case 3:case 4:var pe=c.stateNode.containerInfo,Fe=fb(a);gb(a,Fe,pe);break;default:throw Error(n(161))}}catch(Ke){Jr(a,a.return,Ke)}a.flags&=-3}A&4096&&(a.flags&=-4097)}function b4(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var A=a;b4(A),A.tag===5&&A.flags&1024&&A.stateNode.reset(),a=a.sibling}}function Ol(a,A){if(A.subtreeFlags&8772)for(A=A.child;A!==null;)h4(a,A.alternate,A),A=A.sibling}function $u(a){for(a=a.child;a!==null;){var A=a;switch(A.tag){case 0:case 11:case 14:case 15:Qc(4,A,A.return),$u(A);break;case 1:KA(A,A.return);var c=A.stateNode;typeof c.componentWillUnmount=="function"&&A4(A,A.return,c),$u(A);break;case 27:u0(A.stateNode);case 26:case 5:KA(A,A.return),$u(A);break;case 22:A.memoizedState===null&&$u(A);break;case 30:$u(A);break;default:$u(A)}a=a.sibling}}function Pl(a,A,c){for(c=c&&(A.subtreeFlags&8772)!==0,A=A.child;A!==null;){var f=A.alternate,y=a,B=A,k=B.flags;switch(B.tag){case 0:case 11:case 15:Pl(y,B,c),t0(4,B);break;case 1:if(Pl(y,B,c),f=B,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Fe){Jr(f,f.return,Fe)}if(f=B,y=f.updateQueue,y!==null){var Z=f.stateNode;try{var pe=y.shared.hiddenCallbacks;if(pe!==null)for(y.shared.hiddenCallbacks=null,y=0;y<pe.length;y++)Na(pe[y],Z)}catch(Fe){Jr(f,f.return,Fe)}}c&&k&64&&o4(B),r0(B,B.return);break;case 27:u4(B);case 26:case 5:Pl(y,B,c),c&&f===null&&k&4&&l4(B),r0(B,B.return);break;case 12:Pl(y,B,c);break;case 31:Pl(y,B,c),c&&k&4&&m4(y,B);break;case 13:Pl(y,B,c),c&&k&4&&p4(y,B);break;case 22:B.memoizedState===null&&Pl(y,B,c),r0(B,B.return);break;case 30:break;default:Pl(y,B,c)}A=A.sibling}}function pb(a,A){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(a=A.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Vu(c))}function xb(a,A){a=null,A.alternate!==null&&(a=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==a&&(A.refCount++,a!=null&&Vu(a))}function Jo(a,A,c,f){if(A.subtreeFlags&10256)for(A=A.child;A!==null;)y4(a,A,c,f),A=A.sibling}function y4(a,A,c,f){var y=A.flags;switch(A.tag){case 0:case 11:case 15:Jo(a,A,c,f),y&2048&&t0(9,A);break;case 1:Jo(a,A,c,f);break;case 3:Jo(a,A,c,f),y&2048&&(a=null,A.alternate!==null&&(a=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==a&&(A.refCount++,a!=null&&Vu(a)));break;case 12:if(y&2048){Jo(a,A,c,f),a=A.stateNode;try{var B=A.memoizedProps,k=B.id,Z=B.onPostCommit;typeof Z=="function"&&Z(k,A.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(pe){Jr(A,A.return,pe)}}else Jo(a,A,c,f);break;case 31:Jo(a,A,c,f);break;case 13:Jo(a,A,c,f);break;case 23:break;case 22:B=A.stateNode,k=A.alternate,A.memoizedState!==null?B._visibility&2?Jo(a,A,c,f):n0(a,A):B._visibility&2?Jo(a,A,c,f):(B._visibility|=2,oh(a,A,c,f,(A.subtreeFlags&10256)!==0||!1)),y&2048&&pb(k,A);break;case 24:Jo(a,A,c,f),y&2048&&xb(A.alternate,A);break;default:Jo(a,A,c,f)}}function oh(a,A,c,f,y){for(y=y&&((A.subtreeFlags&10256)!==0||!1),A=A.child;A!==null;){var B=a,k=A,Z=c,pe=f,Fe=k.flags;switch(k.tag){case 0:case 11:case 15:oh(B,k,Z,pe,y),t0(8,k);break;case 23:break;case 22:var Ke=k.stateNode;k.memoizedState!==null?Ke._visibility&2?oh(B,k,Z,pe,y):n0(B,k):(Ke._visibility|=2,oh(B,k,Z,pe,y)),y&&Fe&2048&&pb(k.alternate,k);break;case 24:oh(B,k,Z,pe,y),y&&Fe&2048&&xb(k.alternate,k);break;default:oh(B,k,Z,pe,y)}A=A.sibling}}function n0(a,A){if(A.subtreeFlags&10256)for(A=A.child;A!==null;){var c=a,f=A,y=f.flags;switch(f.tag){case 22:n0(c,f),y&2048&&pb(f.alternate,f);break;case 24:n0(c,f),y&2048&&xb(f.alternate,f);break;default:n0(c,f)}A=A.sibling}}var s0=8192;function Ah(a,A,c){if(a.subtreeFlags&s0)for(a=a.child;a!==null;)w4(a,A,c),a=a.sibling}function w4(a,A,c){switch(a.tag){case 26:Ah(a,A,c),a.flags&s0&&a.memoizedState!==null&&o8(c,Wo,a.memoizedState,a.memoizedProps);break;case 5:Ah(a,A,c);break;case 3:case 4:var f=Wo;Wo=Dm(a.stateNode.containerInfo),Ah(a,A,c),Wo=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=s0,s0=16777216,Ah(a,A,c),s0=f):Ah(a,A,c));break;default:Ah(a,A,c)}}function v4(a){var A=a.alternate;if(A!==null&&(a=A.child,a!==null)){A.child=null;do A=a.sibling,a.sibling=null,a=A;while(a!==null)}}function a0(a){var A=a.deletions;if((a.flags&16)!==0){if(A!==null)for(var c=0;c<A.length;c++){var f=A[c];qs=f,N4(f,a)}v4(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)B4(a),a=a.sibling}function B4(a){switch(a.tag){case 0:case 11:case 15:a0(a),a.flags&2048&&Qc(9,a,a.return);break;case 3:a0(a);break;case 12:a0(a);break;case 22:var A=a.stateNode;a.memoizedState!==null&&A._visibility&2&&(a.return===null||a.return.tag!==13)?(A._visibility&=-3,Cm(a)):a0(a);break;default:a0(a)}}function Cm(a){var A=a.deletions;if((a.flags&16)!==0){if(A!==null)for(var c=0;c<A.length;c++){var f=A[c];qs=f,N4(f,a)}v4(a)}for(a=a.child;a!==null;){switch(A=a,A.tag){case 0:case 11:case 15:Qc(8,A,A.return),Cm(A);break;case 22:c=A.stateNode,c._visibility&2&&(c._visibility&=-3,Cm(A));break;default:Cm(A)}a=a.sibling}}function N4(a,A){for(;qs!==null;){var c=qs;switch(c.tag){case 0:case 11:case 15:Qc(8,c,A);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Vu(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,qs=f;else e:for(c=a;qs!==null;){f=qs;var y=f.sibling,B=f.return;if(f4(f),f===c){qs=null;break e}if(y!==null){y.return=B,qs=y;break e}qs=B}}}var vT={getCacheForType:function(a){var A=js(Kn),c=A.data.get(a);return c===void 0&&(c=a(),A.data.set(a,c)),c},cacheSignal:function(){return js(Kn).controller.signal}},BT=typeof WeakMap=="function"?WeakMap:Map,zr=0,hn=null,br=null,vr=0,Wr=0,qi=null,Lc=!1,lh=!1,bb=!1,Hl=0,$n=0,kc=0,Yu=0,yb=0,Gi=0,ch=0,i0=null,vi=null,wb=!1,_m=0,C4=0,Em=1/0,Sm=null,Rc=null,Us=0,Dc=null,uh=null,Vl=0,vb=0,Bb=null,_4=null,o0=0,Nb=null;function Xi(){return(zr&2)!==0&&vr!==0?vr&-vr:te.T!==null?jb():Qt()}function E4(){if(Gi===0)if((vr&536870912)===0||pr){var a=gn;gn<<=1,(gn&3932160)===0&&(gn=262144),Gi=a}else Gi=536870912;return a=zn.current,a!==null&&(a.flags|=32),Gi}function Bi(a,A,c){(a===hn&&(Wr===2||Wr===9)||a.cancelPendingCommit!==null)&&(dh(a,0),Mc(a,vr,Gi,!1)),mn(a,c),((zr&2)===0||a!==hn)&&(a===hn&&((zr&2)===0&&(Yu|=c),$n===4&&Mc(a,vr,Gi,!1)),zA(a))}function S4(a,A,c){if((zr&6)!==0)throw Error(n(327));var f=!c&&(A&127)===0&&(A&a.expiredLanes)===0||Xt(a,A),y=f?_T(a,A):_b(a,A,!0),B=f;do{if(y===0){lh&&!f&&Mc(a,A,0,!1);break}else{if(c=a.current.alternate,B&&!NT(c)){y=_b(a,A,!1),B=!1;continue}if(y===2){if(B=A,a.errorRecoveryDisabledLanes&B)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){A=k;e:{var Z=a;y=i0;var pe=Z.current.memoizedState.isDehydrated;if(pe&&(dh(Z,k).flags|=256),k=_b(Z,k,!1),k!==2){if(bb&&!pe){Z.errorRecoveryDisabledLanes|=B,Yu|=B,y=4;break e}B=vi,vi=y,B!==null&&(vi===null?vi=B:vi.push.apply(vi,B))}y=k}if(B=!1,y!==2)continue}}if(y===1){dh(a,0),Mc(a,A,0,!0);break}e:{switch(f=a,B=y,B){case 0:case 1:throw Error(n(345));case 4:if((A&4194048)!==A)break;case 6:Mc(f,A,Gi,!Lc);break e;case 2:vi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((A&62914560)===A&&(y=_m+300-bt(),10<y)){if(Mc(f,A,Gi,!Lc),jt(f,0,!0)!==0)break e;Vl=A,f.timeoutHandle=aB(I4.bind(null,f,c,vi,Sm,wb,A,Gi,Yu,ch,Lc,B,"Throttled",-0,0),y);break e}I4(f,c,vi,Sm,wb,A,Gi,Yu,ch,Lc,B,null,-0,0)}}break}while(!0);zA(a)}function I4(a,A,c,f,y,B,k,Z,pe,Fe,Ke,We,Le,De){if(a.timeoutHandle=-1,We=A.subtreeFlags,We&8192||(We&16785408)===16785408){We={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},w4(A,B,We);var Et=(B&62914560)===B?_m-bt():(B&4194048)===B?C4-bt():0;if(Et=A8(We,Et),Et!==null){Vl=B,a.cancelPendingCommit=Et(R4.bind(null,a,A,B,c,f,y,k,Z,pe,Ke,We,null,Le,De)),Mc(a,B,k,!Fe);return}}R4(a,A,B,c,f,y,k,Z,pe)}function NT(a){for(var A=a;;){var c=A.tag;if((c===0||c===11||c===15)&&A.flags&16384&&(c=A.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],B=y.getSnapshot;y=y.value;try{if(!Os(B(),y))return!1}catch{return!1}}if(c=A.child,A.subtreeFlags&16384&&c!==null)c.return=A,A=c;else{if(A===a)break;for(;A.sibling===null;){if(A.return===null||A.return===a)return!0;A=A.return}A.sibling.return=A.return,A=A.sibling}}return!0}function Mc(a,A,c,f){A&=~yb,A&=~Yu,a.suspendedLanes|=A,a.pingedLanes&=~A,f&&(a.warmLanes|=A),f=a.expirationTimes;for(var y=A;0<y;){var B=31-Ft(y),k=1<<B;f[B]=-1,y&=~k}c!==0&&ct(a,c,A)}function Im(){return(zr&6)===0?(A0(0),!1):!0}function Cb(){if(br!==null){if(Wr===0)var a=br.return;else a=br,ho=kA=null,eh(a),ze=null,gt=0,a=br;for(;a!==null;)i4(a.alternate,a),a=a.return;br=null}}function dh(a,A){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,KT(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Vl=0,Cb(),hn=a,br=c=ui(a.current,null),vr=A,Wr=0,qi=null,Lc=!1,lh=Xt(a,A),bb=!1,ch=Gi=yb=Yu=kc=$n=0,vi=i0=null,wb=!1,(A&8)!==0&&(A|=A&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=A;0<f;){var y=31-Ft(f),B=1<<y;A|=a[y],f&=~B}return Hl=A,UA(),c}function j4(a,A){tr=null,te.H=Jf,A===ye||A===je?(A=qe(),Wr=3):A===Te?(A=qe(),Wr=4):Wr=A===nb?8:A!==null&&typeof A=="object"&&typeof A.then=="function"?6:1,qi=A,br===null&&($n=1,xm(a,di(A,a.current)))}function T4(){var a=zn.current;return a===null?!0:(vr&4194048)===vr?gs===null:(vr&62914560)===vr||(vr&536870912)!==0?a===gs:!1}function U4(){var a=te.H;return te.H=Jf,a===null?Jf:a}function F4(){var a=te.A;return te.A=vT,a}function jm(){$n=4,Lc||(vr&4194048)!==vr&&zn.current!==null||(lh=!0),(kc&134217727)===0&&(Yu&134217727)===0||hn===null||Mc(hn,vr,Gi,!1)}function _b(a,A,c){var f=zr;zr|=2;var y=U4(),B=F4();(hn!==a||vr!==A)&&(Sm=null,dh(a,A)),A=!1;var k=$n;e:do try{if(Wr!==0&&br!==null){var Z=br,pe=qi;switch(Wr){case 8:Cb(),k=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(A=!0);var Fe=Wr;if(Wr=0,qi=null,hh(a,Z,pe,Fe),c&&lh){k=0;break e}break;default:Fe=Wr,Wr=0,qi=null,hh(a,Z,pe,Fe)}}CT(),k=$n;break}catch(Ke){j4(a,Ke)}while(!0);return A&&a.shellSuspendCounter++,ho=kA=null,zr=f,te.H=y,te.A=B,br===null&&(hn=null,vr=0,UA()),k}function CT(){for(;br!==null;)Q4(br)}function _T(a,A){var c=zr;zr|=2;var f=U4(),y=F4();hn!==a||vr!==A?(Sm=null,Em=bt()+500,dh(a,A)):lh=Xt(a,A);e:do try{if(Wr!==0&&br!==null){A=br;var B=qi;t:switch(Wr){case 1:Wr=0,qi=null,hh(a,A,B,1);break;case 2:case 9:if(Ye(B)){Wr=0,qi=null,L4(A);break}A=function(){Wr!==2&&Wr!==9||hn!==a||(Wr=7),zA(a)},B.then(A,A);break e;case 3:Wr=7;break e;case 4:Wr=5;break e;case 7:Ye(B)?(Wr=0,qi=null,L4(A)):(Wr=0,qi=null,hh(a,A,B,7));break;case 5:var k=null;switch(br.tag){case 26:k=br.memoizedState;case 5:case 27:var Z=br;if(k?yB(k):Z.stateNode.complete){Wr=0,qi=null;var pe=Z.sibling;if(pe!==null)br=pe;else{var Fe=Z.return;Fe!==null?(br=Fe,Tm(Fe)):br=null}break t}}Wr=0,qi=null,hh(a,A,B,5);break;case 6:Wr=0,qi=null,hh(a,A,B,6);break;case 8:Cb(),$n=6;break e;default:throw Error(n(462))}}ET();break}catch(Ke){j4(a,Ke)}while(!0);return ho=kA=null,te.H=f,te.A=y,zr=c,br!==null?0:(hn=null,vr=0,UA(),$n)}function ET(){for(;br!==null&&!it();)Q4(br)}function Q4(a){var A=s4(a.alternate,a,Hl);a.memoizedProps=a.pendingProps,A===null?Tm(a):br=A}function L4(a){var A=a,c=A.alternate;switch(A.tag){case 15:case 0:A=J5(c,A,A.pendingProps,A.type,void 0,vr);break;case 11:A=J5(c,A,A.pendingProps,A.type.render,A.ref,vr);break;case 5:eh(A);default:i4(c,A),A=br=Ou(A,Hl),A=s4(c,A,Hl)}a.memoizedProps=a.pendingProps,A===null?Tm(a):br=A}function hh(a,A,c,f){ho=kA=null,eh(A),ze=null,gt=0;var y=A.return;try{if(gT(a,y,A,c,vr)){$n=1,xm(a,di(c,a.current)),br=null;return}}catch(B){if(y!==null)throw br=y,B;$n=1,xm(a,di(c,a.current)),br=null;return}A.flags&32768?(pr||f===1?a=!0:lh||(vr&536870912)!==0?a=!1:(Lc=a=!0,(f===2||f===9||f===3||f===6)&&(f=zn.current,f!==null&&f.tag===13&&(f.flags|=16384))),k4(A,a)):Tm(A)}function Tm(a){var A=a;do{if((A.flags&32768)!==0){k4(A,Lc);return}a=A.return;var c=xT(A.alternate,A,Hl);if(c!==null){br=c;return}if(A=A.sibling,A!==null){br=A;return}br=A=a}while(A!==null);$n===0&&($n=5)}function k4(a,A){do{var c=bT(a.alternate,a);if(c!==null){c.flags&=32767,br=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!A&&(a=a.sibling,a!==null)){br=a;return}br=a=c}while(a!==null);$n=6,br=null}function R4(a,A,c,f,y,B,k,Z,pe){a.cancelPendingCommit=null;do Um();while(Us!==0);if((zr&6)!==0)throw Error(n(327));if(A!==null){if(A===a.current)throw Error(n(177));if(B=A.lanes|A.childLanes,B|=Ki,Qe(a,c,B,k,Z,pe),a===hn&&(br=hn=null,vr=0),uh=A,Dc=a,Vl=c,vb=B,Bb=y,_4=f,(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,TT(cr,function(){return H4(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(A.flags&13878)!==0,(A.subtreeFlags&13878)!==0||f){f=te.T,te.T=null,y=Y.p,Y.p=2,k=zr,zr|=4;try{yT(a,A,c)}finally{zr=k,Y.p=y,te.T=f}}Us=1,D4(),M4(),O4()}}function D4(){if(Us===1){Us=0;var a=Dc,A=uh,c=(A.flags&13878)!==0;if((A.subtreeFlags&13878)!==0||c){c=te.T,te.T=null;var f=Y.p;Y.p=2;var y=zr;zr|=4;try{x4(A,a);var B=Db,k=Oo(a.containerInfo),Z=B.focusedElem,pe=B.selectionRange;if(k!==Z&&Z&&Z.ownerDocument&&Ps(Z.ownerDocument.documentElement,Z)){if(pe!==null&&Oi(Z)){var Fe=pe.start,Ke=pe.end;if(Ke===void 0&&(Ke=Fe),"selectionStart"in Z)Z.selectionStart=Fe,Z.selectionEnd=Math.min(Ke,Z.value.length);else{var We=Z.ownerDocument||document,Le=We&&We.defaultView||window;if(Le.getSelection){var De=Le.getSelection(),Et=Z.textContent.length,Gt=Math.min(pe.start,Et),An=pe.end===void 0?Gt:Math.min(pe.end,Et);!De.extend&&Gt>An&&(k=An,An=Gt,Gt=k);var Se=Aa(Z,Gt),Ne=Aa(Z,An);if(Se&&Ne&&(De.rangeCount!==1||De.anchorNode!==Se.node||De.anchorOffset!==Se.offset||De.focusNode!==Ne.node||De.focusOffset!==Ne.offset)){var Ue=We.createRange();Ue.setStart(Se.node,Se.offset),De.removeAllRanges(),Gt>An?(De.addRange(Ue),De.extend(Ne.node,Ne.offset)):(Ue.setEnd(Ne.node,Ne.offset),De.addRange(Ue))}}}}for(We=[],De=Z;De=De.parentNode;)De.nodeType===1&&We.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<We.length;Z++){var Ge=We[Z];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}Km=!!Rb,Db=Rb=null}finally{zr=y,Y.p=f,te.T=c}}a.current=A,Us=2}}function M4(){if(Us===2){Us=0;var a=Dc,A=uh,c=(A.flags&8772)!==0;if((A.subtreeFlags&8772)!==0||c){c=te.T,te.T=null;var f=Y.p;Y.p=2;var y=zr;zr|=4;try{h4(a,A.alternate,A)}finally{zr=y,Y.p=f,te.T=c}}Us=3}}function O4(){if(Us===4||Us===3){Us=0,vt();var a=Dc,A=uh,c=Vl,f=_4;(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?Us=5:(Us=0,uh=Dc=null,P4(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Rc=null),xt(c),A=A.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(ut,A,void 0,(A.current.flags&128)===128)}catch{}if(f!==null){A=te.T,y=Y.p,Y.p=2,te.T=null;try{for(var B=a.onRecoverableError,k=0;k<f.length;k++){var Z=f[k];B(Z.value,{componentStack:Z.stack})}}finally{te.T=A,Y.p=y}}(Vl&3)!==0&&Um(),zA(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===Nb?o0++:(o0=0,Nb=a):o0=0,A0(0)}}function P4(a,A){(a.pooledCacheLanes&=A)===0&&(A=a.pooledCache,A!=null&&(a.pooledCache=null,Vu(A)))}function Um(){return D4(),M4(),O4(),H4()}function H4(){if(Us!==5)return!1;var a=Dc,A=vb;vb=0;var c=xt(Vl),f=te.T,y=Y.p;try{Y.p=32>c?32:c,te.T=null,c=Bb,Bb=null;var B=Dc,k=Vl;if(Us=0,uh=Dc=null,Vl=0,(zr&6)!==0)throw Error(n(331));var Z=zr;if(zr|=4,B4(B.current),y4(B,B.current,k,c),zr=Z,A0(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(ut,B)}catch{}return!0}finally{Y.p=y,te.T=f,P4(a,A)}}function V4(a,A,c){A=di(c,A),A=rb(a.stateNode,A,2),a=Yr(a,A,2),a!==null&&(mn(a,2),zA(a))}function Jr(a,A,c){if(a.tag===3)V4(a,a,c);else for(;A!==null;){if(A.tag===3){V4(A,a,c);break}else if(A.tag===1){var f=A.stateNode;if(typeof A.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Rc===null||!Rc.has(f))){a=di(c,a),c=K5(2),f=Yr(A,c,2),f!==null&&(z5(c,f,A,a),mn(f,2),zA(f));break}}A=A.return}}function Eb(a,A,c){var f=a.pingCache;if(f===null){f=a.pingCache=new BT;var y=new Set;f.set(A,y)}else y=f.get(A),y===void 0&&(y=new Set,f.set(A,y));y.has(c)||(bb=!0,y.add(c),a=ST.bind(null,a,A,c),A.then(a,a))}function ST(a,A,c){var f=a.pingCache;f!==null&&f.delete(A),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,hn===a&&(vr&c)===c&&($n===4||$n===3&&(vr&62914560)===vr&&300>bt()-_m?(zr&2)===0&&dh(a,0):yb|=c,ch===vr&&(ch=0)),zA(a)}function K4(a,A){A===0&&(A=Er()),a=Ko(a,A),a!==null&&(mn(a,A),zA(a))}function IT(a){var A=a.memoizedState,c=0;A!==null&&(c=A.retryLane),K4(a,c)}function jT(a,A){var c=0;switch(a.tag){case 31:case 13:var f=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(A),K4(a,c)}function TT(a,A){return He(a,A)}var Fm=null,fh=null,Sb=!1,Qm=!1,Ib=!1,Oc=0;function zA(a){a!==fh&&a.next===null&&(fh===null?Fm=fh=a:fh=fh.next=a),Qm=!0,Sb||(Sb=!0,FT())}function A0(a,A){if(!Ib&&Qm){Ib=!0;do for(var c=!1,f=Fm;f!==null;){if(a!==0){var y=f.pendingLanes;if(y===0)var B=0;else{var k=f.suspendedLanes,Z=f.pingedLanes;B=(1<<31-Ft(42|a)+1)-1,B&=y&~(k&~Z),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(c=!0,X4(f,B))}else B=vr,B=jt(f,f===hn?B:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(B&3)===0||Xt(f,B)||(c=!0,X4(f,B));f=f.next}while(c);Ib=!1}}function UT(){z4()}function z4(){Qm=Sb=!1;var a=0;Oc!==0&&VT()&&(a=Oc);for(var A=bt(),c=null,f=Fm;f!==null;){var y=f.next,B=q4(f,A);B===0?(f.next=null,c===null?Fm=y:c.next=y,y===null&&(fh=c)):(c=f,(a!==0||(B&3)!==0)&&(Qm=!0)),f=y}Us!==0&&Us!==5||A0(a),Oc!==0&&(Oc=0)}function q4(a,A){for(var c=a.suspendedLanes,f=a.pingedLanes,y=a.expirationTimes,B=a.pendingLanes&-62914561;0<B;){var k=31-Ft(B),Z=1<<k,pe=y[k];pe===-1?((Z&c)===0||(Z&f)!==0)&&(y[k]=ma(Z,A)):pe<=A&&(a.expiredLanes|=Z),B&=~Z}if(A=hn,c=vr,c=jt(a,a===A?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,c===0||a===A&&(Wr===2||Wr===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&st(f),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Xt(a,c)){if(A=c&-c,A===a.callbackPriority)return A;switch(f!==null&&st(f),xt(c)){case 2:case 8:c=Zt;break;case 32:c=cr;break;case 268435456:c=ar;break;default:c=cr}return f=G4.bind(null,a),c=He(c,f),a.callbackPriority=A,a.callbackNode=c,A}return f!==null&&f!==null&&st(f),a.callbackPriority=2,a.callbackNode=null,2}function G4(a,A){if(Us!==0&&Us!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Um()&&a.callbackNode!==c)return null;var f=vr;return f=jt(a,a===hn?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(S4(a,f,A),q4(a,bt()),a.callbackNode!=null&&a.callbackNode===c?G4.bind(null,a):null)}function X4(a,A){if(Um())return null;S4(a,A,!0)}function FT(){zT(function(){(zr&6)!==0?He(Yt,UT):z4()})}function jb(){if(Oc===0){var a=m;a===0&&(a=lr,lr<<=1,(lr&261888)===0&&(lr=256)),Oc=a}return Oc}function $4(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Lo(""+a)}function Y4(a,A){var c=A.ownerDocument.createElement("input");return c.name=A.name,c.value=A.value,a.id&&c.setAttribute("form",a.id),A.parentNode.insertBefore(c,A),a=new FormData(a),c.parentNode.removeChild(c),a}function QT(a,A,c,f,y){if(A==="submit"&&c&&c.stateNode===y){var B=$4((y[rr]||null).action),k=f.submitter;k&&(A=(A=k[rr]||null)?$4(A.formAction):k.getAttribute("formAction"),A!==null&&(B=A,k=null));var Z=new Va("action","action",null,f,y);a.push({event:Z,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Oc!==0){var pe=k?Y4(y,k):new FormData(y);Yx(c,{pending:!0,data:pe,method:y.method,action:B},null,pe)}}else typeof B=="function"&&(Z.preventDefault(),pe=k?Y4(y,k):new FormData(y),Yx(c,{pending:!0,data:pe,method:y.method,action:B},B,pe))},currentTarget:y}]})}}for(var Tb=0;Tb<Ba.length;Tb++){var Ub=Ba[Tb],LT=Ub.toLowerCase(),kT=Ub[0].toUpperCase()+Ub.slice(1);mr(LT,"on"+kT)}mr(IA,"onAnimationEnd"),mr(Ho,"onAnimationIteration"),mr(jA,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(wc,"onTransitionRun"),mr(El,"onTransitionStart"),mr(TA,"onTransitionCancel"),mr(vc,"onTransitionEnd"),xa("onMouseEnter",["mouseout","mouseover"]),xa("onMouseLeave",["mouseout","mouseover"]),xa("onPointerEnter",["pointerout","pointerover"]),xa("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var l0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(l0));function W4(a,A){A=(A&4)!==0;for(var c=0;c<a.length;c++){var f=a[c],y=f.event;f=f.listeners;e:{var B=void 0;if(A)for(var k=f.length-1;0<=k;k--){var Z=f[k],pe=Z.instance,Fe=Z.currentTarget;if(Z=Z.listener,pe!==B&&y.isPropagationStopped())break e;B=Z,y.currentTarget=Fe;try{B(y)}catch(Ke){Vr(Ke)}y.currentTarget=null,B=pe}else for(k=0;k<f.length;k++){if(Z=f[k],pe=Z.instance,Fe=Z.currentTarget,Z=Z.listener,pe!==B&&y.isPropagationStopped())break e;B=Z,y.currentTarget=Fe;try{B(y)}catch(Ke){Vr(Ke)}y.currentTarget=null,B=pe}}}}function yr(a,A){var c=A[Zs];c===void 0&&(c=A[Zs]=new Set);var f=a+"__bubble";c.has(f)||(J4(A,a,2,!1),c.add(f))}function Fb(a,A,c){var f=0;A&&(f|=4),J4(c,a,f,A)}var Lm="_reactListening"+Math.random().toString(36).slice(2);function Qb(a){if(!a[Lm]){a[Lm]=!0,so.forEach(function(c){c!=="selectionchange"&&(RT.has(c)||Fb(c,!1,a),Fb(c,!0,a))});var A=a.nodeType===9?a:a.ownerDocument;A===null||A[Lm]||(A[Lm]=!0,Fb("selectionchange",!1,A))}}function J4(a,A,c,f){switch(EB(A)){case 2:var y=u8;break;case 8:y=d8;break;default:y=$b}c=y.bind(null,A,c,a),y=void 0,!Fi||A!=="touchstart"&&A!=="touchmove"&&A!=="wheel"||(y=!0),f?y!==void 0?a.addEventListener(A,c,{capture:!0,passive:y}):a.addEventListener(A,c,!0):y!==void 0?a.addEventListener(A,c,{passive:y}):a.addEventListener(A,c,!1)}function Lb(a,A,c,f,y){var B=f;if((A&1)===0&&(A&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var Z=f.stateNode.containerInfo;if(Z===y)break;if(k===4)for(k=f.return;k!==null;){var pe=k.tag;if((pe===3||pe===4)&&k.stateNode.containerInfo===y)return;k=k.return}for(;Z!==null;){if(k=ta(Z),k===null)return;if(pe=k.tag,pe===5||pe===6||pe===26||pe===27){f=B=k;continue e}Z=Z.parentNode}}f=f.return}Ui(function(){var Fe=B,Ke=na(c),We=[];e:{var Le=Xa.get(a);if(Le!==void 0){var De=Va,Et=a;switch(a){case"keypress":if(wa(c)===0)break e;case"keydown":case"keyup":De=CA;break;case"focusin":Et="focus",De=Ro;break;case"focusout":Et="blur",De=Ro;break;case"beforeblur":case"afterblur":De=Ro;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=wA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=b;break;case IA:case Ho:case jA:De=hc;break;case vc:De=Q;break;case"scroll":case"scrollend":De=bA;break;case"wheel":De=ce;break;case"copy":case"cut":case"paste":De=vA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=za;break;case"toggle":case"beforetoggle":De=Ze}var Gt=(A&4)!==0,An=!Gt&&(a==="scroll"||a==="scrollend"),Se=Gt?Le!==null?Le+"Capture":null:Le;Gt=[];for(var Ne=Fe,Ue;Ne!==null;){var Ge=Ne;if(Ue=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||Ue===null||Se===null||(Ge=ya(Ne,Se),Ge!=null&&Gt.push(c0(Ne,Ge,Ue))),An)break;Ne=Ne.return}0<Gt.length&&(Le=new De(Le,Et,null,c,Ke),We.push({event:Le,listeners:Gt}))}}if((A&7)===0){e:{if(Le=a==="mouseover"||a==="pointerover",De=a==="mouseout"||a==="pointerout",Le&&c!==wl&&(Et=c.relatedTarget||c.fromElement)&&(ta(Et)||Et[yn]))break e;if((De||Le)&&(Le=Ke.window===Ke?Ke:(Le=Ke.ownerDocument)?Le.defaultView||Le.parentWindow:window,De?(Et=c.relatedTarget||c.toElement,De=Fe,Et=Et?ta(Et):null,Et!==null&&(An=o(Et),Gt=Et.tag,Et!==An||Gt!==5&&Gt!==27&&Gt!==6)&&(Et=null)):(De=null,Et=Fe),De!==Et)){if(Gt=Ai,Ge="onMouseLeave",Se="onMouseEnter",Ne="mouse",(a==="pointerout"||a==="pointerover")&&(Gt=za,Ge="onPointerLeave",Se="onPointerEnter",Ne="pointer"),An=De==null?Le:Ds(De),Ue=Et==null?Le:Ds(Et),Le=new Gt(Ge,Ne+"leave",De,c,Ke),Le.target=An,Le.relatedTarget=Ue,Ge=null,ta(Ke)===Fe&&(Gt=new Gt(Se,Ne+"enter",Et,c,Ke),Gt.target=Ue,Gt.relatedTarget=An,Ge=Gt),An=Ge,De&&Et)t:{for(Gt=DT,Se=De,Ne=Et,Ue=0,Ge=Se;Ge;Ge=Gt(Ge))Ue++;Ge=0;for(var Vt=Ne;Vt;Vt=Gt(Vt))Ge++;for(;0<Ue-Ge;)Se=Gt(Se),Ue--;for(;0<Ge-Ue;)Ne=Gt(Ne),Ge--;for(;Ue--;){if(Se===Ne||Ne!==null&&Se===Ne.alternate){Gt=Se;break t}Se=Gt(Se),Ne=Gt(Ne)}Gt=null}else Gt=null;De!==null&&Z4(We,Le,De,Gt,!1),Et!==null&&An!==null&&Z4(We,An,Et,Gt,!0)}}e:{if(Le=Fe?Ds(Fe):window,De=Le.nodeName&&Le.nodeName.toLowerCase(),De==="select"||De==="input"&&Le.type==="file")var Pr=us;else if(gc(Le))if(Cl)Pr=xc;else{Pr=Od;var Lt=Du}else De=Le.nodeName,!De||De.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Fe&&ba(Fe.elementType)&&(Pr=us):Pr=li;if(Pr&&(Pr=Pr(a,Fe))){mc(We,Pr,c,Ke);break e}Lt&&Lt(a,Le,Fe),a==="focusout"&&Fe&&Le.type==="number"&&Fe.memoizedProps.value!=null&&xA(Le,"number",Le.value)}switch(Lt=Fe?Ds(Fe):window,a){case"focusin":(gc(Lt)||Lt.contentEditable==="true")&&(Pi=Lt,Hi=Fe,cn=null);break;case"focusout":cn=Hi=Pi=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,Hs(We,c,Ke);break;case"selectionchange":if(Po)break;case"keydown":case"keyup":Hs(We,c,Ke)}var dr;if(pt)e:{switch(a){case"compositionstart":var Br="onCompositionStart";break e;case"compositionend":Br="onCompositionEnd";break e;case"compositionupdate":Br="onCompositionUpdate";break e}Br=void 0}else Ms?Sn(a,c)&&(Br="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Br="onCompositionStart");Br&&(Tr&&c.locale!=="ko"&&(Ms||Br!=="onCompositionStart"?Br==="onCompositionEnd"&&Ms&&(dr=Li()):(oi=Ke,vl="value"in oi?oi.value:oi.textContent,Ms=!0)),Lt=km(Fe,Br),0<Lt.length&&(Br=new ia(Br,a,null,c,Ke),We.push({event:Br,listeners:Lt}),dr?Br.data=dr:(dr=vn(c),dr!==null&&(Br.data=dr)))),(dr=er?qa(a,c):co(a,c))&&(Br=km(Fe,"onBeforeInput"),0<Br.length&&(Lt=new ia("onBeforeInput","beforeinput",null,c,Ke),We.push({event:Lt,listeners:Br}),Lt.data=dr)),QT(We,a,Fe,c,Ke)}W4(We,A)})}function c0(a,A,c){return{instance:a,listener:A,currentTarget:c}}function km(a,A){for(var c=A+"Capture",f=[];a!==null;){var y=a,B=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||B===null||(y=ya(a,c),y!=null&&f.unshift(c0(a,y,B)),y=ya(a,A),y!=null&&f.push(c0(a,y,B))),a.tag===3)return f;a=a.return}return[]}function DT(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Z4(a,A,c,f,y){for(var B=A._reactName,k=[];c!==null&&c!==f;){var Z=c,pe=Z.alternate,Fe=Z.stateNode;if(Z=Z.tag,pe!==null&&pe===f)break;Z!==5&&Z!==26&&Z!==27||Fe===null||(pe=Fe,y?(Fe=ya(c,B),Fe!=null&&k.unshift(c0(c,Fe,pe))):y||(Fe=ya(c,B),Fe!=null&&k.push(c0(c,Fe,pe)))),c=c.return}k.length!==0&&a.push({event:A,listeners:k})}var MT=/\r\n?/g,OT=/\u0000|\uFFFD/g;function eB(a){return(typeof a=="string"?a:""+a).replace(MT,`
`).replace(OT,"")}function tB(a,A){return A=eB(A),eB(a)===A}function on(a,A,c,f,y,B){switch(c){case"children":typeof f=="string"?A==="body"||A==="textarea"&&f===""||ls(a,f):(typeof f=="number"||typeof f=="bigint")&&A!=="body"&&ls(a,""+f);break;case"className":Sr(a,"class",f);break;case"tabIndex":Sr(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Sr(a,c,f);break;case"style":yl(a,f,B);break;case"data":if(A!=="object"){Sr(a,"data",f);break}case"src":case"href":if(f===""&&(A!=="a"||c!=="href")){a.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=Lo(""+f),a.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(c==="formAction"?(A!=="input"&&on(a,A,"name",y.name,y,null),on(a,A,"formEncType",y.formEncType,y,null),on(a,A,"formMethod",y.formMethod,y,null),on(a,A,"formTarget",y.formTarget,y,null)):(on(a,A,"encType",y.encType,y,null),on(a,A,"method",y.method,y,null),on(a,A,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=Lo(""+f),a.setAttribute(c,f);break;case"onClick":f!=null&&(a.onclick=sn);break;case"onScroll":f!=null&&yr("scroll",a);break;case"onScrollEnd":f!=null&&yr("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}c=Lo(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""+f):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":f===!0?a.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,f):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(c,f):a.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(c):a.setAttribute(c,f);break;case"popover":yr("beforetoggle",a),yr("toggle",a),pA(a,"popover",f);break;case"xlinkActuate":wn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":wn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":wn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":wn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":wn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":wn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":wn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":wn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":wn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":pA(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Qo.get(c)||c,pA(a,c,f))}}function kb(a,A,c,f,y,B){switch(c){case"style":yl(a,f,B);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"children":typeof f=="string"?ls(a,f):(typeof f=="number"||typeof f=="bigint")&&ls(a,""+f);break;case"onScroll":f!=null&&yr("scroll",a);break;case"onScrollEnd":f!=null&&yr("scrollend",a);break;case"onClick":f!=null&&(a.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gA.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),A=c.slice(2,y?c.length-7:void 0),B=a[rr]||null,B=B!=null?B[c]:null,typeof B=="function"&&a.removeEventListener(A,B,y),typeof f=="function")){typeof B!="function"&&B!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(A,f,y);break e}c in a?a[c]=f:f===!0?a.setAttribute(c,""):pA(a,c,f)}}}function ua(a,A,c){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yr("error",a),yr("load",a);var f=!1,y=!1,B;for(B in c)if(c.hasOwnProperty(B)){var k=c[B];if(k!=null)switch(B){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,A));default:on(a,A,B,k,c,null)}}y&&on(a,A,"srcSet",c.srcSet,c,null),f&&on(a,A,"src",c.src,c,null);return;case"input":yr("invalid",a);var Z=B=k=y=null,pe=null,Fe=null;for(f in c)if(c.hasOwnProperty(f)){var Ke=c[f];if(Ke!=null)switch(f){case"name":y=Ke;break;case"type":k=Ke;break;case"checked":pe=Ke;break;case"defaultChecked":Fe=Ke;break;case"value":B=Ke;break;case"defaultValue":Z=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(n(137,A));break;default:on(a,A,f,Ke,c,null)}}uc(a,B,Z,pe,Fe,k,y,!1);return;case"select":yr("invalid",a),f=k=B=null;for(y in c)if(c.hasOwnProperty(y)&&(Z=c[y],Z!=null))switch(y){case"value":B=Z;break;case"defaultValue":k=Z;break;case"multiple":f=Z;default:on(a,A,y,Z,c,null)}A=B,c=k,a.multiple=!!f,A!=null?ao(a,!!f,A,!1):c!=null&&ao(a,!!f,c,!0);return;case"textarea":yr("invalid",a),B=y=f=null;for(k in c)if(c.hasOwnProperty(k)&&(Z=c[k],Z!=null))switch(k){case"value":f=Z;break;case"defaultValue":y=Z;break;case"children":B=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(91));break;default:on(a,A,k,Z,c,null)}io(a,f,y,B);return;case"option":for(pe in c)if(c.hasOwnProperty(pe)&&(f=c[pe],f!=null))switch(pe){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:on(a,A,pe,f,c,null)}return;case"dialog":yr("beforetoggle",a),yr("toggle",a),yr("cancel",a),yr("close",a);break;case"iframe":case"object":yr("load",a);break;case"video":case"audio":for(f=0;f<l0.length;f++)yr(l0[f],a);break;case"image":yr("error",a),yr("load",a);break;case"details":yr("toggle",a);break;case"embed":case"source":case"link":yr("error",a),yr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Fe in c)if(c.hasOwnProperty(Fe)&&(f=c[Fe],f!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,A));default:on(a,A,Fe,f,c,null)}return;default:if(ba(A)){for(Ke in c)c.hasOwnProperty(Ke)&&(f=c[Ke],f!==void 0&&kb(a,A,Ke,f,c,void 0));return}}for(Z in c)c.hasOwnProperty(Z)&&(f=c[Z],f!=null&&on(a,A,Z,f,c,null))}function PT(a,A,c,f){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,B=null,k=null,Z=null,pe=null,Fe=null,Ke=null;for(De in c){var We=c[De];if(c.hasOwnProperty(De)&&We!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":pe=We;default:f.hasOwnProperty(De)||on(a,A,De,null,f,We)}}for(var Le in f){var De=f[Le];if(We=c[Le],f.hasOwnProperty(Le)&&(De!=null||We!=null))switch(Le){case"type":B=De;break;case"name":y=De;break;case"checked":Fe=De;break;case"defaultChecked":Ke=De;break;case"value":k=De;break;case"defaultValue":Z=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,A));break;default:De!==We&&on(a,A,Le,De,f,We)}}Fo(a,k,Z,pe,Fe,Ke,B,y);return;case"select":De=k=Z=Le=null;for(B in c)if(pe=c[B],c.hasOwnProperty(B)&&pe!=null)switch(B){case"value":break;case"multiple":De=pe;default:f.hasOwnProperty(B)||on(a,A,B,null,f,pe)}for(y in f)if(B=f[y],pe=c[y],f.hasOwnProperty(y)&&(B!=null||pe!=null))switch(y){case"value":Le=B;break;case"defaultValue":Z=B;break;case"multiple":k=B;default:B!==pe&&on(a,A,y,B,f,pe)}A=Z,c=k,f=De,Le!=null?ao(a,!!c,Le,!1):!!f!=!!c&&(A!=null?ao(a,!!c,A,!0):ao(a,!!c,c?[]:"",!1));return;case"textarea":De=Le=null;for(Z in c)if(y=c[Z],c.hasOwnProperty(Z)&&y!=null&&!f.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:on(a,A,Z,null,f,y)}for(k in f)if(y=f[k],B=c[k],f.hasOwnProperty(k)&&(y!=null||B!=null))switch(k){case"value":Le=y;break;case"defaultValue":De=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==B&&on(a,A,k,y,f,B)}xl(a,Le,De);return;case"option":for(var Et in c)if(Le=c[Et],c.hasOwnProperty(Et)&&Le!=null&&!f.hasOwnProperty(Et))switch(Et){case"selected":a.selected=!1;break;default:on(a,A,Et,null,f,Le)}for(pe in f)if(Le=f[pe],De=c[pe],f.hasOwnProperty(pe)&&Le!==De&&(Le!=null||De!=null))switch(pe){case"selected":a.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:on(a,A,pe,Le,f,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in c)Le=c[Gt],c.hasOwnProperty(Gt)&&Le!=null&&!f.hasOwnProperty(Gt)&&on(a,A,Gt,null,f,Le);for(Fe in f)if(Le=f[Fe],De=c[Fe],f.hasOwnProperty(Fe)&&Le!==De&&(Le!=null||De!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(n(137,A));break;default:on(a,A,Fe,Le,f,De)}return;default:if(ba(A)){for(var An in c)Le=c[An],c.hasOwnProperty(An)&&Le!==void 0&&!f.hasOwnProperty(An)&&kb(a,A,An,void 0,f,Le);for(Ke in f)Le=f[Ke],De=c[Ke],!f.hasOwnProperty(Ke)||Le===De||Le===void 0&&De===void 0||kb(a,A,Ke,Le,f,De);return}}for(var Se in c)Le=c[Se],c.hasOwnProperty(Se)&&Le!=null&&!f.hasOwnProperty(Se)&&on(a,A,Se,null,f,Le);for(We in f)Le=f[We],De=c[We],!f.hasOwnProperty(We)||Le===De||Le==null&&De==null||on(a,A,We,Le,f,De)}function rB(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HT(){if(typeof performance.getEntriesByType=="function"){for(var a=0,A=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var y=c[f],B=y.transferSize,k=y.initiatorType,Z=y.duration;if(B&&Z&&rB(k)){for(k=0,Z=y.responseEnd,f+=1;f<c.length;f++){var pe=c[f],Fe=pe.startTime;if(Fe>Z)break;var Ke=pe.transferSize,We=pe.initiatorType;Ke&&rB(We)&&(pe=pe.responseEnd,k+=Ke*(pe<Z?1:(Z-Fe)/(pe-Fe)))}if(--f,A+=8*(B+k)/(y.duration/1e3),a++,10<a)break}}if(0<a)return A/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Rb=null,Db=null;function Rm(a){return a.nodeType===9?a:a.ownerDocument}function nB(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sB(a,A){if(a===0)switch(A){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&A==="foreignObject"?0:a}function Mb(a,A){return a==="textarea"||a==="noscript"||typeof A.children=="string"||typeof A.children=="number"||typeof A.children=="bigint"||typeof A.dangerouslySetInnerHTML=="object"&&A.dangerouslySetInnerHTML!==null&&A.dangerouslySetInnerHTML.__html!=null}var Ob=null;function VT(){var a=window.event;return a&&a.type==="popstate"?a===Ob?!1:(Ob=a,!0):(Ob=null,!1)}var aB=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,iB=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof iB<"u"?function(a){return iB.resolve(null).then(a).catch(qT)}:aB;function qT(a){setTimeout(function(){throw a})}function Pc(a){return a==="head"}function oB(a,A){var c=A,f=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(f===0){a.removeChild(y),xh(A);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")u0(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,u0(c);for(var B=c.firstChild;B;){var k=B.nextSibling,Z=B.nodeName;B[ea]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&B.rel.toLowerCase()==="stylesheet"||c.removeChild(B),B=k}}else c==="body"&&u0(a.ownerDocument.body);c=y}while(c);xh(A)}function AB(a,A){var c=a;a=0;do{var f=c.nextSibling;if(c.nodeType===1?A?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(A?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=f}while(c)}function Pb(a){var A=a.firstChild;for(A&&A.nodeType===10&&(A=A.nextSibling);A;){var c=A;switch(A=A.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Pb(c),ji(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function GT(a,A,c,f){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==A.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[ea])switch(A){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(B=a.getAttribute("rel"),B==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(B!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(B=a.getAttribute("src"),(B!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&B&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(A==="input"&&a.type==="hidden"){var B=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===B)return a}else return a;if(a=bo(a.nextSibling),a===null)break}return null}function XT(a,A,c){if(A==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=bo(a.nextSibling),a===null))return null;return a}function lB(a,A){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!A||(a=bo(a.nextSibling),a===null))return null;return a}function Hb(a){return a.data==="$?"||a.data==="$~"}function Vb(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function $T(a,A){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=A;else if(a.data!=="$?"||c.readyState!=="loading")A();else{var f=function(){A(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function bo(a){for(;a!=null;a=a.nextSibling){var A=a.nodeType;if(A===1||A===3)break;if(A===8){if(A=a.data,A==="$"||A==="$!"||A==="$?"||A==="$~"||A==="&"||A==="F!"||A==="F")break;if(A==="/$"||A==="/&")return null}}return a}var Kb=null;function cB(a){a=a.nextSibling;for(var A=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(A===0)return bo(a.nextSibling);A--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||A++}a=a.nextSibling}return null}function uB(a){a=a.previousSibling;for(var A=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(A===0)return a;A--}else c!=="/$"&&c!=="/&"||A++}a=a.previousSibling}return null}function dB(a,A,c){switch(A=Rm(c),a){case"html":if(a=A.documentElement,!a)throw Error(n(452));return a;case"head":if(a=A.head,!a)throw Error(n(453));return a;case"body":if(a=A.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function u0(a){for(var A=a.attributes;A.length;)a.removeAttributeNode(A[0]);ji(a)}var yo=new Map,hB=new Set;function Dm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Kl=Y.d;Y.d={f:YT,r:WT,D:JT,C:ZT,L:e8,m:t8,X:n8,S:r8,M:s8};function YT(){var a=Kl.f(),A=Im();return a||A}function WT(a){var A=vs(a);A!==null&&A.tag===5&&A.type==="form"?j5(A):Kl.r(a)}var gh=typeof document>"u"?null:document;function fB(a,A,c){var f=gh;if(f&&typeof A=="string"&&A){var y=As(A);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),hB.has(y)||(hB.add(y),a={rel:a,crossOrigin:c,href:A},f.querySelector(y)===null&&(A=f.createElement("link"),ua(A,"link",a),En(A),f.head.appendChild(A)))}}function JT(a){Kl.D(a),fB("dns-prefetch",a,null)}function ZT(a,A){Kl.C(a,A),fB("preconnect",a,A)}function e8(a,A,c){Kl.L(a,A,c);var f=gh;if(f&&a&&A){var y='link[rel="preload"][as="'+As(A)+'"]';A==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+As(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+As(c.imageSizes)+'"]')):y+='[href="'+As(a)+'"]';var B=y;switch(A){case"style":B=mh(a);break;case"script":B=ph(a)}yo.has(B)||(a=p({rel:"preload",href:A==="image"&&c&&c.imageSrcSet?void 0:a,as:A},c),yo.set(B,a),f.querySelector(y)!==null||A==="style"&&f.querySelector(d0(B))||A==="script"&&f.querySelector(h0(B))||(A=f.createElement("link"),ua(A,"link",a),En(A),f.head.appendChild(A)))}}function t8(a,A){Kl.m(a,A);var c=gh;if(c&&a){var f=A&&typeof A.as=="string"?A.as:"script",y='link[rel="modulepreload"][as="'+As(f)+'"][href="'+As(a)+'"]',B=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=ph(a)}if(!yo.has(B)&&(a=p({rel:"modulepreload",href:a},A),yo.set(B,a),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(h0(B)))return}f=c.createElement("link"),ua(f,"link",a),En(f),c.head.appendChild(f)}}}function r8(a,A,c){Kl.S(a,A,c);var f=gh;if(f&&a){var y=si(f).hoistableStyles,B=mh(a);A=A||"default";var k=y.get(B);if(!k){var Z={loading:0,preload:null};if(k=f.querySelector(d0(B)))Z.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":A},c),(c=yo.get(B))&&zb(a,c);var pe=k=f.createElement("link");En(pe),ua(pe,"link",a),pe._p=new Promise(function(Fe,Ke){pe.onload=Fe,pe.onerror=Ke}),pe.addEventListener("load",function(){Z.loading|=1}),pe.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Mm(k,A,f)}k={type:"stylesheet",instance:k,count:1,state:Z},y.set(B,k)}}}function n8(a,A){Kl.X(a,A);var c=gh;if(c&&a){var f=si(c).hoistableScripts,y=ph(a),B=f.get(y);B||(B=c.querySelector(h0(y)),B||(a=p({src:a,async:!0},A),(A=yo.get(y))&&qb(a,A),B=c.createElement("script"),En(B),ua(B,"link",a),c.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},f.set(y,B))}}function s8(a,A){Kl.M(a,A);var c=gh;if(c&&a){var f=si(c).hoistableScripts,y=ph(a),B=f.get(y);B||(B=c.querySelector(h0(y)),B||(a=p({src:a,async:!0,type:"module"},A),(A=yo.get(y))&&qb(a,A),B=c.createElement("script"),En(B),ua(B,"link",a),c.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},f.set(y,B))}}function gB(a,A,c,f){var y=(y=he.current)?Dm(y):null;if(!y)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(A=mh(c.href),c=si(y).hoistableStyles,f=c.get(A),f||(f={type:"style",instance:null,count:0,state:null},c.set(A,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=mh(c.href);var B=si(y).hoistableStyles,k=B.get(a);if(k||(y=y.ownerDocument||y,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(a,k),(B=y.querySelector(d0(a)))&&!B._p&&(k.instance=B,k.state.loading=5),yo.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},yo.set(a,c),B||a8(y,a,c,k.state))),A&&f===null)throw Error(n(528,""));return k}if(A&&f!==null)throw Error(n(529,""));return null;case"script":return A=c.async,c=c.src,typeof c=="string"&&A&&typeof A!="function"&&typeof A!="symbol"?(A=ph(c),c=si(y).hoistableScripts,f=c.get(A),f||(f={type:"script",instance:null,count:0,state:null},c.set(A,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function mh(a){return'href="'+As(a)+'"'}function d0(a){return'link[rel="stylesheet"]['+a+"]"}function mB(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function a8(a,A,c,f){a.querySelector('link[rel="preload"][as="style"]['+A+"]")?f.loading=1:(A=a.createElement("link"),f.preload=A,A.addEventListener("load",function(){return f.loading|=1}),A.addEventListener("error",function(){return f.loading|=2}),ua(A,"link",c),En(A),a.head.appendChild(A))}function ph(a){return'[src="'+As(a)+'"]'}function h0(a){return"script[async]"+a}function pB(a,A,c){if(A.count++,A.instance===null)switch(A.type){case"style":var f=a.querySelector('style[data-href~="'+As(c.href)+'"]');if(f)return A.instance=f,En(f),f;var y=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),En(f),ua(f,"style",y),Mm(f,c.precedence,a),A.instance=f;case"stylesheet":y=mh(c.href);var B=a.querySelector(d0(y));if(B)return A.state.loading|=4,A.instance=B,En(B),B;f=mB(c),(y=yo.get(y))&&zb(f,y),B=(a.ownerDocument||a).createElement("link"),En(B);var k=B;return k._p=new Promise(function(Z,pe){k.onload=Z,k.onerror=pe}),ua(B,"link",f),A.state.loading|=4,Mm(B,c.precedence,a),A.instance=B;case"script":return B=ph(c.src),(y=a.querySelector(h0(B)))?(A.instance=y,En(y),y):(f=c,(y=yo.get(B))&&(f=p({},c),qb(f,y)),a=a.ownerDocument||a,y=a.createElement("script"),En(y),ua(y,"link",f),a.head.appendChild(y),A.instance=y);case"void":return null;default:throw Error(n(443,A.type))}else A.type==="stylesheet"&&(A.state.loading&4)===0&&(f=A.instance,A.state.loading|=4,Mm(f,c.precedence,a));return A.instance}function Mm(a,A,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,B=y,k=0;k<f.length;k++){var Z=f[k];if(Z.dataset.precedence===A)B=Z;else if(B!==y)break}B?B.parentNode.insertBefore(a,B.nextSibling):(A=c.nodeType===9?c.head:c,A.insertBefore(a,A.firstChild))}function zb(a,A){a.crossOrigin==null&&(a.crossOrigin=A.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=A.referrerPolicy),a.title==null&&(a.title=A.title)}function qb(a,A){a.crossOrigin==null&&(a.crossOrigin=A.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=A.referrerPolicy),a.integrity==null&&(a.integrity=A.integrity)}var Om=null;function xB(a,A,c){if(Om===null){var f=new Map,y=Om=new Map;y.set(c,f)}else y=Om,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(a))return f;for(f.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var B=c[y];if(!(B[ea]||B[mt]||a==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var k=B.getAttribute(A)||"";k=a+k;var Z=f.get(k);Z?Z.push(B):f.set(k,[B])}}return f}function bB(a,A,c){a=a.ownerDocument||a,a.head.insertBefore(c,A==="title"?a.querySelector("head > title"):null)}function i8(a,A,c){if(c===1||A.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof A.precedence!="string"||typeof A.href!="string"||A.href==="")break;return!0;case"link":if(typeof A.rel!="string"||typeof A.href!="string"||A.href===""||A.onLoad||A.onError)break;switch(A.rel){case"stylesheet":return a=A.disabled,typeof A.precedence=="string"&&a==null;default:return!0}case"script":if(A.async&&typeof A.async!="function"&&typeof A.async!="symbol"&&!A.onLoad&&!A.onError&&A.src&&typeof A.src=="string")return!0}return!1}function yB(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function o8(a,A,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=mh(f.href),B=A.querySelector(d0(y));if(B){A=B._p,A!==null&&typeof A=="object"&&typeof A.then=="function"&&(a.count++,a=Pm.bind(a),A.then(a,a)),c.state.loading|=4,c.instance=B,En(B);return}B=A.ownerDocument||A,f=mB(f),(y=yo.get(y))&&zb(f,y),B=B.createElement("link"),En(B);var k=B;k._p=new Promise(function(Z,pe){k.onload=Z,k.onerror=pe}),ua(B,"link",f),c.instance=B}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,A),(A=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Pm.bind(a),A.addEventListener("load",c),A.addEventListener("error",c))}}var Gb=0;function A8(a,A){return a.stylesheets&&a.count===0&&Vm(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var f=setTimeout(function(){if(a.stylesheets&&Vm(a,a.stylesheets),a.unsuspend){var B=a.unsuspend;a.unsuspend=null,B()}},6e4+A);0<a.imgBytes&&Gb===0&&(Gb=62500*HT());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Vm(a,a.stylesheets),a.unsuspend)){var B=a.unsuspend;a.unsuspend=null,B()}},(a.imgBytes>Gb?50:800)+A);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function Pm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Hm=null;function Vm(a,A){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Hm=new Map,A.forEach(l8,a),Hm=null,Pm.call(a))}function l8(a,A){if(!(A.state.loading&4)){var c=Hm.get(a);if(c)var f=c.get(null);else{c=new Map,Hm.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<y.length;B++){var k=y[B];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(c.set(k.dataset.precedence,k),f=k)}f&&c.set(null,f)}y=A.instance,k=y.getAttribute("data-precedence"),B=c.get(k)||f,B===f&&c.set(null,y),c.set(k,y),this.count++,f=Pm.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),B?B.parentNode.insertBefore(y,B.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),A.state.loading|=4}}var f0={$$typeof:K,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function c8(a,A,c,f,y,B,k,Z,pe){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xr(0),this.hiddenUpdates=Xr(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=B,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function wB(a,A,c,f,y,B,k,Z,pe,Fe,Ke,We){return a=new c8(a,A,c,k,pe,Fe,Ke,We,Z),A=1,B===!0&&(A|=24),B=Ks(3,null,null,A),a.current=B,B.stateNode=a,A=Ic(),A.refCount++,a.pooledCache=A,A.refCount++,B.memoizedState={element:f,isDehydrated:c,cache:A},Kr(B),a}function vB(a){return a?(a=Es,a):Es}function BB(a,A,c,f,y,B){y=vB(y),f.context===null?f.context=y:f.pendingContext=y,f=qt(A),f.payload={element:c},B=B===void 0?null:B,B!==null&&(f.callback=B),c=Yr(a,f,A),c!==null&&(Bi(c,a,A),hs(c,a,A))}function NB(a,A){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<A?c:A}}function Xb(a,A){NB(a,A),(a=a.alternate)&&NB(a,A)}function CB(a){if(a.tag===13||a.tag===31){var A=Ko(a,67108864);A!==null&&Bi(A,a,67108864),Xb(a,67108864)}}function _B(a){if(a.tag===13||a.tag===31){var A=Xi();A=rt(A);var c=Ko(a,A);c!==null&&Bi(c,a,A),Xb(a,A)}}var Km=!0;function u8(a,A,c,f){var y=te.T;te.T=null;var B=Y.p;try{Y.p=2,$b(a,A,c,f)}finally{Y.p=B,te.T=y}}function d8(a,A,c,f){var y=te.T;te.T=null;var B=Y.p;try{Y.p=8,$b(a,A,c,f)}finally{Y.p=B,te.T=y}}function $b(a,A,c,f){if(Km){var y=Yb(f);if(y===null)Lb(a,A,f,zm,c),SB(a,f);else if(f8(y,a,A,c,f))f.stopPropagation();else if(SB(a,f),A&4&&-1<h8.indexOf(a)){for(;y!==null;){var B=vs(y);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var k=ur(B.pendingLanes);if(k!==0){var Z=B;for(Z.pendingLanes|=2,Z.entangledLanes|=2;k;){var pe=1<<31-Ft(k);Z.entanglements[1]|=pe,k&=~pe}zA(B),(zr&6)===0&&(Em=bt()+500,A0(0))}}break;case 31:case 13:Z=Ko(B,2),Z!==null&&Bi(Z,B,2),Im(),Xb(B,2)}if(B=Yb(f),B===null&&Lb(a,A,f,zm,c),B===y)break;y=B}y!==null&&f.stopPropagation()}else Lb(a,A,f,null,c)}}function Yb(a){return a=na(a),Wb(a)}var zm=null;function Wb(a){if(zm=null,a=ta(a),a!==null){var A=o(a);if(A===null)a=null;else{var c=A.tag;if(c===13){if(a=l(A),a!==null)return a;a=null}else if(c===31){if(a=u(A),a!==null)return a;a=null}else if(c===3){if(A.stateNode.current.memoizedState.isDehydrated)return A.tag===3?A.stateNode.containerInfo:null;a=null}else A!==a&&(a=null)}}return zm=a,null}function EB(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ot()){case Yt:return 2;case Zt:return 8;case cr:case Mt:return 32;case ar:return 268435456;default:return 32}default:return 32}}var Jb=!1,Hc=null,Vc=null,Kc=null,g0=new Map,m0=new Map,zc=[],h8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SB(a,A){switch(a){case"focusin":case"focusout":Hc=null;break;case"dragenter":case"dragleave":Vc=null;break;case"mouseover":case"mouseout":Kc=null;break;case"pointerover":case"pointerout":g0.delete(A.pointerId);break;case"gotpointercapture":case"lostpointercapture":m0.delete(A.pointerId)}}function p0(a,A,c,f,y,B){return a===null||a.nativeEvent!==B?(a={blockedOn:A,domEventName:c,eventSystemFlags:f,nativeEvent:B,targetContainers:[y]},A!==null&&(A=vs(A),A!==null&&CB(A)),a):(a.eventSystemFlags|=f,A=a.targetContainers,y!==null&&A.indexOf(y)===-1&&A.push(y),a)}function f8(a,A,c,f,y){switch(A){case"focusin":return Hc=p0(Hc,a,A,c,f,y),!0;case"dragenter":return Vc=p0(Vc,a,A,c,f,y),!0;case"mouseover":return Kc=p0(Kc,a,A,c,f,y),!0;case"pointerover":var B=y.pointerId;return g0.set(B,p0(g0.get(B)||null,a,A,c,f,y)),!0;case"gotpointercapture":return B=y.pointerId,m0.set(B,p0(m0.get(B)||null,a,A,c,f,y)),!0}return!1}function IB(a){var A=ta(a.target);if(A!==null){var c=o(A);if(c!==null){if(A=c.tag,A===13){if(A=l(c),A!==null){a.blockedOn=A,_t(a.priority,function(){_B(c)});return}}else if(A===31){if(A=u(c),A!==null){a.blockedOn=A,_t(a.priority,function(){_B(c)});return}}else if(A===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function qm(a){if(a.blockedOn!==null)return!1;for(var A=a.targetContainers;0<A.length;){var c=Yb(a.nativeEvent);if(c===null){c=a.nativeEvent;var f=new c.constructor(c.type,c);wl=f,c.target.dispatchEvent(f),wl=null}else return A=vs(c),A!==null&&CB(A),a.blockedOn=c,!1;A.shift()}return!0}function jB(a,A,c){qm(a)&&c.delete(A)}function g8(){Jb=!1,Hc!==null&&qm(Hc)&&(Hc=null),Vc!==null&&qm(Vc)&&(Vc=null),Kc!==null&&qm(Kc)&&(Kc=null),g0.forEach(jB),m0.forEach(jB)}function Gm(a,A){a.blockedOn===A&&(a.blockedOn=null,Jb||(Jb=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,g8)))}var Xm=null;function TB(a){Xm!==a&&(Xm=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xm===a&&(Xm=null);for(var A=0;A<a.length;A+=3){var c=a[A],f=a[A+1],y=a[A+2];if(typeof f!="function"){if(Wb(f||c)===null)continue;break}var B=vs(c);B!==null&&(a.splice(A,3),A-=3,Yx(B,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function xh(a){function A(pe){return Gm(pe,a)}Hc!==null&&Gm(Hc,a),Vc!==null&&Gm(Vc,a),Kc!==null&&Gm(Kc,a),g0.forEach(A),m0.forEach(A);for(var c=0;c<zc.length;c++){var f=zc[c];f.blockedOn===a&&(f.blockedOn=null)}for(;0<zc.length&&(c=zc[0],c.blockedOn===null);)IB(c),c.blockedOn===null&&zc.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],B=c[f+1],k=y[rr]||null;if(typeof B=="function")k||TB(c);else if(k){var Z=null;if(B&&B.hasAttribute("formAction")){if(y=B,k=B[rr]||null)Z=k.formAction;else if(Wb(y)!==null)continue}else Z=k.action;typeof Z=="function"?c[f+1]=Z:(c.splice(f,3),f-=3),TB(c)}}}function UB(){function a(B){B.canIntercept&&B.info==="react-transition"&&B.intercept({handler:function(){return new Promise(function(k){return y=k})},focusReset:"manual",scroll:"manual"})}function A(){y!==null&&(y(),y=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var B=navigation.currentEntry;B&&B.url!=null&&navigation.navigate(B.url,{state:B.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",A),navigation.addEventListener("navigateerror",A),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",A),navigation.removeEventListener("navigateerror",A),y!==null&&(y(),y=null)}}}function Zb(a){this._internalRoot=a}$m.prototype.render=Zb.prototype.render=function(a){var A=this._internalRoot;if(A===null)throw Error(n(409));var c=A.current,f=Xi();BB(c,f,a,A,null,null)},$m.prototype.unmount=Zb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var A=a.containerInfo;BB(a.current,2,null,a,null,null),Im(),A[yn]=null}};function $m(a){this._internalRoot=a}$m.prototype.unstable_scheduleHydration=function(a){if(a){var A=Qt();a={blockedOn:null,target:a,priority:A};for(var c=0;c<zc.length&&A!==0&&A<zc[c].priority;c++);zc.splice(c,0,a),c===0&&IB(a)}};var FB=e.version;if(FB!=="19.2.3")throw Error(n(527,FB,"19.2.3"));Y.findDOMNode=function(a){var A=a._reactInternals;if(A===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=g(A),a=a!==null?x(a):null,a=a===null?null:a.stateNode,a};var m8={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ym.isDisabled&&Ym.supportsFiber)try{ut=Ym.inject(m8),It=Ym}catch{}}return b0.createRoot=function(a,A){if(!s(a))throw Error(n(299));var c=!1,f="",y=O5,B=P5,k=H5;return A!=null&&(A.unstable_strictMode===!0&&(c=!0),A.identifierPrefix!==void 0&&(f=A.identifierPrefix),A.onUncaughtError!==void 0&&(y=A.onUncaughtError),A.onCaughtError!==void 0&&(B=A.onCaughtError),A.onRecoverableError!==void 0&&(k=A.onRecoverableError)),A=wB(a,1,!1,null,null,c,f,null,y,B,k,UB),a[yn]=A.current,Qb(a),new Zb(A)},b0.hydrateRoot=function(a,A,c){if(!s(a))throw Error(n(299));var f=!1,y="",B=O5,k=P5,Z=H5,pe=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(B=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&(Z=c.onRecoverableError),c.formState!==void 0&&(pe=c.formState)),A=wB(a,1,!0,A,c??null,f,y,pe,B,k,Z,UB),A.context=vB(null),c=A.current,f=Xi(),f=rt(f),y=qt(f),y.callback=null,Yr(c,y,f),c=f,A.current.lanes=c,mn(A,c),zA(A),a[yn]=A.current,Qb(a),new $m(A)},b0.version="19.2.3",b0}var VB;function C8(){if(VB)return r2.exports;VB=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),r2.exports=N8(),r2.exports}var _8=C8();const E8=F_(_8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I8=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),KB=r=>{const e=I8(r);return e.charAt(0).toUpperCase()+e.slice(1)},L_=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),j8=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=ue.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:l,...u},h)=>ue.createElement("svg",{ref:h,...T8,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:L_("lucide",s),...!o&&!j8(u)&&{"aria-hidden":"true"},...u},[...l.map(([g,x])=>ue.createElement(g,x)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(r,e)=>{const t=ue.forwardRef(({className:n,...s},o)=>ue.createElement(U8,{ref:o,iconNode:e,className:L_(`lucide-${S8(KB(r))}`,`lucide-${r}`,n),...s}));return t.displayName=KB(r),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Q8=$e("activity",F8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Dw=$e("arrow-left",L8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qr=$e("arrow-right",k8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],du=$e("award",R8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]],iA=$e("backpack",D8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wm=$e("ban",M8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Jm=$e("bell",O8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],H8=$e("bold",P8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],is=$e("book-open",V8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],tf=$e("book",K8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Mw=$e("brain",z8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ow=$e("briefcase",q8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],lg=$e("calendar-days",G8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cg=$e("calendar",X8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Qp=$e("chart-column",$8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],k_=$e("check",Y8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],el=$e("chevron-down",W8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$A=$e("chevron-left",J8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],i2=$e("chevron-right",Z8);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ug=$e("circle-alert",eU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zl=$e("circle-check-big",tU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kn=$e("circle-check",rU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sU=$e("circle-play",nU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],zB=$e("circle-plus",aU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_o=$e("circle-question-mark",iU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],AU=$e("circle-user",oU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],R_=$e("circle-x",lU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],uU=$e("clipboard-list",cU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M11 14h10",key:"1w8e9d"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v1.344",key:"1e62lh"}],["path",{d:"m17 18 4-4-4-4",key:"z2g111"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 1.793-1.113",key:"bjbb7m"}],["rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",key:"ublpy"}]],hU=$e("clipboard-paste",dU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dg=$e("clock",fU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],mU=$e("cloud-download",gU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],uy=$e("cloud-upload",pU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Pw=$e("copy",xU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],a1=$e("credit-card",bU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Dn=$e("crown",yU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],hg=$e("download",wU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],BU=$e("ellipsis",vU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dy=$e("eye",NU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],rf=$e("facebook",CU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],EU=$e("file-check",_U);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],IU=$e("file-plus",SU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],TU=$e("file-search",jU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ls=$e("file-text",UU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Hw=$e("flag",FU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],i1=$e("flame",QU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],sd=$e("folder-open",LU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],D_=$e("globe",kU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],jo=$e("graduation-cap",RU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],MU=$e("headphones",DU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],PU=$e("history",OU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Cn=$e("house",HU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Y1=$e("info",VU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],zU=$e("instagram",KU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],kg=$e("languages",qU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],tl=$e("layers",GU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qB=$e("layout-dashboard",XU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],YU=$e("library",$U);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],JU=$e("link",WU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],GB=$e("list-ordered",ZU);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],M_=$e("list",eF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jr=$e("loader-circle",tF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],hy=$e("log-in",rF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Bo=$e("lock",nF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fg=$e("log-out",sF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sA=$e("mail",aF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fy=$e("map-pin",iF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],AF=$e("map",oF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],gy=$e("medal",lF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],XB=$e("megaphone",cF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dF=$e("menu",uF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],vd=$e("message-circle",hF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],gg=$e("message-square",fF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],hu=$e("monitor",gF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],O_=$e("move-right",mF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],xF=$e("octagon-alert",pF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],my=$e("palette",bF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wF=$e("pen-line",yF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],W1=$e("pen-tool",vF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],P_=$e("pencil-line",BF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],CF=$e("quote",NF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Rg=$e("refresh-cw",_F);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],H_=$e("rocket",EF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ec=$e("rotate-ccw",SF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fu=$e("save",IF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Vw=$e("school",jF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],UF=$e("scroll",TF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Si=$e("search",FF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gu=$e("send",QF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],$B=$e("share-2",LF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],RF=$e("shield-alert",kF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Dg=$e("shield-check",DF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],OF=$e("smartphone",MF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],o1=$e("sparkles",PF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],py=$e("square-pen",HF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rl=$e("star",VF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],V_=$e("tag",KF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Mg=$e("target",zF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],GF=$e("text-align-center",qF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],$F=$e("text-align-end",XF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],K_=$e("text-align-start",YF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],z_=$e("timer",WF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ZF=$e("toggle-left",JF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nl=$e("trash-2",eQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],q_=$e("trending-up",tQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],J1=$e("triangle-alert",rQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],nf=$e("trophy",nQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],aQ=$e("type",sQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],oQ=$e("underline",iQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 16h.01",key:"plv8zi"}],["path",{d:"M22 7a1 1 0 0 0-1-1h-2a2 2 0 0 1-1.143-.359L13.143 2.36a2 2 0 0 0-2.286-.001L6.143 5.64A2 2 0 0 1 5 6H3a1 1 0 0 0-1 1v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2z",key:"1ogmi3"}],["path",{d:"M6 12h.01",key:"c2rlol"}],["path",{d:"M6 16h.01",key:"1pmjb7"}],["circle",{cx:"12",cy:"10",r:"2",key:"1yojzk"}]],Da=$e("university",AQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],YB=$e("user-check",lQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ei=$e("user",cQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tc=$e("users",uQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],hQ=$e("wallet",dQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],WB=$e("wand-sparkles",fQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mQ=$e("wifi-off",gQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ys=$e("x",pQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_f=$e("zap",xQ),bQ=()=>{};var JB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},yQ=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const s=r[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const o=r[t++];e[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=r[t++],l=r[t++],u=r[t++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},X_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const o=r[s],l=s+1<r.length,u=l?r[s+1]:0,h=s+2<r.length,g=h?r[s+2]:0,x=o>>2,p=(o&3)<<4|u>>4;let v=(u&15)<<2|g>>6,N=g&63;h||(N=64,l||(v=64)),n.push(t[x],t[p],t[v],t[N])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(G_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):yQ(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const o=t[r.charAt(s++)],u=s<r.length?t[r.charAt(s)]:0;++s;const g=s<r.length?t[r.charAt(s)]:64;++s;const p=s<r.length?t[r.charAt(s)]:64;if(++s,o==null||u==null||g==null||p==null)throw new wQ;const v=o<<2|u>>4;if(n.push(v),g!==64){const N=u<<4&240|g>>2;if(n.push(N),p!==64){const T=g<<6&192|p;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class wQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vQ=function(r){const e=G_(r);return X_.encodeByteArray(e,!0)},$_=function(r){return vQ(r).replace(/\./g,"")},Y_=function(r){try{return X_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ=()=>W_().__FIREBASE_DEFAULTS__,NQ=()=>{if(typeof process>"u"||typeof JB>"u")return;const r=JB.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},CQ=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Y_(r[1]);return e&&JSON.parse(e)},Z1=()=>{try{return bQ()||BQ()||NQ()||CQ()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_Q=r=>{var e,t;return(t=(e=Z1())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},J_=()=>{var r;return(r=Z1())==null?void 0:r.config},Z_=r=>{var e;return(e=Z1())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eE(r){return(await fetch(r,{credentials:"include"})).ok}const q0={};function SQ(){const r={prod:[],emulator:[]};for(const e of Object.keys(q0))q0[e]?r.emulator.push(e):r.prod.push(e);return r}function IQ(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let ZB=!1;function jQ(r,e){if(typeof window>"u"||typeof document>"u"||!Ef(window.location.host)||q0[r]===e||q0[r]||ZB)return;q0[r]=e;function t(v){return`__firebase__banner__${v}`}const n="__firebase__banner",o=SQ().prod.length>0;function l(){const v=document.getElementById(n);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,N){v.setAttribute("width","24"),v.setAttribute("id",N),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function g(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{ZB=!0,l()},v}function x(v,N){v.setAttribute("id",N),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=IQ(n),N=t("text"),T=document.getElementById(N)||document.createElement("span"),I=t("learnmore"),O=document.getElementById(I)||document.createElement("a"),R=t("preprendIcon"),P=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const K=v.element;u(K),x(O,I);const se=g();h(P,R),K.append(P,T,O,se),document.body.appendChild(K)}o?(T.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ks())}function tE(){var e;const r=(e=Z1())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function FQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QQ(){const r=ks();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function nE(){return!tE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sE(){return!tE()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Kw(){try{return typeof indexedDB=="object"}catch{return!1}}function aE(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}function LQ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQ="FirebaseError";class uA extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=kQ,Object.setPrototypeOf(this,uA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qd.prototype.create)}}class Qd{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?RQ(o,n):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new uA(s,u,n)}}function RQ(r,e){return r.replace(DQ,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const DQ=/\{\$([^}]+)}/g;function MQ(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Nu(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const o=r[s],l=e[s];if(eN(o)&&eN(l)){if(!Nu(o,l))return!1}else if(o!==l)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function eN(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function U0(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,o]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function F0(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function OQ(r,e){const t=new PQ(r,e);return t.subscribe.bind(t)}class PQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");HQ(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=o2),s.error===void 0&&(s.error=o2),s.complete===void 0&&(s.complete=o2);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HQ(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function o2(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ=1e3,KQ=2,zQ=14400*1e3,qQ=.5;function tN(r,e=VQ,t=KQ){const n=e*Math.pow(t,r),s=Math.round(qQ*n*(Math.random()-.5)*2);return Math.min(zQ,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(r){return r&&r._delegate?r._delegate:r}class oA{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new EQ;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($Q(e))try{this.getOrInitializeService({instanceIdentifier:ed})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(e=ed){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ed){return this.instances.has(e)}getOptions(e=ed){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);n===u&&l.resolve(s)}return s}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const o=this.instances.get(n);return o&&e(o,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:XQ(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ed){return this.component?this.component.multipleInstances?e:ed:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XQ(r){return r===ed?void 0:r}function $Q(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new GQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Cr||(Cr={}));const WQ={debug:Cr.DEBUG,verbose:Cr.VERBOSE,info:Cr.INFO,warn:Cr.WARN,error:Cr.ERROR,silent:Cr.SILENT},JQ=Cr.INFO,ZQ={[Cr.DEBUG]:"log",[Cr.VERBOSE]:"log",[Cr.INFO]:"info",[Cr.WARN]:"warn",[Cr.ERROR]:"error"},eL=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),s=ZQ[e];if(s)console[s](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let ex=class{constructor(e){this.name=e,this._logLevel=JQ,this._logHandler=eL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Cr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Cr.DEBUG,...e),this._logHandler(this,Cr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Cr.VERBOSE,...e),this._logHandler(this,Cr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Cr.INFO,...e),this._logHandler(this,Cr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Cr.WARN,...e),this._logHandler(this,Cr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Cr.ERROR,...e),this._logHandler(this,Cr.ERROR,...e)}};const tL=(r,e)=>e.some(t=>r instanceof t);let rN,nN;function rL(){return rN||(rN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nL(){return nN||(nN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iE=new WeakMap,xy=new WeakMap,oE=new WeakMap,A2=new WeakMap,zw=new WeakMap;function sL(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(mu(r.result)),s()},l=()=>{n(r.error),s()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&iE.set(t,r)}).catch(()=>{}),zw.set(e,r),e}function aL(r){if(xy.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),s()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});xy.set(r,e)}let by={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return xy.get(r);if(e==="objectStoreNames")return r.objectStoreNames||oE.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mu(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function iL(r){by=r(by)}function oL(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(l2(this),e,...t);return oE.set(n,e.sort?e.sort():[e]),mu(n)}:nL().includes(r)?function(...e){return r.apply(l2(this),e),mu(iE.get(this))}:function(...e){return mu(r.apply(l2(this),e))}}function AL(r){return typeof r=="function"?oL(r):(r instanceof IDBTransaction&&aL(r),tL(r,rL())?new Proxy(r,by):r)}function mu(r){if(r instanceof IDBRequest)return sL(r);if(A2.has(r))return A2.get(r);const e=AL(r);return e!==r&&(A2.set(r,e),zw.set(e,r)),e}const l2=r=>zw.get(r);function AE(r,e,{blocked:t,upgrade:n,blocking:s,terminated:o}={}){const l=indexedDB.open(r,e),u=mu(l);return n&&l.addEventListener("upgradeneeded",h=>{n(mu(l.result),h.oldVersion,h.newVersion,mu(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),u}const lL=["get","getKey","getAll","getAllKeys","count"],cL=["put","add","delete","clear"],c2=new Map;function sN(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(c2.get(e))return c2.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=cL.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||lL.includes(t)))return;const o=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let g=h.store;return n&&(g=g.index(u.shift())),(await Promise.all([g[t](...u),s&&h.done]))[0]};return c2.set(e,o),o}iL(r=>({...r,get:(e,t,n)=>sN(e,t)||r.get(e,t,n),has:(e,t)=>!!sN(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dL(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function dL(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yy="@firebase/app",aN="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new ex("@firebase/app"),hL="@firebase/app-compat",fL="@firebase/analytics-compat",gL="@firebase/analytics",mL="@firebase/app-check-compat",pL="@firebase/app-check",xL="@firebase/auth",bL="@firebase/auth-compat",yL="@firebase/database",wL="@firebase/data-connect",vL="@firebase/database-compat",BL="@firebase/functions",NL="@firebase/functions-compat",CL="@firebase/installations",_L="@firebase/installations-compat",EL="@firebase/messaging",SL="@firebase/messaging-compat",IL="@firebase/performance",jL="@firebase/performance-compat",TL="@firebase/remote-config",UL="@firebase/remote-config-compat",FL="@firebase/storage",QL="@firebase/storage-compat",LL="@firebase/firestore",kL="@firebase/ai",RL="@firebase/firestore-compat",DL="firebase",ML="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="[DEFAULT]",OL={[yy]:"fire-core",[hL]:"fire-core-compat",[gL]:"fire-analytics",[fL]:"fire-analytics-compat",[pL]:"fire-app-check",[mL]:"fire-app-check-compat",[xL]:"fire-auth",[bL]:"fire-auth-compat",[yL]:"fire-rtdb",[wL]:"fire-data-connect",[vL]:"fire-rtdb-compat",[BL]:"fire-fn",[NL]:"fire-fn-compat",[CL]:"fire-iid",[_L]:"fire-iid-compat",[EL]:"fire-fcm",[SL]:"fire-fcm-compat",[IL]:"fire-perf",[jL]:"fire-perf-compat",[TL]:"fire-rc",[UL]:"fire-rc-compat",[FL]:"fire-gcs",[QL]:"fire-gcs-compat",[LL]:"fire-fst",[RL]:"fire-fst-compat",[kL]:"fire-vertex","fire-js":"fire-js",[DL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Map,PL=new Map,vy=new Map;function iN(r,e){try{r.container.addComponent(e)}catch(t){rc.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function cl(r){const e=r.name;if(vy.has(e))return rc.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,r);for(const t of A1.values())iN(t,r);for(const t of PL.values())iN(t,r);return!0}function Ld(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function No(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pu=new Qd("app","Firebase",HL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new oA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=ML;function lE(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:wy,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw pu.create("bad-app-name",{appName:String(s)});if(t||(t=J_()),!t)throw pu.create("no-options");const o=A1.get(s);if(o){if(Nu(t,o.options)&&Nu(n,o.config))return o;throw pu.create("duplicate-app",{appName:s})}const l=new YQ(s);for(const h of vy.values())l.addComponent(h);const u=new VL(t,n,l);return A1.set(s,u),u}function cE(r=wy){const e=A1.get(r);if(!e&&r===wy&&J_())return lE();if(!e)throw pu.create("no-app",{appName:r});return e}function Io(r,e,t){let n=OL[r]??r;t&&(n+=`-${t}`);const s=n.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${n}" with version "${e}":`];s&&l.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rc.warn(l.join(" "));return}cl(new oA(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="firebase-heartbeat-database",zL=1,mg="firebase-heartbeat-store";let u2=null;function uE(){return u2||(u2=AE(KL,zL,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(mg)}catch(t){console.warn(t)}}}}).catch(r=>{throw pu.create("idb-open",{originalErrorMessage:r.message})})),u2}async function qL(r){try{const t=(await uE()).transaction(mg),n=await t.objectStore(mg).get(dE(r));return await t.done,n}catch(e){if(e instanceof uA)rc.warn(e.message);else{const t=pu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rc.warn(t.message)}}}async function oN(r,e){try{const n=(await uE()).transaction(mg,"readwrite");await n.objectStore(mg).put(e,dE(r)),await n.done}catch(t){if(t instanceof uA)rc.warn(t.message);else{const n=pu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});rc.warn(n.message)}}}function dE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=1024,XL=30;class $L{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new WL(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>XL){const l=JL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){rc.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=AN(),{heartbeatsToSend:n,unsentEntries:s}=YL(this._heartbeatsCache.heartbeats),o=$_(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return rc.warn(t),""}}}function AN(){return new Date().toISOString().substring(0,10)}function YL(r,e=GL){const t=[];let n=r.slice();for(const s of r){const o=t.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),lN(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),lN(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class WL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kw()?aE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return oN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return oN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function lN(r){return $_(JSON.stringify({version:2,heartbeats:r})).length}function JL(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(r){cl(new oA("platform-logger",e=>new uL(e),"PRIVATE")),cl(new oA("heartbeat",e=>new $L(e),"PRIVATE")),Io(yy,aN,r),Io(yy,aN,"esm2020"),Io("fire-js","")}ZL("");var ek="firebase",tk="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io(ek,tk,"app");function hE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rk=hE,fE=new Qd("auth","Firebase",hE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new ex("@firebase/auth");function nk(r,...e){l1.logLevel<=Cr.WARN&&l1.warn(`Auth (${Sf}): ${r}`,...e)}function Lp(r,...e){l1.logLevel<=Cr.ERROR&&l1.error(`Auth (${Sf}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(r,...e){throw qw(r,...e)}function sl(r,...e){return qw(r,...e)}function gE(r,e,t){const n={...rk(),[e]:t};return new Qd("auth","Firebase",n).create(e,{appName:r.name})}function Wl(r){return gE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qw(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return fE.create(r,...e)}function Jt(r,e,...t){if(!r)throw qw(e,...t)}function Xl(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Lp(e),new Error(e)}function nc(r,e){r||Xl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function sk(){return cN()==="http:"||cN()==="https:"}function cN(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sk()||rE()||"connection"in navigator)?navigator.onLine:!0}function ik(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t){this.shortDelay=e,this.longDelay=t,nc(t>e,"Short delay should be less than long delay!"),this.isMobile=TQ()||FQ()}get(){return ak()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(r,e){nc(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lk=new Pg(3e4,6e4);function oc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ac(r,e,t,n,s={}){return pE(r,s,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const u=Og({key:r.config.apiKey,...l}).slice(1),h=await r._getAdditionalHeaders();h["Content-Type"]="application/json",r.languageCode&&(h["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:h,...o};return UQ()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ef(r.emulatorConfig.host)&&(g.credentials="include"),mE.fetch()(await xE(r,r.config.apiHost,t,u),g)})}async function pE(r,e,t){r._canInitEmulator=!1;const n={...ok,...e};try{const s=new uk(r),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Zm(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,g]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zm(r,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Zm(r,"email-already-in-use",l);if(h==="USER_DISABLED")throw Zm(r,"user-disabled",l);const x=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw gE(r,x,g);AA(r,x)}}catch(s){if(s instanceof uA)throw s;AA(r,"network-request-failed",{message:String(s)})}}async function Hg(r,e,t,n,s={}){const o=await Ac(r,e,t,n,s);return"mfaPendingCredential"in o&&AA(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function xE(r,e,t,n){const s=`${e}${t}?${n}`,o=r,l=o.config.emulator?Gw(r.config,s):`${r.config.apiScheme}://${s}`;return Ak.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function ck(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(sl(this.auth,"network-request-failed")),lk.get())})}}function Zm(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const s=sl(r,e,n);return s.customData._tokenResponse=t,s}function uN(r){return r!==void 0&&r.enterprise!==void 0}class dk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ck(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hk(r,e){return Ac(r,"GET","/v2/recaptchaConfig",oc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(r,e){return Ac(r,"POST","/v1/accounts:delete",e)}async function c1(r,e){return Ac(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gk(r,e=!1){const t=Mn(r),n=await t.getIdToken(e),s=Xw(n);Jt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:n,authTime:G0(d2(s.auth_time)),issuedAtTime:G0(d2(s.iat)),expirationTime:G0(d2(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function d2(r){return Number(r)*1e3}function Xw(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Lp("JWT malformed, contained fewer than 3 sections"),null;try{const s=Y_(t);return s?JSON.parse(s):(Lp("Failed to decode base64 JWT payload"),null)}catch(s){return Lp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function dN(r){const e=Xw(r);return Jt(e,"internal-error"),Jt(typeof e.exp<"u","internal-error"),Jt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pg(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof uA&&mk(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function mk({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=G0(this.lastLoginAt),this.creationTime=G0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(r){var p;const e=r.auth,t=await r.getIdToken(),n=await pg(r,c1(e,{idToken:t}));Jt(n==null?void 0:n.users.length,e,"internal-error");const s=n.users[0];r._notifyReloadListener(s);const o=(p=s.providerUserInfo)!=null&&p.length?bE(s.providerUserInfo):[],l=bk(r.providerData,o),u=r.isAnonymous,h=!(r.email&&s.passwordHash)&&!(l!=null&&l.length),g=u?h:!1,x={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Ny(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(r,x)}async function xk(r){const e=Mn(r);await u1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bk(r,e){return[...r.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function bE(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(r,e){const t=await pE(r,{},async()=>{const n=Og({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=r.config,l=await xE(r,s,"/v1/token",`key=${o}`),u=await r._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:n};return r.emulatorConfig&&Ef(r.emulatorConfig.host)&&(h.credentials="include"),mE.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wk(r,e){return Ac(r,"POST","/v2/accounts:revokeToken",oc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Jt(e.idToken,"internal-error"),Jt(typeof e.idToken<"u","internal-error"),Jt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Jt(e.length!==0,"internal-error");const t=dN(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Jt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:o}=await yk(e,t);this.updateTokensAndExpiration(n,s,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:o}=t,l=new zh;return n&&(Jt(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),s&&(Jt(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Jt(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zh,this.toJSON())}_performRefresh(){return Xl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(r,e){Jt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class aA{constructor({uid:e,auth:t,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new pk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ny(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await pg(this,this.stsTokenManager.getToken(this.auth,e));return Jt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gk(this,e)}reload(){return xk(this)}_assign(e){this!==e&&(Jt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new aA({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await u1(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(No(this.auth.app))return Promise.reject(Wl(this.auth));const e=await this.getIdToken();return await pg(this,fk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,g=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:N,providerData:T,stsTokenManager:I}=t;Jt(p&&I,e,"internal-error");const O=zh.fromJSON(this.name,I);Jt(typeof p=="string",e,"internal-error"),Gc(n,e.name),Gc(s,e.name),Jt(typeof v=="boolean",e,"internal-error"),Jt(typeof N=="boolean",e,"internal-error"),Gc(o,e.name),Gc(l,e.name),Gc(u,e.name),Gc(h,e.name),Gc(g,e.name),Gc(x,e.name);const R=new aA({uid:p,auth:e,email:s,emailVerified:v,displayName:n,isAnonymous:N,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:O,createdAt:g,lastLoginAt:x});return T&&Array.isArray(T)&&(R.providerData=T.map(P=>({...P}))),h&&(R._redirectEventId=h),R}static async _fromIdTokenResponse(e,t,n=!1){const s=new zh;s.updateFromServerResponse(t);const o=new aA({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await u1(o),o}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];Jt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?bE(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new zh;u.updateFromIdToken(n);const h=new aA({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ny(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,g),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new Map;function $l(r){nc(r instanceof Function,"Expected a class definition");let e=hN.get(r);return e?(nc(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,hN.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yE.type="NONE";const fN=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(r,e,t){return`firebase:${r}:${e}:${t}`}class qh{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:o}=this.auth;this.fullUserKey=kp(this.userKey,s.apiKey,o),this.fullPersistenceKey=kp("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await c1(this.auth,{idToken:e}).catch(()=>{});return t?aA._fromGetAccountInfoResponse(this.auth,t,e):null}return aA._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new qh($l(fN),e,n);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=s[0]||$l(fN);const l=kp(n,e.config.apiKey,e.name);let u=null;for(const g of t)try{const x=await g._get(l);if(x){let p;if(typeof x=="string"){const v=await c1(e,{idToken:x}).catch(()=>{});if(!v)break;p=await aA._fromGetAccountInfoResponse(e,v,x)}else p=aA._fromJSON(e,x);g!==o&&(u=p),o=g;break}}catch{}const h=s.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new qh(o,e,n):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async g=>{if(g!==o)try{await g._remove(l)}catch{}})),new qh(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_E(e))return"Blackberry";if(EE(e))return"Webos";if(vE(e))return"Safari";if((e.includes("chrome/")||BE(e))&&!e.includes("edge/"))return"Chrome";if(CE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function wE(r=ks()){return/firefox\//i.test(r)}function vE(r=ks()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BE(r=ks()){return/crios\//i.test(r)}function NE(r=ks()){return/iemobile/i.test(r)}function CE(r=ks()){return/android/i.test(r)}function _E(r=ks()){return/blackberry/i.test(r)}function EE(r=ks()){return/webos/i.test(r)}function $w(r=ks()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function vk(r=ks()){var e;return $w(r)&&!!((e=window.navigator)!=null&&e.standalone)}function Bk(){return QQ()&&document.documentMode===10}function SE(r=ks()){return $w(r)||CE(r)||EE(r)||_E(r)||/windows phone/i.test(r)||NE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(r,e=[]){let t;switch(r){case"Browser":t=gN(ks());break;case"Worker":t=`${gN(ks())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(r,e={}){return Ac(r,"GET","/v2/passwordPolicy",oc(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=6;class Ek{constructor(e){var n;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??_k,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mN(this),this.idTokenSubscription=new mN(this),this.beforeStateQueue=new Nk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$l(t)),this._initializationPromise=this.queue(async()=>{var n,s,o;if(!this._deleted&&(this.persistenceManager=await qh.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await c1(this,{idToken:e}),n=await aA._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(No(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=n==null?void 0:n._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(n=h.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(l){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await u1(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ik()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(No(this.app))return Promise.reject(Wl(this));const t=e?Mn(e):null;return t&&Jt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Jt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return No(this.app)?Promise.reject(Wl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return No(this.app)?Promise.reject(Wl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($l(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ck(this),t=new Ek(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qd("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await wk(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$l(e)||this._popupRedirectResolver;Jt(t,this,"argument-error"),this.redirectPersistenceManager=await qh.create(this,[$l(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Jt(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var t;if(No(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&nk(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Uu(r){return Mn(r)}class mN{constructor(e){this.auth=e,this.observer=null,this.addObserver=OQ(t=>this.observer=t)}get next(){return Jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ik(r){tx=r}function jE(r){return tx.loadJS(r)}function jk(){return tx.recaptchaEnterpriseScript}function Tk(){return tx.gapiScript}function Uk(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Fk{constructor(){this.enterprise=new Qk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Qk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Lk="recaptcha-enterprise",TE="NO_RECAPTCHA";class kk{constructor(e){this.type=Lk,this.auth=Uu(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{hk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const g=new dk(h);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,l(g.siteKey)}}).catch(h=>{u(h)})})}function s(o,l,u){const h=window.grecaptcha;uN(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(g=>{l(g)}).catch(()=>{l(TE)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fk().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{n(this.auth).then(u=>{if(!t&&uN(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=jk();h.length!==0&&(h+=u),jE(h).then(()=>{s(u,o,l)}).catch(g=>{l(g)})}}).catch(u=>{l(u)})})}}async function pN(r,e,t,n=!1,s=!1){const o=new kk(r);let l;if(s)l=TE;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,g=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:g,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function d1(r,e,t,n,s){var o;if((o=r._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await pN(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await pN(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(r,e){const t=Ld(r,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Nu(o,e??{}))return s;AA(s,"already-initialized")}return t.initialize({options:e})}function Dk(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map($l);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Mk(r,e,t){const n=Uu(r);Jt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,o=UE(e),{host:l,port:u}=Ok(e),h=u===null?"":`:${u}`,g={url:`${o}//${l}${h}/`},x=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Jt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Jt(Nu(g,n.config.emulator)&&Nu(x,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=g,n.emulatorConfig=x,n.settings.appVerificationDisabledForTesting=!0,Ef(l)?(eE(`${o}//${l}${h}`),jQ("Auth",!0)):Pk()}function UE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Ok(r){const e=UE(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const o=s[1];return{host:o,port:xN(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:xN(l)}}}function xN(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Pk(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xl("not implemented")}_getIdTokenResponse(e){return Xl("not implemented")}_linkToIdToken(e,t){return Xl("not implemented")}_getReauthenticationResolver(e){return Xl("not implemented")}}async function Hk(r,e){return Ac(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(r,e){return Hg(r,"POST","/v1/accounts:signInWithPassword",oc(r,e))}async function Kk(r,e){return Ac(r,"POST","/v1/accounts:sendOobCode",oc(r,e))}async function zk(r,e){return Kk(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(r,e){return Hg(r,"POST","/v1/accounts:signInWithEmailLink",oc(r,e))}async function Gk(r,e){return Hg(r,"POST","/v1/accounts:signInWithEmailLink",oc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends Yw{constructor(e,t,n,s=null){super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new xg(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new xg(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d1(e,t,"signInWithPassword",Vk);case"emailLink":return qk(e,{email:this._email,oobCode:this._password});default:AA(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d1(e,n,"signUpPassword",Hk);case"emailLink":return Gk(e,{idToken:t,email:this._email,oobCode:this._password});default:AA(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(r,e){return Hg(r,"POST","/v1/accounts:signInWithIdp",oc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="http://localhost";class Bd extends Yw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):AA("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...o}=t;if(!n||!s)return null;const l=new Bd(n,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Gh(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Gh(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gh(e,t)}buildRequest(){const e={requestUri:Xk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Og(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yk(r){const e=U0(F0(r)).link,t=e?U0(F0(e)).deep_link_id:null,n=U0(F0(r)).deep_link_id;return(n?U0(F0(n)).link:null)||n||t||e||r}class Ww{constructor(e){const t=U0(F0(e)),n=t.apiKey??null,s=t.oobCode??null,o=$k(t.mode??null);Jt(n&&s&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Yk(e);try{return new Ww(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this.providerId=If.PROVIDER_ID}static credential(e,t){return xg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ww.parseLink(t);return Jt(n,"argument-error"),xg._fromEmailAndCode(e,n.code,n.tenantId)}}If.PROVIDER_ID="password";If.EMAIL_PASSWORD_SIGN_IN_METHOD="password";If.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends FE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Vg{constructor(){super("facebook.com")}static credential(e){return Bd._fromParams({providerId:ru.PROVIDER_ID,signInMethod:ru.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ru.credentialFromTaggedObject(e)}static credentialFromError(e){return ru.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ru.credential(e.oauthAccessToken)}catch{return null}}}ru.FACEBOOK_SIGN_IN_METHOD="facebook.com";ru.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Vg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bd._fromParams({providerId:nu.PROVIDER_ID,signInMethod:nu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return nu.credentialFromTaggedObject(e)}static credentialFromError(e){return nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return nu.credential(t,n)}catch{return null}}}nu.GOOGLE_SIGN_IN_METHOD="google.com";nu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Vg{constructor(){super("github.com")}static credential(e){return Bd._fromParams({providerId:su.PROVIDER_ID,signInMethod:su.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return su.credentialFromTaggedObject(e)}static credentialFromError(e){return su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return su.credential(e.oauthAccessToken)}catch{return null}}}su.GITHUB_SIGN_IN_METHOD="github.com";su.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Vg{constructor(){super("twitter.com")}static credential(e,t){return Bd._fromParams({providerId:au.PROVIDER_ID,signInMethod:au.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return au.credentialFromTaggedObject(e)}static credentialFromError(e){return au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return au.credential(t,n)}catch{return null}}}au.TWITTER_SIGN_IN_METHOD="twitter.com";au.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(r,e){return Hg(r,"POST","/v1/accounts:signUp",oc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const o=await aA._fromIdTokenResponse(e,n,s),l=bN(n);return new Nd({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=bN(n);return new Nd({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function bN(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends uA{constructor(e,t,n,s){super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,h1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new h1(e,t,n,s)}}function QE(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?h1._fromErrorAndOperation(r,o,e,n):o})}async function Jk(r,e,t=!1){const n=await pg(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Nd._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(r,e,t=!1){const{auth:n}=r;if(No(n.app))return Promise.reject(Wl(n));const s="reauthenticate";try{const o=await pg(r,QE(n,s,e,r),t);Jt(o.idToken,n,"internal-error");const l=Xw(o.idToken);Jt(l,n,"internal-error");const{sub:u}=l;return Jt(r.uid===u,n,"user-mismatch"),Nd._forOperation(r,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&AA(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(r,e,t=!1){if(No(r.app))return Promise.reject(Wl(r));const n="signIn",s=await QE(r,n,e),o=await Nd._fromIdTokenResponse(r,n,s);return t||await r._updateCurrentUser(o.user),o}async function e7(r,e){return LE(Uu(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kE(r){const e=Uu(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function t7(r,e,t){const n=Uu(r);await d1(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",zk)}async function r7(r,e,t){if(No(r.app))return Promise.reject(Wl(r));const n=Uu(r),l=await d1(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wk).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&kE(r),h}),u=await Nd._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(u.user),u}function n7(r,e,t){return No(r.app)?Promise.reject(Wl(r)):e7(Mn(r),If.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&kE(r),n})}function s7(r,e,t,n){return Mn(r).onIdTokenChanged(e,t,n)}function a7(r,e,t){return Mn(r).beforeAuthStateChanged(e,t)}function i7(r,e,t,n){return Mn(r).onAuthStateChanged(e,t,n)}function o7(r){return Mn(r).signOut()}const f1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(f1,"1"),this.storage.removeItem(f1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=1e3,l7=10;class DE extends RE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);Bk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,l7):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},A7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}DE.type="LOCAL";const c7=DE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends RE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ME.type="SESSION";const OE=ME;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const n=new rx(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:o}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const u=Array.from(l).map(async g=>g(t.origin,o)),h=await u7(u);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const g=Jw("",20);s.port1.start();const x=setTimeout(()=>{h(new Error("unsupported_event"))},n);l={messageChannel:s,onMessage(p){const v=p;if(v.data.eventId===g)switch(v.data.status){case"ack":clearTimeout(x),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(x),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(){return window}function h7(r){al().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(){return typeof al().WorkerGlobalScope<"u"&&typeof al().importScripts=="function"}async function f7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g7(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function m7(){return PE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="firebaseLocalStorageDb",p7=1,g1="firebaseLocalStorage",VE="fbase_key";class Kg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nx(r,e){return r.transaction([g1],e?"readwrite":"readonly").objectStore(g1)}function x7(){const r=indexedDB.deleteDatabase(HE);return new Kg(r).toPromise()}function Cy(){const r=indexedDB.open(HE,p7);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(g1,{keyPath:VE})}catch(s){t(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(g1)?e(n):(n.close(),await x7(),e(await Cy()))})})}async function yN(r,e,t){const n=nx(r,!0).put({[VE]:e,value:t});return new Kg(n).toPromise()}async function b7(r,e){const t=nx(r,!1).get(e),n=await new Kg(t).toPromise();return n===void 0?null:n.value}function wN(r,e){const t=nx(r,!0).delete(e);return new Kg(t).toPromise()}const y7=800,w7=3;class KE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>w7)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rx._getInstance(m7()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await f7(),!this.activeServiceWorker)return;this.sender=new d7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cy();return await yN(e,f1,"1"),await wN(e,f1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>yN(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>b7(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wN(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=nx(s,!1).getAll();return new Kg(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KE.type="LOCAL";const v7=KE;new Pg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(r,e){return e?$l(e):(Jt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Yw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function N7(r){return LE(r.auth,new Zw(r),r.bypassAuthState)}function C7(r){const{auth:e,user:t}=r;return Jt(t,e,"internal-error"),Zk(t,new Zw(r),r.bypassAuthState)}async function _7(r){const{auth:e,user:t}=r;return Jt(t,e,"internal-error"),Jk(t,new Zw(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t,n,s,o=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N7;case"linkViaPopup":case"linkViaRedirect":return _7;case"reauthViaPopup":case"reauthViaRedirect":return C7;default:AA(this.auth,"internal-error")}}resolve(e){nc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7=new Pg(2e3,1e4);class Hh extends zE{constructor(e,t,n,s,o){super(e,t,s,o),this.provider=n,this.authWindow=null,this.pollId=null,Hh.currentPopupAction&&Hh.currentPopupAction.cancel(),Hh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Jt(e,this.auth,"internal-error"),e}async onExecution(){nc(this.filter.length===1,"Popup operations only handle one event");const e=Jw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(sl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(sl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if((n=(t=this.authWindow)==null?void 0:t.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E7.get())};e()}}Hh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7="pendingRedirect",Rp=new Map;class I7 extends zE{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Rp.get(this.auth._key());if(!e){try{const n=await j7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Rp.set(this.auth._key(),e)}return this.bypassAuthState||Rp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j7(r,e){const t=F7(e),n=U7(r);if(!await n._isAvailable())return!1;const s=await n._get(t)==="true";return await n._remove(t),s}function T7(r,e){Rp.set(r._key(),e)}function U7(r){return $l(r._redirectPersistence)}function F7(r){return kp(S7,r.config.apiKey,r.name)}async function Q7(r,e,t=!1){if(No(r.app))return Promise.reject(Wl(r));const n=Uu(r),s=B7(n,e),l=await new I7(n,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=600*1e3;class k7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R7(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!qE(e)){const s=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";t.onError(sl(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L7&&this.cachedEventUids.clear(),this.cachedEventUids.has(vN(e))}saveEventToCache(e){this.cachedEventUids.add(vN(e)),this.lastProcessedEventTime=Date.now()}}function vN(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function qE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function R7(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D7(r,e={}){return Ac(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O7=/^https?/;async function P7(r){if(r.config.emulator)return;const{authorizedDomains:e}=await D7(r);for(const t of e)try{if(H7(t))return}catch{}AA(r,"unauthorized-domain")}function H7(r){const e=By(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!O7.test(t))return!1;if(M7.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=new Pg(3e4,6e4);function BN(){const r=al().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function K7(r){return new Promise((e,t)=>{var s,o,l;function n(){BN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BN(),t(sl(r,"network-request-failed"))},timeout:V7.get()})}if((o=(s=al().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((l=al().gapi)!=null&&l.load)n();else{const u=Uk("iframefcb");return al()[u]=()=>{gapi.load?n():t(sl(r,"network-request-failed"))},jE(`${Tk()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Dp=null,e})}let Dp=null;function z7(r){return Dp=Dp||K7(r),Dp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=new Pg(5e3,15e3),G7="__/auth/iframe",X7="emulator/auth/iframe",$7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W7(r){const e=r.config;Jt(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Gw(e,X7):`https://${r.config.authDomain}/${G7}`,n={apiKey:e.apiKey,appName:r.name,v:Sf},s=Y7.get(r.config.apiHost);s&&(n.eid=s);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Og(n).slice(1)}`}async function J7(r){const e=await z7(r),t=al().gapi;return Jt(t,r,"internal-error"),e.open({where:document.body,url:W7(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$7,dontclear:!0},n=>new Promise(async(s,o)=>{await n.restyle({setHideOnLeave:!1});const l=sl(r,"network-request-failed"),u=al().setTimeout(()=>{o(l)},q7.get());function h(){al().clearTimeout(u),s(n)}n.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eR=500,tR=600,rR="_blank",nR="http://localhost";class NN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sR(r,e,t,n=eR,s=tR){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const h={...Z7,width:n.toString(),height:s.toString(),top:o,left:l},g=ks().toLowerCase();t&&(u=BE(g)?rR:t),wE(g)&&(e=e||nR,h.scrollbars="yes");const x=Object.entries(h).reduce((v,[N,T])=>`${v}${N}=${T},`,"");if(vk(g)&&u!=="_self")return aR(e||"",u),new NN(null);const p=window.open(e||"",u,x);Jt(p,r,"popup-blocked");try{p.focus()}catch{}return new NN(p)}function aR(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="__/auth/handler",oR="emulator/auth/handler",AR=encodeURIComponent("fac");async function CN(r,e,t,n,s,o){Jt(r.config.authDomain,r,"auth-domain-config-required"),Jt(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Sf,eventId:s};if(e instanceof FE){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",MQ(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,p]of Object.entries({}))l[x]=p}if(e instanceof Vg){const x=e.getScopes().filter(p=>p!=="");x.length>0&&(l.scopes=x.join(","))}r.tenantId&&(l.tid=r.tenantId);const u=l;for(const x of Object.keys(u))u[x]===void 0&&delete u[x];const h=await r._getAppCheckToken(),g=h?`#${AR}=${encodeURIComponent(h)}`:"";return`${lR(r)}?${Og(u).slice(1)}${g}`}function lR({config:r}){return r.emulator?Gw(r,oR):`https://${r.authDomain}/${iR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="webStorageSupport";class cR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OE,this._completeRedirectFn=Q7,this._overrideRedirectResult=T7}async _openPopup(e,t,n,s){var l;nc((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const o=await CN(e,t,n,By(),s);return sR(e,o,Jw())}async _openRedirect(e,t,n,s){await this._originValidation(e);const o=await CN(e,t,n,By(),s);return h7(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(nc(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await J7(e),n=new k7(e);return t.register("authEvent",s=>(Jt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(h2,{type:h2},s=>{var l;const o=(l=s==null?void 0:s[0])==null?void 0:l[h2];o!==void 0&&t(!!o),AA(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=P7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return SE()||vE()||$w()}}const uR=cR;var _N="@firebase/auth",EN="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fR(r){cl(new oA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=n.options;Jt(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:l,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IE(r)},g=new Sk(n,s,o,h);return Dk(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),cl(new oA("auth-internal",e=>{const t=Uu(e.getProvider("auth").getImmediate());return(n=>new dR(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Io(_N,EN,hR(r)),Io(_N,EN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=300,mR=Z_("authIdTokenMaxAge")||gR;let SN=null;const pR=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>mR)return;const s=t==null?void 0:t.token;SN!==s&&(SN=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xR(r=cE()){const e=Ld(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Rk(r,{popupRedirectResolver:uR,persistence:[v7,c7,OE]}),n=Z_("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=pR(o.toString());a7(t,l,()=>l(t.currentUser)),s7(t,u=>l(u))}}const s=_Q("auth");return s&&Mk(t,`http://${s}`),t}function bR(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}Ik({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=s=>{const o=sl("internal-error");o.customData=s,t(o)},n.type="text/javascript",n.charset="UTF-8",bR().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fR("Browser");var IN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xu,GE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,S){function M(){}M.prototype=S.prototype,U.F=S.prototype,U.prototype=new M,U.prototype.constructor=U,U.D=function(z,E,F){for(var D=Array(arguments.length-2),$=2;$<arguments.length;$++)D[$-2]=arguments[$];return S.prototype[E].apply(z,D)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(U,S,M){M||(M=0);const z=Array(16);if(typeof S=="string")for(var E=0;E<16;++E)z[E]=S.charCodeAt(M++)|S.charCodeAt(M++)<<8|S.charCodeAt(M++)<<16|S.charCodeAt(M++)<<24;else for(E=0;E<16;++E)z[E]=S[M++]|S[M++]<<8|S[M++]<<16|S[M++]<<24;S=U.g[0],M=U.g[1],E=U.g[2];let F=U.g[3],D;D=S+(F^M&(E^F))+z[0]+3614090360&4294967295,S=M+(D<<7&4294967295|D>>>25),D=F+(E^S&(M^E))+z[1]+3905402710&4294967295,F=S+(D<<12&4294967295|D>>>20),D=E+(M^F&(S^M))+z[2]+606105819&4294967295,E=F+(D<<17&4294967295|D>>>15),D=M+(S^E&(F^S))+z[3]+3250441966&4294967295,M=E+(D<<22&4294967295|D>>>10),D=S+(F^M&(E^F))+z[4]+4118548399&4294967295,S=M+(D<<7&4294967295|D>>>25),D=F+(E^S&(M^E))+z[5]+1200080426&4294967295,F=S+(D<<12&4294967295|D>>>20),D=E+(M^F&(S^M))+z[6]+2821735955&4294967295,E=F+(D<<17&4294967295|D>>>15),D=M+(S^E&(F^S))+z[7]+4249261313&4294967295,M=E+(D<<22&4294967295|D>>>10),D=S+(F^M&(E^F))+z[8]+1770035416&4294967295,S=M+(D<<7&4294967295|D>>>25),D=F+(E^S&(M^E))+z[9]+2336552879&4294967295,F=S+(D<<12&4294967295|D>>>20),D=E+(M^F&(S^M))+z[10]+4294925233&4294967295,E=F+(D<<17&4294967295|D>>>15),D=M+(S^E&(F^S))+z[11]+2304563134&4294967295,M=E+(D<<22&4294967295|D>>>10),D=S+(F^M&(E^F))+z[12]+1804603682&4294967295,S=M+(D<<7&4294967295|D>>>25),D=F+(E^S&(M^E))+z[13]+4254626195&4294967295,F=S+(D<<12&4294967295|D>>>20),D=E+(M^F&(S^M))+z[14]+2792965006&4294967295,E=F+(D<<17&4294967295|D>>>15),D=M+(S^E&(F^S))+z[15]+1236535329&4294967295,M=E+(D<<22&4294967295|D>>>10),D=S+(E^F&(M^E))+z[1]+4129170786&4294967295,S=M+(D<<5&4294967295|D>>>27),D=F+(M^E&(S^M))+z[6]+3225465664&4294967295,F=S+(D<<9&4294967295|D>>>23),D=E+(S^M&(F^S))+z[11]+643717713&4294967295,E=F+(D<<14&4294967295|D>>>18),D=M+(F^S&(E^F))+z[0]+3921069994&4294967295,M=E+(D<<20&4294967295|D>>>12),D=S+(E^F&(M^E))+z[5]+3593408605&4294967295,S=M+(D<<5&4294967295|D>>>27),D=F+(M^E&(S^M))+z[10]+38016083&4294967295,F=S+(D<<9&4294967295|D>>>23),D=E+(S^M&(F^S))+z[15]+3634488961&4294967295,E=F+(D<<14&4294967295|D>>>18),D=M+(F^S&(E^F))+z[4]+3889429448&4294967295,M=E+(D<<20&4294967295|D>>>12),D=S+(E^F&(M^E))+z[9]+568446438&4294967295,S=M+(D<<5&4294967295|D>>>27),D=F+(M^E&(S^M))+z[14]+3275163606&4294967295,F=S+(D<<9&4294967295|D>>>23),D=E+(S^M&(F^S))+z[3]+4107603335&4294967295,E=F+(D<<14&4294967295|D>>>18),D=M+(F^S&(E^F))+z[8]+1163531501&4294967295,M=E+(D<<20&4294967295|D>>>12),D=S+(E^F&(M^E))+z[13]+2850285829&4294967295,S=M+(D<<5&4294967295|D>>>27),D=F+(M^E&(S^M))+z[2]+4243563512&4294967295,F=S+(D<<9&4294967295|D>>>23),D=E+(S^M&(F^S))+z[7]+1735328473&4294967295,E=F+(D<<14&4294967295|D>>>18),D=M+(F^S&(E^F))+z[12]+2368359562&4294967295,M=E+(D<<20&4294967295|D>>>12),D=S+(M^E^F)+z[5]+4294588738&4294967295,S=M+(D<<4&4294967295|D>>>28),D=F+(S^M^E)+z[8]+2272392833&4294967295,F=S+(D<<11&4294967295|D>>>21),D=E+(F^S^M)+z[11]+1839030562&4294967295,E=F+(D<<16&4294967295|D>>>16),D=M+(E^F^S)+z[14]+4259657740&4294967295,M=E+(D<<23&4294967295|D>>>9),D=S+(M^E^F)+z[1]+2763975236&4294967295,S=M+(D<<4&4294967295|D>>>28),D=F+(S^M^E)+z[4]+1272893353&4294967295,F=S+(D<<11&4294967295|D>>>21),D=E+(F^S^M)+z[7]+4139469664&4294967295,E=F+(D<<16&4294967295|D>>>16),D=M+(E^F^S)+z[10]+3200236656&4294967295,M=E+(D<<23&4294967295|D>>>9),D=S+(M^E^F)+z[13]+681279174&4294967295,S=M+(D<<4&4294967295|D>>>28),D=F+(S^M^E)+z[0]+3936430074&4294967295,F=S+(D<<11&4294967295|D>>>21),D=E+(F^S^M)+z[3]+3572445317&4294967295,E=F+(D<<16&4294967295|D>>>16),D=M+(E^F^S)+z[6]+76029189&4294967295,M=E+(D<<23&4294967295|D>>>9),D=S+(M^E^F)+z[9]+3654602809&4294967295,S=M+(D<<4&4294967295|D>>>28),D=F+(S^M^E)+z[12]+3873151461&4294967295,F=S+(D<<11&4294967295|D>>>21),D=E+(F^S^M)+z[15]+530742520&4294967295,E=F+(D<<16&4294967295|D>>>16),D=M+(E^F^S)+z[2]+3299628645&4294967295,M=E+(D<<23&4294967295|D>>>9),D=S+(E^(M|~F))+z[0]+4096336452&4294967295,S=M+(D<<6&4294967295|D>>>26),D=F+(M^(S|~E))+z[7]+1126891415&4294967295,F=S+(D<<10&4294967295|D>>>22),D=E+(S^(F|~M))+z[14]+2878612391&4294967295,E=F+(D<<15&4294967295|D>>>17),D=M+(F^(E|~S))+z[5]+4237533241&4294967295,M=E+(D<<21&4294967295|D>>>11),D=S+(E^(M|~F))+z[12]+1700485571&4294967295,S=M+(D<<6&4294967295|D>>>26),D=F+(M^(S|~E))+z[3]+2399980690&4294967295,F=S+(D<<10&4294967295|D>>>22),D=E+(S^(F|~M))+z[10]+4293915773&4294967295,E=F+(D<<15&4294967295|D>>>17),D=M+(F^(E|~S))+z[1]+2240044497&4294967295,M=E+(D<<21&4294967295|D>>>11),D=S+(E^(M|~F))+z[8]+1873313359&4294967295,S=M+(D<<6&4294967295|D>>>26),D=F+(M^(S|~E))+z[15]+4264355552&4294967295,F=S+(D<<10&4294967295|D>>>22),D=E+(S^(F|~M))+z[6]+2734768916&4294967295,E=F+(D<<15&4294967295|D>>>17),D=M+(F^(E|~S))+z[13]+1309151649&4294967295,M=E+(D<<21&4294967295|D>>>11),D=S+(E^(M|~F))+z[4]+4149444226&4294967295,S=M+(D<<6&4294967295|D>>>26),D=F+(M^(S|~E))+z[11]+3174756917&4294967295,F=S+(D<<10&4294967295|D>>>22),D=E+(S^(F|~M))+z[2]+718787259&4294967295,E=F+(D<<15&4294967295|D>>>17),D=M+(F^(E|~S))+z[9]+3951481745&4294967295,U.g[0]=U.g[0]+S&4294967295,U.g[1]=U.g[1]+(E+(D<<21&4294967295|D>>>11))&4294967295,U.g[2]=U.g[2]+E&4294967295,U.g[3]=U.g[3]+F&4294967295}n.prototype.v=function(U,S){S===void 0&&(S=U.length);const M=S-this.blockSize,z=this.C;let E=this.h,F=0;for(;F<S;){if(E==0)for(;F<=M;)s(this,U,F),F+=this.blockSize;if(typeof U=="string"){for(;F<S;)if(z[E++]=U.charCodeAt(F++),E==this.blockSize){s(this,z),E=0;break}}else for(;F<S;)if(z[E++]=U[F++],E==this.blockSize){s(this,z),E=0;break}}this.h=E,this.o+=S},n.prototype.A=function(){var U=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);U[0]=128;for(var S=1;S<U.length-8;++S)U[S]=0;S=this.o*8;for(var M=U.length-8;M<U.length;++M)U[M]=S&255,S/=256;for(this.v(U),U=Array(16),S=0,M=0;M<4;++M)for(let z=0;z<32;z+=8)U[S++]=this.g[M]>>>z&255;return U};function o(U,S){var M=u;return Object.prototype.hasOwnProperty.call(M,U)?M[U]:M[U]=S(U)}function l(U,S){this.h=S;const M=[];let z=!0;for(let E=U.length-1;E>=0;E--){const F=U[E]|0;z&&F==S||(M[E]=F,z=!1)}this.g=M}var u={};function h(U){return-128<=U&&U<128?o(U,function(S){return new l([S|0],S<0?-1:0)}):new l([U|0],U<0?-1:0)}function g(U){if(isNaN(U)||!isFinite(U))return p;if(U<0)return O(g(-U));const S=[];let M=1;for(let z=0;U>=M;z++)S[z]=U/M|0,M*=4294967296;return new l(S,0)}function x(U,S){if(U.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(U.charAt(0)=="-")return O(x(U.substring(1),S));if(U.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=g(Math.pow(S,8));let z=p;for(let F=0;F<U.length;F+=8){var E=Math.min(8,U.length-F);const D=parseInt(U.substring(F,F+E),S);E<8?(E=g(Math.pow(S,E)),z=z.j(E).add(g(D))):(z=z.j(M),z=z.add(g(D)))}return z}var p=h(0),v=h(1),N=h(16777216);r=l.prototype,r.m=function(){if(I(this))return-O(this).m();let U=0,S=1;for(let M=0;M<this.g.length;M++){const z=this.i(M);U+=(z>=0?z:4294967296+z)*S,S*=4294967296}return U},r.toString=function(U){if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(T(this))return"0";if(I(this))return"-"+O(this).toString(U);const S=g(Math.pow(U,6));var M=this;let z="";for(;;){const E=se(M,S).g;M=R(M,E.j(S));let F=((M.g.length>0?M.g[0]:M.h)>>>0).toString(U);if(M=E,T(M))return F+z;for(;F.length<6;)F="0"+F;z=F+z}},r.i=function(U){return U<0?0:U<this.g.length?this.g[U]:this.h};function T(U){if(U.h!=0)return!1;for(let S=0;S<U.g.length;S++)if(U.g[S]!=0)return!1;return!0}function I(U){return U.h==-1}r.l=function(U){return U=R(this,U),I(U)?-1:T(U)?0:1};function O(U){const S=U.g.length,M=[];for(let z=0;z<S;z++)M[z]=~U.g[z];return new l(M,~U.h).add(v)}r.abs=function(){return I(this)?O(this):this},r.add=function(U){const S=Math.max(this.g.length,U.g.length),M=[];let z=0;for(let E=0;E<=S;E++){let F=z+(this.i(E)&65535)+(U.i(E)&65535),D=(F>>>16)+(this.i(E)>>>16)+(U.i(E)>>>16);z=D>>>16,F&=65535,D&=65535,M[E]=D<<16|F}return new l(M,M[M.length-1]&-2147483648?-1:0)};function R(U,S){return U.add(O(S))}r.j=function(U){if(T(this)||T(U))return p;if(I(this))return I(U)?O(this).j(O(U)):O(O(this).j(U));if(I(U))return O(this.j(O(U)));if(this.l(N)<0&&U.l(N)<0)return g(this.m()*U.m());const S=this.g.length+U.g.length,M=[];for(var z=0;z<2*S;z++)M[z]=0;for(z=0;z<this.g.length;z++)for(let E=0;E<U.g.length;E++){const F=this.i(z)>>>16,D=this.i(z)&65535,$=U.i(E)>>>16,be=U.i(E)&65535;M[2*z+2*E]+=D*be,P(M,2*z+2*E),M[2*z+2*E+1]+=F*be,P(M,2*z+2*E+1),M[2*z+2*E+1]+=D*$,P(M,2*z+2*E+1),M[2*z+2*E+2]+=F*$,P(M,2*z+2*E+2)}for(U=0;U<S;U++)M[U]=M[2*U+1]<<16|M[2*U];for(U=S;U<2*S;U++)M[U]=0;return new l(M,0)};function P(U,S){for(;(U[S]&65535)!=U[S];)U[S+1]+=U[S]>>>16,U[S]&=65535,S++}function K(U,S){this.g=U,this.h=S}function se(U,S){if(T(S))throw Error("division by zero");if(T(U))return new K(p,p);if(I(U))return S=se(O(U),S),new K(O(S.g),O(S.h));if(I(S))return S=se(U,O(S)),new K(O(S.g),S.h);if(U.g.length>30){if(I(U)||I(S))throw Error("slowDivide_ only works with positive integers.");for(var M=v,z=S;z.l(U)<=0;)M=ae(M),z=ae(z);var E=le(M,1),F=le(z,1);for(z=le(z,2),M=le(M,2);!T(z);){var D=F.add(z);D.l(U)<=0&&(E=E.add(M),F=D),z=le(z,1),M=le(M,1)}return S=R(U,E.j(S)),new K(E,S)}for(E=p;U.l(S)>=0;){for(M=Math.max(1,Math.floor(U.m()/S.m())),z=Math.ceil(Math.log(M)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),F=g(M),D=F.j(S);I(D)||D.l(U)>0;)M-=z,F=g(M),D=F.j(S);T(F)&&(F=v),E=E.add(F),U=R(U,D)}return new K(E,U)}r.B=function(U){return se(this,U).h},r.and=function(U){const S=Math.max(this.g.length,U.g.length),M=[];for(let z=0;z<S;z++)M[z]=this.i(z)&U.i(z);return new l(M,this.h&U.h)},r.or=function(U){const S=Math.max(this.g.length,U.g.length),M=[];for(let z=0;z<S;z++)M[z]=this.i(z)|U.i(z);return new l(M,this.h|U.h)},r.xor=function(U){const S=Math.max(this.g.length,U.g.length),M=[];for(let z=0;z<S;z++)M[z]=this.i(z)^U.i(z);return new l(M,this.h^U.h)};function ae(U){const S=U.g.length+1,M=[];for(let z=0;z<S;z++)M[z]=U.i(z)<<1|U.i(z-1)>>>31;return new l(M,U.h)}function le(U,S){const M=S>>5;S%=32;const z=U.g.length-M,E=[];for(let F=0;F<z;F++)E[F]=S>0?U.i(F+M)>>>S|U.i(F+M+1)<<32-S:U.i(F+M);return new l(E,U.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,GE=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=g,l.fromString=x,xu=l}).apply(typeof IN<"u"?IN:typeof self<"u"?self:typeof window<"u"?window:{});var ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XE,Q0,$E,Mp,_y,YE,WE,JE;(function(){var r,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ep=="object"&&ep];for(var b=0;b<d.length;++b){var C=d[b];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var n=t(this);function s(d,b){if(b)e:{var C=n;d=d.split(".");for(var Q=0;Q<d.length-1;Q++){var re=d[Q];if(!(re in C))break e;C=C[re]}d=d[d.length-1],Q=C[d],b=b(Q),b!=Q&&b!=null&&e(C,d,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(b){var C=[],Q;for(Q in b)Object.prototype.hasOwnProperty.call(b,Q)&&C.push([Q,b[Q]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function h(d,b,C){return d.call.apply(d.bind,arguments)}function g(d,b,C){return g=h,g.apply(null,arguments)}function x(d,b){var C=Array.prototype.slice.call(arguments,1);return function(){var Q=C.slice();return Q.push.apply(Q,arguments),d.apply(this,Q)}}function p(d,b){function C(){}C.prototype=b.prototype,d.Z=b.prototype,d.prototype=new C,d.prototype.constructor=d,d.Ob=function(Q,re,ce){for(var Ee=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Ee[Ze-2]=arguments[Ze];return b.prototype[re].apply(Q,Ee)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function N(d){const b=d.length;if(b>0){const C=Array(b);for(let Q=0;Q<b;Q++)C[Q]=d[Q];return C}return[]}function T(d,b){for(let Q=1;Q<arguments.length;Q++){const re=arguments[Q];var C=typeof re;if(C=C!="object"?C:re?Array.isArray(re)?"array":C:"null",C=="array"||C=="object"&&typeof re.length=="number"){C=d.length||0;const ce=re.length||0;d.length=C+ce;for(let Ee=0;Ee<ce;Ee++)d[C+Ee]=re[Ee]}else d.push(re)}}class I{constructor(b,C){this.i=b,this.j=C,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function O(d){l.setTimeout(()=>{throw d},0)}function R(){var d=U;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class P{constructor(){this.h=this.g=null}add(b,C){const Q=K.get();Q.set(b,C),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var K=new I(()=>new se,d=>d.reset());class se{constructor(){this.next=this.g=this.h=null}set(b,C){this.h=b,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,le=!1,U=new P,S=()=>{const d=Promise.resolve(void 0);ae=()=>{d.then(M)}};function M(){for(var d;d=R();){try{d.h.call(d.g)}catch(C){O(C)}var b=K;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}le=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const C=()=>{};l.addEventListener("test",C,b),l.removeEventListener("test",C,b)}catch{}return d})();function D(d){return/^[\s\xa0]*$/.test(d)}function $(d,b){E.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}p($,E),$.prototype.init=function(d,b){const C=this.type=d.type,Q=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(C=="mouseover"?b=d.fromElement:C=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),te=0;function Y(d,b,C,Q,re){this.listener=d,this.proxy=null,this.src=b,this.type=C,this.capture=!!Q,this.ha=re,this.key=++te,this.da=this.fa=!1}function ie(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ge(d,b,C){for(const Q in d)b.call(C,d[Q],Q,d)}function xe(d,b){for(const C in d)b.call(void 0,d[C],C,d)}function X(d){const b={};for(const C in d)b[C]=d[C];return b}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(d,b){let C,Q;for(let re=1;re<arguments.length;re++){Q=arguments[re];for(C in Q)d[C]=Q[C];for(let ce=0;ce<L.length;ce++)C=L[ce],Object.prototype.hasOwnProperty.call(Q,C)&&(d[C]=Q[C])}}function J(d){this.src=d,this.g={},this.h=0}J.prototype.add=function(d,b,C,Q,re){const ce=d.toString();d=this.g[ce],d||(d=this.g[ce]=[],this.h++);const Ee=he(d,b,Q,re);return Ee>-1?(b=d[Ee],C||(b.fa=!1)):(b=new Y(b,this.src,ce,!!Q,re),b.fa=C,d.push(b)),b};function ee(d,b){const C=b.type;if(C in d.g){var Q=d.g[C],re=Array.prototype.indexOf.call(Q,b,void 0),ce;(ce=re>=0)&&Array.prototype.splice.call(Q,re,1),ce&&(ie(b),d.g[C].length==0&&(delete d.g[C],d.h--))}}function he(d,b,C,Q){for(let re=0;re<d.length;++re){const ce=d[re];if(!ce.da&&ce.listener==b&&ce.capture==!!C&&ce.ha==Q)return re}return-1}var me="closure_lm_"+(Math.random()*1e6|0),ve={};function Be(d,b,C,Q,re){if(Array.isArray(b)){for(let ce=0;ce<b.length;ce++)Be(d,b[ce],C,Q,re);return null}return C=ot(C),d&&d[be]?d.J(b,C,u(Q)?!!Q.capture:!1,re):Xe(d,b,C,!1,Q,re)}function Xe(d,b,C,Q,re,ce){if(!b)throw Error("Invalid event type");const Ee=u(re)?!!re.capture:!!re;let Ze=oe(d);if(Ze||(d[me]=Ze=new J(d)),C=Ze.add(b,C,Q,Ee,ce),C.proxy)return C;if(Q=Re(),C.proxy=Q,Q.src=d,Q.listener=C,d.addEventListener)F||(re=Ee),re===void 0&&(re=!1),d.addEventListener(b.toString(),Q,re);else if(d.attachEvent)d.attachEvent(Me(b.toString()),Q);else if(d.addListener&&d.removeListener)d.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Re(){function d(C){return b.call(d.src,d.listener,C)}const b=de;return d}function tt(d,b,C,Q,re){if(Array.isArray(b))for(var ce=0;ce<b.length;ce++)tt(d,b[ce],C,Q,re);else Q=u(Q)?!!Q.capture:!!Q,C=ot(C),d&&d[be]?(d=d.i,ce=String(b).toString(),ce in d.g&&(b=d.g[ce],C=he(b,C,Q,re),C>-1&&(ie(b[C]),Array.prototype.splice.call(b,C,1),b.length==0&&(delete d.g[ce],d.h--)))):d&&(d=oe(d))&&(b=d.g[b.toString()],d=-1,b&&(d=he(b,C,Q,re)),(C=d>-1?b[d]:null)&&fe(C))}function fe(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[be])ee(b.i,d);else{var C=d.type,Q=d.proxy;b.removeEventListener?b.removeEventListener(C,Q,d.capture):b.detachEvent?b.detachEvent(Me(C),Q):b.addListener&&b.removeListener&&b.removeListener(Q),(C=oe(b))?(ee(C,d),C.h==0&&(C.src=null,b[me]=null)):ie(d)}}}function Me(d){return d in ve?ve[d]:ve[d]="on"+d}function de(d,b){if(d.da)d=!0;else{b=new $(b,this);const C=d.listener,Q=d.ha||d.src;d.fa&&fe(d),d=C.call(Q,b)}return d}function oe(d){return d=d[me],d instanceof J?d:null}var Je="__closure_events_fn_"+(Math.random()*1e9>>>0);function ot(d){return typeof d=="function"?d:(d[Je]||(d[Je]=function(b){return d.handleEvent(b)}),d[Je])}function Oe(){z.call(this),this.i=new J(this),this.M=this,this.G=null}p(Oe,z),Oe.prototype[be]=!0,Oe.prototype.removeEventListener=function(d,b,C,Q){tt(this,d,b,C,Q)};function He(d,b){var C,Q=d.G;if(Q)for(C=[];Q;Q=Q.G)C.push(Q);if(d=d.M,Q=b.type||b,typeof b=="string")b=new E(b,d);else if(b instanceof E)b.target=b.target||d;else{var re=b;b=new E(Q,d),H(b,re)}re=!0;let ce,Ee;if(C)for(Ee=C.length-1;Ee>=0;Ee--)ce=b.g=C[Ee],re=st(ce,Q,!0,b)&&re;if(ce=b.g=d,re=st(ce,Q,!0,b)&&re,re=st(ce,Q,!1,b)&&re,C)for(Ee=0;Ee<C.length;Ee++)ce=b.g=C[Ee],re=st(ce,Q,!1,b)&&re}Oe.prototype.N=function(){if(Oe.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const C=d.g[b];for(let Q=0;Q<C.length;Q++)ie(C[Q]);delete d.g[b],d.h--}}this.G=null},Oe.prototype.J=function(d,b,C,Q){return this.i.add(String(d),b,!1,C,Q)},Oe.prototype.K=function(d,b,C,Q){return this.i.add(String(d),b,!0,C,Q)};function st(d,b,C,Q){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let re=!0;for(let ce=0;ce<b.length;++ce){const Ee=b[ce];if(Ee&&!Ee.da&&Ee.capture==C){const Ze=Ee.listener,ft=Ee.ha||Ee.src;Ee.fa&&ee(d.i,Ee),re=Ze.call(ft,Q)!==!1&&re}}return re&&!Q.defaultPrevented}function it(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:l.setTimeout(d,b||0)}function vt(d){d.g=it(()=>{d.g=null,d.i&&(d.i=!1,vt(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class bt extends z{constructor(b,C){super(),this.m=b,this.l=C,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:vt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ot(d){z.call(this),this.h=d,this.g={}}p(Ot,z);var Yt=[];function Zt(d){ge(d.g,function(b,C){this.g.hasOwnProperty(C)&&fe(b)},d),d.g={}}Ot.prototype.N=function(){Ot.Z.N.call(this),Zt(this)},Ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=l.JSON.stringify,Mt=l.JSON.parse,ar=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function At(){}function ke(){}var ut={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function It(){E.call(this,"d")}p(It,E);function Ut(){E.call(this,"c")}p(Ut,E);var Ft={},Rr=null;function Pt(){return Rr=Rr||new Oe}Ft.Ia="serverreachability";function On(d){E.call(this,Ft.Ia,d)}p(On,E);function lr(d){const b=Pt();He(b,new On(b))}Ft.STAT_EVENT="statevent";function gn(d,b){E.call(this,Ft.STAT_EVENT,d),this.stat=b}p(gn,E);function fr(d){const b=Pt();He(b,new gn(b,d))}Ft.Ja="timingevent";function ur(d,b){E.call(this,Ft.Ja,d),this.size=b}p(ur,E);function jt(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},b)}function Xt(){this.g=!0}Xt.prototype.ua=function(){this.g=!1};function ma(d,b,C,Q,re,ce){d.info(function(){if(d.g)if(ce){var Ee="",Ze=ce.split("&");for(let pt=0;pt<Ze.length;pt++){var ft=Ze[pt].split("=");if(ft.length>1){const Bt=ft[0];ft=ft[1];const er=Bt.split("_");Ee=er.length>=2&&er[1]=="type"?Ee+(Bt+"="+ft+"&"):Ee+(Bt+"=redacted&")}}}else Ee=null;else Ee=ce;return"XMLHTTP REQ ("+Q+") [attempt "+re+"]: "+b+`
`+C+`
`+Ee})}function Er(d,b,C,Q,re,ce,Ee){d.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+re+"]: "+b+`
`+C+`
`+ce+" "+Ee})}function Xr(d,b,C,Q){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Qe(d,C)+(Q?" "+Q:"")})}function mn(d,b){d.info(function(){return"TIMEOUT: "+b})}Xt.prototype.info=function(){};function Qe(d,b){if(!d.g)return b;if(!b)return null;try{const ce=JSON.parse(b);if(ce){for(d=0;d<ce.length;d++)if(Array.isArray(ce[d])){var C=ce[d];if(!(C.length<2)){var Q=C[1];if(Array.isArray(Q)&&!(Q.length<1)){var re=Q[0];if(re!="noop"&&re!="stop"&&re!="close")for(let Ee=1;Ee<Q.length;Ee++)Q[Ee]=""}}}}return cr(ce)}catch{return b}}var ct={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yt;function rt(){}p(rt,At),rt.prototype.g=function(){return new XMLHttpRequest},yt=new rt;function xt(d){return encodeURIComponent(String(d))}function Qt(d){var b=1;d=d.split(":");const C=[];for(;b>0&&d.length;)C.push(d.shift()),b--;return d.length&&C.push(d.join(":")),C}function _t(d,b,C,Q){this.j=d,this.i=b,this.l=C,this.S=Q||1,this.V=new Ot(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ht}function Ht(){this.i=null,this.g="",this.h=!1}var mt={},rr={};function yn(d,b,C){d.M=1,d.A=Bs(wn(b)),d.u=C,d.R=!0,Zs(d,null)}function Zs(d,b){d.F=Date.now(),ea(d),d.B=wn(d.A);var C=d.B,Q=d.S;Array.isArray(Q)||(Q=[String(Q)]),ba(C.i,"t",Q),d.C=0,C=d.j.L,d.h=new Ht,d.g=Nl(d.j,C?b:null,!d.u),d.P>0&&(d.O=new bt(g(d.Y,d,d.g),d.P)),b=d.V,C=d.g,Q=d.ba;var re="readystatechange";Array.isArray(re)||(re&&(Yt[0]=re.toString()),re=Yt);for(let ce=0;ce<re.length;ce++){const Ee=Be(C,re[ce],Q||b.handleEvent,!1,b.h||b);if(!Ee)break;b.g[Ee.key]=Ee}b=d.J?X(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),lr(),ma(d.i,d.v,d.B,d.l,d.S,d.u)}_t.prototype.ba=function(d){d=d.target;const b=this.O;b&&Cs(d)==3?b.j():this.Y(d)},_t.prototype.Y=function(d){try{if(d==this.g)e:{const Ze=Cs(this.g),ft=this.g.ya(),pt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||Hn(this.g)))){this.K||Ze!=4||ft==7||(ft==8||pt<=0?lr(3):lr(2)),ta(this);var b=this.g.ca();this.X=b;var C=pa(this);if(this.o=b==200,Er(this.i,this.v,this.B,this.l,this.S,Ze,b),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,re=this.g;if((Q=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Q)){var ce=Q;break t}}ce=null}if(d=ce)Xr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,d);else{this.o=!1,this.m=3,fr(12),Ds(this),vs(this);break e}}if(this.R){d=!0;let Bt;for(;!this.K&&this.C<C.length;)if(Bt=no(this,C),Bt==rr){Ze==4&&(this.m=4,fr(14),d=!1),Xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==mt){this.m=4,fr(15),Xr(this.i,this.l,C,"[Invalid Chunk]"),d=!1;break}else Xr(this.i,this.l,Bt,null),si(this,Bt);if(Pa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||C.length!=0||this.h.h||(this.m=1,fr(16),d=!1),this.o=this.o&&d,!d)Xr(this.i,this.l,C,"[Invalid Chunked Response]"),Ds(this),vs(this);else if(C.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Ao(Ee),Ee.P=!0,fr(11))}}else Xr(this.i,this.l,C,null),si(this,C);Ze==4&&Ds(this),this.o&&!this.K&&(Ze==4?vA(this.j,this):(this.o=!1,ea(this)))}else va(this.g),b==400&&C.indexOf("Unknown SID")>0?(this.m=3,fr(12)):(this.m=0,fr(13)),Ds(this),vs(this)}}}catch{}finally{}};function pa(d){if(!Pa(d))return d.g.la();const b=Hn(d.g);if(b==="")return"";let C="";const Q=b.length,re=Cs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Ds(d),vs(d),"";d.h.i=new l.TextDecoder}for(let ce=0;ce<Q;ce++)d.h.h=!0,C+=d.h.i.decode(b[ce],{stream:!(re&&ce==Q-1)});return b.length=0,d.h.g+=C,d.C=0,d.h.g}function Pa(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function no(d,b){var C=d.C,Q=b.indexOf(`
`,C);return Q==-1?rr:(C=Number(b.substring(C,Q)),isNaN(C)?mt:(Q+=1,Q+C>b.length?rr:(b=b.slice(Q,Q+C),d.C=Q+C,b)))}_t.prototype.cancel=function(){this.K=!0,Ds(this)};function ea(d){d.T=Date.now()+d.H,ji(d,d.H)}function ji(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=jt(g(d.aa,d),b)}function ta(d){d.D&&(l.clearTimeout(d.D),d.D=null)}_t.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(mn(this.i,this.B),this.M!=2&&(lr(),fr(17)),Ds(this),this.m=2,vs(this)):ji(this,this.T-d)};function vs(d){d.j.I==0||d.K||vA(d.j,d)}function Ds(d){ta(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,Zt(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function si(d,b){try{var C=d.j;if(C.I!=0&&(C.g==d||xa(C.h,d))){if(!d.L&&xa(C.h,d)&&C.I==3){try{var Q=C.Ba.g.parse(b)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var re=Q;if(re[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<d.F)lo(C),Di(C);else break e;Ro(C),fr(18)}}else C.xa=re[1],0<C.xa-C.K&&re[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=jt(g(C.Va,C),6e3));ai(C.h)<=1&&C.ta&&(C.ta=void 0)}else ia(C,11)}else if((d.L||C.g==d)&&lo(C),!D(b))for(re=C.Ba.g.parse(b),b=0;b<re.length;b++){let pt=re[b];const Bt=pt[0];if(!(Bt<=C.K))if(C.K=Bt,pt=pt[1],C.I==2)if(pt[0]=="c"){C.M=pt[1],C.ba=pt[2];const er=pt[3];er!=null&&(C.ka=er,C.j.info("VER="+C.ka));const Tr=pt[4];Tr!=null&&(C.za=Tr,C.j.info("SVER="+C.za));const Ur=pt[5];Ur!=null&&typeof Ur=="number"&&Ur>0&&(Q=1.5*Ur,C.O=Q,C.j.info("backChannelRequestTimeoutMs_="+Q)),Q=C;const Mr=d.g;if(Mr){const Sn=Mr.g?Mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sn){var ce=Q.h;ce.g||Sn.indexOf("spdy")==-1&&Sn.indexOf("quic")==-1&&Sn.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(ml(ce,ce.h),ce.h=null))}if(Q.G){const vn=Mr.g?Mr.g.getResponseHeader("X-HTTP-Session-Id"):null;vn&&(Q.wa=vn,kr(Q.J,Q.G,vn))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-d.F,C.j.info("Handshake RTT: "+C.T+"ms")),Q=C;var Ee=d;if(Q.na=NA(Q,Q.L?Q.ba:null,Q.W),Ee.L){mA(Q.h,Ee);var Ze=Ee,ft=Q.O;ft&&(Ze.H=ft),Ze.D&&(ta(Ze),ea(Ze)),Q.g=Ee}else oo(Q);C.i.length>0&&cs(C)}else pt[0]!="stop"&&pt[0]!="close"||ia(C,7);else C.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?ia(C,7):bA(C):pt[0]!="noop"&&C.l&&C.l.qa(pt),C.A=0)}}lr(4)}catch{}}var En=class{constructor(d,b){this.g=d,this.map=b}};function so(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gA(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ai(d){return d.h?1:d.g?d.g.size:0}function xa(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function ml(d,b){d.g?d.g.add(b):d.h=b}function mA(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}so.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function pl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const C of d.g.values())b=b.concat(C.G);return b}return N(d.i)}var To=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pA(d,b){if(d){d=d.split("&");for(let C=0;C<d.length;C++){const Q=d[C].indexOf("=");let re,ce=null;Q>=0?(re=d[C].substring(0,Q),ce=d[C].substring(Q+1)):re=d[C],b(re,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function Sr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof Sr?(this.l=d.l,Pn(this,d.j),this.o=d.o,this.g=d.g,Ti(this,d.u),this.h=d.h,Uo(this,Qo(d.i)),this.m=d.m):d&&(b=String(d).match(To))?(this.l=!1,Pn(this,b[1]||"",!0),this.o=ra(b[2]||""),this.g=ra(b[3]||"",!0),Ti(this,b[4]),this.h=ra(b[5]||"",!0),Uo(this,b[6]||"",!0),this.m=ra(b[7]||"")):(this.l=!1,this.i=new io(null,this.l))}Sr.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(Gn(b,Fo,!0),":");var C=this.g;return(C||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Gn(b,Fo,!0),"@"),d.push(xt(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&d.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&d.push("/"),d.push(Gn(C,C.charAt(0)=="/"?xA:uc,!0))),(C=this.i.toString())&&d.push("?",C),(C=this.m)&&d.push("#",Gn(C,xl)),d.join("")},Sr.prototype.resolve=function(d){const b=wn(this);let C=!!d.j;C?Pn(b,d.j):C=!!d.o,C?b.o=d.o:C=!!d.g,C?b.g=d.g:C=d.u!=null;var Q=d.h;if(C)Ti(b,d.u);else if(C=!!d.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var re=b.h.lastIndexOf("/");re!=-1&&(Q=b.h.slice(0,re+1)+Q)}if(re=Q,re==".."||re==".")Q="";else if(re.indexOf("./")!=-1||re.indexOf("/.")!=-1){Q=re.lastIndexOf("/",0)==0,re=re.split("/");const ce=[];for(let Ee=0;Ee<re.length;){const Ze=re[Ee++];Ze=="."?Q&&Ee==re.length&&ce.push(""):Ze==".."?((ce.length>1||ce.length==1&&ce[0]!="")&&ce.pop(),Q&&Ee==re.length&&ce.push("")):(ce.push(Ze),Q=!0)}Q=ce.join("/")}else Q=re}return C?b.h=Q:C=d.i.toString()!=="",C?Uo(b,Qo(d.i)):C=!!d.m,C&&(b.m=d.m),b};function wn(d){return new Sr(d)}function Pn(d,b,C){d.j=C?ra(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function Ti(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function Uo(d,b,C){b instanceof io?(d.i=b,Lo(d.i,d.l)):(C||(b=Gn(b,ao)),d.i=new io(b,d.l))}function kr(d,b,C){d.i.set(b,C)}function Bs(d){return kr(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ra(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Gn(d,b,C){return typeof d=="string"?(d=encodeURI(d).replace(b,As),C&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function As(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Fo=/[#\/\?@]/g,uc=/[#\?:]/g,xA=/[#\?]/g,ao=/[#\?@]/g,xl=/#/g;function io(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function ls(d){d.g||(d.g=new Map,d.h=0,d.i&&pA(d.i,function(b,C){d.add(decodeURIComponent(b.replace(/\+/g," ")),C)}))}r=io.prototype,r.add=function(d,b){ls(this),this.i=null,d=Ha(this,d);let C=this.g.get(d);return C||this.g.set(d,C=[]),C.push(b),this.h+=1,this};function dc(d,b){ls(d),b=Ha(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function bl(d,b){return ls(d),b=Ha(d,b),d.g.has(b)}r.forEach=function(d,b){ls(this),this.g.forEach(function(C,Q){C.forEach(function(re){d.call(b,re,Q,this)},this)},this)};function yl(d,b){ls(d);let C=[];if(typeof b=="string")bl(d,b)&&(C=C.concat(d.g.get(Ha(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)C=C.concat(d[b]);return C}r.set=function(d,b){return ls(this),this.i=null,d=Ha(this,d),bl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},r.get=function(d,b){return d?(d=yl(this,d),d.length>0?String(d[0]):b):b};function ba(d,b,C){dc(d,b),C.length>0&&(d.i=null,d.g.set(Ha(d,b),N(C)),d.h+=C.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let Q=0;Q<b.length;Q++){var C=b[Q];const re=xt(C);C=yl(this,C);for(let ce=0;ce<C.length;ce++){let Ee=re;C[ce]!==""&&(Ee+="="+xt(C[ce])),d.push(Ee)}}return this.i=d.join("&")};function Qo(d){const b=new io;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function Ha(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function Lo(d,b){b&&!d.j&&(ls(d),d.i=null,d.g.forEach(function(C,Q){const re=Q.toLowerCase();Q!=re&&(dc(this,Q),ba(this,re,C))},d)),d.j=b}function sn(d,b){const C=new Xt;if(l.Image){const Q=new Image;Q.onload=x(na,C,"TestLoadImage: loaded",!0,b,Q),Q.onerror=x(na,C,"TestLoadImage: error",!1,b,Q),Q.onabort=x(na,C,"TestLoadImage: abort",!1,b,Q),Q.ontimeout=x(na,C,"TestLoadImage: timeout",!1,b,Q),l.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=d}else b(!1)}function wl(d,b){const C=new Xt,Q=new AbortController,re=setTimeout(()=>{Q.abort(),na(C,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:Q.signal}).then(ce=>{clearTimeout(re),ce.ok?na(C,"TestPingServer: ok",!0,b):na(C,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(re),na(C,"TestPingServer: error",!1,b)})}function na(d,b,C,Q,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),Q(C)}catch{}}function zt(){this.g=new ar}function ii(d){this.i=d.Sb||null,this.h=d.ab||!1}p(ii,At),ii.prototype.g=function(){return new ko(this.i,this.h)};function ko(d,b){Oe.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ko,Oe),r=ko.prototype,r.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,ya(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||l).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ui(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Ui(this):ya(this),this.readyState==3&&sa(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,Ui(this))},r.Na=function(d){this.g&&(this.response=d,Ui(this))},r.ga=function(){this.g&&Ui(this)};function Ui(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ya(d)}r.setRequestHeader=function(d,b){this.A.append(d,b)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var C=b.next();!C.done;)C=C.value,d.push(C[0]+": "+C[1]),C=b.next();return d.join(`\r
`)};function ya(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ns(d){let b="";return ge(d,function(C,Q){b+=Q,b+=":",b+=C,b+=`\r
`}),b}function Fi(d,b,C){e:{for(Q in C){var Q=!1;break e}Q=!0}Q||(C=Ns(C),typeof d=="string"?C!=null&&xt(C):kr(d,b,C))}function Dr(d){Oe.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Dr,Oe);var oi=/^https?$/i,vl=["POST","PUT"];r=Dr.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,b,C,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yt.g(),this.g.onreadystatechange=v(g(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(ce){Qi(this,ce);return}if(d=C||"",C=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var re in Q)C.set(re,Q[re]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const ce of Q.keys())C.set(ce,Q.get(ce));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(C.keys()).find(ce=>ce.toLowerCase()=="content-type"),re=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(vl,b,void 0)>=0)||Q||re||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Ee]of C)this.g.setRequestHeader(ce,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(ce){Qi(this,ce)}};function Qi(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,Li(d),ki(d)}function Li(d){d.A||(d.A=!0,He(d,"complete"),He(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,He(this,"complete"),He(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Dr.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?wa(this):this.Xa())},r.Xa=function(){wa(this)};function wa(d){if(d.h&&typeof o<"u"){if(d.v&&Cs(d)==4)setTimeout(d.Ca.bind(d),0);else if(He(d,"readystatechange"),Cs(d)==4){d.h=!1;try{const ce=d.ca();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var C;if(!(C=b)){var Q;if(Q=ce===0){let Ee=String(d.D).match(To)[1]||null;!Ee&&l.self&&l.self.location&&(Ee=l.self.location.protocol.slice(0,-1)),Q=!oi.test(Ee?Ee.toLowerCase():"")}C=Q}if(C)He(d,"complete"),He(d,"success");else{d.o=6;try{var re=Cs(d)>2?d.g.statusText:""}catch{re=""}d.l=re+" ["+d.ca()+"]",Li(d)}}finally{ki(d)}}}}function ki(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const C=d.g;d.g=null,b||He(d,"ready");try{C.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Cs(d){return d.g?d.g.readyState:0}r.ca=function(){try{return Cs(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Mt(b)}};function Hn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function va(d){const b={};d=(d.g&&Cs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<d.length;Q++){if(D(d[Q]))continue;var C=Qt(d[Q]);const re=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ce=b[re]||[];b[re]=ce,ce.push(C)}xe(b,function(Q){return Q.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(d,b,C){return C&&C.internalChannelParams&&C.internalChannelParams[d]||b}function Ri(d){this.za=0,this.i=[],this.j=new Xt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Va("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Va("baseRetryDelayMs",5e3,d),this.Za=Va("retryDelaySeedMs",1e4,d),this.Ta=Va("forwardChannelMaxRetries",2,d),this.va=Va("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new so(d&&d.concurrentRequestLimit),this.Ba=new zt,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ri.prototype,r.ka=8,r.I=1,r.connect=function(d,b,C,Q){fr(0),this.W=d,this.H=b||{},C&&Q!==void 0&&(this.H.OSID=C,this.H.OAID=Q),this.F=this.X,this.J=NA(this,null,this.W),cs(this)};function bA(d){if(aa(d),d.I==3){var b=d.V++,C=wn(d.J);if(kr(C,"SID",d.M),kr(C,"RID",b),kr(C,"TYPE","terminate"),_s(d,C),b=new _t(d,d.j,b),b.M=2,b.A=Bs(wn(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(b.A.toString(),"")}catch{}!C&&l.Image&&(new Image().src=b.A,C=!0),C||(b.g=Nl(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ea(b)}BA(d)}function Di(d){d.g&&(Ao(d),d.g.cancel(),d.g=null)}function aa(d){Di(d),d.v&&(l.clearTimeout(d.v),d.v=null),lo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function cs(d){if(!gA(d.h)&&!d.m){d.m=!0;var b=d.Ea;ae||S(),le||(ae(),le=!0),U.add(b,d),d.D=0}}function yA(d,b){return ai(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=jt(g(d.Ea,d,b),Bl(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const re=new _t(this,this.j,d);let ce=this.o;if(this.U&&(ce?(ce=X(ce),H(ce,this.U)):ce=this.U),this.u!==null||this.R||(re.J=ce,ce=null),this.S)e:{for(var b=0,C=0;C<this.i.length;C++){t:{var Q=this.i[C];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(b+=Q,b>4096){b=C;break e}if(b===4096||C===this.i.length-1){b=C+1;break e}}b=1e3}else b=1e3;b=wA(this,re,b),C=wn(this.J),kr(C,"RID",d),kr(C,"CVER",22),this.G&&kr(C,"X-HTTP-Session-Id",this.G),_s(this,C),ce&&(this.R?b="headers="+xt(Ns(ce))+"&"+b:this.u&&Fi(C,this.u,ce)),ml(this.h,re),this.Ra&&kr(C,"TYPE","init"),this.S?(kr(C,"$req",b),kr(C,"SID","null"),re.U=!0,yn(re,C,null)):yn(re,C,b),this.I=2}}else this.I==3&&(d?Ai(this,d):this.i.length==0||gA(this.h)||Ai(this))};function Ai(d,b){var C;b?C=b.l:C=d.V++;const Q=wn(d.J);kr(Q,"SID",d.M),kr(Q,"RID",C),kr(Q,"AID",d.K),_s(d,Q),d.u&&d.o&&Fi(Q,d.u,d.o),C=new _t(d,d.j,C,d.D+1),d.u===null&&(C.J=d.o),b&&(d.i=b.G.concat(d.i)),b=wA(d,C,1e3),C.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ml(d.h,C),yn(C,Q,b)}function _s(d,b){d.H&&ge(d.H,function(C,Q){kr(b,Q,C)}),d.l&&ge({},function(C,Q){kr(b,Q,C)})}function wA(d,b,C){C=Math.min(d.i.length,C);const Q=d.l?g(d.l.Ka,d.l,d):null;e:{var re=d.i;let Ze=-1;for(;;){const ft=["count="+C];Ze==-1?C>0?(Ze=re[0].g,ft.push("ofs="+Ze)):Ze=0:ft.push("ofs="+Ze);let pt=!0;for(let Bt=0;Bt<C;Bt++){var ce=re[Bt].g;const er=re[Bt].map;if(ce-=Ze,ce<0)Ze=Math.max(0,re[Bt].g-100),pt=!1;else try{ce="req"+ce+"_"||"";try{var Ee=er instanceof Map?er:Object.entries(er);for(const[Tr,Ur]of Ee){let Mr=Ur;u(Ur)&&(Mr=cr(Ur)),ft.push(ce+Tr+"="+encodeURIComponent(Mr))}}catch(Tr){throw ft.push(ce+"type="+encodeURIComponent("_badmap")),Tr}}catch{Q&&Q(er)}}if(pt){Ee=ft.join("&");break e}}Ee=void 0}return d=d.i.splice(0,C),b.G=d,Ee}function oo(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;ae||S(),le||(ae(),le=!0),U.add(b,d),d.A=0}}function Ro(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=jt(g(d.Da,d),Bl(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=jt(g(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,fr(10),Di(this),hc(this))};function Ao(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function hc(d){d.g=new _t(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=wn(d.na);kr(b,"RID","rpc"),kr(b,"SID",d.M),kr(b,"AID",d.K),kr(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&kr(b,"TO",d.ia),kr(b,"TYPE","xmlhttp"),_s(d,b),d.u&&d.o&&Fi(b,d.u,d.o),d.O&&(d.g.H=d.O);var C=d.g;d=d.ba,C.M=1,C.A=Bs(wn(b)),C.u=null,C.R=!0,Zs(C,d)}r.Va=function(){this.C!=null&&(this.C=null,Di(this),Ro(this),fr(19))};function lo(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function vA(d,b){var C=null;if(d.g==b){lo(d),Ao(d),d.g=null;var Q=2}else if(xa(d.h,b))C=b.G,mA(d.h,b),Q=1;else return;if(d.I!=0){if(b.o)if(Q==1){C=b.u?b.u.length:0,b=Date.now()-b.F;var re=d.D;Q=Pt(),He(Q,new ur(Q,C)),cs(d)}else oo(d);else if(re=b.m,re==3||re==0&&b.X>0||!(Q==1&&yA(d,b)||Q==2&&Ro(d)))switch(C&&C.length>0&&(b=d.h,b.i=b.i.concat(C)),re){case 1:ia(d,5);break;case 4:ia(d,10);break;case 3:ia(d,6);break;default:ia(d,2)}}}function Bl(d,b){let C=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(C*=2),C*b}function ia(d,b){if(d.j.info("Error code "+b),b==2){var C=g(d.bb,d),Q=d.Ua;const re=!Q;Q=new Sr(Q||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Pn(Q,"https"),Bs(Q),re?sn(Q.toString(),C):wl(Q.toString(),C)}else fr(2);d.I=0,d.l&&d.l.pa(b),BA(d),aa(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),fr(2)):(this.j.info("Failed to ping google.com"),fr(1))};function BA(d){if(d.I=0,d.ja=[],d.l){const b=pl(d.h);(b.length!=0||d.i.length!=0)&&(T(d.ja,b),T(d.ja,d.i),d.h.i.length=0,N(d.i),d.i.length=0),d.l.oa()}}function NA(d,b,C){var Q=C instanceof Sr?wn(C):new Sr(C);if(Q.g!="")b&&(Q.g=b+"."+Q.g),Ti(Q,Q.u);else{var re=l.location;Q=re.protocol,b=b?b+"."+re.hostname:re.hostname,re=+re.port;const ce=new Sr(null);Q&&Pn(ce,Q),b&&(ce.g=b),re&&Ti(ce,re),C&&(ce.h=C),Q=ce}return C=d.G,b=d.wa,C&&b&&kr(Q,C,b),kr(Q,"VER",d.ka),_s(d,Q),Q}function Nl(d,b,C){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new Dr(new ii({ab:C})):new Dr(d.ma),b.Fa(d.L),b}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function fc(){}r=fc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ka(){}Ka.prototype.g=function(d,b){return new Vn(d,b)};function Vn(d,b){Oe.call(this),this.g=new Ri(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!D(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!D(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new za(this)}p(Vn,Oe),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){bA(this.g)},Vn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var C={};C.__data__=d,d=C}else this.v&&(C={},C.__data__=cr(d),d=C);b.i.push(new En(b.Ya++,d)),b.I==3&&cs(b)},Vn.prototype.N=function(){this.g.l=null,delete this.j,bA(this.g),delete this.g,Vn.Z.N.call(this)};function CA(d){It.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const C in b){d=C;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}p(CA,It);function Mi(){Ut.call(this),this.status=1}p(Mi,Ut);function za(d){this.g=d}p(za,fc),za.prototype.ra=function(){He(this.g,"a")},za.prototype.qa=function(d){He(this.g,new CA(d))},za.prototype.pa=function(d){He(this.g,new Mi)},za.prototype.oa=function(){He(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,JE=function(){return new Ka},WE=function(){return Pt()},YE=Ft,_y={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,Mp=ct,kt.COMPLETE="complete",$E=kt,ke.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",Oe.prototype.listen=Oe.prototype.J,Q0=ke,Dr.prototype.listenOnce=Dr.prototype.K,Dr.prototype.getLastError=Dr.prototype.Ha,Dr.prototype.getLastErrorCode=Dr.prototype.ya,Dr.prototype.getStatus=Dr.prototype.ca,Dr.prototype.getResponseJson=Dr.prototype.La,Dr.prototype.getResponseText=Dr.prototype.la,Dr.prototype.send=Dr.prototype.ea,Dr.prototype.setWithCredentials=Dr.prototype.Fa,XE=Dr}).apply(typeof ep<"u"?ep:typeof self<"u"?self:typeof window<"u"?window:{});const jN="@firebase/firestore",TN="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fa.UNAUTHENTICATED=new Fa(null),Fa.GOOGLE_CREDENTIALS=new Fa("google-credentials-uid"),Fa.FIRST_PARTY=new Fa("first-party-uid"),Fa.MOCK_USER=new Fa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new ex("@firebase/firestore");function Fh(){return Cd.logLevel}function nt(r,...e){if(Cd.logLevel<=Cr.DEBUG){const t=e.map(ev);Cd.debug(`Firestore (${jf}): ${r}`,...t)}}function as(r,...e){if(Cd.logLevel<=Cr.ERROR){const t=e.map(ev);Cd.error(`Firestore (${jf}): ${r}`,...t)}}function bg(r,...e){if(Cd.logLevel<=Cr.WARN){const t=e.map(ev);Cd.warn(`Firestore (${jf}): ${r}`,...t)}}function ev(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,ZE(r,n,t)}function ZE(r,e,t){let n=`FIRESTORE (${jf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw as(n),new Error(n)}function Rt(r,e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,r||ZE(e,s,n)}function Tt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends uA{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Fa.UNAUTHENTICATED)))}shutdown(){}}class vR{constructor(e){this.t=e,this.currentUser=Fa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Rt(this.o===void 0,42304);let n=this.i;const s=h=>this.i!==n?(n=this.i,t(h)):Promise.resolve();let o=new il;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new il,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new il)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Rt(typeof n.accessToken=="string",31837,{l:n}),new yR(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string",2055,{h:e}),new Fa(e)}}class BR{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Fa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NR{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new BR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Fa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,No(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Rt(this.o===void 0,3512);const n=o=>{o.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,nt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const s=o=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new UN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new UN(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=_R(40);for(let o=0;o<s.length;++o)n.length<20&&s[o]<t&&(n+=e.charAt(s[o]%62))}return n}}function nr(r,e){return r<e?-1:r>e?1:0}function Ey(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const s=r.charAt(n),o=e.charAt(n);if(s!==o)return f2(s)===f2(o)?nr(s,o):f2(s)?1:-1}return nr(r.length,e.length)}const ER=55296,SR=57343;function f2(r){const e=r.charCodeAt(0);return e>=ER&&e<=SR}function sf(r,e,t){return r.length===e.length&&r.every(((n,s)=>t(n,e[s])))}function eS(r){return r+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="__name__";class XA{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ct(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ct(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return XA.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof XA?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=XA.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return nr(e.length,t.length)}static compareSegments(e,t){const n=XA.isNumericId(e),s=XA.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?XA.extractNumericId(e).compare(XA.extractNumericId(t)):Ey(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xu.fromString(e.substring(4,e.length-2))}}class Gr extends XA{construct(e,t,n){return new Gr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new at(Ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((s=>s.length>0)))}return new Gr(t)}static emptyPath(){return new Gr([])}}const IR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends XA{construct(e,t,n){return new qn(e,t,n)}static isValidIdentifier(e){return IR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FN}static keyField(){return new qn([FN])}static fromServerFormat(e){const t=[];let n="",s=0;const o=()=>{if(n.length===0)throw new at(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new at(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new at(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(n+=u,s++):(o(),s++)}if(o(),l)throw new at(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(t)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Gr.fromString(e))}static fromName(e){return new ht(Gr.fromString(e).popFirst(5))}static empty(){return new ht(Gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Gr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Gr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(r,e,t){if(!t)throw new at(Ve.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jR(r,e,t,n){if(e===!0&&n===!0)throw new at(Ve.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function QN(r){if(!ht.isDocumentKey(r))throw new at(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function LN(r){if(ht.isDocumentKey(r))throw new at(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function rS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function sx(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ct(12329,{type:typeof r})}function Ma(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new at(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sx(r);throw new at(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function TR(r,e){if(e<=0)throw new at(Ve.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(r,e){const t={typeString:r};return e&&(t.value=e),t}function zg(r,e){if(!rS(r))throw new at(Ve.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const s=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const l=r[n];if(s&&typeof l!==s){t=`JSON field '${n}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${n}' field to equal '${o.value}'`;break}}if(t)throw new at(Ve.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=-62135596800,RN=1e6;class Zr{static now(){return Zr.fromMillis(Date.now())}static fromDate(e){return Zr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*RN);return new Zr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new at(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new at(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kN)throw new at(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RN}_compareTo(e){return this.seconds===e.seconds?nr(this.nanoseconds,e.nanoseconds):nr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zg(e,Zr._jsonSchema))return new Zr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zr._jsonSchemaVersion="firestore/timestamp/1.0",Zr._jsonSchema={type:ws("string",Zr._jsonSchemaVersion),seconds:ws("number"),nanoseconds:ws("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new Zr(0,0))}static max(){return new Kt(new Zr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=-1;class m1{constructor(e,t,n,s){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=s}}function Sy(r){return r.fields.find((e=>e.kind===2))}function td(r){return r.fields.filter((e=>e.kind!==2))}m1.UNKNOWN_ID=-1;class Op{constructor(e,t){this.fieldPath=e,this.kind=t}}class yg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new yg(0,to.min())}}function nS(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=Kt.fromTimestamp(n===1e9?new Zr(t+1,0):new Zr(t,n));return new to(s,ht.empty(),e)}function sS(r){return new to(r.readTime,r.key,af)}class to{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new to(Kt.min(),ht.empty(),af)}static max(){return new to(Kt.max(),ht.empty(),af)}}function rv(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ht.comparator(r.documentKey,e.documentKey),t!==0?t:nr(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(r){if(r.code!==Ve.FAILED_PRECONDITION||r.message!==aS)throw r;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ie(((n,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ie?t:Ie.resolve(t)}catch(t){return Ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ie.reject(t)}static resolve(e){return new Ie(((t,n)=>{t(e)}))}static reject(e){return new Ie(((t,n)=>{n(e)}))}static waitFor(e){return new Ie(((t,n)=>{let s=0,o=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++o,l&&o===s&&t()}),(h=>n(h)))})),l=!0,o===s&&t()}))}static or(e){let t=Ie.resolve(!1);for(const n of e)t=t.next((s=>s?Ie.resolve(s):n()));return t}static forEach(e,t){const n=[];return e.forEach(((s,o)=>{n.push(t.call(this,s,o))})),this.waitFor(n)}static mapArray(e,t){return new Ie(((n,s)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const g=h;t(e[g]).next((x=>{l[g]=x,++u,u===o&&n(l)}),(x=>s(x)))}}))}static doWhile(e,t){return new Ie(((n,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):n()};o()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="SimpleDb";class ax{static open(e,t,n,s){try{return new ax(t,e.transaction(s,n))}catch(o){throw new X0(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new il,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new X0(e,t.error)):this.S.resolve()},this.transaction.onerror=n=>{const s=nv(n.target.error);this.S.reject(new X0(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(nt(Yi,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new FR(t)}}class bu{static delete(e){return nt(Yi,"Removing database:",e),ad(W_().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Kw())return!1;if(bu.F())return!0;const e=ks(),t=bu.M(e),n=0<t&&t<10,s=oS(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,bu.M(ks())===12.2&&as("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(nt(Yi,"Opening database:",this.name),this.db=await new Promise(((t,n)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const l=o.target.result;t(l)},s.onblocked=()=>{n(new X0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const l=o.target.error;l.name==="VersionError"?n(new at(Ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?n(new at(Ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):n(new X0(e,l))},s.onupgradeneeded=o=>{nt(Yi,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;this.N.k(l,s.transaction,o.oldVersion,this.version).next((()=>{nt(Yi,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,s){const o=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=ax.open(this.db,e,o?"readonly":"readwrite",n),h=s(u).next((g=>(u.C(),g))).catch((g=>(u.abort(g),Ie.reject(g)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,g=h.name!=="FirebaseError"&&l<3;if(nt(Yi,"Transaction failed with error:",h.message,"Retrying:",g),this.close(),!g)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function oS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class UR{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ad(this.U.delete())}}class X0 extends at{constructor(e,t){super(Ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Qu(r){return r.name==="IndexedDbTransactionError"}class FR{constructor(e){this.store=e}put(e,t){let n;return t!==void 0?(nt(Yi,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(nt(Yi,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ad(n)}add(e){return nt(Yi,"ADD",this.store.name,e,e),ad(this.store.add(e))}get(e){return ad(this.store.get(e)).next((t=>(t===void 0&&(t=null),nt(Yi,"GET",this.store.name,e,t),t)))}delete(e){return nt(Yi,"DELETE",this.store.name,e),ad(this.store.delete(e))}count(){return nt(Yi,"COUNT",this.store.name),ad(this.store.count())}J(e,t){const n=this.options(e,t),s=n.index?this.store.index(n.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(n.range);return new Ie(((l,u)=>{o.onerror=h=>{u(h.target.error)},o.onsuccess=h=>{l(h.target.result)}}))}{const o=this.cursor(n),l=[];return this.H(o,((u,h)=>{l.push(h)})).next((()=>l))}}Y(e,t){const n=this.store.getAll(e,t===null?void 0:t);return new Ie(((s,o)=>{n.onerror=l=>{o(l.target.error)},n.onsuccess=l=>{s(l.target.result)}}))}Z(e,t){nt(Yi,"DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const s=this.cursor(n);return this.H(s,((o,l,u)=>u.delete()))}ee(e,t){let n;t?n=e:(n={},t=e);const s=this.cursor(n);return this.H(s,t)}te(e){const t=this.cursor({});return new Ie(((n,s)=>{t.onerror=o=>{const l=nv(o.target.error);s(l)},t.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next((u=>{u?l.continue():n()})):n()}}))}H(e,t){const n=[];return new Ie(((s,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void s();const h=new UR(u),g=t(u.primaryKey,u.value,h);if(g instanceof Ie){const x=g.catch((p=>(h.done(),Ie.reject(p))));n.push(x)}h.isDone?s():h.G===null?u.continue():u.continue(h.G)}})).next((()=>Ie.waitFor(n)))}options(e,t){let n;return e!==void 0&&(typeof e=="string"?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ad(r){return new Ie(((e,t)=>{r.onsuccess=n=>{const s=n.target.result;e(s)},r.onerror=n=>{const s=nv(n.target.error);t(s)}}))}let DN=!1;function nv(r){const e=bu.M(ks());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const n=new at("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DN||(DN=!0,setTimeout((()=>{throw n}),0)),n}}return r}const $0="IndexBackfiller";class QR{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){nt($0,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();nt($0,`Documents written: ${t}`)}catch(t){Qu(t)?nt($0,"Ignoring IndexedDB error during index backfill: ",t):await Fu(t)}await this.re(6e4)}))}}class LR{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const n=new Set;let s=t,o=!0;return Ie.doWhile((()=>o===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!n.has(l))return nt($0,`Processing collection: ${l}`),this.oe(e,l,s).next((u=>{s-=u,n.add(l)}));o=!1})))).next((()=>t-s))}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,n).next((o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(s,o))).next((u=>(nt($0,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u)))).next((()=>l.size))}))))}_e(e,t){let n=e;return t.changes.forEach(((s,o)=>{const l=sS(o);rv(l,n)>0&&(n=l)})),new to(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ci.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=-1;function ix(r){return r==null}function wg(r){return r===0&&1/r==-1/0}function AS(r){return typeof r=="number"&&Number.isInteger(r)&&!wg(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="";function Oa(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=MN(e)),e=kR(r.get(t),e);return MN(e)}function kR(r,e){let t=e;const n=r.length;for(let s=0;s<n;s++){const o=r.charAt(s);switch(o){case"\0":t+="";break;case p1:t+="";break;default:t+=o}}return t}function MN(r){return r+p1+""}function WA(r){const e=r.length;if(Rt(e>=2,64408,{path:r}),e===2)return Rt(r.charAt(0)===p1&&r.charAt(1)==="",56145,{path:r}),Gr.emptyPath();const t=e-2,n=[];let s="";for(let o=0;o<e;){const l=r.indexOf(p1,o);switch((l<0||l>t)&&Ct(50515,{path:r}),r.charAt(l+1)){case"":const u=r.substring(o,l);let h;s.length===0?h=u:(s+=u,h=s,s=""),n.push(h);break;case"":s+=r.substring(o,l),s+="\0";break;case"":s+=r.substring(o,l+1);break;default:Ct(61167,{path:r})}o=l+2}return new Gr(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="remoteDocuments",qg="owner",bh="owner",vg="mutationQueues",RR="userId",nA="mutations",ON="batchId",ud="userMutationsIndex",PN=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(r,e){return[r,Oa(e)]}function lS(r,e,t){return[r,Oa(e),t]}const DR={},of="documentMutations",x1="remoteDocumentsV14",MR=["prefixPath","collectionGroup","readTime","documentId"],Hp="documentKeyIndex",OR=["prefixPath","collectionGroup","documentId"],cS="collectionGroupIndex",PR=["collectionGroup","readTime","prefixPath","documentId"],Bg="remoteDocumentGlobal",Iy="remoteDocumentGlobalKey",Af="targets",uS="queryTargetsIndex",HR=["canonicalId","targetId"],lf="targetDocuments",VR=["targetId","path"],sv="documentTargetsIndex",KR=["path","targetId"],b1="targetGlobalKey",gd="targetGlobal",Ng="collectionParents",zR=["collectionId","parent"],cf="clientMetadata",qR="clientId",ox="bundles",GR="bundleId",Ax="namedQueries",XR="name",av="indexConfiguration",$R="indexId",jy="collectionGroupIndex",YR="collectionGroup",Y0="indexState",WR=["indexId","uid"],dS="sequenceNumberIndex",JR=["uid","sequenceNumber"],W0="indexEntries",ZR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hS="documentKeyIndex",e9=["indexId","uid","orderedDocumentKey"],lx="documentOverlays",t9=["userId","collectionPath","documentId"],Ty="collectionPathOverlayIndex",r9=["userId","collectionPath","largestBatchId"],fS="collectionGroupOverlayIndex",n9=["userId","collectionGroup","largestBatchId"],iv="globals",s9="name",gS=[vg,nA,of,rd,Af,qg,gd,lf,cf,Bg,Ng,ox,Ax],a9=[...gS,lx],mS=[vg,nA,of,x1,Af,qg,gd,lf,cf,Bg,Ng,ox,Ax,lx],pS=mS,ov=[...pS,av,Y0,W0],i9=ov,xS=[...ov,iv],o9=xS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy extends iS{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Rs(r,e){const t=Tt(r);return bu.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Lu(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function bS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t){this.comparator=e,this.root=t||ha.EMPTY}insert(e,t){return new bn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ha.BLACK,null,null))}remove(e){return new bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ha.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tp(this.root,e,this.comparator,!0)}}class tp{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ha{constructor(e,t,n,s,o){this.key=e,this.value=t,this.color=n??ha.RED,this.left=s??ha.EMPTY,this.right=o??ha.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,o){return new ha(e??this.key,t??this.value,n??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const o=n(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,n),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ha.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return ha.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ha.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ha.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ct(27949);return e+(this.isRed()?0:1)}}ha.EMPTY=null,ha.RED=!0,ha.BLACK=!1;ha.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(e,t,n,s,o){return this}insert(e,t,n){return new ha(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new bn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VN(this.data.getIterator())}getIteratorFrom(e){return new VN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class VN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yh(r){return r.hasNext()?r.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new _i([])}unionWith(e){let t=new nn(qn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new _i(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sf(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yS("Invalid base64 string: "+o):o}})(e);return new os(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new os(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}os.EMPTY_BYTE_STRING=new os("");const A9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sc(r){if(Rt(!!r,39018),typeof r=="string"){let e=0;const t=A9.exec(r);if(Rt(!!t,46558,{timestamp:r}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Rn(r.seconds),nanos:Rn(r.nanos)}}function Rn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ac(r){return typeof r=="string"?os.fromBase64String(r):os.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="server_timestamp",vS="__type__",BS="__previous_value__",NS="__local_write_time__";function Av(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[vS])==null?void 0:n.stringValue)===wS}function cx(r){const e=r.mapValue.fields[BS];return Av(e)?cx(e):e}function Cg(r){const e=sc(r.mapValue.fields[NS].timestampValue);return new Zr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,t,n,s,o,l,u,h,g,x){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=g,this.isUsingEmulator=x}}const y1="(default)";class _d{constructor(e,t){this.projectId=e,this.database=t||y1}static empty(){return new _d("","")}get isDefaultDatabase(){return this.database===y1}isEqual(e){return e instanceof _d&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="__type__",CS="__max__",ou={mapValue:{fields:{__type__:{stringValue:CS}}}},cv="__vector__",uf="value",Vp={nullValue:"NULL_VALUE"};function Cu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Av(r)?4:_S(r)?9007199254740991:ux(r)?10:11:Ct(28295,{value:r})}function ul(r,e){if(r===e)return!0;const t=Cu(r);if(t!==Cu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Cg(r).isEqual(Cg(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=sc(s.timestampValue),u=sc(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(s,o){return ac(s.bytesValue).isEqual(ac(o.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(s,o){return Rn(s.geoPointValue.latitude)===Rn(o.geoPointValue.latitude)&&Rn(s.geoPointValue.longitude)===Rn(o.geoPointValue.longitude)})(r,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Rn(s.integerValue)===Rn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Rn(s.doubleValue),u=Rn(o.doubleValue);return l===u?wg(l)===wg(u):isNaN(l)&&isNaN(u)}return!1})(r,e);case 9:return sf(r.arrayValue.values||[],e.arrayValue.values||[],ul);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(HN(l)!==HN(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!ul(l[h],u[h])))return!1;return!0})(r,e);default:return Ct(52216,{left:r})}}function _g(r,e){return(r.values||[]).find((t=>ul(t,e)))!==void 0}function _u(r,e){if(r===e)return 0;const t=Cu(r),n=Cu(e);if(t!==n)return nr(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return nr(r.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=Rn(o.integerValue||o.doubleValue),h=Rn(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(r,e);case 3:return KN(r.timestampValue,e.timestampValue);case 4:return KN(Cg(r),Cg(e));case 5:return Ey(r.stringValue,e.stringValue);case 6:return(function(o,l){const u=ac(o),h=ac(l);return u.compareTo(h)})(r.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),h=l.split("/");for(let g=0;g<u.length&&g<h.length;g++){const x=nr(u[g],h[g]);if(x!==0)return x}return nr(u.length,h.length)})(r.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=nr(Rn(o.latitude),Rn(l.latitude));return u!==0?u:nr(Rn(o.longitude),Rn(l.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return zN(r.arrayValue,e.arrayValue);case 10:return(function(o,l){var v,N,T,I;const u=o.fields||{},h=l.fields||{},g=(v=u[uf])==null?void 0:v.arrayValue,x=(N=h[uf])==null?void 0:N.arrayValue,p=nr(((T=g==null?void 0:g.values)==null?void 0:T.length)||0,((I=x==null?void 0:x.values)==null?void 0:I.length)||0);return p!==0?p:zN(g,x)})(r.mapValue,e.mapValue);case 11:return(function(o,l){if(o===ou.mapValue&&l===ou.mapValue)return 0;if(o===ou.mapValue)return 1;if(l===ou.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),g=l.fields||{},x=Object.keys(g);h.sort(),x.sort();for(let p=0;p<h.length&&p<x.length;++p){const v=Ey(h[p],x[p]);if(v!==0)return v;const N=_u(u[h[p]],g[x[p]]);if(N!==0)return N}return nr(h.length,x.length)})(r.mapValue,e.mapValue);default:throw Ct(23264,{he:t})}}function KN(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return nr(r,e);const t=sc(r),n=sc(e),s=nr(t.seconds,n.seconds);return s!==0?s:nr(t.nanos,n.nanos)}function zN(r,e){const t=r.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const o=_u(t[s],n[s]);if(o)return o}return nr(t.length,n.length)}function df(r){return Fy(r)}function Fy(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=sc(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return ac(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return ht.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",s=!0;for(const o of t.values||[])s?s=!1:n+=",",n+=Fy(o);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const l of n)o?o=!1:s+=",",s+=`${l}:${Fy(t.fields[l])}`;return s+"}"})(r.mapValue):Ct(61005,{value:r})}function Kp(r){switch(Cu(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cx(r);return e?16+Kp(e):16;case 5:return 2*r.stringValue.length;case 6:return ac(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,o)=>s+Kp(o)),0)})(r.arrayValue);case 10:case 11:return(function(n){let s=0;return Lu(n.fields,((o,l)=>{s+=o.length+Kp(l)})),s})(r.mapValue);default:throw Ct(13486,{value:r})}}function Eg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Qy(r){return!!r&&"integerValue"in r}function Sg(r){return!!r&&"arrayValue"in r}function qN(r){return!!r&&"nullValue"in r}function GN(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zp(r){return!!r&&"mapValue"in r}function ux(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[lv])==null?void 0:n.stringValue)===cv}function J0(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Lu(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=J0(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=J0(r.arrayValue.values[t]);return e}return{...r}}function _S(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===CS}const ES={mapValue:{fields:{[lv]:{stringValue:cv},[uf]:{arrayValue:{}}}}};function c9(r){return"nullValue"in r?Vp:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Eg(_d.empty(),ht.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?ux(r)?ES:{mapValue:{}}:Ct(35942,{value:r})}function u9(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Eg(_d.empty(),ht.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?ES:"mapValue"in r?ux(r)?{mapValue:{}}:ou:Ct(61959,{value:r})}function XN(r,e){const t=_u(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function $N(r,e){const t=_u(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.value=e}static empty(){return new ka({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=J0(t)}setAll(e){let t=qn.emptyPath(),n={},s=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,n,s),n={},s=[],t=u.popLast()}l?n[u.lastSegment()]=J0(l):s.push(u.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,s)}delete(e){const t=this.field(e.popLast());zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ul(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];zp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){Lu(t,((s,o)=>e[s]=o));for(const s of n)delete e[s]}clone(){return new ka(J0(this.value))}}function SS(r){const e=[];return Lu(r.fields,((t,n)=>{const s=new qn([t]);if(zp(n)){const o=SS(n.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new _i(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,t,n,s,o,l,u){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Wn(e,0,Kt.min(),Kt.min(),Kt.min(),ka.empty(),0)}static newFoundDocument(e,t,n,s){return new Wn(e,1,t,Kt.min(),n,s,0)}static newNoDocument(e,t){return new Wn(e,2,t,Kt.min(),Kt.min(),ka.empty(),0)}static newUnknownDocument(e,t){return new Wn(e,3,t,Kt.min(),Kt.min(),ka.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ka.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ka.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t){this.position=e,this.inclusive=t}}function YN(r,e,t){let n=0;for(let s=0;s<r.position.length;s++){const o=e[s],l=r.position[s];if(o.field.isKeyField()?n=ht.comparator(ht.fromName(l.referenceValue),t.key):n=_u(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function WN(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ul(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t="asc"){this.field=e,this.dir=t}}function d9(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{}class _r extends IS{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new h9(e,t,n):t==="array-contains"?new m9(e,n):t==="in"?new LS(e,n):t==="not-in"?new p9(e,n):t==="array-contains-any"?new x9(e,n):new _r(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new f9(e,n):new g9(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(_u(t,this.value)):t!==null&&Cu(this.value)===Cu(t)&&this.matchesComparison(_u(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class en extends IS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new en(e,t)}matches(e){return ff(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ff(r){return r.op==="and"}function Ly(r){return r.op==="or"}function uv(r){return jS(r)&&ff(r)}function jS(r){for(const e of r.filters)if(e instanceof en)return!1;return!0}function ky(r){if(r instanceof _r)return r.field.canonicalString()+r.op.toString()+df(r.value);if(uv(r))return r.filters.map((e=>ky(e))).join(",");{const e=r.filters.map((t=>ky(t))).join(",");return`${r.op}(${e})`}}function TS(r,e){return r instanceof _r?(function(n,s){return s instanceof _r&&n.op===s.op&&n.field.isEqual(s.field)&&ul(n.value,s.value)})(r,e):r instanceof en?(function(n,s){return s instanceof en&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((o,l,u)=>o&&TS(l,s.filters[u])),!0):!1})(r,e):void Ct(19439)}function US(r,e){const t=r.filters.concat(e);return en.create(t,r.op)}function FS(r){return r instanceof _r?(function(t){return`${t.field.canonicalString()} ${t.op} ${df(t.value)}`})(r):r instanceof en?(function(t){return t.op.toString()+" {"+t.getFilters().map(FS).join(" ,")+"}"})(r):"Filter"}class h9 extends _r{constructor(e,t,n){super(e,t,n),this.key=ht.fromName(n.referenceValue)}matches(e){const t=ht.comparator(e.key,this.key);return this.matchesComparison(t)}}class f9 extends _r{constructor(e,t){super(e,"in",t),this.keys=QS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class g9 extends _r{constructor(e,t){super(e,"not-in",t),this.keys=QS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function QS(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((n=>ht.fromName(n.referenceValue)))}class m9 extends _r{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sg(t)&&_g(t.arrayValue,this.value)}}class LS extends _r{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_g(this.value.arrayValue,t)}}class p9 extends _r{constructor(e,t){super(e,"not-in",t)}matches(e){if(_g(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_g(this.value.arrayValue,t)}}class x9 extends _r{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>_g(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,t=null,n=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function Ry(r,e=null,t=[],n=[],s=null,o=null,l=null){return new b9(r,e,t,n,s,o,l)}function Ed(r){const e=Tt(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>ky(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),ix(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>df(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>df(n))).join(",")),e.Te=t}return e.Te}function Gg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!d9(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!TS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!WN(r.startAt,e.startAt)&&WN(r.endAt,e.endAt)}function w1(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function v1(r,e){return r.filters.filter((t=>t instanceof _r&&t.field.isEqual(e)))}function JN(r,e,t){let n=Vp,s=!0;for(const o of v1(r,e)){let l=Vp,u=!0;switch(o.op){case"<":case"<=":l=c9(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,u=!1;break;case"!=":case"not-in":l=Vp}XN({value:n,inclusive:s},{value:l,inclusive:u})<0&&(n=l,s=u)}if(t!==null){for(let o=0;o<r.orderBy.length;++o)if(r.orderBy[o].field.isEqual(e)){const l=t.position[o];XN({value:n,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(n=l,s=t.inclusive);break}}return{value:n,inclusive:s}}function ZN(r,e,t){let n=ou,s=!0;for(const o of v1(r,e)){let l=ou,u=!0;switch(o.op){case">=":case">":l=u9(o.value),u=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,u=!1;break;case"!=":case"not-in":l=ou}$N({value:n,inclusive:s},{value:l,inclusive:u})>0&&(n=l,s=u)}if(t!==null){for(let o=0;o<r.orderBy.length;++o)if(r.orderBy[o].field.isEqual(e)){const l=t.position[o];$N({value:n,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(n=l,s=t.inclusive);break}}return{value:n,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t=null,n=[],s=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kS(r,e,t,n,s,o,l,u){return new Tf(r,e,t,n,s,o,l,u)}function Xg(r){return new Tf(r)}function e3(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function RS(r){return r.collectionGroup!==null}function Z0(r){const e=Tt(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new nn(qn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((g=>{g.isInequality()&&(u=u.add(g.field))}))})),u})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Ig(o,n))})),t.has(qn.keyField().canonicalString())||e.Ie.push(new Ig(qn.keyField(),n))}return e.Ie}function Zi(r){const e=Tt(r);return e.Ee||(e.Ee=y9(e,Z0(r))),e.Ee}function y9(r,e){if(r.limitType==="F")return Ry(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Ig(s.field,o)}));const t=r.endAt?new hf(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new hf(r.startAt.position,r.startAt.inclusive):null;return Ry(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Dy(r,e){const t=r.filters.concat([e]);return new Tf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function B1(r,e,t){return new Tf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function dx(r,e){return Gg(Zi(r),Zi(e))&&r.limitType===e.limitType}function DS(r){return`${Ed(Zi(r))}|lt:${r.limitType}`}function Qh(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((s=>FS(s))).join(", ")}]`),ix(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>df(s))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>df(s))).join(",")),`Target(${n})`})(Zi(r))}; limitType=${r.limitType})`}function $g(r,e){return e.isFoundDocument()&&(function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ht.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(r,e)&&(function(n,s){for(const o of Z0(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(r,e)&&(function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0})(r,e)&&(function(n,s){return!(n.startAt&&!(function(l,u,h){const g=YN(l,u,h);return l.inclusive?g<=0:g<0})(n.startAt,Z0(n),s)||n.endAt&&!(function(l,u,h){const g=YN(l,u,h);return l.inclusive?g>=0:g>0})(n.endAt,Z0(n),s))})(r,e)}function MS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function OS(r){return(e,t)=>{let n=!1;for(const s of Z0(r)){const o=w9(s,e,t);if(o!==0)return o;n=n||s.field.isKeyField()}return 0}}function w9(r,e,t){const n=r.field.isKeyField()?ht.comparator(e.key,t.key):(function(o,l,u){const h=l.data.field(o),g=u.data.field(o);return h!==null&&g!==null?_u(h,g):Ct(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ct(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,o]of n)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Lu(this.inner,((t,n)=>{for(const[s,o]of n)e(s,o)}))}isEmpty(){return bS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=new bn(ht.comparator);function Wi(){return v9}const PS=new bn(ht.comparator);function L0(...r){let e=PS;for(const t of r)e=e.insert(t.key,t);return e}function HS(r){let e=PS;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function JA(){return eg()}function VS(){return eg()}function eg(){return new lc((r=>r.toString()),((r,e)=>r.isEqual(e)))}const B9=new bn(ht.comparator),N9=new nn(ht.comparator);function gr(...r){let e=N9;for(const t of r)e=e.add(t);return e}const C9=new nn(nr);function dv(){return C9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wg(e)?"-0":e}}function KS(r){return{integerValue:""+r}}function zS(r,e){return AS(e)?KS(e):hv(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this._=void 0}}function _9(r,e,t){return r instanceof gf?(function(s,o){const l={fields:{[vS]:{stringValue:wS},[NS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Av(o)&&(o=cx(o)),o&&(l.fields[BS]=o),{mapValue:l}})(t,e):r instanceof mf?GS(r,e):r instanceof pf?XS(r,e):(function(s,o){const l=qS(s,o),u=t3(l)+t3(s.Ae);return Qy(l)&&Qy(s.Ae)?KS(u):hv(s.serializer,u)})(r,e)}function E9(r,e,t){return r instanceof mf?GS(r,e):r instanceof pf?XS(r,e):t}function qS(r,e){return r instanceof xf?(function(n){return Qy(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class gf extends hx{}class mf extends hx{constructor(e){super(),this.elements=e}}function GS(r,e){const t=$S(e);for(const n of r.elements)t.some((s=>ul(s,n)))||t.push(n);return{arrayValue:{values:t}}}class pf extends hx{constructor(e){super(),this.elements=e}}function XS(r,e){let t=$S(e);for(const n of r.elements)t=t.filter((s=>!ul(s,n)));return{arrayValue:{values:t}}}class xf extends hx{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function t3(r){return Rn(r.integerValue||r.doubleValue)}function $S(r){return Sg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,t){this.field=e,this.transform=t}}function S9(r,e){return r.field.isEqual(e.field)&&(function(n,s){return n instanceof mf&&s instanceof mf||n instanceof pf&&s instanceof pf?sf(n.elements,s.elements,ul):n instanceof xf&&s instanceof xf?ul(n.Ae,s.Ae):n instanceof gf&&s instanceof gf})(r.transform,e.transform)}class I9{constructor(e,t){this.version=e,this.transformResults=t}}class Qs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qs}static exists(e){return new Qs(void 0,e)}static updateTime(e){return new Qs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qp(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class fx{}function YS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Yg(r.key,Qs.none()):new Uf(r.key,r.data,Qs.none());{const t=r.data,n=ka.empty();let s=new nn(qn.comparator);for(let o of e.fields)if(!s.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),s=s.add(o)}return new cc(r.key,n,new _i(s.toArray()),Qs.none())}}function j9(r,e,t){r instanceof Uf?(function(s,o,l){const u=s.value.clone(),h=n3(s.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(r,e,t):r instanceof cc?(function(s,o,l){if(!qp(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=n3(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(WS(s)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(r,e,t):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function tg(r,e,t,n){return r instanceof Uf?(function(o,l,u,h){if(!qp(o.precondition,l))return u;const g=o.value.clone(),x=s3(o.fieldTransforms,h,l);return g.setAll(x),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),null})(r,e,t,n):r instanceof cc?(function(o,l,u,h){if(!qp(o.precondition,l))return u;const g=s3(o.fieldTransforms,h,l),x=l.data;return x.setAll(WS(o)),x.setAll(g),l.convertToFoundDocument(l.version,x).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(r,e,t,n):(function(o,l,u){return qp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(r,e,t)}function T9(r,e){let t=null;for(const n of r.fieldTransforms){const s=e.data.field(n.field),o=qS(n.transform,s||null);o!=null&&(t===null&&(t=ka.empty()),t.set(n.field,o))}return t||null}function r3(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&sf(n,s,((o,l)=>S9(o,l)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Uf extends fx{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class cc extends fx{constructor(e,t,n,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function WS(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function n3(r,e,t){const n=new Map;Rt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let s=0;s<t.length;s++){const o=r[s],l=o.transform,u=e.data.field(o.field);n.set(o.field,E9(l,u,t[s]))}return n}function s3(r,e,t){const n=new Map;for(const s of r){const o=s.transform,l=t.data.field(s.field);n.set(s.field,_9(o,l,e))}return n}class Yg extends fx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JS extends fx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&j9(o,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=tg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=tg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=VS();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(s.key)?null:u;const h=YS(l,u);h!==null&&n.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Kt.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),gr())}isEqual(e){return this.batchId===e.batchId&&sf(this.mutations,e.mutations,((t,n)=>r3(t,n)))&&sf(this.baseMutations,e.baseMutations,((t,n)=>r3(t,n)))}}class mv{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){Rt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let s=(function(){return B9})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,n[l].version);return new mv(e,t,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bs,Lr;function F9(r){switch(r){case Ve.OK:return Ct(64938);case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return Ct(15467,{code:r})}}function ZS(r){if(r===void 0)return as("GRPC error has no .code"),Ve.UNKNOWN;switch(r){case bs.OK:return Ve.OK;case bs.CANCELLED:return Ve.CANCELLED;case bs.UNKNOWN:return Ve.UNKNOWN;case bs.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case bs.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case bs.INTERNAL:return Ve.INTERNAL;case bs.UNAVAILABLE:return Ve.UNAVAILABLE;case bs.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case bs.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case bs.NOT_FOUND:return Ve.NOT_FOUND;case bs.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case bs.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case bs.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case bs.ABORTED:return Ve.ABORTED;case bs.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case bs.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case bs.DATA_LOSS:return Ve.DATA_LOSS;default:return Ct(39323,{code:r})}}(Lr=bs||(bs={}))[Lr.OK=0]="OK",Lr[Lr.CANCELLED=1]="CANCELLED",Lr[Lr.UNKNOWN=2]="UNKNOWN",Lr[Lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lr[Lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lr[Lr.NOT_FOUND=5]="NOT_FOUND",Lr[Lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lr[Lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lr[Lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lr[Lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lr[Lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lr[Lr.ABORTED=10]="ABORTED",Lr[Lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lr[Lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lr[Lr.INTERNAL=13]="INTERNAL",Lr[Lr.UNAVAILABLE=14]="UNAVAILABLE",Lr[Lr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=new xu([4294967295,4294967295],0);function a3(r){const e=Q9().encode(r),t=new GE;return t.update(e),new Uint8Array(t.digest())}function i3(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xu([t,n],0),new xu([s,o],0)]}class xv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new k0(`Invalid padding: ${t}`);if(n<0)throw new k0(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new k0(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new k0(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=xu.fromNumber(this.ge)}ye(e,t,n){let s=e.add(t.multiply(xu.fromNumber(n)));return s.compare(L9)===1&&(s=new xu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=a3(e),[n,s]=i3(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(n,s,o);if(!this.we(l))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new xv(o,s,t);return n.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=a3(e),[n,s]=i3(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(n,s,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class k0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t,n,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,Jg.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wg(Kt.min(),s,new bn(nr),Wi(),gr())}}class Jg{constructor(e,t,n,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Jg(n,t,gr(),gr(),gr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,t,n,s){this.be=e,this.removedTargetIds=t,this.key=n,this.De=s}}class eI{constructor(e,t){this.targetId=e,this.Ce=t}}class tI{constructor(e,t,n=os.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class o3{constructor(){this.ve=0,this.Fe=A3(),this.Me=os.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=gr(),t=gr(),n=gr();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:Ct(38017,{changeType:o})}})),new Jg(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=A3()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class k9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wi(),this.Je=rp(),this.He=rp(),this.Ye=new bn(nr)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ct(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,n=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(w1(o))if(n===0){const l=new ht(o.path);this.et(t,l,Wn.newNoDocument(l,Kt.min()))}else Rt(n===1,20013,{expectedCount:n});else{const l=this._t(t);if(l!==n){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(t);const g=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:o=0}=t;let l,u;try{l=ac(n).toUint8Array()}catch(h){if(h instanceof yS)return bg("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new xv(l,s,o)}catch(h){return bg(h instanceof k0?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let s=0;return n.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&w1(u.target)){const h=new ht(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Wn.newNoDocument(h,e))}o.Be&&(t.set(l,o.ke()),o.qe())}}));let n=gr();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((h=>{const g=this.ot(h);return!g||g.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(n=n.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const s=new Wg(e,t,this.Ye,this.je,n);return this.je=Wi(),this.Je=rp(),this.He=rp(),this.Ye=new bn(nr),s}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new o3,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new nn(nr),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new nn(nr),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||nt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new o3),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rp(){return new bn(ht.comparator)}function A3(){return new bn(ht.comparator)}const R9={asc:"ASCENDING",desc:"DESCENDING"},D9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M9={and:"AND",or:"OR"};class O9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function My(r,e){return r.useProto3Json||ix(e)?e:{value:e}}function bf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rI(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function P9(r,e){return bf(r,e.toTimestamp())}function ti(r){return Rt(!!r,49232),Kt.fromTimestamp((function(t){const n=sc(t);return new Zr(n.seconds,n.nanos)})(r))}function bv(r,e){return Oy(r,e).canonicalString()}function Oy(r,e){const t=(function(s){return new Gr(["projects",s.projectId,"databases",s.database])})(r).child("documents");return e===void 0?t:t.child(e)}function nI(r){const e=Gr.fromString(r);return Rt(dI(e),10190,{key:e.toString()}),e}function N1(r,e){return bv(r.databaseId,e.path)}function md(r,e){const t=nI(e);if(t.get(1)!==r.databaseId.projectId)throw new at(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new at(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ht(iI(t))}function sI(r,e){return bv(r.databaseId,e)}function aI(r){const e=nI(r);return e.length===4?Gr.emptyPath():iI(e)}function Py(r){return new Gr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function iI(r){return Rt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function l3(r,e,t){return{name:N1(r,e),fields:t.value.mapValue.fields}}function H9(r,e,t){const n=md(r,e.name),s=ti(e.updateTime),o=e.createTime?ti(e.createTime):Kt.min(),l=new ka({mapValue:{fields:e.fields}}),u=Wn.newFoundDocument(n,s,o,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function V9(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ct(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(g,x){return g.useProto3Json?(Rt(x===void 0||typeof x=="string",58123),os.fromBase64String(x||"")):(Rt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),os.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(g){const x=g.code===void 0?Ve.UNKNOWN:ZS(g.code);return new at(x,g.message||"")})(l);t=new tI(n,s,o,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=md(r,n.document.name),o=ti(n.document.updateTime),l=n.document.createTime?ti(n.document.createTime):Kt.min(),u=new ka({mapValue:{fields:n.document.fields}}),h=Wn.newFoundDocument(s,o,l,u),g=n.targetIds||[],x=n.removedTargetIds||[];t=new Gp(g,x,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=md(r,n.document),o=n.readTime?ti(n.readTime):Kt.min(),l=Wn.newNoDocument(s,o),u=n.removedTargetIds||[];t=new Gp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=md(r,n.document),o=n.removedTargetIds||[];t=new Gp([],o,s,null)}else{if(!("filter"in e))return Ct(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:o}=n,l=new U9(s,o),u=n.targetId;t=new eI(u,l)}}return t}function C1(r,e){let t;if(e instanceof Uf)t={update:l3(r,e.key,e.value)};else if(e instanceof Yg)t={delete:N1(r,e.key)};else if(e instanceof cc)t={update:l3(r,e.key,e.data),updateMask:$9(e.fieldMask)};else{if(!(e instanceof JS))return Ct(16599,{Vt:e.type});t={verify:N1(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(o,l){const u=l.transform;if(u instanceof gf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof mf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof pf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof xf)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ct(20930,{transform:l.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:P9(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ct(27497)})(r,e.precondition)),t}function Hy(r,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?Qs.updateTime(ti(o.updateTime)):o.exists!==void 0?Qs.exists(o.exists):Qs.none()})(e.currentDocument):Qs.none(),n=e.updateTransforms?e.updateTransforms.map((s=>(function(l,u){let h=null;if("setToServerValue"in u)Rt(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),h=new gf;else if("appendMissingElements"in u){const x=u.appendMissingElements.values||[];h=new mf(x)}else if("removeAllFromArray"in u){const x=u.removeAllFromArray.values||[];h=new pf(x)}else"increment"in u?h=new xf(l,u.increment):Ct(16584,{proto:u});const g=qn.fromServerFormat(u.fieldPath);return new fv(g,h)})(r,s))):[];if(e.update){e.update.name;const s=md(r,e.update.name),o=new ka({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(h){const g=h.fieldPaths||[];return new _i(g.map((x=>qn.fromServerFormat(x))))})(e.updateMask);return new cc(s,o,l,t,n)}return new Uf(s,o,t,n)}if(e.delete){const s=md(r,e.delete);return new Yg(s,t)}if(e.verify){const s=md(r,e.verify);return new JS(s,t)}return Ct(1463,{proto:e})}function K9(r,e){return r&&r.length>0?(Rt(e!==void 0,14353),r.map((t=>(function(s,o){let l=s.updateTime?ti(s.updateTime):ti(o);return l.isEqual(Kt.min())&&(l=ti(o)),new I9(l,s.transformResults||[])})(t,e)))):[]}function oI(r,e){return{documents:[sI(r,e.path)]}}function AI(r,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=sI(r,s);const o=(function(g){if(g.length!==0)return uI(en.create(g,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const l=(function(g){if(g.length!==0)return g.map((x=>(function(v){return{field:Lh(v.field),direction:q9(v.dir)}})(x)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=My(r,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:s}}function lI(r){let e=aI(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){Rt(n===1,65062);const x=t.from[0];x.allDescendants?s=x.collectionId:e=e.child(x.collectionId)}let o=[];t.where&&(o=(function(p){const v=cI(p);return v instanceof en&&uv(v)?v.getFilters():[v]})(t.where));let l=[];t.orderBy&&(l=(function(p){return p.map((v=>(function(T){return new Ig(kh(T.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(t.orderBy));let u=null;t.limit&&(u=(function(p){let v;return v=typeof p=="object"?p.value:p,ix(v)?null:v})(t.limit));let h=null;t.startAt&&(h=(function(p){const v=!!p.before,N=p.values||[];return new hf(N,v)})(t.startAt));let g=null;return t.endAt&&(g=(function(p){const v=!p.before,N=p.values||[];return new hf(N,v)})(t.endAt)),kS(e,s,l,o,u,"F",h,g)}function z9(r,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cI(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=kh(t.unaryFilter.field);return _r.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=kh(t.unaryFilter.field);return _r.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=kh(t.unaryFilter.field);return _r.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=kh(t.unaryFilter.field);return _r.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}})(r):r.fieldFilter!==void 0?(function(t){return _r.create(kh(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return en.create(t.compositeFilter.filters.map((n=>cI(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}})(t.compositeFilter.op))})(r):Ct(30097,{filter:r})}function q9(r){return R9[r]}function G9(r){return D9[r]}function X9(r){return M9[r]}function Lh(r){return{fieldPath:r.canonicalString()}}function kh(r){return qn.fromServerFormat(r.fieldPath)}function uI(r){return r instanceof _r?(function(t){if(t.op==="=="){if(GN(t.value))return{unaryFilter:{field:Lh(t.field),op:"IS_NAN"}};if(qN(t.value))return{unaryFilter:{field:Lh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(GN(t.value))return{unaryFilter:{field:Lh(t.field),op:"IS_NOT_NAN"}};if(qN(t.value))return{unaryFilter:{field:Lh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lh(t.field),op:G9(t.op),value:t.value}}})(r):r instanceof en?(function(t){const n=t.getFilters().map((s=>uI(s)));return n.length===1?n[0]:{compositeFilter:{op:X9(t.op),filters:n}}})(r):Ct(54877,{filter:r})}function $9(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function dI(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,t,n,s,o=Kt.min(),l=Kt.min(),u=os.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.yt=e}}function Y9(r,e){let t;if(e.document)t=H9(r.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=ht.fromSegments(e.noDocument.path),s=Id(e.noDocument.readTime);t=Wn.newNoDocument(n,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ct(56709);{const n=ht.fromSegments(e.unknownDocument.path),s=Id(e.unknownDocument.version);t=Wn.newUnknownDocument(n,s)}}return e.readTime&&t.setReadTime((function(s){const o=new Zr(s[0],s[1]);return Kt.fromTimestamp(o)})(e.readTime)),t}function c3(r,e){const t=e.key,n={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:_1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=(function(o,l){return{name:N1(o,l.key),fields:l.data.value.mapValue.fields,updateTime:bf(o,l.version.toTimestamp()),createTime:bf(o,l.createTime.toTimestamp())}})(r.yt,e);else if(e.isNoDocument())n.noDocument={path:t.path.toArray(),readTime:Sd(e.version)};else{if(!e.isUnknownDocument())return Ct(57904,{document:e});n.unknownDocument={path:t.path.toArray(),version:Sd(e.version)}}return n}function _1(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Sd(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Id(r){const e=new Zr(r.seconds,r.nanoseconds);return Kt.fromTimestamp(e)}function id(r,e){const t=(e.baseMutations||[]).map((o=>Hy(r.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const u=e.mutations[o+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const n=e.mutations.map((o=>Hy(r.yt,o))),s=Zr.fromMillis(e.localWriteTimeMs);return new gv(e.batchId,s,t,n)}function R0(r){const e=Id(r.readTime),t=r.lastLimboFreeSnapshotVersion!==void 0?Id(r.lastLimboFreeSnapshotVersion):Kt.min();let n;return n=(function(o){return o.documents!==void 0})(r.query)?(function(o){const l=o.documents.length;return Rt(l===1,1966,{count:l}),Zi(Xg(aI(o.documents[0])))})(r.query):(function(o){return Zi(lI(o))})(r.query),new Yl(n,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,os.fromBase64String(r.resumeToken))}function fI(r,e){const t=Sd(e.snapshotVersion),n=Sd(e.lastLimboFreeSnapshotVersion);let s;s=w1(e.target)?oI(r.yt,e.target):AI(r.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ed(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:s}}function gI(r){const e=lI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?B1(e,e.limit,"L"):e}function g2(r,e){return new pv(e.largestBatchId,Hy(r.yt,e.overlayMutation))}function u3(r,e){const t=e.path.lastSegment();return[r,Oa(e.path.popLast()),t]}function d3(r,e,t,n){return{indexId:r,uid:e,sequenceNumber:t,readTime:Sd(n.readTime),documentKey:Oa(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{getBundleMetadata(e,t){return h3(e).get(t).next((n=>{if(n)return(function(o){return{id:o.bundleId,createTime:Id(o.createTime),version:o.version}})(n)}))}saveBundleMetadata(e,t){return h3(e).put((function(s){return{bundleId:s.id,createTime:Sd(ti(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return f3(e).get(t).next((n=>{if(n)return(function(o){return{name:o.name,query:gI(o.bundledQuery),readTime:Id(o.readTime)}})(n)}))}saveNamedQuery(e,t){return f3(e).put((function(s){return{name:s.name,readTime:Sd(ti(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function h3(r){return Rs(r,ox)}function f3(r){return Rs(r,Ax)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const n=t.uid||"";return new gx(e,n)}getOverlay(e,t){return y0(e).get(u3(this.userId,t)).next((n=>n?g2(this.serializer,n):null))}getOverlays(e,t){const n=JA();return Ie.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&n.set(s,o)})))).next((()=>n))}saveOverlays(e,t,n){const s=[];return n.forEach(((o,l)=>{const u=new pv(t,l);s.push(this.St(e,u))})),Ie.waitFor(s)}removeOverlaysForBatchId(e,t,n){const s=new Set;t.forEach((l=>s.add(Oa(l.getCollectionPath()))));const o=[];return s.forEach((l=>{const u=IDBKeyRange.bound([this.userId,l,n],[this.userId,l,n+1],!1,!0);o.push(y0(e).Z(Ty,u))})),Ie.waitFor(o)}getOverlaysForCollection(e,t,n){const s=JA(),o=Oa(t),l=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return y0(e).J(Ty,l).next((u=>{for(const h of u){const g=g2(this.serializer,h);s.set(g.getKey(),g)}return s}))}getOverlaysForCollectionGroup(e,t,n,s){const o=JA();let l;const u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return y0(e).ee({index:fS,range:u},((h,g,x)=>{const p=g2(this.serializer,g);o.size()<s||p.largestBatchId===l?(o.set(p.getKey(),p),l=p.largestBatchId):x.done()})).next((()=>o))}St(e,t){return y0(e).put((function(s,o,l){const[u,h,g]=u3(o,l.mutation.key);return{userId:o,collectionPath:h,documentId:g,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:C1(s.yt,l.mutation)}})(this.serializer,this.userId,t))}}function y0(r){return Rs(r,lx)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{bt(e){return Rs(e,iv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const n=t==null?void 0:t.value;return n?os.fromUint8Array(n):os.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Rn(e.integerValue));else if("doubleValue"in e){const n=Rn(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),wg(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),typeof n=="string"&&(n=sc(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ac(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?_S(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ux(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Ct(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const s of Object.keys(n))this.Ot(s,t),this.Ct(n[s],t)}kt(e,t){var l,u;const n=e.fields||{};this.Ft(t,53);const s=uf,o=((u=(l=n[s].arrayValue)==null?void 0:l.values)==null?void 0:u.length)||0;this.Ft(t,15),t.Mt(Rn(o)),this.Ot(s,t),this.Ct(n[s],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const s of n)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),ht.fromName(e).path.forEach((n=>{this.Ft(t,60),this.Ut(n,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}od.Kt=new od;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=255;function Z9(r){if(r===0)return 8;let e=0;return r>>4||(e+=4,r<<=4),r>>6||(e+=2,r<<=2),r>>7||(e+=1),e}function g3(r){const e=64-(function(n){let s=0;for(let o=0;o<8;++o){const l=Z9(255&n[o]);if(s+=l,l!==8)break}return s})(r);return Math.ceil(e/8)}class eD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Ht()}Yt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Gt(n);else if(n<2048)this.Gt(960|n>>>6),this.Gt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|n>>>12),this.Gt(128|63&n>>>6),this.Gt(128|63&n);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),n=g3(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let s=t.length-n;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),n=g3(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let s=t.length-n;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(wh),this.sn(255)}_n(){this.an(wh),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)})(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let s=1;s<t.length;++s)t[s]^=n?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===wh?(this.sn(wh),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===wh?(this.an(wh),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const s=new Uint8Array(n);s.set(this.buffer),this.buffer=s}}class tD{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class rD{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class w0{constructor(){this.cn=new eD,this.ln=new tD(this.cn),this.hn=new rD(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t,n,s){this.Tn=e,this.In=t,this.En=n,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,n=new Uint8Array(t);return n.set(this.dn,0),t!==e?n.set([0],this.dn.length):++n[n.length-1],new Ad(this.Tn,this.In,this.En,n)}Rn(e,t,n){return{indexId:this.Tn,uid:e,arrayValue:Xp(this.En),directionalValue:Xp(this.dn),orderedDocumentKey:Xp(t),documentKey:n.path.toArray()}}Vn(e,t,n){const s=this.Rn(e,t,n);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Xc(r,e){let t=r.Tn-e.Tn;return t!==0?t:(t=m3(r.En,e.En),t!==0?t:(t=m3(r.dn,e.dn),t!==0?t:ht.comparator(r.In,e.In)))}function m3(r,e){for(let t=0;t<r.length&&t<e.length;++t){const n=r[t]-e[t];if(n!==0)return n}return r.length-e.length}function Xp(r){return sE()?(function(t){let n="";for(let s=0;s<t.length;s++)n+=String.fromCharCode(t[s]);return n})(r):r}function p3(r){return typeof r!="string"?r:(function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n})(r)}class x3{constructor(e){this.mn=new nn(((t,n)=>qn.comparator(t.field,n.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const n=t;n.isInequality()?this.mn=this.mn.add(n):this.gn.push(n)}}get pn(){return this.mn.size>1}yn(e){if(Rt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=Sy(e);if(t!==void 0&&!this.wn(t))return!1;const n=td(e);let s=new Set,o=0,l=0;for(;o<n.length&&this.wn(n[o]);++o)s=s.add(n[o].fieldPath.canonicalString());if(o===n.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const h=n[o];if(!this.Sn(u,h)||!this.bn(this.fn[l++],h))return!1}++o}for(;o<n.length;++o){const u=n[o];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new nn(qn.comparator);const t=[];for(const n of this.gn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")t.push(new Op(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Op(n.field,0))}for(const n of this.fn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Op(n.field,n.dir==="asc"?0:1)));return new m1(m1.UNKNOWN_ID,this.collectionId,t,yg.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===n}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(r){var t,n;if(Rt(r instanceof _r||r instanceof en,20012),r instanceof _r){if(r instanceof LS){const s=((n=(t=r.value.arrayValue)==null?void 0:t.values)==null?void 0:n.map((o=>_r.create(r.field,"==",o))))||[];return en.create(s,"or")}return r}const e=r.filters.map((s=>mI(s)));return en.create(e,r.op)}function nD(r){if(r.getFilters().length===0)return[];const e=zy(mI(r));return Rt(pI(e),7391),Vy(e)||Ky(e)?[e]:e.getFilters()}function Vy(r){return r instanceof _r}function Ky(r){return r instanceof en&&uv(r)}function pI(r){return Vy(r)||Ky(r)||(function(t){if(t instanceof en&&Ly(t)){for(const n of t.getFilters())if(!Vy(n)&&!Ky(n))return!1;return!0}return!1})(r)}function zy(r){if(Rt(r instanceof _r||r instanceof en,34018),r instanceof _r)return r;if(r.filters.length===1)return zy(r.filters[0]);const e=r.filters.map((n=>zy(n)));let t=en.create(e,r.op);return t=E1(t),pI(t)?t:(Rt(t instanceof en,64498),Rt(ff(t),40251),Rt(t.filters.length>1,57927),t.filters.reduce(((n,s)=>yv(n,s))))}function yv(r,e){let t;return Rt(r instanceof _r||r instanceof en,38388),Rt(e instanceof _r||e instanceof en,25473),t=r instanceof _r?e instanceof _r?(function(s,o){return en.create([s,o],"and")})(r,e):b3(r,e):e instanceof _r?b3(e,r):(function(s,o){if(Rt(s.filters.length>0&&o.filters.length>0,48005),ff(s)&&ff(o))return US(s,o.getFilters());const l=Ly(s)?s:o,u=Ly(s)?o:s,h=l.filters.map((g=>yv(g,u)));return en.create(h,"or")})(r,e),E1(t)}function b3(r,e){if(ff(e))return US(e,r.getFilters());{const t=e.filters.map((n=>yv(r,n)));return en.create(t,"or")}}function E1(r){if(Rt(r instanceof _r||r instanceof en,11850),r instanceof _r)return r;const e=r.getFilters();if(e.length===1)return E1(e[0]);if(jS(r))return r;const t=e.map((s=>E1(s))),n=[];return t.forEach((s=>{s instanceof _r?n.push(s):s instanceof en&&(s.op===r.op?n.push(...s.filters):n.push(s))})),n.length===1?n[0]:en.create(n,r.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.Cn=new wv}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ie.resolve()}getCollectionParents(e,t){return Ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ie.resolve()}deleteFieldIndex(e,t){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,t){return Ie.resolve()}getDocumentsMatchingTarget(e,t){return Ie.resolve(null)}getIndexType(e,t){return Ie.resolve(0)}getFieldIndexes(e,t){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,t){return Ie.resolve(to.min())}getMinOffsetFromCollectionGroup(e,t){return Ie.resolve(to.min())}updateCollectionGroup(e,t,n){return Ie.resolve()}updateIndexEntries(e,t){return Ie.resolve()}}class wv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new nn(Gr.comparator),o=!s.has(n);return this.index[t]=s.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new nn(Gr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="IndexedDbIndexManager",np=new Uint8Array(0);class aD{constructor(e,t){this.databaseId=t,this.vn=new wv,this.Fn=new lc((n=>Ed(n)),((n,s)=>Gg(n,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const n=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const o={collectionId:n,parent:Oa(s)};return w3(e).put(o)}return Ie.resolve()}getCollectionParents(e,t){const n=[],s=IDBKeyRange.bound([t,""],[eS(t),""],!1,!0);return w3(e).J(s).next((o=>{for(const l of o){if(l.collectionId!==t)break;n.push(WA(l.parent))}return n}))}addFieldIndex(e,t){const n=v0(e),s=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((h=>[h.fieldPath.canonicalString(),h.kind]))}})(t);delete s.indexId;const o=n.add(s);if(t.indexState){const l=Bh(e);return o.next((u=>{l.put(d3(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const n=v0(e),s=Bh(e),o=vh(e);return n.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=v0(e),n=vh(e),s=Bh(e);return t.Z().next((()=>n.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return Ie.forEach(this.Mn(t),(n=>this.getIndexType(e,n).next((s=>{if(s===0||s===1){const o=new x3(n).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const n=vh(e);let s=!0;const o=new Map;return Ie.forEach(this.Mn(t),(l=>this.xn(e,l).next((u=>{s&&(s=!!u),o.set(l,u)})))).next((()=>{if(s){let l=gr();const u=[];return Ie.forEach(o,((h,g)=>{nt(y3,`Using index ${(function(K){return`id=${K.indexId}|cg=${K.collectionGroup}|f=${K.fields.map((se=>`${se.fieldPath}:${se.kind}`)).join(",")}`})(h)} to execute ${Ed(t)}`);const x=(function(K,se){const ae=Sy(se);if(ae===void 0)return null;for(const le of v1(K,ae.fieldPath))switch(le.op){case"array-contains-any":return le.value.arrayValue.values||[];case"array-contains":return[le.value]}return null})(g,h),p=(function(K,se){const ae=new Map;for(const le of td(se))for(const U of v1(K,le.fieldPath))switch(U.op){case"==":case"in":ae.set(le.fieldPath.canonicalString(),U.value);break;case"not-in":case"!=":return ae.set(le.fieldPath.canonicalString(),U.value),Array.from(ae.values())}return null})(g,h),v=(function(K,se){const ae=[];let le=!0;for(const U of td(se)){const S=U.kind===0?JN(K,U.fieldPath,K.startAt):ZN(K,U.fieldPath,K.startAt);ae.push(S.value),le&&(le=S.inclusive)}return new hf(ae,le)})(g,h),N=(function(K,se){const ae=[];let le=!0;for(const U of td(se)){const S=U.kind===0?ZN(K,U.fieldPath,K.endAt):JN(K,U.fieldPath,K.endAt);ae.push(S.value),le&&(le=S.inclusive)}return new hf(ae,le)})(g,h),T=this.On(h,g,v),I=this.On(h,g,N),O=this.Nn(h,g,p),R=this.Bn(h.indexId,x,T,v.inclusive,I,N.inclusive,O);return Ie.forEach(R,(P=>n.Y(P,t.limit).next((K=>{K.forEach((se=>{const ae=ht.fromSegments(se.documentKey);l.has(ae)||(l=l.add(ae),u.push(ae))}))}))))})).next((()=>u))}return Ie.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=nD(en.create(e.filters,"and")).map((n=>Ry(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,n,s,o,l,u){const h=(t!=null?t.length:1)*Math.max(n.length,o.length),g=h/(t!=null?t.length:1),x=[];for(let p=0;p<h;++p){const v=t?this.Ln(t[p/g]):np,N=this.kn(e,v,n[p%g],s),T=this.qn(e,v,o[p%g],l),I=u.map((O=>this.kn(e,v,O,!0)));x.push(...this.createRange(N,T,I))}return x}kn(e,t,n,s){const o=new Ad(e,ht.empty(),t,n);return s?o:o.An()}qn(e,t,n,s){const o=new Ad(e,ht.empty(),t,n);return s?o.An():o}xn(e,t){const n=new x3(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((o=>{let l=null;for(const u of o)n.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l}))}getIndexType(e,t){let n=2;const s=this.Mn(t);return Ie.forEach(s,(o=>this.xn(e,o).next((l=>{l?n!==0&&l.fields.length<(function(h){let g=new nn(qn.comparator),x=!1;for(const p of h.filters)for(const v of p.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?x=!0:g=g.add(v.field));for(const p of h.orderBy)p.field.isKeyField()||(g=g.add(p.field));return g.size+(x?1:0)})(o)&&(n=1):n=0})))).next((()=>(function(l){return l.limit!==null})(t)&&s.length>1&&n===2?1:n))}Qn(e,t){const n=new w0;for(const s of td(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const l=n.Pn(s.kind);od.Kt.Dt(o,l)}return n.un()}Ln(e){const t=new w0;return od.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const n=new w0;return od.Kt.Dt(Eg(this.databaseId,t),n.Pn((function(o){const l=td(o);return l.length===0?0:l[l.length-1].kind})(e))),n.un()}Nn(e,t,n){if(n===null)return[];let s=[];s.push(new w0);let o=0;for(const l of td(e)){const u=n[o++];for(const h of s)if(this.Un(t,l.fieldPath)&&Sg(u))s=this.Kn(s,l,u);else{const g=h.Pn(l.kind);od.Kt.Dt(u,g)}}return this.Wn(s)}On(e,t,n){return this.Nn(e,t,n.position)}Wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Kn(e,t,n){const s=[...e],o=[];for(const l of n.arrayValue.values||[])for(const u of s){const h=new w0;h.seed(u.un()),od.Kt.Dt(l,h.Pn(t.kind)),o.push(h)}return o}Un(e,t){return!!e.filters.find((n=>n instanceof _r&&n.field.isEqual(t)&&(n.op==="in"||n.op==="not-in")))}getFieldIndexes(e,t){const n=v0(e),s=Bh(e);return(t?n.J(jy,IDBKeyRange.bound(t,t)):n.J()).next((o=>{const l=[];return Ie.forEach(o,(u=>s.get([u.indexId,this.uid]).next((h=>{l.push((function(x,p){const v=p?new yg(p.sequenceNumber,new to(Id(p.readTime),new ht(WA(p.documentKey)),p.largestBatchId)):yg.empty(),N=x.fields.map((([T,I])=>new Op(qn.fromServerFormat(T),I)));return new m1(x.indexId,x.collectionGroup,N,v)})(u,h))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((n,s)=>{const o=n.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:nr(n.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,n){const s=v0(e),o=Bh(e);return this.Gn(e).next((l=>s.J(jy,IDBKeyRange.bound(t,t)).next((u=>Ie.forEach(u,(h=>o.put(d3(h.indexId,this.uid,l,n))))))))}updateIndexEntries(e,t){const n=new Map;return Ie.forEach(t,((s,o)=>{const l=n.get(s.collectionGroup);return(l?Ie.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(n.set(s.collectionGroup,u),Ie.forEach(u,(h=>this.zn(e,s,h).next((g=>{const x=this.jn(o,h);return g.isEqual(x)?Ie.resolve():this.Jn(e,o,h,g,x)})))))))}))}Hn(e,t,n,s){return vh(e).put(s.Rn(this.uid,this.$n(n,t.key),t.key))}Yn(e,t,n,s){return vh(e).delete(s.Vn(this.uid,this.$n(n,t.key),t.key))}zn(e,t,n){const s=vh(e);let o=new nn(Xc);return s.ee({index:hS,range:IDBKeyRange.only([n.indexId,this.uid,Xp(this.$n(n,t))])},((l,u)=>{o=o.add(new Ad(n.indexId,t,p3(u.arrayValue),p3(u.directionalValue)))})).next((()=>o))}jn(e,t){let n=new nn(Xc);const s=this.Qn(t,e);if(s==null)return n;const o=Sy(t);if(o!=null){const l=e.data.field(o.fieldPath);if(Sg(l))for(const u of l.arrayValue.values||[])n=n.add(new Ad(t.indexId,e.key,this.Ln(u),s))}else n=n.add(new Ad(t.indexId,e.key,np,s));return n}Jn(e,t,n,s,o){nt(y3,"Updating index entries for document '%s'",t.key);const l=[];return(function(h,g,x,p,v){const N=h.getIterator(),T=g.getIterator();let I=yh(N),O=yh(T);for(;I||O;){let R=!1,P=!1;if(I&&O){const K=x(I,O);K<0?P=!0:K>0&&(R=!0)}else I!=null?P=!0:R=!0;R?(p(O),O=yh(T)):P?(v(I),I=yh(N)):(I=yh(N),O=yh(T))}})(s,o,Xc,(u=>{l.push(this.Hn(e,t,n,u))}),(u=>{l.push(this.Yn(e,t,n,u))})),Ie.waitFor(l)}Gn(e){let t=1;return Bh(e).ee({index:dS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((n,s,o)=>{o.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((l,u)=>Xc(l,u))).filter(((l,u,h)=>!u||Xc(l,h[u-1])!==0));const s=[];s.push(e);for(const l of n){const u=Xc(l,e),h=Xc(l,t);if(u===0)s[0]=e.An();else if(u>0&&h<0)s.push(l),s.push(l.An());else if(h>0)break}s.push(t);const o=[];for(let l=0;l<s.length;l+=2){if(this.Zn(s[l],s[l+1]))return[];const u=s[l].Vn(this.uid,np,ht.empty()),h=s[l+1].Vn(this.uid,np,ht.empty());o.push(IDBKeyRange.bound(u,h))}return o}Zn(e,t){return Xc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(v3)}getMinOffset(e,t){return Ie.mapArray(this.Mn(t),(n=>this.xn(e,n).next((s=>s||Ct(44426))))).next(v3)}}function w3(r){return Rs(r,Ng)}function vh(r){return Rs(r,W0)}function v0(r){return Rs(r,av)}function Bh(r){return Rs(r,Y0)}function v3(r){Rt(r.length!==0,28825);let e=r[0].indexState.offset,t=e.largestBatchId;for(let n=1;n<r.length;n++){const s=r[n].indexState.offset;rv(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new to(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xI=41943040;class Qa{static withCacheSize(e){return new Qa(e,Qa.DEFAULT_COLLECTION_PERCENTILE,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(r,e,t){const n=r.store(nA),s=r.store(of),o=[],l=IDBKeyRange.only(t.batchId);let u=0;const h=n.ee({range:l},((x,p,v)=>(u++,v.delete())));o.push(h.next((()=>{Rt(u===1,47070,{batchId:t.batchId})})));const g=[];for(const x of t.mutations){const p=lS(e,x.key.path,t.batchId);o.push(s.delete(p)),g.push(x.key)}return Ie.waitFor(o).next((()=>g))}function S1(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Ct(14731);e=r.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qa.DEFAULT_COLLECTION_PERCENTILE=10,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qa.DEFAULT=new Qa(xI,Qa.DEFAULT_COLLECTION_PERCENTILE,Qa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qa.DISABLED=new Qa(-1,0,0);class mx{constructor(e,t,n,s){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=s,this.Xn={}}static wt(e,t,n,s){Rt(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new mx(o,t,n,s)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $c(e).ee({index:ud,range:n},((s,o,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,n,s){const o=Rh(e),l=$c(e);return l.add({}).next((u=>{Rt(typeof u=="number",49019);const h=new gv(u,t,n,s),g=(function(N,T,I){const O=I.baseMutations.map((P=>C1(N.yt,P))),R=I.mutations.map((P=>C1(N.yt,P)));return{userId:T,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:O,mutations:R}})(this.serializer,this.userId,h),x=[];let p=new nn(((v,N)=>nr(v.canonicalString(),N.canonicalString())));for(const v of s){const N=lS(this.userId,v.key.path,u);p=p.add(v.key.path.popLast()),x.push(l.put(g)),x.push(o.put(N,DR))}return p.forEach((v=>{x.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=h.keys()})),Ie.waitFor(x).next((()=>h))}))}lookupMutationBatch(e,t){return $c(e).get(t).next((n=>n?(Rt(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:t}),id(this.serializer,n)):null))}er(e,t){return this.Xn[t]?Ie.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((n=>{if(n){const s=n.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=IDBKeyRange.lowerBound([this.userId,n]);let o=null;return $c(e).ee({index:ud,range:s},((l,u,h)=>{u.userId===this.userId&&(Rt(u.batchId>=n,47524,{tr:n}),o=id(this.serializer,u)),h.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=fd;return $c(e).ee({index:ud,range:t,reverse:!0},((s,o,l)=>{n=o.batchId,l.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,fd],[this.userId,Number.POSITIVE_INFINITY]);return $c(e).J(ud,t).next((n=>n.map((s=>id(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Pp(this.userId,t.path),s=IDBKeyRange.lowerBound(n),o=[];return Rh(e).ee({range:s},((l,u,h)=>{const[g,x,p]=l,v=WA(x);if(g===this.userId&&t.path.isEqual(v))return $c(e).get(p).next((N=>{if(!N)throw Ct(61480,{nr:l,batchId:p});Rt(N.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:N.userId,batchId:p}),o.push(id(this.serializer,N))}));h.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new nn(nr);const s=[];return t.forEach((o=>{const l=Pp(this.userId,o.path),u=IDBKeyRange.lowerBound(l),h=Rh(e).ee({range:u},((g,x,p)=>{const[v,N,T]=g,I=WA(N);v===this.userId&&o.path.isEqual(I)?n=n.add(T):p.done()}));s.push(h)})),Ie.waitFor(s).next((()=>this.rr(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1,o=Pp(this.userId,n),l=IDBKeyRange.lowerBound(o);let u=new nn(nr);return Rh(e).ee({range:l},((h,g,x)=>{const[p,v,N]=h,T=WA(v);p===this.userId&&n.isPrefixOf(T)?T.length===s&&(u=u.add(N)):x.done()})).next((()=>this.rr(e,u)))}rr(e,t){const n=[],s=[];return t.forEach((o=>{s.push($c(e).get(o).next((l=>{if(l===null)throw Ct(35274,{batchId:o});Rt(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:o}),n.push(id(this.serializer,l))})))})),Ie.waitFor(s).next((()=>n))}removeMutationBatch(e,t){return bI(e.le,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Ie.forEach(n,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Ie.resolve();const n=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),s=[];return Rh(e).ee({range:n},((o,l,u)=>{if(o[0]===this.userId){const h=WA(o[1]);s.push(h)}else u.done()})).next((()=>{Rt(s.length===0,56720,{sr:s.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return yI(e,this.userId,t)}_r(e){return wI(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:fd,lastStreamToken:""}))}}function yI(r,e,t){const n=Pp(e,t.path),s=n[1],o=IDBKeyRange.lowerBound(n);let l=!1;return Rh(r).ee({range:o,X:!0},((u,h,g)=>{const[x,p,v]=u;x===e&&p===s&&(l=!0),g.done()})).next((()=>l))}function $c(r){return Rs(r,nA)}function Rh(r){return Rs(r,of)}function wI(r){return Rs(r,vg)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jd(0)}static cr(){return new jd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const n=new jd(t.highestTargetId);return t.highestTargetId=n.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Kt.fromTimestamp(new Zr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,n&&(s.lastRemoteSnapshotVersion=n.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((n=>(n.targetCount+=1,this.Tr(t,n),this.hr(e,n))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Nh(e).delete(t.targetId))).next((()=>this.lr(e))).next((n=>(Rt(n.targetCount>0,8065),n.targetCount-=1,this.hr(e,n))))}removeTargets(e,t,n){let s=0;const o=[];return Nh(e).ee(((l,u)=>{const h=R0(u);h.sequenceNumber<=t&&n.get(h.targetId)===null&&(s++,o.push(this.removeTargetData(e,h)))})).next((()=>Ie.waitFor(o))).next((()=>s))}forEachTarget(e,t){return Nh(e).ee(((n,s)=>{const o=R0(s);t(o)}))}lr(e){return N3(e).get(b1).next((t=>(Rt(t!==null,2888),t)))}hr(e,t){return N3(e).put(b1,t)}Pr(e,t){return Nh(e).put(fI(this.serializer,t))}Tr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const n=Ed(t),s=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let o=null;return Nh(e).ee({range:s,index:uS},((l,u,h)=>{const g=R0(u);Gg(t,g.target)&&(o=g,h.done())})).next((()=>o))}addMatchingKeys(e,t,n){const s=[],o=iu(e);return t.forEach((l=>{const u=Oa(l.path);s.push(o.put({targetId:n,path:u})),s.push(this.referenceDelegate.addReference(e,n,l))})),Ie.waitFor(s)}removeMatchingKeys(e,t,n){const s=iu(e);return Ie.forEach(t,(o=>{const l=Oa(o.path);return Ie.waitFor([s.delete([n,l]),this.referenceDelegate.removeReference(e,n,o)])}))}removeMatchingKeysForTargetId(e,t){const n=iu(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(s)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),s=iu(e);let o=gr();return s.ee({range:n,X:!0},((l,u,h)=>{const g=WA(l[1]),x=new ht(g);o=o.add(x)})).next((()=>o))}containsKey(e,t){const n=Oa(t.path),s=IDBKeyRange.bound([n],[eS(n)],!1,!0);let o=0;return iu(e).ee({index:sv,X:!0,range:s},(([l,u],h,g)=>{l!==0&&(o++,g.done())})).next((()=>o>0))}At(e,t){return Nh(e).get(t).next((n=>n?R0(n):null))}}function Nh(r){return Rs(r,Af)}function N3(r){return Rs(r,gd)}function iu(r){return Rs(r,lf)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="LruGarbageCollector",vI=1048576;function _3([r,e],[t,n]){const s=nr(r,t);return s===0?nr(e,n):s}class oD{constructor(e){this.Ir=e,this.buffer=new nn(_3),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();_3(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BI{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){nt(C3,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qu(t)?nt(C3,"Ignoring IndexedDB error during garbage collection: ",t):await Fu(t)}await this.Vr(3e5)}))}}class AD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return Ie.resolve(Ci.ce);const n=new oD(t);return this.mr.forEachTarget(e,(s=>n.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>n.Ar(s))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(B3)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B3):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,s,o,l,u,h,g;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,l=Date.now(),this.nthSequenceNumber(e,s)))).next((p=>(n=p,u=Date.now(),this.removeTargets(e,n,t)))).next((p=>(o=p,h=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(g=Date.now(),Fh()<=Cr.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-x}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${p} documents in `+(g-h)+`ms
Total Duration: ${g-x}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:p}))))}}function NI(r,e){return new AD(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t){this.db=e,this.garbageCollector=NI(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((n=>t.next((s=>n+s))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((n,s)=>t(s)))}addReference(e,t,n){return sp(e,n)}removeReference(e,t,n){return sp(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return sp(e,t)}br(e,t){return(function(s,o){let l=!1;return wI(s).te((u=>yI(s,u,o).next((h=>(h&&(l=!0),Ie.resolve(!h)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.Sr(e,((l,u)=>{if(u<=t){const h=this.br(e,l).next((g=>{if(!g)return o++,n.getEntry(e,l).next((()=>(n.removeEntry(l,Kt.min()),iu(e).delete((function(p){return[0,Oa(p.path)]})(l)))))}));s.push(h)}})).next((()=>Ie.waitFor(s))).next((()=>n.apply(e))).next((()=>o))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return sp(e,t)}Sr(e,t){const n=iu(e);let s,o=Ci.ce;return n.ee({index:sv},(([l,u],{path:h,sequenceNumber:g})=>{l===0?(o!==Ci.ce&&t(new ht(WA(s)),o),o=g,s=h):o=Ci.ce})).next((()=>{o!==Ci.ce&&t(new ht(WA(s)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sp(r,e){return iu(r).put((function(n,s){return{targetId:0,path:Oa(n.path),sequenceNumber:s}})(e,r.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.changes=new lc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Ie.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Wu(e).put(n)}removeEntry(e,t,n){return Wu(e).delete((function(o,l){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],_1(l),u[u.length-1]]})(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Dr(e,n))))}getEntry(e,t){let n=Wn.newInvalidDocument(t);return Wu(e).ee({index:Hp,range:IDBKeyRange.only(B0(t))},((s,o)=>{n=this.Cr(t,o)})).next((()=>n))}vr(e,t){let n={size:0,document:Wn.newInvalidDocument(t)};return Wu(e).ee({index:Hp,range:IDBKeyRange.only(B0(t))},((s,o)=>{n={document:this.Cr(t,o),size:S1(o)}})).next((()=>n))}getEntries(e,t){let n=Wi();return this.Fr(e,t,((s,o)=>{const l=this.Cr(s,o);n=n.insert(s,l)})).next((()=>n))}Mr(e,t){let n=Wi(),s=new bn(ht.comparator);return this.Fr(e,t,((o,l)=>{const u=this.Cr(o,l);n=n.insert(o,u),s=s.insert(o,S1(l))})).next((()=>({documents:n,Or:s})))}Fr(e,t,n){if(t.isEmpty())return Ie.resolve();let s=new nn(I3);t.forEach((h=>s=s.add(h)));const o=IDBKeyRange.bound(B0(s.first()),B0(s.last())),l=s.getIterator();let u=l.getNext();return Wu(e).ee({index:Hp,range:o},((h,g,x)=>{const p=ht.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;u&&I3(u,p)<0;)n(u,null),u=l.getNext();u&&u.isEqual(p)&&(n(u,g),u=l.hasNext()?l.getNext():null),u?x.j(B0(u)):x.done()})).next((()=>{for(;u;)n(u,null),u=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,n,s,o){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),_1(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],h=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wu(e).J(IDBKeyRange.bound(u,h,!0)).next((g=>{o==null||o.incrementDocumentReadCount(g.length);let x=Wi();for(const p of g){const v=this.Cr(ht.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);v.isFoundDocument()&&($g(t,v)||s.has(v.key))&&(x=x.insert(v.key,v))}return x}))}getAllFromCollectionGroup(e,t,n,s){let o=Wi();const l=S3(t,n),u=S3(t,to.max());return Wu(e).ee({index:cS,range:IDBKeyRange.bound(l,u,!0)},((h,g,x)=>{const p=this.Cr(ht.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);o=o.insert(p.key,p),o.size===s&&x.done()})).next((()=>o))}newChangeBuffer(e){return new uD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return E3(e).get(Iy).next((t=>(Rt(!!t,20021),t)))}Dr(e,t){return E3(e).put(Iy,t)}Cr(e,t){if(t){const n=Y9(this.serializer,t);if(!(n.isNoDocument()&&n.version.isEqual(Kt.min())))return n}return Wn.newInvalidDocument(e)}}function _I(r){return new cD(r)}class uD extends CI{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new lc((n=>n.toString()),((n,s)=>n.isEqual(s)))}applyChanges(e){const t=[];let n=0,s=new nn(((o,l)=>nr(o.canonicalString(),l.canonicalString())));return this.changes.forEach(((o,l)=>{const u=this.Br.get(o);if(t.push(this.Nr.removeEntry(e,o,u.readTime)),l.isValidDocument()){const h=c3(this.Nr.serializer,l);s=s.add(o.path.popLast());const g=S1(h);n+=g-u.size,t.push(this.Nr.addEntry(e,o,h))}else if(n-=u.size,this.trackRemovals){const h=c3(this.Nr.serializer,l.convertToNoDocument(Kt.min()));t.push(this.Nr.addEntry(e,o,h))}})),s.forEach((o=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Nr.updateMetadata(e,n)),Ie.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((n=>(this.Br.set(t,{size:n.size,readTime:n.document.readTime}),n.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:n,Or:s})=>(s.forEach(((o,l)=>{this.Br.set(o,{size:l,readTime:n.get(o).readTime})})),n)))}}function E3(r){return Rs(r,Bg)}function Wu(r){return Rs(r,x1)}function B0(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function S3(r,e){const t=e.documentKey.path.toArray();return[r,_1(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function I3(r,e){const t=r.path.toArray(),n=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<n.length-2;++o)if(s=nr(t[o],n[o]),s)return s;return s=nr(t.length,n.length),s||(s=nr(t[t.length-2],n[n.length-2]),s||nr(t[t.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(n!==null&&tg(n.mutation,s,_i.empty(),Zr.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,gr()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=gr()){const s=JA();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,n).next((o=>{let l=L0();return o.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const n=JA();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,gr())))}populateOverlays(e,t,n){const s=[];return n.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,n,s){let o=Wi();const l=eg(),u=(function(){return eg()})();return t.forEach(((h,g)=>{const x=n.get(g.key);s.has(g.key)&&(x===void 0||x.mutation instanceof cc)?o=o.insert(g.key,g):x!==void 0?(l.set(g.key,x.mutation.getFieldMask()),tg(x.mutation,g,x.mutation.getFieldMask(),Zr.now())):l.set(g.key,_i.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((g,x)=>l.set(g,x))),t.forEach(((g,x)=>u.set(g,new dD(x,l.get(g)??null)))),u)))}recalculateAndSaveOverlays(e,t){const n=eg();let s=new bn(((l,u)=>l-u)),o=gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((h=>{const g=t.get(h);if(g===null)return;let x=n.get(h)||_i.empty();x=u.applyToLocalView(g,x),n.set(h,x);const p=(s.get(u.batchId)||gr()).add(h);s=s.insert(u.batchId,p)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),g=h.key,x=h.value,p=VS();x.forEach((v=>{if(!o.has(v)){const N=YS(t.get(v),n.get(v));N!==null&&p.set(v,N),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,g,p))}return Ie.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,s){return(function(l){return ht.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):RS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-o.size):Ie.resolve(JA());let u=af,h=o;return l.next((g=>Ie.forEach(g,((x,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),o.get(x)?Ie.resolve():this.remoteDocumentCache.getEntry(e,x).next((v=>{h=h.insert(x,v)}))))).next((()=>this.populateOverlays(e,g,o))).next((()=>this.computeViews(e,h,g,gr()))).next((x=>({batchId:u,changes:HS(x)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ht(t)).next((n=>{let s=L0();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const o=t.collectionGroup;let l=L0();return this.indexManager.getCollectionParents(e,o).next((u=>Ie.forEach(u,(h=>{const g=(function(p,v){return new Tf(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,n,s).next((x=>{x.forEach(((p,v)=>{l=l.insert(p,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,s)))).next((l=>{o.forEach(((h,g)=>{const x=g.getKey();l.get(x)===null&&(l=l.insert(x,Wn.newInvalidDocument(x)))}));let u=L0();return l.forEach(((h,g)=>{const x=o.get(h);x!==void 0&&tg(x.mutation,g,_i.empty(),Zr.now()),$g(t,g)&&(u=u.insert(h,g))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:ti(s.createTime)}})(t)),Ie.resolve()}getNamedQuery(e,t){return Ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:gI(s.bundledQuery),readTime:ti(s.readTime)}})(t)),Ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.overlays=new bn(ht.comparator),this.qr=new Map}getOverlay(e,t){return Ie.resolve(this.overlays.get(t))}getOverlays(e,t){const n=JA();return Ie.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&n.set(s,o)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((s,o)=>{this.St(e,t,o)})),Ie.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),Ie.resolve()}getOverlaysForCollection(e,t,n){const s=JA(),o=t.length+1,l=new ht(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,g=h.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===o&&h.largestBatchId>n&&s.set(h.getKey(),h)}return Ie.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let o=new bn(((g,x)=>g-x));const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>n){let x=o.get(g.largestBatchId);x===null&&(x=JA(),o=o.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const u=JA(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((g,x)=>u.set(g,x))),!(u.size()>=s)););return Ie.resolve(u)}St(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new pv(t,n));let o=this.qr.get(t);o===void 0&&(o=gr(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.sessionToken=os.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(){this.Qr=new nn(Xs.$r),this.Ur=new nn(Xs.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Xs(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new Xs(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new ht(new Gr([])),n=new Xs(t,e),s=new Xs(t,e+1),o=[];return this.Ur.forEachInRange([n,s],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ht(new Gr([])),n=new Xs(t,e),s=new Xs(t,e+1);let o=gr();return this.Ur.forEachInRange([n,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const t=new Xs(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Xs{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ht.comparator(e.key,t.key)||nr(e.Yr,t.Yr)}static Kr(e,t){return nr(e.Yr,t.Yr)||ht.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new nn(Xs.$r)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new gv(o,t,n,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new Xs(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ie.resolve(l)}lookupMutationBatch(e,t){return Ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.ei(n),o=s<0?0:s;return Ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?fd:this.tr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xs(t,0),s=new Xs(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,s],(l=>{const u=this.Xr(l.Yr);o.push(u)})),Ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new nn(nr);return t.forEach((s=>{const o=new Xs(s,0),l=new Xs(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{n=n.add(u.Yr)}))})),Ie.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let o=n;ht.isDocumentKey(o)||(o=o.child(""));const l=new Xs(new ht(o),0);let u=new nn(nr);return this.Zr.forEachWhile((h=>{const g=h.key.path;return!!n.isPrefixOf(g)&&(g.length===s&&(u=u.add(h.Yr)),!0)}),l),Ie.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((n=>{const s=this.Xr(n);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Rt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Ie.forEach(t.mutations,(s=>{const o=new Xs(s.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new Xs(t,0),s=this.Zr.firstAfterOrEqual(n);return Ie.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.ri=e,this.docs=(function(){return new bn(ht.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),o=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ie.resolve(n?n.document.mutableCopy():Wn.newInvalidDocument(t))}getEntries(e,t){let n=Wi();return t.forEach((s=>{const o=this.docs.get(s);n=n.insert(s,o?o.document.mutableCopy():Wn.newInvalidDocument(s))})),Ie.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let o=Wi();const l=t.path,u=new ht(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:g,value:{document:x}}=h.getNext();if(!l.isPrefixOf(g.path))break;g.path.length>l.length+1||rv(sS(x),n)<=0||(s.has(x.key)||$g(t,x))&&(o=o.insert(x.key,x.mutableCopy()))}return Ie.resolve(o)}getAllFromCollectionGroup(e,t,n,s){Ct(9500)}ii(e,t){return Ie.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new xD(this)}getSize(e){return Ie.resolve(this.size)}}class xD extends CI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(n)})),Ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.persistence=e,this.si=new lc((t=>Ed(t)),Gg),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.oi=0,this._i=new vv,this.targetCount=0,this.ai=jd.ur()}forEachTarget(e,t){return this.si.forEach(((n,s)=>t(s))),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new jd(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ie.resolve()}updateTargetData(e,t){return this.Pr(t),Ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,t,n){let s=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&n.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Ie.waitFor(o).next((()=>s))}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ie.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ie.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),Ie.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ie.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ie.resolve(n)}containsKey(e,t){return Ie.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ci(0),this.li=!1,this.li=!0,this.hi=new gD,this.referenceDelegate=e(this),this.Pi=new bD(this),this.indexManager=new sD,this.remoteDocumentCache=(function(s){return new pD(s)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new hI(t),this.Ii=new hD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new mD(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){nt("MemoryPersistence","Starting transaction:",e);const s=new yD(this.ci.next());return this.referenceDelegate.Ei(),n(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return Ie.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class yD extends iS{constructor(e){super(),this.currentSequenceNumber=e}}class px{constructor(e){this.persistence=e,this.Ri=new vv,this.Vi=null}static mi(e){return new px(e)}get fi(){if(this.Vi)return this.Vi;throw Ct(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ie.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.fi,(n=>{const s=ht.fromPath(n);return this.gi(e,s).next((o=>{o||t.removeEntry(s,Kt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Ie.or([()=>Ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class I1{constructor(e,t){this.persistence=e,this.pi=new lc((n=>Oa(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=NI(this,t)}static mi(e,t){return new I1(e,t)}Ei(){}di(e){return Ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((s=>n+s))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return Ie.forEach(this.pi,((n,s)=>this.br(e,n,s).next((o=>o?Ie.resolve():t(s)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((u=>{u||(n++,o.removeEntry(l,Kt.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ie.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kp(e.data.value)),t}br(e,t,n){return Ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Ie.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.serializer=e}k(e,t,n,s){const o=new ax("createOrUpgrade",t);n<1&&s>=1&&((function(h){h.createObjectStore(qg)})(e),(function(h){h.createObjectStore(vg,{keyPath:RR}),h.createObjectStore(nA,{keyPath:ON,autoIncrement:!0}).createIndex(ud,PN,{unique:!0}),h.createObjectStore(of)})(e),j3(e),(function(h){h.createObjectStore(rd)})(e));let l=Ie.resolve();return n<3&&s>=3&&(n!==0&&((function(h){h.deleteObjectStore(lf),h.deleteObjectStore(Af),h.deleteObjectStore(gd)})(e),j3(e)),l=l.next((()=>(function(h){const g=h.store(gd),x={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kt.min().toTimestamp(),targetCount:0};return g.put(b1,x)})(o)))),n<4&&s>=4&&(n!==0&&(l=l.next((()=>(function(h,g){return g.store(nA).J().next((p=>{h.deleteObjectStore(nA),h.createObjectStore(nA,{keyPath:ON,autoIncrement:!0}).createIndex(ud,PN,{unique:!0});const v=g.store(nA),N=p.map((T=>v.put(T)));return Ie.waitFor(N)}))})(e,o)))),l=l.next((()=>{(function(h){h.createObjectStore(cf,{keyPath:qR})})(e)}))),n<5&&s>=5&&(l=l.next((()=>this.yi(o)))),n<6&&s>=6&&(l=l.next((()=>((function(h){h.createObjectStore(Bg)})(e),this.wi(o))))),n<7&&s>=7&&(l=l.next((()=>this.Si(o)))),n<8&&s>=8&&(l=l.next((()=>this.bi(e,o)))),n<9&&s>=9&&(l=l.next((()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(e)}))),n<10&&s>=10&&(l=l.next((()=>this.Di(o)))),n<11&&s>=11&&(l=l.next((()=>{(function(h){h.createObjectStore(ox,{keyPath:GR})})(e),(function(h){h.createObjectStore(Ax,{keyPath:XR})})(e)}))),n<12&&s>=12&&(l=l.next((()=>{(function(h){const g=h.createObjectStore(lx,{keyPath:t9});g.createIndex(Ty,r9,{unique:!1}),g.createIndex(fS,n9,{unique:!1})})(e)}))),n<13&&s>=13&&(l=l.next((()=>(function(h){const g=h.createObjectStore(x1,{keyPath:MR});g.createIndex(Hp,OR),g.createIndex(cS,PR)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(rd)))),n<14&&s>=14&&(l=l.next((()=>this.Fi(e,o)))),n<15&&s>=15&&(l=l.next((()=>(function(h){h.createObjectStore(av,{keyPath:$R,autoIncrement:!0}).createIndex(jy,YR,{unique:!1}),h.createObjectStore(Y0,{keyPath:WR}).createIndex(dS,JR,{unique:!1}),h.createObjectStore(W0,{keyPath:ZR}).createIndex(hS,e9,{unique:!1})})(e)))),n<16&&s>=16&&(l=l.next((()=>{t.objectStore(Y0).clear()})).next((()=>{t.objectStore(W0).clear()}))),n<17&&s>=17&&(l=l.next((()=>{(function(h){h.createObjectStore(iv,{keyPath:s9})})(e)}))),n<18&&s>=18&&sE()&&(l=l.next((()=>{t.objectStore(Y0).clear()})).next((()=>{t.objectStore(W0).clear()}))),l}wi(e){let t=0;return e.store(rd).ee(((n,s)=>{t+=S1(s)})).next((()=>{const n={byteSize:t};return e.store(Bg).put(Iy,n)}))}yi(e){const t=e.store(vg),n=e.store(nA);return t.J().next((s=>Ie.forEach(s,(o=>{const l=IDBKeyRange.bound([o.userId,fd],[o.userId,o.lastAcknowledgedBatchId]);return n.J(ud,l).next((u=>Ie.forEach(u,(h=>{Rt(h.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const g=id(this.serializer,h);return bI(e,o.userId,g).next((()=>{}))}))))}))))}Si(e){const t=e.store(lf),n=e.store(rd);return e.store(gd).get(b1).next((s=>{const o=[];return n.ee(((l,u)=>{const h=new Gr(l),g=(function(p){return[0,Oa(p)]})(h);o.push(t.get(g).next((x=>x?Ie.resolve():(p=>t.put({targetId:0,path:Oa(p),sequenceNumber:s.highestListenSequenceNumber}))(h))))})).next((()=>Ie.waitFor(o)))}))}bi(e,t){e.createObjectStore(Ng,{keyPath:zR});const n=t.store(Ng),s=new wv,o=l=>{if(s.add(l)){const u=l.lastSegment(),h=l.popLast();return n.put({collectionId:u,parent:Oa(h)})}};return t.store(rd).ee({X:!0},((l,u)=>{const h=new Gr(l);return o(h.popLast())})).next((()=>t.store(of).ee({X:!0},(([l,u,h],g)=>{const x=WA(u);return o(x.popLast())}))))}Di(e){const t=e.store(Af);return t.ee(((n,s)=>{const o=R0(s),l=fI(this.serializer,o);return t.put(l)}))}Ci(e,t){const n=t.store(rd),s=[];return n.ee(((o,l)=>{const u=t.store(x1),h=(function(p){return p.document?new ht(Gr.fromString(p.document.name).popFirst(5)):p.noDocument?ht.fromSegments(p.noDocument.path):p.unknownDocument?ht.fromSegments(p.unknownDocument.path):Ct(36783)})(l).path.toArray(),g={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(u.put(g))})).next((()=>Ie.waitFor(s)))}Fi(e,t){const n=t.store(nA),s=_I(this.serializer),o=new Bv(px.mi,this.serializer.yt);return n.J().next((l=>{const u=new Map;return l.forEach((h=>{let g=u.get(h.userId)??gr();id(this.serializer,h).keys().forEach((x=>g=g.add(x))),u.set(h.userId,g)})),Ie.forEach(u,((h,g)=>{const x=new Fa(g),p=gx.wt(this.serializer,x),v=o.getIndexManager(x),N=mx.wt(x,this.serializer,v,o.referenceDelegate);return new EI(s,N,p,v).recalculateAndSaveOverlaysForDocumentKeys(new Uy(t,Ci.ce),h).next()}))}))}}function j3(r){r.createObjectStore(lf,{keyPath:VR}).createIndex(sv,KR,{unique:!0}),r.createObjectStore(Af,{keyPath:"targetId"}).createIndex(uS,HR,{unique:!0}),r.createObjectStore(gd)}const Yc="IndexedDbPersistence",m2=18e5,p2=5e3,x2="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vD="main";class Nv{constructor(e,t,n,s,o,l,u,h,g,x,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Mi=o,this.window=l,this.document=u,this.xi=g,this.Oi=x,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!Nv.v())throw new at(Ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lD(this,s),this.$i=t+vD,this.serializer=new hI(h),this.Ui=new bu(this.$i,this.Ni,new wD(this.serializer)),this.hi=new J9,this.Pi=new iD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_I(this.serializer),this.Ii=new W9,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,x===!1&&as(Yc,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new at(Ve.FAILED_PRECONDITION,x2);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Ci(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>ap(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Qu(e))return nt(Yc,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return nt(Yc,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return N0(e).get(bh).next((t=>Ie.resolve(this.es(t))))}ts(e){return ap(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,m2)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const n=Rs(t,cf);return n.J().next((s=>{const o=this.ss(s,m2),l=s.filter((u=>o.indexOf(u)===-1));return Ie.forEach(l,(u=>n.delete(u.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Ie.resolve(!0):N0(e).get(bh).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,p2)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new at(Ve.FAILED_PRECONDITION,x2);return!1}}return!(!this.networkEnabled||!this.inForeground)||ap(e).J().next((n=>this.ss(n,p2).find((s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,l=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(o||l&&u)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&nt(Yc,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[qg,cf],(e=>{const t=new Uy(e,Ci.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((n=>this.rs(n.updateTimeMs,t)&&!this.us(n.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>ap(e).J().next((t=>this.ss(t,m2).map((n=>n.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return mx.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new aD(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return gx.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,n){nt(Yc,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=(function(h){return h===18?o9:h===17?xS:h===16?i9:h===15?ov:h===14?pS:h===13?mS:h===12?a9:h===11?gS:void Ct(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,s,o,(u=>(l=new Uy(u,this.ci?this.ci.next():Ci.ce),t==="readwrite-primary"?this.Hi(l).next((h=>!!h||this.Yi(l))).next((h=>{if(!h)throw as(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new at(Ve.FAILED_PRECONDITION,aS);return n(l)})).next((h=>this.Xi(l).next((()=>h)))):this.Is(l).next((()=>n(l)))))).then((u=>(l.raiseOnCommittedEvent(),u)))}Is(e){return N0(e).get(bh).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,p2)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new at(Ve.FAILED_PRECONDITION,x2)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return N0(e).put(bh,t)}static v(){return bu.v()}Zi(e){const t=N0(e);return t.get(bh).next((n=>this.es(n)?(nt(Yc,"Releasing primary lease."),t.delete(bh)):Ie.resolve()))}rs(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(as(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;nE()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var t;try{const n=((t=this.Ki)==null?void 0:t.getItem(this._s(e)))!==null;return nt(Yc,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return as(Yc,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){as("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function N0(r){return Rs(r,qg)}function ap(r){return Rs(r,cf)}function SI(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=s}static As(e,t){let n=gr(),s=gr();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Cv(e,t.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nE()?8:oS(ks())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,s){const o={result:null};return this.ys(e,t).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,t,s,n).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new BD;return this.Ss(e,t,l).next((u=>{if(o.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>o.result))}bs(e,t,n,s){return n.documentReadCount<this.fs?(Fh()<=Cr.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Qh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ie.resolve()):(Fh()<=Cr.DEBUG&&nt("QueryEngine","Query:",Qh(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(Fh()<=Cr.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Qh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(t))):Ie.resolve())}ys(e,t){if(e3(t))return Ie.resolve(null);let n=Zi(t);return this.indexManager.getIndexType(e,n).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=B1(t,null,"F"),n=Zi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const l=gr(...o);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,n).next((h=>{const g=this.Ds(t,u);return this.Cs(t,g,l,h.readTime)?this.ys(e,B1(t,null,"F")):this.vs(e,g,t,h)}))))})))))}ws(e,t,n,s){return e3(t)||s.isEqual(Kt.min())?Ie.resolve(null):this.ps.getDocuments(e,n).next((o=>{const l=this.Ds(t,o);return this.Cs(t,l,n,s)?Ie.resolve(null):(Fh()<=Cr.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qh(t)),this.vs(e,l,t,nS(s,af)).next((u=>u)))}))}Ds(e,t){let n=new nn(OS(e));return t.forEach(((s,o)=>{$g(e,o)&&(n=n.add(o))})),n}Cs(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,n){return Fh()<=Cr.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Qh(t)),this.ps.getDocumentsMatchingQuery(e,t,to.min(),n)}vs(e,t,n,s){return this.ps.getDocumentsMatchingQuery(e,n,s).next((o=>(t.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="LocalStore",ND=3e8;class CD{constructor(e,t,n,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new bn(nr),this.xs=new lc((o=>Ed(o)),Gg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function jI(r,e,t,n){return new CD(r,e,t,n)}async function TI(r,e){const t=Tt(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((o=>{const l=[],u=[];let h=gr();for(const g of s){l.push(g.batchId);for(const x of g.mutations)h=h.add(x.key)}for(const g of o){u.push(g.batchId);for(const x of g.mutations)h=h.add(x.key)}return t.localDocuments.getDocuments(n,h).next((g=>({Ls:g,removedBatchIds:l,addedBatchIds:u})))}))}))}function _D(r,e){const t=Tt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,g,x){const p=g.batch,v=p.keys();let N=Ie.resolve();return v.forEach((T=>{N=N.next((()=>x.getEntry(h,T))).next((I=>{const O=g.docVersions.get(T);Rt(O!==null,48541),I.version.compareTo(O)<0&&(p.applyToRemoteDocument(I,g),I.isValidDocument()&&(I.setReadTime(g.commitVersion),x.addEntry(I)))}))})),N.next((()=>u.mutationQueue.removeMutationBatch(h,p)))})(t,n,e,o).next((()=>o.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let h=gr();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(n,s)))}))}function UI(r){const e=Tt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function ED(r,e){const t=Tt(r),n=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const u=[];e.targetChanges.forEach(((x,p)=>{const v=s.get(p);if(!v)return;u.push(t.Pi.removeMatchingKeys(o,x.removedDocuments,p).next((()=>t.Pi.addMatchingKeys(o,x.addedDocuments,p))));let N=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?N=N.withResumeToken(os.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):x.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(x.resumeToken,n)),s=s.insert(p,N),(function(I,O,R){return I.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=ND?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(v,N,x)&&u.push(t.Pi.updateTargetData(o,N))}));let h=Wi(),g=gr();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,x))})),u.push(SD(o,l,e.documentUpdates).next((x=>{h=x.ks,g=x.qs}))),!n.isEqual(Kt.min())){const x=t.Pi.getLastRemoteSnapshotVersion(o).next((p=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));u.push(x)}return Ie.waitFor(u).next((()=>l.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,g))).next((()=>h))})).then((o=>(t.Ms=s,o)))}function SD(r,e,t){let n=gr(),s=gr();return t.forEach((o=>n=n.add(o))),e.getEntries(r,n).next((o=>{let l=Wi();return t.forEach(((u,h)=>{const g=o.get(u);h.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Kt.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!g.isValidDocument()||h.version.compareTo(g.version)>0||h.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):nt(_v,"Ignoring outdated watch update for ",u,". Current version:",g.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function ID(r,e){const t=Tt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=fd),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function j1(r,e){const t=Tt(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return t.Pi.getTargetData(n,e).next((o=>o?(s=o,Ie.resolve(s)):t.Pi.allocateTargetId(n).next((l=>(s=new Yl(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=t.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function yf(r,e,t){const n=Tt(r),s=n.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,(l=>n.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Qu(l))throw l;nt(_v,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ms=n.Ms.remove(e),n.xs.delete(s.target)}function qy(r,e,t){const n=Tt(r);let s=Kt.min(),o=gr();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,g,x){const p=Tt(h),v=p.xs.get(x);return v!==void 0?Ie.resolve(p.Ms.get(v)):p.Pi.getTargetData(g,x)})(n,l,Zi(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{o=h}))})).next((()=>n.Fs.getDocumentsMatchingQuery(l,e,t?s:Kt.min(),t?o:gr()))).next((u=>(LI(n,MS(e),u),{documents:u,Qs:o})))))}function FI(r,e){const t=Tt(r),n=Tt(t.Pi),s=t.Ms.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",(o=>n.At(o,e).next((l=>l?l.target:null))))}function QI(r,e){const t=Tt(r),n=t.Os.get(e)||Kt.min();return t.persistence.runTransaction("Get new document changes","readonly",(s=>t.Ns.getAllFromCollectionGroup(s,e,nS(n,af),Number.MAX_SAFE_INTEGER))).then((s=>(LI(t,e,s),s)))}function LI(r,e,t){let n=r.Os.get(e)||Kt.min();t.forEach(((s,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),r.Os.set(e,n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="firestore_clients";function T3(r,e){return`${kI}_${r}_${e}`}const RI="firestore_mutations";function U3(r,e,t){let n=`${RI}_${r}_${t}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}const DI="firestore_targets";function b2(r,e){return`${DI}_${r}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="SharedClientState";class T1{constructor(e,t,n,s){this.user=e,this.batchId=t,this.state=n,this.error=s}static Ws(e,t,n){const s=JSON.parse(n);let o,l=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return l&&s.error&&(l=typeof s.error.message=="string"&&typeof s.error.code=="string",l&&(o=new at(s.error.code,s.error.message))),l?new T1(e,t,s.state,o):(as(YA,`Failed to parse mutation state for ID '${t}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rg{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ws(e,t){const n=JSON.parse(t);let s,o=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return o&&n.error&&(o=typeof n.error.message=="string"&&typeof n.error.code=="string",o&&(s=new at(n.error.code,n.error.message))),o?new rg(e,n.state,s):(as(YA,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class U1{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const n=JSON.parse(t);let s=typeof n=="object"&&n.activeTargetIds instanceof Array,o=dv();for(let l=0;s&&l<n.activeTargetIds.length;++l)s=AS(n.activeTargetIds[l]),o=o.add(n.activeTargetIds[l]);return s?new U1(e,o):(as(YA,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ev{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Ev(t.clientId,t.onlineState):(as(YA,`Failed to parse online state: ${e}`),null)}}class Gy{constructor(){this.activeTargetIds=dv()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y2{constructor(e,t,n,s,o){this.window=e,this.Mi=t,this.persistenceKey=n,this.Js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new bn(nr),this.started=!1,this.Xs=[];const l=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.eo=T3(this.persistenceKey,this.Js),this.no=(function(h){return`firestore_sequence_number_${h}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Gy),this.ro=new RegExp(`^${kI}_${l}_([^_]*)$`),this.io=new RegExp(`^${RI}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${DI}_${l}_(\\d+)$`),this.oo=(function(h){return`firestore_online_state_${h}`})(this.persistenceKey),this._o=(function(h){return`firestore_bundle_loaded_v2_${h}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const n of e){if(n===this.Js)continue;const s=this.getItem(T3(this.persistenceKey,n));if(s){const o=U1.Ws(n,s);o&&(this.Zs=this.Zs.insert(o.clientId,o))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const n=this.uo(t);n&&this.co(n)}for(const n of this.Xs)this.Ys(n);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((n,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,n){this.ho(e,t,n),this.Po(e)}addLocalQueryTarget(e,t=!0){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(b2(this.persistenceKey,e));if(s){const o=rg.Ws(e,s);o&&(n=o.state)}}return t&&this.To.zs(e),this.ao(),n}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(b2(this.persistenceKey,e))}updateQueryState(e,t,n){this.Io(e,t,n)}handleUserChange(e,t,n){t.forEach((s=>{this.Po(s)})),this.currentUser=e,n.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return nt(YA,"READ",e,t),t}setItem(e,t){nt(YA,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){nt(YA,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(nt(YA,"EVENT",t.key,t.newValue),t.key===this.eo)return void as("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const n=this.Ro(t.key);return this.Vo(n,null)}{const n=this.mo(t.key,t.newValue);if(n)return this.Vo(n.clientId,n)}}else if(this.io.test(t.key)){if(t.newValue!==null){const n=this.fo(t.key,t.newValue);if(n)return this.po(n)}}else if(this.so.test(t.key)){if(t.newValue!==null){const n=this.yo(t.key,t.newValue);if(n)return this.wo(n)}}else if(t.key===this.oo){if(t.newValue!==null){const n=this.uo(t.newValue);if(n)return this.co(n)}}else if(t.key===this.no){const n=(function(o){let l=Ci.ce;if(o!=null)try{const u=JSON.parse(o);Rt(typeof u=="number",30636,{So:o}),l=u}catch(u){as(YA,"Failed to read sequence number from WebStorage",u)}return l})(t.newValue);n!==Ci.ce&&this.sequenceNumberHandler(n)}else if(t.key===this._o){const n=this.bo(t.newValue);await Promise.all(n.map((s=>this.syncEngine.Do(s))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,n){const s=new T1(this.currentUser,e,t,n),o=U3(this.persistenceKey,this.currentUser,e);this.setItem(o,s.Gs())}Po(e){const t=U3(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,n){const s=b2(this.persistenceKey,e),o=new rg(e,t,n);this.setItem(s,o.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const n=this.Ro(e);return U1.Ws(n,t)}fo(e,t){const n=this.io.exec(e),s=Number(n[1]),o=n[2]!==void 0?n[2]:null;return T1.Ws(new Fa(o),s,t)}yo(e,t){const n=this.so.exec(e),s=Number(n[1]);return rg.Ws(s,t)}uo(e){return Ev.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);nt(YA,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const n=t?this.Zs.insert(e,t):this.Zs.remove(e),s=this.lo(this.Zs),o=this.lo(n),l=[],u=[];return o.forEach((h=>{s.has(h)||l.push(h)})),s.forEach((h=>{o.has(h)||u.push(h)})),this.syncEngine.Fo(l,u).then((()=>{this.Zs=n}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=dv();return e.forEach(((n,s)=>{t=t.unionWith(s.activeTargetIds)})),t}}class MI{constructor(){this.Mo=new Gy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gy,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="ConnectivityMonitor";class Q3{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(F3,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){nt(F3,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip=null;function Xy(){return ip===null?ip=(function(){return 268435456+Math.round(2147483648*Math.random())})():ip++,"0x"+ip.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="RestConnection",TD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===y1?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(e,t,n,s,o){const l=Xy(),u=this.zo(e,t.toUriEncodedString());nt(w2,`Sending RPC '${e}' ${l}:`,u,n);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,o);const{host:g}=new URL(u),x=Ef(g);return this.Jo(e,u,h,n,x).then((p=>(nt(w2,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw bg(w2,`RPC '${e}' ${l} failed with error: `,p,"url: ",u,"request:",n),p}))}Ho(e,t,n,s,o,l){return this.Go(e,t,n,s,o)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),n&&n.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const n=TD[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="WebChannelConnection";class QD extends UD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,s,o){const l=Xy();return new Promise(((u,h)=>{const g=new XE;g.setWithCredentials(!0),g.listenOnce($E.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Mp.NO_ERROR:const p=g.getResponseJson();nt(Ea,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),u(p);break;case Mp.TIMEOUT:nt(Ea,`RPC '${e}' ${l} timed out`),h(new at(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case Mp.HTTP_ERROR:const v=g.getStatus();if(nt(Ea,`RPC '${e}' ${l} failed with status:`,v,"response text:",g.getResponseText()),v>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const T=N==null?void 0:N.error;if(T&&T.status&&T.message){const I=(function(R){const P=R.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(P)>=0?P:Ve.UNKNOWN})(T.status);h(new at(I,T.message))}else h(new at(Ve.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new at(Ve.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:e,streamId:l,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{nt(Ea,`RPC '${e}' ${l} completed.`)}}));const x=JSON.stringify(s);nt(Ea,`RPC '${e}' ${l} sending request:`,s),g.send(t,"POST",x,n,15)}))}T_(e,t,n){const s=Xy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=JE(),u=WE(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(h.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,n),h.encodeInitMessageHeaders=!0;const x=o.join("");nt(Ea,`Creating RPC '${e}' stream ${s}: ${x}`,h);const p=l.createWebChannel(x,h);this.I_(p);let v=!1,N=!1;const T=new FD({Yo:O=>{N?nt(Ea,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(v||(nt(Ea,`Opening RPC '${e}' stream ${s} transport.`),p.open(),v=!0),nt(Ea,`RPC '${e}' stream ${s} sending:`,O),p.send(O))},Zo:()=>p.close()}),I=(O,R,P)=>{O.listen(R,(K=>{try{P(K)}catch(se){setTimeout((()=>{throw se}),0)}}))};return I(p,Q0.EventType.OPEN,(()=>{N||(nt(Ea,`RPC '${e}' stream ${s} transport opened.`),T.o_())})),I(p,Q0.EventType.CLOSE,(()=>{N||(N=!0,nt(Ea,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(p))})),I(p,Q0.EventType.ERROR,(O=>{N||(N=!0,bg(Ea,`RPC '${e}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),T.a_(new at(Ve.UNAVAILABLE,"The operation could not be completed")))})),I(p,Q0.EventType.MESSAGE,(O=>{var R;if(!N){const P=O.data[0];Rt(!!P,16349);const K=P,se=(K==null?void 0:K.error)||((R=K[0])==null?void 0:R.error);if(se){nt(Ea,`RPC '${e}' stream ${s} received error:`,se);const ae=se.status;let le=(function(M){const z=bs[M];if(z!==void 0)return ZS(z)})(ae),U=se.message;le===void 0&&(le=Ve.INTERNAL,U="Unknown error status: "+ae+" with message "+se.message),N=!0,T.a_(new at(le,U)),p.close()}else nt(Ea,`RPC '${e}' stream ${s} received:`,P),T.u_(P)}})),I(u,YE.STAT_EVENT,(O=>{O.stat===_y.PROXY?nt(Ea,`RPC '${e}' stream ${s} detected buffering proxy`):O.stat===_y.NOPROXY&&nt(Ea,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){return typeof window<"u"?window:null}function $p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(r){return new O9(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,t,n=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-n);s>0&&nt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="PersistentStream";class HI{constructor(e,t,n,s,o,l,u,h){this.Mi=e,this.S_=n,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PI(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ve.RESOURCE_EXHAUSTED?(as(t.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.D_===t&&this.G_(n,s)}),(n=>{e((()=>{const s=new at(Ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{n((()=>this.z_(s)))})),this.stream.onMessage((s=>{n((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return nt(L3,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(nt(L3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LD extends HI{constructor(e,t,n,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,l),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=V9(this.serializer,e),n=(function(o){if(!("targetChange"in o))return Kt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Kt.min():l.readTime?ti(l.readTime):Kt.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Py(this.serializer),t.addTarget=(function(o,l){let u;const h=l.target;if(u=w1(h)?{documents:oI(o,h)}:{query:AI(o,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=rI(o,l.resumeToken);const g=My(o,l.expectedCount);g!==null&&(u.expectedCount=g)}else if(l.snapshotVersion.compareTo(Kt.min())>0){u.readTime=bf(o,l.snapshotVersion.toTimestamp());const g=My(o,l.expectedCount);g!==null&&(u.expectedCount=g)}return u})(this.serializer,e);const n=z9(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Py(this.serializer),t.removeTarget=e,this.q_(t)}}class kD extends HI{constructor(e,t,n,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=K9(e.writeResults,e.commitTime),n=ti(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Py(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>C1(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{}class DD extends RD{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new at(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,Oy(t,n),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new at(Ve.UNKNOWN,o.toString())}))}Ho(e,t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Oy(t,n),s,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new at(Ve.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(t),this.aa=!1):nt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="RemoteStore";class OD{constructor(e,t,n,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{n.enqueueAndForget((async()=>{kd(this)&&(nt(Td,"Restarting streams for network reachability change."),await(async function(h){const g=Tt(h);g.Ea.add(4),await Zg(g),g.Ra.set("Unknown"),g.Ea.delete(4),await bx(g)})(this))}))})),this.Ra=new MD(n,s)}}async function bx(r){if(kd(r))for(const e of r.da)await e(!0)}async function Zg(r){for(const e of r.da)await e(!1)}function yx(r,e){const t=Tt(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),jv(t)?Iv(t):Qf(t).O_()&&Sv(t,e))}function wf(r,e){const t=Tt(r),n=Qf(t);t.Ia.delete(e),n.O_()&&VI(t,e),t.Ia.size===0&&(n.O_()?n.L_():kd(t)&&t.Ra.set("Unknown"))}function Sv(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Kt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Qf(r).Y_(e)}function VI(r,e){r.Va.Ue(e),Qf(r).Z_(e)}function Iv(r){r.Va=new k9({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Qf(r).start(),r.Ra.ua()}function jv(r){return kd(r)&&!Qf(r).x_()&&r.Ia.size>0}function kd(r){return Tt(r).Ea.size===0}function KI(r){r.Va=void 0}async function PD(r){r.Ra.set("Online")}async function HD(r){r.Ia.forEach(((e,t)=>{Sv(r,e)}))}async function VD(r,e){KI(r),jv(r)?(r.Ra.ha(e),Iv(r)):r.Ra.set("Unknown")}async function KD(r,e,t){if(r.Ra.set("Online"),e instanceof tI&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(r,e)}catch(n){nt(Td,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await F1(r,n)}else if(e instanceof Gp?r.Va.Ze(e):e instanceof eI?r.Va.st(e):r.Va.tt(e),!t.isEqual(Kt.min()))try{const n=await UI(r.localStore);t.compareTo(n)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const x=o.Ia.get(g);x&&o.Ia.set(g,x.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,g)=>{const x=o.Ia.get(h);if(!x)return;o.Ia.set(h,x.withResumeToken(os.EMPTY_BYTE_STRING,x.snapshotVersion)),VI(o,h);const p=new Yl(x.target,h,g,x.sequenceNumber);Sv(o,p)})),o.remoteSyncer.applyRemoteEvent(u)})(r,t)}catch(n){nt(Td,"Failed to raise snapshot:",n),await F1(r,n)}}async function F1(r,e,t){if(!Qu(e))throw e;r.Ea.add(1),await Zg(r),r.Ra.set("Offline"),t||(t=()=>UI(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{nt(Td,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await bx(r)}))}function zI(r,e){return e().catch((t=>F1(r,t,e)))}async function Ff(r){const e=Tt(r),t=Eu(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fd;for(;zD(e);)try{const s=await ID(e.localStore,n);if(s===null){e.Ta.length===0&&t.L_();break}n=s.batchId,qD(e,s)}catch(s){await F1(e,s)}qI(e)&&GI(e)}function zD(r){return kd(r)&&r.Ta.length<10}function qD(r,e){r.Ta.push(e);const t=Eu(r);t.O_()&&t.X_&&t.ea(e.mutations)}function qI(r){return kd(r)&&!Eu(r).x_()&&r.Ta.length>0}function GI(r){Eu(r).start()}async function GD(r){Eu(r).ra()}async function XD(r){const e=Eu(r);for(const t of r.Ta)e.ea(t.mutations)}async function $D(r,e,t){const n=r.Ta.shift(),s=mv.from(n,e,t);await zI(r,(()=>r.remoteSyncer.applySuccessfulWrite(s))),await Ff(r)}async function YD(r,e){e&&Eu(r).X_&&await(async function(n,s){if((function(l){return F9(l)&&l!==Ve.ABORTED})(s.code)){const o=n.Ta.shift();Eu(n).B_(),await zI(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Ff(n)}})(r,e),qI(r)&&GI(r)}async function k3(r,e){const t=Tt(r);t.asyncQueue.verifyOperationInProgress(),nt(Td,"RemoteStore received new credentials");const n=kd(t);t.Ea.add(3),await Zg(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await bx(t)}async function $y(r,e){const t=Tt(r);e?(t.Ea.delete(2),await bx(t)):e||(t.Ea.add(2),await Zg(t),t.Ra.set("Unknown"))}function Qf(r){return r.ma||(r.ma=(function(t,n,s){const o=Tt(t);return o.sa(),new LD(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(r.datastore,r.asyncQueue,{Xo:PD.bind(null,r),t_:HD.bind(null,r),r_:VD.bind(null,r),H_:KD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),jv(r)?Iv(r):r.Ra.set("Unknown")):(await r.ma.stop(),KI(r))}))),r.ma}function Eu(r){return r.fa||(r.fa=(function(t,n,s){const o=Tt(t);return o.sa(),new kD(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:GD.bind(null,r),r_:YD.bind(null,r),ta:XD.bind(null,r),na:$D.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ff(r)):(await r.fa.stop(),r.Ta.length>0&&(nt(Td,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t,n,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=o,this.deferred=new il,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,o){const l=Date.now()+n,u=new Tv(e,t,l,s,o);return u.start(n),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uv(r,e){if(as("AsyncQueue",`${e}: ${r}`),Qu(r))return new at(Ve.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{static emptySet(e){return new Xh(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ht.comparator(t.key,n.key):(t,n)=>ht.comparator(t.key,n.key),this.keyedMap=L0(),this.sortedSet=new bn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Xh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.ga=new bn(ht.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ct(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class vf{constructor(e,t,n,s,o,l,u,h,g){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=g}static fromInitialDocuments(e,t,n,s,o){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new vf(e,t,Xh.emptySet(t),l,n,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class JD{constructor(){this.queries=D3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const s=Tt(t),o=s.queries;s.queries=D3(),o.forEach(((l,u)=>{for(const h of u.Sa)h.onError(n)}))})(this,new at(Ve.ABORTED,"Firestore shutting down"))}}function D3(){return new lc((r=>DS(r)),dx)}async function Fv(r,e){const t=Tt(r);let n=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(n=2):(o=new WD,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=Uv(l,`Initialization of query '${Qh(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Lv(t)}async function Qv(r,e){const t=Tt(r),n=e.query;let s=3;const o=t.queries.get(n);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function ZD(r,e){const t=Tt(r);let n=!1;for(const s of e){const o=s.query,l=t.queries.get(o);if(l){for(const u of l.Sa)u.Fa(s)&&(n=!0);l.wa=s}}n&&Lv(t)}function eM(r,e,t){const n=Tt(r),s=n.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);n.queries.delete(e)}function Lv(r){r.Ca.forEach((e=>{e.next()}))}var Yy,M3;(M3=Yy||(Yy={})).Ma="default",M3.Cache="cache";class kv{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new vf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=vf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.key=e}}class $I{constructor(e){this.key=e}}class tM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=gr(),this.mutatedKeys=gr(),this.eu=OS(e),this.tu=new Xh(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new R3,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((x,p)=>{const v=s.get(x),N=$g(this.query,p)?p:null,T=!!v&&this.mutatedKeys.has(v.key),I=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let O=!1;v&&N?v.data.isEqual(N.data)?T!==I&&(n.track({type:3,doc:N}),O=!0):this.su(v,N)||(n.track({type:2,doc:N}),O=!0,(h&&this.eu(N,h)>0||g&&this.eu(N,g)<0)&&(u=!0)):!v&&N?(n.track({type:0,doc:N}),O=!0):v&&!N&&(n.track({type:1,doc:v}),O=!0,(h||g)&&(u=!0)),O&&(N?(l=l.add(N),o=I?o.add(x):o.delete(x)):(l=l.delete(x),o=o.delete(x)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const x=this.query.limitType==="F"?l.last():l.first();l=l.delete(x.key),o=o.delete(x.key),n.track({type:1,doc:x})}return{tu:l,iu:n,Cs:u,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((x,p)=>(function(N,T){const I=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Rt:O})}};return I(N)-I(T)})(x.type,p.type)||this.eu(x.doc,p.doc))),this.ou(n),s=s??!1;const u=t&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,g=h!==this.Za;return this.Za=h,l.length!==0||g?{snapshot:new vf(this.query,e.tu,o,l,e.mutatedKeys,h===0,g,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R3,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=gr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new $I(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new XI(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=gr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return vf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lf="SyncEngine";class rM{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class nM{constructor(e){this.key=e,this.hu=!1}}class sM{constructor(e,t,n,s,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new lc((u=>DS(u)),dx),this.Iu=new Map,this.Eu=new Set,this.du=new bn(ht.comparator),this.Au=new Map,this.Ru=new vv,this.Vu={},this.mu=new Map,this.fu=jd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aM(r,e,t=!0){const n=wx(r);let s;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await YI(n,e,t,!0),s}async function iM(r,e){const t=wx(r);await YI(t,e,!0,!1)}async function YI(r,e,t,n){const s=await j1(r.localStore,Zi(e)),o=s.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let u;return n&&(u=await Rv(r,e,o,l==="current",s.resumeToken)),r.isPrimaryClient&&t&&yx(r.remoteStore,s),u}async function Rv(r,e,t,n,s){r.pu=(p,v,N)=>(async function(I,O,R,P){let K=O.view.ru(R);K.Cs&&(K=await qy(I.localStore,O.query,!1).then((({documents:U})=>O.view.ru(U,K))));const se=P&&P.targetChanges.get(O.targetId),ae=P&&P.targetMismatches.get(O.targetId)!=null,le=O.view.applyChanges(K,I.isPrimaryClient,se,ae);return Wy(I,O.targetId,le.au),le.snapshot})(r,p,v,N);const o=await qy(r.localStore,e,!0),l=new tM(e,o.Qs),u=l.ru(o.documents),h=Jg.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",s),g=l.applyChanges(u,r.isPrimaryClient,h);Wy(r,t,g.au);const x=new rM(e,t,l);return r.Tu.set(e,x),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function oM(r,e,t){const n=Tt(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);if(o.length>1)return n.Iu.set(s.targetId,o.filter((l=>!dx(l,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await yf(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),t&&wf(n.remoteStore,s.targetId),Bf(n,s.targetId)})).catch(Fu)):(Bf(n,s.targetId),await yf(n.localStore,s.targetId,!0))}async function AM(r,e){const t=Tt(r),n=t.Tu.get(e),s=t.Iu.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),wf(t.remoteStore,n.targetId))}async function lM(r,e,t){const n=Pv(r);try{const s=await(function(l,u){const h=Tt(l),g=Zr.now(),x=u.reduce(((N,T)=>N.add(T.key)),gr());let p,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let T=Wi(),I=gr();return h.Ns.getEntries(N,x).next((O=>{T=O,T.forEach(((R,P)=>{P.isValidDocument()||(I=I.add(R))}))})).next((()=>h.localDocuments.getOverlayedDocuments(N,T))).next((O=>{p=O;const R=[];for(const P of u){const K=T9(P,p.get(P.key).overlayedDocument);K!=null&&R.push(new cc(P.key,K,SS(K.value.mapValue),Qs.exists(!0)))}return h.mutationQueue.addMutationBatch(N,g,R,u)})).next((O=>{v=O;const R=O.applyToLocalDocumentSet(p,I);return h.documentOverlayCache.saveOverlays(N,O.batchId,R)}))})).then((()=>({batchId:v.batchId,changes:HS(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),(function(l,u,h){let g=l.Vu[l.currentUser.toKey()];g||(g=new bn(nr)),g=g.insert(u,h),l.Vu[l.currentUser.toKey()]=g})(n,s.batchId,t),await ku(n,s.changes),await Ff(n.remoteStore)}catch(s){const o=Uv(s,"Failed to persist write");t.reject(o)}}async function WI(r,e){const t=Tt(r);try{const n=await ED(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=t.Au.get(o);l&&(Rt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Rt(l.hu,14607):s.removedDocuments.size>0&&(Rt(l.hu,42227),l.hu=!1))})),await ku(t,n,e)}catch(n){await Fu(n)}}function O3(r,e,t){const n=Tt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=Tt(l);h.onlineState=u;let g=!1;h.queries.forEach(((x,p)=>{for(const v of p.Sa)v.va(u)&&(g=!0)})),g&&Lv(h)})(n.eventManager,e),s.length&&n.Pu.H_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function cM(r,e,t){const n=Tt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Au.get(e),o=s&&s.key;if(o){let l=new bn(ht.comparator);l=l.insert(o,Wn.newNoDocument(o,Kt.min()));const u=gr().add(o),h=new Wg(Kt.min(),new Map,new bn(nr),l,u);await WI(n,h),n.du=n.du.remove(o),n.Au.delete(e),Ov(n)}else await yf(n.localStore,e,!1).then((()=>Bf(n,e,t))).catch(Fu)}async function uM(r,e){const t=Tt(r),n=e.batch.batchId;try{const s=await _D(t.localStore,e);Mv(t,n,null),Dv(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await ku(t,s)}catch(s){await Fu(s)}}async function dM(r,e,t){const n=Tt(r);try{const s=await(function(l,u){const h=Tt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let x;return h.mutationQueue.lookupMutationBatch(g,u).next((p=>(Rt(p!==null,37113),x=p.keys(),h.mutationQueue.removeMutationBatch(g,p)))).next((()=>h.mutationQueue.performConsistencyCheck(g))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(g,x,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x))).next((()=>h.localDocuments.getDocuments(g,x)))}))})(n.localStore,e);Mv(n,e,t),Dv(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await ku(n,s)}catch(s){await Fu(s)}}function Dv(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function Mv(r,e,t){const n=Tt(r);let s=n.Vu[n.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),n.Vu[n.currentUser.toKey()]=s}}function Bf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||JI(r,n)}))}function JI(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(wf(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Ov(r))}function Wy(r,e,t){for(const n of t)n instanceof XI?(r.Ru.addReference(n.key,e),hM(r,n)):n instanceof $I?(nt(Lf,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||JI(r,n.key)):Ct(19791,{wu:n})}function hM(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(nt(Lf,"New document in limbo: "+t),r.Eu.add(n),Ov(r))}function Ov(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ht(Gr.fromString(e)),n=r.fu.next();r.Au.set(n,new nM(t)),r.du=r.du.insert(t,n),yx(r.remoteStore,new Yl(Zi(Xg(t.path)),n,"TargetPurposeLimboResolution",Ci.ce))}}async function ku(r,e,t){const n=Tt(r),s=[],o=[],l=[];n.Tu.isEmpty()||(n.Tu.forEach(((u,h)=>{l.push(n.pu(h,e,t).then((g=>{var x;if((g||t)&&n.isPrimaryClient){const p=g?!g.fromCache:(x=t==null?void 0:t.targetChanges.get(h.targetId))==null?void 0:x.current;n.sharedClientState.updateQueryState(h.targetId,p?"current":"not-current")}if(g){s.push(g);const p=Cv.As(h.targetId,g);o.push(p)}})))})),await Promise.all(l),n.Pu.H_(s),await(async function(h,g){const x=Tt(h);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Ie.forEach(g,(v=>Ie.forEach(v.Es,(N=>x.persistence.referenceDelegate.addReference(p,v.targetId,N))).next((()=>Ie.forEach(v.ds,(N=>x.persistence.referenceDelegate.removeReference(p,v.targetId,N)))))))))}catch(p){if(!Qu(p))throw p;nt(_v,"Failed to update sequence numbers: "+p)}for(const p of g){const v=p.targetId;if(!p.fromCache){const N=x.Ms.get(v),T=N.snapshotVersion,I=N.withLastLimboFreeSnapshotVersion(T);x.Ms=x.Ms.insert(v,I)}}})(n.localStore,o))}async function fM(r,e){const t=Tt(r);if(!t.currentUser.isEqual(e)){nt(Lf,"User change. New user:",e.toKey());const n=await TI(t.localStore,e);t.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((h=>{h.reject(new at(Ve.CANCELLED,l))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await ku(t,n.Ls)}}function gM(r,e){const t=Tt(r),n=t.Au.get(e);if(n&&n.hu)return gr().add(n.key);{let s=gr();const o=t.Iu.get(e);if(!o)return s;for(const l of o){const u=t.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}async function mM(r,e){const t=Tt(r),n=await qy(t.localStore,e.query,!0),s=e.view.cu(n);return t.isPrimaryClient&&Wy(t,e.targetId,s.au),s}async function pM(r,e){const t=Tt(r);return QI(t.localStore,e).then((n=>ku(t,n)))}async function xM(r,e,t,n){const s=Tt(r),o=await(function(u,h){const g=Tt(u),x=Tt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",(p=>x.er(p,h).next((v=>v?g.localDocuments.getDocuments(p,v):Ie.resolve(null)))))})(s.localStore,e);o!==null?(t==="pending"?await Ff(s.remoteStore):t==="acknowledged"||t==="rejected"?(Mv(s,e,n||null),Dv(s,e),(function(u,h){Tt(Tt(u).mutationQueue).ir(h)})(s.localStore,e)):Ct(6720,"Unknown batchState",{Su:t}),await ku(s,o)):nt(Lf,"Cannot apply mutation batch with id: "+e)}async function bM(r,e){const t=Tt(r);if(wx(t),Pv(t),e===!0&&t.gu!==!0){const n=t.sharedClientState.getAllActiveQueryTargets(),s=await P3(t,n.toArray());t.gu=!0,await $y(t.remoteStore,!0);for(const o of s)yx(t.remoteStore,o)}else if(e===!1&&t.gu!==!1){const n=[];let s=Promise.resolve();t.Iu.forEach(((o,l)=>{t.sharedClientState.isLocalQueryTarget(l)?n.push(l):s=s.then((()=>(Bf(t,l),yf(t.localStore,l,!0)))),wf(t.remoteStore,l)})),await s,await P3(t,n),(function(l){const u=Tt(l);u.Au.forEach(((h,g)=>{wf(u.remoteStore,g)})),u.Ru.Jr(),u.Au=new Map,u.du=new bn(ht.comparator)})(t),t.gu=!1,await $y(t.remoteStore,!1)}}async function P3(r,e,t){const n=Tt(r),s=[],o=[];for(const l of e){let u;const h=n.Iu.get(l);if(h&&h.length!==0){u=await j1(n.localStore,Zi(h[0]));for(const g of h){const x=n.Tu.get(g),p=await mM(n,x);p.snapshot&&o.push(p.snapshot)}}else{const g=await FI(n.localStore,l);u=await j1(n.localStore,g),await Rv(n,ZI(g),l,!1,u.resumeToken)}s.push(u)}return n.Pu.H_(o),s}function ZI(r){return kS(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function yM(r){return(function(t){return Tt(Tt(t).persistence).Ts()})(Tt(r).localStore)}async function wM(r,e,t,n){const s=Tt(r);if(s.gu)return void nt(Lf,"Ignoring unexpected query state notification.");const o=s.Iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const l=await QI(s.localStore,MS(o[0])),u=Wg.createSynthesizedRemoteEventForCurrentChange(e,t==="current",os.EMPTY_BYTE_STRING);await ku(s,l,u);break}case"rejected":await yf(s.localStore,e,!0),Bf(s,e,n);break;default:Ct(64155,t)}}async function vM(r,e,t){const n=wx(r);if(n.gu){for(const s of e){if(n.Iu.has(s)&&n.sharedClientState.isActiveQueryTarget(s)){nt(Lf,"Adding an already active target "+s);continue}const o=await FI(n.localStore,s),l=await j1(n.localStore,o);await Rv(n,ZI(o),l.targetId,!1,l.resumeToken),yx(n.remoteStore,l)}for(const s of t)n.Iu.has(s)&&await yf(n.localStore,s,!1).then((()=>{wf(n.remoteStore,s),Bf(n,s)})).catch(Fu)}}function wx(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=WI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cM.bind(null,e),e.Pu.H_=ZD.bind(null,e.eventManager),e.Pu.yu=eM.bind(null,e.eventManager),e}function Pv(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,e),e}class jg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return jI(this.persistence,new II,e.initialUser,this.serializer)}Cu(e){return new Bv(px.mi,this.serializer)}Du(e){return new MI}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jg.provider={build:()=>new jg};class BM extends jg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Rt(this.persistence.referenceDelegate instanceof I1,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new BI(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Qa.withCacheSize(this.cacheSizeBytes):Qa.DEFAULT;return new Bv((n=>I1.mi(n,t)),this.serializer)}}class ej extends jg{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await Pv(this.xu.syncEngine),await Ff(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return jI(this.persistence,new II,e.initialUser,this.serializer)}Fu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new BI(n,e.asyncQueue,t)}Mu(e,t){const n=new LR(t,this.persistence);return new QR(e.asyncQueue,n)}Cu(e){const t=SI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Qa.withCacheSize(this.cacheSizeBytes):Qa.DEFAULT;return new Nv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,OI(),$p(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new MI}}class NM extends ej{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof y2&&(this.sharedClientState.syncEngine={Co:xM.bind(null,t),vo:wM.bind(null,t),Fo:vM.bind(null,t),Ts:yM.bind(null,t),Do:pM.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async n=>{await bM(this.xu.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())}))}Du(e){const t=OI();if(!y2.v(t))throw new at(Ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=SI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new y2(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Tg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>O3(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=fM.bind(null,this.syncEngine),await $y(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JD})()}createDatastore(e){const t=xx(e.databaseInfo.databaseId),n=(function(o){return new QD(o)})(e.databaseInfo);return(function(o,l,u,h){return new DD(o,l,u,h)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,s,o,l,u){return new OD(n,s,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>O3(this.syncEngine,t,0)),(function(){return Q3.v()?new Q3:new jD})())}createSyncEngine(e,t){return(function(s,o,l,u,h,g,x){const p=new sM(s,o,l,u,h,g);return x&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const o=Tt(s);nt(Td,"RemoteStore shutting down."),o.Ea.add(5),await Zg(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Tg.provider={build:()=>new Tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su="FirestoreClient";class CM{constructor(e,t,n,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=Fa.UNAUTHENTICATED,this.clientId=tv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async l=>{nt(Su,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(nt(Su,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new il;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Uv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function v2(r,e){r.asyncQueue.verifyOperationInProgress(),nt(Su,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async s=>{n.isEqual(s)||(await TI(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function H3(r,e){r.asyncQueue.verifyOperationInProgress();const t=await _M(r);nt(Su,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>k3(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,s)=>k3(e.remoteStore,s))),r._onlineComponents=e}async function _M(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(Su,"Using user provided OfflineComponentProvider");try{await v2(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ve.FAILED_PRECONDITION||s.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;bg("Error using user provided cache. Falling back to memory cache: "+t),await v2(r,new jg)}}else nt(Su,"Using default OfflineComponentProvider"),await v2(r,new BM(void 0));return r._offlineComponents}async function tj(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(Su,"Using user provided OnlineComponentProvider"),await H3(r,r._uninitializedComponentsProvider._online)):(nt(Su,"Using default OnlineComponentProvider"),await H3(r,new Tg))),r._onlineComponents}function EM(r){return tj(r).then((e=>e.syncEngine))}async function Q1(r){const e=await tj(r),t=e.eventManager;return t.onListen=aM.bind(null,e.syncEngine),t.onUnlisten=oM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=AM.bind(null,e.syncEngine),t}function SM(r,e,t={}){const n=new il;return r.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,h,g){const x=new Hv({next:v=>{x.Nu(),l.enqueueAndForget((()=>Qv(o,p)));const N=v.docs.has(u);!N&&v.fromCache?g.reject(new at(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&v.fromCache&&h&&h.source==="server"?g.reject(new at(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(v)},error:v=>g.reject(v)}),p=new kv(Xg(u.path),x,{includeMetadataChanges:!0,qa:!0});return Fv(o,p)})(await Q1(r),r.asyncQueue,e,t,n))),n.promise}function rj(r,e,t={}){const n=new il;return r.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,h,g){const x=new Hv({next:v=>{x.Nu(),l.enqueueAndForget((()=>Qv(o,p))),v.fromCache&&h.source==="server"?g.reject(new at(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(v)},error:v=>g.reject(v)}),p=new kv(u,x,{includeMetadataChanges:!0,qa:!0});return Fv(o,p)})(await Q1(r),r.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="firestore.googleapis.com",K3=!0;class z3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IM,this.ssl=K3}else this.host=e.host,this.ssl=e.ssl??K3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vI)throw new at(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nj(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new at(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new at(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new at(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vv{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new wR;switch(n.type){case"firstParty":return new NR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new at(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=V3.get(t);n&&(nt("ComponentProvider","Removing Datastore"),V3.delete(t),n.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new dl(this.firestore,e,this._query)}}class Jn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}toJSON(){return{type:Jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(zg(t,Jn._jsonSchema))return new Jn(e,n||null,new ht(Gr.fromString(t.referencePath)))}}Jn._jsonSchemaVersion="firestore/documentReference/1.0",Jn._jsonSchema={type:ws("string",Jn._jsonSchemaVersion),referencePath:ws("string")};class yu extends dl{constructor(e,t,n){super(e,t,Xg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new ht(e))}withConverter(e){return new yu(this.firestore,e,this._path)}}function tn(r,e,...t){if(r=Mn(r),tS("collection","path",e),r instanceof Vv){const n=Gr.fromString(e,...t);return LN(n),new yu(r,null,n)}{if(!(r instanceof Jn||r instanceof yu))throw new at(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Gr.fromString(e,...t));return LN(n),new yu(r.firestore,null,n)}}function ga(r,e,...t){if(r=Mn(r),arguments.length===1&&(e=tv.newId()),tS("doc","path",e),r instanceof Vv){const n=Gr.fromString(e,...t);return QN(n),new Jn(r,null,new ht(n))}{if(!(r instanceof Jn||r instanceof yu))throw new at(Ve.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Gr.fromString(e,...t));return QN(n),new Jn(r.firestore,r instanceof yu?r.converter:null,new ht(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="AsyncQueue";class G3{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PI(this,"async_queue_retry"),this._c=()=>{const n=$p();n&&nt(q3,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=$p();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=$p();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new il;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qu(e))throw e;nt(q3,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",X3(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Tv.createAndSchedule(this,e,t,n,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Ct(47125,{Pc:X3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function X3(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of n)if(o in s&&typeof s[o]=="function")return!0;return!1})(r,["next","error","complete"])}class lA extends Vv{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new G3,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G3(e),this._firestoreClient=void 0,await e}}}function jM(r,e,t){t||(t=y1);const n=Ld(r,"firestore");if(n.isInitialized(t)){const s=n.getImmediate({identifier:t}),o=n.getOptions(t);if(Nu(o,e))return s;throw new at(Ve.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new at(Ve.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vI)throw new at(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Ef(e.host)&&eE(e.host),n.initialize({options:e,instanceIdentifier:t})}function kf(r){if(r._terminated)throw new at(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||TM(r),r._firestoreClient}function TM(r){var n,s,o;const e=r._freezeSettings(),t=(function(u,h,g,x){return new l9(u,h,g,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,nj(x.experimentalLongPollingOptions),x.useFetchStreams,x.isUsingEmulator)})(r._databaseId,((n=r._app)==null?void 0:n.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new CM(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Co(os.fromBase64String(e))}catch(t){throw new at(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Co(os.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Co._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zg(e,Co._jsonSchema))return Co.fromBase64String(e.bytes)}}Co._jsonSchemaVersion="firestore/bytes/1.0",Co._jsonSchema={type:ws("string",Co._jsonSchemaVersion),bytes:ws("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new at(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new at(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new at(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nr(this._lat,e._lat)||nr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ol._jsonSchemaVersion}}static fromJSON(e){if(zg(e,ol._jsonSchema))return new ol(e.latitude,e.longitude)}}ol._jsonSchemaVersion="firestore/geoPoint/1.0",ol._jsonSchema={type:ws("string",ol._jsonSchemaVersion),latitude:ws("number"),longitude:ws("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Al._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zg(e,Al._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Al(e.vectorValues);throw new at(Ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Al._jsonSchemaVersion="firestore/vectorValue/1.0",Al._jsonSchema={type:ws("string",Al._jsonSchemaVersion),vectorValues:ws("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=/^__.*__$/;class FM{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new cc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uf(e,this.data,t,this.fieldTransforms)}}class sj{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new cc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aj(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{Ac:r})}}class Kv{constructor(e,t,n,s,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return L1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aj(this.Ac)&&UM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QM{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||xx(e)}Cc(e,t,n,s=!1){return new Kv({Ac:e,methodName:t,Dc:n,path:qn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rm(r){const e=r._freezeSettings(),t=xx(r._databaseId);return new QM(r._databaseId,!!e.ignoreUndefinedProperties,t)}function zv(r,e,t,n,s,o={}){const l=r.Cc(o.merge||o.mergeFields?2:0,e,t,s);Xv("Data must be an object, but it was:",l,n);const u=Aj(n,l);let h,g;if(o.merge)h=new _i(l.fieldMask),g=l.fieldTransforms;else if(o.mergeFields){const x=[];for(const p of o.mergeFields){const v=Jy(e,p,t);if(!l.contains(v))throw new at(Ve.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);cj(x,v)||x.push(v)}h=new _i(x),g=l.fieldTransforms.filter((p=>h.covers(p.field)))}else h=null,g=l.fieldTransforms;return new FM(new ka(u),h,g)}class vx extends tm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vx}}class qv extends tm{_toFieldTransform(e){return new fv(e.path,new gf)}isEqual(e){return e instanceof qv}}class Gv extends tm{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new xf(e.serializer,zS(e.serializer,this.Fc));return new fv(e.path,t)}isEqual(e){return e instanceof Gv&&this.Fc===e.Fc}}function ij(r,e,t,n){const s=r.Cc(1,e,t);Xv("Data must be an object, but it was:",s,n);const o=[],l=ka.empty();Lu(n,((h,g)=>{const x=$v(e,h,t);g=Mn(g);const p=s.yc(x);if(g instanceof vx)o.push(x);else{const v=nm(g,p);v!=null&&(o.push(x),l.set(x,v))}}));const u=new _i(o);return new sj(l,u,s.fieldTransforms)}function oj(r,e,t,n,s,o){const l=r.Cc(1,e,t),u=[Jy(e,n,t)],h=[s];if(o.length%2!=0)throw new at(Ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(Jy(e,o[v])),h.push(o[v+1]);const g=[],x=ka.empty();for(let v=u.length-1;v>=0;--v)if(!cj(g,u[v])){const N=u[v];let T=h[v];T=Mn(T);const I=l.yc(N);if(T instanceof vx)g.push(N);else{const O=nm(T,I);O!=null&&(g.push(N),x.set(N,O))}}const p=new _i(g);return new sj(x,p,l.fieldTransforms)}function LM(r,e,t,n=!1){return nm(t,r.Cc(n?4:3,e))}function nm(r,e){if(lj(r=Mn(r)))return Xv("Unsupported field value:",e,r),Aj(r,e);if(r instanceof tm)return(function(n,s){if(!aj(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,s){const o=[];let l=0;for(const u of n){let h=nm(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(r,e)}return(function(n,s){if((n=Mn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zS(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Zr.fromDate(n);return{timestampValue:bf(s.serializer,o)}}if(n instanceof Zr){const o=new Zr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:bf(s.serializer,o)}}if(n instanceof ol)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Co)return{bytesValue:rI(s.serializer,n._byteString)};if(n instanceof Jn){const o=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bv(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Al)return(function(l,u){return{mapValue:{fields:{[lv]:{stringValue:cv},[uf]:{arrayValue:{values:l.toArray().map((g=>{if(typeof g!="number")throw u.Sc("VectorValues must only contain numeric values.");return hv(u.serializer,g)}))}}}}}})(n,s);throw s.Sc(`Unsupported field value: ${sx(n)}`)})(r,e)}function Aj(r,e){const t={};return bS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lu(r,((n,s)=>{const o=nm(s,e.mc(n));o!=null&&(t[n]=o)})),{mapValue:{fields:t}}}function lj(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Zr||r instanceof ol||r instanceof Co||r instanceof Jn||r instanceof tm||r instanceof Al)}function Xv(r,e,t){if(!lj(t)||!rS(t)){const n=sx(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function Jy(r,e,t){if((e=Mn(e))instanceof em)return e._internalPath;if(typeof e=="string")return $v(r,e);throw L1("Field path arguments must be of type string or ",r,!1,void 0,t)}const kM=new RegExp("[~\\*/\\[\\]]");function $v(r,e,t){if(e.search(kM)>=0)throw L1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new em(...e.split("."))._internalPath}catch{throw L1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function L1(r,e,t,n,s){const o=n&&!n.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${n}`),l&&(h+=` in document ${s}`),h+=")"),new at(Ve.INVALID_ARGUMENT,u+r+h)}function cj(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,t,n,s,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class RM extends uj{data(){return super.data()}}function Bx(r,e){return typeof e=="string"?$v(r,e):e instanceof em?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yv{}class Wv extends Yv{}function Ws(r,e,...t){let n=[];e instanceof Yv&&n.push(e),n=n.concat(t),(function(o){const l=o.filter((h=>h instanceof Jv)).length,u=o.filter((h=>h instanceof Nx)).length;if(l>1||l>0&&u>0)throw new at(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)r=s._apply(r);return r}class Nx extends Wv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Nx(e,t,n)}_apply(e){const t=this._parse(e);return hj(e._query,t),new dl(e.firestore,e.converter,Dy(e._query,t))}_parse(e){const t=rm(e.firestore);return(function(o,l,u,h,g,x,p){let v;if(g.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new at(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){W3(p,x);const T=[];for(const I of p)T.push(Y3(h,o,I));v={arrayValue:{values:T}}}else v=Y3(h,o,p)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||W3(p,x),v=LM(u,l,p,x==="in"||x==="not-in");return _r.create(g,x,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Js(r,e,t){const n=e,s=Bx("where",r);return Nx._create(s,n,t)}class Jv extends Yv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jv(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:en.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let l=s;const u=o.getFlattenedFilters();for(const h of u)hj(l,h),l=Dy(l,h)})(e._query,t),new dl(e.firestore,e.converter,Dy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zv extends Wv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zv(e,t)}_apply(e){const t=(function(s,o,l){if(s.startAt!==null)throw new at(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new at(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ig(o,l)})(e._query,this._field,this._direction);return new dl(e.firestore,e.converter,(function(s,o){const l=s.explicitOrderBy.concat([o]);return new Tf(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function Rf(r,e="asc"){const t=e,n=Bx("orderBy",r);return Zv._create(n,t)}class e5 extends Wv{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new e5(e,t,n)}_apply(e){return new dl(e.firestore,e.converter,B1(e._query,this._limit,this._limitType))}}function Df(r){return TR("limit",r),e5._create("limit",r,"F")}function Y3(r,e,t){if(typeof(t=Mn(t))=="string"){if(t==="")throw new at(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RS(e)&&t.indexOf("/")!==-1)throw new at(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Gr.fromString(t));if(!ht.isDocumentKey(n))throw new at(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Eg(r,new ht(n))}if(t instanceof Jn)return Eg(r,t._key);throw new at(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sx(t)}.`)}function W3(r,e){if(!Array.isArray(r)||r.length===0)throw new at(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hj(r,e){const t=(function(s,o){for(const l of s)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(r.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new at(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class DM{convertValue(e,t="none"){switch(Cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ac(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ct(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Lu(e,((s,o)=>{n[s]=this.convertValue(o,t)})),n}convertVectorValue(e){var n,s,o;const t=(o=(s=(n=e.fields)==null?void 0:n[uf].arrayValue)==null?void 0:s.values)==null?void 0:o.map((l=>Rn(l.doubleValue)));return new Al(t)}convertGeoPoint(e){return new ol(Rn(e.latitude),Rn(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=cx(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Cg(e));default:return null}}convertTimestamp(e){const t=sc(e);return new Zr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Gr.fromString(e);Rt(dI(n),9688,{name:e});const s=new _d(n.get(1),n.get(3)),o=new ht(n.popFirst(5));return s.isEqual(t)||as(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class D0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pd extends uj{constructor(e,t,n,s,o,l){super(e,t,n,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Bx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=pd._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}pd._jsonSchemaVersion="firestore/documentSnapshot/1.0",pd._jsonSchema={type:ws("string",pd._jsonSchemaVersion),bundleSource:ws("string","DocumentSnapshot"),bundleName:ws("string"),bundle:ws("string")};class Yp extends pd{data(e={}){return super.data(e)}}class wu{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new D0(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Yp(this._firestore,this._userDataWriter,n.key,n,new D0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new at(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new Yp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new D0(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const h=new Yp(s._firestore,s._userDataWriter,u.doc.key,u.doc,new D0(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,x=-1;return u.type!==0&&(g=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),x=l.indexOf(u.doc.key)),{type:MM(u.type),doc:h,oldIndex:g,newIndex:x}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(r){r=Ma(r,Jn);const e=Ma(r.firestore,lA);return SM(kf(e),r._key).then((t=>gj(e,r,t)))}wu._jsonSchemaVersion="firestore/querySnapshot/1.0",wu._jsonSchema={type:ws("string",wu._jsonSchemaVersion),bundleSource:ws("string","QuerySnapshot"),bundleName:ws("string"),bundle:ws("string")};class Cx extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Co(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function ni(r){r=Ma(r,dl);const e=Ma(r.firestore,lA),t=kf(e),n=new Cx(e);return dj(r._query),rj(t,r._query).then((s=>new wu(e,n,r,s)))}function fj(r){r=Ma(r,dl);const e=Ma(r.firestore,lA),t=kf(e),n=new Cx(e);return rj(t,r._query,{source:"server"}).then((s=>new wu(e,n,r,s)))}function _x(r,e,t){r=Ma(r,Jn);const n=Ma(r.firestore,lA),s=t5(r.converter,e,t);return am(n,[zv(rm(n),"setDoc",r._key,s,r.converter!==null,t).toMutation(r._key,Qs.none())])}function Nf(r,e,t,...n){r=Ma(r,Jn);const s=Ma(r.firestore,lA),o=rm(s);let l;return l=typeof(e=Mn(e))=="string"||e instanceof em?oj(o,"updateDoc",r._key,e,t,n):ij(o,"updateDoc",r._key,e),am(s,[l.toMutation(r._key,Qs.exists(!0))])}function sm(r){return am(Ma(r.firestore,lA),[new Yg(r._key,Qs.none())])}function cA(r,e){const t=Ma(r.firestore,lA),n=ga(r),s=t5(r.converter,e);return am(t,[zv(rm(r.firestore),"addDoc",n._key,s,r.converter!==null,{}).toMutation(n._key,Qs.exists(!1))]).then((()=>n))}function PM(r,...e){var h,g,x;r=Mn(r);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||$3(e[n])||(t=e[n++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if($3(e[n])){const p=e[n];e[n]=(h=p.next)==null?void 0:h.bind(p),e[n+1]=(g=p.error)==null?void 0:g.bind(p),e[n+2]=(x=p.complete)==null?void 0:x.bind(p)}let o,l,u;if(r instanceof Jn)l=Ma(r.firestore,lA),u=Xg(r._key.path),o={next:p=>{e[n]&&e[n](gj(l,r,p))},error:e[n+1],complete:e[n+2]};else{const p=Ma(r,dl);l=Ma(p.firestore,lA),u=p._query;const v=new Cx(l);o={next:N=>{e[n]&&e[n](new wu(l,v,p,N))},error:e[n+1],complete:e[n+2]},dj(r._query)}return(function(v,N,T,I){const O=new Hv(I),R=new kv(N,O,T);return v.asyncQueue.enqueueAndForget((async()=>Fv(await Q1(v),R))),()=>{O.Nu(),v.asyncQueue.enqueueAndForget((async()=>Qv(await Q1(v),R)))}})(kf(l),u,s,o)}function am(r,e){return(function(n,s){const o=new il;return n.asyncQueue.enqueueAndForget((async()=>lM(await EM(n),s,o))),o.promise})(kf(r),e)}function gj(r,e,t){const n=t.docs.get(e._key),s=new Cx(r);return new pd(r,s,e._key,n,new D0(t.hasPendingWrites,t.fromCache),e.converter)}class HM{constructor(e){let t;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=qM(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function VM(r){return new HM(r)}class KM{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Tg.provider,this._offlineComponentProvider={build:t=>new ej(t,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class zM{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Tg.provider,this._offlineComponentProvider={build:t=>new NM(t,e==null?void 0:e.cacheSizeBytes)}}}function qM(r){return new KM(r==null?void 0:r.forceOwnership)}function GM(){return new zM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=rm(e)}set(e,t,n){this._verifyNotCommitted();const s=B2(e,this._firestore),o=t5(s.converter,t,n),l=zv(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,n);return this._mutations.push(l.toMutation(s._key,Qs.none())),this}update(e,t,n,...s){this._verifyNotCommitted();const o=B2(e,this._firestore);let l;return l=typeof(t=Mn(t))=="string"||t instanceof em?oj(this._dataReader,"WriteBatch.update",o._key,t,n,s):ij(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(l.toMutation(o._key,Qs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=B2(e,this._firestore);return this._mutations=this._mutations.concat(new Yg(t._key,Qs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new at(Ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function B2(r,e){if((r=Mn(r)).firestore!==e)throw new at(Ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Ei(){return new qv("serverTimestamp")}function Zy(r){return new Gv("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(r){return kf(r=Ma(r,lA)),new XM(r,(e=>am(r,e)))}(function(e,t=!0){(function(s){jf=s})(Sf),cl(new oA("firestore",((n,{instanceIdentifier:s,options:o})=>{const l=n.getProvider("app").getImmediate(),u=new lA(new vR(n.getProvider("auth-internal")),new CR(l,n.getProvider("app-check-internal")),(function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new at(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _d(g.options.projectId,x)})(l,s),l);return o={useFetchStreams:t,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Io(jN,TN,e),Io(jN,TN,"esm2020")})();const mj="@firebase/installations",r5="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=1e4,xj=`w:${r5}`,bj="FIS_v2",YM="https://firebaseinstallations.googleapis.com/v1",WM=3600*1e3,JM="installations",ZM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ud=new Qd(JM,ZM,eO);function yj(r){return r instanceof uA&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj({projectId:r}){return`${YM}/projects/${r}/installations`}function vj(r){return{token:r.token,requestStatus:2,expiresIn:rO(r.expiresIn),creationTime:Date.now()}}async function Bj(r,e){const n=(await e.json()).error;return Ud.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Nj({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function tO(r,{refreshToken:e}){const t=Nj(r);return t.append("Authorization",nO(e)),t}async function Cj(r){const e=await r();return e.status>=500&&e.status<600?r():e}function rO(r){return Number(r.replace("s","000"))}function nO(r){return`${bj} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const n=wj(r),s=Nj(r),o=e.getImmediate({optional:!0});if(o){const g=await o.getHeartbeatsHeader();g&&s.append("x-firebase-client",g)}const l={fid:t,authVersion:bj,appId:r.appId,sdkVersion:xj},u={method:"POST",headers:s,body:JSON.stringify(l)},h=await Cj(()=>fetch(n,u));if(h.ok){const g=await h.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:vj(g.authToken)}}else throw await Bj("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=/^[cdef][\w-]{21}$/,ew="";function oO(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=AO(r);return iO.test(t)?t:ew}catch{return ew}}function AO(r){return aO(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new Map;function Sj(r,e){const t=Ex(r);Ij(t,e),lO(t,e)}function Ij(r,e){const t=Ej.get(r);if(t)for(const n of t)n(e)}function lO(r,e){const t=cO();t&&t.postMessage({key:r,fid:e}),uO()}let dd=null;function cO(){return!dd&&"BroadcastChannel"in self&&(dd=new BroadcastChannel("[Firebase] FID Change"),dd.onmessage=r=>{Ij(r.data.key,r.data.fid)}),dd}function uO(){Ej.size===0&&dd&&(dd.close(),dd=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="firebase-installations-database",hO=1,Fd="firebase-installations-store";let N2=null;function n5(){return N2||(N2=AE(dO,hO,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Fd)}}})),N2}async function k1(r,e){const t=Ex(r),s=(await n5()).transaction(Fd,"readwrite"),o=s.objectStore(Fd),l=await o.get(t);return await o.put(e,t),await s.done,(!l||l.fid!==e.fid)&&Sj(r,e.fid),e}async function jj(r){const e=Ex(r),n=(await n5()).transaction(Fd,"readwrite");await n.objectStore(Fd).delete(e),await n.done}async function Sx(r,e){const t=Ex(r),s=(await n5()).transaction(Fd,"readwrite"),o=s.objectStore(Fd),l=await o.get(t),u=e(l);return u===void 0?await o.delete(t):await o.put(u,t),await s.done,u&&(!l||l.fid!==u.fid)&&Sj(r,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(r){let e;const t=await Sx(r.appConfig,n=>{const s=fO(n),o=gO(r,s);return e=o.registrationPromise,o.installationEntry});return t.fid===ew?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function fO(r){const e=r||{fid:oO(),registrationStatus:0};return Tj(e)}function gO(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ud.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=mO(r,t);return{installationEntry:t,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pO(r)}:{installationEntry:e}}async function mO(r,e){try{const t=await sO(r,e);return k1(r.appConfig,t)}catch(t){throw yj(t)&&t.customData.serverCode===409?await jj(r.appConfig):await k1(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function pO(r){let e=await J3(r.appConfig);for(;e.registrationStatus===1;)await _j(100),e=await J3(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await s5(r);return n||t}return e}function J3(r){return Sx(r,e=>{if(!e)throw Ud.create("installation-not-found");return Tj(e)})}function Tj(r){return xO(r)?{fid:r.fid,registrationStatus:0}:r}function xO(r){return r.registrationStatus===1&&r.registrationTime+pj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO({appConfig:r,heartbeatServiceProvider:e},t){const n=yO(r,t),s=tO(r,t),o=e.getImmediate({optional:!0});if(o){const g=await o.getHeartbeatsHeader();g&&s.append("x-firebase-client",g)}const l={installation:{sdkVersion:xj,appId:r.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},h=await Cj(()=>fetch(n,u));if(h.ok){const g=await h.json();return vj(g)}else throw await Bj("Generate Auth Token",h)}function yO(r,{fid:e}){return`${wj(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(r,e=!1){let t;const n=await Sx(r.appConfig,o=>{if(!Uj(o))throw Ud.create("not-registered");const l=o.authToken;if(!e&&BO(l))return o;if(l.requestStatus===1)return t=wO(r,e),o;{if(!navigator.onLine)throw Ud.create("app-offline");const u=CO(o);return t=vO(r,u),u}});return t?await t:n.authToken}async function wO(r,e){let t=await Z3(r.appConfig);for(;t.authToken.requestStatus===1;)await _j(100),t=await Z3(r.appConfig);const n=t.authToken;return n.requestStatus===0?a5(r,e):n}function Z3(r){return Sx(r,e=>{if(!Uj(e))throw Ud.create("not-registered");const t=e.authToken;return _O(t)?{...e,authToken:{requestStatus:0}}:e})}async function vO(r,e){try{const t=await bO(r,e),n={...e,authToken:t};return await k1(r.appConfig,n),t}catch(t){if(yj(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await jj(r.appConfig);else{const n={...e,authToken:{requestStatus:0}};await k1(r.appConfig,n)}throw t}}function Uj(r){return r!==void 0&&r.registrationStatus===2}function BO(r){return r.requestStatus===2&&!NO(r)}function NO(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+WM}function CO(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function _O(r){return r.requestStatus===1&&r.requestTime+pj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(r){const e=r,{installationEntry:t,registrationPromise:n}=await s5(e);return n?n.catch(console.error):a5(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(r,e=!1){const t=r;return await IO(t),(await a5(t,e)).token}async function IO(r){const{registrationPromise:e}=await s5(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(r){if(!r||!r.options)throw C2("App Configuration");if(!r.name)throw C2("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw C2(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function C2(r){return Ud.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="installations",TO="installations-internal",UO=r=>{const e=r.getProvider("app").getImmediate(),t=jO(e),n=Ld(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},FO=r=>{const e=r.getProvider("app").getImmediate(),t=Ld(e,Fj).getImmediate();return{getId:()=>EO(t),getToken:s=>SO(t,s)}};function QO(){cl(new oA(Fj,UO,"PUBLIC")),cl(new oA(TO,FO,"PRIVATE"))}QO();Io(mj,r5);Io(mj,r5,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="analytics",LO="firebase_id",kO="origin",RO=60*1e3,DO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",i5="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new ex("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},eo=new Qd("analytics","Analytics",MO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(r){if(!r.startsWith(i5)){const e=eo.create("invalid-gtag-resource",{gtagURL:r});return ri.warn(e.message),""}return r}function Qj(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function PO(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function HO(r,e){const t=PO("firebase-js-sdk-policy",{createScriptURL:OO}),n=document.createElement("script"),s=`${i5}?l=${r}&id=${e}`;n.src=t?t==null?void 0:t.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function VO(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function KO(r,e,t,n,s,o){const l=n[s];try{if(l)await e[l];else{const h=(await Qj(t)).find(g=>g.measurementId===s);h&&await e[h.appId]}}catch(u){ri.error(u)}r("config",s,o)}async function zO(r,e,t,n,s){try{let o=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await Qj(t);for(const h of l){const g=u.find(p=>p.measurementId===h),x=g&&e[g.appId];if(x)o.push(x);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),r("event",n,s||{})}catch(o){ri.error(o)}}function qO(r,e,t,n){async function s(o,...l){try{if(o==="event"){const[u,h]=l;await zO(r,e,t,u,h)}else if(o==="config"){const[u,h]=l;await KO(r,e,t,n,u,h)}else if(o==="consent"){const[u,h]=l;r("consent",u,h)}else if(o==="get"){const[u,h,g]=l;r("get",u,h,g)}else if(o==="set"){const[u]=l;r("set",u)}else r(o,...l)}catch(u){ri.error(u)}}return s}function GO(r,e,t,n,s){let o=function(...l){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=qO(o,r,e,t),{gtagCore:o,wrappedGtag:window[s]}}function XO(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(i5)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=30,YO=1e3;class WO{constructor(e={},t=YO){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Lj=new WO;function JO(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function ZO(r){var l;const{appId:e,apiKey:t}=r,n={method:"GET",headers:JO(t)},s=DO.replace("{app-id}",e),o=await fetch(s,n);if(o.status!==200&&o.status!==304){let u="";try{const h=await o.json();(l=h.error)!=null&&l.message&&(u=h.error.message)}catch{}throw eo.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function eP(r,e=Lj,t){const{appId:n,apiKey:s,measurementId:o}=r.options;if(!n)throw eo.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:n};throw eo.create("no-api-key")}const l=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new nP;return setTimeout(async()=>{u.abort()},RO),kj({appId:n,apiKey:s,measurementId:o},l,u,e)}async function kj(r,{throttleEndTimeMillis:e,backoffCount:t},n,s=Lj){var u;const{appId:o,measurementId:l}=r;try{await tP(n,e)}catch(h){if(l)return ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:l};throw h}try{const h=await ZO(r);return s.deleteThrottleMetadata(o),h}catch(h){const g=h;if(!rP(g)){if(s.deleteThrottleMetadata(o),l)return ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:o,measurementId:l};throw h}const x=Number((u=g==null?void 0:g.customData)==null?void 0:u.httpStatus)===503?tN(t,s.intervalMillis,$O):tN(t,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+x,backoffCount:t+1};return s.setThrottleMetadata(o,p),ri.debug(`Calling attemptFetch again in ${x} millis`),kj(r,p,n,s)}}function tP(r,e){return new Promise((t,n)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(t,s);r.addEventListener(()=>{clearTimeout(o),n(eo.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function rP(r){if(!(r instanceof uA)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class nP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function sP(r,e,t,n,s){if(s&&s.global){r("event",t,n);return}else{const o=await e,l={...n,send_to:o};r("event",t,l)}}async function aP(r,e,t,n){if(n&&n.global){const s={};for(const o of Object.keys(t))s[`user_properties.${o}`]=t[o];return r("set",s),Promise.resolve()}else{const s=await e;r("config",s,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(){if(Kw())try{await aE()}catch(r){return ri.warn(eo.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return ri.warn(eo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function oP(r,e,t,n,s,o,l){const u=eP(r);u.then(v=>{t[v.measurementId]=v.appId,r.options.measurementId&&v.measurementId!==r.options.measurementId&&ri.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>ri.error(v)),e.push(u);const h=iP().then(v=>{if(v)return n.getId()}),[g,x]=await Promise.all([u,h]);XO(o)||HO(o,g.measurementId),s("js",new Date);const p=(l==null?void 0:l.config)??{};return p[kO]="firebase",p.update=!0,x!=null&&(p[LO]=x),s("config",g.measurementId,p),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.app=e}_delete(){return delete $h[this.app.options.appId],Promise.resolve()}}let $h={},eC=[];const tC={};let _2="dataLayer",lP="gtag",rC,o5,nC=!1;function cP(){const r=[];if(rE()&&r.push("This is a browser extension environment."),LQ()||r.push("Cookies are not available."),r.length>0){const e=r.map((n,s)=>`(${s+1}) ${n}`).join(" "),t=eo.create("invalid-analytics-context",{errorInfo:e});ri.warn(t.message)}}function uP(r,e,t){cP();const n=r.options.appId;if(!n)throw eo.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw eo.create("no-api-key");if($h[n]!=null)throw eo.create("already-exists",{id:n});if(!nC){VO(_2);const{wrappedGtag:o,gtagCore:l}=GO($h,eC,tC,_2,lP);o5=o,rC=l,nC=!0}return $h[n]=oP(r,eC,tC,e,rC,_2,t),new AP(r)}function dP(r=cE()){r=Mn(r);const e=Ld(r,R1);return e.isInitialized()?e.getImmediate():hP(r)}function hP(r,e={}){const t=Ld(r,R1);if(t.isInitialized()){const s=t.getImmediate();if(Nu(e,t.getOptions()))return s;throw eo.create("already-initialized")}return t.initialize({options:e})}function fP(r,e,t){r=Mn(r),aP(o5,$h[r.app.options.appId],e,t).catch(n=>ri.error(n))}function gP(r,e,t,n){r=Mn(r),sP(o5,$h[r.app.options.appId],e,t,n).catch(s=>ri.error(s))}const sC="@firebase/analytics",aC="0.10.19";function mP(){cl(new oA(R1,(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return uP(n,s,t)},"PUBLIC")),cl(new oA("analytics-internal",r,"PRIVATE")),Io(sC,aC),Io(sC,aC,"esm2020");function r(e){try{const t=e.getProvider(R1).getImmediate();return{logEvent:(n,s,o)=>gP(t,n,s,o),setUserProperties:(n,s)=>fP(t,n,s)}}catch(t){throw eo.create("interop-component-reg-failed",{reason:t})}}}mP();const pP={apiKey:"AIzaSyBFr--na-wJGHMdev7vUhPufAJHlyP3GNQ",authDomain:"school-9d3db.firebaseapp.com",projectId:"school-9d3db",storageBucket:"school-9d3db.firebasestorage.app",messagingSenderId:"429673694272",appId:"1:429673694272:web:43390c4fdfa5bce4744ba5",measurementId:"G-8YSDYV9VBN"},A5=lE(pP),xd=xR(A5),sr=jM(A5,{localCache:VM({tabManager:GM()})});dP(A5);const xP=()=>{const r=()=>{window.location.reload()},e=()=>{window.open("https://wa.me/972568401548","_blank")},t=navigator.onLine;return i.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center p-4 text-center animate-fade-in relative overflow-hidden",children:[i.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-emerald-900/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-red-900/10 rounded-full blur-3xl"})]}),i.jsxs("div",{className:"relative z-10 max-w-md w-full bg-gray-900 border border-gray-800 rounded-[2.5rem] p-8 shadow-2xl",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6 border-4 border-gray-700 shadow-inner",children:t?i.jsx(D_,{className:"w-10 h-10 text-yellow-500/80"}):i.jsx(mQ,{className:"w-10 h-10 text-red-500/80"})}),i.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white mb-3",children:t?" ":" "}),i.jsx("p",{className:"text-gray-400 text-sm md:text-base leading-relaxed mb-8 font-medium",children:t?"      .      .":"    .       ."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:r,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3.5 rounded-xl font-bold transition-all flex items-center justify-center gap-2 shadow-lg shadow-emerald-900/20",children:[i.jsx(Rg,{className:"w-5 h-5"})," "]}),i.jsxs("div",{className:"relative flex py-2 items-center",children:[i.jsx("div",{className:"flex-grow border-t border-gray-700"}),i.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-500 text-xs font-bold",children:""}),i.jsx("div",{className:"flex-grow border-t border-gray-700"})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[i.jsx("p",{className:"text-gray-300 text-xs font-bold mb-3",children:"       :"}),i.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-3 rounded-lg border border-gray-700",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-white font-bold text-sm",children:".   "}),i.jsx("p",{className:"text-emerald-500 text-xs dir-ltr",children:"Admin Support"})]}),i.jsx("button",{onClick:e,className:"bg-[#25D366] hover:bg-[#20bd5a] text-white p-2 rounded-full transition-colors shadow-md",children:i.jsx(vd,{className:"w-5 h-5"})})]})]})]})]}),i.jsxs("p",{className:"mt-8 text-gray-600 text-xs font-mono",children:["Status: ",t?"ONLINE_TIMEOUT":"OFFLINE"," / RETRY_PENDING"]})]})},Rj=ue.createContext(void 0),bP=({children:r})=>{const[e,t]=ue.useState(null),[n,s]=ue.useState(!0),[o,l]=ue.useState(!1),u=ue.useRef(null),h=ue.useRef(!1),g=T=>{if(!T||T.isSubscriber!==!0||!T.subscriptionExpiry)return!1;const I=Date.now();let O=0;try{if(T.subscriptionExpiry.seconds)O=T.subscriptionExpiry.seconds*1e3;else if(typeof T.subscriptionExpiry=="string")O=new Date(T.subscriptionExpiry).getTime();else if(T.subscriptionExpiry instanceof Date)O=T.subscriptionExpiry.getTime();else return!1}catch(R){return console.error("Date parse error",R),!1}return!(O<=I)},x=(T,I)=>{u.current&&(u.current(),u.current=null);const O=ga(sr,"users",T);u.current=PM(O,R=>{if(R.exists()){const P=R.data(),K=g(P);t(se=>{if(!se&&!I)return null;const ae=se||I||{};return{...ae,...P,uid:T,role:(I==null?void 0:I.role)||P.role||"student",isSubscriber:K,createdAt:P.createdAt||ae.createdAt}})}else I&&t(P=>({...I,isSubscriber:!1}));s(!1)},R=>{console.error("Error syncing profile:",R),s(!1)})},p=(T,I)=>{localStorage.setItem("isTeacher","true"),localStorage.setItem("teacherName",T),localStorage.setItem("teacherEmail",I);const O=`teacher-${I.split("@")[0]}`;let R="https://img.freepik.com/free-vector/teacher-standing-near-blackboard_23-2147517173.jpg";T.includes("")?R="https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P":T.includes("")&&(R="https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj");const P={uid:O,email:I,displayName:T,role:"teacher",avatar:R,gender:"male",isSubscriber:!1,createdAt:{seconds:Date.now()/1e3}};t(P),s(!1),x(O,P)},v=async()=>{try{u.current&&(u.current(),u.current=null),(e==null?void 0:e.role)==="teacher"?(localStorage.removeItem("isTeacher"),localStorage.removeItem("teacherName"),localStorage.removeItem("teacherEmail"),t(null)):(await o7(xd),e!=null&&e.uid&&localStorage.removeItem(`etqan_user_profile_${e.uid}`),t(null))}catch(T){console.error("Logout error",T)}},N=async T=>{if(e)try{let I={...T};if(T.firstName!==void 0||T.lastName!==void 0){const R=T.firstName!==void 0?T.firstName:e.firstName||"",P=T.lastName!==void 0?T.lastName:e.lastName||"";I.displayName=`${R} ${P}`.trim()}const O=ga(sr,"users",e.uid);await _x(O,I,{merge:!0}),t(R=>R?{...R,...I}:null)}catch(I){throw console.error("Error updating profile:",I),I}};return ue.useEffect(()=>{if(!e||!e.isSubscriber)return;const T=setInterval(()=>{g(e)||t(O=>O?{...O,isSubscriber:!1}:null)},6e4);return()=>clearInterval(T)},[e]),ue.useEffect(()=>{const T=setTimeout(()=>{h.current||l(!0)},9e4);let I=null;if(localStorage.getItem("isTeacher")==="true"){const R=localStorage.getItem("teacherName")||"",P=localStorage.getItem("teacherEmail")||"teacher@etqan.edu",K=`teacher-${P.split("@")[0]}`;let se="https://img.freepik.com/free-vector/teacher-standing-near-blackboard_23-2147517173.jpg";R.includes("")?se="https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P":R.includes("")&&(se="https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj");const ae={uid:K,email:P,displayName:R,role:"teacher",avatar:se,gender:"male",isSubscriber:!1};t(ae),s(!1),h.current=!0,clearTimeout(T),x(K,ae)}else I=i7(xd,async R=>{localStorage.getItem("isTeacher")!=="true"&&(h.current=!0,clearTimeout(T),R?x(R.uid,{uid:R.uid,email:R.email||"",displayName:"User",role:"student",isSubscriber:!1}):(t(null),s(!1),u.current&&(u.current(),u.current=null)))});return()=>{I&&I(),u.current&&u.current(),clearTimeout(T)}},[]),o?i.jsx(xP,{}):i.jsx(Rj.Provider,{value:{user:e,loading:n,logout:v,setTeacherSession:p,updateUserProfile:N},children:n?i.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-xl rounded-full"}),i.jsx(jr,{className:"w-12 h-12 text-emerald-500 animate-spin relative z-10"})]}),i.jsx("p",{className:"mt-4 text-gray-400 font-bold text-sm animate-pulse",children:" ..."})]}):r})},ro=()=>{const r=ue.useContext(Rj);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},Dj=({className:r})=>i.jsxs("svg",{viewBox:"0 0 200 200",className:r,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("defs",{children:i.jsx("filter",{id:"shadow",x:"-10%",y:"-10%",width:"120%",height:"120%",children:i.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"4",floodColor:"#000",floodOpacity:"0.25"})})}),i.jsx("path",{d:`M100 20 
           L165 85 
           C175 95 175 110 165 120 
           L135 150 
           L100 115 
           L130 85 
           C135 80 135 75 130 70 
           L100 40 
           L70 70 
           L95 95`,fill:"#F3F4F6",stroke:"#111827",strokeWidth:"6",strokeLinejoin:"round",strokeLinecap:"round"}),i.jsx("path",{d:`M100 180 
           L35 115 
           C25 105 25 90 35 80 
           L65 50 
           L100 85 
           L70 115 
           C65 120 65 125 70 130 
           L100 160 
           L130 130 
           L105 105`,fill:"#10B981",stroke:"#111827",strokeWidth:"6",strokeLinejoin:"round",strokeLinecap:"round"}),i.jsx("path",{d:"M95 95 L70 70",stroke:"#111827",strokeWidth:"6",strokeLinecap:"round"})]}),E2=[{id:"teacher-yazanabokaheal",name:".   "},{id:"teacher-majd",name:".   "}],yP=({onLoginClick:r,onNavigate:e,onLogoutClick:t})=>{var L;const[n,s]=ue.useState(!1),[o,l]=ue.useState(!1),{user:u}=ro(),[h,g]=ue.useState(!1),[x,p]=ue.useState([]),[v,N]=ue.useState(0),[T,I]=ue.useState(!1),O=ue.useRef(null),[R,P]=ue.useState(!1),[K,se]=ue.useState(""),[ae,le]=ue.useState("teacher-yazanabokaheal"),[U,S]=ue.useState(!1),[M,z]=ue.useState(!1),[E,F]=ue.useState(!1);ue.useEffect(()=>{const H=()=>{l(window.scrollY>10)};return window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)},[]),ue.useEffect(()=>{const H=J=>{O.current&&!O.current.contains(J.target)&&g(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]);const D=async(H=!1)=>{if(!u){p([]);return}const J=`etqan_notifications_${u.uid}`,ee=365*24*60*60*1e3,he=Date.now();if(!H){const me=localStorage.getItem(J);if(me)try{const{data:ve,timestamp:Be}=JSON.parse(me);if(he-Be<ee){$(ve);return}}catch(ve){console.error(ve)}}I(!0);try{const ve=Ws(tn(sr,"notifications"),Rf("createdAt","desc"),Df(10)),Xe=(await ni(ve)).docs.map(Re=>({id:Re.id,...Re.data(),createdAt:Re.data().createdAt?{seconds:Re.data().createdAt.seconds}:null}));localStorage.setItem(J,JSON.stringify({data:Xe,timestamp:he})),$(Xe)}catch(me){console.error("Error fetching notifications:",me)}finally{I(!1)}},$=H=>{const J=[];let ee=0,he=[];try{const ve=localStorage.getItem(`viewed_notifs_${u==null?void 0:u.uid}`);he=ve?JSON.parse(ve):[]}catch(ve){console.error("Error parsing viewed notifications",ve)}let me=0;u!=null&&u.createdAt&&(u.createdAt.seconds?me=u.createdAt.seconds*1e3:u.createdAt instanceof Date?me=u.createdAt.getTime():typeof u.createdAt=="string"&&(me=new Date(u.createdAt).getTime())),H.forEach(ve=>{const Be=ve.createdAt?ve.createdAt.seconds?ve.createdAt.seconds*1e3:new Date(ve.createdAt).getTime():Date.now(),Xe=ve.recipientId===(u==null?void 0:u.uid),Re=ve.recipientId==="all",tt=me===0||Be>=me;if(Xe||Re&&tt){const fe=he.includes(ve.id),Me=ve.read===!0,de=fe||Me;de||ee++,J.push({...ve,read:de})}}),p(J),N(ee)};ue.useEffect(()=>{D()},[u]);const be=async()=>{const H=!h;if(g(H),H&&v>0){const J=[...x],ee=J.filter(Be=>!Be.read),he=ee.map(Be=>Be.id);if(he.length===0)return;try{const Be=localStorage.getItem(`viewed_notifs_${u==null?void 0:u.uid}`),Xe=Be?JSON.parse(Be):[],Re=new Set([...Xe,...he]);localStorage.setItem(`viewed_notifs_${u==null?void 0:u.uid}`,JSON.stringify(Array.from(Re)));const tt=`etqan_notifications_${u==null?void 0:u.uid}`,fe=localStorage.getItem(tt);if(fe){const Me=JSON.parse(fe);localStorage.setItem(tt,JSON.stringify(Me))}}catch(Be){console.error("Error updating local storage for notifications",Be)}const me=J.map(Be=>({...Be,read:!0}));p(me),N(0);const ve=ee.filter(Be=>Be.recipientId!=="all");if(ve.length>0)try{const Be=$M(sr);ve.forEach(Xe=>{const Re=ga(sr,"notifications",Xe.id);Be.update(Re,{read:!0})}),await Be.commit()}catch(Be){console.error("Error batch updating notifications:",Be)}}},te=async()=>{if(K.trim()){S(!0);try{const H=E2.find(J=>J.id===ae);await cA(tn(sr,"contact_messages"),{studentId:u==null?void 0:u.uid,studentName:(u==null?void 0:u.displayName)||"",studentEmail:u==null?void 0:u.email,message:K,teacherId:ae,teacherName:H==null?void 0:H.name,createdAt:Ei(),read:!1}),await cA(tn(sr,"notifications"),{recipientId:ae,title:`   ${(u==null?void 0:u.displayName)||""}`,message:K.substring(0,100)+(K.length>100?"...":""),type:"message",senderName:u==null?void 0:u.displayName,senderId:u==null?void 0:u.uid,createdAt:Ei(),read:!1}),alert("    !"),se(""),P(!1),z(!1)}catch(H){console.error(H),alert("   ")}finally{S(!1)}}},Y=()=>{F(!0),setTimeout(()=>F(!1),3e3)},ie=H=>{if(!u){Y(),s(!1);return}e(H),s(!1)},ge=H=>{switch(H){case"quiz":return i.jsx(is,{className:"w-4 h-4 text-yellow-400"});case"file":return i.jsx(Ls,{className:"w-4 h-4 text-blue-400"});case"explanation":return i.jsx(hu,{className:"w-4 h-4 text-purple-400"});case"message":return i.jsx(sA,{className:"w-4 h-4 text-emerald-400"});default:return i.jsx(Jm,{className:"w-4 h-4 text-gray-400"})}},xe=H=>{if(!H)return"";const J=H.toDate?H.toDate():new Date(H.seconds*1e3);return isNaN(J.getTime())?"":J.toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",","")},X=H=>"cursor-pointer px-4 py-2 rounded-xl transition-all font-bold text-sm flex items-center gap-2 text-gray-300 hover:text-white hover:bg-gray-800";return i.jsxs(i.Fragment,{children:[i.jsxs("nav",{className:`fixed w-full z-50 transition-all duration-300 ${o?"bg-gray-950 border-b border-white/5 py-3 shadow-xl":"bg-transparent py-5"}`,children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center relative",children:[i.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>e("HOME"),children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full blur-md opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx(Dj,{className:"w-10 h-10 md:w-12 md:h-12 drop-shadow-xl hover:scale-105 transition-transform"})]}),i.jsx("span",{className:"text-2xl font-black text-white tracking-tight",children:""})]}),i.jsxs("div",{className:"hidden md:flex absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 items-center bg-gray-950/80 backdrop-blur-md p-1.5 rounded-2xl border border-white/5 shadow-2xl",children:[i.jsxs("button",{onClick:()=>e("HOME"),className:X(),children:[i.jsx(Cn,{className:"w-4 h-4"})," "]}),i.jsxs("button",{onClick:()=>ie("QUIZZES"),className:X(),children:[i.jsx(is,{className:"w-4 h-4"})," "]}),i.jsxs("button",{onClick:()=>ie("LESSONS"),className:X(),children:[i.jsx(Ls,{className:"w-4 h-4"})," "]}),i.jsxs("button",{onClick:()=>ie("LESSONS_EXPLANATIONS"),className:X(),children:[i.jsx(tf,{className:"w-4 h-4"})," "]}),i.jsxs("button",{onClick:()=>e("VIP_AREA"),className:X(),children:[i.jsx(Dn,{className:"w-4 h-4"}),"  "]})]}),i.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[u&&i.jsxs("div",{className:"relative",ref:O,children:[i.jsxs("button",{onClick:be,className:"p-2.5 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white transition-all relative border border-gray-700 flex items-center justify-center group","aria-label":"Notifications",children:[i.jsx(Jm,{className:`w-5 h-5 ${v>0?"animate-swing":""}`}),v>0&&i.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[9px] font-bold flex items-center justify-center rounded-full border-2 border-gray-900 animate-pulse",children:v>9?"+9":v})]}),h&&i.jsxs("div",{className:"absolute top-full left-0 md:left-auto md:right-0 mt-3 w-80 bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl overflow-hidden animate-fade-in-up origin-top-right z-[60]",children:[i.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-900/50 backdrop-blur-sm",children:[i.jsxs("h3",{className:"font-bold text-white text-sm flex items-center gap-2",children:[i.jsx(Jm,{className:"w-4 h-4 text-emerald-400"}),""]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:H=>{H.stopPropagation(),D(!0)},className:"p-1.5 hover:bg-gray-800 rounded-full text-gray-400 hover:text-white transition-colors",title:"",children:i.jsx(Rg,{className:`w-3.5 h-3.5 ${T?"animate-spin text-emerald-500":""}`})}),u.role==="student"&&i.jsx("button",{onClick:()=>{g(!1),P(!0)},className:"text-xs bg-emerald-900/30 text-emerald-400 px-2 py-1 rounded-lg hover:bg-emerald-900/50 transition-colors font-bold border border-emerald-500/30",children:i.jsx(sA,{className:"w-3 h-3"})})]})]}),i.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:T&&x.length===0?i.jsx("div",{className:"p-8 text-center flex justify-center",children:i.jsx(jr,{className:"w-6 h-6 animate-spin text-emerald-500"})}):x.length===0?i.jsxs("div",{className:"p-12 text-center text-gray-500 text-sm flex flex-col items-center",children:[i.jsx(Jm,{className:"w-10 h-10 mb-3 opacity-20"}),i.jsx("p",{children:"   "}),i.jsx("button",{onClick:()=>D(!0),className:"mt-2 text-xs text-blue-400 underline",children:""})]}):i.jsx("div",{className:"divide-y divide-gray-800",children:x.map(H=>i.jsxs("div",{className:`p-4 hover:bg-gray-800/50 transition-colors relative ${H.read?"":"bg-emerald-900/10"}`,children:[!H.read&&i.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 bg-emerald-500 rounded-full"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"mt-1 shrink-0 bg-gray-800 p-1.5 w-8 h-8 flex items-center justify-center rounded-full border border-gray-700",children:ge(H.type)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:`text-sm font-bold mb-1 ${H.read?"text-gray-400":"text-white"}`,children:H.title}),i.jsx("p",{className:"text-xs text-gray-500 leading-relaxed line-clamp-2",children:H.message}),i.jsx("span",{className:"text-[10px] text-gray-600 mt-2 block flex items-center gap-1",children:xe(H.createdAt)})]})]})]},H.id))})})]})]}),u?i.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("button",{onClick:()=>e("PROFILE"),className:"flex items-center gap-3 bg-gray-800 hover:bg-gray-700 text-white pr-1 pl-4 py-1.5 rounded-full transition-all border border-gray-700 hover:border-gray-600",children:[u.avatar?i.jsx("img",{src:u.avatar,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover border border-gray-600"}):i.jsx("div",{className:"w-8 h-8 bg-emerald-600 rounded-full flex items-center justify-center text-xs font-bold",children:u.displayName.charAt(0)}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"text-sm font-bold max-w-[120px] truncate leading-tight flex items-center gap-1",children:[u.displayName,u.isSubscriber&&i.jsx(Dn,{className:"w-3 h-3 text-amber-400 fill-amber-400"})]})})]}),i.jsxs("div",{className:"absolute top-full mt-2 left-1/2 -translate-x-1/2 w-max bg-gray-900 text-emerald-400 text-[10px] font-bold px-3 py-1.5 rounded-lg border border-gray-700 opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none shadow-xl z-50",children:["   ",i.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 border-4 border-transparent border-b-gray-900"})]})]}),i.jsx("button",{onClick:t,className:"p-2 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white rounded-full transition-all border border-red-500/20",title:" ",children:i.jsx(fg,{className:"w-5 h-5"})})]}):i.jsxs("button",{onClick:r,className:"hidden md:flex bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2.5 rounded-xl font-bold transition-all shadow-lg shadow-emerald-900/20 items-center gap-2",children:[i.jsx(hy,{className:"w-4 h-4"}),""]}),i.jsx("button",{onClick:()=>s(!n),className:"md:hidden p-2.5 text-gray-300 hover:text-white bg-gray-800 rounded-xl hover:bg-gray-700 transition-colors border border-gray-700",children:n?i.jsx(Ys,{className:"w-6 h-6"}):i.jsx(dF,{className:"w-6 h-6"})})]})]})}),n&&i.jsx("div",{className:"md:hidden absolute top-full left-0 w-full bg-gray-950 border-b border-white/5 shadow-2xl animate-fade-in-up h-[calc(100vh-70px)] overflow-y-auto",children:i.jsxs("div",{className:"px-4 py-6 space-y-3",children:[u&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-[10px] text-emerald-500 font-bold px-4 mb-1",children:"   "}),i.jsx("button",{onClick:()=>{e("PROFILE"),s(!1)},className:"w-full flex items-center justify-between px-4 py-3 rounded-xl text-emerald-400 hover:bg-emerald-900/20 font-bold transition-colors border border-emerald-900/30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(AU,{className:"w-5 h-5"}),u.displayName,u.isSubscriber&&i.jsx(Dn,{className:"w-4 h-4 text-amber-400 fill-amber-400"})]})})]}),i.jsxs("button",{onClick:()=>{e("VIP_AREA"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(Dn,{className:"w-5 h-5"}),"   (VIP)"]}),i.jsxs("button",{onClick:()=>{e("HOME"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(Cn,{className:"w-5 h-5"})," "]}),i.jsxs("button",{onClick:()=>{e("TEACHER_CV"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(tc,{className:"w-5 h-5"}),"   "]}),i.jsxs("button",{onClick:()=>ie("QUIZZES"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(is,{className:"w-5 h-5"})," "]}),i.jsxs("button",{onClick:()=>ie("LESSONS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(Ls,{className:"w-5 h-5"})," "]}),i.jsxs("button",{onClick:()=>ie("LESSONS_EXPLANATIONS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(tf,{className:"w-5 h-5"})," "]}),i.jsxs("button",{onClick:()=>{e("CONTACT_TEACHER"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(vd,{className:"w-5 h-5"}),"  "]}),i.jsxs("button",{onClick:()=>{e("PLATFORM_DEFINITION"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(Y1,{className:"w-5 h-5"}),"  "]}),i.jsx("div",{className:"border-t border-gray-800 my-2 pt-2",children:u?i.jsxs("button",{onClick:()=>{t(),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-400 hover:bg-red-900/20 font-bold transition-colors",children:[i.jsx(fg,{className:"w-5 h-5"}),"  "]}):i.jsxs("button",{onClick:()=>{r(),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl bg-emerald-600 text-white font-bold justify-center shadow-lg",children:[i.jsx(hy,{className:"w-5 h-5"}),"  "]})})]})})]}),E&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none px-4",children:i.jsxs("div",{className:"bg-red-900/90 border border-red-800 shadow-xl rounded-xl p-4 flex items-center gap-3 relative w-full max-w-md animate-fade-in-up pointer-events-auto backdrop-blur-md",children:[i.jsx("div",{className:"bg-red-800 p-2 rounded-full shrink-0",children:i.jsx(ug,{className:"w-6 h-6 text-red-200"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-white text-sm",children:"  "}),i.jsx("p",{className:"text-gray-300 text-xs mt-1",children:"        ."})]}),i.jsx("button",{onClick:()=>F(!1),className:"absolute top-2 left-2 text-gray-300 hover:text-white",children:i.jsx(Ys,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>{F(!1),r()},className:"mr-auto bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors shrink-0",children:""})]})}),R&&i.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{P(!1),z(!1)}}),i.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-md relative shadow-2xl p-6 animate-fade-in-up border border-white/10",children:[i.jsx("button",{onClick:()=>{P(!1),z(!1)},className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-white",children:i.jsx(Ys,{className:"w-5 h-5"})}),M?i.jsxs("div",{className:"text-center py-6 animate-fade-in",children:[i.jsx("div",{className:"w-16 h-16 bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-emerald-400 border border-emerald-500/20",children:i.jsx(_o,{className:"w-8 h-8"})}),i.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),i.jsxs("p",{className:"text-gray-400 text-sm mb-8",children:["        ",i.jsx("span",{className:"text-emerald-400 font-bold",children:(L=E2.find(H=>H.id===ae))==null?void 0:L.name}),""]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:te,disabled:U,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-emerald-900/20",children:U?i.jsx(jr,{className:"w-5 h-5 animate-spin"}):" "}),i.jsx("button",{onClick:()=>z(!1),disabled:U,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-3 rounded-xl font-bold transition-all border border-gray-700",children:""})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-emerald-400 border border-emerald-500/20",children:i.jsx(sA,{className:"w-8 h-8"})}),i.jsx("h3",{className:"text-xl font-black text-white",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"     "})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-2",children:" "}),i.jsx("div",{className:"space-y-2",children:E2.map(H=>i.jsxs("div",{onClick:()=>le(H.id),className:`p-3 rounded-xl border-2 cursor-pointer transition-all flex items-center justify-between ${ae===H.id?"border-emerald-500 bg-emerald-900/20":"border-gray-700 bg-gray-800 hover:bg-gray-750"}`,children:[i.jsx("span",{className:`text-sm font-bold ${ae===H.id?"text-emerald-400":"text-gray-300"}`,children:H.name}),ae===H.id&&i.jsx(Zl,{className:"w-4 h-4 text-emerald-500"})]},H.id))})]}),i.jsx("textarea",{value:K,onChange:H=>se(H.target.value),placeholder:"",className:"w-full h-32 bg-gray-800 border border-gray-700 rounded-xl p-4 text-white outline-none focus:border-emerald-500 mb-4 resize-none focus:ring-2 focus:ring-emerald-500/20 transition-all"}),i.jsxs("button",{onClick:()=>{K.trim()&&z(!0)},disabled:!K.trim(),className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-emerald-900/30",children:[i.jsx(gu,{className:"w-5 h-5"})," "]})]})]})]})]})};var wP=Q_();const vP=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001.002.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V6.79a4.831 4.831 0 0 1-1.003-.104z"})}),BP=({onStartQuiz:r,onLoginClick:e,onNavigate:t})=>{const{user:n}=ro(),[s,o]=ue.useState(!1),[l,u]=ue.useState(!1),[h,g]=ue.useState(!1),x=window.location.origin;ue.useEffect(()=>(l?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[l]);const p=()=>{o(!0),setTimeout(()=>o(!1),3e3)},v=()=>{n?t("QUIZZES"):p()},N=()=>{n?t("LESSONS"):p()},T=()=>{t("LESSONS_EXPLANATIONS")},I=()=>{t("SERVICES")},O=()=>{t("VIP_AREA")},R=()=>{navigator.clipboard.writeText(x),g(!0),setTimeout(()=>g(!1),2e3)};return i.jsxs("section",{className:"relative w-full min-h-screen flex flex-col items-center bg-transparent overflow-hidden animate-fade-in transition-colors duration-300 pt-24 md:pt-32",children:[s&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none px-4",children:i.jsxs("div",{className:"bg-red-900/90 border border-red-800 shadow-xl rounded-xl p-4 flex items-center gap-3 relative w-full max-w-md animate-fade-in-up pointer-events-auto backdrop-blur-md",children:[i.jsx("div",{className:"bg-red-800 p-2 rounded-full shrink-0",children:i.jsx(ug,{className:"w-6 h-6 text-red-200"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-white text-sm",children:"  "}),i.jsx("p",{className:"text-gray-300 text-xs mt-1",children:"        ."})]}),i.jsx("button",{onClick:()=>o(!1),className:"absolute top-2 left-2 text-gray-300 hover:text-white",children:i.jsx(Ys,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>{o(!1),e()},className:"mr-auto bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors shrink-0",children:""})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 w-full relative z-10 flex flex-col items-center text-center",children:[i.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black text-white leading-[1.2] lg:leading-[1.15] mb-6 drop-shadow-lg",children:["  ",i.jsx("br",{}),i.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300 inline-block relative pb-2",children:[" ",i.jsx("svg",{className:"absolute w-full h-3 -bottom-1 right-0 text-emerald-900/50 -z-10",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:i.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]}),i.jsx("br",{}),"  "]}),i.jsxs("p",{className:"text-lg md:text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto mb-10",children:["      ",i.jsx("span",{className:"text-emerald-400 font-black text-2xl px-1 relative inline-block",children:"   "}),"."]}),i.jsxs("div",{className:"flex flex-col w-full max-w-md gap-3 justify-center",children:[i.jsxs("button",{onClick:v,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:i.jsx(is,{className:"w-5 h-5 text-white"})}),i.jsx("span",{children:" "})]}),i.jsx($A,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),i.jsxs("button",{onClick:T,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:i.jsx(tf,{className:"w-5 h-5 text-white"})}),i.jsx("span",{children:" "})]}),i.jsx($A,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),i.jsxs("button",{onClick:N,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:i.jsx(Ls,{className:"w-5 h-5 text-white"})}),i.jsx("span",{children:" "})]}),i.jsx($A,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),i.jsxs("button",{onClick:I,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:i.jsx(Ow,{className:"w-5 h-5 text-white"})}),i.jsx("span",{children:""})]}),i.jsx($A,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),i.jsxs("button",{onClick:O,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:i.jsx(Dn,{className:"w-5 h-5 text-white"})}),i.jsx("span",{children:" "})]}),i.jsx($A,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),i.jsx("div",{className:"w-full mt-2",children:n?i.jsxs("button",{onClick:()=>t("PROFILE"),className:"w-full bg-gray-900 border-2 border-emerald-900 text-emerald-400 hover:bg-emerald-900/20 text-base font-bold py-3 px-5 rounded-xl transition-all flex items-center justify-center gap-3 shadow-sm hover:shadow-md",children:[i.jsx(ei,{className:"w-5 h-5"})," "]}):i.jsxs("button",{onClick:e,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-orange-500/40 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-orange-400/20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:i.jsx(hy,{className:"w-5 h-5 text-white"})}),i.jsx("span",{children:"  "})]}),i.jsx($A,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]})}),i.jsx("div",{className:"relative mt-2 flex justify-center z-50",children:i.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors text-xs font-bold bg-white/5 px-6 py-3 rounded-full border border-white/10 hover:bg-white/10 hover:border-emerald-500/30 group shadow-lg backdrop-blur-sm",children:[i.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-full group-hover:bg-emerald-500/20 transition-colors",children:i.jsx(tc,{className:"w-4 h-4 text-emerald-400 group-hover:text-emerald-300"})}),i.jsx("span",{children:"  "})]})}),l&&wP.createPortal(i.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/95 backdrop-blur-xl animate-fade-in",onClick:()=>u(!1),children:i.jsxs("div",{className:"bg-gray-950 border-2 border-gray-800 rounded-[2.5rem] shadow-2xl p-8 w-full max-w-md flex flex-col gap-8 animate-fade-in-up relative overflow-hidden",onClick:P=>P.stopPropagation(),children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-900/20 rounded-full blur-[80px] pointer-events-none"}),i.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"text-2xl font-black text-white flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-xl border border-emerald-500/20",children:i.jsx(tc,{className:"w-6 h-6 text-emerald-500"})}),"  "]}),i.jsx("p",{className:"text-gray-400 text-sm mt-2 font-bold pr-1",children:"     "})]}),i.jsx("button",{onClick:()=>u(!1),className:"self-start p-2 rounded-full bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-white transition-colors border border-gray-700",children:i.jsx(Ys,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 relative z-10",children:[i.jsxs("a",{href:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",target:"_blank",rel:"noreferrer",className:"flex flex-col items-center gap-3 group",children:[i.jsx("div",{className:"w-20 h-20 rounded-3xl bg-[#1877F2]/10 flex items-center justify-center group-hover:bg-[#1877F2] transition-all shadow-lg group-hover:shadow-[#1877F2]/40 group-hover:-translate-y-1 border border-[#1877F2]/20",children:i.jsx(rf,{className:"w-10 h-10 text-[#1877F2] group-hover:text-white"})}),i.jsx("span",{className:"text-xs font-bold text-gray-400 group-hover:text-white transition-colors",children:""})]}),i.jsxs("a",{href:"#",target:"_blank",rel:"noreferrer",className:"flex flex-col items-center gap-3 group",children:[i.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-tr from-yellow-400/10 via-red-500/10 to-purple-500/10 flex items-center justify-center group-hover:from-yellow-400 group-hover:via-red-500 group-hover:to-purple-500 transition-all shadow-lg group-hover:shadow-pink-500/40 group-hover:-translate-y-1 border border-pink-500/20",children:i.jsx(zU,{className:"w-10 h-10 text-pink-500 group-hover:text-white"})}),i.jsx("span",{className:"text-xs font-bold text-gray-400 group-hover:text-white transition-colors",children:""})]}),i.jsxs("a",{href:"#",target:"_blank",rel:"noreferrer",className:"flex flex-col items-center gap-3 group",children:[i.jsxs("div",{className:"w-20 h-20 rounded-3xl bg-[#00f2ea]/10 flex items-center justify-center group-hover:bg-black transition-all shadow-lg group-hover:shadow-[#00f2ea]/40 group-hover:-translate-y-1 border border-[#00f2ea]/20 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#00f2ea] to-[#ff0050] opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx(vP,{className:"w-10 h-10 text-white relative z-10"})]}),i.jsx("span",{className:"text-xs font-bold text-gray-400 group-hover:text-white transition-colors",children:" "})]})]}),i.jsxs("div",{className:"bg-gray-800 rounded-2xl p-2 pl-2 pr-4 flex items-center border border-gray-700/50 relative z-10",children:[i.jsx("div",{className:"flex-1 text-xs text-gray-400 font-mono truncate dir-ltr opacity-70 tracking-wider",children:x}),i.jsxs("button",{onClick:R,className:`px-5 py-3 rounded-xl font-bold text-xs flex items-center gap-2 transition-all shadow-lg shrink-0 ${h?"bg-emerald-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[h?i.jsx(k_,{className:"w-4 h-4"}):i.jsx(Pw,{className:"w-4 h-4"}),h?" ":" "]})]})]})}),document.body)]})]})]})},S2=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),I2=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),NP=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2C6.48 2 2 6.03 2 11c0 2.87 1.56 5.47 4 7.1V22l3.57-1.96c.78.22 1.6.34 2.43.34 5.52 0 10-4.03 10-9s-4.48-9-10-9zm1.06 12.07l-2.6-2.78-5.07 2.78 5.58-5.93 2.62 2.78 5.05-2.78-5.58 5.93z"})}),Ju=[{id:1,name:" ",text:"      . ",platform:"whatsapp",time:"10:30 "},{id:2,name:" ",text:"     . ",platform:"messenger",time:"11:15 "},{id:3,name:" ",text:"    .",platform:"telegram",time:"09:45 "},{id:4,name:" ",text:" ,.",platform:"whatsapp",time:"02:20 "},{id:5,name:" ",text:"          .",platform:"messenger",time:"04:10 "},{id:6,name:" ",text:"       . ",platform:"telegram",time:"08:00 "},{id:7,name:" ",text:"        . ",platform:"whatsapp",time:"01:30 "},{id:8,name:" ",text:"       .",platform:"messenger",time:"06:45 "},{id:9,name:" ",text:"      .",platform:"telegram",time:"03:15 "},{id:10,name:" ",text:"      ! ",platform:"whatsapp",time:"12:00 "},{id:11,name:" ",text:"   .  . ",platform:"messenger",time:"07:30 "},{id:12,name:"  ",text:"        .",platform:"telegram",time:"10:10 "},{id:13,name:" ",text:"      .",platform:"whatsapp",time:"05:50 "},{id:14,name:" ",text:"     . ",platform:"messenger",time:"09:20 "},{id:15,name:" ",text:"      . ",platform:"telegram",time:"08:45 "}],CP=({onNavigate:r})=>{const[e,t]=ue.useState(0),[n,s]=ue.useState(!0);ue.useEffect(()=>{const h=setInterval(()=>{s(!1),setTimeout(()=>{t(g=>(g+1)%Ju.length),s(!0)},500)},7e3);return()=>clearInterval(h)},[]);const o=h=>{switch(h){case"whatsapp":return i.jsx(S2,{className:"w-5 h-5 text-white"});case"messenger":return i.jsx(NP,{className:"w-5 h-5 text-white"});case"telegram":return i.jsx(I2,{className:"w-5 h-5 text-white"});default:return null}},l=h=>{switch(h){case"whatsapp":return"bg-green-500";case"messenger":return"bg-blue-600";case"telegram":return"bg-sky-500";default:return"bg-gray-500"}},u=h=>i.jsxs("div",{className:"bg-gray-900 md:bg-white/5 md:backdrop-blur-md rounded-3xl p-6 shadow-sm md:shadow-lg border border-gray-800 md:border-white/5 relative h-full flex flex-col hover:border-white/20 hover:bg-gray-800 md:hover:bg-white/10 transition-all",children:[i.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 bg-gray-900 md:bg-white/5 border-b border-r border-gray-800 md:border-white/5 transform rotate-45"}),i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-900/50 flex items-center justify-center text-emerald-300 font-bold text-lg border border-emerald-500/20",children:h.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-white",children:h.name}),i.jsx("span",{className:"text-xs text-gray-500 font-medium",children:h.time})]})]}),i.jsx("div",{className:`w-8 h-8 rounded-full ${l(h.platform)} flex items-center justify-center shadow-md ring-2 ring-black/20`,children:o(h.platform)})]}),i.jsxs("p",{className:"text-gray-300 text-base leading-relaxed font-medium",children:['"',h.text,'"']})]});return i.jsx("section",{className:"py-20 relative overflow-hidden",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl font-black text-white mb-4 drop-shadow-md",children:" "}),i.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),i.jsxs("p",{className:"mt-8 text-lg md:text-xl text-gray-300 max-w-4xl mx-auto leading-relaxed text-center px-4 font-medium",style:{lineHeight:"1.8"},children:["  ",i.jsx("span",{className:"text-emerald-400 font-bold",children:"  "}),"                .       ",i.jsx("span",{className:"text-emerald-400 font-bold",children:" "}),"       ",i.jsx("span",{className:"text-emerald-400 font-bold",children:" "}),"   .      ",i.jsx("span",{className:"text-emerald-400 font-bold",children:" "}),"      ."]}),i.jsx("div",{className:"mt-10 flex justify-center animate-fade-in-up delay-200",children:i.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-900/20 border border-emerald-500/30 px-5 py-2.5 rounded-full shadow-lg backdrop-blur-sm",children:[i.jsx(rl,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),i.jsx("span",{className:"text-emerald-300 font-bold text-sm",children:"   "})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[i.jsxs("div",{className:"bg-gray-900 md:bg-white/5 md:backdrop-blur-xl p-6 rounded-[2.5rem] border border-gray-800 md:border-white/10 hover:border-emerald-500/50 transition-all group flex flex-col h-full shadow-lg md:shadow-2xl",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 mb-4",children:[i.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-2xl overflow-hidden shrink-0 border-4 border-gray-800 md:border-white/10 group-hover:border-emerald-500/30 group-hover:scale-105 transition-all",children:i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"text-center sm:text-right flex-1",children:[i.jsx("h3",{className:"text-2xl font-black text-emerald-400 mb-2 inline-block border-b-2 border-emerald-500/30 pb-1 shadow-[0_2px_10px_-2px_rgba(16,185,129,0.2)]",children:".   "}),i.jsx("p",{className:"text-gray-200 font-bold text-base mb-3 drop-shadow-sm",children:"  "}),i.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-400 text-xs font-medium bg-black/30 px-3 py-1.5 rounded-full inline-flex shadow-inner border border-white/5",children:[i.jsx(fy,{className:"w-3.5 h-3.5 text-emerald-500"}),"   - "]})]})]}),i.jsxs("div",{className:"mt-auto pt-4 border-t border-white/10",children:[i.jsx("p",{className:"text-xs font-bold text-gray-500 mb-3 text-center sm:text-right",children:" "}),i.jsxs("div",{className:"flex gap-3 justify-center sm:justify-start",children:[i.jsx("a",{href:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:i.jsx(rf,{className:"w-6 h-6"})}),i.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:i.jsx(S2,{className:"w-6 h-6"})}),i.jsx("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:i.jsx(I2,{className:"w-6 h-6"})})]})]})]}),i.jsxs("div",{className:"bg-gray-900 md:bg-white/5 md:backdrop-blur-xl p-6 rounded-[2.5rem] border border-gray-800 md:border-white/10 hover:border-blue-500/50 transition-all group flex flex-col h-full shadow-lg md:shadow-2xl",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 mb-4",children:[i.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-2xl overflow-hidden shrink-0 border-4 border-gray-800 md:border-white/10 group-hover:border-blue-500/30 group-hover:scale-105 transition-all",children:i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:".   ",className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"text-center sm:text-right flex-1",children:[i.jsx("h3",{className:"text-2xl font-black text-emerald-400 mb-2 inline-block border-b-2 border-emerald-500/30 pb-1 shadow-[0_2px_10px_-2px_rgba(16,185,129,0.2)]",children:".   "}),i.jsx("p",{className:"text-gray-200 font-bold text-base mb-3 drop-shadow-sm",children:"  "}),i.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-400 text-xs font-medium bg-black/30 px-3 py-1.5 rounded-full inline-flex shadow-inner border border-white/5",children:[i.jsx(fy,{className:"w-3.5 h-3.5 text-blue-500"}),"   - "]})]})]}),i.jsxs("div",{className:"mt-auto pt-4 border-t border-white/10",children:[i.jsx("p",{className:"text-xs font-bold text-gray-500 mb-3 text-center sm:text-right",children:" "}),i.jsxs("div",{className:"flex gap-3 justify-center sm:justify-start",children:[i.jsx("a",{href:"#",className:"w-12 h-12 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:i.jsx(rf,{className:"w-6 h-6"})}),i.jsx("a",{href:"#",className:"w-12 h-12 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:i.jsx(S2,{className:"w-6 h-6"})}),i.jsx("a",{href:"#",className:"w-12 h-12 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:i.jsx(I2,{className:"w-6 h-6"})})]})]})]})]}),i.jsx("div",{className:"text-center mb-12",children:i.jsxs("button",{onClick:()=>r("TEACHER_CV"),className:"inline-flex items-center gap-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white text-xl font-bold px-10 py-5 rounded-full shadow-lg hover:shadow-[0_0_20px_rgba(16,185,129,0.4)] transition-all transform hover:-translate-y-1 border border-emerald-500/50",children:[i.jsx(du,{className:"w-6 h-6"}),"  ",i.jsx(Dw,{className:"w-6 h-6"})]})}),i.jsxs("div",{className:"mb-0 pt-10 border-t border-white/10",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsxs("h2",{className:"text-3xl font-black text-white mb-4",children:["  ",i.jsx("span",{className:"text-emerald-400",children:""}),""]}),i.jsx("p",{className:"text-gray-400",children:"          "})]}),i.jsxs("div",{className:`transform transition-all duration-700 ease-out ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[i.jsxs("div",{className:"block md:hidden space-y-4",children:[u(Ju[e]),u(Ju[(e+1)%Ju.length])]}),i.jsx("div",{className:"hidden md:grid md:grid-cols-3 gap-6",children:[0,1,2].map(h=>{const g=(e+h)%Ju.length;return i.jsx("div",{children:u(Ju[g])},Ju[g].id)})})]})]})]})})},iC=({options:r,value:e,onChange:t,placeholder:n,disabled:s})=>{const[o,l]=ue.useState(!1),u=ue.useRef(null);ue.useEffect(()=>{const g=x=>{u.current&&!u.current.contains(x.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=r.find(g=>g.value===e&&!g.isHeader);return i.jsxs("div",{className:`relative ${o?"z-[100]":"z-0"}`,ref:u,children:[i.jsxs("button",{type:"button",onClick:()=>!s&&l(!o),className:`w-full px-3 py-2.5 rounded-lg border flex justify-between items-center outline-none transition-all font-bold text-sm
            ${s?"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 cursor-not-allowed":o?"bg-white dark:bg-gray-800 border-emerald-500 ring-1 ring-emerald-500/20 text-gray-800 dark:text-white shadow-sm":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-emerald-500 text-gray-800 dark:text-white"}
         `,children:[i.jsx("span",{className:`truncate ${h?"":"text-gray-500"}`,children:h?h.label:n}),i.jsx(el,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-emerald-500":""}`})]}),o&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl max-h-48 overflow-y-auto custom-scrollbar animate-fade-in p-1 z-[100]",children:r.map((g,x)=>{if(g.isHeader)return i.jsx("div",{className:"px-3 py-1.5 text-[10px] font-black text-gray-500 uppercase tracking-wider mt-1 first:mt-0 bg-gray-100 dark:bg-gray-800 rounded-md mb-1",children:g.label},x);const p=g.value===e;return i.jsxs("div",{onClick:()=>{t(g.value),l(!1)},className:`px-3 py-2 rounded-md font-bold text-xs cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${p?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}
                   `,children:[g.label,p&&i.jsx(Zl,{className:"w-3 h-3"})]},x)})})]})},_P=({isOpen:r,onClose:e})=>{const[t,n]=ue.useState("ROLE_SELECTION"),[s,o]=ue.useState(!1),[l,u]=ue.useState(null),[h,g]=ue.useState(null),{setTeacherSession:x}=ro(),[p,v]=ue.useState(""),[N,T]=ue.useState(""),[I,O]=ue.useState(""),[R,P]=ue.useState(""),[K,se]=ue.useState(""),[ae,le]=ue.useState(""),[U,S]=ue.useState(""),[M,z]=ue.useState(""),[E,F]=ue.useState(""),[D,$]=ue.useState("male"),[be,te]=ue.useState(""),[Y,ie]=ue.useState(!1),[ge,xe]=ue.useState(!1),[X,L]=ue.useState("");if(!r)return null;const H=()=>{n("ROLE_SELECTION"),u(null),g(null),v(""),T(""),O(""),P(""),se(""),le(""),S(""),z(""),F(""),$("male"),L(""),te(""),ie(!1),xe(!1),o(!1)},J=()=>{H(),e()},ee=de=>{de.preventDefault(),u(null),o(!0),setTimeout(()=>{p==="2001"?(x(".   ","yazanabokaheal@gmail.com"),g("   !  ..."),setTimeout(()=>window.location.reload(),1e3)):p==="2003"?(x(".   ","majd@etqan.edu"),g("    !  ..."),setTimeout(()=>window.location.reload(),1e3)):(u("   "),o(!1))},100)},he=async de=>{de.preventDefault(),u(null),o(!0);try{await n7(xd,N.trim(),I),g("   !   ..."),setTimeout(()=>{window.location.reload()},1e3)}catch(oe){console.error(oe),u("      "),o(!1)}},me=async de=>{if(de.preventDefault(),!Y){u("     ");return}u(null),o(!0);try{const Je=(await r7(xd,M.trim(),E)).user,ot="",Oe=U==="university"&&be?be:"";await _x(ga(sr,"users",Je.uid),{firstName:R,lastName:K,age:ae,grade:U,gender:D,school:Oe,avatar:ot,profileBackground:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",email:M.trim(),role:"student",totalXP:0,quizzesCompleted:0,createdAt:new Date,acceptedPrivacy:!0,acceptedPrivacyDate:new Date}),g("   !  ..."),setTimeout(()=>{window.location.reload()},1e3)}catch(oe){console.error(oe),oe.code==="auth/email-already-in-use"?u("   "):oe.code==="auth/weak-password"?u("   "):u("    .    ."),o(!1)}},ve=async de=>{de.preventDefault(),u(null),o(!0);try{await t7(xd,X.trim()),g("   !")}catch(oe){console.error(oe),oe.code==="auth/user-not-found"?u("    "):oe.code==="auth/invalid-email"?u("    "):oe.code==="auth/too-many-requests"?u("           ."):u("          .")}finally{o(!1)}},Be=()=>{switch(t){case"TEACHER_LOGIN":return"    ...";case"STUDENT_LOGIN":return"  ...";case"STUDENT_SIGNUP":return"   ...";case"FORGOT_PASSWORD":return"   ...";default:return" ..."}},Xe=()=>i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800 dark:text-white",children:"   "}),i.jsxs("button",{onClick:()=>n("STUDENT_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all",children:[i.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900 p-3 rounded-full ml-4 group-hover:bg-emerald-200 dark:group-hover:bg-emerald-800 transition-colors",children:i.jsx(ei,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"    "})]}),i.jsx(i2,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})]}),i.jsxs("button",{onClick:()=>n("TEACHER_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[i.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full ml-4 group-hover:bg-blue-200 dark:group-hover:bg-blue-800 transition-colors",children:i.jsx(jo,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"   "})]}),i.jsx(i2,{className:"w-5 h-5 text-gray-300 group-hover:text-blue-500"})]})]}),Re=()=>i.jsxs("form",{onSubmit:ee,className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Bo,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:" "}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"     "})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),i.jsx("input",{type:"password",value:p,onChange:de=>v(de.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900 outline-none transition-all text-center text-lg tracking-widest bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0})]}),i.jsx("button",{type:"submit",className:"mt-4 w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 dark:shadow-none",children:""})]}),tt=()=>i.jsxs("form",{onSubmit:he,className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:" !   "})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"email",value:N,onChange:de=>T(de.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),i.jsx(sA,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"password",value:I,onChange:de=>O(de.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0}),i.jsx(Bo,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]}),i.jsx("div",{className:"text-left",children:i.jsx("button",{type:"button",onClick:()=>n("FORGOT_PASSWORD"),className:"text-xs text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})})]}),i.jsx("button",{type:"submit",disabled:s,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["   "," ",i.jsx("button",{type:"button",onClick:()=>n("STUDENT_SIGNUP"),className:"text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})]})})]}),fe=()=>{const de=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(Je=>({label:` ${Je}`,value:Je.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"  ",value:"English Major - QOU"},{label:" ",value:"university"}],oe=[{label:"",value:"male"},{label:"",value:"female"}];return i.jsxs("form",{onSubmit:me,className:"flex flex-col gap-3",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"   "}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"   "})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),i.jsx("input",{type:"text",value:R,onChange:Je=>P(Je.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),i.jsx("input",{type:"text",value:K,onChange:Je=>se(Je.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),i.jsx("input",{type:"number",value:ae,onChange:Je=>le(Je.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),i.jsx(iC,{options:oe,value:D,onChange:Je=>$(Je),placeholder:" "})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 block mb-1",children:" "}),i.jsx(iC,{options:de,value:U,onChange:Je=>S(Je),placeholder:"  / "})]}),U==="university"&&i.jsxs("div",{className:"space-y-1 animate-fade-in",children:[i.jsx("label",{className:"text-xs font-bold text-blue-400 block mb-1",children:"  / "}),i.jsx("input",{type:"text",value:be,onChange:Je=>te(Je.target.value),placeholder:":   - ",className:"w-full px-3 py-2 rounded-lg border border-blue-500/50 focus:border-blue-500 outline-none bg-blue-50 dark:bg-blue-900/10 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),i.jsx("input",{type:"email",value:M,onChange:Je=>z(Je.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),i.jsx("input",{type:"password",value:E,onChange:Je=>F(Je.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0,minLength:6})]}),i.jsxs("div",{className:"flex items-center gap-2 px-1 mt-2",children:[i.jsx("input",{id:"privacy-policy",type:"checkbox",checked:Y,onChange:Je=>ie(Je.target.checked),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500 dark:focus:ring-emerald-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 cursor-pointer"}),i.jsxs("label",{htmlFor:"privacy-policy",className:"text-xs font-bold text-gray-500 dark:text-gray-400 select-none",children:["  ",i.jsx("span",{onClick:Je=>{Je.preventDefault(),xe(!0)},className:"text-emerald-500 dark:text-emerald-400 hover:underline cursor-pointer",children:"   "})]})]}),i.jsx("button",{type:"submit",disabled:s||!Y,className:`mt-2 w-full text-white py-3 rounded-xl font-bold transition-all shadow-lg dark:shadow-none flex items-center justify-center gap-2 ${Y?"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-200":"bg-gray-400 cursor-not-allowed opacity-50"}`,children:" "}),i.jsx("div",{className:"text-center mt-2",children:i.jsx("button",{type:"button",onClick:()=>n("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors",children:"    "})})]})},Me=()=>i.jsxs("form",{onSubmit:ve,className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),i.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:["     ",i.jsx("strong",{children:""}),"  "]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"email",value:X,onChange:de=>L(de.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),i.jsx(sA,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),i.jsx("button",{type:"submit",disabled:s,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:"  "}),i.jsx("div",{className:"text-center mt-4",children:i.jsxs("button",{type:"button",onClick:()=>n("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors flex items-center justify-center gap-1 mx-auto",children:[i.jsx(Dw,{className:"w-4 h-4"}),"  "]})})]});return i.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm transition-opacity duration-300",onClick:J}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-md relative shadow-2xl overflow-visible animate-fade-in-up p-6 min-h-[400px] flex flex-col border border-gray-100 dark:border-gray-800",children:[s&&!h&&i.jsxs("div",{className:"absolute inset-0 bg-gray-950/95 backdrop-blur-xl z-50 flex flex-col items-center justify-center animate-fade-in rounded-3xl border border-white/10 transition-all duration-500",children:[i.jsxs("div",{className:"relative mb-8",children:[i.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-2xl rounded-full animate-pulse"}),i.jsxs("div",{className:"relative w-24 h-24",children:[i.jsx("div",{className:"absolute inset-0 border-t-4 border-emerald-500 border-solid rounded-full animate-spin"}),i.jsx("div",{className:"absolute inset-2 border-r-4 border-blue-500 border-solid rounded-full animate-spin-reverse"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx(ei,{className:"w-8 h-8 text-white/80"})})]})]}),i.jsx("h4",{className:"text-xl font-black text-white mb-2 tracking-tight animate-pulse",children:Be()}),i.jsxs("p",{className:"text-gray-400 text-sm font-medium flex items-center gap-2",children:[i.jsx(jr,{className:"w-3 h-3 animate-spin"}),"    ..."]})]}),i.jsx("button",{onClick:J,disabled:s,className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 disabled:opacity-50",children:i.jsx(Ys,{className:"w-5 h-5"})}),t!=="ROLE_SELECTION"&&!h&&t!=="FORGOT_PASSWORD"&&i.jsxs("button",{onClick:()=>n("ROLE_SELECTION"),disabled:s,className:"absolute top-4 right-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 flex items-center gap-1 disabled:opacity-50",children:[i.jsx(i2,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-bold",children:""})]}),i.jsx("div",{className:"mt-6 flex-1 flex flex-col justify-center",children:h?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center gap-4 animate-fade-in",children:[i.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-2 animate-[bounce_1s_infinite]",children:i.jsx(Zl,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white leading-relaxed px-4 whitespace-pre-line",children:h}),t==="FORGOT_PASSWORD"&&i.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-900 rounded-xl p-4 mx-4 text-sm text-yellow-800 dark:text-yellow-200 text-right shadow-sm mt-4",children:[i.jsxs("p",{className:"font-bold flex items-center gap-2 mb-2 text-yellow-900 dark:text-yellow-100",children:[i.jsx(ug,{className:"w-5 h-5"}),"  :"]}),i.jsxs("p",{className:"leading-relaxed",children:["         ",i.jsx("strong",{children:"    (Spam)"}),"  (Junk)."]})]}),t==="FORGOT_PASSWORD"&&i.jsx("button",{onClick:()=>{n("STUDENT_LOGIN"),g(null)},className:"mt-8 bg-emerald-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none transform hover:scale-105 duration-200",children:"  "})]}):i.jsxs(i.Fragment,{children:[t==="ROLE_SELECTION"&&Xe(),t==="TEACHER_LOGIN"&&Re(),t==="STUDENT_LOGIN"&&tt(),t==="STUDENT_SIGNUP"&&fe(),t==="FORGOT_PASSWORD"&&Me(),l&&i.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 rounded-lg flex items-start gap-2 text-red-600 dark:text-red-400 text-sm animate-fade-in",children:[i.jsx(ug,{className:"w-5 h-5 shrink-0 mt-0.5"}),i.jsx("span",{className:"font-medium",children:l})]})]})}),ge&&i.jsxs("div",{className:"absolute inset-0 bg-gray-900 z-[150] rounded-3xl overflow-hidden flex flex-col animate-fade-in-up",children:[i.jsxs("div",{className:"bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700",children:[i.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[i.jsx(Dg,{className:"w-5 h-5 text-emerald-500"})," "]}),i.jsx("button",{onClick:()=>xe(!1),className:"text-gray-400 hover:text-white",children:i.jsx(Ys,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 text-gray-300 text-sm leading-relaxed space-y-4 custom-scrollbar text-right",children:[i.jsxs("div",{className:"bg-emerald-900/20 p-4 rounded-xl border border-emerald-500/20 mb-4",children:[i.jsx("p",{className:"font-bold text-white mb-1",children:"    !"}),i.jsx("p",{className:"text-xs",children:"       ."})]}),i.jsxs("ul",{className:"space-y-4 list-disc list-inside",children:[i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:" :"}),"                ."]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:" :"}),"                ."]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:" :"}),"            .        ."]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:" :"}),"             ( )."]})]}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700 text-center",children:i.jsx("button",{onClick:()=>xe(!1),className:"bg-emerald-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-emerald-700 transition-colors w-full",children:" "})})]})]})]})]})},EP=()=>{const{user:r}=ro(),[e,t]=ue.useState(null),[n,s]=ue.useState(!1),[o,l]=ue.useState(null),[u,h]=ue.useState("MCQ"),[g,x]=ue.useState("MCQ"),[p,v]=ue.useState({title:"",subject:"English",grade:"",semester:"First",category:"Language",description:"",duration:"30",questionDuration:"",isPremium:!1,keepOrder:!1}),[N,T]=ue.useState([]),[I,O]=ue.useState(null),[R,P]=ue.useState(!1),[K,se]=ue.useState(""),[ae,le]=ue.useState({question:"",options:["","","",""],correctAnswer:0,correctAnswerText:"",explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"}),[U,S]=ue.useState(""),[M,z]=ue.useState(!1),[E,F]=ue.useState([]),[D,$]=ue.useState(!1),[be,te]=ue.useState(""),Y=(fe,Me)=>{le(de=>({...de,[fe]:Me}))},ie=(fe,Me)=>{const de=[...ae.options];de[fe]=Me,le(oe=>({...oe,options:de}))},ge=(fe=!1,Me=!1)=>{le(de=>({question:"",options:["","","",""],correctAnswer:0,correctAnswerText:"",explanation:"",passageContent:Me?de.passageContent:"",generalInstruction:Me?de.generalInstruction:"",passageFontSize:Me?de.passageFontSize:"md"})),S(""),O(null),se(""),P(!1),fe&&(h("MCQ"),x("MCQ"))},xe=()=>{if(!K.trim())return;const fe=K.split(`
`).map(He=>He.trim()).filter(He=>He);if(fe.length<2){alert("  .      .");return}let Me="",de=["","","",""],oe="";const Je=fe.findIndex(He=>He.match(/^(explanation|answer note|reason||||)[:\-\s]/i));if(Je>-1){if(oe=fe[Je].replace(/^(explanation|answer note|reason||||)[:\-\s]*/i,"").trim(),Je<fe.length-1){const He=fe.slice(Je+1).join(" ");oe+=" "+He}fe.splice(Je,fe.length-Je)}const ot=/^([a-d]|[1-4]|||||A-D)[\.\)\-]\s*(.*)/i,Oe=fe.map((He,st)=>He.match(ot)?st:-1).filter(He=>He!==-1);if(Oe.length>=2){const He=Oe[0];Me=fe.slice(0,He).join(`
`),Oe.slice(0,4).forEach((st,it)=>{const vt=fe[st].match(ot);vt&&(de[it]=vt[2].trim())})}else{Me=fe[0];for(let He=0;He<4;He++)fe[He+1]&&(de[He]=fe[He+1])}le(He=>({...He,question:Me,options:de,explanation:oe})),P(!1)},X=()=>{if(!ae.question.trim()){alert("   ");return}const fe=u==="TF"||u==="READING"&&g==="TF";if((u==="MCQ"||u==="READING"&&g==="MCQ")&&ae.options.some(Je=>!Je.trim())){alert("   ");return}if(u==="READING"&&!ae.passageContent.trim()){alert("   ");return}if(u==="REORDER"&&!U.trim()){alert("    ");return}if(u==="REWRITE"&&!ae.correctAnswerText.trim()){alert("   ");return}let de=[];if(fe)de=["",""];else if(u==="REORDER"){if(de=U.split(" ").filter(Je=>Je.trim().length>0),de.length<2){alert("       ");return}}else de=ae.options;const oe={id:I||Date.now(),question:ae.question,options:de,correctAnswer:ae.correctAnswer,correctAnswerText:ae.correctAnswerText,explanation:ae.explanation||"",type:u};u==="READING"&&(oe.passageContent=ae.passageContent,oe.generalInstruction=ae.generalInstruction,oe.passageFontSize=ae.passageFontSize),I?(T(N.map(Je=>Je.id===I?oe:Je)),O(null),ge(!1)):(T([...N,oe]),ge(!1,u==="READING"))},L=fe=>{const Me=N.find(de=>de.id===fe);if(Me){if(O(fe),h(Me.type||"MCQ"),Me.type==="READING"&&(Me.options.length===2&&Me.options.includes("")&&Me.options.includes("")?x("TF"):x("MCQ")),Me.type==="REORDER")S(Me.options.join(" ")),le({question:Me.question,options:["","","",""],correctAnswer:Me.correctAnswer,correctAnswerText:"",explanation:Me.explanation||"",passageContent:Me.passageContent||"",generalInstruction:Me.generalInstruction||"",passageFontSize:Me.passageFontSize||"md"});else{const de=Me.type==="TF"||Me.type==="READING"&&Me.options.length===2&&Me.options.includes("");le({question:Me.question,options:de?["","","",""]:Me.options.length>=4?Me.options:[...Me.options,...Array(4-Me.options.length).fill("")],correctAnswer:Me.correctAnswer,correctAnswerText:Me.correctAnswerText||"",explanation:Me.explanation||"",passageContent:Me.passageContent||"",generalInstruction:Me.generalInstruction||"",passageFontSize:Me.passageFontSize||"md"}),S("")}window.scrollTo({top:0,behavior:"smooth"})}},H=()=>{ge(!1)},J=fe=>{window.confirm("      ")&&(T(N.filter(Me=>Me.id!==fe)),I===fe&&ge(!1))},ee=async()=>{if(!p.title||!p.grade){alert("    /");return}if(N.length===0){alert("     ");return}s(!0);try{const fe={title:p.title,subject:p.subject,grade:p.grade,semester:p.semester,category:p.category,questions:N,createdBy:(r==null?void 0:r.uid)||"teacher",teacherName:(r==null?void 0:r.displayName)||"",description:p.description||"",duration:parseInt(p.duration)||30,questionDuration:p.questionDuration?parseInt(p.questionDuration):null,isPremium:p.isPremium||!1,keepOrder:p.keepOrder||!1};if(o){const Me=ga(sr,"quizzes",o);await Nf(Me,{...fe,updatedAt:Ei()}),alert("    !")}else await cA(tn(sr,"quizzes"),{...fe,createdAt:Ei()}),alert("    !");v({title:"",subject:"English",grade:"",semester:"First",category:"Language",description:"",duration:"30",questionDuration:"",isPremium:!1,keepOrder:!1}),T([]),l(null),ge(!0)}catch(fe){console.error("Error saving quiz:",fe),alert("   ")}finally{s(!1)}},he=()=>{window.confirm("        .")&&(v({title:"",subject:"English",grade:"",semester:"First",category:"Language",description:"",duration:"30",questionDuration:"",isPremium:!1,keepOrder:!1}),T([]),l(null),ge(!0))},me=async()=>{$(!0);try{const fe="etqan_teacher_import_list",de=Date.now(),oe=localStorage.getItem(fe);if(oe){const{data:He,timestamp:st}=JSON.parse(oe);if(de-st<3e5){F(He),$(!1);return}}const Je=Ws(tn(sr,"quizzes"),Rf("createdAt","desc"),Df(50)),Oe=(await ni(Je)).docs.map(He=>({id:He.id,...He.data()}));F(Oe),localStorage.setItem(fe,JSON.stringify({data:Oe,timestamp:de}))}catch(fe){console.error(fe)}$(!1)},ve=()=>{me(),z(!0)},Be=fe=>{if(N.length>0&&!window.confirm("         ."))return;l(fe.id||null);const Me=fe.grade==="English Major - QOU"||fe.grade.includes("University");t(Me?"university":"school"),v({title:fe.title,subject:fe.subject,grade:fe.grade,semester:fe.semester||"First",category:fe.category||"Language",description:fe.description||"",duration:fe.duration?fe.duration.toString():"30",questionDuration:fe.questionDuration?fe.questionDuration.toString():"",isPremium:fe.isPremium||!1,keepOrder:fe.keepOrder||!1}),T(fe.questions),z(!1),ge(!0),window.scrollTo({top:0,behavior:"smooth"})},Xe=E.filter(fe=>(fe.title?fe.title.toLowerCase().includes(be.toLowerCase()):!1)||(fe.grade?fe.grade.includes(be):!1)),Re=[{value:"sm",label:""},{value:"md",label:""},{value:"lg",label:""},{value:"xl",label:" "}];if(!e&&!o)return i.jsx("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in transition-colors duration-300 text-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"max-w-4xl w-full px-4",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:"  "}),i.jsx("p",{className:"text-gray-400",children:"    "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>t("school"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-emerald-500/20",children:i.jsx(iA,{className:"w-12 h-12 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (5 - 12)"})]})]}),i.jsxs("button",{onClick:()=>t("university"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-blue-500/20",children:i.jsx(Da,{className:"w-12 h-12 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  "})]})]})]})]})});const tt=u==="MCQ"||u==="READING"&&g==="MCQ";return i.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"bg-gray-950 pt-10 pb-28 px-4 border-b border-white/5 shadow-sm relative overflow-hidden",children:i.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"p-4 bg-blue-900/30 rounded-3xl shadow-inner border border-blue-800",children:i.jsx(qB,{className:"w-10 h-10 text-blue-400"})}),i.jsxs("div",{className:"text-center md:text-right",children:[i.jsx("h1",{className:"text-3xl md:text-5xl font-black tracking-tight text-white mb-2",children:" "}),i.jsxs("p",{className:"text-blue-400 font-bold text-lg flex items-center gap-2 justify-center md:justify-start",children:[e==="university"?i.jsx(Da,{className:"w-5 h-5"}):i.jsx(iA,{className:"w-5 h-5"})," ",e==="university"?" ":" "]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>{t(null),l(null),ge(!0)},className:"bg-gray-800 text-gray-300 px-4 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-gray-700 transition-colors",children:[i.jsx(ec,{className:"w-5 h-5"})," "]}),i.jsxs("button",{onClick:ve,className:"bg-emerald-600 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-emerald-700 transition-colors shadow-lg",children:[i.jsx(hg,{className:"w-5 h-5"})," "]})]})]})})}),i.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-16 relative z-20",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsxs("div",{className:`bg-gray-900 rounded-[2rem] shadow-xl border p-6 md:p-8 transition-all ${o?"border-blue-500 ring-2 ring-blue-900":"border-gray-700"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-8 border-b border-gray-700 pb-4",children:[i.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-3",children:[i.jsx("div",{className:"bg-blue-900/30 p-2 rounded-lg",children:i.jsx(is,{className:"w-5 h-5 text-blue-400"})}),o?"  ":"  "]}),o&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:"bg-blue-900 text-blue-300 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:" "}),i.jsx("button",{onClick:he,className:"text-red-500 hover:bg-red-900/20 px-2 rounded",children:i.jsx(Ys,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),i.jsx("input",{type:"text",value:p.title,onChange:fe=>v({...p,title:fe.target.value}),placeholder:":    - ",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 transition-all outline-none font-bold text-white placeholder-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(W1,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),e==="university"?i.jsx("input",{type:"text",value:p.subject,onChange:fe=>v({...p,subject:fe.target.value}),placeholder:"  ...",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 outline-none font-bold text-white"}):i.jsxs("select",{value:p.subject,onChange:fe=>v({...p,subject:fe.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"English",children:"English"}),i.jsx("option",{value:"Science",children:""}),i.jsx("option",{value:"Math",children:""})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:e==="university"?" ":" "}),i.jsxs("div",{className:"relative",children:[i.jsx(jo,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),i.jsxs("select",{value:p.grade,onChange:fe=>v({...p,grade:fe.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"",className:"text-gray-400",children:"--  --"}),e==="school"?i.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(fe=>i.jsxs("option",{value:fe.toString(),children:[" ",fe]},fe))}):i.jsx("optgroup",{label:" ",children:i.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:i.jsx(el,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(lg,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),i.jsxs("select",{value:p.semester,onChange:fe=>v({...p,semester:fe.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"First",children:"  "}),i.jsx("option",{value:"Second",children:"  "})]}),i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:i.jsx(el,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"  /  (Category)"}),i.jsxs("div",{className:"relative",children:[i.jsx(V_,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),i.jsxs("select",{value:p.category,onChange:fe=>v({...p,category:fe.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"Language",children:"Language ()"}),i.jsx("option",{value:"Reading",children:"Reading ()"}),i.jsx("option",{value:"Writing",children:"Writing ()"}),i.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"}),i.jsx("option",{value:"General",children:"  (General Quiz)"})]}),i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:i.jsx(el,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[i.jsx(dg,{className:"w-4 h-4 text-blue-600"}),"  ()"]}),i.jsx("input",{type:"number",min:"1",value:p.duration,onChange:fe=>v({...p,duration:fe.target.value}),placeholder:": 30",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 transition-all outline-none font-bold text-white"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[i.jsx(z_,{className:"w-4 h-4 text-blue-600"}),"   ()"]}),i.jsx("input",{type:"number",min:"5",value:p.questionDuration,onChange:fe=>v({...p,questionDuration:fe.target.value}),placeholder:"   ",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 transition-all outline-none font-bold text-white"}),i.jsx("p",{className:"text-[10px] text-gray-500 mt-1 mr-1",children:":         ."})]}),i.jsx("div",{className:"col-span-1",children:i.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-2xl border cursor-pointer transition-all ${p.keepOrder?"bg-indigo-900/20 border-indigo-500/50":"bg-gray-800 border-gray-700 hover:bg-gray-750"}`,children:[i.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${p.keepOrder?"bg-indigo-500":"bg-gray-600"}`,children:i.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all shadow-md ${p.keepOrder?"right-1":"right-7"}`})}),i.jsx("input",{type:"checkbox",className:"hidden",checked:p.keepOrder,onChange:fe=>v({...p,keepOrder:fe.target.checked})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(GB,{className:"w-5 h-5 text-indigo-400"}),i.jsx("span",{className:"font-bold text-white text-sm",children:"  ( )"})]}),i.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"     ."})]})]})}),i.jsx("div",{className:"col-span-1",children:i.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-2xl bg-amber-900/10 border border-amber-500/20 cursor-pointer hover:bg-amber-900/20 transition-colors",children:[i.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${p.isPremium?"bg-amber-500":"bg-gray-600"}`,children:i.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all shadow-md ${p.isPremium?"right-1":"right-7"}`})}),i.jsx("input",{type:"checkbox",className:"hidden",checked:p.isPremium,onChange:fe=>v({...p,isPremium:fe.target.checked})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dn,{className:"w-5 h-5 text-amber-400 fill-amber-400"}),i.jsx("span",{className:"font-bold text-white text-sm",children:"  (Premium)"})]}),i.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"  ."})]})]})})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"  ()"}),i.jsx("textarea",{value:p.description,onChange:fe=>v({...p,description:fe.target.value}),className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-medium text-white h-24 resize-none placeholder-gray-500",placeholder:"    ..."})]})]}),i.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-xl border border-gray-700 p-6 md:p-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 border-b border-gray-700 pb-4",children:[i.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-3",children:[i.jsx("div",{className:"bg-blue-900/30 p-2 rounded-lg",children:i.jsx(zB,{className:"w-5 h-5 text-blue-400"})}),I?" ":" "]}),i.jsxs("div",{className:"flex flex-wrap gap-2 bg-gray-800 p-1.5 rounded-xl self-start",children:[i.jsx("button",{onClick:()=>h("MCQ"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${u==="MCQ"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:""}),i.jsx("button",{onClick:()=>h("TF"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${u==="TF"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:"/"}),i.jsxs("button",{onClick:()=>h("READING"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${u==="READING"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:[i.jsx(Ls,{className:"w-4 h-4"}),""]}),i.jsxs("button",{onClick:()=>h("REORDER"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${u==="REORDER"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:[i.jsx(O_,{className:"w-4 h-4"}),""]}),i.jsxs("button",{onClick:()=>h("REWRITE"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${u==="REWRITE"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:[i.jsx(P_,{className:"w-4 h-4"})," "]})]})]}),!I&&i.jsx("div",{className:"mb-8",children:R?i.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl border border-emerald-500/30 animate-fade-in relative",children:[i.jsx("button",{onClick:()=>P(!1),className:"absolute top-2 left-2 text-gray-500 hover:text-white p-1",children:i.jsx(Ys,{className:"w-4 h-4"})}),i.jsxs("h4",{className:"text-emerald-400 font-bold text-sm mb-2 flex items-center gap-2",children:[i.jsx(hU,{className:"w-4 h-4"}),"  "]}),i.jsx("p",{className:"text-gray-400 text-xs mb-3",children:'   .               ":"  "Explanation:"     .'}),i.jsx("textarea",{value:K,onChange:fe=>se(fe.target.value),className:"w-full h-32 bg-gray-900 border border-gray-700 rounded-xl p-3 text-sm text-white focus:border-emerald-500 outline-none resize-none mb-3"}),i.jsx("div",{className:"flex gap-2 justify-end",children:i.jsxs("button",{onClick:xe,className:"bg-emerald-600 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-emerald-700 flex items-center gap-1",children:[i.jsx(WB,{className:"w-3 h-3"}),"  "]})})]}):i.jsxs("button",{onClick:()=>P(!0),className:"text-xs font-bold text-emerald-400 hover:text-emerald-300 flex items-center gap-1.5 bg-emerald-900/10 px-4 py-2 rounded-lg border border-emerald-500/20 transition-colors w-fit",children:[i.jsx(WB,{className:"w-4 h-4"}),"    ( )"]})}),i.jsxs("div",{className:"space-y-6",children:[u==="READING"&&i.jsxs("div",{className:"space-y-4 bg-blue-900/20 p-5 rounded-2xl border border-blue-800 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h4",{className:"font-bold text-blue-300 flex items-center gap-2",children:[i.jsx(K_,{className:"w-5 h-5"})," "]}),i.jsxs("button",{type:"button",onClick:()=>v(fe=>({...fe,keepOrder:!fe.keepOrder})),className:`text-[10px] font-bold px-3 py-1.5 rounded-lg border transition-colors flex items-center gap-1 ${p.keepOrder?"bg-indigo-600 text-white border-indigo-500":"bg-gray-800 text-gray-400 border-gray-600 hover:text-white"}`,children:[i.jsx(GB,{className:"w-3 h-3"}),p.keepOrder?"  ()":"  "]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-blue-300 mb-1",children:"  (General Instruction)"}),i.jsx("input",{type:"text",value:ae.generalInstruction,onChange:fe=>Y("generalInstruction",fe.target.value),placeholder:": Read the following text then answer the question",className:"w-full px-4 py-3 rounded-xl border border-blue-700 focus:border-blue-500 outline-none bg-gray-800 text-sm font-medium"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-blue-300 mb-1",children:"  (Passage)"}),i.jsx("textarea",{value:ae.passageContent,onChange:fe=>Y("passageContent",fe.target.value),placeholder:"   ... ( Enter   )",className:"w-full px-4 py-3 rounded-xl border border-blue-700 focus:border-blue-500 outline-none bg-gray-800 text-sm font-medium h-40 resize-y whitespace-pre-wrap",style:{direction:"ltr",textAlign:"left"}}),i.jsx("p",{className:"text-[10px] text-blue-500 mt-1",children:"* :        ."})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-end",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-bold text-blue-300 mb-2 flex items-center gap-2",children:[i.jsx(aQ,{className:"w-4 h-4"}),"  "]}),i.jsx("div",{className:"flex gap-2",children:Re.map(fe=>i.jsx("button",{onClick:()=>Y("passageFontSize",fe.value),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${ae.passageFontSize===fe.value?"bg-blue-600 text-white border-blue-600":"bg-gray-800 text-gray-300 border-gray-600 hover:border-blue-400"}`,children:fe.label},fe.value))})]}),i.jsxs("div",{className:"bg-gray-800 p-1.5 rounded-xl border border-blue-700/50 flex gap-2",children:[i.jsxs("button",{onClick:()=>x("MCQ"),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all flex items-center gap-1 ${g==="MCQ"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[i.jsx(M_,{className:"w-3 h-3"}),""]}),i.jsxs("button",{onClick:()=>x("TF"),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all flex items-center gap-1 ${g==="TF"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[i.jsx(ZF,{className:"w-3 h-3"}),"/"]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:u==="READING"?"  ":u==="REORDER"?"/ ":u==="REWRITE"?"  /  ":" "}),i.jsxs("div",{className:"relative",children:[i.jsx(_o,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4"}),i.jsx("input",{type:"text",value:ae.question,onChange:fe=>Y("question",fe.target.value),placeholder:u==="REORDER"?": Rearrange the following sentence":"   ...",className:"w-full px-5 py-4 pr-12 rounded-2xl border-2 border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none font-bold text-lg text-white bg-gray-800 placeholder-gray-400 transition-all"})]})]}),tt?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ae.options.map((fe,Me)=>i.jsxs("div",{className:`relative group transition-all duration-300 ${ae.correctAnswer===Me?"scale-[1.02]":""}`,children:[i.jsxs("label",{className:"flex items-center justify-between mb-2 px-1",children:[i.jsxs("span",{className:`text-xs font-bold ${ae.correctAnswer===Me?"text-blue-400":"text-gray-400"}`,children:[" ",Me+1]}),i.jsx("button",{onClick:()=>Y("correctAnswer",Me),className:`text-[10px] px-2 py-1 rounded-md transition-colors font-bold ${ae.correctAnswer===Me?"bg-blue-900/30 text-blue-300":"bg-gray-700 text-gray-500 hover:bg-gray-600"}`,children:ae.correctAnswer===Me?" ":" "})]}),i.jsx("input",{type:"text",value:fe,onChange:de=>ie(Me,de.target.value),placeholder:`  ${Me+1}`,className:`w-full px-4 py-3 rounded-xl border-2 outline-none transition-all font-medium ${Me===ae.correctAnswer?"border-blue-500 bg-blue-900/20 text-white shadow-sm ring-2 ring-blue-900/30":"border-gray-600 bg-gray-700 focus:border-blue-400 text-gray-200"}`})]},Me))}):u==="REORDER"?i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-1",children:"  (   )"}),i.jsx("input",{type:"text",dir:"ltr",value:U,onChange:fe=>S(fe.target.value),placeholder:"e.g. The sun rises in the east",className:"w-full px-5 py-4 rounded-2xl border-2 border-emerald-800 focus:border-emerald-500 outline-none text-lg font-medium text-white bg-emerald-900/10 text-left"}),U&&i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:U.split(" ").filter(fe=>fe.trim()).map((fe,Me)=>i.jsx("span",{className:"bg-gray-700 px-3 py-1 rounded-lg text-sm font-bold text-gray-300",children:fe},Me))}),i.jsx("p",{className:"text-xs text-gray-500",children:"      ."})]}):u==="REWRITE"?i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-1",children:"  (Model Answer)"}),i.jsx("textarea",{dir:"ltr",value:ae.correctAnswerText,onChange:fe=>Y("correctAnswerText",fe.target.value),placeholder:"         (    )...",className:"w-full px-5 py-4 rounded-2xl border-2 border-blue-800 focus:border-blue-500 outline-none text-lg font-medium text-white bg-blue-900/10 text-left h-24 resize-none"}),i.jsxs("div",{className:"flex items-center gap-2 text-amber-400 bg-amber-900/20 p-3 rounded-xl border border-amber-900/30",children:[i.jsx(J1,{className:"w-5 h-5 shrink-0"}),i.jsx("p",{className:"text-xs font-bold",children:":      (A/a)   ."})]})]}):i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("button",{onClick:()=>Y("correctAnswer",0),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${ae.correctAnswer===0?"border-blue-500 bg-blue-900/30 text-blue-400 shadow-md":"border-gray-600 bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[ae.correctAnswer===0&&i.jsx(kn,{className:"w-6 h-6"})," (True)"]}),i.jsxs("button",{onClick:()=>Y("correctAnswer",1),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${ae.correctAnswer===1?"border-red-500 bg-red-900/30 text-red-400 shadow-md":"border-gray-600 bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[ae.correctAnswer===1&&i.jsx(kn,{className:"w-6 h-6"})," (False)"]})]}),i.jsxs("div",{className:"bg-yellow-900/10 p-4 rounded-2xl border border-yellow-900/30",children:[i.jsxs("label",{className:"block text-sm font-bold text-yellow-500 mb-2 flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"  ()"]}),i.jsx("textarea",{value:ae.explanation,onChange:fe=>Y("explanation",fe.target.value),placeholder:"        ...",className:"w-full px-4 py-3 rounded-xl border border-yellow-800/50 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-900/30 outline-none text-gray-200 bg-gray-800 h-20 resize-none placeholder-gray-400 text-sm",dir:"auto"})]}),i.jsxs("div",{className:"flex gap-3",children:[I&&i.jsxs("button",{onClick:H,className:"flex-1 bg-gray-700 text-gray-300 py-4 rounded-2xl font-bold hover:bg-gray-600 transition-all flex items-center justify-center gap-2",children:[i.jsx(ec,{className:"w-5 h-5"})," "]}),i.jsx("button",{onClick:X,className:`flex-1 bg-gray-800 text-white py-4 rounded-2xl font-bold hover:bg-gray-900 transition-all shadow-none flex items-center justify-center gap-2 transform hover:-translate-y-1 border border-gray-700 ${I?"bg-blue-600 hover:bg-blue-700 border-blue-600":""}`,children:I?i.jsxs(i.Fragment,{children:[i.jsx(fu,{className:"w-5 h-5"})," "]}):i.jsxs(i.Fragment,{children:[i.jsx(zB,{className:"w-5 h-5"}),"  "]})})]})]})]})]}),i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-xl border border-gray-700 p-6",children:[i.jsxs("h3",{className:"text-lg font-black text-white mb-6 flex items-center gap-2",children:[i.jsx(fu,{className:"w-5 h-5 text-blue-400"})," "]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-5 bg-gray-800 rounded-2xl border border-gray-600 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-medium",children:" "}),i.jsx("span",{className:"font-black text-white bg-gray-600 px-3 py-0.5 rounded-md shadow-sm",children:N.length})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-medium",children:" "}),i.jsx("span",{className:"text-blue-400 font-bold bg-blue-900/30 px-2 py-0.5 rounded-md",children:p.category})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-medium",children:" "}),i.jsxs("span",{className:"font-bold text-white",children:[p.duration," "]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-medium",children:""}),i.jsx("span",{className:"font-bold text-white",children:p.semester==="First"?"":""})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-medium",children:" "}),o?i.jsx("span",{className:"text-emerald-400 font-bold bg-emerald-900/30 px-2 py-0.5 rounded-md",children:""}):i.jsx("span",{className:"text-blue-400 font-bold bg-blue-900/30 px-2 py-0.5 rounded-md",children:""})]})]}),i.jsxs("button",{onClick:ee,disabled:n||N.length===0,className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all flex items-center justify-center gap-2 transform ${n||N.length===0?"bg-gray-600 cursor-not-allowed shadow-none":"bg-blue-600 hover:bg-blue-700 shadow-none hover:-translate-y-1"}`,children:[n?i.jsx(jr,{className:"w-5 h-5 animate-spin"}):o?i.jsx(Rg,{className:"w-5 h-5"}):i.jsx(kn,{className:"w-5 h-5"}),n?" ...":o?" ":"  "]})]})]}),N.length>0&&i.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-xl border border-gray-700 p-6 animate-fade-in-up",children:[i.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"bg-blue-900/30 p-1.5 rounded-lg",children:i.jsx(qB,{className:"w-4 h-4 text-blue-400"})}),"  (",N.length,")"]}),i.jsx("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 custom-scrollbar",children:N.map((fe,Me)=>i.jsxs("div",{className:`p-3 rounded-xl border transition-all group relative ${I===fe.id?"bg-blue-900/20 border-blue-500 ring-1 ring-blue-500":"bg-gray-700/50 border-gray-600 hover:border-blue-300"}`,children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"bg-gray-600 text-gray-300 font-bold w-6 h-6 flex items-center justify-center rounded-lg text-xs shrink-0 shadow-sm",children:Me+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-bold text-gray-200 text-sm line-clamp-2 mb-1.5",children:fe.question}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-[10px] bg-gray-600 text-gray-300 px-2 py-0.5 rounded border border-gray-500",children:fe.type==="REORDER"?"":fe.type==="TF"||fe.type==="READING"&&fe.options.length===2&&fe.options.includes("")?"/":fe.type==="REWRITE"?" ":fe.passageContent?" ()":""})})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-600/50 justify-end",children:[i.jsxs("button",{onClick:()=>L(fe.id),className:"flex items-center gap-1 text-xs font-bold text-blue-400 hover:bg-blue-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[i.jsx(py,{className:"w-3.5 h-3.5"}),""]}),i.jsx("div",{className:"w-px h-3 bg-gray-600"}),i.jsxs("button",{onClick:()=>J(fe.id),className:"flex items-center gap-1 text-xs font-bold text-red-500 hover:bg-red-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[i.jsx(nl,{className:"w-3.5 h-3.5"}),""]})]}),fe.explanation&&i.jsxs("div",{className:"mt-2 bg-yellow-900/10 p-2 rounded-lg border border-yellow-900/20 text-xs text-yellow-500/80 line-clamp-1",children:[": ",fe.explanation]})]},fe.id))})]})]})})]})}),M&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-3xl max-h-[85vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-6 flex justify-between items-center shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-emerald-900/30 p-2 rounded-xl",children:i.jsx(hg,{className:"w-6 h-6 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-white",children:" "}),i.jsx("p",{className:"text-sm text-gray-400",children:"    "})]})]}),i.jsx("button",{onClick:()=>z(!1),className:"p-2 hover:bg-gray-700 rounded-full transition-colors text-gray-400",children:i.jsx(Ys,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"p-4 bg-gray-800 border-b border-gray-700",children:i.jsxs("div",{className:"relative",children:[i.jsx(Si,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-4 pointer-events-none"}),i.jsx("input",{type:"text",placeholder:"   ...",value:be,onChange:fe=>te(fe.target.value),className:"w-full px-12 py-3 rounded-xl border border-gray-700 focus:border-emerald-500 outline-none bg-gray-700 font-bold text-white transition-all"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-900 custom-scrollbar",children:D?i.jsx("div",{className:"flex justify-center py-10",children:i.jsx(jr,{className:"w-8 h-8 animate-spin text-emerald-600"})}):Xe.length===0?i.jsx("div",{className:"text-center py-10 text-gray-400",children:"   "}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Xe.map(fe=>i.jsxs("div",{onClick:()=>Be(fe),className:"bg-gray-800 p-4 rounded-2xl border border-gray-700 cursor-pointer hover:border-emerald-500 hover:shadow-lg transition-all group",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:"bg-blue-900/30 text-blue-300 text-[10px] font-bold px-2 py-0.5 rounded-md",children:fe.subject}),i.jsx("span",{className:"text-xs text-gray-400",children:fe.grade})]}),i.jsx("h4",{className:"font-bold text-white mb-2 line-clamp-1 group-hover:text-emerald-400 transition-colors",children:fe.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[i.jsx(_o,{className:"w-3 h-3"}),fe.questions.length," "]})]},fe.id))})})]})})]})},C0=[{minLevel:1,title:" ",color:"bg-gray-100 text-gray-600 border-gray-200",icon:Hw},{minLevel:5,title:" ",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:is},{minLevel:10,title:" ",color:"bg-blue-100 text-blue-700 border-blue-200",icon:Si},{minLevel:15,title:" ",color:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:du},{minLevel:20,title:" ",color:"bg-purple-100 text-purple-700 border-purple-200",icon:_f},{minLevel:30,title:" ",color:"bg-amber-100 text-amber-700 border-amber-200",icon:Dn}],SP=[{id:"first_step",title:" ",desc:"   ",icon:Hw,color:"text-emerald-500",bg:"bg-emerald-500/10",condition:r=>r.quizzesCompleted>=1},{id:"perfect_score",title:" ",desc:"  100%   ",icon:rl,color:"text-yellow-500",bg:"bg-yellow-500/10",condition:r=>r.hasPerfectScore},{id:"dedicated",title:" ",desc:" 5  ",icon:is,color:"text-blue-500",bg:"bg-blue-500/10",condition:r=>r.quizzesCompleted>=5},{id:"high_level",title:" ",desc:"  5",icon:_f,color:"text-orange-500",bg:"bg-orange-500/10",condition:r=>r.level>=5},{id:"expert",title:" ",desc:" 10 ",icon:nf,color:"text-purple-500",bg:"bg-purple-500/10",condition:r=>r.quizzesCompleted>=10},{id:"scholar",title:" ",desc:" 1000   (XP)",icon:Si,color:"text-cyan-500",bg:"bg-cyan-500/10",condition:r=>r.totalXP>=1e3},{id:"sharpshooter",title:"",desc:"    3 ",icon:Mg,color:"text-red-500",bg:"bg-red-500/10",condition:r=>r.perfectScoresCount>=3},{id:"veteran",title:"",desc:" 20 ",icon:Dg,color:"text-indigo-500",bg:"bg-indigo-500/10",condition:r=>r.quizzesCompleted>=20},{id:"rocket",title:"",desc:"  15",icon:H_,color:"text-pink-500",bg:"bg-pink-500/10",condition:r=>r.level>=15},{id:"master",title:"",desc:"  30",icon:Dn,color:"text-amber-500",bg:"bg-amber-500/10",condition:r=>r.level>=30}],IP=[{url:"https://lh3.googleusercontent.com/d/1ufUwP7M3wdxWBW60s2xdpZC6W7jfpXv4",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1AqS4xhkK53MwCO-LFRdmtYBQsYSH6vz1",minLevel:1},{url:"https://lh3.googleusercontent.com/d/198SBde0OI07puyVx53mi9MpZ7F-iKltI",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1E--pczIn4ZCSWpWYhKZutLX8lfhtmCrp",minLevel:5},{url:"https://lh3.googleusercontent.com/d/1ep_ggXFs0rCkGJ212WkY5DuRbLNkyLyr",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1siamCZMGjbXH6L9bop_dN1UPSSwfyIwc",minLevel:15},{url:"https://lh3.googleusercontent.com/d/1seg3JDYcNsDBtTY4gU9N5empajSAT_-E",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1QnacjkYXRr-N4yhmt44LubRxbRnzNgqH",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1h5uzg3mZaeaozqEkzwItA14xqDq7kbMb",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1qKn7YfQr7VaDPXB8EjUvlCW-qt3v5E0u",minLevel:15}],j2=[{id:"nature_1",url:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",name:" ",minLevel:1},{id:"nature_2",url:"https://lh3.googleusercontent.com/d/1tBjHedpcXQiEjXro--zG3iWDokgrDbgZ",name:" ",minLevel:5},{id:"nature_3",url:"https://lh3.googleusercontent.com/d/1Chp7z63_XfLlt4ZC0MRmKwNsSTlCWwOa",name:" ",minLevel:10},{id:"nature_4",url:"https://lh3.googleusercontent.com/d/12RHK_FCMJt8D24AB3UV7nHxbD50EF4MX",name:" ",minLevel:15},{id:"nature_5",url:"https://lh3.googleusercontent.com/d/1We4c8009ObQB9ZDrpQ8ssUuos4V_4b9w",name:" ",minLevel:20}],oC=({options:r,value:e,onChange:t,placeholder:n,disabled:s})=>{const[o,l]=ue.useState(!1),u=ue.useRef(null);ue.useEffect(()=>{const g=x=>{u.current&&!u.current.contains(x.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=r.find(g=>g.value===e&&!g.isHeader);return i.jsxs("div",{className:`relative ${o?"z-[9999]":"z-20"}`,ref:u,children:[i.jsxs("button",{type:"button",onClick:()=>!s&&l(!o),className:`w-full px-4 py-3 rounded-xl border flex justify-between items-center outline-none transition-all font-bold text-sm
            ${s?"bg-gray-950 border-gray-800 text-gray-600 cursor-not-allowed":o?"bg-gray-950 border-blue-500 ring-2 ring-blue-900 text-white shadow-lg":"bg-gray-950 border-gray-800 hover:border-blue-900 text-white shadow-inner"}
         `,children:[i.jsx("span",{className:`truncate ${h?"":"text-gray-600"}`,children:h?h.label:n}),i.jsx(el,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-blue-500":""}`})]}),o&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-900 border border-gray-700 rounded-xl shadow-xl max-h-52 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-[9999]",children:r.map((g,x)=>{if(g.isHeader)return i.jsx("div",{className:"px-4 py-2 text-[10px] font-black text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-800/50 rounded-lg mb-1",children:g.label},x);const p=g.value===e;return i.jsxs("div",{onClick:()=>{t(g.value),l(!1)},className:`px-4 py-2.5 rounded-lg font-bold text-xs cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${p?"bg-blue-900/30 text-blue-400":"text-gray-300 hover:bg-gray-800"}
                   `,children:[g.label,p&&i.jsx(Zl,{className:"w-3 h-3"})]},x)})})]})},jP=({onNavigate:r})=>{const{user:e,updateUserProfile:t}=ro(),[n,s]=ue.useState(!1),[o,l]=ue.useState(null),[u,h]=ue.useState(!1),[g,x]=ue.useState(!1),[p,v]=ue.useState(!1),[N,T]=ue.useState(null),[I,O]=ue.useState((e==null?void 0:e.avatar)||""),[R,P]=ue.useState((e==null?void 0:e.profileBackground)||j2[0].url),[K,se]=ue.useState([]),[ae,le]=ue.useState(!0),[U,S]=ue.useState(0),[M,z]=ue.useState(1),[E,F]=ue.useState(C0[0]),[D,$]=ue.useState({quizzesCompleted:0,hasPerfectScore:!1,level:1,totalXP:0,perfectScoresCount:0}),[be,te]=ue.useState([]),[Y,ie]=ue.useState(""),[ge,xe]=ue.useState(!1),[X,L]=ue.useState("50"),[H,J]=ue.useState(null),[ee,he]=ue.useState(!1),[me,ve]=ue.useState(""),[Be,Xe]=ue.useState(!1),[Re,tt]=ue.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",age:(e==null?void 0:e.age)||"",grade:(e==null?void 0:e.grade)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",school:(e==null?void 0:e.school)||"",gender:(e==null?void 0:e.gender)||"male",universityName:""});ue.useEffect(()=>{e&&(tt(ke=>({...ke,firstName:e.firstName||ke.firstName,lastName:e.lastName||ke.lastName,gender:e.gender||ke.gender,grade:e.grade||ke.grade,school:e.school||ke.school})),e.avatar&&O(e.avatar),e.profileBackground&&P(e.profileBackground))},[e]);const fe=async(ke=!1)=>{if(!e||e.role==="teacher")return;const ut=`etqan_quiz_history_${e.uid}`,It=365*24*60*60*1e3,Ut=Date.now();if(ke)localStorage.removeItem(ut);else{const Ft=localStorage.getItem(ut);if(Ft)try{const{history:Rr,totalXP:Pt,rankLevel:On,stats:lr,timestamp:gn}=JSON.parse(Ft);if(Ut-gn<It){se(Rr),S(Pt),z(On),F(C0.find(fr=>On>=fr.minLevel)||C0[0]),$(lr),le(!1);return}}catch(Rr){console.error(Rr)}}le(!0);try{const Ft=Ws(tn(sr,"quiz_results"),Js("userId","==",e.uid)),Rr=await ni(Ft),Pt=[];let On=0,lr=!1,gn=0;Rr.forEach(Er=>{const Xr=Er.data();Pt.push({id:Er.id,...Er.data(),createdAt:Er.data().createdAt?{seconds:Er.data().createdAt.seconds}:null});let mn=10+Xr.percentage*2;Xr.passed&&(mn+=50),Xr.percentage===100&&(mn+=100,lr=!0,gn++),On+=Math.round(mn)}),Pt.sort((Er,Xr)=>{const mn=Er.createdAt?Er.createdAt.seconds:0;return(Xr.createdAt?Xr.createdAt.seconds:0)-mn});const fr=Pt.slice(0,10);let ur=On;e.totalXP!==void 0&&e.totalXP>ur&&(ur=e.totalXP);const jt=Math.floor(ur/500)+1;se(fr),S(ur),z(jt);const Xt=[...C0].reverse().find(Er=>jt>=Er.minLevel)||C0[0];F(Xt);const ma={quizzesCompleted:Pt.length,hasPerfectScore:lr,level:jt,totalXP:ur,perfectScoresCount:gn};$(ma),localStorage.setItem(ut,JSON.stringify({history:fr,totalXP:ur,rankLevel:jt,stats:ma,timestamp:Ut}))}catch(Ft){console.error(Ft)}finally{le(!1)}};ue.useEffect(()=>{e&&(e.role==="teacher"?(async()=>{xe(!0);const ut="etqan_all_students_teacher",It=1440*60*1e3,Ut=localStorage.getItem(ut),Ft=Date.now();if(Ut)try{const{data:Rr,timestamp:Pt}=JSON.parse(Ut);if(Ft-Pt<It){te(Rr),xe(!1);return}}catch(Rr){console.error(Rr)}try{const Rr=Ws(tn(sr,"users"),Js("role","==","student")),On=(await ni(Rr)).docs.map(lr=>({id:lr.id,...lr.data()}));te(On),localStorage.setItem(ut,JSON.stringify({data:On,timestamp:Ft}))}catch(Rr){console.error(Rr)}finally{xe(!1)}})():fe())},[e]);const Me=async ke=>{ke.preventDefault(),s(!0),l(null);try{let ut={...Re};Re.grade==="university"&&Re.universityName&&(ut.school=Re.universityName),delete ut.universityName,await t(ut),l("   !"),setTimeout(()=>l(null),3e3)}catch(ut){console.error(ut),alert("   ")}finally{s(!1)}},de=async()=>{s(!0);try{await t({avatar:I}),h(!1)}catch(ke){console.error(ke)}finally{s(!1)}},oe=async()=>{s(!0);try{await t({profileBackground:R}),x(!1)}catch(ke){console.error(ke)}finally{s(!1)}},Je=async(ke,ut)=>{if(!ke)return;const It=parseInt(X);if(isNaN(It)||It<=0){alert("    ");return}if(window.confirm(`     ${It} XP  ${ut}`)){s(!0),J(null);try{const Ut=ga(sr,"users",ke);await Nf(Ut,{totalXP:Zy(It)});const Ft=be.map(Pt=>Pt.id===ke?{...Pt,totalXP:(Pt.totalXP||0)+It}:Pt);te(Ft),localStorage.setItem("etqan_all_students_teacher",JSON.stringify({data:Ft,timestamp:Date.now()})),J(`  ${It} XP  ${ut} !`),setTimeout(()=>J(null),3e3)}catch(Ut){console.error(Ut),alert("    ")}finally{s(!1)}}},ot=async()=>{if(!me.trim()){alert("   ");return}Xe(!0);try{await cA(tn(sr,"announcements"),{title:me,teacherName:(e==null?void 0:e.displayName)||"",teacherId:e==null?void 0:e.uid,createdAt:Ei()}),await cA(tn(sr,"notifications"),{recipientId:"all",title:"  ",message:me,type:"info",createdAt:Ei(),read:!1}),alert("   "),ve(""),he(!1)}catch(ke){console.error(ke),alert("   ")}finally{Xe(!1)}},Oe=be.filter(ke=>{const ut=(ke.displayName||"").toLowerCase(),It=(ke.email||"").toLowerCase(),Ut=Y.toLowerCase();return ut.includes(Ut)||It.includes(Ut)}),He=ke=>ke?ke.startsWith("http")?{backgroundImage:`url(${ke})`,backgroundSize:"cover",backgroundPosition:"center"}:{}:{backgroundImage:`url(${j2[0].url})`,backgroundSize:"cover",backgroundPosition:"center"},st=ke=>!ke||ke.startsWith("http")?"bg-no-repeat bg-center":ke,it=ke=>ke<=3?"text-gray-400":ke<=6?"text-emerald-400 font-bold":ke<=9?"text-blue-400 font-bold":ke<=12?"text-cyan-400 font-black":ke<=15?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400 font-black":ke<=20?"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 font-black drop-shadow-sm":ke<=25?"text-transparent bg-clip-text bg-gradient-to-r from-amber-300 to-orange-500 font-black drop-shadow-md":"text-transparent bg-clip-text bg-gradient-to-r from-red-500 via-orange-500 to-yellow-500 font-black animate-pulse drop-shadow-lg",vt=ke=>ke>=30?"border-red-600 ring-2 ring-red-600/50 shadow-[0_0_20px_rgba(220,38,38,0.5)]":ke>=20?"border-orange-700 ring-2 ring-orange-700/30":ke>=15?"border-yellow-400 ring-2 ring-yellow-400/30":ke>=10?"border-blue-800 ring-2 ring-blue-800/30":ke>=5?"border-emerald-500 ring-2 ring-emerald-500/30":"border-gray-500",bt=K.slice(0,10).map(ke=>ke.percentage);bt.length>0&&Math.max(...bt);const Ot=bt.length>0?Math.round(bt.reduce((ke,ut)=>ke+ut,0)/bt.length):0,Yt=Math.min(100,Math.max(0,(U-(M-1)*500)/500*100)),Zt="w-full px-4 py-3 rounded-xl bg-gray-950 border border-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-900 outline-none font-bold text-white transition-all placeholder-gray-600 shadow-inner text-sm",cr=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(ke=>({label:` ${ke}`,value:ke.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"  ",value:"English Major - QOU"},{label:" ",value:"university"}],Mt=[{label:"",value:"male"},{label:"",value:"female"}],At=(ke=>ke>=85?{label:" ",color:"text-emerald-400",bg:"bg-emerald-900/20",border:"border-emerald-500/20"}:ke>=75?{label:"  ",color:"text-blue-400",bg:"bg-blue-900/20",border:"border-blue-500/20"}:ke>=65?{label:" ",color:"text-indigo-400",bg:"bg-indigo-900/20",border:"border-indigo-500/20"}:ke>=50?{label:"",color:"text-yellow-400",bg:"bg-yellow-900/20",border:"border-yellow-500/20"}:{label:"",color:"text-red-400",bg:"bg-red-900/20",border:"border-red-500/20"})(Ot);return(e==null?void 0:e.role)==="teacher"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up pb-32",children:[i.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-12 p-2",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden border-4 border-gray-800 shadow-2xl bg-gray-700",children:e.avatar?i.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):i.jsx(ei,{className:"w-full h-full p-4 text-gray-400"})}),i.jsx("div",{className:"absolute bottom-0 right-0 bg-emerald-500 text-white p-1.5 rounded-full border-4 border-gray-900 shadow-sm",children:i.jsx(kn,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"text-center md:text-right space-y-2",children:[i.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-white",children:[" ",e.displayName]}),i.jsxs("p",{className:"text-gray-400 font-medium text-lg flex items-center justify-center md:justify-start gap-2",children:[i.jsx(sA,{className:"w-4 h-4 text-blue-500"}),e.email]}),i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-blue-900/30 text-blue-300 text-xs font-bold border border-blue-800",children:[i.jsx(jo,{className:"w-3.5 h-3.5"})," "]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-12",children:[i.jsxs("button",{onClick:()=>r&&r("TEACHER_DASHBOARD"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-blue-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-900/20 text-blue-400 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-colors",children:i.jsx(IU,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),i.jsxs("button",{onClick:()=>r&&r("QUESTION_BANK"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-purple-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-900/20 text-purple-400 flex items-center justify-center group-hover:bg-purple-600 group-hover:text-white transition-colors",children:i.jsx(tl,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),i.jsxs("button",{onClick:()=>r&&r("TEACHER_UPLOAD_FILES"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-emerald-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-900/20 text-emerald-400 flex items-center justify-center group-hover:bg-emerald-600 group-hover:text-white transition-colors",children:i.jsx(uy,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),i.jsxs("button",{onClick:()=>r&&r("TEACHER_EXPLANATIONS"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-orange-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-900/20 text-orange-400 flex items-center justify-center group-hover:bg-orange-600 group-hover:text-white transition-colors",children:i.jsx(hu,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),i.jsxs("button",{onClick:()=>he(!0),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-red-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-900/20 text-red-400 flex items-center justify-center group-hover:bg-red-600 group-hover:text-white transition-colors",children:i.jsx(XB,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),i.jsxs("button",{onClick:()=>r&&r("TEACHER_REVIEWS"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-yellow-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-yellow-900/20 text-yellow-400 flex items-center justify-center group-hover:bg-yellow-600 group-hover:text-white transition-colors",children:i.jsx(gg,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:""})]}),i.jsxs("button",{onClick:()=>r&&r("TEACHER_CORRESPONDENCE"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-cyan-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-cyan-900/20 text-cyan-400 flex items-center justify-center group-hover:bg-cyan-600 group-hover:text-white transition-colors",children:i.jsx(gu,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:""})]}),i.jsxs("button",{onClick:()=>r&&r("SUBSCRIPTION_MANAGEMENT"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-amber-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-900/20 text-amber-400 flex items-center justify-center group-hover:bg-amber-600 group-hover:text-white transition-colors",children:i.jsx(a1,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]})]}),i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-sm border border-gray-700 overflow-hidden",children:[i.jsxs("div",{className:"p-8 border-b border-gray-700 bg-gray-800/50 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-2",children:[i.jsx(nf,{className:"w-6 h-6 text-yellow-500"}),"   (XP)"]}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"      "})]}),H&&i.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 text-green-400 px-4 py-2 rounded-xl text-sm font-bold animate-fade-in flex items-center gap-2",children:[i.jsx(kn,{className:"w-4 h-4"})," ",H]})]}),i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Si,{className:"absolute top-3.5 right-4 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"   ...",value:Y,onChange:ke=>ie(ke.target.value),className:"w-full px-12 py-3 rounded-xl bg-gray-900 border border-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none font-bold text-white transition-all"})]}),i.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar p-1",children:ge?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(jr,{className:"w-8 h-8 animate-spin text-blue-500"})}):Y===""?i.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"    ..."}):Oe.length===0?i.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"    "}):Oe.map(ke=>i.jsxs("div",{className:"flex items-center justify-between bg-gray-900/50 p-4 rounded-2xl border border-gray-700 hover:border-blue-700 transition-all",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden",children:ke.avatar?i.jsx("img",{src:ke.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):i.jsx(ei,{className:"w-5 h-5 text-gray-400"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-white text-sm",children:ke.displayName}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[i.jsxs("span",{className:"bg-yellow-500/10 text-yellow-400 px-1.5 rounded font-bold flex items-center gap-0.5",children:[i.jsx(i1,{className:"w-3 h-3"})," ",ke.totalXP||0]}),i.jsxs("span",{children:[" ",ke.email]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("select",{className:"bg-gray-800 border border-gray-700 text-gray-300 text-xs font-bold rounded-lg px-2 py-2 outline-none",value:X,onChange:ut=>L(ut.target.value),children:[i.jsx("option",{value:"10",children:"+10 XP"}),i.jsx("option",{value:"50",children:"+50 XP"}),i.jsx("option",{value:"100",children:"+100 XP"}),i.jsx("option",{value:"200",children:"+200 XP"}),i.jsx("option",{value:"500",children:"+500 XP"})]}),i.jsx("button",{onClick:()=>Je(ke.id,ke.displayName),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg transition-colors shadow-lg shadow-blue-500/30",title:" ",children:i.jsx(gu,{className:"w-4 h-4"})})]})]},ke.id))})]})]})]}),ee&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-md shadow-2xl animate-fade-in-up overflow-hidden border border-gray-700",children:[i.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-6 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-orange-900/30 p-2 rounded-xl",children:i.jsx(XB,{className:"w-6 h-6 text-orange-400"})}),i.jsx("h2",{className:"text-xl font-black text-white",children:"  "})]}),i.jsx("button",{onClick:()=>he(!1),className:"p-2 hover:bg-gray-700 rounded-full text-gray-400",children:i.jsx(Ys,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),i.jsx("input",{type:"text",value:me,onChange:ke=>ve(ke.target.value),placeholder:":      ",className:"w-full px-4 py-3 rounded-xl border border-gray-600 bg-gray-800 text-white focus:border-orange-500 outline-none mb-6"}),i.jsxs("button",{onClick:ot,disabled:Be,className:"w-full bg-orange-600 hover:bg-orange-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[Be?i.jsx(jr,{className:"w-5 h-5 animate-spin"}):i.jsx(fu,{className:"w-5 h-5"}),"   "]})]})]})})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up relative z-20 pb-40",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsx("div",{className:"lg:col-span-7 lg:order-1 space-y-8",children:i.jsxs("div",{className:"bg-gray-900 rounded-[3rem] shadow-xl border border-gray-700 relative group z-20",children:[i.jsxs("div",{className:`relative w-full h-48 md:h-64 transition-all duration-500 rounded-t-[3rem] overflow-hidden ${st(e==null?void 0:e.profileBackground)}`,style:He(e==null?void 0:e.profileBackground),children:[i.jsxs("button",{onClick:()=>x(!0),className:"absolute top-4 left-4 bg-black/30 hover:bg-black/50 text-white backdrop-blur-md px-4 py-2 rounded-full text-xs md:text-sm font-bold flex items-center gap-2 transition-all border border-white/20 z-20",children:[i.jsx(my,{className:"w-4 h-4"}),"  "]}),i.jsxs("div",{className:`absolute top-4 right-4 px-4 py-1.5 rounded-full text-xs font-black flex items-center gap-2 backdrop-blur-md shadow-lg border-2 z-10 ${E.color}`,children:[i.jsx(E.icon,{className:"w-4 h-4"})," ",E.title]})]}),i.jsx("div",{className:"absolute top-28 left-1/2 -translate-x-1/2 md:left-auto md:translate-x-0 md:top-40 md:right-12 z-20",children:i.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>h(!0),children:[i.jsx("div",{className:`w-32 h-32 md:w-44 md:h-44 rounded-full border-[4px] md:border-[6px] overflow-hidden bg-gray-700 relative z-10 flex items-center justify-center transition-all duration-300 shadow-xl ${vt(M)}`,children:e!=null&&e.avatar?i.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover rounded-full"}):i.jsx(ei,{className:"w-16 h-16 text-gray-500"})}),i.jsx("div",{className:"absolute bottom-2 right-2 bg-emerald-500 text-white p-2 rounded-full border-4 border-gray-800 shadow-sm z-20 hover:bg-emerald-600 transition-colors",children:i.jsx(wF,{className:"w-4 h-4"})})]})}),i.jsxs("div",{className:"pt-20 md:pt-24 px-5 md:px-8 pb-8",children:[i.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-right",children:[i.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-1 w-full",children:[i.jsx("h2",{className:"text-3xl font-black text-white",children:e==null?void 0:e.displayName}),(e==null?void 0:e.isSubscriber)&&i.jsx(Dn,{className:"w-6 h-6 text-amber-400 fill-amber-400 animate-pulse"})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-4 bg-gray-800/50 px-3 py-1.5 rounded-lg border border-gray-700/50 hover:bg-gray-800 transition-colors group cursor-pointer w-fit mx-auto md:mx-0",title:" ",onClick:()=>{navigator.clipboard.writeText((e==null?void 0:e.uid)||""),v(!0),setTimeout(()=>v(!1),2e3)},children:[i.jsx(Pw,{className:"w-3.5 h-3.5 text-gray-500 group-hover:text-emerald-400 transition-colors"}),i.jsxs("span",{className:"text-[10px] font-mono text-gray-500 group-hover:text-gray-300 transition-colors tracking-wider",children:["ID: ",e==null?void 0:e.uid.substring(0,8).toUpperCase(),"..."]})]}),i.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 text-sm font-medium mb-6 w-full",children:[i.jsx("span",{className:"text-gray-400",children:e==null?void 0:e.email}),i.jsx("span",{className:"text-gray-300",children:""}),i.jsxs("span",{className:`flex items-center gap-1 ${it(M)}`,children:[i.jsx(nf,{className:"w-3 h-3"}),"  ",M]})]})]}),i.jsxs("form",{onSubmit:Me,className:"space-y-6 border-t border-gray-700 pt-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[i.jsx("div",{className:"md:col-span-2",children:i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-4",children:[i.jsx(ei,{className:"w-5 h-5 text-blue-500"}),"  "]})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),i.jsx("input",{type:"text",value:Re.firstName,onChange:ke=>tt({...Re,firstName:ke.target.value}),className:Zt})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),i.jsx("input",{type:"text",value:Re.lastName,onChange:ke=>tt({...Re,lastName:ke.target.value}),className:Zt})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),i.jsx(oC,{options:Mt,value:Re.gender,onChange:ke=>!(e!=null&&e.genderChanged)&&tt({...Re,gender:ke}),placeholder:" ",disabled:e==null?void 0:e.genderChanged}),(e==null?void 0:e.genderChanged)&&i.jsxs("p",{className:"text-[10px] text-red-400 mt-1 mr-1 flex items-center gap-1",children:[i.jsx(Bo,{className:"w-3 h-3"}),"        "]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),i.jsx("input",{type:"text",value:Re.phone,onChange:ke=>tt({...Re,phone:ke.target.value}),className:Zt})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),i.jsx("input",{type:"text",value:Re.address,onChange:ke=>tt({...Re,address:ke.target.value}),className:Zt})]}),i.jsx("div",{className:"md:col-span-2 mt-2",children:i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-4",children:[i.jsx(jo,{className:"w-5 h-5 text-emerald-500"}),"  "]})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),i.jsx("input",{type:"text",value:Re.school,onChange:ke=>tt({...Re,school:ke.target.value}),className:Zt})]}),i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),i.jsx(oC,{options:cr,value:Re.grade,onChange:ke=>tt({...Re,grade:ke}),placeholder:" "})]}),Re.grade==="university"&&i.jsxs("div",{className:"md:col-span-2 animate-fade-in",children:[i.jsx("label",{className:"text-xs font-bold text-blue-400 mb-1 block",children:"  / "}),i.jsx("input",{type:"text",value:Re.universityName||Re.school,onChange:ke=>tt({...Re,universityName:ke.target.value}),placeholder:"   ...",className:`${Zt} border-blue-500 bg-blue-900/10`})]})]}),i.jsxs("div",{className:"flex items-center justify-end pt-4 gap-4",children:[o&&i.jsxs("span",{className:"text-green-600 font-bold text-sm animate-fade-in flex items-center gap-1",children:[i.jsx(kn,{className:"w-4 h-4"})," ",o]}),i.jsxs("button",{type:"submit",disabled:n,className:"bg-emerald-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-900/20 flex items-center gap-2",children:[n?i.jsx(jr,{className:"w-5 h-5 animate-spin"}):i.jsx(fu,{className:"w-5 h-5"}),"  "]})]})]})]})]})}),i.jsxs("div",{className:"lg:col-span-5 lg:order-2 space-y-6 mt-8 lg:mt-0",children:[i.jsxs("div",{className:"bg-gradient-to-br from-indigo-700 via-purple-700 to-fuchsia-700 rounded-3xl md:rounded-[2.5rem] shadow-2xl p-3 md:p-6 text-white relative overflow-hidden border-2 md:border-4 border-gray-800 ring-2 md:ring-4 ring-gray-900",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-500 opacity-20 rounded-full translate-y-1/2 -translate-x-1/2 blur-3xl"}),i.jsx("div",{className:"flex items-center justify-between mb-2 md:mb-6 relative z-10",children:i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-md opacity-50 rounded-full"}),i.jsx("div",{className:"p-2 md:p-3 bg-gradient-to-br from-yellow-300 to-orange-500 rounded-2xl shadow-lg relative border border-white/30",children:i.jsx(E.icon,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg md:text-3xl font-black tracking-tight",children:[" ",M]}),i.jsxs("p",{className:"text-indigo-100 text-[10px] md:text-xs font-bold flex items-center gap-1.5 mt-1 bg-black/20 px-3 py-0.5 rounded-full w-fit",children:[i.jsx(i1,{className:"w-3 h-3 text-orange-400 fill-orange-400"})," ",U," XP"]})]})]})}),i.jsxs("div",{className:"relative mb-6 md:mb-8",children:[i.jsxs("div",{className:"flex justify-between text-[10px] md:text-xs font-bold text-indigo-200 mb-1 px-1",children:[i.jsx("span",{children:E.title}),i.jsxs("span",{children:["  ",M+1]})]}),i.jsx("div",{className:"w-full bg-black/30 h-3 md:h-3.5 rounded-full relative overflow-hidden backdrop-blur-sm border border-white/10",children:i.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 h-full rounded-full transition-all duration-1000 ease-out relative shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${Yt}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white/30 w-full h-full animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite]"})})})]}),i.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 md:p-5 backdrop-blur-md border border-white/10",children:[i.jsxs("h4",{className:"text-xs md:text-sm font-bold text-indigo-100 mb-2 flex items-center gap-2",children:[i.jsx(Dn,{className:"w-3 h-3 md:w-4 md:h-4 text-yellow-300"}),"  "]}),i.jsx("div",{className:"text-base md:text-xl font-black text-white tracking-wide mb-1",children:E.title}),i.jsx("div",{className:"text-[10px] md:text-xs text-indigo-200",children:"     !"})]})]}),i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 p-4 md:p-5",children:[i.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2 border-b border-gray-700 pb-3",children:[i.jsx("div",{className:"p-2 bg-yellow-900/30 rounded-lg",children:i.jsx(gy,{className:"w-5 h-5 text-yellow-400"})})," "]}),i.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:SP.map((ke,ut)=>{const It=ke.condition(D);return i.jsxs("button",{onClick:()=>T({badge:ke,isUnlocked:It}),className:`relative p-2 rounded-xl border flex flex-col items-center text-center transition-all hover:scale-105 active:scale-95 ${It?"bg-gray-700/50 border-gray-600 shadow-sm hover:shadow-md cursor-pointer":"bg-gray-800/50 border-gray-700 opacity-60 grayscale hover:opacity-100 cursor-pointer"}`,children:[i.jsx("div",{className:`w-8 h-8 md:w-9 md:h-9 rounded-full flex items-center justify-center mb-1 ${It?ke.bg:"bg-gray-700"}`,children:i.jsx(ke.icon,{className:`w-4 h-4 md:w-5 md:h-5 ${It?ke.color:"text-gray-400"}`})}),i.jsx("h4",{className:"font-bold text-[9px] text-gray-300 leading-tight line-clamp-1",children:ke.title}),!It&&i.jsx("div",{className:"absolute top-1 right-1",children:i.jsx(Bo,{className:"w-2.5 h-2.5 text-gray-500"})})]},ut)})}),N&&i.jsxs("div",{className:"mt-4 bg-gray-800/80 rounded-2xl p-4 border border-gray-700 animate-fade-in flex items-start gap-4 relative",children:[i.jsx("button",{onClick:()=>T(null),className:"absolute top-3 left-3 text-gray-500 hover:text-white transition-colors",children:i.jsx(Ys,{className:"w-4 h-4"})}),i.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center shrink-0 ${N.isUnlocked?N.badge.bg:"bg-gray-700"}`,children:i.jsx(N.badge.icon,{className:`w-6 h-6 ${N.isUnlocked?N.badge.color:"text-gray-400"}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-sm font-bold text-white mb-1",children:N.badge.title}),i.jsxs("div",{className:"text-xs mb-1",children:[i.jsx("span",{className:`font-bold ${N.isUnlocked?"text-emerald-400":"text-gray-400"}`,children:N.isUnlocked?" : ":": "}),i.jsx("span",{className:"text-gray-300",children:N.badge.desc})]}),!N.isUnlocked&&i.jsxs("div",{className:"mt-2 flex items-center gap-1 text-[10px] text-gray-500",children:[i.jsx(Bo,{className:"w-3 h-3"}),i.jsx("span",{children:"    "})]}),N.isUnlocked&&i.jsxs("div",{className:"mt-2 flex items-center gap-1 text-[10px] text-emerald-500",children:[i.jsx(kn,{className:"w-3 h-3"}),i.jsx("span",{children:" "})]})]})]})]}),i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 p-4 hover:shadow-md transition-shadow",children:[i.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:i.jsx(q_,{className:"w-5 h-5 text-emerald-400"})}),"   "]}),ae?i.jsx("div",{className:"h-16 flex items-center justify-center",children:i.jsx(jr,{className:"w-5 h-5 animate-spin text-emerald-500"})}):i.jsx("div",{children:i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"bg-gray-800/50 p-2 rounded-2xl border border-gray-700 flex flex-col items-center justify-center h-16",children:[i.jsx("span",{className:"text-gray-400 text-[9px] font-bold mb-1",children:" "}),i.jsxs("span",{className:`text-xl md:text-2xl font-black ${Ot>=85?"text-emerald-400":"text-white"}`,children:[Ot,"%"]})]}),i.jsxs("div",{className:`p-2 rounded-2xl border ${At.bg} ${At.border} flex flex-col items-center justify-center h-16`,children:[i.jsx("span",{className:"text-gray-400 text-[9px] font-bold mb-1",children:" "}),i.jsx("span",{className:`text-base md:text-lg font-black ${At.color}`,children:At.label})]})]})})]}),i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 p-5",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-blue-900/30 rounded-lg",children:i.jsx(PU,{className:"w-5 h-5 text-blue-400"})}),"  "]})}),K.length===0?i.jsxs("div",{className:"text-center py-6 text-gray-500 text-sm",children:[i.jsx(EU,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),i.jsx("p",{children:"    "})]}):i.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:K.map((ke,ut)=>{const Ut=(ke.createdAt?ke.createdAt.seconds?new Date(ke.createdAt.seconds*1e3):new Date(ke.createdAt):new Date).toLocaleDateString("ar-EG");return i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-800/50 border border-gray-700 hover:bg-gray-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 border-l-4 ${ke.passed?"bg-emerald-900/20 text-emerald-400 border-emerald-500":"bg-red-900/20 text-red-400 border-red-500"}`,children:ke.passed?i.jsx(kn,{className:"w-4 h-4"}):i.jsx(R_,{className:"w-4 h-4"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h4",{className:"font-bold text-white text-xs truncate mb-0.5",children:ke.quizTitle}),i.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-400",children:[i.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded text-[9px]",children:ke.subject}),i.jsx("span",{className:"w-1 h-1 bg-gray-600 rounded-full"}),i.jsx("span",{className:"dir-ltr font-mono",children:Ut})]})]})]}),i.jsxs("div",{className:`font-black text-sm ${ke.percentage>=80?"text-emerald-400":ke.percentage>=50?"text-yellow-400":"text-red-400"}`,children:[ke.percentage,"%"]})]},ut)})})]})]})]})}),p&&i.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 animate-slide-up-fade",children:i.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md border border-gray-700 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-3",children:[i.jsx("div",{className:"bg-emerald-500/20 p-1 rounded-full",children:i.jsx(kn,{className:"w-4 h-4 text-emerald-400"})}),i.jsx("span",{className:"font-bold text-sm",children:"    "})]})}),u&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-sm max-h-[85vh] flex flex-col shadow-2xl border border-gray-700 overflow-hidden relative",children:[i.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center shrink-0",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[i.jsx(ei,{className:"w-5 h-5 text-purple-500"}),"  "]}),i.jsx("button",{onClick:()=>h(!1),className:"p-1.5 hover:bg-gray-800 rounded-full transition-colors",children:i.jsx(Ys,{className:"w-5 h-5 text-gray-500"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:i.jsx("div",{className:"grid grid-cols-3 gap-3",children:IP.map((ke,ut)=>{const It=M<ke.minLevel;return i.jsxs("button",{onClick:()=>!It&&O(ke.url),disabled:It,className:`relative aspect-square rounded-xl overflow-hidden border-2 transition-all bg-gray-800 ${I===ke.url?"border-emerald-500 shadow-md ring-2 ring-emerald-900/30":"border-transparent hover:border-gray-600"} ${It?"opacity-60 grayscale":"hover:scale-105 active:scale-95"}`,children:[i.jsx("img",{src:ke.url,alt:`Avatar ${ut}`,className:"w-full h-full object-cover"}),It&&i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 text-white backdrop-blur-[1px]",children:[i.jsx(Bo,{className:"w-4 h-4 mb-0.5"}),i.jsxs("span",{className:"text-[10px] font-bold",children:[" ",ke.minLevel]})]}),!It&&I===ke.url&&i.jsx("div",{className:"absolute top-1 right-1 bg-emerald-500 text-white rounded-full p-0.5 shadow-sm",children:i.jsx(kn,{className:"w-3 h-3"})})]},ut)})})}),i.jsx("div",{className:"p-4 border-t border-gray-800 shrink-0",children:i.jsxs("button",{onClick:de,disabled:n,className:"w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:[n?i.jsx(jr,{className:"w-5 h-5 animate-spin"}):i.jsx(fu,{className:"w-5 h-5"}),"  "]})})]})}),g&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-2xl max-h-[85vh] flex flex-col shadow-2xl border border-gray-700 overflow-hidden relative",children:[i.jsxs("div",{className:"p-5 border-b border-gray-800 flex justify-between items-center shrink-0",children:[i.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(my,{className:"w-6 h-6 text-emerald-500"}),"  "]}),i.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:i.jsx(Ys,{className:"w-6 h-6 text-gray-500"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:j2.map((ke,ut)=>{const It=M<ke.minLevel,Ut=R===ke.url;return i.jsxs("button",{onClick:()=>!It&&P(ke.url),disabled:It,className:`relative h-28 rounded-2xl overflow-hidden border-4 transition-all duration-300 group ${Ut?"border-emerald-500 scale-[1.02] shadow-md":"border-transparent"} ${It?"opacity-60 cursor-not-allowed grayscale":"hover:scale-[1.02] cursor-pointer"}`,children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${ke.url})`}}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:It?i.jsxs("div",{className:"bg-black/60 px-3 py-1.5 rounded-lg backdrop-blur-sm flex items-center gap-1.5",children:[i.jsx(Bo,{className:"w-4 h-4 text-white"}),i.jsxs("span",{className:"text-xs text-white font-bold",children:[" ",ke.minLevel]})]}):Ut&&i.jsx(kn,{className:"w-8 h-8 text-white drop-shadow-md"})}),i.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-black/80 to-transparent p-2 text-center",children:i.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:ke.name})})]},ut)})})}),i.jsxs("div",{className:"p-5 border-t border-gray-800 shrink-0 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>x(!1),className:"px-6 py-2.5 rounded-xl font-bold text-gray-500 hover:bg-gray-800 transition-colors",children:""}),i.jsx("button",{onClick:oe,disabled:n,className:"bg-emerald-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center gap-2",children:n?i.jsx(jr,{className:"w-5 h-5 animate-spin"}):" "})]})]})})]})},TP=[{id:"All",label:" (All)"},{id:"General",label:"  (General Quiz)"},{id:"Reading",label:"Reading ()"},{id:"Language",label:"Language ()"},{id:"Vocabulary",label:"Vocabulary ()"},{id:"Writing",label:"Writing ()"}],AC={General:1,Reading:2,Language:3,Vocabulary:4,Writing:5},T2=({options:r,value:e,onChange:t,placeholder:n,disabled:s})=>{const[o,l]=ue.useState(!1),u=ue.useRef(null);ue.useEffect(()=>{const g=x=>{u.current&&!u.current.contains(x.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=r.find(g=>g.value===e&&!g.isHeader);return i.jsxs("div",{className:`relative ${o?"z-50":"z-0"}`,ref:u,children:[i.jsxs("button",{type:"button",onClick:()=>!s&&l(!o),className:`w-full px-5 py-4 rounded-2xl font-bold text-right border-2 flex justify-between items-center outline-none transition-all
            ${s?"bg-gray-800 border-gray-700 text-gray-400 cursor-not-allowed":o?"bg-gray-800 border-emerald-500 ring-4 ring-emerald-900/20 text-white shadow-lg":"bg-gray-800 border-transparent hover:border-emerald-700 text-white shadow-sm"}
         `,children:[i.jsx("span",{className:`truncate ${h?"":"text-gray-500"}`,children:h?h.label:n}),i.jsx(el,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-emerald-500":""}`})]}),o&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 border border-gray-700 rounded-2xl shadow-xl max-h-72 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-50",children:[r.map((g,x)=>{if(g.isHeader)return i.jsx("div",{className:"px-4 py-2 text-xs font-black text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-700/50 rounded-lg mb-1",children:g.label},x);const p=g.value===e;return i.jsxs("div",{onClick:()=>{t(g.value),l(!1)},className:`px-4 py-3 rounded-xl font-bold text-sm cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${p?"bg-emerald-900/30 text-emerald-400":"text-gray-300 hover:bg-gray-700"}
                   `,children:[g.label,p&&i.jsx(Zl,{className:"w-4 h-4"})]},x)}),r.length===0&&i.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"   "})]})]})},UP=(r="General")=>{switch(r){case"Language":return{label:"",bg:"bg-indigo-500/10",border:"border-indigo-500/20",text:"text-indigo-400",hoverBorder:"group-hover:border-indigo-500/50",buttonHover:"group-hover:bg-indigo-600 group-hover:border-indigo-500 group-hover:text-white",icon:tl};case"Reading":return{label:"",bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-400",hoverBorder:"group-hover:border-emerald-500/50",buttonHover:"group-hover:bg-emerald-600 group-hover:border-emerald-500 group-hover:text-white",icon:Ls};case"Writing":return{label:"",bg:"bg-orange-500/10",border:"border-orange-500/20",text:"text-orange-400",hoverBorder:"group-hover:border-orange-500/50",buttonHover:"group-hover:bg-orange-600 group-hover:border-orange-500 group-hover:text-white",icon:W1};case"Vocabulary":return{label:"",bg:"bg-purple-500/10",border:"border-purple-500/20",text:"text-purple-400",hoverBorder:"group-hover:border-purple-500/50",buttonHover:"group-hover:bg-purple-600 group-hover:border-purple-500 group-hover:text-white",icon:kg};case"General":default:return{label:"",bg:"bg-gray-700/30",border:"border-gray-700",text:"text-gray-400",hoverBorder:"group-hover:border-gray-500",buttonHover:"group-hover:bg-gray-700 group-hover:border-gray-500 group-hover:text-white",icon:is}}},FP=({onBack:r,onNavigate:e})=>{const{user:t}=ro(),[n,s]=ue.useState("SELECTION"),[o,l]=ue.useState(null),[u,h]=ue.useState(""),[g,x]=ue.useState(""),[p,v]=ue.useState("First"),[N,T]=ue.useState("All"),[I,O]=ue.useState([]),[R,P]=ue.useState(!1),[K,se]=ue.useState(null),[ae,le]=ue.useState(0),[U,S]=ue.useState({}),[M,z]=ue.useState(1800),[E,F]=ue.useState(null),[D,$]=ue.useState(!1),[be,te]=ue.useState(0),[Y,ie]=ue.useState({}),[ge,xe]=ue.useState(!1),[X,L]=ue.useState(null),[H,J]=ue.useState(!1),[ee,he]=ue.useState(!1),[me,ve]=ue.useState(!1),[Be,Xe]=ue.useState(0),[Re,tt]=ue.useState(!1),[fe,Me]=ue.useState(!1),[de,oe]=ue.useState(null),[Je,ot]=ue.useState(0),[Oe,He]=ue.useState(""),[st,it]=ue.useState(!1),[vt,bt]=ue.useState(!1),[,Ot]=ue.useState(0);ue.useEffect(()=>{const Qe=setInterval(()=>Ot(ct=>ct+1),5e3);return()=>clearInterval(Qe)},[]);const Yt=()=>{if(!(t!=null&&t.isSubscriber)||!t.subscriptionExpiry)return!1;const Qe=t.subscriptionExpiry.seconds?t.subscriptionExpiry.seconds*1e3:new Date(t.subscriptionExpiry).getTime();return Date.now()<Qe};ue.useEffect(()=>{window.scrollTo(0,0)},[n,o]),ue.useEffect(()=>{g?Zt():O([])},[g,t==null?void 0:t.isSubscriber]),ue.useEffect(()=>{let Qe;return n==="ACTIVE"&&M>0&&(Qe=setInterval(()=>{z(ct=>ct<=1?(Ut(),0):ct-1)},1e3)),()=>clearInterval(Qe)},[n,M]),ue.useEffect(()=>{let Qe;return n==="ACTIVE"&&(K!=null&&K.questionDuration)&&E!==null&&(E>0?Qe=setInterval(()=>{F(ct=>ct!==null&&ct>0?ct-1:0)},1e3):E===0&&It()),()=>clearInterval(Qe)},[n,K,E]),ue.useEffect(()=>{K!=null&&K.questionDuration?F(K.questionDuration):F(null)},[ae,K]),ue.useEffect(()=>{if(n!=="ACTIVE")return;const Qe=()=>{Xe(rt=>{const xt=rt+1;return xt===1?he(!0):xt>=2&&(he(!1),ve(!0)),xt})},ct=()=>{document.hidden&&Qe()},kt=rt=>{(rt.key==="PrintScreen"||rt.ctrlKey&&rt.key==="p"||rt.metaKey&&rt.shiftKey)&&(rt.preventDefault(),Qe())},yt=rt=>rt.preventDefault();return document.addEventListener("visibilitychange",ct),document.addEventListener("keydown",kt),document.addEventListener("contextmenu",yt),document.addEventListener("copy",yt),document.addEventListener("paste",yt),document.addEventListener("cut",yt),document.addEventListener("selectstart",yt),()=>{document.removeEventListener("visibilitychange",ct),document.removeEventListener("keydown",kt),document.removeEventListener("contextmenu",yt),document.removeEventListener("copy",yt),document.removeEventListener("paste",yt),document.removeEventListener("cut",yt),document.removeEventListener("selectstart",yt)}},[n]);const Zt=async()=>{P(!0);try{const Qe=Ws(tn(sr,"quizzes"),Js("grade","==",g)),ct=await fj(Qe),kt=[];ct.forEach(yt=>{kt.push({id:yt.id,...yt.data()})}),O(kt)}catch(Qe){console.error("Error fetching quizzes:",Qe)}finally{P(!1)}},cr=Array.from(new Set(I.map(Qe=>Qe.subject))),Mt=I.filter(Qe=>{const ct=u?Qe.subject===u:!0,kt=N&&N!=="All"?Qe.category===N:!0,rt=(Qe.semester||"First")===p;return ct&&kt&&rt}),ar=Qe=>{const ct=Yt();if(Qe.isPremium&&!ct){tt(!0);return}L(Qe),xe(!0)},At=Qe=>{if(!Qe.questions||Qe.questions.length===0){alert("      ");return}let ct=[...Qe.questions];Qe.keepOrder||ct.sort(()=>Math.random()-.5),ct=ct.map(xt=>{if(xt.type==="MCQ"||xt.type==="TF"||xt.type==="READING"){const Qt=xt.options.map((mt,rr)=>({opt:mt,originalIndex:rr}));Qt.sort(()=>Math.random()-.5);const _t=Qt.map(mt=>mt.opt),Ht=Qt.findIndex(mt=>mt.originalIndex===xt.correctAnswer);return{...xt,options:_t,correctAnswer:Ht}}return xt});const kt={...Qe,questions:ct},yt={};ct.forEach((xt,Qt)=>{if(xt.type==="REORDER"){const _t=xt.options.map((Ht,mt)=>mt);for(let Ht=_t.length-1;Ht>0;Ht--){const mt=Math.floor(Math.random()*(Ht+1));[_t[Ht],_t[mt]]=[_t[mt],_t[Ht]]}yt[Qt]=_t}}),ie(yt),se(kt),le(0),S({});const rt=Qe.duration?Qe.duration*60:1800;z(rt),te(0),Xe(0),ve(!1),ot(0),He(""),bt(!1),xe(!1),L(null),s("ACTIVE")},ke=()=>{X&&At(X)},ut=Qe=>{S(ct=>({...ct,[ae]:Qe}))},It=()=>{K&&(F(null),ae<K.questions.length-1?le(Qe=>Qe+1):Ut())},Ut=async()=>{var yt;if(!K||!t){s("RESULT");return}$(!0);const Qe=Pt(),ct=Math.round(Qe/K.questions.length*100);let kt=Qe*30;te(kt);try{if(t.role==="teacher"){console.log("Teacher simulation: skipping database save."),s("RESULT"),$(!1);return}const rt=((yt=xd.currentUser)==null?void 0:yt.uid)||t.uid;try{await cA(tn(sr,"quiz_results"),{userId:rt,userName:t.displayName,quizId:K.id||"unknown",quizTitle:K.title,subject:K.subject,score:Qe,totalQuestions:K.questions.length,percentage:ct,passed:ct>=50,earnedXP:kt,createdAt:Ei()})}catch(_t){console.error("Critical: Error saving quiz_results record:",_t)}try{const _t=ga(sr,"users",rt);await _x(_t,{totalXP:Zy(kt),quizzesCompleted:Zy(1),lastQuizDate:Ei(),role:"student",email:t.email,displayName:t.displayName},{merge:!0})}catch(_t){console.error("Error updating user XP/Stats:",_t)}const xt=`etqan_user_profile_${rt}`,Qt=localStorage.getItem(xt);if(Qt)try{const{data:_t,timestamp:Ht}=JSON.parse(Qt),mt={..._t,totalXP:(_t.totalXP||0)+kt,quizzesCompleted:(_t.quizzesCompleted||0)+1};localStorage.setItem(xt,JSON.stringify({data:mt,timestamp:Ht}))}catch{}localStorage.removeItem(`etqan_quiz_history_${rt}`)}catch(rt){console.error("General error in handleSubmitQuiz:",rt)}finally{$(!1),s("RESULT")}},Ft=async()=>{var Qe;if(Je!==0&&!(!K||!t)){it(!0);try{const ct=(K==null?void 0:K.id)||"unknown",kt=(K==null?void 0:K.title)||"";await cA(tn(sr,"reviews"),{type:"quiz",targetId:ct,targetTitle:kt,teacherId:(K==null?void 0:K.createdBy)||"teacher",teacherName:(K==null?void 0:K.teacherName)||"",rating:Je,comment:Oe,studentId:((Qe=xd.currentUser)==null?void 0:Qe.uid)||t.uid,studentName:t.displayName,createdAt:Ei()}),bt(!0)}catch(ct){console.error("Error saving review:",ct),alert("     (   Firestore)")}finally{it(!1)}}},Rr=Qe=>{const ct=Math.floor(Qe/60),kt=Qe%60;return`${ct}:${kt<10?"0":""}${kt}`},Pt=()=>{if(!K)return 0;let Qe=0;return K.questions.forEach((ct,kt)=>{if(ct.type==="REORDER"){const yt=U[kt];if(yt&&yt.length===ct.options.length){let rt=!0;for(let xt=0;xt<ct.options.length;xt++)if(yt[xt]!==xt){rt=!1;break}rt&&Qe++}}else if(ct.type==="REWRITE"){const yt=U[kt];yt&&yt.trim()===(ct.correctAnswerText||"").trim()&&Qe++}else U[kt]===ct.correctAnswer&&Qe++}),Qe},On=()=>{J(!0)},lr=()=>{J(!1),s("SELECTION")},gn=()=>{ve(!1),s("SELECTION")},fr=Qe=>{oe(Qe),Me(!0)},ur=()=>{if(Me(!1),de==="REVIEW")s("REVIEW");else if(de==="RETAKE"){const Qe=I.find(ct=>ct.id===(K==null?void 0:K.id));Qe?At(Qe):s("SELECTION")}else de==="LIST"?s("SELECTION"):de==="HOME"&&r();oe(null)},jt=(Qe,ct)=>{const kt=U[ae]||[];ut(ct?[...kt,Qe]:kt.filter(yt=>yt!==Qe))},Xt=({title:Qe,message:ct,onConfirm:kt,onCancel:yt,icon:rt=_o,confirmText:xt="",cancelText:Qt="",confirmColor:_t="emerald",isStatic:Ht=!1})=>i.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:Qt?yt:void 0}),i.jsxs("div",{className:`bg-gray-900 rounded-[2.5rem] p-8 max-sm w-full relative z-10 text-center border border-white/10 shadow-2xl shadow-black/50 ${Ht?"":"animate-fade-in-up"}`,children:[i.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 ${_t==="red"?"bg-red-500/20":"bg-emerald-500/20"}`,children:i.jsx(rt,{className:`w-10 h-10 ${_t==="red"?"text-red-500":"text-emerald-500"}`})}),i.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:Qe}),i.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:ct}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx("button",{onClick:kt,className:`flex-1 py-3.5 rounded-xl font-bold text-white transition-all shadow-lg ${_t==="red"?"bg-gradient-to-r from-red-600 to-pink-600 shadow-red-900/30":"bg-gradient-to-r from-emerald-500 to-teal-600 shadow-emerald-900/30"} ${Ht?"":"transform hover:scale-105 active:scale-95"} ${Qt?"":"max-w-[200px]"}`,children:xt}),Qt&&i.jsx("button",{onClick:yt,className:"flex-1 bg-gray-800 text-gray-300 py-3.5 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-gray-700",children:Qt})]})]})]}),ma=()=>{if(!o)return i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in relative z-10",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:"  "}),i.jsx("p",{className:"text-gray-400",children:"      "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>l("school"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-emerald-500/20",children:i.jsx(iA,{className:"w-12 h-12 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (5 - 12)"})]})]}),i.jsxs("button",{onClick:()=>l("university"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-blue-500/20",children:i.jsx(Da,{className:"w-12 h-12 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  "})]})]})]})]});let Qe=[],ct=[];o==="school"?(Qe=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(rt=>({label:` ${rt}`,value:rt.toString()}))],ct=[{label:"  ",value:""},...cr.map(rt=>({label:String(rt),value:String(rt)}))]):(Qe=[{label:"   -   ",value:"English Major - QOU"}],ct=[{label:"  ",value:""},...cr.map(rt=>({label:String(rt),value:String(rt)}))]);const kt=[...Mt].sort((rt,xt)=>{const Qt=rt.category||"General",_t=xt.category||"General",Ht=AC[Qt]||99,mt=AC[_t]||99;if(Ht!==mt)return Ht-mt;const rr=rt.title.match(/(\d+)/),yn=xt.title.match(/(\d+)/);return rr&&yn?parseInt(rr[0])-parseInt(yn[0]):rt.title.localeCompare(xt.title,"ar")});let yt="";return i.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 animate-fade-in relative z-10",children:[i.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(156, 163, 175, 0.5);
          border-radius: 20px;
        }
      `}),i.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:o==="school"?"   ":"   "})]}),i.jsxs("button",{onClick:()=>{l(null),x(""),h("")},className:"text-xs font-bold text-gray-500 hover:text-white flex items-center gap-1 bg-gray-800 px-3 py-1.5 rounded-lg border border-gray-700 transition-colors",children:[i.jsx(ec,{className:"w-3 h-3"}),"  "]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-6",children:[i.jsxs("div",{className:"lg:col-span-7 bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 relative z-30",children:[i.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("div",{className:`p-2 rounded-lg ${o==="university"?"bg-blue-900/30":"bg-emerald-900/30"}`,children:o==="university"?i.jsx(Da,{className:"w-5 h-5 text-blue-400"}):i.jsx(jo,{className:"w-5 h-5 text-emerald-400"})}),o==="university"?" ":" "]}),i.jsx(T2,{options:Qe,value:g,onChange:rt=>{x(rt),h(""),T("All")},placeholder:o==="university"?"--   --":"--    --"})]}),i.jsxs("div",{className:"lg:col-span-5 bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 relative z-20",children:[i.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:i.jsx(is,{className:"w-5 h-5 text-emerald-400"})}),o==="university"?" / ":" "]}),i.jsx(T2,{options:ct,value:u,onChange:h,placeholder:g?" ":o==="university"?"   ":"   ",disabled:!g})]})]}),g&&i.jsx("div",{className:"mb-10 animate-fade-in relative z-10",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700",children:[i.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:i.jsx(V_,{className:"w-5 h-5 text-emerald-400"})}),"  ()"]}),i.jsx(T2,{options:TP.map(rt=>({label:rt.label,value:rt.id})),value:N,onChange:T,placeholder:"  "})]}),i.jsxs("div",{className:"bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700",children:[i.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:i.jsx(lg,{className:"w-5 h-5 text-emerald-400"})})," "]}),i.jsxs("div",{className:"flex bg-gray-800 p-1.5 rounded-2xl border border-gray-700",children:[i.jsx("button",{onClick:()=>v("First"),className:`flex-1 py-3 rounded-xl font-bold transition-all text-sm ${p==="First"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:" "}),i.jsx("button",{onClick:()=>v("Second"),className:`flex-1 py-3 rounded-xl font-bold transition-all text-sm ${p==="Second"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:" "})]})]})]})}),g&&i.jsxs("div",{className:"space-y-8 animate-fade-in-up relative z-0",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-100 border-r-4 border-emerald-500 pr-3 flex items-center gap-2",children:[i.jsx(M_,{className:"w-5 h-5"}),"  - ",p==="First"?" ":" "]}),R?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(jr,{className:"w-8 h-8 animate-spin text-emerald-400"})}):I.length===0?i.jsxs("div",{className:"bg-gray-900 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-700",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Si,{className:"w-8 h-8 text-gray-500"})}),i.jsx("p",{className:"text-gray-400 font-medium",children:"    "})]}):Mt.length===0?i.jsxs("div",{className:"bg-gray-900 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-700",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Si,{className:"w-8 h-8 text-gray-500"})}),i.jsx("p",{className:"text-gray-400 font-medium",children:"     "})]}):i.jsx("div",{className:"flex flex-col gap-10",children:kt.map((rt,xt)=>{const Qt=Yt(),_t=rt.isPremium&&!Qt,Ht=UP(rt.category),mt=rt.category!==yt;return mt&&(yt=rt.category||"General"),i.jsxs(Rw.Fragment,{children:[mt&&i.jsxs("div",{className:"w-full flex items-center gap-4 animate-fade-in",children:[i.jsx("div",{className:`p-2 rounded-xl ${Ht.bg} ${Ht.text}`,children:i.jsx(Ht.icon,{className:"w-5 h-5"})}),i.jsx("h4",{className:`text-lg font-black ${Ht.text}`,children:Ht.label}),i.jsx("div",{className:"flex-1 h-px bg-gradient-to-l from-transparent via-gray-700 to-gray-800"})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:i.jsxs("div",{className:`bg-gray-900 rounded-2xl md:rounded-3xl p-3 md:p-5 border md:border-2 transition-all duration-300 group relative overflow-hidden flex flex-col gap-2 md:gap-4 ${_t?"border-gray-800 opacity-90":`${Ht.border} ${Ht.hoverBorder} hover:-translate-y-1 hover:shadow-xl`}`,children:[rt.isPremium&&i.jsxs("div",{className:"absolute top-0 left-0 bg-amber-500 text-gray-900 text-[8px] md:text-[10px] font-black px-2 md:px-3 py-0.5 md:py-1 rounded-br-lg md:rounded-br-xl z-20 flex items-center gap-1",children:[i.jsx(Dn,{className:"w-2.5 h-2.5 md:w-3 md:h-3 fill-gray-900"}),"PREMIUM"]}),i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:`flex items-center gap-1 md:gap-2 px-2 md:px-3 py-1 md:py-1.5 rounded-full ${Ht.bg} ${Ht.text}`,children:[i.jsx(Ht.icon,{className:"w-3 h-3 md:w-4 md:h-4"}),i.jsx("span",{className:"text-[10px] md:text-xs font-bold",children:Ht.label})]}),i.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 text-gray-500 text-[9px] md:text-xs bg-gray-950 px-1.5 md:px-2 py-0.5 md:py-1 rounded-lg border border-gray-800",children:[i.jsx(dg,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),i.jsxs("span",{className:"font-mono font-bold pt-0.5",children:[rt.duration||30," "]})]})]}),i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("h3",{className:`text-sm md:text-lg font-black text-white leading-tight mb-1 md:mb-2 line-clamp-2 ${_t?"text-gray-400":""}`,children:rt.title}),i.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-3 text-[9px] md:text-xs text-gray-400 font-medium",children:[i.jsxs("div",{className:"flex items-center gap-0.5 md:gap-1",children:[i.jsx(Vw,{className:"w-2.5 h-2.5 md:w-3.5 md:h-3.5"}),i.jsx("span",{className:"truncate max-w-[60px] md:max-w-none",children:rt.grade==="English Major - QOU"?"":` ${rt.grade}`})]}),i.jsxs("div",{className:"flex items-center gap-0.5 md:gap-1",children:[i.jsx(_o,{className:"w-2.5 h-2.5 md:w-3.5 md:h-3.5"}),i.jsxs("span",{children:[rt.questions.length," "]})]})]})]}),i.jsx("button",{onClick:()=>ar(rt),className:`w-full py-2 md:py-3 rounded-lg md:rounded-xl font-bold text-xs md:text-sm flex items-center justify-center gap-1 md:gap-2 transition-all shadow-md md:shadow-lg ${_t?"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700":`bg-gray-800 text-white border border-gray-700 ${Ht.buttonHover}`}`,children:_t?i.jsxs(i.Fragment,{children:[i.jsx(Bo,{className:"w-3 h-3 md:w-4 md:h-4"})," "]}):i.jsxs(i.Fragment,{children:[" ",i.jsx(qr,{className:"w-3 h-3 md:w-4 md:h-4"})]})})]},rt.id)})]},rt.id)})})]}),ge&&i.jsx(Xt,{title:"  ",message:`   ${X==null?void 0:X.title} `,onConfirm:ke,onCancel:()=>xe(!1),confirmText:" ",cancelText:"",icon:_o}),Re&&i.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:()=>tt(!1)}),i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-8 max-sm w-full relative z-10 text-center border border-amber-500/30 shadow-2xl shadow-amber-900/20 animate-fade-in-up",children:[i.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 bg-amber-500/20",children:i.jsx(Dn,{className:"w-10 h-10 text-amber-500 fill-amber-400"})}),i.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:"       .    ."}),i.jsx("button",{onClick:()=>{tt(!1),o&&localStorage.setItem("etqan_service_intent",o),e("SERVICES")},className:"w-full py-3.5 rounded-xl font-bold text-white transition-all shadow-lg bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 border border-amber-500",children:" "})]})]})]})},Er=()=>{if(!K||!K.questions||!K.questions[ae])return i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 gap-4",children:[i.jsx("div",{className:"text-red-500 font-bold text-lg",children:"    "}),i.jsx("button",{onClick:()=>s("SELECTION"),className:"text-blue-400 underline",children:" "})]});const Qe=K.questions[ae],ct=Qe.type==="REORDER",kt=Qe.type==="REWRITE";let yt=!1;if(ct){const mt=U[ae];yt=mt!==void 0&&mt.length===Qe.options.length}else if(kt){const mt=U[ae];yt=mt!==void 0&&mt.trim().length>0}else yt=U[ae]!==void 0;const rt=ae===K.questions.length-1,xt=K.subject.toLowerCase().includes("english")||K.subject.includes("")||K.subject.includes(""),Qt=xt?"ltr":"rtl",_t=xt?"text-left":"text-right",Ht={sm:"text-sm leading-relaxed",md:"text-base leading-relaxed",lg:"text-xl leading-loose",xl:"text-2xl leading-loose"}[Qe.passageFontSize||"md"];return i.jsxs("div",{className:"fixed inset-0 z-[9999] bg-gray-950 overflow-y-auto select-none",onContextMenu:mt=>mt.preventDefault(),style:{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTouchCallout:"none"},children:[i.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1e-JYkv-JKpi3PBXLAB5qy2E5UG4klP6j",alt:"Active Quiz Background",className:"w-full h-full object-cover opacity-20"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/90 via-gray-900/40 to-gray-950/90"}),i.jsx("div",{className:"absolute inset-0 shadow-[inset_0_0_150px_rgba(0,0,0,0.9)]"})]}),me&&i.jsx(Xt,{title:"   ",message:"      .   .",onConfirm:gn,cancelText:null,confirmText:"",icon:RF,confirmColor:"red",isStatic:!0}),ee&&!me&&i.jsx(Xt,{title:" !",message:"     .   .",onConfirm:()=>he(!1),cancelText:null,confirmText:"",icon:J1,confirmColor:"red",isStatic:!0}),H&&i.jsx(Xt,{title:" ",message:"       .",onConfirm:lr,onCancel:()=>J(!1),confirmText:" ",cancelText:"",icon:fg,confirmColor:"red",isStatic:!0}),i.jsxs("div",{className:"bg-gray-950/80 backdrop-blur-md border-b border-gray-700 sticky top-0 z-50 shadow-sm relative",children:[i.jsxs("div",{className:"max-w-4xl mx-auto px-3 h-16 flex justify-between items-center",children:[i.jsxs("button",{onClick:On,className:"flex items-center gap-2 text-red-500 hover:bg-red-900/20 px-3 py-1.5 rounded-lg transition-colors font-bold text-sm",children:[i.jsx(fg,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:""})]}),i.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-1",children:i.jsxs("div",{className:`flex items-center gap-2 px-4 py-1.5 rounded-full font-mono font-bold text-base shadow-inner border border-gray-600 ${M<300?"bg-red-900/50 text-red-200 animate-pulse":"bg-gray-700 text-emerald-400"}`,children:[i.jsx(dg,{className:"w-4 h-4"}),Rr(M)]})}),i.jsxs("div",{className:"text-xs font-bold text-gray-400",children:[ae+1," / ",K.questions.length]})]}),i.jsx("div",{className:"w-full bg-gray-700 h-1",children:i.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-500 ease-out",style:{width:`${(ae+1)/K.questions.length*100}%`}})})]}),E!==null&&K.questionDuration&&i.jsxs("div",{className:"max-w-3xl mx-auto px-4 mt-4 relative z-10",children:[i.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all duration-1000 linear ${E<10?"bg-red-500":"bg-blue-500"}`,style:{width:`${E/K.questionDuration*100}%`}})}),i.jsxs("div",{className:"text-center mt-1 text-xs font-bold text-gray-500",children:[" : ",E," "]})]}),i.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8 relative z-10",children:[i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 overflow-hidden animate-fade-in-up",dir:Qt,children:[i.jsxs("div",{className:"bg-gray-800/50 border-b border-gray-700 p-4 flex items-center justify-between",children:[i.jsx("h2",{className:"font-bold text-gray-200 text-sm md:text-base",children:K.title}),i.jsx("div",{className:"bg-gray-700 p-1.5 rounded-lg shadow-sm",children:ct?i.jsx(O_,{className:"w-4 h-4 text-emerald-500"}):kt?i.jsx(P_,{className:"w-4 h-4 text-blue-500"}):i.jsx(Bo,{className:"w-4 h-4 text-gray-300"})})]}),i.jsxs("div",{className:"p-6 md:p-8",children:[Qe.passageContent&&i.jsxs("div",{className:"mb-8 select-none",onCopy:mt=>mt.preventDefault(),children:[Qe.generalInstruction&&i.jsx("div",{className:`text-gray-400 font-bold mb-3 text-sm bg-gray-800/50 px-4 py-2.5 rounded-xl border-l-4 border-emerald-500 ${_t}`,children:Qe.generalInstruction}),i.jsx("div",{className:`bg-blue-900/20 p-5 rounded-2xl border border-blue-800 ${_t} select-none`,children:i.jsx("div",{className:`text-gray-200 whitespace-pre-wrap font-medium ${Ht}`,children:Qe.passageContent})})]}),i.jsx("h3",{className:`text-lg md:text-2xl font-black text-white leading-relaxed mb-8 select-none ${_t}`,onCopy:mt=>mt.preventDefault(),children:Qe.question}),ct?i.jsxs("div",{className:"space-y-6",dir:"ltr",children:[i.jsxs("div",{className:"min-h-[120px] p-4 bg-gray-950/50 rounded-2xl border-2 border-dashed border-gray-600 flex flex-wrap gap-2 items-start content-start transition-all",children:[(U[ae]||[]).map((mt,rr)=>i.jsx("button",{onClick:()=>jt(mt,!1),className:"bg-emerald-600 text-white px-4 py-2 rounded-xl font-bold shadow-md hover:bg-red-500 transition-colors animate-fade-in select-none",children:Qe.options[mt]},`ans-${rr}`)),(!U[ae]||U[ae].length===0)&&i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm font-medium italic select-none",children:"      "})]}),i.jsx("div",{className:"flex flex-wrap gap-3 justify-center bg-gray-900 p-4 rounded-2xl border border-gray-700",children:(Y[ae]||[]).filter(mt=>!(U[ae]||[]).includes(mt)).map((mt,rr)=>i.jsx("button",{onClick:()=>jt(mt,!0),className:"bg-gray-800 border-2 border-gray-700 text-gray-200 px-4 py-2 rounded-xl font-bold shadow-sm hover:border-emerald-500 hover:text-emerald-400 transition-all transform hover:scale-105 active:scale-95 select-none",children:Qe.options[mt]},`bank-${rr}`))}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:()=>ut([]),className:"text-xs font-bold text-gray-400 hover:text-red-500 flex items-center gap-1",children:[i.jsx(ec,{className:"w-3 h-3"})," "]})})]}):kt?i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"  :"}),i.jsx("textarea",{dir:"ltr",value:U[ae]||"",onChange:mt=>ut(mt.target.value),className:"w-full h-32 p-5 rounded-2xl bg-gray-950 border-2 border-gray-700 focus:border-blue-500 text-white font-medium text-lg outline-none transition-all resize-none shadow-inner",placeholder:"Type your answer here..."}),i.jsx("p",{className:"text-[10px] text-gray-500 font-bold",children:"*         (Capital/Small)."})]}):i.jsx("div",{className:"space-y-3",children:Qe.options.map((mt,rr)=>i.jsxs("button",{onClick:()=>ut(rr),className:`w-full ${_t} p-4 rounded-xl border-2 transition-all flex items-center justify-between group hover:scale-[1.01] active:scale-[0.99] duration-200 outline-none select-none ${U[ae]===rr?"border-emerald-500 bg-emerald-900/30 shadow-md outline-none":"border-gray-700 bg-gray-900 hover:bg-gray-800 hover:border-gray-600 shadow-sm"}`,children:[i.jsx("span",{className:`text-base font-bold ${U[ae]===rr?"text-emerald-300":"text-gray-300"}`,children:mt}),i.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 ml-2 transition-colors ${U[ae]===rr?"border-emerald-600 bg-emerald-600":"border-gray-600 group-hover:border-emerald-400"}`,children:U[ae]===rr&&i.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]},rr))})]})]}),i.jsx("div",{className:"mt-8 flex justify-end",children:i.jsx("button",{onClick:It,disabled:!yt||D,className:`w-full sm:w-auto px-10 py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-2 shadow-xl transition-all ${!yt||D?"bg-gray-700 text-gray-500 cursor-not-allowed shadow-none":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-emerald-500/20 active:scale-95"}`,children:D?i.jsxs(i.Fragment,{children:["  ",i.jsx(jr,{className:"w-5 h-5 animate-spin"})]}):i.jsxs(i.Fragment,{children:[rt?" ":" ",Qt==="rtl"?i.jsx(Dw,{className:"w-5 h-5"}):i.jsx(qr,{className:"w-5 h-5"})]})})})]})]})},Xr=()=>{if(!K)return null;const Qe=Pt(),ct=K.questions.length,kt=Math.round(Qe/ct*100);let yt="text-red-500",rt=R_,xt=" ";kt>=90?(yt="text-emerald-500",rt=Dn,xt="!"):kt>=75?(yt="text-blue-500",rt=du,xt="!"):kt>=50&&(yt="text-yellow-500",rt=Zl,xt=" ");const Qt=rt;return i.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center p-4 animate-fade-in overflow-y-auto",children:[i.jsxs("div",{className:"w-full max-w-sm bg-gray-900 rounded-[2.5rem] border border-gray-800 p-8 relative overflow-hidden text-center shadow-2xl",children:[i.jsxs("div",{className:"flex flex-col items-center mb-6",children:[i.jsx(Qt,{className:`w-16 h-16 ${yt} mb-3 drop-shadow-md`}),i.jsx("h2",{className:"text-2xl font-black text-white mb-1",children:xt}),i.jsx("p",{className:"text-gray-400 font-medium text-sm mb-3",children:K.title}),i.jsxs("div",{className:"inline-flex items-center gap-1 bg-gray-800 px-3 py-1 rounded-full border border-gray-700",children:[i.jsx(i1,{className:"w-3.5 h-3.5 text-yellow-400 fill-yellow-400"}),i.jsxs("span",{className:"font-bold text-white text-xs",children:["+",be," XP"]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 text-center mb-6 border border-gray-800",children:[i.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider mb-2",children:" "}),i.jsxs("span",{className:`text-6xl font-black ${yt}`,children:[kt,"%"]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700/50 flex items-center justify-center gap-2 text-gray-400 text-sm font-bold",children:[i.jsx("span",{children:"  :"}),i.jsxs("span",{className:`text-white bg-gray-700 px-3 py-1 rounded-lg ${yt}`,children:[Qe," / ",ct]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:()=>fr("REVIEW"),className:"w-full py-3.5 bg-orange-500 text-white font-black text-sm rounded-xl hover:bg-orange-600 transition-all flex items-center justify-center gap-2 active:scale-95 shadow-lg shadow-orange-900/20",children:[i.jsx(dy,{className:"w-4 h-4"}),"  "]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("button",{onClick:()=>fr("HOME"),className:"py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-xs shadow-lg shadow-emerald-900/20",children:[i.jsx(Cn,{className:"w-4 h-4"})," "]}),i.jsxs("button",{onClick:()=>fr("RETAKE"),className:"py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-xs shadow-lg shadow-emerald-900/20",children:[i.jsx(Rg,{className:"w-4 h-4"}),"  "]})]})]})]}),i.jsx("div",{className:"w-full max-w-sm bg-gray-900 rounded-[2rem] border border-gray-800 p-6 text-center relative mt-4",children:vt?i.jsxs("div",{className:"py-4",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400 mb-1",children:[i.jsx(Zl,{className:"w-5 h-5"}),i.jsx("h3",{className:"font-bold text-sm",children:" !"})]}),i.jsx("p",{className:"text-gray-500 text-xs",children:"   ."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3 text-white",children:[i.jsx(gg,{className:"w-4 h-4 text-yellow-400"}),i.jsx("h3",{className:"font-bold text-sm",children:"  "})]}),i.jsx("div",{className:"flex justify-center gap-1.5 mb-3 flex-wrap",children:[1,2,3,4,5,6,7,8,9,10].map(_t=>i.jsx("button",{onClick:()=>ot(_t),className:`w-8 h-8 rounded-lg text-sm font-bold transition-all ${Je===_t?"bg-yellow-500 text-gray-900 scale-110":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:_t},_t))}),i.jsx("textarea",{value:Oe,onChange:_t=>He(_t.target.value),placeholder:"  ()...",className:"w-full bg-gray-800 border border-gray-700 rounded-xl p-3 text-xs text-white outline-none focus:border-yellow-500 mb-3 min-h-[60px] resize-none"}),i.jsxs("button",{onClick:Ft,disabled:st||Je===0,className:`w-full py-2.5 rounded-xl font-bold text-xs flex items-center justify-center gap-2 transition-all ${Je===0?"bg-gray-800 text-gray-600 cursor-not-allowed":"bg-yellow-600 text-white hover:bg-yellow-700"}`,children:[st?i.jsx(jr,{className:"w-3 h-3 animate-spin"}):i.jsx(gu,{className:"w-3 h-3"}),""]})]})})]})},mn=()=>i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in text-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(dy,{className:"w-5 h-5 text-emerald-400"})," "]}),i.jsxs("button",{onClick:()=>s("RESULT"),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-8 py-3 rounded-xl font-bold transition-all shadow-lg border border-emerald-500 flex items-center gap-2 text-lg transform hover:-translate-y-1",children:[i.jsx(qr,{className:"w-6 h-6"})," "]})]}),i.jsx("div",{className:"space-y-6",children:K==null?void 0:K.questions.map((Qe,ct)=>{const kt=Qe.type==="REORDER",yt=Qe.type==="REWRITE";let rt=!1,xt=null;if(kt){const Qt=U[ct];Qt?(xt=Qt.map(_t=>Qe.options[_t]).join(" "),rt=Qt.length===Qe.options.length&&Qt.every((_t,Ht)=>_t===Ht)):(xt="  ",rt=!1)}else if(yt){const Qt=U[ct];rt=(Qt==null?void 0:Qt.trim())===(Qe.correctAnswerText||"").trim(),xt=Qt||"  "}else{const Qt=U[ct];rt=Qt===Qe.correctAnswer,xt=Qt!==void 0?Qe.options[Qt]:"  "}return i.jsxs("div",{className:`bg-gray-900 rounded-2xl shadow-sm border p-5 ${rt?"border-gray-700":"border-red-900/50"}`,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shrink-0 mt-0.5 ${rt?"bg-emerald-900 text-emerald-300":"bg-red-900 text-red-300"}`,children:ct+1}),i.jsx("h3",{className:"text-base font-bold text-white leading-relaxed select-none",onCopy:Qt=>Qt.preventDefault(),children:Qe.question})]}),i.jsxs("div",{className:`p-3 rounded-xl border text-sm ${rt?"bg-emerald-900/20 border-emerald-500":"bg-red-900/20 border-red-500"}`,children:[i.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:":"}),i.jsx("span",{className:"font-bold",children:xt})]}),!rt&&i.jsxs("div",{className:"mt-2 p-3 rounded-xl border bg-gray-800 border-gray-700 text-sm",children:[i.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:" :"}),i.jsx("span",{className:"font-bold text-emerald-400 select-none",onCopy:Qt=>Qt.preventDefault(),children:kt?Qe.options.join(" "):yt?Qe.correctAnswerText:Qe.options[Qe.correctAnswer]})]}),Qe.explanation&&i.jsxs("div",{className:"mt-3 p-3 bg-yellow-900/20 border border-yellow-800 rounded-xl text-sm text-yellow-200 animate-fade-in select-none",onCopy:Qt=>Qt.preventDefault(),children:[i.jsxs("span",{className:"font-bold block mb-1 flex items-center gap-1",children:[i.jsx(_o,{className:"w-3 h-3"}),":"]}),i.jsx("p",{className:"leading-relaxed opacity-90",dir:"auto",children:Qe.explanation})]})]},Qe.id)})})]});return i.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 text-gray-100",children:[n==="SELECTION"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1NKy8h05zQTNaEJ9C35Rzwys5QXFUxFHD",alt:"Background",className:"w-full h-full object-cover opacity-25"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/80 via-gray-900/20 to-gray-950"}),i.jsx("div",{className:"absolute inset-0 shadow-[inset_0_0_150px_rgba(0,0,0,0.9)]"})]}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5 hidden md:block",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(is,{className:"w-3 h-3"}),""]})]})]})]})}),ma()]}),n==="ACTIVE"&&Er(),n==="RESULT"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed top-0 left-0 w-full h-28 z-[60] bg-transparent cursor-default"}),Xr()]}),n==="REVIEW"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed top-0 left-0 w-full h-28 z-[60] bg-transparent cursor-default"}),mn()]}),fe&&i.jsx(Xt,{title:"  ",message:de==="REVIEW"?"   ":de==="RETAKE"?"     ":de==="LIST"?"    ":"    ",onConfirm:ur,onCancel:()=>Me(!1),confirmText:"",cancelText:"",icon:xF})]})},Ix=()=>{const r=ue.useRef(null);return ue.useEffect(()=>{const e=r.current;if(!e)return;const t=e.getContext("2d");if(!t)return;let n,s=window.innerWidth,o=window.innerHeight;const l=s<768?75:200,u=.1,h=["255, 255, 255","50, 150, 255","255, 80, 80","80, 255, 120","255, 215, 0"];e.width=s,e.height=o;const g=[];for(let v=0;v<l;v++)g.push({x:Math.random()*s,y:Math.random()*o,z:Math.random()*s,size:Math.random()*2,color:h[Math.floor(Math.random()*h.length)],alpha:Math.random()});const x=()=>{s=window.innerWidth,o=window.innerHeight,e.width=s,e.height=o};window.addEventListener("resize",x);const p=()=>{t.clearRect(0,0,s,o),g.forEach(v=>{Math.random()>.99&&(v.alpha=Math.random()),v.y-=u*(v.size*.5),v.y<0&&(v.y=o,v.x=Math.random()*s),t.beginPath(),t.fillStyle=`rgba(${v.color}, ${v.alpha})`,t.arc(v.x,v.y,v.size,0,Math.PI*2),t.fill()}),n=requestAnimationFrame(p)};return p(),()=>{window.removeEventListener("resize",x),cancelAnimationFrame(n)}},[]),i.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none z-0",style:{opacity:1}})},QP=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),LP=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),kP=({onBack:r})=>{const e=[{name:".   ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",title:"  ",workplace:"  ",location:" ",color:"emerald",education:"     -   ",rating:"",bio:"        .              .",skills:["  ","  ","  "],social:{facebook:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",whatsapp:"https://wa.me/972568401548",telegram:"https://t.me/yazan1342"}},{name:".   ",image:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",title:"  ",workplace:"  ",location:" ",color:"blue",education:"   -   ",rating:"",bio:"       .                .",skills:["  ",""],social:{facebook:"#",whatsapp:"#",telegram:"#"}}];return i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[i.jsx(Ix,{}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/90 via-gray-900/60 to-gray-950"}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"})]}),i.jsx("div",{className:"max-w-6xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-emerald-900/30 rounded-xl transition-all text-gray-400 hover:text-white border border-gray-700 hover:border-emerald-500/30 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-400",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-600",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(tc,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 relative z-10",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-emerald-500/10 rounded-full mb-4 border border-emerald-500/20 backdrop-blur-md",children:i.jsx(rl,{className:"w-6 h-6 text-emerald-400 fill-emerald-400 animate-pulse"})}),i.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"          "})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map((t,n)=>i.jsxs("div",{className:"bg-gray-900/60 backdrop-blur-xl rounded-[2.5rem] shadow-2xl border border-gray-700/50 flex flex-col hover:border-emerald-500/30 transition-all duration-300 p-8 group relative overflow-hidden",children:[i.jsx("div",{className:`absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-transparent via-${t.color}-500 to-transparent opacity-80`}),i.jsxs("div",{className:"flex justify-center mb-8 relative",children:[i.jsxs("div",{className:`w-40 h-40 rounded-full p-1.5 bg-gradient-to-br from-${t.color}-500/20 to-gray-800 shadow-2xl relative z-10 border border-${t.color}-500/30`,children:[i.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full rounded-full object-cover border-4 border-gray-900"}),i.jsx("div",{className:"absolute bottom-2 right-2 bg-emerald-500 text-white p-1.5 rounded-full border-4 border-gray-900 shadow-sm",children:i.jsx(kn,{className:"w-4 h-4"})})]}),i.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 bg-${t.color}-500/10 rounded-full blur-3xl animate-pulse`})]}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-2 tracking-tight",children:t.name}),i.jsx("p",{className:`text-${t.color}-400 font-bold text-lg mb-5`,children:t.title}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-gray-300 text-sm font-medium",children:[i.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-800/80 px-3 py-1.5 rounded-full border border-gray-700 shadow-sm",children:[i.jsx(Ow,{className:"w-3.5 h-3.5 text-emerald-400"}),t.workplace]}),i.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-800/80 px-3 py-1.5 rounded-full border border-gray-700 shadow-sm",children:[i.jsx(fy,{className:"w-3.5 h-3.5 text-red-400"}),t.location]})]})]}),i.jsxs("div",{className:"flex-1 space-y-6",children:[i.jsxs("div",{className:"bg-gray-800/40 p-5 rounded-2xl border border-gray-700/50 relative hover:bg-gray-800/60 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-white font-bold",children:[i.jsx("div",{className:`p-1.5 rounded-lg bg-${t.color}-500/20 text-${t.color}-400`,children:i.jsx(jo,{className:"w-5 h-5"})}),i.jsx("h3",{children:" "})]}),t.rating&&i.jsxs("span",{className:"text-[10px] font-black bg-amber-500/20 text-amber-400 px-2 py-0.5 rounded border border-amber-500/30 flex items-center gap-1",children:[i.jsx(rl,{className:"w-3 h-3 fill-amber-400"}),t.rating]})]}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed font-medium pr-2 border-r-2 border-gray-700 mr-1",children:t.education})]}),i.jsxs("div",{className:"text-center px-2",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[i.jsx(rl,{className:"w-4 h-4 text-emerald-500 fill-emerald-500"}),i.jsx("h3",{className:"font-bold text-gray-200",children:" "})]}),i.jsx("p",{className:"text-gray-400 leading-relaxed text-sm",children:t.bio})]}),i.jsx("div",{children:i.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:t.skills.map((s,o)=>i.jsxs("span",{className:`bg-${t.color}-900/20 text-${t.color}-300 px-3 py-1.5 rounded-lg text-xs font-bold border border-${t.color}-500/20 flex items-center gap-1.5`,children:[i.jsx(du,{className:"w-3 h-3"}),s]},o))})})]}),i.jsx("div",{className:"pt-8 mt-4 border-t border-gray-800/50",children:i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsx("a",{href:t.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl bg-[#1877F2]/10 text-[#1877F2] flex items-center justify-center hover:bg-[#1877F2] hover:text-white transition-all border border-[#1877F2]/20 hover:-translate-y-1 shadow-lg",children:i.jsx(rf,{className:"w-5 h-5"})}),i.jsx("a",{href:t.social.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl bg-[#25D366]/10 text-[#25D366] flex items-center justify-center hover:bg-[#25D366] hover:text-white transition-all border border-[#25D366]/20 hover:-translate-y-1 shadow-lg",children:i.jsx(QP,{className:"w-5 h-5"})}),i.jsx("a",{href:t.social.telegram,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl bg-[#0088cc]/10 text-[#0088cc] flex items-center justify-center hover:bg-[#0088cc] hover:text-white transition-all border border-[#0088cc]/20 hover:-translate-y-1 shadow-lg",children:i.jsx(LP,{className:"w-5 h-5"})})]})})]},n))})]})]})},RP=({onBack:r})=>i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(Y1,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsx("div",{className:"relative bg-emerald-900/20 py-20 overflow-hidden border-b border-white/5 -mt-16 pt-32",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10 text-center",children:[i.jsx("span",{className:"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30 px-4 py-1 rounded-full text-sm font-medium mb-6 inline-block backdrop-blur-sm",children:"    "}),i.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight",children:["   ",i.jsx("br",{}),"   "]}),i.jsx("p",{className:"text-gray-300 text-xl max-w-2xl mx-auto leading-relaxed",children:"                    ."})]})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-20",children:[i.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-sm border border-white/5 hover:shadow-lg transition-all hover:bg-gray-800",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:i.jsx(dy,{className:"w-8 h-8 text-blue-400"})}),i.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:""}),i.jsx("p",{className:"text-gray-400 leading-relaxed text-lg",children:"                   ."})]}),i.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-sm border border-white/5 hover:shadow-lg transition-all hover:bg-gray-800",children:[i.jsx("div",{className:"w-16 h-16 bg-emerald-900/30 rounded-2xl flex items-center justify-center mb-6 border border-emerald-500/20",children:i.jsx(Mg,{className:"w-8 h-8 text-emerald-400"})}),i.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:""}),i.jsx("p",{className:"text-gray-400 leading-relaxed text-lg",children:"                  ."})]})]}),i.jsxs("div",{className:"mb-20",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-4",children:"   "}),i.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:Dg,title:" ",desc:"       ."},{icon:D_,title:" ",desc:"           ."},{icon:Qp,title:" ",desc:"         ."},{icon:tc,title:" ",desc:"          ."}].map((e,t)=>i.jsxs("div",{className:"bg-gray-900 p-6 rounded-2xl border border-white/5 text-center hover:border-emerald-500/30 transition-all group hover:-translate-y-1",children:[i.jsx("div",{className:"w-14 h-14 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-emerald-900/30 transition-colors border border-white/5",children:i.jsx(e.icon,{className:"w-7 h-7 text-gray-300 group-hover:text-emerald-400"})}),i.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:e.title}),i.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:e.desc})]},t))})]})]})]}),lC=({options:r,value:e,onChange:t,placeholder:n,disabled:s})=>{const[o,l]=ue.useState(!1),u=ue.useRef(null);ue.useEffect(()=>{const g=x=>{u.current&&!u.current.contains(x.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=r.find(g=>g.value===e&&!g.isHeader);return i.jsxs("div",{className:`relative ${o?"z-50":"z-0"}`,ref:u,children:[i.jsxs("button",{type:"button",onClick:()=>!s&&l(!o),className:`w-full px-3 py-3 rounded-xl font-bold text-right border-2 flex justify-between items-center outline-none transition-all text-xs md:text-sm
            ${s?"bg-gray-800 border-gray-700 text-gray-400 cursor-not-allowed":o?"bg-gray-800 border-emerald-500 ring-4 ring-emerald-900/20 text-white shadow-lg":"bg-gray-700 border-transparent hover:border-emerald-700 text-white shadow-sm"}
         `,children:[i.jsx("span",{className:`truncate ${h?"":"text-gray-500"}`,children:h?h.label:n}),i.jsx(el,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-emerald-500":""}`})]}),o&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 border border-gray-700 rounded-2xl shadow-xl max-h-72 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-50",children:[r.map((g,x)=>{if(g.isHeader)return i.jsx("div",{className:"px-4 py-2 text-[10px] font-black text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-700/50 rounded-lg mb-1",children:g.label},x);const p=g.value===e;return i.jsxs("div",{onClick:()=>{t(g.value),l(!1)},className:`px-4 py-3 rounded-xl font-bold text-sm cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${p?"bg-emerald-900/30 text-emerald-400":"text-gray-300 hover:bg-gray-700"}
                   `,children:[g.label,p&&i.jsx(Zl,{className:"w-4 h-4"})]},x)}),r.length===0&&i.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"   "})]})]})},DP=({onBack:r})=>{const[e,t]=ue.useState(null),[n,s]=ue.useState(""),[o,l]=ue.useState(""),[u,h]=ue.useState("SELECTION"),[g,x]=ue.useState(["handouts"]),[p,v]=ue.useState([]),[N,T]=ue.useState(!1);ue.useEffect(()=>{u==="CONTENT"&&o&&n&&I()},[u,o,n]);const I=async()=>{T(!0);const U=`etqan_materials_${o}_${n}`,S=365*24*60*60*1e3,M=localStorage.getItem(U);if(M)try{const{data:z,timestamp:E}=JSON.parse(M);if(Date.now()-E<S){v(z),T(!1);return}}catch(z){console.error("Cache parsing error",z)}try{const z=Ws(tn(sr,"study_materials"),Js("grade","==",o),Js("subject","==",n)),E=await ni(z),F=[];E.forEach(D=>{F.push({id:D.id,...D.data()})}),F.sort((D,$)=>{var Y,ie;const be=((Y=D.createdAt)==null?void 0:Y.seconds)||0;return(((ie=$.createdAt)==null?void 0:ie.seconds)||0)-be}),v(F),localStorage.setItem(U,JSON.stringify({data:F,timestamp:Date.now()}))}catch(z){console.error("Error fetching materials:",z)}finally{T(!1)}},O=()=>{n&&o&&h("CONTENT")},R=U=>{x(S=>S.includes(U)?S.filter(M=>M!==U):[...S,U])},P=()=>{const U=p.filter(z=>z.category==="handouts"),S=p.filter(z=>z.category==="worksheets"),M=p.filter(z=>z.category==="exams");return[{id:"handouts",title:" ",files:U},{id:"worksheets",title:" ",files:S},{id:"exams",title:" ",files:M}]},K=U=>U?(U.toDate?U.toDate():new Date(U.seconds*1e3)).toLocaleDateString("ar-EG"):"",se=P(),ae=()=>{if(!e)return i.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8 animate-fade-in relative z-20",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:"  "}),i.jsx("p",{className:"text-gray-400",children:"    "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>t("school"),className:"bg-gray-900 p-8 rounded-3xl border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-xl flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(iA,{className:"w-10 h-10 text-emerald-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-white",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"     "})]}),i.jsxs("button",{onClick:()=>t("university"),className:"bg-gray-900 p-8 rounded-3xl border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-xl flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(Da,{className:"w-10 h-10 text-blue-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-white",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (  )"})]})]})]});let U=[];e==="school"?U=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(M=>({label:` ${M}`,value:M.toString()}))]:U=[{label:"   -   ",value:"English Major - QOU"}];const S=[{label:"  (English)",value:"English"}];return i.jsxs("div",{className:"w-full animate-fade-in pb-20 bg-gray-950 min-h-screen text-gray-100",children:[i.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(156, 163, 175, 0.5);
          border-radius: 20px;
        }
      `}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white hidden md:block leading-none mb-1",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-bold text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(sd,{className:"w-3 h-3"}),""]})]})]})]})}),i.jsxs("div",{className:"relative pt-32 pb-48 px-4 overflow-hidden rounded-b-[3rem] shadow-2xl shadow-gray-900/50 mb-16 border-b border-white/5 -mt-16",children:[i.jsxs("div",{className:"absolute inset-0 z-0",children:[i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1gSDH-0a3cWa8m8APr5qXGkKxINXZcSid",alt:"Background",className:"w-full h-full object-cover object-center scale-105 opacity-50"}),i.jsx("div",{className:"absolute inset-0 bg-emerald-900/80 mix-blend-multiply"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-transparent to-gray-950/90"})]}),i.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[i.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-white/10 backdrop-blur-md rounded-2xl mb-4 border border-white/20 shadow-inner ring-1 ring-white/30 animate-fade-in-up",children:i.jsx(sd,{className:"w-8 h-8 text-white drop-shadow-md"})}),i.jsx("h2",{className:"text-4xl md:text-6xl font-black text-white mb-4 tracking-tight drop-shadow-2xl animate-fade-in-up delay-100",children:"  "}),i.jsx("p",{className:"text-white/95 text-lg md:text-xl max-w-2xl mx-auto font-medium leading-relaxed drop-shadow-lg mb-6 animate-fade-in-up delay-200",children:"         PDF."})]})]}),i.jsx("div",{className:"max-w-3xl mx-auto px-4 -mt-32 relative z-20 animate-fade-in-up delay-300",children:i.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-2xl border border-white/5 p-6 md:p-6 backdrop-blur-xl mb-6",children:[i.jsxs("button",{onClick:()=>{t(null),l(""),s("")},className:"text-xs font-bold text-gray-500 hover:text-white flex items-center gap-1 bg-gray-800 px-3 py-1.5 rounded-lg border border-gray-700 transition-colors mb-4 w-fit",children:[i.jsx(ec,{className:"w-3 h-3"}),"  "]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"group relative z-20",children:[i.jsxs("label",{className:"block text-xs font-bold text-gray-300 mb-2 flex items-center gap-2 group-hover:text-emerald-400 transition-colors",children:[i.jsx("div",{className:"p-1.5 bg-emerald-900/20 rounded-lg group-hover:bg-emerald-900/40 transition-colors",children:i.jsx(is,{className:"w-3.5 h-3.5 text-emerald-400"})}),e==="university"?" / ":" "]}),i.jsx(lC,{options:S,value:n,onChange:s,placeholder:" "})]}),i.jsxs("div",{className:"group relative z-10",children:[i.jsxs("label",{className:"block text-xs font-bold text-gray-300 mb-2 flex items-center gap-2 group-hover:text-teal-400 transition-colors",children:[i.jsx("div",{className:"p-1.5 bg-teal-900/20 rounded-lg group-hover:bg-teal-900/40 transition-colors",children:e==="university"?i.jsx(Da,{className:"w-3.5 h-3.5 text-teal-400"}):i.jsx(jo,{className:"w-3.5 h-3.5 text-teal-400"})}),e==="university"?"":" "]}),i.jsx(lC,{options:U,value:o,onChange:l,placeholder:e==="university"?" ":" "})]})]}),i.jsxs("button",{onClick:O,disabled:!n||!o,className:`w-full py-3.5 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all shadow-lg ${!n||!o?"bg-gray-700 text-gray-500 cursor-not-allowed shadow-none":"bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 hover:shadow-emerald-900/50 hover:-translate-y-1"}`,children:[i.jsx(Si,{className:"w-5 h-5"})," "]})]})})]})},le=()=>i.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 animate-fade-in-up min-h-screen",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>h("SELECTION"),className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:[" ",n]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-bold text-gray-500",children:[i.jsxs("span",{onClick:()=>h("SELECTION"),className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(sd,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(Ls,{className:"w-3 h-3"}),""]})]})]})]})}),i.jsxs("div",{className:"text-center mb-8 bg-gray-900 p-6 rounded-3xl shadow-sm border border-white/5 relative overflow-hidden mt-4",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-teal-500"}),i.jsx("div",{className:"w-16 h-16 bg-emerald-900/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx(Ls,{className:"w-8 h-8 text-emerald-400"})}),i.jsxs("h2",{className:"text-2xl font-black text-white mb-2",children:[" ",n]}),i.jsxs("p",{className:"text-gray-400 font-medium text-sm md:text-base",children:["        ",i.jsx("span",{className:"font-bold text-emerald-400",children:o==="English Major - QOU"?"  ":` ${o}`})]})]}),N?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[i.jsx(jr,{className:"w-10 h-10 animate-spin text-emerald-400"}),i.jsx("p",{className:"text-gray-400 font-bold",children:"  ..."})]}):i.jsx("div",{className:"space-y-4",children:se.map(U=>{const S=g.includes(U.id);return i.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[i.jsxs("button",{onClick:()=>R(U.id),className:`w-full flex items-center justify-between p-5 transition-colors ${S?"bg-gray-700/30":"hover:bg-gray-700/30"}`,children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-2.5 rounded-xl ${S?"bg-emerald-900/30 text-emerald-400":"bg-gray-700 text-gray-400"}`,children:i.jsx(sd,{className:"w-6 h-6"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"font-bold text-base text-white block",children:U.title}),i.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:[U.files.length," "]})]})]}),i.jsx("div",{className:`transition-transform duration-300 ${S?"rotate-180":""}`,children:i.jsx(el,{className:"w-5 h-5 text-gray-400"})})]}),S&&i.jsx("div",{className:"bg-gray-900 border-t border-gray-700",children:U.files.length===0?i.jsxs("div",{className:"p-8 text-center flex flex-col items-center justify-center text-gray-400",children:[i.jsx(sd,{className:"w-10 h-10 mb-2 opacity-20"}),i.jsx("p",{className:"text-sm font-medium",children:"       "})]}):i.jsx("div",{className:"divide-y divide-gray-700/50",children:U.files.map((M,z)=>i.jsxs("div",{onClick:()=>M.url&&window.open(M.url,"_blank"),className:"flex items-center justify-between p-4 hover:bg-emerald-900/10 transition-colors group cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-900/20 flex items-center justify-center shrink-0 text-red-500",children:i.jsx(Ls,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[i.jsx("span",{className:"text-sm font-bold text-gray-200 group-hover:text-emerald-300 transition-colors whitespace-normal break-words",children:M.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[i.jsx("span",{children:K(M.createdAt)}),i.jsx("span",{children:""}),i.jsx("span",{children:M.size||"PDF"})]})]})]}),i.jsx("div",{className:"p-2 text-gray-500 group-hover:text-emerald-400 transition-colors",children:i.jsx(hg,{className:"w-5 h-5"})})]},z))})})]},U.id)})})]});return i.jsx(i.Fragment,{children:u==="SELECTION"?ae():le()})},MP=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),OP=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036c-2.148 0-2.797 1.651-2.797 2.895v1.076h3.441l-1.347 3.667h-2.094v8.382a12.975 12.975 0 0 0 1.579-.098 12.9 12.9 0 0 0 4.199-1.528 12.906 12.906 0 0 0 3.334-2.715 12.825 12.825 0 0 0 2.193-3.525A12.972 12.972 0 0 0 24 12.074a12.972 12.972 0 0 0-1.405-6.075 12.906 12.906 0 0 0-3.831-4.421A12.975 12.975 0 0 0 12.074 0a12.972 12.972 0 0 0-6.075 1.405A12.906 12.906 0 0 0 1.579 5.236 12.972 12.972 0 0 0 0 12.074a12.972 12.972 0 0 0 1.405 6.075 12.906 12.906 0 0 0 3.831 4.421 12.975 12.975 0 0 0 3.865 1.121z"})}),PP=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),HP=({onBack:r})=>{const e=[{name:".   ",role:"  -  ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",whatsapp:"https://wa.me/972568401548",facebook:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",telegram:"https://t.me/yazan1342",theme:"emerald",glowColor:"rgba(16,185,129,0.6)",borderColor:"border-emerald-500/50",textColor:"text-emerald-400"},{name:".   ",role:"  -  ",image:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",whatsapp:"#",facebook:"#",telegram:"#",theme:"blue",glowColor:"rgba(59,130,246,0.6)",borderColor:"border-blue-500/50",textColor:"text-blue-400"}];return i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-4xl mx-auto px-4 pt-2 pb-2",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:"  "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(vd,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-gray-900 rounded-2xl mb-4 border border-gray-800 shadow-xl",children:i.jsx(jo,{className:"w-8 h-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:"  "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"    "})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",children:e.map((t,n)=>i.jsxs("div",{className:`bg-gray-950 rounded-[2.5rem] p-8 text-center relative overflow-hidden group border-2 ${t.borderColor} transition-all duration-500 hover:-translate-y-2`,style:{boxShadow:`0 0 60px -10px ${t.glowColor}, inset 0 0 20px -15px ${t.glowColor}`},children:[i.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-10"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[150%] h-[150%] opacity-20 pointer-events-none",style:{background:`radial-gradient(circle, ${t.glowColor} 0%, transparent 70%)`}}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:`w-36 h-36 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl border-4 ${t.borderColor} overflow-hidden p-1 group-hover:scale-105 transition-transform duration-500`,children:i.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full rounded-full object-cover"})}),i.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white mb-3",children:t.name}),i.jsxs("div",{className:`flex items-center justify-center gap-2 mb-8 ${t.textColor} font-bold text-sm bg-gray-900/80 px-5 py-2 rounded-full w-fit mx-auto border border-white/10 backdrop-blur-sm shadow-lg`,children:[i.jsx(Vw,{className:"w-4 h-4"}),i.jsx("span",{children:t.role})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("button",{onClick:()=>window.open(t.whatsapp,"_blank"),className:"flex flex-col items-center justify-center gap-2 bg-[#25D366]/10 hover:bg-[#25D366] text-[#25D366] hover:text-white py-4 rounded-2xl font-bold transition-all border border-[#25D366]/20 group/btn shadow-lg",children:[i.jsx(MP,{className:"w-6 h-6 group-hover/btn:scale-110 transition-transform"}),i.jsx("span",{className:"text-[10px]",children:""})]}),i.jsxs("button",{onClick:()=>window.open(t.facebook,"_blank"),className:"flex flex-col items-center justify-center gap-2 bg-[#1877F2]/10 hover:bg-[#1877F2] text-[#1877F2] hover:text-white py-4 rounded-2xl font-bold transition-all border border-[#1877F2]/20 group/btn shadow-lg",children:[i.jsx(OP,{className:"w-6 h-6 group-hover/btn:scale-110 transition-transform"}),i.jsx("span",{className:"text-[10px]",children:""})]}),i.jsxs("button",{onClick:()=>window.open(t.telegram,"_blank"),className:"flex flex-col items-center justify-center gap-2 bg-[#0088cc]/10 hover:bg-[#0088cc] text-[#0088cc] hover:text-white py-4 rounded-2xl font-bold transition-all border border-[#0088cc]/20 group/btn shadow-lg",children:[i.jsx(PP,{className:"w-6 h-6 group-hover/btn:scale-110 transition-transform"}),i.jsx("span",{className:"text-[10px]",children:""})]})]})]})]},n))}),i.jsx("div",{className:"text-center py-8 border-t border-white/5",children:i.jsxs("p",{className:"text-gray-500 text-sm font-medium animate-pulse flex items-center justify-center gap-2",children:[i.jsx(_o,{className:"w-4 h-4"}),"    (  ) ..."]})}),i.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-900 p-6 rounded-3xl border border-gray-800 hover:border-emerald-500/30 transition-colors",children:[i.jsx(_o,{className:"w-8 h-8 text-blue-500 mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"              ."})]}),i.jsxs("div",{className:"bg-gray-900 p-6 rounded-3xl border border-gray-800 hover:border-emerald-500/30 transition-colors",children:[i.jsx(TU,{className:"w-8 h-8 text-purple-500 mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:'   " "         .'})]})]})]})]})},cC=[{minLevel:1,title:" ",icon:Hw,color:"text-gray-400",border:"border-gray-400",gradient:"from-gray-500 to-gray-700"},{minLevel:5,title:" ",icon:is,color:"text-emerald-400",border:"border-emerald-400",gradient:"from-emerald-500 to-teal-600"},{minLevel:10,title:"",icon:Si,color:"text-blue-400",border:"border-blue-400",gradient:"from-blue-500 to-indigo-600"},{minLevel:15,title:" ",icon:du,color:"text-indigo-400",border:"border-indigo-400",gradient:"from-indigo-500 to-purple-600"},{minLevel:20,title:"",icon:_f,color:"text-purple-400",border:"border-purple-400",gradient:"from-purple-500 to-fuchsia-600"},{minLevel:30,title:"",icon:Dn,color:"text-amber-400",border:"border-amber-400",gradient:"from-amber-400 to-orange-600"}],VP=({onLoginClick:r})=>{const[e,t]=ue.useState([]),[n,s]=ue.useState(!0),[o,l]=ue.useState(null);ue.useEffect(()=>{(async()=>{s(!0);const p="etqan_leaderboard_cache_v3",v=365*24*60*60*1e3,N=localStorage.getItem(p),T=Date.now();let I=[],O=!1;if(N)try{const R=JSON.parse(N);T-R.timestamp<v&&(I=R.data,O=!0)}catch(R){console.error("Cache parse error",R)}if(O)t(I);else try{const R=Ws(tn(sr,"users"),Rf("totalXP","desc"),Df(10)),K=(await ni(R)).docs.map(se=>({...se.data(),uid:se.id}));t(K),localStorage.setItem(p,JSON.stringify({timestamp:T,data:K}))}catch(R){console.error("Error fetching leaderboard:",R)}s(!1)})()},[]);const u=x=>{switch(x){case 0:return i.jsx(Dn,{className:"w-5 h-5 md:w-6 md:h-6 text-yellow-400 fill-yellow-400"});case 1:return i.jsx(gy,{className:"w-5 h-5 md:w-6 md:h-6 text-gray-300 fill-gray-300"});case 2:return i.jsx(gy,{className:"w-5 h-5 md:w-6 md:h-6 text-amber-600 fill-amber-600"});default:return i.jsx(nf,{className:"w-4 h-4 md:w-5 md:h-5 text-emerald-600/50"})}},h=x=>{const p=Math.floor((x||0)/500)+1;return[...cC].reverse().find(v=>p>=v.minLevel)||cC[0]},g=x=>{const p=Math.floor((x||0)/500)+1;return p>=30?"border-red-600 ring-2 ring-red-600/50 shadow-[0_0_15px_rgba(220,38,38,0.5)]":p>=20?"border-orange-700 ring-1 ring-orange-700/30":p>=15?"border-yellow-400 ring-1 ring-yellow-400/30":p>=10?"border-blue-800 ring-1 ring-blue-800/30":p>=5?"border-emerald-500 ring-1 ring-emerald-500/30":"border-gray-600"};return i.jsxs("section",{className:"py-12 md:py-20 relative overflow-hidden bg-gray-950",id:"achievements",children:[i.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute top-1/4 -right-20 w-72 h-72 bg-emerald-900/10 rounded-full blur-[80px]"}),i.jsx("div",{className:"absolute bottom-1/4 -left-20 w-72 h-72 bg-blue-900/10 rounded-full blur-[80px]"})]}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[i.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[i.jsxs("h2",{className:"text-3xl md:text-5xl font-black mb-3 drop-shadow-lg flex items-center justify-center gap-2",children:[i.jsx(nf,{className:"w-8 h-8 md:w-10 md:h-10 text-yellow-500"}),i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300",children:" "})]}),i.jsx("p",{className:"text-gray-400 text-sm md:text-lg",children:"    ( 10)"})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-full max-w-3xl",children:i.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-[2rem] border border-white/10 p-4 md:p-8 shadow-2xl relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[i.jsxs("h3",{className:"text-lg md:text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(i1,{className:"w-5 h-5 text-orange-500"})," "]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium bg-gray-800 text-gray-400 px-3 py-1.5 rounded-full border border-gray-700",children:[i.jsx(Y1,{className:"w-3 h-3 md:w-3.5 md:h-3.5 text-blue-400"}),"   "]})]}),n?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(jr,{className:"w-8 h-8 animate-spin text-emerald-500 mb-2"}),i.jsx("p",{className:"text-gray-500 text-xs font-bold",children:"  ..."})]}):e.length===0?i.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:i.jsx("p",{children:"      !"})}):i.jsx("div",{className:"space-y-2 md:space-y-3",children:e.map((x,p)=>i.jsxs("div",{onClick:()=>l(x),className:`relative flex items-center justify-between p-3 md:p-4 rounded-2xl border transition-all active:scale-98 cursor-pointer
                                        ${p===0?"bg-gradient-to-r from-yellow-900/20 to-gray-900 border-yellow-500/30 shadow-lg shadow-yellow-900/10":p===1?"bg-gray-800/60 border-gray-600/50":p===2?"bg-gray-800/40 border-amber-800/40":"bg-gray-900 border-gray-800 hover:bg-gray-800"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4 overflow-hidden",children:[i.jsx("div",{className:`flex items-center justify-center w-6 md:w-8 font-black text-base md:text-lg ${p<3?"text-white":"text-gray-600"}`,children:p<3?u(p):p+1}),i.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full overflow-hidden shrink-0 border-2 transition-all duration-300 ${g(x.totalXP||0)}`,children:x.avatar?i.jsx("img",{src:x.avatar,alt:x.displayName,className:"w-full h-full object-cover"}):i.jsx(ei,{className:"w-full h-full p-2 text-gray-400 bg-gray-800"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h4",{className:"font-bold text-white text-sm md:text-base truncate",children:x.displayName}),i.jsxs("div",{className:"flex items-center gap-1 text-[10px] md:text-xs text-gray-400 truncate",children:[i.jsx(jo,{className:"w-3 h-3"}),x.school||" "]})]})]}),i.jsxs("div",{className:"shrink-0 flex items-center gap-1 md:gap-2 bg-black/30 px-2 md:px-3 py-1 rounded-lg border border-white/5",children:[i.jsx("span",{className:"font-black text-emerald-400 text-sm md:text-base",children:x.totalXP||0}),i.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"XP"})]}),p===0&&i.jsx("div",{className:"absolute -top-1 -right-1 pointer-events-none",children:i.jsxs("span",{className:"flex h-3 w-3",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-yellow-500"})]})})]},p))})]})})})]}),o&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/80 backdrop-blur-md animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 w-full max-w-sm rounded-[2.5rem] overflow-hidden border border-gray-700 shadow-2xl relative animate-fade-in-up",children:[i.jsx("button",{onClick:()=>l(null),className:"absolute top-4 right-4 p-2 bg-black/20 hover:bg-black/40 text-white rounded-full transition-colors z-20",children:i.jsx(Ys,{className:"w-5 h-5"})}),i.jsx("div",{className:`h-32 bg-gradient-to-br ${h(o.totalXP||0).gradient} relative`,children:i.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"})}),i.jsxs("div",{className:"px-6 pb-8 -mt-16 text-center relative z-10",children:[i.jsx("div",{className:`w-32 h-32 mx-auto rounded-full border-[6px] overflow-hidden shadow-xl mb-4 bg-gray-800 ${g(o.totalXP||0)}`,children:o.avatar?i.jsx("img",{src:o.avatar,alt:o.displayName,className:"w-full h-full object-cover"}):i.jsx(ei,{className:"w-full h-full p-6 text-gray-500"})}),i.jsx("h2",{className:"text-2xl font-black text-white mb-1",children:o.displayName}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm mb-4",children:[i.jsx(Vw,{className:"w-3 h-3"}),o.school||" "]}),i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-gray-800 border border-gray-700 mb-6 shadow-sm",children:[Rw.createElement(h(o.totalXP||0).icon,{className:`w-4 h-4 ${h(o.totalXP||0).color}`}),i.jsx("span",{className:`text-sm font-bold ${h(o.totalXP||0).color}`,children:h(o.totalXP||0).title})]}),i.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-2xl border border-gray-700/50 mb-6 relative",children:[i.jsx(CF,{className:"w-6 h-6 text-gray-600 absolute -top-3 right-4 bg-gray-900 px-1"}),i.jsx("p",{className:"text-gray-300 text-sm font-medium leading-relaxed italic",children:'"        .           ."'})]}),i.jsx("div",{className:"pt-4 border-t border-gray-800",children:i.jsxs("div",{className:"flex justify-between items-center px-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xl md:text-2xl text-emerald-500",style:{fontFamily:"'Great Vibes', cursive"},children:"Yazan Abu Kahil"}),i.jsx("div",{className:"text-[9px] text-gray-600 mt-1 font-bold",children:".   "})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xl md:text-2xl text-blue-500",style:{fontFamily:"'Great Vibes', cursive"},children:"Majd Al-Din"}),i.jsx("div",{className:"text-[9px] text-gray-600 mt-1 font-bold",children:".   "})]})]})})]})]})})]})},KP=()=>{const r=[{id:1,label:" ",value:"+500",icon:tc,gradient:"from-blue-400 via-indigo-400 to-cyan-400",shadow:"hover:shadow-blue-500/20",border:"group-hover:border-blue-500/50",bgIcon:"bg-blue-500/10 text-blue-400"},{id:2,label:" ",value:"+50",icon:is,gradient:"from-emerald-400 via-green-400 to-teal-400",shadow:"hover:shadow-emerald-500/20",border:"group-hover:border-emerald-500/50",bgIcon:"bg-emerald-500/10 text-emerald-400"},{id:3,label:" ",value:"+20",icon:Ls,gradient:"from-amber-400 via-orange-400 to-yellow-400",shadow:"hover:shadow-amber-500/20",border:"group-hover:border-amber-500/50",bgIcon:"bg-amber-500/10 text-amber-400"},{id:4,label:" ",value:"+30",icon:hu,gradient:"from-purple-400 via-fuchsia-400 to-pink-400",shadow:"hover:shadow-purple-500/20",border:"group-hover:border-purple-500/50",bgIcon:"bg-purple-500/10 text-purple-400"}];return i.jsxs("section",{className:"py-20 bg-gray-950 relative overflow-hidden border-t border-white/5",children:[i.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full pointer-events-none overflow-hidden",children:[i.jsx("div",{className:"absolute top-[20%] left-[20%] w-72 h-72 bg-emerald-500/10 rounded-full blur-[100px] animate-pulse"}),i.jsx("div",{className:"absolute bottom-[20%] right-[20%] w-72 h-72 bg-blue-500/10 rounded-full blur-[100px] animate-pulse delay-1000"})]}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center mb-16 text-center",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full animate-ping duration-[3s]"}),i.jsx("div",{className:"relative p-4 bg-gray-900 rounded-full border border-emerald-500/30 shadow-[0_0_30px_rgba(16,185,129,0.3)]",children:i.jsx(Q8,{className:"w-10 h-10 text-emerald-400 animate-pulse"})})]}),i.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-white tracking-tight mb-6",children:[" ",i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300",children:""})]})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8",children:r.map((e,t)=>i.jsx("div",{className:"group relative",style:{animationDelay:`${t*100}ms`},children:i.jsxs("div",{className:`
                  relative h-full bg-gray-900/40 backdrop-blur-xl rounded-[2rem] p-6 
                  border border-white/5 ${e.border} transition-all duration-500 
                  hover:-translate-y-2 hover:shadow-2xl ${e.shadow}
                  flex flex-col items-center justify-center text-center overflow-hidden
              `,children:[i.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity duration-500 bg-gradient-to-br ${e.gradient}`}),i.jsx("div",{className:`mb-4 p-4 rounded-2xl ${e.bgIcon} border border-white/5 group-hover:scale-110 transition-transform duration-300 relative z-10 shadow-lg`,children:i.jsx(e.icon,{className:"w-8 h-8",strokeWidth:1.5})}),i.jsx("div",{className:`text-3xl md:text-5xl font-black mb-2 text-transparent bg-clip-text bg-gradient-to-br ${e.gradient} tracking-tight drop-shadow-sm relative z-10`,children:e.value}),i.jsx("div",{className:"text-gray-400 text-xs md:text-sm font-bold relative z-10 group-hover:text-white transition-colors",children:e.label}),i.jsx("div",{className:"absolute -top-10 -right-10 w-20 h-20 bg-white/5 rounded-full blur-2xl group-hover:bg-white/10 transition-colors"})]})},e.id))})]})]})},zP=({onBack:r})=>{const[e,t]=ue.useState([]),[n,s]=ue.useState(!0),[o,l]=ue.useState(null),[u,h]=ue.useState(""),[g,x]=ue.useState(null),[p,v]=ue.useState(null),[N,T]=ue.useState(!1),[I,O]=ue.useState(null),[R,P]=ue.useState(!1),K=ue.useRef(!0);ue.useEffect(()=>(K.current=!0,se(),()=>{K.current=!1}),[]);const se=async()=>{s(!0),l(null);const Y="etqan_question_bank_v1";try{const ge=localStorage.getItem(Y);if(ge){const xe=JSON.parse(ge);if(xe&&Array.isArray(xe)){K.current&&(t(xe),s(!1));return}}}catch(ge){console.error("Cache parsing error",ge)}const ie=setTimeout(()=>{K.current&&n&&(s(!1),l("   .      ."))},15e3);try{const ge=Ws(tn(sr,"quizzes"),Rf("createdAt","desc"),Df(50)),X=(await ni(ge)).docs.map(L=>({id:L.id,...L.data()}));K.current&&(t(X),localStorage.setItem(Y,JSON.stringify(X)),l(null))}catch(ge){console.error("Error fetching quizzes:",ge),K.current&&l("    . "+ge.message)}finally{clearTimeout(ie),K.current&&s(!1)}},ae=Y=>{v({category:"Language",...Y})},le=Y=>{localStorage.setItem("etqan_question_bank_v1",JSON.stringify(Y))},U=(Y,ie)=>{Y.stopPropagation(),ie.id&&O({id:ie.id,title:ie.title})},S=async()=>{if(I){P(!0);try{await sm(ga(sr,"quizzes",I.id));const Y=e.filter(ie=>ie.id!==I.id);t(Y),le(Y),O(null)}catch(Y){console.error("Error deleting quiz:",Y),alert("   : "+Y.message)}finally{P(!1)}}},M=(Y,ie)=>{p&&v({...p,[Y]:ie})},z=(Y,ie,ge)=>{if(!p)return;const xe=[...p.questions];xe[Y]={...xe[Y],[ie]:ge},v({...p,questions:xe})},E=(Y,ie,ge)=>{if(!p)return;const xe=[...p.questions],X=[...xe[Y].options];X[ie]=ge,xe[Y]={...xe[Y],options:X},v({...p,questions:xe})},F=Y=>{if(p&&window.confirm("      ")){const ie=p.questions.filter((ge,xe)=>xe!==Y);v({...p,questions:ie})}},D=async()=>{if(!(!p||!p.id)){if(p.questions.length===0){alert("     !");return}T(!0);try{const Y=ga(sr,"quizzes",p.id);await Nf(Y,{title:p.title,subject:p.subject,grade:p.grade,category:p.category,questions:p.questions});const ie=e.map(ge=>ge.id===p.id?p:ge);t(ie),le(ie),v(null),alert("   ")}catch(Y){console.error("Error updating quiz:",Y),alert("   ")}finally{T(!1)}}},$=e.filter(Y=>{const ie=(Y.title?Y.title.toLowerCase().includes(u.toLowerCase()):!1)||Y.teacherName&&Y.teacherName.toLowerCase().includes(u.toLowerCase()),ge=Y.grade==="English Major - QOU"||Y.grade&&Y.grade.includes("University");let xe=!1;return g==="university"?xe=ge:xe=!ge,ie&&xe}),be=Y=>{if(!Y)return"";try{return(Y.toDate?Y.toDate():new Date(Y.seconds*1e3)).toLocaleDateString("ar-EG")}catch{return""}},te="w-full p-3 rounded-xl border-2 border-gray-600 focus:border-blue-400 outline-none font-bold text-white bg-gray-700 shadow-sm transition-colors placeholder-gray-400";return g?i.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in relative transition-colors duration-300 text-gray-100",children:[i.jsx("style",{children:`
        .custom-scrollbar {
          scrollbar-width: thin;
          scrollbar-color: #475569 transparent;
        }
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
          height: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #475569;
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 mb-6",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg group backdrop-blur-sm",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsx("div",{className:"flex-1 w-full",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end justify-between gap-6",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5 flex items-center gap-2",children:[" ",i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-lg border ${g==="school"?"bg-emerald-900/30 text-emerald-400 border-emerald-500/30":"bg-blue-900/30 text-blue-400 border-blue-500/30"}`,children:g==="school"?"":""})]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(tl,{className:"w-3 h-3"})," "]})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:[i.jsxs("div",{className:"w-full md:w-auto bg-gray-800 p-2 rounded-2xl shadow-lg border border-gray-600 flex items-center gap-2",children:[i.jsx(Si,{className:"w-5 h-5 text-gray-300 mr-2"}),i.jsx("input",{type:"text",placeholder:"  ...",value:u,onChange:Y=>h(Y.target.value),className:"w-full md:w-64 outline-none text-sm font-bold text-gray-200 placeholder-gray-500 bg-transparent"})]}),i.jsxs("button",{onClick:()=>{x(null),h("")},className:"bg-gray-800 text-gray-300 px-3 py-2 rounded-xl text-xs font-bold flex items-center justify-center gap-1 hover:bg-gray-700 transition-colors border border-gray-700",children:[i.jsx(ec,{className:"w-3 h-3"})," "]})]})]})})]})}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 relative z-20",children:n?i.jsxs("div",{className:"flex flex-col justify-center items-center py-20 gap-4",children:[i.jsx(jr,{className:"w-10 h-10 animate-spin text-blue-400"}),i.jsx("p",{className:"text-gray-400 font-bold text-sm",children:"  ..."})]}):o?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-gray-900 rounded-3xl border border-red-500/20 p-8 text-center",children:[i.jsx(ug,{className:"w-12 h-12 text-red-500 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"  "}),i.jsx("p",{className:"text-gray-400 mb-6",children:o}),i.jsxs("button",{onClick:se,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-xl font-bold flex items-center gap-2 transition-colors",children:[i.jsx(ec,{className:"w-4 h-4"})," "]})]}):$.length===0?i.jsxs("div",{className:"bg-gray-800 rounded-3xl shadow-sm border border-white/5 p-12 text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(tl,{className:"w-8 h-8 text-gray-500"})}),i.jsx("h3",{className:"text-xl font-bold text-white",children:"  "}),i.jsx("p",{className:"text-gray-400 mt-1",children:u?"       .":`      ${g==="school"?"":""} .`}),i.jsx("button",{onClick:se,className:"mt-4 text-xs text-blue-400 underline hover:text-blue-300",children:" "})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(Y=>i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm hover:shadow-xl transition-all duration-300 border border-white/5 overflow-hidden group flex flex-col",children:[i.jsxs("div",{className:"p-6 flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-bold ${g==="school"?"bg-emerald-900/30 text-emerald-300":"bg-blue-900/30 text-blue-300"}`,children:Y.subject}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>ae(Y),className:"bg-emerald-900/20 text-emerald-400 p-1.5 rounded-lg hover:bg-emerald-900/40 transition-colors",title:" ",children:i.jsx(py,{className:"w-4 h-4"})}),i.jsx("button",{onClick:ie=>U(ie,Y),className:"bg-red-900/20 text-red-400 p-1.5 rounded-lg hover:bg-red-900/40 transition-colors",title:" ",children:i.jsx(nl,{className:"w-4 h-4"})})]})]}),i.jsxs("h3",{className:"text-xl font-black text-white mb-2 line-clamp-2 group-hover:text-blue-400 transition-colors flex items-center gap-2",children:[Y.title,Y.isPremium&&i.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 p-1 rounded-full",title:" ",children:i.jsx(Dn,{className:"w-4 h-4 text-amber-500 fill-amber-500"})})]}),Y.category&&i.jsx("span",{className:"inline-block mb-4 bg-amber-900/20 text-amber-400 text-[10px] font-bold px-2 py-1 rounded-md border border-amber-800/50",children:Y.category}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-6",children:[i.jsx("span",{className:"bg-gray-700 px-2 py-0.5 rounded border border-gray-600 font-bold",children:Y.grade==="English Major - QOU"?"":` ${Y.grade}`}),i.jsx("span",{className:"text-gray-600",children:"|"}),i.jsxs("span",{className:"bg-gray-700/50 text-gray-400 px-2 py-0.5 rounded-lg text-xs font-bold flex items-center gap-1",children:[i.jsx(cg,{className:"w-3 h-3"}),be(Y.createdAt)]})]})]}),i.jsxs("div",{className:"bg-gray-900/50 p-4 border-t border-white/5 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-full border border-gray-600 flex items-center justify-center shadow-sm text-gray-300",children:i.jsx(ei,{className:"w-4 h-4"})}),i.jsx("p",{className:"text-sm font-bold text-gray-300",children:Y.teacherName||""})]}),i.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-gray-400 bg-gray-700 px-2 py-1 rounded-md border border-gray-600",children:[i.jsx(_o,{className:"w-3 h-3"}),Y.questions.length," "]})]})]},Y.id))})}),p&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden border border-gray-700",children:[i.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-6 flex justify-between items-center shrink-0 sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-emerald-900/30 p-2 rounded-xl",children:i.jsx(py,{className:"w-6 h-6 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-white",children:" "}),i.jsx("p",{className:"text-sm text-gray-400",children:"     "})]})]}),i.jsx("button",{onClick:()=>v(null),className:"p-2 hover:bg-gray-700 rounded-full transition-colors text-gray-400",children:i.jsx(Ys,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-900 custom-scrollbar",children:[i.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-700 mb-8",children:[i.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[i.jsx(tl,{className:"w-5 h-5 text-blue-400"})," "]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:" "}),i.jsx("input",{type:"text",value:p.title,onChange:Y=>M("title",Y.target.value),className:te})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:""}),i.jsx("input",{type:"text",value:p.subject,onChange:Y=>M("subject",Y.target.value),className:te})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:g==="university"?"":""}),g==="school"?i.jsx("select",{value:p.grade,onChange:Y=>M("grade",Y.target.value),className:te,children:[5,6,7,8,9,10,11,12].map(Y=>i.jsxs("option",{value:Y,children:[" ",Y]},Y))}):i.jsx("input",{type:"text",value:p.grade,onChange:Y=>M("grade",Y.target.value),className:te,disabled:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"  (Category)"}),i.jsxs("select",{value:p.category||"Language",onChange:Y=>M("category",Y.target.value),className:te,children:[i.jsx("option",{value:"Language",children:"Language ()"}),i.jsx("option",{value:"Reading",children:"Reading ()"}),i.jsx("option",{value:"Writing",children:"Writing ()"}),i.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"})]})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h3",{className:"font-bold text-white flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(_o,{className:"w-5 h-5 text-blue-400"})," (",p.questions.length,")"]}),i.jsx("span",{className:"text-xs bg-yellow-900/30 text-yellow-300 px-2 py-1 rounded-lg",children:"*        "})]}),p.questions.map((Y,ie)=>i.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-700 relative group",children:[i.jsx("button",{onClick:()=>F(ie),className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-red-900/20 hover:text-red-400 rounded-lg transition-colors",title:" ",children:i.jsx(nl,{className:"w-5 h-5"})}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("label",{className:"block text-xs font-bold text-gray-400 mb-1.5",children:["  ",ie+1]}),i.jsx("input",{type:"text",dir:"ltr",value:Y.question,onChange:ge=>z(ie,"question",ge.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-600 focus:border-emerald-500 outline-none font-bold text-white bg-gray-700 shadow-sm text-lg transition-colors placeholder-gray-400 text-left"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:Y.options.map((ge,xe)=>i.jsxs("div",{className:"relative",children:[i.jsxs("label",{className:"flex items-center justify-between text-xs font-bold text-gray-400 mb-1 px-1",children:[i.jsxs("span",{children:[" ",xe+1]}),i.jsxs("button",{onClick:()=>z(ie,"correctAnswer",xe),className:`flex items-center gap-1 px-2 py-0.5 rounded cursor-pointer transition-colors ${Y.correctAnswer===xe?"bg-emerald-900/30 text-emerald-400":"bg-gray-700 text-gray-500 hover:bg-gray-600"}`,children:[Y.correctAnswer===xe?i.jsx(kn,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 border border-gray-400 rounded-full"}),Y.correctAnswer===xe?" ":" "]})]}),i.jsx("input",{type:"text",dir:"ltr",value:ge,onChange:X=>E(ie,xe,X.target.value),className:`w-full p-3 rounded-xl border-2 outline-none font-bold transition-colors shadow-sm text-left ${Y.correctAnswer===xe?"border-emerald-500 bg-emerald-900/20 text-emerald-300":"border-gray-600 focus:border-blue-400 text-white bg-gray-700"}`})]},xe))}),i.jsxs("div",{className:"bg-yellow-900/20 p-4 rounded-xl border border-yellow-800",children:[i.jsx("label",{className:"block text-xs font-bold text-yellow-200 mb-1",children:" "}),i.jsx("textarea",{value:Y.explanation||"",onChange:ge=>z(ie,"explanation",ge.target.value),className:"w-full p-3 rounded-lg border border-yellow-700 focus:border-yellow-500 outline-none text-gray-200 bg-gray-800 text-sm h-20 resize-none shadow-sm custom-scrollbar text-left",placeholder:"  ...",dir:"ltr"})]})]},ie))]})]}),i.jsxs("div",{className:"p-6 bg-gray-800 border-t border-gray-700 flex justify-end gap-3 shrink-0 sticky bottom-0 z-10",children:[i.jsx("button",{onClick:()=>v(null),className:"px-6 py-3 rounded-xl font-bold text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:""}),i.jsxs("button",{onClick:D,disabled:N,className:"px-8 py-3 rounded-xl font-bold text-white bg-emerald-600 hover:bg-emerald-700 transition-colors flex items-center gap-2 shadow-lg shadow-none",children:[N?i.jsx(jr,{className:"w-5 h-5 animate-spin"}):i.jsx(fu,{className:"w-5 h-5"})," "]})]})]})}),I&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl p-8 max-w-sm w-full border border-gray-700 shadow-2xl text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:i.jsx(nl,{className:"w-10 h-10 text-red-500"})}),i.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),i.jsxs("p",{className:"text-gray-400 mb-6 text-sm leading-relaxed",children:["      ",i.jsx("br",{}),i.jsxs("span",{className:"text-white font-bold",children:['"',I.title,'"']}),"",i.jsx("br",{}),"     ."]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:S,disabled:R,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2 shadow-lg shadow-red-900/20",children:R?i.jsx(jr,{className:"w-5 h-5 animate-spin"}):" "}),i.jsx("button",{onClick:()=>O(null),disabled:R,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-3 rounded-xl font-bold transition-colors border border-gray-700",children:""})]})]})})]}):i.jsx("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in transition-colors duration-300 text-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"max-w-4xl w-full px-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg group backdrop-blur-sm",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsx("span",{className:"text-gray-400 text-sm font-bold",children:""})]}),i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400",children:"     "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>x("school"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-emerald-500/20",children:i.jsx(iA,{className:"w-12 h-12 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:""}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (5 - 12)"})]})]}),i.jsxs("button",{onClick:()=>x("university"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-blue-500/20",children:i.jsx(Da,{className:"w-12 h-12 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:""}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  "})]})]})]})]})})},qP=[{id:"grammar",title:" (Grammar)",icon:tl,desc:"   ",color:"bg-blue-900/20 text-blue-400"},{id:"reading",title:" (Reading)",icon:is,desc:"    ",color:"bg-emerald-900/20 text-emerald-400"},{id:"vocabulary",title:" (Vocabulary)",icon:kg,desc:"   ",color:"bg-purple-900/20 text-purple-400"},{id:"writing",title:" (Writing)",icon:W1,desc:"   ",color:"bg-orange-900/20 text-orange-400"}],GP=[{id:"English",title:" ",icon:kg,color:"text-purple-400",bg:"bg-purple-900/20"}],XP=({onBack:r,onNavigate:e})=>{const{user:t}=ro(),[n,s]=ue.useState("INTRO"),[o,l]=ue.useState(null),[u,h]=ue.useState(""),[g,x]=ue.useState(""),[p,v]=ue.useState(null),[N,T]=ue.useState("First"),[I,O]=ue.useState([]),[R,P]=ue.useState(!1),[K,se]=ue.useState(null),[ae,le]=ue.useState(0),[U,S]=ue.useState(""),[M,z]=ue.useState(!1),[E,F]=ue.useState(!1),[D,$]=ue.useState(!1),[,be]=ue.useState(0);ue.useEffect(()=>{const de=setInterval(()=>be(oe=>oe+1),5e3);return()=>clearInterval(de)},[]),ue.useEffect(()=>{window.history.replaceState({view:"LESSONS_EXPLANATIONS",subView:"INTRO"},"","");const de=oe=>{oe.state&&oe.state.subView?s(oe.state.subView):n==="INTRO"?r&&r():s("INTRO")};return window.addEventListener("popstate",de),()=>window.removeEventListener("popstate",de)},[]);const te=de=>{window.history.pushState({view:"LESSONS_EXPLANATIONS",subView:de},"",""),s(de)},Y=()=>{window.history.back()},ie=()=>{if(!(t!=null&&t.isSubscriber)||!t.subscriptionExpiry)return!1;const de=t.subscriptionExpiry.seconds?t.subscriptionExpiry.seconds*1e3:new Date(t.subscriptionExpiry).getTime();return Date.now()<de};ue.useEffect(()=>{if(n==="DETAILS"){const de=oe=>(oe.preventDefault(),!1);return document.addEventListener("contextmenu",de),document.addEventListener("selectstart",de),document.addEventListener("copy",de),document.addEventListener("cut",de),()=>{document.removeEventListener("contextmenu",de),document.removeEventListener("selectstart",de),document.removeEventListener("copy",de),document.removeEventListener("cut",de)}}},[n]),ue.useEffect(()=>{window.scrollTo(0,0)},[n]);const ge=()=>te("LEVELS"),xe=de=>{l(de),te("SUBJECTS")},X=de=>{h(de),te("GRADES")},L=de=>{x(de),te("CATEGORIES")},H=de=>{v(de),te("TOPICS")},J=de=>{if(de.isPremium&&!ie()){$(!0);return}se(de),le(0),S(""),F(!1),te("DETAILS")};ue.useEffect(()=>{n==="TOPICS"&&g&&p&&u&&ee()},[n,g,p,u,N,t==null?void 0:t.isSubscriber]);const ee=async()=>{P(!0);try{const de=Ws(tn(sr,"explanations"),Js("subject","==",u),Js("grade","==",g),Js("category","==",p==null?void 0:p.id)),oe=await fj(de),Je=[];oe.forEach(Oe=>{Je.push({id:Oe.id,...Oe.data()})});const ot=Je.filter(Oe=>(Oe.semester||"First")===N);ot.sort((Oe,He)=>{var vt,bt;const st=((vt=Oe.createdAt)==null?void 0:vt.seconds)||0;return(((bt=He.createdAt)==null?void 0:bt.seconds)||0)-st}),O(ot)}catch(de){console.error("Error fetching explanations:",de)}finally{P(!1)}},he=async()=>{if(ae!==0&&!(!K||!t)){z(!0);try{await cA(tn(sr,"reviews"),{type:"explanation",targetId:K.id,targetTitle:K.title,teacherId:K.teacherName||"",teacherName:K.teacherName||"",rating:ae,comment:U,studentId:t.uid,studentName:t.displayName,createdAt:Ei()}),F(!0)}catch(de){console.error("Error saving review:",de),alert("    ")}finally{z(!1)}}},me=de=>de?(de.toDate?de.toDate():new Date(de.seconds*1e3)).toLocaleDateString("ar-EG"):"",ve=()=>i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in flex flex-col relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 z-0",children:[i.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",poster:"https://images.unsplash.com/photo-1497633762265-9d179a990aa6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",className:"w-full h-full object-cover",children:i.jsx("source",{src:"https://drive.google.com/uc?export=download&id=1wHw0wEWltdWfMqblwZLRgLKZ_ah3lCKm",type:"video/mp4"})}),i.jsx("div",{className:"absolute inset-0 bg-gray-950/70"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-transparent to-gray-950/80"})]}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center flex-1 px-6 text-center pt-10",children:[i.jsx("span",{className:"inline-block px-6 py-2 rounded-full bg-white/10 backdrop-blur-md text-emerald-300 font-bold text-sm mb-6 border border-white/20 shadow-lg animate-fade-in-up",children:"  "}),i.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white mb-6 leading-tight drop-shadow-2xl animate-fade-in-up delay-100",children:[" ",i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-400",children:" "})]}),i.jsx("p",{className:"text-gray-200 text-lg md:text-2xl max-w-2xl mx-auto mb-12 leading-relaxed font-medium drop-shadow-md animate-fade-in-up delay-200",children:"         ."}),i.jsxs("button",{onClick:ge,className:"w-full md:w-auto bg-white text-gray-900 text-xl font-black px-12 py-5 rounded-2xl hover:scale-105 hover:bg-emerald-50 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)] flex items-center justify-center gap-3 animate-fade-in-up delay-300",children:[" ",i.jsx(qr,{className:"w-6 h-6"})]})]}),i.jsx("div",{className:"p-6 text-center relative z-10",children:i.jsxs("button",{onClick:r,className:"text-white/70 font-bold hover:text-white transition-colors flex items-center justify-center gap-2 mx-auto",children:[i.jsx(Cn,{className:"w-4 h-4"})," "]})})]}),Be=()=>i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Y,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(is,{className:"w-3 h-3"}),""]})]})]})]})}),i.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>xe("school"),className:"bg-gray-900 p-8 rounded-3xl border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-xl flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(iA,{className:"w-12 h-12 text-emerald-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-white",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"     "})]}),i.jsxs("button",{onClick:()=>xe("university"),className:"bg-gray-900 p-8 rounded-3xl border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-xl flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(Da,{className:"w-12 h-12 text-blue-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-white",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (  )"})]})]})})]}),Xe=()=>i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Y,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(is,{className:"w-3 h-3"}),""]})]})]})]})}),i.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:GP.map(de=>i.jsxs("button",{onClick:()=>X(de.id),className:"bg-gray-900 p-8 rounded-[2.5rem] shadow-sm border border-gray-700 hover:border-emerald-500 hover:shadow-xl hover:-translate-y-2 transition-all group flex flex-col items-center gap-4",children:[i.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center ${de.bg} ${de.color} group-hover:scale-110 transition-transform`,children:i.jsx(de.icon,{className:"w-10 h-10"})}),i.jsx("span",{className:"font-black text-xl text-gray-200 group-hover:text-white",children:de.title})]},de.id))})})]}),Re=()=>{const de={5:"border-emerald-500/30 hover:border-emerald-500 hover:shadow-emerald-900/20 group-hover:text-emerald-400",6:"border-cyan-500/30 hover:border-cyan-500 hover:shadow-cyan-900/20 group-hover:text-cyan-400",7:"border-sky-500/30 hover:border-sky-500 hover:shadow-sky-900/20 group-hover:text-sky-400",8:"border-blue-500/30 hover:border-blue-500 hover:shadow-blue-900/20 group-hover:text-blue-400",9:"border-indigo-500/30 hover:border-indigo-500 hover:shadow-indigo-900/20 group-hover:text-indigo-400",10:"border-violet-500/30 hover:border-violet-500 hover:shadow-violet-900/20 group-hover:text-violet-400",11:"border-purple-500/30 hover:border-purple-500 hover:shadow-purple-900/20 group-hover:text-purple-400",12:"border-pink-500/30 hover:border-pink-500 hover:shadow-pink-900/20 group-hover:text-pink-400"},oe={5:"bg-emerald-900/20 text-emerald-400 group-hover:bg-emerald-500 group-hover:text-white",6:"bg-cyan-900/20 text-cyan-400 group-hover:bg-cyan-500 group-hover:text-white",7:"bg-sky-900/20 text-sky-400 group-hover:bg-sky-500 group-hover:text-white",8:"bg-blue-900/20 text-blue-400 group-hover:bg-blue-500 group-hover:text-white",9:"bg-indigo-900/20 text-indigo-400 group-hover:bg-indigo-500 group-hover:text-white",10:"bg-violet-900/20 text-violet-400 group-hover:bg-violet-500 group-hover:text-white",11:"bg-purple-900/20 text-purple-400 group-hover:bg-purple-500 group-hover:text-white",12:"bg-pink-900/20 text-pink-400 group-hover:bg-pink-500 group-hover:text-white"};return i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Y,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:o==="university"?" ":" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(jo,{className:"w-3 h-3"}),""]})]})]})]})}),i.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:o==="school"?i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[5,6,7,8,9,10,11,12].map(Je=>{const ot=Je.toString(),Oe=de[ot],He=oe[ot];return i.jsxs("button",{onClick:()=>L(Je.toString()),className:`bg-gray-900 p-5 rounded-2xl shadow-sm border transition-all group flex flex-col items-center gap-3 hover:-translate-y-1 hover:shadow-lg ${Oe}`,children:[i.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center transition-colors ${He}`,children:i.jsx("span",{className:"font-black text-xl",children:Je})}),i.jsxs("span",{className:"font-black text-gray-300 transition-colors text-base group-hover:text-white",children:[" ",Je]})]},Je)})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("button",{onClick:()=>L("English Major - QOU"),className:"bg-gray-900 p-8 rounded-2xl shadow-sm border border-blue-500/30 hover:border-blue-500 transition-all group flex flex-col items-center gap-4 hover:-translate-y-1 hover:shadow-xl hover:shadow-blue-900/20",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-900/20 flex items-center justify-center transition-colors group-hover:bg-blue-600 group-hover:text-white text-blue-400",children:i.jsx(Da,{className:"w-10 h-10"})}),i.jsx("span",{className:"font-black text-gray-200 transition-colors text-lg group-hover:text-white",children:"   -   "})]})})})]})},tt=()=>i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Y,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:"  "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(tl,{className:"w-3 h-3"}),o==="university"?"":""]})]})]})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"bg-gray-900 p-2 rounded-2xl mb-8 flex border border-gray-700 max-w-sm mx-auto",children:[i.jsxs("button",{onClick:()=>T("First"),className:`flex-1 py-3 rounded-xl font-bold transition-all text-sm flex items-center justify-center gap-2 ${N==="First"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[i.jsx(lg,{className:"w-4 h-4"}),"  "]}),i.jsxs("button",{onClick:()=>T("Second"),className:`flex-1 py-3 rounded-xl font-bold transition-all text-sm flex items-center justify-center gap-2 ${N==="Second"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[i.jsx(lg,{className:"w-4 h-4"}),"  "]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:qP.map(de=>i.jsx("button",{onClick:()=>H(de),className:"bg-gray-900 rounded-3xl p-5 shadow-sm border border-gray-700 hover:shadow-xl hover:border-emerald-800 transition-all group text-right relative overflow-hidden",children:i.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[i.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 ${de.color} group-hover:scale-110 transition-transform`,children:i.jsx(de.icon,{className:"w-7 h-7"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-black text-white mb-1",children:de.title}),i.jsx("p",{className:"text-gray-400 text-xs font-medium",children:de.desc})]}),i.jsx("div",{className:"absolute top-1/2 -left-4 -translate-y-1/2 bg-gray-700 p-2 rounded-full opacity-0 group-hover:opacity-100 group-hover:translate-x-2 transition-all",children:i.jsx($A,{className:"w-5 h-5 text-gray-400"})})]})},de.id))})]})]}),fe=()=>i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Y,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:p==null?void 0:p.title}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(tl,{className:"w-3 h-3"})," - ",N==="First"?" 1":" 2"]})]})]})]})}),i.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8",children:R?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(jr,{className:"w-8 h-8 animate-spin text-emerald-400"})}):I.length===0?i.jsx("div",{className:"flex flex-col items-center justify-center text-center",children:i.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-sm border border-gray-700 max-w-md w-full",children:[i.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:"   "}),i.jsxs("p",{className:"text-gray-400 font-medium leading-relaxed mb-6",children:["      ",i.jsx("span",{className:"text-emerald-600 font-bold",children:p==null?void 0:p.title}),"  ",i.jsx("span",{className:"text-emerald-600 font-bold",children:N==="First"?"":""}),"  ."]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs font-bold text-gray-400 bg-gray-700 py-2 px-4 rounded-full",children:[i.jsx(tf,{className:"w-4 h-4"}),"     "]})]})}):i.jsx("div",{className:"grid grid-cols-1 gap-4",children:I.map(de=>{const oe=ie(),Je=de.isPremium&&!oe,ot=Je?"border-amber-900/50":de.isPremium?"border-amber-600":"border-gray-700";return i.jsxs("button",{onClick:()=>J(de),className:`bg-gray-900 p-5 rounded-2xl shadow-sm border ${ot} hover:shadow-md transition-all group text-right flex items-center justify-between relative overflow-hidden`,children:[de.isPremium&&i.jsxs("div",{className:"absolute top-0 left-0 bg-amber-500/20 border-b border-r border-amber-500/30 text-amber-400 text-[9px] font-bold px-2 py-0.5 rounded-br-lg z-10 flex items-center gap-1",children:[i.jsx(Dn,{className:"w-3 h-3 fill-amber-400"}),"PREMIUM"]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:`p-3 rounded-xl transition-colors ${Je?"bg-gray-800":"bg-gray-700 group-hover:bg-emerald-900/20"}`,children:Je?i.jsx(Bo,{className:"w-6 h-6 text-gray-500"}):i.jsx(Ls,{className:"w-6 h-6 text-gray-500 group-hover:text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:`text-lg font-bold mb-1 transition-colors ${Je?"text-gray-500":"text-white group-hover:text-emerald-400"}`,children:de.title}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 font-medium",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(cg,{className:"w-3 h-3"}),me(de.createdAt)]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ei,{className:"w-3 h-3"}),de.teacherName]})]})]})]}),i.jsx("div",{className:`transition-transform duration-300 ${Je?"":"group-hover:-translate-x-1"}`,children:Je?i.jsx(Bo,{className:"w-5 h-5 text-gray-600"}):i.jsx($A,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})})]},de.id)})})})]}),Me=()=>K?i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100 pb-20",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Y,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5 truncate max-w-md",children:K.title}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:Y,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(tl,{className:"w-3 h-3"})," ",p==null?void 0:p.title]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(Ls,{className:"w-3 h-3"}),""]})]})]}),K.isPremium&&i.jsxs("div",{className:"mr-auto hidden sm:flex items-center gap-1.5 bg-gradient-to-r from-amber-500/10 to-yellow-500/10 border border-amber-500/30 px-3 py-1 rounded-lg text-amber-400 text-xs font-black shadow-[0_0_10px_rgba(245,158,11,0.1)]",children:[i.jsx(Dn,{className:"w-3.5 h-3.5 fill-amber-400 animate-pulse"}),i.jsx("span",{children:"  (Premium)"})]})]})}),i.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:`bg-gray-900 rounded-3xl shadow-2xl overflow-hidden mb-8 relative transition-all ${K.isPremium?"border-2 border-amber-500/20 shadow-amber-900/10":"border border-gray-700"}`,children:[K.isPremium&&i.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-amber-600 via-yellow-400 to-amber-600 shadow-[0_0_15px_rgba(245,158,11,0.5)]"}),i.jsxs("div",{className:"p-6 md:p-10 pt-10 select-none",onCopy:de=>de.preventDefault(),children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-8 text-sm text-gray-400 border-b border-gray-800 pb-6",children:[i.jsx("span",{className:"bg-gray-800 px-3 py-1.5 rounded-lg font-bold border border-gray-700 text-gray-300",children:g==="English Major - QOU"?"":` ${g}`}),i.jsx($A,{className:"w-4 h-4 opacity-50"}),i.jsx("span",{className:"bg-gray-800 px-3 py-1.5 rounded-lg font-bold border border-gray-700 text-gray-300",children:p==null?void 0:p.title})]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-black text-white mb-8 leading-relaxed tracking-tight drop-shadow-sm",dir:"auto",children:K.title}),i.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-200 whitespace-pre-wrap leading-loose text-lg font-medium selection:bg-emerald-500/30",dir:"auto",dangerouslySetInnerHTML:{__html:K.content}})]}),i.jsxs("div",{className:"bg-gray-950/30 p-6 border-t border-gray-800 flex flex-wrap justify-between items-center text-sm text-gray-400 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 bg-gray-900/50 px-4 py-2 rounded-full border border-gray-800 shadow-sm",children:[i.jsx("div",{className:"p-1.5 bg-gray-800 rounded-full",children:i.jsx(ei,{className:"w-4 h-4 text-emerald-400"})}),i.jsxs("span",{children:[": ",i.jsx("span",{className:"font-bold text-white",children:K.teacherName})]})]}),i.jsxs("div",{className:"flex items-center gap-2 opacity-80",children:[i.jsx(cg,{className:"w-4 h-4"}),i.jsx("span",{className:"font-mono dir-ltr",children:me(K.createdAt)})]})]})]}),t&&i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-xl border border-gray-700 p-8 text-center relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500/20 via-blue-500/50 to-blue-500/20"}),E?i.jsxs("div",{className:"py-12 animate-fade-in",children:[i.jsx("div",{className:"w-20 h-20 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-green-500/20 shadow-lg shadow-green-900/20",children:i.jsx(Zl,{className:"w-10 h-10 text-green-400"})}),i.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:" !"}),i.jsx("p",{className:"text-gray-400 font-medium",children:"     ."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[i.jsx("div",{className:"p-3 bg-blue-500/10 rounded-2xl border border-blue-500/20",children:i.jsx(gg,{className:"w-6 h-6 text-blue-400"})}),i.jsx("h3",{className:"font-bold text-xl text-white",children:"    "})]}),i.jsx("p",{className:"text-gray-400 text-sm mb-6 font-medium",children:"     ()"}),i.jsx("div",{className:"flex justify-center gap-2 mb-6 flex-wrap",children:[1,2,3,4,5,6,7,8,9,10].map(de=>i.jsx("button",{onClick:()=>le(de),className:`w-10 h-10 rounded-xl text-sm font-bold transition-all shadow-sm ${ae===de?"bg-blue-600 text-white scale-110 shadow-blue-900/50 shadow-lg":"bg-gray-800 text-gray-400 hover:bg-gray-700 border border-gray-700"}`,children:de},de))}),i.jsx("div",{className:"relative mb-6",children:i.jsx("textarea",{value:U,onChange:de=>S(de.target.value),placeholder:"  ...",className:"w-full bg-gray-950 border border-gray-700 rounded-2xl p-4 text-sm text-white outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500/50 min-h-[100px] resize-none transition-all placeholder-gray-600"})}),i.jsxs("button",{onClick:he,disabled:M||ae===0,className:`w-full py-4 rounded-2xl font-bold text-base flex items-center justify-center gap-3 transition-all shadow-lg ${ae===0?"bg-gray-800 text-gray-500 cursor-not-allowed shadow-none":"bg-blue-600 text-white hover:bg-blue-500 hover:shadow-blue-500/20 hover:-translate-y-1"}`,children:[M?i.jsx(jr,{className:"w-5 h-5 animate-spin"}):i.jsx(gu,{className:"w-5 h-5"})," "]})]})]})]})]}):null;return i.jsxs(i.Fragment,{children:[n==="INTRO"&&ve(),n==="LEVELS"&&Be(),n==="SUBJECTS"&&Xe(),n==="GRADES"&&Re(),n==="CATEGORIES"&&tt(),n==="TOPICS"&&fe(),n==="DETAILS"&&Me(),D&&i.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:()=>$(!1)}),i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-8 max-w-sm w-full relative z-10 text-center border border-amber-500/30 shadow-2xl shadow-amber-900/20 animate-fade-in-up",children:[i.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 bg-amber-500/20",children:i.jsx(Dn,{className:"w-10 h-10 text-amber-500 fill-amber-500"})}),i.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:"        (Premium).    ."}),i.jsxs("button",{onClick:()=>{$(!1),e("SERVICES")},className:"w-full py-3.5 rounded-xl font-bold text-white transition-all shadow-lg bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 border border-amber-500 flex items-center justify-center gap-2",children:[i.jsx(Dn,{className:"w-5 h-5 fill-white"})," "]})]})]})]})},uC=[{id:"grammar",title:" (Grammar)",icon:tl},{id:"reading",title:" (Reading)",icon:is},{id:"vocabulary",title:" (Vocabulary)",icon:kg},{id:"writing",title:" (Writing)",icon:W1}],$P=[{id:"English",title:"  (English)",icon:kg}],YP=({value:r,onChange:e})=>{const t=ue.useRef(null),[n,s]=ue.useState("#000000");ue.useEffect(()=>{t.current&&r!==t.current.innerHTML&&r===""&&(t.current.innerHTML="")},[r]);const o=(u,h="")=>{var g;document.execCommand(u,!1,h),t.current&&e(t.current.innerHTML),(g=t.current)==null||g.focus()},l=()=>{t.current&&e(t.current.innerHTML)};return i.jsxs("div",{className:"border-2 border-gray-700 rounded-xl overflow-hidden bg-gray-800 flex flex-col h-96",children:[i.jsxs("div",{className:"bg-gray-900 border-b border-gray-700 p-2 flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>o("bold"),className:"p-2 hover:bg-gray-700 rounded text-gray-300 hover:text-white",title:"",children:i.jsx(H8,{className:"w-4 h-4"})}),i.jsx("button",{type:"button",onClick:()=>o("underline"),className:"p-2 hover:bg-gray-700 rounded text-gray-300 hover:text-white",title:"",children:i.jsx(oQ,{className:"w-4 h-4"})}),i.jsx("div",{className:"w-px h-6 bg-gray-700 mx-1"}),i.jsxs("select",{onChange:u=>o("fontSize",u.target.value),className:"bg-gray-800 text-white text-xs p-1.5 rounded border border-gray-600 outline-none",defaultValue:"3",title:" ",children:[i.jsx("option",{value:"1",children:" "}),i.jsx("option",{value:"2",children:""}),i.jsx("option",{value:"3",children:""}),i.jsx("option",{value:"4",children:""}),i.jsx("option",{value:"5",children:""}),i.jsx("option",{value:"6",children:" "}),i.jsx("option",{value:"7",children:""})]}),i.jsxs("div",{className:"flex items-center gap-1 bg-gray-800 rounded border border-gray-600 px-1",children:[i.jsx(my,{className:"w-4 h-4 text-gray-400"}),i.jsx("input",{type:"color",value:n,onChange:u=>{s(u.target.value),o("foreColor",u.target.value)},className:"w-6 h-6 bg-transparent border-none outline-none cursor-pointer",title:" "})]}),i.jsx("div",{className:"w-px h-6 bg-gray-700 mx-1"}),i.jsx("button",{type:"button",onClick:()=>o("justifyLeft"),className:"p-2 hover:bg-gray-700 rounded text-gray-300 hover:text-white",title:"  (English)",children:i.jsx(K_,{className:"w-4 h-4"})}),i.jsx("button",{type:"button",onClick:()=>o("justifyCenter"),className:"p-2 hover:bg-gray-700 rounded text-gray-300 hover:text-white",title:"",children:i.jsx(GF,{className:"w-4 h-4"})}),i.jsx("button",{type:"button",onClick:()=>o("justifyRight"),className:"p-2 hover:bg-gray-700 rounded text-gray-300 hover:text-white",title:"  ()",children:i.jsx($F,{className:"w-4 h-4"})})]}),i.jsx("div",{ref:t,contentEditable:!0,onInput:l,className:"flex-1 p-4 outline-none text-white overflow-y-auto text-right",style:{direction:"rtl",minHeight:"200px"},dir:"auto"})]})},WP=({onBack:r,onNavigate:e})=>{const{user:t}=ro(),[n,s]=ue.useState(null),[o,l]=ue.useState(""),[u,h]=ue.useState(""),[g,x]=ue.useState("First"),[p,v]=ue.useState(""),[N,T]=ue.useState(""),[I,O]=ue.useState(""),[R,P]=ue.useState(!1),[K,se]=ue.useState(!1),[ae,le]=ue.useState(!1),[U,S]=ue.useState(""),[M,z]=ue.useState([]),[E,F]=ue.useState(!1),[D,$]=ue.useState(!1),[be,te]=ue.useState(null),[Y,ie]=ue.useState(!1),ge=async()=>{if(!o||!u||!p||!N||!I){alert("    ");return}se(!0);try{await cA(tn(sr,"explanations"),{subject:o,grade:u,semester:g,category:p,title:N,content:I,teacherName:(t==null?void 0:t.displayName)||"",teacherId:t==null?void 0:t.uid,isPremium:R,createdAt:Ei()}),le(!0),setTimeout(()=>{le(!1),T(""),O(""),P(!1)},2e3)}catch(ee){console.error("Error saving explanation:",ee),alert("   ")}finally{se(!1)}},xe=async()=>{if(U.trim()&&t!=null&&t.uid){F(!0),$(!0),z([]);try{const ee=Ws(tn(sr,"explanations"),Js("title",">=",U),Js("title","<=",U+"")),he=await ni(ee),me=[];he.forEach(ve=>{const Be=ve.data();Be.teacherId===t.uid&&me.push({id:ve.id,...Be})}),z(me)}catch(ee){console.error("Error searching explanations:",ee)}finally{F(!1)}}},X=async()=>{if(be){ie(!0);try{await sm(ga(sr,"explanations",be)),z(ee=>ee.filter(he=>he.id!==be)),te(null)}catch(ee){console.error(ee),alert("   ")}finally{ie(!1)}}},L=()=>{r?r():e("HOME")},H=ee=>ee?(ee.toDate?ee.toDate():new Date(ee.seconds*1e3)).toLocaleDateString("ar-EG"):"",J=ee=>{const he=uC.find(me=>me.id===ee);return he?he.title:ee};return n?i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-4xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:L,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:"  "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:L,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(hu,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8 mb-12",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-2",children:[i.jsx(hu,{className:"w-6 h-6 text-purple-500"}),"  "]}),i.jsxs("button",{onClick:()=>{s(null),T(""),O("")},className:"bg-gray-800 text-gray-300 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-1 hover:bg-gray-700 transition-colors",children:[i.jsx(ec,{className:"w-3 h-3"})," "]})]}),ae?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-fade-in",children:[i.jsx("div",{className:"w-20 h-20 bg-green-900 rounded-full flex items-center justify-center mb-4 border border-green-500/20",children:i.jsx(kn,{className:"w-10 h-10 text-green-400"})}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"  !"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"      ."}),i.jsx("button",{onClick:()=>le(!1),className:"bg-gray-800 text-gray-300 px-6 py-2 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-white/5",children:"  "})]}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:"1.   "}),n==="university"?i.jsx("input",{type:"text",value:o,onChange:ee=>l(ee.target.value),placeholder:"  (: Writing 1)...",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 bg-gray-800 focus:border-purple-500 outline-none font-bold text-white"}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:$P.map(ee=>i.jsxs("button",{onClick:()=>l(ee.id),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all ${o===ee.id?"bg-purple-600 text-white border-purple-600 shadow-lg":"bg-gray-800 text-gray-300 border-gray-700 hover:border-purple-500/50"}`,children:[i.jsx(ee.icon,{className:"w-6 h-6"}),i.jsx("span",{children:ee.title})]},ee.id))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:["2. ",n==="university"?" ":"  "]}),n==="school"?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[5,6,7,8,9,10,11,12].map(ee=>i.jsxs("button",{onClick:()=>h(ee.toString()),className:`py-3 rounded-xl font-bold transition-all border-2 ${u===ee.toString()?"bg-purple-600 text-white border-purple-600 shadow-lg":"bg-gray-800 text-gray-300 border-gray-700 hover:border-purple-500/50"}`,children:[" ",ee]},ee))}):i.jsx("div",{className:"grid grid-cols-1 gap-3",children:i.jsx("button",{onClick:()=>h("English Major - QOU"),className:`py-3 rounded-xl font-bold transition-all border-2 ${u==="English Major - QOU"?"bg-purple-600 text-white border-purple-600 shadow-lg":"bg-gray-800 text-gray-300 border-gray-700 hover:border-purple-500/50"}`,children:"   -   "})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(lg,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),i.jsxs("select",{value:g,onChange:ee=>x(ee.target.value),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-purple-500 focus:ring-4 focus:ring-purple-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"First",children:"  "}),i.jsx("option",{value:"Second",children:"  "})]}),i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:i.jsx(el,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:"3.   ()"}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:uC.map(ee=>i.jsxs("button",{onClick:()=>v(ee.id),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all text-right ${p===ee.id?"bg-purple-900/20 border-purple-500 text-purple-300":"bg-gray-800 border-gray-700 text-gray-300 hover:border-purple-500/50"}`,children:[i.jsx("div",{className:`p-2 rounded-lg ${p===ee.id?"bg-purple-800":"bg-gray-700"}`,children:i.jsx(ee.icon,{className:"w-5 h-5"})}),i.jsx("span",{className:"font-bold",children:ee.title})]},ee.id))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"  / "}),i.jsx("input",{type:"text",value:N,onChange:ee=>T(ee.target.value),placeholder:":   Present Simple",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-purple-500 outline-none font-bold text-white bg-gray-800 transition-all"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex justify-between",children:[i.jsx("span",{children:"  ( )"}),i.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"     "})]}),i.jsx(YP,{value:I,onChange:O})]}),i.jsx("div",{children:i.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-xl bg-amber-900/10 border border-amber-500/20 cursor-pointer hover:bg-amber-900/20 transition-colors",children:[i.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${R?"bg-amber-500":"bg-gray-600"}`,children:i.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all shadow-md ${R?"right-1":"right-7"}`})}),i.jsx("input",{type:"checkbox",className:"hidden",checked:R,onChange:ee=>P(ee.target.checked)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dn,{className:"w-5 h-5 text-amber-400 fill-amber-400"}),i.jsx("span",{className:"font-bold text-white",children:"  (Premium)"})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"       ."})]})]})})]}),i.jsx("div",{className:"pt-4 border-t border-white/5 flex justify-end",children:i.jsxs("button",{onClick:ge,disabled:K,className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl font-bold shadow-lg transition-all flex items-center gap-2 transform hover:-translate-y-1",children:[K?i.jsx(jr,{className:"w-5 h-5 animate-spin"}):i.jsx(fu,{className:"w-5 h-5"}),"  "]})})]})]}),i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8",children:[i.jsxs("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[i.jsx(nl,{className:"w-6 h-6 text-red-500"}),"  ()"]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"    ...",value:U,onChange:ee=>S(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&xe(),className:"w-full px-5 py-3 pl-12 rounded-xl bg-gray-800 border border-gray-700 focus:border-red-500 outline-none text-white font-bold"}),i.jsx("button",{onClick:xe,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-700 hover:bg-gray-600 p-2 rounded-lg text-gray-300 transition-colors",children:E?i.jsx(jr,{className:"w-4 h-4 animate-spin"}):i.jsx(Si,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2 mr-1",children:"      .        ."})]}),M.length>0?i.jsx("div",{className:"space-y-3 animate-fade-in",children:M.map(ee=>i.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700 flex items-center justify-between group hover:border-red-500/50 transition-all",children:[i.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-900/20 flex items-center justify-center text-purple-400 shrink-0",children:i.jsx(Ls,{className:"w-5 h-5"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-bold text-white truncate",children:ee.title}),ee.isPremium&&i.jsx("span",{className:"text-[9px] bg-amber-900/40 text-amber-300 px-1.5 py-0.5 rounded border border-amber-800/50",children:"VIP"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400",children:[i.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded",children:ee.subject||"English"}),i.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded",children:J(ee.category)}),i.jsx("span",{children:ee.grade==="English Major - QOU"?"":` ${ee.grade}`}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(cg,{className:"w-3 h-3"})," ",H(ee.createdAt)]})]})]})]}),i.jsx("button",{onClick:()=>ee.id&&te(ee.id),className:"p-2 bg-red-900/20 text-red-400 rounded-lg hover:bg-red-600 hover:text-white transition-colors",title:" ",children:i.jsx(nl,{className:"w-4 h-4"})})]},ee.id))}):D&&!E&&i.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-800 rounded-xl",children:[i.jsx(hu,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),i.jsx("p",{children:"      "})]})]})]}),be&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl p-8 max-w-sm w-full border border-gray-700 shadow-2xl text-center transform scale-100",children:[i.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:i.jsx(J1,{className:"w-8 h-8 text-red-500"})}),i.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 mb-8 text-sm",children:"            ."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:X,disabled:Y,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:Y?i.jsx(jr,{className:"w-4 h-4 animate-spin"}):" "}),i.jsx("button",{onClick:()=>te(null),disabled:Y,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-3 rounded-xl font-bold transition-colors",children:""})]})]})})]}):i.jsx("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in transition-colors duration-300 text-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"max-w-4xl w-full px-4",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:"  "}),i.jsx("p",{className:"text-gray-400",children:"    "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>s("school"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-emerald-500/20",children:i.jsx(iA,{className:"w-12 h-12 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (5 - 12)"})]})]}),i.jsxs("button",{onClick:()=>s("university"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-blue-500/20",children:i.jsx(Da,{className:"w-12 h-12 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  "})]})]})]})]})})},JP=[{id:"handouts",title:" ",icon:Ls,color:"text-blue-400",bg:"bg-blue-900/20"},{id:"worksheets",title:" ",icon:sd,color:"text-emerald-400",bg:"bg-emerald-900/20"},{id:"exams",title:"  ",icon:is,color:"text-purple-400",bg:"bg-purple-900/20"}],ZP=[{id:"English",title:"  (English)"},{id:"Math",title:""},{id:"Science",title:""}],eH=({onBack:r,onNavigate:e})=>{const{user:t}=ro(),[n,s]=ue.useState(null),[o,l]=ue.useState(""),[u,h]=ue.useState(""),[g,x]=ue.useState(""),[p,v]=ue.useState(""),[N,T]=ue.useState(""),[I,O]=ue.useState(!1),[R,P]=ue.useState(!1),[K,se]=ue.useState(""),[ae,le]=ue.useState([]),[U,S]=ue.useState(!1),[M,z]=ue.useState(!1),[E,F]=ue.useState(null),[D,$]=ue.useState(!1),be=async()=>{if(!o||!u||!g||!p||!N){alert("    ");return}if(!N.startsWith("http")){alert("        http  https");return}O(!0);try{await cA(tn(sr,"study_materials"),{grade:o,subject:u,category:g,title:p,url:N,size:"Drive Link",teacherName:(t==null?void 0:t.displayName)||"",teacherId:t==null?void 0:t.uid,createdAt:Ei()}),P(!0),setTimeout(()=>{P(!1),v(""),T("")},2e3)}catch(X){console.error("Error saving file:",X),alert("   ")}finally{O(!1)}},te=async()=>{if(K.trim()&&t!=null&&t.uid){S(!0),z(!0),le([]);try{const X=Ws(tn(sr,"study_materials"),Js("title",">=",K),Js("title","<=",K+"")),L=await ni(X),H=[];L.forEach(J=>{const ee=J.data();ee.teacherId===t.uid&&H.push({id:J.id,...ee})}),le(H)}catch(X){console.error("Error searching files:",X)}finally{S(!1)}}},Y=async()=>{if(E){$(!0);try{await sm(ga(sr,"study_materials",E)),le(X=>X.filter(L=>L.id!==E)),F(null)}catch(X){console.error(X),alert("   ")}finally{$(!1)}}},ie=()=>{r?r():e("PROFILE")},ge=X=>X?(X.toDate?X.toDate():new Date(X.seconds*1e3)).toLocaleDateString("ar-EG"):"",xe=()=>{l(""),h(""),x(""),v(""),T("")};return n?i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-4xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:ie,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:"  "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:ie,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(uy,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8 mb-12",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-2",children:[i.jsx(uy,{className:"w-6 h-6 text-blue-500"}),"  "]}),i.jsxs("button",{onClick:()=>{s(null),xe()},className:"bg-gray-800 text-gray-300 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-1 hover:bg-gray-700 transition-colors",children:[i.jsx(ec,{className:"w-3 h-3"})," "]})]}),R?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-fade-in",children:[i.jsx("div",{className:"w-20 h-20 bg-green-900 rounded-full flex items-center justify-center mb-4 border border-green-500/20",children:i.jsx(kn,{className:"w-10 h-10 text-green-400"})}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"  !"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"       ."}),i.jsx("button",{onClick:()=>P(!1),className:"bg-gray-800 text-gray-300 px-6 py-2 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-white/5",children:"  "})]}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-3 flex items-center gap-2",children:[i.jsx(jo,{className:"w-4 h-4 text-blue-500"}),n==="university"?"":" "]}),i.jsxs("select",{value:o,onChange:X=>l(X.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 bg-gray-800 focus:border-blue-500 outline-none font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"",children:""}),n==="school"?[5,6,7,8,9,10,11,12].map(X=>i.jsxs("option",{value:X.toString(),children:[" ",X]},X)):i.jsx("option",{value:"English Major - QOU",children:"  "})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-3 flex items-center gap-2",children:[i.jsx(is,{className:"w-4 h-4 text-blue-500"}),""]}),n==="university"?i.jsx("input",{type:"text",value:u,onChange:X=>h(X.target.value),placeholder:" ...",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 bg-gray-800 focus:border-blue-500 outline-none font-bold text-white"}):i.jsxs("select",{value:u,onChange:X=>h(X.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 bg-gray-800 focus:border-blue-500 outline-none font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"",children:" "}),ZP.map(X=>i.jsx("option",{value:X.id,children:X.title},X.id))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:"  ()"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:JP.map(X=>i.jsxs("button",{onClick:()=>x(X.id),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all text-center h-full ${g===X.id?"bg-blue-900/30 border-blue-500 text-blue-300 ring-1 ring-blue-500":"bg-gray-800 border-gray-700 text-gray-300 hover:border-blue-500/50"}`,children:[i.jsx("div",{className:`p-2 rounded-lg ${X.bg}`,children:i.jsx(X.icon,{className:`w-6 h-6 ${X.color}`})}),i.jsx("span",{className:"font-bold text-sm",children:X.title})]},X.id))})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),i.jsx("input",{type:"text",value:p,onChange:X=>v(X.target.value),placeholder:":    -  ",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-blue-500 outline-none font-bold text-white bg-gray-800 transition-all"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[i.jsx(JU,{className:"w-4 h-4 text-blue-500"}),"  (Google Drive Link)"]}),i.jsx("input",{type:"url",value:N,onChange:X=>T(X.target.value),placeholder:"https://drive.google.com/file/d/...",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-blue-500 outline-none font-medium text-blue-400 bg-gray-800 transition-all text-left",dir:"ltr"}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'    " " (Anyone with the link)    .'})]})]}),i.jsx("div",{className:"pt-4 flex justify-end",children:i.jsxs("button",{onClick:be,disabled:I,className:"w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white px-10 py-3 rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 transform hover:-translate-y-1",children:[I?i.jsx(jr,{className:"w-5 h-5 animate-spin"}):i.jsx(fu,{className:"w-5 h-5"}),"  "]})})]})]}),i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8",children:[i.jsxs("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[i.jsx(nl,{className:"w-6 h-6 text-red-500"}),"  ()"]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"    ...",value:K,onChange:X=>se(X.target.value),onKeyDown:X=>X.key==="Enter"&&te(),className:"w-full px-5 py-3 pl-12 rounded-xl bg-gray-800 border border-gray-700 focus:border-red-500 outline-none text-white font-bold"}),i.jsx("button",{onClick:te,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-700 hover:bg-gray-600 p-2 rounded-lg text-gray-300 transition-colors",children:U?i.jsx(jr,{className:"w-4 h-4 animate-spin"}):i.jsx(Si,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2 mr-1",children:"      .        ."})]}),ae.length>0?i.jsx("div",{className:"space-y-3 animate-fade-in",children:ae.map(X=>i.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700 flex items-center justify-between group hover:border-red-500/50 transition-all",children:[i.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-900/20 flex items-center justify-center text-blue-400 shrink-0",children:i.jsx(Ls,{className:"w-5 h-5"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h4",{className:"font-bold text-white truncate mb-1",children:X.title}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400",children:[i.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded",children:X.subject}),i.jsx("span",{children:X.grade==="English Major - QOU"?"":` ${X.grade}`}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(cg,{className:"w-3 h-3"})," ",ge(X.createdAt)]})]})]})]}),i.jsx("button",{onClick:()=>X.id&&F(X.id),className:"p-2 bg-red-900/20 text-red-400 rounded-lg hover:bg-red-600 hover:text-white transition-colors",title:" ",children:i.jsx(nl,{className:"w-4 h-4"})})]},X.id))}):M&&!U&&i.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-800 rounded-xl",children:[i.jsx(Ls,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),i.jsx("p",{children:"      "})]})]})]}),E&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl p-8 max-w-sm w-full border border-gray-700 shadow-2xl text-center transform scale-100",children:[i.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:i.jsx(J1,{className:"w-8 h-8 text-red-500"})}),i.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 mb-8 text-sm",children:"            ."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:Y,disabled:D,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:D?i.jsx(jr,{className:"w-4 h-4 animate-spin"}):" "}),i.jsx("button",{onClick:()=>F(null),disabled:D,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-3 rounded-xl font-bold transition-colors",children:""})]})]})})]}):i.jsx("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in transition-colors duration-300 text-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"max-w-4xl w-full px-4",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:"  "}),i.jsx("p",{className:"text-gray-400",children:"    "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>s("school"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-emerald-500/20",children:i.jsx(iA,{className:"w-12 h-12 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (5 - 12)"})]})]}),i.jsxs("button",{onClick:()=>s("university"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-blue-500/20",children:i.jsx(Da,{className:"w-12 h-12 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  "})]})]})]})]})})},U2=({title:r,subtitle:e,description:t,icon:n,secondaryIcon:s,buttonText:o,onClick:l,theme:u,direction:h,isLast:g=!1})=>{const p={emerald:{gradient:"from-emerald-500/20 to-teal-500/20",border:"border-emerald-500/20",text:"text-emerald-400",bgIcon:"bg-emerald-500/10",button:"bg-gradient-to-r from-emerald-600 to-teal-600 shadow-emerald-500/20",glow:"bg-emerald-500/30",divider:"from-transparent via-emerald-500 to-transparent"},violet:{gradient:"from-violet-500/20 to-purple-500/20",border:"border-violet-500/20",text:"text-violet-400",bgIcon:"bg-violet-500/10",button:"bg-gradient-to-r from-violet-600 to-purple-600 shadow-violet-500/20",glow:"bg-violet-500/30",divider:"from-transparent via-violet-500 to-transparent"},sky:{gradient:"from-sky-500/20 to-blue-500/20",border:"border-sky-500/20",text:"text-sky-400",bgIcon:"bg-sky-500/10",button:"bg-gradient-to-r from-sky-600 to-blue-600 shadow-sky-500/20",glow:"bg-sky-500/30",divider:"from-transparent via-sky-500 to-transparent"}}[u],v=h==="rtl"?"md:flex-row":"md:flex-row-reverse",N=h==="rtl"?"md:text-right":"md:text-left";return i.jsxs("div",{className:"relative py-16 md:py-28 overflow-hidden group",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-12 relative z-10",children:i.jsxs("div",{className:`flex flex-col items-center gap-10 md:gap-20 ${v}`,children:[i.jsxs("div",{className:"w-full md:w-1/2 flex justify-center relative",children:[i.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 md:w-96 md:h-96 rounded-full blur-[60px] md:blur-[100px] opacity-40 animate-pulse ${p.glow}`}),i.jsxs("div",{className:`relative w-72 h-72 md:w-full md:max-w-md md:aspect-square rounded-[2.5rem] md:rounded-[3rem] border ${p.border} bg-gray-900/60 backdrop-blur-xl shadow-2xl flex items-center justify-center overflow-hidden group-hover:scale-[1.02] transition-transform duration-700`,children:[i.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[i.jsx("div",{className:`p-6 md:p-8 rounded-3xl ${p.bgIcon} border ${p.border} shadow-[0_0_50px_rgba(0,0,0,0.5)] backdrop-blur-sm transform rotate-3 group-hover:rotate-0 transition-all duration-500`,children:i.jsx(n,{className:`w-20 h-20 md:w-32 md:h-32 ${p.text} drop-shadow-lg`,strokeWidth:1.5})}),i.jsx("div",{className:`absolute -bottom-10 -right-10 md:-bottom-12 md:-right-12 p-4 md:p-5 rounded-2xl bg-gray-800/80 border ${p.border} shadow-xl backdrop-blur-md transform -rotate-6 group-hover:rotate-0 transition-all duration-700 delay-100`,children:i.jsx(s,{className:`w-8 h-8 md:w-10 md:h-10 ${p.text}`})})]})]})]}),i.jsxs("div",{className:`w-full md:w-1/2 text-center ${N} space-y-6 md:space-y-8`,children:[i.jsxs("div",{className:"space-y-3 md:space-y-4",children:[i.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 md:px-4 md:py-1.5 rounded-full bg-gray-900/50 border ${p.border} ${p.text} text-xs md:text-sm font-bold shadow-sm backdrop-blur-md`,children:[i.jsx(s,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),i.jsx("span",{children:e})]}),i.jsx("h2",{className:"text-3xl md:text-5xl lg:text-6xl font-black text-white leading-tight drop-shadow-xl",children:r})]}),i.jsx("p",{className:"text-base md:text-xl text-gray-300 leading-relaxed md:leading-loose font-medium opacity-90 max-w-xl mx-auto md:mx-0",children:t}),i.jsx("div",{className:"pt-2 md:pt-4",children:i.jsxs("button",{onClick:l,className:`w-full md:w-auto inline-flex justify-center items-center gap-3 ${p.button} text-white text-base md:text-lg font-bold px-8 py-4 rounded-2xl shadow-lg hover:shadow-2xl transition-all transform hover:-translate-y-1 active:scale-95 border-t border-white/10`,children:[o,i.jsx(qr,{className:`w-5 h-5 ${h==="rtl"?"rotate-180":""}`})]})})]})]})}),!g&&i.jsxs("div",{className:"absolute bottom-0 left-0 w-full flex justify-center items-center",children:[i.jsx("div",{className:`w-full h-px bg-gradient-to-r ${p.divider} opacity-30`}),i.jsx("div",{className:`absolute w-3/4 h-1 bg-gradient-to-r ${p.divider} blur-sm opacity-50`}),i.jsx("div",{className:"absolute w-1/2 h-0.5 bg-gradient-to-r from-transparent via-emerald-500 to-transparent shadow-[0_0_20px_rgba(16,185,129,0.8)] opacity-80"})]})]})},tH=({onNavigate:r})=>i.jsxs("div",{className:"bg-gray-950 relative z-10",children:[i.jsx(U2,{theme:"emerald",direction:"rtl",title:" ..  ",subtitle:"  ",description:"       !              .           .",icon:Mw,secondaryIcon:kn,buttonText:"  ",onClick:()=>r("QUIZZES")}),i.jsx(U2,{theme:"violet",direction:"ltr",title:"   ",subtitle:" ",description:"         .                     .",icon:tf,secondaryIcon:sU,buttonText:" ",onClick:()=>r("LESSONS_EXPLANATIONS")}),i.jsx(U2,{theme:"sky",direction:"rtl",title:"  ",subtitle:"   ",description:"    .               .            .",icon:sd,secondaryIcon:mU,buttonText:" ",onClick:()=>r("LESSONS"),isLast:!0})]}),rH=()=>i.jsx("section",{className:"relative w-full overflow-hidden bg-gray-950",children:i.jsxs("div",{className:"w-full h-[650px] md:h-[900px] relative group",children:[i.jsxs("div",{className:"absolute inset-0 z-0",children:[i.jsx("img",{src:"https://lh3.googleusercontent.com/d/11PvY6sdTvurXqkNuWjoEpYTcM8FUHOB0",alt:".    -  ",className:"w-full h-full object-cover object-top transition-transform duration-1000 group-hover:scale-105"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-gray-900/40 to-transparent"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-950/90 via-transparent to-gray-950/90"})]}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-24 flex flex-col items-center text-center z-20",children:i.jsxs("div",{className:"max-w-5xl mx-auto transform translate-y-0 transition-all duration-700",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-5xl md:text-8xl font-black text-white mb-6 drop-shadow-2xl tracking-tight",children:".   "}),i.jsx("div",{className:"h-2 w-40 bg-emerald-500 rounded-full mx-auto mb-8 shadow-[0_0_20px_rgba(16,185,129,0.6)]"}),i.jsx("p",{className:"text-2xl md:text-4xl text-emerald-400 font-bold drop-shadow-lg tracking-wide",children:"   "})]}),i.jsx("div",{className:"relative",children:i.jsx("p",{className:"text-gray-200 text-xl md:text-3xl leading-loose font-medium relative z-10 px-4 max-w-4xl mx-auto drop-shadow-md",children:"          .              ."})})]})})]})}),nH=({onLoginClick:r})=>i.jsxs("section",{className:"py-32 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950 via-emerald-950/40 to-gray-950"}),i.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')]"}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-emerald-500/50 to-transparent"}),i.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative z-10 text-center",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-sm font-bold mb-8 animate-pulse",children:[i.jsx(o1,{className:"w-4 h-4"}),i.jsx("span",{children:"  "})]}),i.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white mb-8 leading-tight tracking-tight drop-shadow-2xl",children:["  ",i.jsx("br",{}),i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400",children:" "})]}),i.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto mb-12 leading-relaxed font-medium",children:"      .         ."}),i.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:i.jsxs("button",{onClick:r,className:"w-full sm:w-auto bg-white text-emerald-950 px-10 py-5 rounded-2xl font-black text-xl hover:bg-emerald-50 transition-all shadow-[0_0_40px_rgba(255,255,255,0.2)] hover:shadow-[0_0_60px_rgba(16,185,129,0.4)] transform hover:-translate-y-1 flex items-center justify-center gap-3",children:["  ",i.jsx(qr,{className:"w-6 h-6"})]})})]})]}),sH=()=>i.jsxs("section",{className:"relative w-full min-h-[800px] flex items-center bg-gray-950 overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 z-0",children:[i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1ZcMqKedYcXUq7RPYqUGCRr2RsEA6F6JN",alt:"  ",className:"w-full h-full object-cover object-center opacity-30"}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-64 bg-gradient-to-b from-gray-950 via-gray-950/80 to-transparent"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-64 bg-gradient-to-t from-gray-950 via-gray-950/80 to-transparent"}),i.jsx("div",{className:"absolute inset-0 bg-gray-950/50"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-950/80 via-transparent to-gray-950/80"})]}),i.jsx("div",{className:"relative z-10 w-full py-24 px-6 md:px-12 flex flex-col justify-center h-full",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center transform translate-y-0 transition-all duration-700 animate-fade-in-up",children:[i.jsx("h2",{className:"text-4xl md:text-7xl font-black text-white mb-8 drop-shadow-2xl tracking-tight",children:" "}),i.jsx("div",{className:"h-1.5 w-32 bg-emerald-500 rounded-full mx-auto mb-12 shadow-[0_0_20px_rgba(16,185,129,0.6)]"}),i.jsxs("div",{className:"space-y-8 text-gray-100 font-medium leading-relaxed drop-shadow-lg",children:[i.jsx("p",{className:"text-2xl md:text-4xl font-black text-emerald-400 mb-6",children:" :   "}),i.jsx("p",{className:"text-lg md:text-2xl opacity-95 leading-loose",children:"            .                    ."}),i.jsx("p",{className:"text-lg md:text-2xl opacity-95 leading-loose",children:"                         .        ."}),i.jsx("p",{className:"text-lg md:text-2xl opacity-95 leading-loose",children:"                                      ."})]})]})})]}),aH=({onBack:r})=>{const e=[{icon:Mw,title:" ",desc:"              ."},{icon:OF,title:" 24/7",desc:"                 ."},{icon:_f,title:"  (XP)",desc:"  !    (XP)         ."},{icon:Ls,title:" ",desc:"           ."}];return i.jsxs("div",{className:"min-h-screen bg-gray-950 relative overflow-hidden text-gray-100",children:[i.jsxs("div",{className:"absolute inset-0 z-0",children:[i.jsx(Ix,{}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/90 via-gray-900/60 to-gray-950 pointer-events-none"}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"})]}),i.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(Y1,{className:"w-3 h-3"}),"  "]})]})]})]})}),i.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12 pb-20",children:[i.jsxs("div",{className:"text-center mb-16 animate-fade-in-up",children:[i.jsxs("div",{className:"inline-flex items-center justify-center p-5 bg-emerald-500/10 backdrop-blur-xl rounded-full mb-8 border border-emerald-500/30 shadow-[0_0_40px_rgba(16,185,129,0.3)] relative group",children:[i.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full blur-xl group-hover:blur-2xl transition-all"}),i.jsx(rl,{className:"w-12 h-12 text-emerald-400 fill-emerald-400 animate-pulse relative z-10"})]}),i.jsxs("h1",{className:"text-5xl md:text-6xl font-black text-white mb-6 leading-tight drop-shadow-2xl",children:["   ",i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-300",children:""}),""]}),i.jsx("p",{className:"text-xl text-gray-200 leading-relaxed max-w-2xl mx-auto font-medium drop-shadow-md",children:"                     ."})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-[2.5rem] p-8 md:p-10 shadow-2xl border border-white/10 mb-16 relative overflow-hidden group hover:bg-white/10 transition-all duration-500",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-600/20 rounded-full blur-[80px] -mr-16 -mt-16 pointer-events-none"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-purple-600/20 rounded-full blur-[80px] -ml-16 -mb-16 pointer-events-none"}),i.jsxs("h2",{className:"text-3xl font-black text-white mb-8 flex items-center gap-3 relative z-10",children:[i.jsx("div",{className:"p-2 bg-blue-500/20 rounded-xl border border-blue-500/30",children:i.jsx(Mg,{className:"w-8 h-8 text-blue-400"})})," "]}),i.jsxs("div",{className:"space-y-6 text-gray-200 font-medium leading-loose text-lg relative z-10",children:[i.jsx("p",{children:'  ""         .                    .'}),i.jsxs("p",{children:["       ",i.jsx("span",{className:"text-white font-bold border-b-2 border-emerald-500 shadow-[0_4px_20px_-5px_rgba(16,185,129,0.5)]",children:"  "}),".                ."]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-16",children:e.map((t,n)=>i.jsxs("div",{className:"bg-gray-900/40 backdrop-blur-md p-6 rounded-3xl border border-white/10 flex flex-col gap-4 hover:border-emerald-500/40 hover:bg-gray-900/60 transition-all group hover:-translate-y-2 shadow-lg",children:[i.jsx("div",{className:"bg-gray-800/50 p-4 rounded-2xl w-fit group-hover:bg-emerald-900/30 transition-colors border border-white/5 group-hover:border-emerald-500/20",children:i.jsx(t.icon,{className:"w-8 h-8 text-gray-300 group-hover:text-emerald-400 transition-colors"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-emerald-300 transition-colors",children:t.title}),i.jsx("p",{className:"text-gray-400 text-sm leading-relaxed group-hover:text-gray-300",children:t.desc})]})]},n))}),i.jsxs("div",{className:"bg-gradient-to-br from-emerald-900/40 to-gray-900/40 backdrop-blur-md rounded-[2.5rem] p-8 md:p-10 border border-emerald-500/20 text-center shadow-2xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),i.jsx("h2",{className:"text-3xl font-black text-white mb-8 relative z-10",children:"  "}),i.jsxs("div",{className:"flex flex-col gap-4 relative z-10",children:[i.jsxs("div",{className:"bg-gray-950/40 p-5 rounded-2xl flex items-center gap-4 border border-white/10 hover:border-emerald-500/30 transition-colors",children:[i.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-full shrink-0",children:i.jsx(kn,{className:"w-6 h-6 text-emerald-400"})}),i.jsx("span",{className:"text-gray-200 font-bold text-right text-lg",children:"      ."})]}),i.jsxs("div",{className:"bg-gray-950/40 p-5 rounded-2xl flex items-center gap-4 border border-white/10 hover:border-emerald-500/30 transition-colors",children:[i.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-full shrink-0",children:i.jsx(kn,{className:"w-6 h-6 text-emerald-400"})}),i.jsx("span",{className:"text-gray-200 font-bold text-right text-lg",children:" ."})]}),i.jsxs("div",{className:"bg-gray-950/40 p-5 rounded-2xl flex items-center gap-4 border border-white/10 hover:border-emerald-500/30 transition-colors",children:[i.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-full shrink-0",children:i.jsx(kn,{className:"w-6 h-6 text-emerald-400"})}),i.jsx("span",{className:"text-gray-200 font-bold text-right text-lg",children:"       ."})]})]})]}),i.jsx("div",{className:"mt-16 text-center",children:i.jsxs("p",{className:"text-gray-400 text-sm font-medium bg-gray-900/50 inline-block px-6 py-3 rounded-full border border-white/5 backdrop-blur-sm",children:["  ",i.jsx("span",{className:"text-emerald-400 font-black",children:"   "})]})})]})]})]})},iH=({onNavigate:r})=>i.jsxs("div",{className:"relative w-full py-20 overflow-hidden bg-gray-950 border-t border-white/5 border-b border-white/5",children:[i.jsx("div",{className:"absolute inset-0 z-0 opacity-100",children:i.jsx(Ix,{})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-950 via-transparent to-gray-950 z-0 pointer-events-none"}),i.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto px-6 text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-white/5 rounded-full mb-6 shadow-[0_0_30px_rgba(255,255,255,0.1)] border border-white/10 animate-pulse",children:i.jsx(rl,{className:"w-8 h-8 text-emerald-400 fill-emerald-400"})}),i.jsxs("h2",{className:"text-4xl md:text-6xl font-black text-white mb-6 drop-shadow-2xl leading-tight",children:["   ",i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300",children:""}),""]}),i.jsx("p",{className:"text-gray-300 text-xl md:text-2xl max-w-3xl mx-auto mb-10 leading-relaxed font-medium drop-shadow-md",children:"                ."}),i.jsxs("button",{onClick:r,className:"inline-flex items-center gap-3 bg-emerald-600 hover:bg-emerald-500 text-white text-lg font-bold px-10 py-4 rounded-2xl shadow-lg hover:shadow-[0_0_25px_rgba(16,185,129,0.5)] transition-all transform hover:-translate-y-1 border-b-4 border-emerald-800 hover:border-emerald-700 active:border-b-0 active:translate-y-1",children:[i.jsx("span",{children:" "}),i.jsx(qr,{className:"w-5 h-5"})]})]})]}),oH=({onBack:r,onNavigate:e})=>{const{user:t}=ro(),[n,s]=ue.useState("INBOX"),[o,l]=ue.useState([]),[u,h]=ue.useState(""),[g,x]=ue.useState(""),[p,v]=ue.useState(""),[N,T]=ue.useState(!1),[I,O]=ue.useState(!1),[R,P]=ue.useState(""),[K,se]=ue.useState([]),[ae,le]=ue.useState(!1);ue.useEffect(()=>{n==="COMPOSE"?U():S()},[n,t]);const U=async()=>{O(!0);try{const $=Ws(tn(sr,"users"),Js("role","==","student")),te=(await ni($)).docs.map(Y=>({id:Y.id,...Y.data()}));l(te)}catch($){console.error("Error fetching students",$)}finally{O(!1)}},S=async($=!1)=>{if(!t)return;const be=`etqan_inbox_${t.uid}`,te=365*24*60*60*1e3,Y=Date.now();if(!$){const ie=localStorage.getItem(be);if(ie)try{const{data:ge,timestamp:xe}=JSON.parse(ie);if(Y-xe<te){se(ge);return}}catch(ge){console.error(ge)}}le(!0);try{const ie=Ws(tn(sr,"contact_messages"),Js("teacherId","==",t.uid)),xe=(await ni(ie)).docs.map(X=>({id:X.id,...X.data(),createdAt:X.data().createdAt?{seconds:X.data().createdAt.seconds}:null}));xe.sort((X,L)=>{var ee,he;const H=((ee=X.createdAt)==null?void 0:ee.seconds)||0;return(((he=L.createdAt)==null?void 0:he.seconds)||0)-H}),se(xe),localStorage.setItem(be,JSON.stringify({timestamp:Y,data:xe}))}catch(ie){console.error("Error fetching inbox",ie)}finally{le(!1)}},M=async()=>{if(!g||!p){alert("    ");return}if(!u){alert("  ");return}T(!0);try{await cA(tn(sr,"notifications"),{recipientId:u,title:g,message:p,type:"message",senderName:(t==null?void 0:t.displayName)||"",senderId:t==null?void 0:t.uid,createdAt:Ei(),read:!1}),alert("   !"),x(""),v(""),h(""),P("")}catch($){console.error("Error sending message",$),alert("   ")}finally{T(!1)}},z=async $=>{if(window.confirm("      "))try{await sm(ga(sr,"contact_messages",$));const be=K.filter(ie=>ie.id!==$);se(be);const te=`etqan_inbox_${t==null?void 0:t.uid}`,Y=localStorage.getItem(te);if(Y){const ie=JSON.parse(Y);ie.data=be,localStorage.setItem(te,JSON.stringify(ie))}}catch(be){console.error(be)}},E=async $=>{try{await Nf(ga(sr,"contact_messages",$),{read:!0});const be=K.map(ie=>ie.id===$?{...ie,read:!0}:ie);se(be);const te=`etqan_inbox_${t==null?void 0:t.uid}`,Y=localStorage.getItem(te);if(Y){const ie=JSON.parse(Y);ie.data=be,localStorage.setItem(te,JSON.stringify(ie))}}catch(be){console.error(be)}},F=o.filter($=>{const be=$.displayName?$.displayName.toLowerCase():"",te=$.email?$.email.toLowerCase():"",Y=R.toLowerCase();return be.includes(Y)||te.includes(Y)}),D=$=>$?($.toDate?$.toDate():new Date($.seconds*1e3)).toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",",""):"";return i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-5xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e("PROFILE"),className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:""}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:()=>e("PROFILE"),className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(sA,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsx("div",{className:"max-w-5xl mx-auto px-4 py-4",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-xl border border-gray-700 overflow-hidden min-h-[600px] flex flex-col md:flex-row",children:[i.jsxs("div",{className:"w-full md:w-64 bg-gray-800/50 border-l border-gray-700 p-4 flex flex-col gap-2",children:[i.jsxs("button",{onClick:()=>s("INBOX"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all ${n==="INBOX"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[i.jsx(sA,{className:"w-5 h-5"})," ",K.some($=>!$.read)&&i.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})]}),i.jsxs("button",{onClick:()=>s("COMPOSE"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all ${n==="COMPOSE"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[i.jsx(gu,{className:"w-5 h-5"})," "]})]}),i.jsx("div",{className:"flex-1 p-6 md:p-8 overflow-y-auto",children:n==="COMPOSE"?i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("h2",{className:"text-2xl font-black text-white mb-6 flex items-center gap-2",children:[i.jsx(gu,{className:"w-6 h-6 text-emerald-400"}),"  "]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:":"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex gap-4",children:i.jsxs("label",{className:`flex items-center gap-2 cursor-pointer bg-gray-800 px-4 py-3 rounded-xl border transition-colors flex-1 ${u==="all"?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-emerald-500"}`,children:[i.jsx("input",{type:"radio",name:"recipient",checked:u==="all",onChange:()=>h("all"),className:"w-4 h-4 accent-emerald-500"}),i.jsx("span",{className:"font-bold text-sm text-white",children:" "}),i.jsx(tc,{className:"w-4 h-4 text-emerald-400 mr-auto"})]})}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:i.jsx(Si,{className:"h-4 w-4 text-gray-500"})}),i.jsx("input",{type:"text",placeholder:"    ...",value:R,onChange:$=>{P($.target.value),u==="all"&&h("")},className:"block w-full pr-10 pl-3 py-3 border border-gray-700 rounded-xl leading-5 bg-gray-800 text-gray-300 placeholder-gray-500 focus:outline-none focus:bg-gray-900 focus:border-emerald-500 transition duration-150 ease-in-out sm:text-sm font-bold"})]}),R&&i.jsx("div",{className:"max-h-40 overflow-y-auto bg-gray-800 border border-gray-700 rounded-xl custom-scrollbar",children:F.map($=>i.jsxs("div",{onClick:()=>{h($.id),P($.displayName)},className:`p-3 cursor-pointer flex items-center gap-3 hover:bg-gray-700 transition-colors ${u===$.id?"bg-emerald-900/20":""}`,children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center",children:$.avatar?i.jsx("img",{src:$.avatar,className:"w-full h-full rounded-full object-cover"}):i.jsx(ei,{className:"w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-bold text-white",children:$.displayName}),i.jsx("div",{className:"text-xs text-gray-400",children:$.email})]}),u===$.id&&i.jsx(kn,{className:"w-4 h-4 text-emerald-500 mr-auto"})]},$.id))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:" "}),i.jsx("input",{type:"text",value:g,onChange:$=>x($.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-700 bg-gray-800 text-white focus:border-emerald-500 outline-none font-bold",placeholder:":    "})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:" "}),i.jsx("textarea",{value:p,onChange:$=>v($.target.value),className:"w-full h-32 px-4 py-3 rounded-xl border border-gray-700 bg-gray-800 text-white focus:border-emerald-500 outline-none resize-none leading-relaxed",placeholder:"  ..."})]}),i.jsxs("button",{onClick:M,disabled:N,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2",children:[N?i.jsx(jr,{className:"w-5 h-5 animate-spin"}):i.jsx(gu,{className:"w-5 h-5"})," "]})]})]}):i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-2",children:[i.jsx(sA,{className:"w-6 h-6 text-emerald-400"})," "]}),i.jsx("button",{onClick:()=>S(!0),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:" ( )",children:i.jsx(Rg,{className:"w-5 h-5 text-gray-400"})})]}),ae?i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx(jr,{className:"w-8 h-8 animate-spin text-emerald-500"})}):K.length===0?i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[i.jsx(sA,{className:"w-16 h-16 mb-4 opacity-20"}),i.jsx("p",{children:"   "})]}):i.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto custom-scrollbar pr-2",children:K.map($=>i.jsxs("div",{className:`bg-gray-800 p-5 rounded-2xl border transition-all hover:border-emerald-500/30 relative overflow-hidden ${$.read?"border-gray-700":"border-emerald-500/50 bg-emerald-900/5"}`,children:[i.jsxs("div",{className:"flex flex-row items-start gap-4 relative z-10",children:[i.jsx("div",{className:`w-10 h-10 rounded-full shrink-0 flex items-center justify-center text-base font-bold shadow-md border-2 ${$.read?"bg-gray-700 border-gray-600 text-gray-400":"bg-emerald-600 border-emerald-500 text-white"}`,children:$.studentName?$.studentName.charAt(0).toUpperCase():i.jsx(ei,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:`font-bold text-base leading-tight ${$.read?"text-gray-300":"text-white"}`,children:$.studentName||""}),i.jsx("p",{className:"text-xs text-gray-500 font-mono mt-0.5",children:$.studentEmail})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-gray-900/50 px-3 py-1 rounded-full border border-gray-700/50",children:[i.jsx(dg,{className:"w-3 h-3 text-gray-500"}),i.jsx("span",{className:"text-[10px] font-bold text-gray-400 dir-ltr",children:D($.createdAt)})]})]}),i.jsx("div",{className:"p-3 bg-gray-900/50 rounded-xl border border-gray-700/30 text-sm text-gray-300 leading-relaxed whitespace-pre-wrap",children:$.message}),i.jsxs("div",{className:"flex justify-end gap-3 mt-3",children:[!$.read&&i.jsxs("button",{onClick:()=>E($.id),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 text-xs font-bold transition-colors",children:[i.jsx(kn,{className:"w-3.5 h-3.5"})," "]}),i.jsxs("button",{onClick:()=>z($.id),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-red-500/10 text-red-400 hover:bg-red-500/20 text-xs font-bold transition-colors",children:[i.jsx(nl,{className:"w-3.5 h-3.5"}),""]})]})]}),i.jsx("div",{className:"flex flex-col items-center justify-center gap-1 self-center opacity-30",children:i.jsx("div",{className:"w-8 h-10 border-2 border-gray-500 rounded-lg flex items-center justify-center",children:i.jsx(sA,{className:"w-4 h-4 text-gray-500"})})})]}),!$.read&&i.jsx("div",{className:"absolute top-0 right-0 w-1.5 h-full bg-emerald-500"})]},$.id))})]})})]})})]})},AH=({onBack:r,onNavigate:e})=>{const[t,n]=ue.useState([]),[s,o]=ue.useState(!0),[l,u]=ue.useState("ALL");ue.useEffect(()=>{h()},[]);const h=async()=>{o(!0);const v="etqan_teacher_reviews_v1",N=365*24*60*60*1e3,T=Date.now(),I=localStorage.getItem(v);if(I)try{const{data:O,timestamp:R}=JSON.parse(I);if(T-R<N){n(O),o(!1);return}}catch(O){console.error("Cache parsing error",O)}try{const O=Ws(tn(sr,"reviews"),Rf("createdAt","desc"),Df(50)),P=(await ni(O)).docs.map(K=>({id:K.id,...K.data(),createdAt:K.data().createdAt?{seconds:K.data().createdAt.seconds}:null}));n(P),localStorage.setItem(v,JSON.stringify({timestamp:T,data:P}))}catch(O){console.error("Error fetching reviews:",O)}finally{o(!1)}},g=t.filter(v=>l==="ALL"?!0:l==="QUIZ"?v.type==="quiz":l==="EXPLANATION"?v.type==="explanation":!0),x=v=>v?(v.toDate?v.toDate():new Date(v.seconds*1e3)).toLocaleDateString("ar-EG"):"",p=t.length>0?(t.reduce((v,N)=>v+N.rating,0)/t.length).toFixed(1):"0.0";return i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-5xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e("PROFILE"),className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:()=>e("PROFILE"),className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(gg,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-4",children:[i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-xl border border-gray-700 p-8 mb-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-yellow-900/20 rounded-2xl flex items-center justify-center border border-yellow-500/20 text-yellow-400",children:i.jsx(rl,{className:"w-8 h-8 fill-yellow-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-black text-white",children:p}),i.jsx("p",{className:"text-gray-400 text-sm font-bold",children:"  "})]})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"text-center px-6 py-3 bg-gray-800 rounded-xl border border-gray-700",children:[i.jsx("span",{className:"block text-2xl font-bold text-white",children:t.length}),i.jsx("span",{className:"text-xs text-gray-400",children:" "})]})})]}),i.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[i.jsx("button",{onClick:()=>u("ALL"),className:`px-4 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${l==="ALL"?"bg-white text-gray-900":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:""}),i.jsx("button",{onClick:()=>u("QUIZ"),className:`px-4 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${l==="QUIZ"?"bg-blue-500 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:" "}),i.jsx("button",{onClick:()=>u("EXPLANATION"),className:`px-4 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${l==="EXPLANATION"?"bg-purple-500 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:" "})]}),i.jsx("div",{className:"bg-gray-900 rounded-3xl border border-gray-700 min-h-[400px] p-6 relative",children:s?i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx(jr,{className:"w-10 h-10 animate-spin text-emerald-500"})}):g.length===0?i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-500",children:[i.jsx(gg,{className:"w-16 h-16 mb-4 opacity-20"}),i.jsx("p",{className:"text-lg font-bold",children:"     "})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(v=>i.jsxs("div",{className:"bg-gray-800 p-5 rounded-2xl border border-gray-700 hover:border-gray-600 transition-all",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-white text-lg flex items-center gap-2",children:[v.studentName,i.jsx("span",{className:"text-xs font-normal text-gray-500 bg-gray-900 px-2 py-0.5 rounded-md border border-gray-700",children:x(v.createdAt)})]}),i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[[...Array(5)].map((N,T)=>i.jsx(rl,{className:`w-3 h-3 ${T<Math.round(v.rating/2)?"text-yellow-400 fill-yellow-400":"text-gray-600"}`},T)),i.jsxs("span",{className:"text-xs text-yellow-500 font-bold mr-1",children:["(",v.rating,"/10)"]})]})]}),i.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-bold ${v.type==="quiz"?"bg-blue-900/30 text-blue-300 border border-blue-900":"bg-purple-900/30 text-purple-300 border border-purple-900"}`,children:v.type==="quiz"?"":""})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:" :"}),i.jsx("p",{className:"text-emerald-400 font-bold text-sm line-clamp-1",children:v.targetTitle})]}),v.comment?i.jsx("div",{className:"bg-gray-900/50 p-3 rounded-xl border border-gray-700/50",children:i.jsxs("p",{className:"text-gray-300 text-sm leading-relaxed",children:['"',v.comment,'"']})}):i.jsx("p",{className:"text-gray-600 text-xs italic",children:"   "})]},v.id))})})]})]})},lH=({onNavigate:r})=>i.jsxs("section",{className:"py-24 relative overflow-hidden bg-gray-950 border-t border-white/5",children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-emerald-900/10 rounded-full blur-[100px]"}),i.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-blue-900/10 rounded-full blur-[100px]"})]}),i.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative z-10 text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-gradient-to-br from-gray-800 to-gray-900 rounded-3xl mb-8 border border-white/10 shadow-2xl transform rotate-3 hover:rotate-0 transition-transform duration-500",children:i.jsx(vd,{className:"w-10 h-10 text-emerald-400"})}),i.jsx("h2",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight tracking-tight",children:"   "}),i.jsx("p",{className:"text-xl text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed font-medium",children:"       .         ."}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-8",children:[i.jsxs("div",{className:"flex items-center -space-x-4 space-x-reverse",children:[i.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-gray-950 overflow-hidden bg-gray-800 shadow-lg relative z-20",children:i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:"Teacher",className:"w-full h-full object-cover"})}),i.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-gray-950 overflow-hidden bg-gray-800 shadow-lg relative z-10",children:i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:"Teacher",className:"w-full h-full object-cover"})}),i.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-gray-950 bg-gray-800 flex items-center justify-center text-xs font-bold text-gray-400 shadow-lg relative z-0",children:"+2"})]}),i.jsxs("button",{onClick:()=>r("CONTACT_TEACHER"),className:"group relative bg-white text-gray-900 px-8 py-4 rounded-2xl font-black text-lg hover:bg-emerald-50 transition-all shadow-[0_0_30px_rgba(255,255,255,0.1)] hover:shadow-[0_0_40px_rgba(16,185,129,0.3)] flex items-center gap-3 transform hover:-translate-y-1",children:["  ",i.jsx(qr,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform text-emerald-600"})]})]})]})]}),F2=()=>i.jsxs("div",{className:"relative w-full h-16 flex items-center justify-center my-8 overflow-hidden",children:[i.jsx("div",{className:"absolute w-full h-px bg-gray-800/50"}),i.jsx("div",{className:"absolute w-3/4 h-px bg-gradient-to-r from-transparent via-emerald-500 to-transparent shadow-[0_0_20px_rgba(16,185,129,1)]"}),i.jsx("div",{className:"relative bg-gray-950 p-2 rounded-full border border-emerald-500/30 shadow-[0_0_15px_rgba(16,185,129,0.4)]",children:i.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"})})]}),cH=()=>{const r=[{icon:AF,title:" ",desc:"     .",color:"text-blue-400",bg:"bg-blue-900/20"},{icon:Mw,title:" ",desc:"     .",color:"text-purple-400",bg:"bg-purple-900/20"},{icon:_f,title:" ",desc:"    .",color:"text-yellow-400",bg:"bg-yellow-900/20"},{icon:nf,title:" ",desc:"      .",color:"text-emerald-400",bg:"bg-emerald-900/20"}];return i.jsxs("div",{className:"py-12 px-4 relative",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"    "})]}),i.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[i.jsx("div",{className:"absolute right-8 md:right-1/2 top-0 bottom-0 w-1 bg-gradient-to-b from-emerald-500/10 via-emerald-500 to-emerald-500/10 rounded-full"}),i.jsx("div",{className:"space-y-12",children:r.map((e,t)=>i.jsxs("div",{className:"relative flex items-center gap-6 group",children:[i.jsx("div",{className:`relative z-10 w-16 h-16 rounded-2xl flex items-center justify-center shrink-0 border-4 border-gray-950 shadow-xl ${e.bg} transition-transform group-hover:scale-110 duration-300`,children:i.jsx(e.icon,{className:`w-8 h-8 ${e.color}`})}),i.jsxs("div",{className:"flex-1 bg-gray-900/60 backdrop-blur-sm p-5 rounded-2xl border border-white/5 shadow-lg group-hover:border-emerald-500/30 transition-all group-hover:-translate-x-2",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:e.title}),i.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:e.desc})]})]},t))})]})]})},uH=()=>i.jsxs("div",{className:"py-12 px-4",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"    "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 p-6 rounded-[2rem] border border-white/5 relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-transparent"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-emerald-900/30 rounded-xl flex items-center justify-center mb-4 text-emerald-400 group-hover:scale-110 transition-transform",children:i.jsx(H_,{className:"w-6 h-6"})}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"         ."})]}),i.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-emerald-500/10 rounded-full blur-3xl group-hover:bg-emerald-500/20 transition-colors"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 p-6 rounded-[2rem] border border-white/5 relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 right-0 w-full h-1 bg-gradient-to-l from-blue-500 to-transparent"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-900/30 rounded-xl flex items-center justify-center mb-4 text-blue-400 group-hover:scale-110 transition-transform",children:i.jsx(Dg,{className:"w-6 h-6"})}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"         ."})]}),i.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl group-hover:bg-blue-500/20 transition-colors"})]}),i.jsxs("div",{className:"md:col-span-2 bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 p-6 rounded-[2rem] border border-white/5 relative overflow-hidden group text-center md:text-right flex flex-col md:flex-row items-center gap-6",children:[i.jsx("div",{className:"w-16 h-16 bg-yellow-900/30 rounded-full flex items-center justify-center text-yellow-400 shrink-0 border border-yellow-500/20 shadow-lg shadow-yellow-900/20 animate-pulse",children:i.jsx(Mg,{className:"w-8 h-8"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"  "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"          ."})]})]})]})]}),dH=()=>{const[r,e]=ue.useState(null),t=[{q:"   ",a:"            ."},{q:"    ",a:'   "  "       .'},{q:"    ",a:"!        ."},{q:"  ",a:"           100%."}];return i.jsxs("div",{className:"py-12 px-4 mb-12",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"    "})]}),i.jsx("div",{className:"max-w-2xl mx-auto space-y-3",children:t.map((n,s)=>i.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl overflow-hidden transition-all duration-300",children:[i.jsxs("button",{onClick:()=>e(r===s?null:s),className:"w-full p-5 flex items-center justify-between text-right bg-gray-900 hover:bg-gray-800/50 transition-colors",children:[i.jsxs("span",{className:"font-bold text-white text-sm md:text-base flex items-center gap-3",children:[i.jsx(_o,{className:"w-5 h-5 text-emerald-500"}),n.q]}),i.jsx(el,{className:`w-5 h-5 text-gray-500 transition-transform duration-300 ${r===s?"rotate-180 text-emerald-400":""}`})]}),i.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${r===s?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:i.jsx("div",{className:"p-5 pt-0 text-gray-400 text-sm leading-relaxed border-t border-gray-800/50",children:n.a})})]},s))})]})},hH=()=>i.jsxs("div",{className:"relative z-10 w-full bg-transparent",children:[i.jsx(F2,{}),i.jsx(cH,{}),i.jsx(F2,{}),i.jsx(uH,{}),i.jsx(F2,{}),i.jsx(dH,{})]}),dC=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),fH=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),gH=({onNavigate:r})=>{const[e,t]=ue.useState(!1),[n,s]=ue.useState(!1),o=window.location.origin,l="   -   ",u=()=>{const v=`https://t.me/share/url?url=${encodeURIComponent(o)}&text=${encodeURIComponent(l)}`;window.open(v,"_blank"),t(!1)},h=()=>{const v=`https://wa.me/?text=${encodeURIComponent(l+" "+o)}`;window.open(v,"_blank"),t(!1)},g=()=>{const v=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(o)}`;window.open(v,"_blank"),t(!1)},x=()=>{navigator.clipboard.writeText(o),s(!0),setTimeout(()=>s(!1),2e3)},p=async()=>{if(navigator.share)try{await navigator.share({title:" ",text:l,url:o}),t(!1)}catch(v){console.log("Error sharing",v)}else x()};return i.jsxs("footer",{className:"relative bg-gray-950 border-t border-white/5 py-4 md:py-6",children:[i.jsxs("div",{className:"w-full px-6 flex flex-col md:flex-row items-center justify-between gap-4 md:gap-8",children:[i.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[i.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gray-900 rounded-xl flex items-center justify-center border border-emerald-500/30 overflow-hidden shadow-md shadow-emerald-900/20",children:i.jsx(Dj,{className:"w-full h-full p-1"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-lg font-bold text-white tracking-tight block leading-none",children:""}),i.jsx("span",{className:"text-[10px] text-gray-500",children:" "})]})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6",children:[i.jsxs("button",{onClick:()=>r&&r("HOME"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsxs("button",{onClick:()=>r&&r("QUIZZES"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[i.jsx(is,{className:"w-3 h-3"})," "]}),i.jsxs("button",{onClick:()=>r&&r("LESSONS"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[i.jsx(Ls,{className:"w-3 h-3"})," "]}),i.jsxs("button",{onClick:()=>r&&r("LESSONS_EXPLANATIONS"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[i.jsx(hu,{className:"w-3 h-3"})," "]}),i.jsxs("button",{onClick:()=>r&&r("CONTACT_TEACHER"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[i.jsx(vd,{className:"w-3 h-3"}),"  "]})]}),i.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[i.jsx("div",{className:"h-4 w-px bg-gray-800 mx-1 hidden md:block"}),i.jsx("a",{href:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-[#1877F2] transition-colors",children:i.jsx(rf,{className:"w-4 h-4"})}),i.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-[#25D366] transition-colors",children:i.jsx(dC,{className:"w-4 h-4"})}),i.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 bg-emerald-600/10 text-emerald-500 px-3 py-1.5 rounded-lg hover:bg-emerald-600/20 transition-colors text-[10px] font-bold border border-emerald-500/20 ml-2",children:[i.jsx($B,{className:"w-3 h-3"}),""]})]})]}),i.jsx("div",{className:"text-center mt-4 border-t border-gray-900 pt-2",children:i.jsxs("p",{className:"text-[9px] text-gray-600 font-mono dir-ltr",children:[" ",new Date().getFullYear()," Etqan. By Mr. Yazan Abu Kahil"]})}),e&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",onClick:()=>t(!1),children:i.jsxs("div",{className:"w-full max-w-xs bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl p-4 flex flex-col gap-4 animate-fade-in-up relative",onClick:v=>v.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-gray-800 pb-2",children:[i.jsxs("span",{className:"text-white font-bold text-sm flex items-center gap-2",children:[i.jsx($B,{className:"w-4 h-4 text-emerald-500"})," "]}),i.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-white transition-colors",children:i.jsx(Ys,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[i.jsxs("button",{onClick:h,className:"flex flex-col items-center gap-1 group",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#25D366]/10 flex items-center justify-center group-hover:bg-[#25D366] transition-all border border-[#25D366]/20",children:i.jsx(dC,{className:"w-5 h-5 text-[#25D366] group-hover:text-white"})}),i.jsx("span",{className:"text-[9px] text-gray-400",children:""})]}),i.jsxs("button",{onClick:u,className:"flex flex-col items-center gap-1 group",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#0088cc]/10 flex items-center justify-center group-hover:bg-[#0088cc] transition-all border border-[#0088cc]/20",children:i.jsx(fH,{className:"w-5 h-5 text-[#0088cc] group-hover:text-white"})}),i.jsx("span",{className:"text-[9px] text-gray-400",children:""})]}),i.jsxs("button",{onClick:g,className:"flex flex-col items-center gap-1 group",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1877F2]/10 flex items-center justify-center group-hover:bg-[#1877F2] transition-all border border-[#1877F2]/20",children:i.jsx(rf,{className:"w-5 h-5 text-[#1877F2] group-hover:text-white"})}),i.jsx("span",{className:"text-[9px] text-gray-400",children:""})]}),i.jsxs("button",{onClick:p,className:"flex flex-col items-center gap-1 group",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-800 flex items-center justify-center group-hover:bg-gray-700 transition-all border border-gray-700",children:i.jsx(BU,{className:"w-5 h-5 text-gray-300 group-hover:text-white"})}),i.jsx("span",{className:"text-[9px] text-gray-400",children:""})]})]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-2 flex items-center border border-gray-700",children:[i.jsx("div",{className:"flex-1 px-2 text-[10px] text-gray-400 font-mono truncate dir-ltr",children:o}),i.jsx("button",{onClick:x,className:`p-1.5 rounded-md transition-all ${n?"bg-emerald-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:n?i.jsx(k_,{className:"w-3 h-3"}):i.jsx(Pw,{className:"w-3 h-3"})})]})]})})]})},mH=({onBack:r})=>{const[e,t]=ue.useState(null);ue.useEffect(()=>{const u=localStorage.getItem("etqan_service_intent");(u==="school"||u==="university")&&(t(u),localStorage.removeItem("etqan_service_intent"))},[]);const n=u=>{let h="";u?h=`    : ${u}`:h=`    ${e==="university"?"   (30 )":"   (20 )"}  .`,window.open(`https://wa.me/972568401548?text=${encodeURIComponent(h)}`,"_blank")},s=()=>{e?t(null):r()},o=e==="university"?{title:" ",subtitle:"",price:"30",description:null,color:"blue",gradient:"from-blue-500 to-indigo-600",border:"border-blue-500/30",shadow:"shadow-blue-500/20",features:[{icon:Da,text:"  ",sub:null},{icon:YU,text:"      ",sub:null}]}:{title:" ",subtitle:"",price:"20",description:"            .",color:"amber",gradient:"from-amber-500 to-orange-600",border:"border-amber-500/30",shadow:"shadow-amber-500/20",features:[{icon:kn,text:"  ",sub:"    "},{icon:tf,text:"  ",sub:"   "},{icon:MU,text:"   ",sub:"  "}]},l=[{title:" ",fullTitle:"  ",desc:"       ( ).",icon:jo,gradient:"from-emerald-600 to-teal-600",shadow:"shadow-emerald-500/20",border:"border-emerald-500/20"},{title:" ",fullTitle:"  ",desc:"     .",icon:uU,gradient:"from-violet-600 to-purple-600",shadow:"shadow-purple-500/20",border:"border-purple-500/20"},{title:" ",fullTitle:"  ",desc:"   (Presentation)  .",icon:hu,gradient:"from-orange-500 to-amber-500",shadow:"shadow-orange-500/20",border:"border-orange-500/20"},{title:" ",fullTitle:"  ",desc:"       ELT   ( ).",icon:Ow,gradient:"from-pink-600 to-rose-600",shadow:"shadow-pink-500/20",border:"border-pink-500/20"}];return e?i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in flex flex-col transition-colors duration-300 text-gray-100",children:[i.jsxs("div",{className:"relative overflow-hidden pt-28 pb-8",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900 via-gray-950/80 to-gray-950 pointer-events-none"}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 relative z-30 mb-6",children:i.jsxs("div",{className:"flex items-center justify-start gap-4",children:[i.jsx("button",{onClick:s,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-300 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-black text-white leading-none mb-1",children:" "}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400",children:[i.jsxs("span",{onClick:r,className:"hover:text-white cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3.5 h-3.5"})," "]}),i.jsx("span",{className:"text-gray-600",children:"/"}),i.jsxs("span",{onClick:()=>t(null),className:"hover:text-white cursor-pointer transition-colors flex items-center gap-1",children:[e==="university"?i.jsx(Da,{className:"w-3.5 h-3.5"}):i.jsx(iA,{className:"w-3.5 h-3.5"}),e==="university"?"":""]})]})]})]})}),i.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto text-center px-4",children:[i.jsxs("div",{className:`inline-flex items-center gap-2 bg-${o.color}-500/10 border border-${o.color}-500/30 text-${o.color}-400 px-4 py-1.5 rounded-full text-xs font-bold mb-4 animate-fade-in-up shadow-lg`,children:[i.jsx(o1,{className:"w-3.5 h-3.5"}),i.jsx("span",{children:"  "})]}),i.jsxs("h1",{className:"text-3xl md:text-5xl font-black text-white mb-2 drop-shadow-2xl tracking-tight leading-tight",children:[o.title," ",i.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r ${o.gradient}`,children:o.subtitle})]}),o.description&&i.jsx("p",{className:"text-gray-400 text-sm md:text-base max-w-2xl mx-auto leading-relaxed",children:o.description})]})]}),i.jsx("div",{className:"max-w-md mx-auto px-4 relative z-10 w-full -mt-4",children:i.jsxs("div",{className:`bg-gray-900 rounded-[2.5rem] p-1 border-2 ${o.border} ${o.shadow} relative overflow-hidden group`,children:[i.jsx("div",{className:`absolute top-0 left-0 w-full h-full bg-gradient-to-b from-${o.color}-900/10 to-transparent pointer-events-none`}),i.jsxs("div",{className:`bg-gray-900/90 backdrop-blur-xl rounded-[2.3rem] ${e==="university"?"p-4":"p-5 md:p-6"} relative h-full flex flex-col`,children:[i.jsxs("div",{className:`text-center ${e==="university"?"mb-4":"mb-6"}`,children:[i.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${o.gradient} rounded-full flex items-center justify-center mx-auto mb-2 shadow-2xl animate-pulse-slow`,children:i.jsx(Dn,{className:"w-6 h-6 text-white fill-white"})}),i.jsx("h2",{className:"text-lg font-black text-white mb-2",children:" Premium"}),i.jsxs("div",{className:`inline-block bg-${o.color}-500/10 border border-${o.color}-500/30 rounded-xl px-4 py-1`,children:[i.jsxs("div",{className:`flex items-baseline justify-center gap-1 text-${o.color}-400`,children:[i.jsx("span",{className:"text-xl font-black",children:o.price}),i.jsx("span",{className:"text-[10px] font-bold",children:""})]}),i.jsx("span",{className:`text-[8px] text-${o.color}-500/70 font-bold block`,children:" / "})]})]}),i.jsx("div",{className:`space-y-2 ${e==="university"?"mb-4":"mb-8"} flex-1`,children:o.features.map((u,h)=>i.jsxs("div",{className:"flex items-center gap-3 bg-gray-800/50 p-2.5 rounded-xl border border-gray-700/50",children:[i.jsx("div",{className:`bg-${o.color}-500/20 p-1.5 rounded-lg text-${o.color}-400`,children:i.jsx(u.icon,{className:"w-4 h-4"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("h4",{className:"font-bold text-white text-xs",children:u.text}),u.sub&&i.jsx("p",{className:"text-gray-400 text-[9px]",children:u.sub})]})]},h))}),i.jsxs("button",{onClick:()=>n(),className:`w-full py-3 rounded-xl font-black text-sm text-white shadow-xl flex items-center justify-center gap-2 transition-all transform hover:-translate-y-1 active:scale-95 bg-gradient-to-r ${o.gradient} hover:shadow-${o.color}-900/30 mb-3`,children:[i.jsx(vd,{className:"w-4 h-4"}),"   "]}),i.jsxs("div",{className:"pt-2 border-t border-gray-800 text-center",children:[i.jsxs("p",{className:"text-[9px] text-gray-400 font-bold mb-2 flex items-center justify-center gap-1",children:[i.jsx(a1,{className:"w-2.5 h-2.5"}),"  :"]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-[9px] font-bold text-gray-300",children:[i.jsxs("div",{className:"bg-gray-800 px-2 py-1 rounded-lg border border-gray-700 flex items-center gap-1",children:[i.jsx(hQ,{className:"w-2.5 h-2.5 text-blue-400"})," PalPay"]}),i.jsxs("div",{className:"bg-gray-800 px-2 py-1 rounded-lg border border-gray-700 flex items-center gap-1",children:[i.jsx(_f,{className:"w-2.5 h-2.5 text-yellow-400"})," Reflect"]}),i.jsxs("div",{className:"bg-gray-800 px-2 py-1 rounded-lg border border-gray-700 flex items-center gap-1",children:[i.jsx(pH,{className:"w-2.5 h-2.5 text-green-400"})," Jawwal Pay"]}),i.jsxs("div",{className:"bg-gray-800 px-2 py-1 rounded-lg border border-gray-700 flex items-center gap-1",children:[i.jsx(Da,{className:"w-2.5 h-2.5 text-purple-400"}),"  "]})]})]})]})]})}),e==="university"&&i.jsxs("div",{className:"max-w-4xl mx-auto px-4 pb-20 relative z-10 w-full mt-12",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-black text-white mb-2",children:"  "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"     "})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:l.map((u,h)=>i.jsxs("div",{className:`bg-gray-900 rounded-3xl p-4 md:p-6 relative overflow-hidden group hover:-translate-y-1 transition-all duration-300 border ${u.border} flex flex-col items-center text-center`,children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${u.gradient} opacity-5 group-hover:opacity-10 transition-opacity`}),i.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${u.gradient} flex items-center justify-center mb-4 shadow-lg ${u.shadow} group-hover:scale-110 transition-transform duration-300`,children:i.jsx(u.icon,{className:"w-7 h-7 text-white"})}),i.jsx("h3",{className:"text-sm md:text-lg font-black text-white mb-2 leading-tight",children:u.title}),i.jsx("p",{className:"text-gray-400 text-[10px] md:text-xs leading-relaxed mb-4 line-clamp-3",children:u.desc}),i.jsxs("button",{onClick:()=>n(u.fullTitle),className:"mt-auto bg-gray-800 hover:bg-gray-700 text-white text-[10px] md:text-xs font-bold py-2 px-4 rounded-xl transition-colors flex items-center gap-1.5 border border-gray-700 hover:border-gray-600 w-full justify-center",children:[i.jsx(vd,{className:"w-3 h-3"})," "]})]},h))})]})]}):i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in flex flex-col transition-colors duration-300 text-gray-100 pt-28",children:[i.jsx("div",{className:"max-w-4xl mx-auto px-4 pb-2 w-full",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm",children:i.jsx(qr,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-black text-white leading-none mb-1",children:""}),i.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-500",children:[i.jsx(Cn,{className:"w-3.5 h-3.5"}),i.jsx("span",{children:""}),i.jsx("span",{children:"/"}),i.jsx("span",{children:" "})]})]})]})}),i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 pb-20",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-sm font-bold mb-4 animate-pulse",children:[i.jsx(o1,{className:"w-4 h-4"}),i.jsx("span",{children:"  "})]}),i.jsx("h2",{className:"text-3xl font-black text-white",children:"  "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-2xl",children:[i.jsxs("button",{onClick:()=>t("school"),className:"group relative bg-gray-900 rounded-[2rem] p-6 border-2 border-gray-800 hover:border-emerald-500 transition-all duration-300 hover:shadow-[0_0_40px_rgba(16,185,129,0.15)] flex flex-col items-center text-center overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-emerald-900/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx("div",{className:"w-20 h-20 bg-emerald-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform border border-emerald-500/20",children:i.jsx(iA,{className:"w-8 h-8 text-emerald-400"})}),i.jsx("h3",{className:"text-xl font-black text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-xs font-medium mb-4",children:"  (5 - 12)"}),i.jsx("span",{className:"mt-auto bg-gray-800 text-white px-5 py-2 rounded-xl font-bold text-xs group-hover:bg-emerald-600 transition-colors",children:" "})]}),i.jsxs("button",{onClick:()=>t("university"),className:"group relative bg-gray-900 rounded-[2rem] p-6 border-2 border-gray-800 hover:border-blue-500 transition-all duration-300 hover:shadow-[0_0_40px_rgba(59,130,246,0.15)] flex flex-col items-center text-center overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx("div",{className:"w-20 h-20 bg-blue-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform border border-blue-500/20",children:i.jsx(Da,{className:"w-8 h-8 text-blue-400"})}),i.jsx("h3",{className:"text-xl font-black text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-xs font-medium mb-4",children:"  "}),i.jsx("span",{className:"mt-auto bg-gray-800 text-white px-5 py-2 rounded-xl font-bold text-xs group-hover:bg-blue-600 transition-colors",children:"  "})]})]})]})]})},pH=({className:r})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[i.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),i.jsx("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"})]}),Q2="etqan_active_subs_v3_strict",xH=1440*60*1e3,bH=({expiryDate:r})=>{const[e,t]=ue.useState(""),[n,s]=ue.useState(!1);return ue.useEffect(()=>{const o=()=>{let h=0;if(!r)return 0;r.seconds?h=r.seconds*1e3:r instanceof Date?h=r.getTime():h=new Date(r).getTime();const g=Date.now(),x=h-g;return x<=0?(s(!0),0):x},l=()=>{const h=o();if(h<=0){t("");return}const g=Math.floor(h/(1e3*60*60*24)),x=Math.floor(h%(1e3*60*60*24)/(1e3*60*60)),p=Math.floor(h%(1e3*60*60)/(1e3*60));g>0?t(`${g}   ${x} `):t(`${x}:${p.toString().padStart(2,"0")}`)};l();const u=setInterval(l,6e4);return()=>clearInterval(u)},[r]),i.jsx("span",{className:`font-mono font-bold text-[10px] ${n?"text-red-400":"text-emerald-400"}`,children:e})},yH=({onBack:r})=>{const{user:e}=ro(),[t,n]=ue.useState([]),[s,o]=ue.useState([]),[l,u]=ue.useState(""),[h,g]=ue.useState(!1),[x,p]=ue.useState(null),[v,N]=ue.useState(null);ue.useEffect(()=>{(async()=>{const ae=localStorage.getItem(Q2),le=Date.now();if(ae)try{const{data:U,timestamp:S}=JSON.parse(ae);le-S<xH&&o(U)}catch(U){console.error("Cache parse error",U)}try{const U=Ws(tn(sr,"subscriptions"),Rf("expiryDate","desc")),S=await ni(U),M=[];S.forEach(z=>{M.push({id:z.id,...z.data()})}),o(M),localStorage.setItem(Q2,JSON.stringify({data:M,timestamp:le}))}catch(U){console.error("Error fetching subscription collection:",U)}})()},[]);const T=async()=>{if(!l.trim())return;g(!0),n([]);const se=l.trim();let ae=[];try{const le=ga(sr,"users",se);try{const U=await OM(le);U.exists()&&ae.push({id:U.id,...U.data()})}catch{}if(ae.length===0){const U=[Ws(tn(sr,"users"),Js("email","==",se)),Ws(tn(sr,"users"),Js("displayName",">=",se),Js("displayName","<=",se+""),Df(5))];(await Promise.all(U.map(M=>ni(M)))).forEach(M=>{M.forEach(z=>{const E=z.data();ae.find(F=>F.id===z.id)||ae.push({id:z.id,...E})})})}n(ae)}catch(le){console.error("Error searching user",le),alert("   ")}finally{g(!1)}},I=(se,ae,le,U)=>{N({isOpen:!0,studentId:se,isCurrentlyActive:ae,studentName:le,studentData:U})},O=async()=>{if(!v)return;const{studentId:se,isCurrentlyActive:ae,studentName:le,studentData:U}=v;N(null),p(se);try{const S=ga(sr,"users",se),M=ga(sr,"subscriptions",se),z=!ae,E=30,F=z?new Date(Date.now()+E*24*60*60*1e3):null,D=F?{seconds:Math.floor(F.getTime()/1e3)}:null;if(z){const be={studentId:se,displayName:U.displayName||le,email:U.email||"",avatar:U.avatar||"",grade:U.grade||"",isActive:!0,startDate:Ei(),expiryDate:F};await _x(M,be),await Nf(S,{isSubscriber:!0,subscriptionExpiry:F}),o(te=>[{...be,id:se,expiryDate:D},...te.filter(ie=>ie.id!==se)])}else await sm(M),await Nf(S,{isSubscriber:!1,subscriptionExpiry:null}),o(be=>be.filter(te=>te.id!==se));n(be=>be.map(te=>te.id===se?{...te,isSubscriber:z,subscriptionExpiry:D}:te));const $=z?[{...U,id:se,expiryDate:D},...s]:s.filter(be=>be.id!==se);localStorage.setItem(Q2,JSON.stringify({data:$,timestamp:Date.now()}))}catch(S){console.error("Error updating subscription",S),alert("    ")}finally{p(null)}},R=()=>{n([]),u("")},P=se=>{if(!se)return"-";let ae;return se.seconds?ae=new Date(se.seconds*1e3):ae=new Date(se),ae.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(",","")},K=se=>se==="English Major - QOU"||se&&se.includes("University");return i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-6xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-gray-800 shadow-lg group backdrop-blur-sm",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(a1,{className:"w-3 h-3"}),"  "]})]})]})]})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 space-y-8",children:[i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-xl border border-gray-700 p-6 md:p-8 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 mb-8 border-b border-gray-700 pb-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-2 mb-2",children:[i.jsx(a1,{className:"w-8 h-8 text-amber-500"}),"  "]}),i.jsx("p",{className:"text-gray-400 text-sm",children:"        "})]}),i.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[i.jsxs("div",{className:"relative w-full md:w-80",children:[i.jsx("input",{type:"text",placeholder:"    ID...",value:l,onChange:se=>u(se.target.value),onKeyDown:se=>se.key==="Enter"&&T(),className:"w-full px-5 py-3 rounded-xl bg-gray-800 border border-gray-700 focus:border-amber-500 outline-none text-white font-bold transition-all text-sm pr-10"}),l&&i.jsx("button",{onClick:R,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white",children:i.jsx(Ys,{className:"w-4 h-4"})})]}),i.jsx("button",{onClick:T,disabled:h,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 rounded-xl flex items-center justify-center transition-colors shadow-lg disabled:opacity-50",children:h?i.jsx(jr,{className:"w-5 h-5 animate-spin"}):i.jsx(Si,{className:"w-5 h-5"})})]})]}),i.jsx("div",{className:"overflow-x-auto min-h-[100px]",children:t.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-gray-500 bg-gray-800/20 rounded-3xl border border-dashed border-gray-800",children:[i.jsx(Si,{className:"w-10 h-10 mb-3 opacity-20"}),i.jsx("p",{className:"font-bold text-sm",children:"   .   ."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("span",{className:"text-sm font-bold text-gray-400",children:["  (",t.length,")"]}),i.jsxs("button",{onClick:R,className:"text-[10px] text-red-400 hover:text-red-300 flex items-center gap-1 bg-red-900/10 px-3 py-1.5 rounded-lg border border-red-900/30 transition-colors",children:[i.jsx(nl,{className:"w-3 h-3"}),"  "]})]}),i.jsxs("table",{className:"w-full text-right border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-700 text-gray-400 text-[10px] uppercase tracking-wider font-bold",children:[i.jsx("th",{className:"pb-3 pr-4",children:""}),i.jsx("th",{className:"pb-3",children:" "}),i.jsx("th",{className:"pb-3",children:" (ID)"}),i.jsx("th",{className:"pb-3",children:" "}),i.jsx("th",{className:"pb-3 pl-4 text-left",children:""})]})}),i.jsx("tbody",{className:"divide-y divide-gray-800",children:t.map(se=>i.jsxs("tr",{className:"group hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"py-3 pr-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden border border-gray-600 shrink-0",children:se.avatar?i.jsx("img",{src:se.avatar,className:"w-full h-full object-cover",alt:"avatar"}):i.jsx(tc,{className:"w-4 h-4 text-gray-400"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-white text-xs",children:se.displayName}),i.jsx("div",{className:"text-[10px] text-gray-500",children:se.email})]})]})}),i.jsx("td",{className:"py-3",children:K(se.grade)?i.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-900/30 text-blue-400 px-2 py-0.5 rounded-full text-[10px] font-bold border border-blue-500/20",children:[i.jsx(Da,{className:"w-3 h-3"})," "]}):i.jsxs("span",{className:"inline-flex items-center gap-1 bg-emerald-900/30 text-emerald-400 px-2 py-0.5 rounded-full text-[10px] font-bold border border-emerald-500/20",children:[i.jsx(iA,{className:"w-3 h-3"})," "]})}),i.jsx("td",{className:"py-3 font-mono text-[10px] text-amber-200/70 select-all",children:se.id}),i.jsx("td",{className:"py-3",children:se.isSubscriber?i.jsxs("span",{className:"inline-flex items-center gap-1 bg-green-900/30 text-green-400 px-2 py-0.5 rounded-full text-[10px] font-bold border border-green-500/20",children:[i.jsx(kn,{className:"w-3 h-3"})," "]}):i.jsx("span",{className:"inline-flex items-center gap-1 bg-gray-700/50 text-gray-400 px-2 py-0.5 rounded-full text-[10px] font-bold border border-gray-600",children:" "})}),i.jsx("td",{className:"py-3 pl-4 text-left",children:i.jsx("button",{onClick:()=>I(se.id,se.isSubscriber,se.displayName,se),disabled:x===se.id,className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all flex items-center justify-center gap-1 ml-auto w-28 ${x===se.id?"bg-gray-700 cursor-not-allowed text-gray-400":se.isSubscriber?"bg-red-900/20 text-red-400 hover:bg-red-900/40 border border-red-900/30":"bg-amber-600 text-white hover:bg-amber-700 shadow-md hover:shadow-amber-900/20"}`,children:x===se.id?i.jsx(jr,{className:"w-3 h-3 animate-spin"}):se.isSubscriber?i.jsxs(i.Fragment,{children:[i.jsx(Wm,{className:"w-3 h-3"})," "]}):i.jsxs(i.Fragment,{children:[i.jsx(YB,{className:"w-3 h-3"})," 30 "]})})})]},se.id))})]})]})})]}),i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-xl border border-emerald-500/20 p-6 md:p-8 animate-fade-in-up",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-gray-800 pb-4",children:[i.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-xl border border-emerald-500/20",children:i.jsx(Dg,{className:"w-6 h-6 text-emerald-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),i.jsxs("p",{className:"text-xs text-gray-400",children:["     (Real-time DB) - : ",s.length]})]})]}),s.length===0?i.jsxs("div",{className:"text-center py-10 text-gray-500",children:[i.jsx(Wm,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),i.jsx("p",{children:"      "})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(se=>i.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-4 border border-emerald-500/10 hover:border-emerald-500/30 transition-all flex items-center justify-between group",children:[i.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden border border-gray-600 shrink-0",children:se.avatar?i.jsx("img",{src:se.avatar,className:"w-full h-full object-cover",alt:"avatar"}):i.jsx(tc,{className:"w-5 h-5 text-gray-400"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("h4",{className:"font-bold text-white text-xs truncate flex items-center gap-1",children:[se.displayName,K(se.grade)&&i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500",title:" "})]}),i.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-gray-400 font-mono mt-0.5",children:[i.jsx(dg,{className:"w-2.5 h-2.5 text-emerald-500"}),": ",P(se.expiryDate||se.subscriptionExpiry)]}),i.jsxs("div",{className:"flex items-center gap-1 text-[9px] mt-0.5 bg-gray-900/50 w-fit px-1.5 py-0.5 rounded border border-gray-700",children:[i.jsx(z_,{className:"w-2.5 h-2.5 text-emerald-400"}),i.jsx(bH,{expiryDate:se.expiryDate||se.subscriptionExpiry})]})]})]}),i.jsx("button",{onClick:()=>I(se.id,!0,se.displayName,se),disabled:x===se.id,className:"bg-red-500/10 hover:bg-red-500/20 text-red-400 p-2 rounded-lg transition-colors disabled:opacity-50",title:" ",children:x===se.id?i.jsx(jr,{className:"w-4 h-4 animate-spin"}):i.jsx(Wm,{className:"w-4 h-4"})})]},se.id))})]})]}),v&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-8 max-w-sm w-full border border-gray-700 shadow-2xl relative text-center animate-fade-in-up",children:[i.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 ${v.isCurrentlyActive?"bg-red-500/20 text-red-500":"bg-green-500/20 text-green-500"}`,children:v.isCurrentlyActive?i.jsx(Wm,{className:"w-10 h-10"}):i.jsx(YB,{className:"w-10 h-10"})}),i.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:v.isCurrentlyActive?" ":" "}),i.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:v.isCurrentlyActive?i.jsxs(i.Fragment,{children:["       ",i.jsx("span",{className:"text-white font-bold",children:v.studentName}),"         ."]}):i.jsxs(i.Fragment,{children:["     ",i.jsx("span",{className:"text-white font-bold",children:v.studentName}),"  30      ."]})}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx("button",{onClick:O,className:`flex-1 py-3.5 rounded-xl font-bold text-white transition-all shadow-lg transform hover:scale-105 active:scale-95 ${v.isCurrentlyActive?"bg-gradient-to-r from-red-600 to-pink-600 shadow-red-900/30":"bg-gradient-to-r from-emerald-600 to-teal-600 shadow-emerald-900/30"}`,children:v.isCurrentlyActive?" ":" "}),i.jsx("button",{onClick:()=>N(null),className:"flex-1 bg-gray-800 text-gray-300 py-3.5 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-gray-700",children:""})]})]})})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tw=function(r,e){return tw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},tw(r,e)};function dA(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");tw(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var rw=function(){return rw=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},rw.apply(this,arguments)};function Za(r,e,t,n){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(x){try{g(n.next(x))}catch(p){l(p)}}function h(x){try{g(n.throw(x))}catch(p){l(p)}}function g(x){x.done?o(x.value):s(x.value).then(u,h)}g((n=n.apply(r,[])).next())})}function Ua(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(g){return function(x){return h([g,x])}}function h(g){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,s&&(o=g[0]&2?s.return:g[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,g[1])).done)return o;switch(s=0,o&&(g=[g[0]&2,o.value]),g[0]){case 0:case 1:o=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,s=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!o||g[1]>o[0]&&g[1]<o[3])){t.label=g[1];break}if(g[0]===6&&t.label<o[1]){t.label=o[1],o=g;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(g);break}o[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(r,t)}catch(x){g=[6,x],s=0}finally{n=o=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}function op(r,e,t){if(arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||e)}var ic=(function(){function r(e,t,n,s){this.left=e,this.top=t,this.width=n,this.height=s}return r.prototype.add=function(e,t,n,s){return new r(this.left+e,this.top+t,this.width+n,this.height+s)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(s){return s.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r})(),jx=function(r,e){return ic.fromClientRect(r,e.getBoundingClientRect())},wH=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),s=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new ic(0,0,n,s)},Tx=function(r){for(var e=[],t=0,n=r.length;t<n;){var s=r.charCodeAt(t++);if(s>=55296&&s<=56319&&t<n){var o=r.charCodeAt(t++);(o&64512)===56320?e.push(((s&1023)<<10)+(o&1023)+65536):(e.push(s),t--)}else e.push(s)}return e},ts=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],s=-1,o="";++s<t;){var l=r[s];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(s+1===t||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},hC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vH=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ap=0;Ap<hC.length;Ap++)vH[hC.charCodeAt(Ap)]=Ap;var fC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var lp=0;lp<fC.length;lp++)M0[fC.charCodeAt(lp)]=lp;var BH=function(r){var e=r.length*.75,t=r.length,n,s=0,o,l,u,h;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var g=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),x=Array.isArray(g)?g:new Uint8Array(g);for(n=0;n<t;n+=4)o=M0[r.charCodeAt(n)],l=M0[r.charCodeAt(n+1)],u=M0[r.charCodeAt(n+2)],h=M0[r.charCodeAt(n+3)],x[s++]=o<<2|l>>4,x[s++]=(l&15)<<4|u>>2,x[s++]=(u&3)<<6|h&63;return g},NH=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},CH=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},bd=5,l5=11,L2=2,_H=l5-bd,Mj=65536>>bd,EH=1<<bd,k2=EH-1,SH=1024>>bd,IH=Mj+SH,jH=IH,TH=32,UH=jH+TH,FH=65536>>l5,QH=1<<_H,LH=QH-1,gC=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},kH=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},RH=function(r,e){var t=BH(r),n=Array.isArray(t)?CH(t):new Uint32Array(t),s=Array.isArray(t)?NH(t):new Uint16Array(t),o=24,l=gC(s,o/2,n[4]/2),u=n[5]===2?gC(s,(o+n[4])/2):kH(n,Math.ceil((o+n[4])/4));return new DH(n[0],n[1],n[2],n[3],l,u)},DH=(function(){function r(e,t,n,s,o,l){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=s,this.index=o,this.data=l}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>bd],t=(t<<L2)+(e&k2),this.data[t];if(e<=65535)return t=this.index[Mj+(e-55296>>bd)],t=(t<<L2)+(e&k2),this.data[t];if(e<this.highStart)return t=UH-FH+(e>>l5),t=this.index[t],t+=e>>bd&LH,t=this.index[t],t=(t<<L2)+(e&k2),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),mC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",MH=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var cp=0;cp<mC.length;cp++)MH[mC.charCodeAt(cp)]=cp;var OH="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",pC=50,PH=1,Oj=2,Pj=3,HH=4,VH=5,xC=7,Hj=8,bC=9,Au=10,nw=11,yC=12,sw=13,KH=14,O0=15,aw=16,up=17,_0=18,zH=19,wC=20,iw=21,E0=22,R2=23,Ch=24,$i=25,P0=26,H0=27,_h=28,qH=29,ld=30,GH=31,dp=32,hp=33,ow=34,Aw=35,lw=36,Ug=37,cw=38,Wp=39,Jp=40,D2=41,Vj=42,XH=43,$H=[9001,65288],Kj="!",Nr="",fp="",uw=RH(OH),zl=[ld,lw],dw=[PH,Oj,Pj,VH],zj=[Au,Hj],vC=[H0,P0],YH=dw.concat(zj),BC=[cw,Wp,Jp,ow,Aw],WH=[O0,sw],JH=function(r,e){e===void 0&&(e="strict");var t=[],n=[],s=[];return r.forEach(function(o,l){var u=uw.get(o);if(u>pC?(s.push(!0),u-=pC):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(o)!==-1)return n.push(l),t.push(aw);if(u===HH||u===nw){if(l===0)return n.push(l),t.push(ld);var h=t[l-1];return YH.indexOf(h)===-1?(n.push(n[l-1]),t.push(h)):(n.push(l),t.push(ld))}if(n.push(l),u===GH)return t.push(e==="strict"?iw:Ug);if(u===Vj||u===qH)return t.push(ld);if(u===XH)return o>=131072&&o<=196605||o>=196608&&o<=262141?t.push(Ug):t.push(ld);t.push(u)}),[n,t,s]},M2=function(r,e,t,n){var s=n[t];if(Array.isArray(r)?r.indexOf(s)!==-1:r===s)for(var o=t;o<=n.length;){o++;var l=n[o];if(l===e)return!0;if(l!==Au)break}if(s===Au)for(var o=t;o>0;){o--;var u=n[o];if(Array.isArray(r)?r.indexOf(u)!==-1:r===u)for(var h=t;h<=n.length;){h++;var l=n[h];if(l===e)return!0;if(l!==Au)break}if(u!==Au)break}return!1},NC=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===Au)t--;else return n}return 0},ZH=function(r,e,t,n,s){if(t[n]===0)return Nr;var o=n-1;if(Array.isArray(s)&&s[o]===!0)return Nr;var l=o-1,u=o+1,h=e[o],g=l>=0?e[l]:0,x=e[u];if(h===Oj&&x===Pj)return Nr;if(dw.indexOf(h)!==-1)return Kj;if(dw.indexOf(x)!==-1||zj.indexOf(x)!==-1)return Nr;if(NC(o,e)===Hj)return fp;if(uw.get(r[o])===nw||(h===dp||h===hp)&&uw.get(r[u])===nw||h===xC||x===xC||h===bC||[Au,sw,O0].indexOf(h)===-1&&x===bC||[up,_0,zH,Ch,_h].indexOf(x)!==-1||NC(o,e)===E0||M2(R2,E0,o,e)||M2([up,_0],iw,o,e)||M2(yC,yC,o,e))return Nr;if(h===Au)return fp;if(h===R2||x===R2)return Nr;if(x===aw||h===aw)return fp;if([sw,O0,iw].indexOf(x)!==-1||h===KH||g===lw&&WH.indexOf(h)!==-1||h===_h&&x===lw||x===wC||zl.indexOf(x)!==-1&&h===$i||zl.indexOf(h)!==-1&&x===$i||h===H0&&[Ug,dp,hp].indexOf(x)!==-1||[Ug,dp,hp].indexOf(h)!==-1&&x===P0||zl.indexOf(h)!==-1&&vC.indexOf(x)!==-1||vC.indexOf(h)!==-1&&zl.indexOf(x)!==-1||[H0,P0].indexOf(h)!==-1&&(x===$i||[E0,O0].indexOf(x)!==-1&&e[u+1]===$i)||[E0,O0].indexOf(h)!==-1&&x===$i||h===$i&&[$i,_h,Ch].indexOf(x)!==-1)return Nr;if([$i,_h,Ch,up,_0].indexOf(x)!==-1)for(var p=o;p>=0;){var v=e[p];if(v===$i)return Nr;if([_h,Ch].indexOf(v)!==-1)p--;else break}if([H0,P0].indexOf(x)!==-1)for(var p=[up,_0].indexOf(h)!==-1?l:o;p>=0;){var v=e[p];if(v===$i)return Nr;if([_h,Ch].indexOf(v)!==-1)p--;else break}if(cw===h&&[cw,Wp,ow,Aw].indexOf(x)!==-1||[Wp,ow].indexOf(h)!==-1&&[Wp,Jp].indexOf(x)!==-1||[Jp,Aw].indexOf(h)!==-1&&x===Jp||BC.indexOf(h)!==-1&&[wC,P0].indexOf(x)!==-1||BC.indexOf(x)!==-1&&h===H0||zl.indexOf(h)!==-1&&zl.indexOf(x)!==-1||h===Ch&&zl.indexOf(x)!==-1||zl.concat($i).indexOf(h)!==-1&&x===E0&&$H.indexOf(r[u])===-1||zl.concat($i).indexOf(x)!==-1&&h===_0)return Nr;if(h===D2&&x===D2){for(var N=t[o],T=1;N>0&&(N--,e[N]===D2);)T++;if(T%2!==0)return Nr}return h===dp&&x===hp?Nr:fp},eV=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=JH(r,e.lineBreak),n=t[0],s=t[1],o=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(u){return[$i,ld,Vj].indexOf(u)!==-1?Ug:u}));var l=e.wordBreak==="keep-all"?o.map(function(u,h){return u&&r[h]>=19968&&r[h]<=40959}):void 0;return[n,s,l]},tV=(function(){function r(e,t,n,s){this.codePoints=e,this.required=t===Kj,this.start=n,this.end=s}return r.prototype.slice=function(){return ts.apply(void 0,this.codePoints.slice(this.start,this.end))},r})(),rV=function(r,e){var t=Tx(r),n=eV(t,e),s=n[0],o=n[1],l=n[2],u=t.length,h=0,g=0;return{next:function(){if(g>=u)return{done:!0,value:null};for(var x=Nr;g<u&&(x=ZH(t,o,s,++g,l))===Nr;);if(x!==Nr||g===u){var p=new tV(t,x,h,g);return h=g,{value:p,done:!1}}return{done:!0,value:null}}}},nV=1,sV=2,im=4,CC=8,D1=10,_C=47,ng=92,aV=9,iV=32,gp=34,S0=61,oV=35,AV=36,lV=37,mp=39,pp=40,I0=41,cV=95,Ni=45,uV=33,dV=60,hV=62,fV=64,gV=91,mV=93,pV=61,xV=123,xp=63,bV=125,EC=124,yV=126,wV=128,SC=65533,O2=42,hd=43,vV=44,BV=58,NV=59,Fg=46,CV=0,_V=8,EV=11,SV=14,IV=31,jV=127,qA=-1,qj=48,Gj=97,Xj=101,TV=102,UV=117,FV=122,$j=65,Yj=69,Wj=70,QV=85,LV=90,La=function(r){return r>=qj&&r<=57},kV=function(r){return r>=55296&&r<=57343},Eh=function(r){return La(r)||r>=$j&&r<=Wj||r>=Gj&&r<=TV},RV=function(r){return r>=Gj&&r<=FV},DV=function(r){return r>=$j&&r<=LV},MV=function(r){return RV(r)||DV(r)},OV=function(r){return r>=wV},bp=function(r){return r===D1||r===aV||r===iV},M1=function(r){return MV(r)||OV(r)||r===cV},IC=function(r){return M1(r)||La(r)||r===Ni},PV=function(r){return r>=CV&&r<=_V||r===EV||r>=SV&&r<=IV||r===jV},tu=function(r,e){return r!==ng?!1:e!==D1},yp=function(r,e,t){return r===Ni?M1(e)||tu(e,t):M1(r)?!0:!!(r===ng&&tu(r,e))},P2=function(r,e,t){return r===hd||r===Ni?La(e)?!0:e===Fg&&La(t):La(r===Fg?e:r)},HV=function(r){var e=0,t=1;(r[e]===hd||r[e]===Ni)&&(r[e]===Ni&&(t=-1),e++);for(var n=[];La(r[e]);)n.push(r[e++]);var s=n.length?parseInt(ts.apply(void 0,n),10):0;r[e]===Fg&&e++;for(var o=[];La(r[e]);)o.push(r[e++]);var l=o.length,u=l?parseInt(ts.apply(void 0,o),10):0;(r[e]===Yj||r[e]===Xj)&&e++;var h=1;(r[e]===hd||r[e]===Ni)&&(r[e]===Ni&&(h=-1),e++);for(var g=[];La(r[e]);)g.push(r[e++]);var x=g.length?parseInt(ts.apply(void 0,g),10):0;return t*(s+u*Math.pow(10,-l))*Math.pow(10,h*x)},VV={type:2},KV={type:3},zV={type:4},qV={type:13},GV={type:8},XV={type:21},$V={type:9},YV={type:10},WV={type:11},JV={type:12},ZV={type:14},wp={type:23},eK={type:1},tK={type:25},rK={type:24},nK={type:26},sK={type:27},aK={type:28},iK={type:29},oK={type:31},hw={type:32},Jj=(function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(Tx(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==hw;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case gp:return this.consumeStringToken(gp);case oV:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(IC(t)||tu(n,s)){var o=yp(t,n,s)?sV:nV,l=this.consumeName();return{type:5,value:l,flags:o}}break;case AV:if(this.peekCodePoint(0)===S0)return this.consumeCodePoint(),qV;break;case mp:return this.consumeStringToken(mp);case pp:return VV;case I0:return KV;case O2:if(this.peekCodePoint(0)===S0)return this.consumeCodePoint(),ZV;break;case hd:if(P2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case vV:return zV;case Ni:var u=e,h=this.peekCodePoint(0),g=this.peekCodePoint(1);if(P2(u,h,g))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(yp(u,h,g))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(h===Ni&&g===hV)return this.consumeCodePoint(),this.consumeCodePoint(),rK;break;case Fg:if(P2(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case _C:if(this.peekCodePoint(0)===O2)for(this.consumeCodePoint();;){var x=this.consumeCodePoint();if(x===O2&&(x=this.consumeCodePoint(),x===_C))return this.consumeToken();if(x===qA)return this.consumeToken()}break;case BV:return nK;case NV:return sK;case dV:if(this.peekCodePoint(0)===uV&&this.peekCodePoint(1)===Ni&&this.peekCodePoint(2)===Ni)return this.consumeCodePoint(),this.consumeCodePoint(),tK;break;case fV:var p=this.peekCodePoint(0),v=this.peekCodePoint(1),N=this.peekCodePoint(2);if(yp(p,v,N)){var l=this.consumeName();return{type:7,value:l}}break;case gV:return aK;case ng:if(tu(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case mV:return iK;case pV:if(this.peekCodePoint(0)===S0)return this.consumeCodePoint(),GV;break;case xV:return WV;case bV:return JV;case UV:case QV:var T=this.peekCodePoint(0),I=this.peekCodePoint(1);return T===hd&&(Eh(I)||I===xp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case EC:if(this.peekCodePoint(0)===S0)return this.consumeCodePoint(),$V;if(this.peekCodePoint(0)===EC)return this.consumeCodePoint(),XV;break;case yV:if(this.peekCodePoint(0)===S0)return this.consumeCodePoint(),YV;break;case qA:return hw}return bp(e)?(this.consumeWhiteSpace(),oK):La(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):M1(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ts(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Eh(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===xp&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(ts.apply(void 0,e.map(function(h){return h===xp?qj:h})),16),o=parseInt(ts.apply(void 0,e.map(function(h){return h===xp?Wj:h})),16);return{type:30,start:s,end:o}}var l=parseInt(ts.apply(void 0,e),16);if(this.peekCodePoint(0)===Ni&&Eh(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var u=[];Eh(t)&&u.length<6;)u.push(t),t=this.consumeCodePoint();var o=parseInt(ts.apply(void 0,u),16);return{type:30,start:l,end:o}}else return{type:30,start:l,end:l}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===pp?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===pp?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===qA)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===mp||t===gp){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===qA||this.peekCodePoint(0)===I0)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),wp)}for(;;){var s=this.consumeCodePoint();if(s===qA||s===I0)return{type:22,value:ts.apply(void 0,e)};if(bp(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===qA||this.peekCodePoint(0)===I0?(this.consumeCodePoint(),{type:22,value:ts.apply(void 0,e)}):(this.consumeBadUrlRemnants(),wp);if(s===gp||s===mp||s===pp||PV(s))return this.consumeBadUrlRemnants(),wp;if(s===ng)if(tu(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),wp;else e.push(s)}},r.prototype.consumeWhiteSpace=function(){for(;bp(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===I0||e===qA)return;tu(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var s=Math.min(t,e);n+=ts.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var s=this._value[n];if(s===qA||s===void 0||s===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(s===D1)return this._value.splice(0,n),eK;if(s===ng){var o=this._value[n+1];o!==qA&&o!==void 0&&(o===D1?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):tu(s,o)&&(t+=this.consumeStringSlice(n),t+=ts(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=im,n=this.peekCodePoint(0);for((n===hd||n===Ni)&&e.push(this.consumeCodePoint());La(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Fg&&La(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=CC;La(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((n===Yj||n===Xj)&&((s===hd||s===Ni)&&La(o)||La(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=CC;La(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[HV(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],s=this.peekCodePoint(0),o=this.peekCodePoint(1),l=this.peekCodePoint(2);if(yp(s,o,l)){var u=this.consumeName();return{type:15,number:t,flags:n,unit:u}}return s===lV?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Eh(e)){for(var t=ts(e);Eh(this.peekCodePoint(0))&&t.length<6;)t+=ts(this.consumeCodePoint());bp(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||kV(n)||n>1114111?SC:n}return e===qA?SC:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(IC(t))e+=ts(t);else if(tu(t,this.peekCodePoint(0)))e+=ts(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r})(),Zj=(function(){function r(e){this._tokens=e}return r.create=function(e){var t=new Jj;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||lK(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?hw:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r})(),om=function(r){return r.type===15},Mf=function(r){return r.type===17},ln=function(r){return r.type===20},AK=function(r){return r.type===0},fw=function(r,e){return ln(r)&&r.value===e},e6=function(r){return r.type!==31},Cf=function(r){return r.type!==31&&r.type!==4},hl=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},lK=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},Iu=function(r){return r.type===17||r.type===15},ys=function(r){return r.type===16||Iu(r)},t6=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},fa={type:17,number:0,flags:im},c5={type:16,number:50,flags:im},lu={type:16,number:100,flags:im},V0=function(r,e,t){var n=r[0],s=r[1];return[xn(n,e),xn(typeof s<"u"?s:n,t)]},xn=function(r,e){if(r.type===16)return r.number/100*e;if(om(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},r6="deg",n6="grad",s6="rad",a6="turn",Ux={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case r6:return Math.PI*e.number/180;case n6:return Math.PI/200*e.number;case s6:return e.number;case a6:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},i6=function(r){return r.type===15&&(r.unit===r6||r.unit===n6||r.unit===s6||r.unit===a6)},o6=function(r){var e=r.filter(ln).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[fa,fa];case"to top":case"bottom":return Eo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[fa,lu];case"to right":case"left":return Eo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[lu,lu];case"to bottom":case"top":return Eo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[lu,fa];case"to left":case"right":return Eo(270)}return 0},Eo=function(r){return Math.PI*r/180},vu={name:"color",parse:function(r,e){if(e.type===18){var t=cK[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),o=e.value.substring(2,3);return cu(parseInt(n+n,16),parseInt(s+s,16),parseInt(o+o,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),o=e.value.substring(2,3),l=e.value.substring(3,4);return cu(parseInt(n+n,16),parseInt(s+s,16),parseInt(o+o,16),parseInt(l+l,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),o=e.value.substring(4,6);return cu(parseInt(n,16),parseInt(s,16),parseInt(o,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),o=e.value.substring(4,6),l=e.value.substring(6,8);return cu(parseInt(n,16),parseInt(s,16),parseInt(o,16),parseInt(l,16)/255)}}if(e.type===20){var u=Jl[e.value.toUpperCase()];if(typeof u<"u")return u}return Jl.TRANSPARENT}},Bu=function(r){return(255&r)===0},Gs=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,s=255&r>>24;return e<255?"rgba("+s+","+n+","+t+","+e/255+")":"rgb("+s+","+n+","+t+")"},cu=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},jC=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},TC=function(r,e){var t=e.filter(Cf);if(t.length===3){var n=t.map(jC),s=n[0],o=n[1],l=n[2];return cu(s,o,l,1)}if(t.length===4){var u=t.map(jC),s=u[0],o=u[1],l=u[2],h=u[3];return cu(s,o,l,h)}return 0};function H2(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var UC=function(r,e){var t=e.filter(Cf),n=t[0],s=t[1],o=t[2],l=t[3],u=(n.type===17?Eo(n.number):Ux.parse(r,n))/(Math.PI*2),h=ys(s)?s.number/100:0,g=ys(o)?o.number/100:0,x=typeof l<"u"&&ys(l)?xn(l,1):1;if(h===0)return cu(g*255,g*255,g*255,1);var p=g<=.5?g*(h+1):g+h-g*h,v=g*2-p,N=H2(v,p,u+1/3),T=H2(v,p,u),I=H2(v,p,u-1/3);return cu(N*255,T*255,I*255,x)},cK={hsl:UC,hsla:UC,rgb:TC,rgba:TC},sg=function(r,e){return vu.parse(r,Zj.create(e).parseComponentValue())},Jl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},uK={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(ln(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},dK={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Fx=function(r,e){var t=vu.parse(r,e[0]),n=e[1];return n&&ys(n)?{color:t,stop:n}:{color:t,stop:null}},FC=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=fa),n.stop===null&&(n.stop=lu);for(var s=[],o=0,l=0;l<r.length;l++){var u=r[l].stop;if(u!==null){var h=xn(u,e);h>o?s.push(h):s.push(o),o=h}else s.push(null)}for(var g=null,l=0;l<s.length;l++){var x=s[l];if(x===null)g===null&&(g=l);else if(g!==null){for(var p=l-g,v=s[g-1],N=(x-v)/(p+1),T=1;T<=p;T++)s[g+T-1]=N*T;g=null}}return r.map(function(I,O){var R=I.color;return{color:R,stop:Math.max(Math.min(1,s[O]/e),0)}})},hK=function(r,e,t){var n=e/2,s=t/2,o=xn(r[0],e)-n,l=s-xn(r[1],t);return(Math.atan2(l,o)+Math.PI*2)%(Math.PI*2)},fK=function(r,e,t){var n=typeof r=="number"?r:hK(r,e,t),s=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),o=e/2,l=t/2,u=s/2,h=Math.sin(n-Math.PI/2)*u,g=Math.cos(n-Math.PI/2)*u;return[s,o-g,o+g,l-h,l+h]},tA=function(r,e){return Math.sqrt(r*r+e*e)},QC=function(r,e,t,n,s){var o=[[0,0],[0,e],[r,0],[r,e]];return o.reduce(function(l,u){var h=u[0],g=u[1],x=tA(t-h,n-g);return(s?x<l.optimumDistance:x>l.optimumDistance)?{optimumCorner:u,optimumDistance:x}:l},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},gK=function(r,e,t,n,s){var o=0,l=0;switch(r.size){case 0:r.shape===0?o=l=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-s)):r.shape===1&&(o=Math.min(Math.abs(e),Math.abs(e-n)),l=Math.min(Math.abs(t),Math.abs(t-s)));break;case 2:if(r.shape===0)o=l=Math.min(tA(e,t),tA(e,t-s),tA(e-n,t),tA(e-n,t-s));else if(r.shape===1){var u=Math.min(Math.abs(t),Math.abs(t-s))/Math.min(Math.abs(e),Math.abs(e-n)),h=QC(n,s,e,t,!0),g=h[0],x=h[1];o=tA(g-e,(x-t)/u),l=u*o}break;case 1:r.shape===0?o=l=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-s)):r.shape===1&&(o=Math.max(Math.abs(e),Math.abs(e-n)),l=Math.max(Math.abs(t),Math.abs(t-s)));break;case 3:if(r.shape===0)o=l=Math.max(tA(e,t),tA(e,t-s),tA(e-n,t),tA(e-n,t-s));else if(r.shape===1){var u=Math.max(Math.abs(t),Math.abs(t-s))/Math.max(Math.abs(e),Math.abs(e-n)),p=QC(n,s,e,t,!1),g=p[0],x=p[1];o=tA(g-e,(x-t)/u),l=u*o}break}return Array.isArray(r.size)&&(o=xn(r.size[0],n),l=r.size.length===2?xn(r.size[1],s):o),[o,l]},mK=function(r,e){var t=Eo(180),n=[];return hl(e).forEach(function(s,o){if(o===0){var l=s[0];if(l.type===20&&l.value==="to"){t=o6(s);return}else if(i6(l)){t=Ux.parse(r,l);return}}var u=Fx(r,s);n.push(u)}),{angle:t,stops:n,type:1}},vp=function(r,e){var t=Eo(180),n=[];return hl(e).forEach(function(s,o){if(o===0){var l=s[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){t=o6(s);return}else if(i6(l)){t=(Ux.parse(r,l)+Eo(270))%Eo(360);return}}var u=Fx(r,s);n.push(u)}),{angle:t,stops:n,type:1}},pK=function(r,e){var t=Eo(180),n=[],s=1,o=0,l=3,u=[];return hl(e).forEach(function(h,g){var x=h[0];if(g===0){if(ln(x)&&x.value==="linear"){s=1;return}else if(ln(x)&&x.value==="radial"){s=2;return}}if(x.type===18){if(x.name==="from"){var p=vu.parse(r,x.values[0]);n.push({stop:fa,color:p})}else if(x.name==="to"){var p=vu.parse(r,x.values[0]);n.push({stop:lu,color:p})}else if(x.name==="color-stop"){var v=x.values.filter(Cf);if(v.length===2){var p=vu.parse(r,v[1]),N=v[0];Mf(N)&&n.push({stop:{type:16,number:N.number*100,flags:N.flags},color:p})}}}}),s===1?{angle:(t+Eo(180))%Eo(360),stops:n,type:s}:{size:l,shape:o,stops:n,position:u,type:s}},A6="closest-side",l6="farthest-side",c6="closest-corner",u6="farthest-corner",d6="circle",h6="ellipse",f6="cover",g6="contain",xK=function(r,e){var t=0,n=3,s=[],o=[];return hl(e).forEach(function(l,u){var h=!0;if(u===0){var g=!1;h=l.reduce(function(p,v){if(g)if(ln(v))switch(v.value){case"center":return o.push(c5),p;case"top":case"left":return o.push(fa),p;case"right":case"bottom":return o.push(lu),p}else(ys(v)||Iu(v))&&o.push(v);else if(ln(v))switch(v.value){case d6:return t=0,!1;case h6:return t=1,!1;case"at":return g=!0,!1;case A6:return n=0,!1;case f6:case l6:return n=1,!1;case g6:case c6:return n=2,!1;case u6:return n=3,!1}else if(Iu(v)||ys(v))return Array.isArray(n)||(n=[]),n.push(v),!1;return p},h)}if(h){var x=Fx(r,l);s.push(x)}}),{size:n,shape:t,stops:s,position:o,type:2}},Bp=function(r,e){var t=0,n=3,s=[],o=[];return hl(e).forEach(function(l,u){var h=!0;if(u===0?h=l.reduce(function(x,p){if(ln(p))switch(p.value){case"center":return o.push(c5),!1;case"top":case"left":return o.push(fa),!1;case"right":case"bottom":return o.push(lu),!1}else if(ys(p)||Iu(p))return o.push(p),!1;return x},h):u===1&&(h=l.reduce(function(x,p){if(ln(p))switch(p.value){case d6:return t=0,!1;case h6:return t=1,!1;case g6:case A6:return n=0,!1;case l6:return n=1,!1;case c6:return n=2,!1;case f6:case u6:return n=3,!1}else if(Iu(p)||ys(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return x},h)),h){var g=Fx(r,l);s.push(g)}}),{size:n,shape:t,stops:s,position:o,type:2}},bK=function(r){return r.type===1},yK=function(r){return r.type===2},u5={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=m6[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function wK(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!m6[r.name])}var m6={"linear-gradient":mK,"-moz-linear-gradient":vp,"-ms-linear-gradient":vp,"-o-linear-gradient":vp,"-webkit-linear-gradient":vp,"radial-gradient":xK,"-moz-radial-gradient":Bp,"-ms-radial-gradient":Bp,"-o-radial-gradient":Bp,"-webkit-radial-gradient":Bp,"-webkit-gradient":pK},vK={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return Cf(n)&&wK(n)}).map(function(n){return u5.parse(r,n)})}},BK={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(ln(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},NK={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return hl(e).map(function(t){return t.filter(ys)}).map(t6)}},CK={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return hl(e).map(function(t){return t.filter(ln).map(function(n){return n.value}).join(" ")}).map(_K)}},_K=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Yh;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Yh||(Yh={}));var EK={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return hl(e).map(function(t){return t.filter(SK)})}},SK=function(r){return ln(r)||ys(r)},Qx=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},IK=Qx("top"),jK=Qx("right"),TK=Qx("bottom"),UK=Qx("left"),Lx=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return t6(t.filter(ys))}}},FK=Lx("top-left"),QK=Lx("top-right"),LK=Lx("bottom-right"),kK=Lx("bottom-left"),kx=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},RK=kx("top"),DK=kx("right"),MK=kx("bottom"),OK=kx("left"),Rx=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return om(t)?t.number:0}}},PK=Rx("top"),HK=Rx("right"),VK=Rx("bottom"),KK=Rx("left"),zK={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qK={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},GK={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(ln).reduce(function(t,n){return t|XK(n.value)},0)}},XK=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},$K={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},YK={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},O1;(function(r){r.NORMAL="normal",r.STRICT="strict"})(O1||(O1={}));var WK={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return O1.STRICT;case"normal":default:return O1.NORMAL}}},JK={name:"line-height",initialValue:"normal",prefix:!1,type:4},LC=function(r,e){return ln(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:ys(r)?xn(r,e):e},ZK={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:u5.parse(r,e)}},ez={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},gw={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Dx=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},tz=Dx("top"),rz=Dx("right"),nz=Dx("bottom"),sz=Dx("left"),az={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(ln).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},iz={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Mx=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},oz=Mx("top"),Az=Mx("right"),lz=Mx("bottom"),cz=Mx("left"),uz={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},dz={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},hz={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&fw(e[0],"none")?[]:hl(e).map(function(t){for(var n={color:Jl.TRANSPARENT,offsetX:fa,offsetY:fa,blur:fa},s=0,o=0;o<t.length;o++){var l=t[o];Iu(l)?(s===0?n.offsetX=l:s===1?n.offsetY=l:n.blur=l,s++):n.color=vu.parse(r,l)}return n})}},fz={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},gz={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=xz[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},mz=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},pz=function(r){var e=r.filter(function(h){return h.type===17}).map(function(h){return h.number}),t=e[0],n=e[1];e[2],e[3];var s=e[4],o=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var l=e[12],u=e[13];return e[14],e[15],e.length===16?[t,n,s,o,l,u]:null},xz={matrix:mz,matrix3d:pz},kC={type:16,number:50,flags:im},bz=[kC,kC],yz={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(ys);return t.length!==2?bz:[t[0],t[1]]}},wz={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ag;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(ag||(ag={}));var vz={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return ag.BREAK_ALL;case"keep-all":return ag.KEEP_ALL;case"normal":default:return ag.NORMAL}}},Bz={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(Mf(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},p6={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Nz={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return Mf(e)?e.number:1}},Cz={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_z={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(ln).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},Ez={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:t.push(s.value);break;case 17:t.push(s.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},Sz={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Iz={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(Mf(e))return e.number;if(ln(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},jz={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(ln).map(function(t){return t.value})}},Tz={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Fs=function(r,e){return(r&e)!==0},Uz={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Fz={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],s=e.filter(e6),o=0;o<s.length;o++){var l=s[o],u=s[o+1];if(l.type===20){var h=u&&Mf(u)?u.number:1;n.push({counter:l.value,increment:h})}}return n}},Qz={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(e6),s=0;s<n.length;s++){var o=n[s],l=n[s+1];if(ln(o)&&o.value!=="none"){var u=l&&Mf(l)?l.number:0;t.push({counter:o.value,reset:u})}}return t}},Lz={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(om).map(function(t){return p6.parse(r,t)})}},kz={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],s=e.filter(AK);if(s.length%2!==0)return null;for(var o=0;o<s.length;o+=2){var l=s[o].value,u=s[o+1].value;n.push({open:l,close:u})}return n}},RC=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},Rz={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&fw(e[0],"none")?[]:hl(e).map(function(t){for(var n={color:255,offsetX:fa,offsetY:fa,blur:fa,spread:fa,inset:!1},s=0,o=0;o<t.length;o++){var l=t[o];fw(l,"inset")?n.inset=!0:Iu(l)?(s===0?n.offsetX=l:s===1?n.offsetY=l:s===2?n.blur=l:n.spread=l,s++):n.color=vu.parse(r,l)}return n})}},Dz={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(ln).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},Mz={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Oz={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return om(e)?e.number:0}},Pz=(function(){function r(e,t){var n,s;this.animationDuration=Nt(e,Lz,t.animationDuration),this.backgroundClip=Nt(e,uK,t.backgroundClip),this.backgroundColor=Nt(e,dK,t.backgroundColor),this.backgroundImage=Nt(e,vK,t.backgroundImage),this.backgroundOrigin=Nt(e,BK,t.backgroundOrigin),this.backgroundPosition=Nt(e,NK,t.backgroundPosition),this.backgroundRepeat=Nt(e,CK,t.backgroundRepeat),this.backgroundSize=Nt(e,EK,t.backgroundSize),this.borderTopColor=Nt(e,IK,t.borderTopColor),this.borderRightColor=Nt(e,jK,t.borderRightColor),this.borderBottomColor=Nt(e,TK,t.borderBottomColor),this.borderLeftColor=Nt(e,UK,t.borderLeftColor),this.borderTopLeftRadius=Nt(e,FK,t.borderTopLeftRadius),this.borderTopRightRadius=Nt(e,QK,t.borderTopRightRadius),this.borderBottomRightRadius=Nt(e,LK,t.borderBottomRightRadius),this.borderBottomLeftRadius=Nt(e,kK,t.borderBottomLeftRadius),this.borderTopStyle=Nt(e,RK,t.borderTopStyle),this.borderRightStyle=Nt(e,DK,t.borderRightStyle),this.borderBottomStyle=Nt(e,MK,t.borderBottomStyle),this.borderLeftStyle=Nt(e,OK,t.borderLeftStyle),this.borderTopWidth=Nt(e,PK,t.borderTopWidth),this.borderRightWidth=Nt(e,HK,t.borderRightWidth),this.borderBottomWidth=Nt(e,VK,t.borderBottomWidth),this.borderLeftWidth=Nt(e,KK,t.borderLeftWidth),this.boxShadow=Nt(e,Rz,t.boxShadow),this.color=Nt(e,zK,t.color),this.direction=Nt(e,qK,t.direction),this.display=Nt(e,GK,t.display),this.float=Nt(e,$K,t.cssFloat),this.fontFamily=Nt(e,Ez,t.fontFamily),this.fontSize=Nt(e,Sz,t.fontSize),this.fontStyle=Nt(e,Tz,t.fontStyle),this.fontVariant=Nt(e,jz,t.fontVariant),this.fontWeight=Nt(e,Iz,t.fontWeight),this.letterSpacing=Nt(e,YK,t.letterSpacing),this.lineBreak=Nt(e,WK,t.lineBreak),this.lineHeight=Nt(e,JK,t.lineHeight),this.listStyleImage=Nt(e,ZK,t.listStyleImage),this.listStylePosition=Nt(e,ez,t.listStylePosition),this.listStyleType=Nt(e,gw,t.listStyleType),this.marginTop=Nt(e,tz,t.marginTop),this.marginRight=Nt(e,rz,t.marginRight),this.marginBottom=Nt(e,nz,t.marginBottom),this.marginLeft=Nt(e,sz,t.marginLeft),this.opacity=Nt(e,Nz,t.opacity);var o=Nt(e,az,t.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=Nt(e,iz,t.overflowWrap),this.paddingTop=Nt(e,oz,t.paddingTop),this.paddingRight=Nt(e,Az,t.paddingRight),this.paddingBottom=Nt(e,lz,t.paddingBottom),this.paddingLeft=Nt(e,cz,t.paddingLeft),this.paintOrder=Nt(e,Dz,t.paintOrder),this.position=Nt(e,dz,t.position),this.textAlign=Nt(e,uz,t.textAlign),this.textDecorationColor=Nt(e,Cz,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=Nt(e,_z,(s=t.textDecorationLine)!==null&&s!==void 0?s:t.textDecoration),this.textShadow=Nt(e,hz,t.textShadow),this.textTransform=Nt(e,fz,t.textTransform),this.transform=Nt(e,gz,t.transform),this.transformOrigin=Nt(e,yz,t.transformOrigin),this.visibility=Nt(e,wz,t.visibility),this.webkitTextStrokeColor=Nt(e,Mz,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Nt(e,Oz,t.webkitTextStrokeWidth),this.wordBreak=Nt(e,vz,t.wordBreak),this.zIndex=Nt(e,Bz,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return Bu(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return Fs(this.display,4)||Fs(this.display,33554432)||Fs(this.display,268435456)||Fs(this.display,536870912)||Fs(this.display,67108864)||Fs(this.display,134217728)},r})(),Hz=(function(){function r(e,t){this.content=Nt(e,Uz,t.content),this.quotes=Nt(e,kz,t.quotes)}return r})(),DC=(function(){function r(e,t){this.counterIncrement=Nt(e,Fz,t.counterIncrement),this.counterReset=Nt(e,Qz,t.counterReset)}return r})(),Nt=function(r,e,t){var n=new Jj,s=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(s);var o=new Zj(n.read());switch(e.type){case 2:var l=o.parseComponentValue();return e.parse(r,ln(l)?l.value:e.initialValue);case 0:return e.parse(r,o.parseComponentValue());case 1:return e.parse(r,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(e.format){case"angle":return Ux.parse(r,o.parseComponentValue());case"color":return vu.parse(r,o.parseComponentValue());case"image":return u5.parse(r,o.parseComponentValue());case"length":var u=o.parseComponentValue();return Iu(u)?u:fa;case"length-percentage":var h=o.parseComponentValue();return ys(h)?h:fa;case"time":return p6.parse(r,o.parseComponentValue())}break}},Vz="data-html2canvas-debug",Kz=function(r){var e=r.getAttribute(Vz);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},mw=function(r,e){var t=Kz(r);return t===1||e===t},fl=(function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,mw(t,3))debugger;this.styles=new Pz(e,window.getComputedStyle(t,null)),bw(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=jx(this.context,t),mw(t,4)&&(this.flags|=16)}return r})(),zz="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",MC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Np=0;Np<MC.length;Np++)K0[MC.charCodeAt(Np)]=Np;var qz=function(r){var e=r.length*.75,t=r.length,n,s=0,o,l,u,h;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var g=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),x=Array.isArray(g)?g:new Uint8Array(g);for(n=0;n<t;n+=4)o=K0[r.charCodeAt(n)],l=K0[r.charCodeAt(n+1)],u=K0[r.charCodeAt(n+2)],h=K0[r.charCodeAt(n+3)],x[s++]=o<<2|l>>4,x[s++]=(l&15)<<4|u>>2,x[s++]=(u&3)<<6|h&63;return g},Gz=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},Xz=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},yd=5,d5=11,V2=2,$z=d5-yd,x6=65536>>yd,Yz=1<<yd,K2=Yz-1,Wz=1024>>yd,Jz=x6+Wz,Zz=Jz,eq=32,tq=Zz+eq,rq=65536>>d5,nq=1<<$z,sq=nq-1,OC=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},aq=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},iq=function(r,e){var t=qz(r),n=Array.isArray(t)?Xz(t):new Uint32Array(t),s=Array.isArray(t)?Gz(t):new Uint16Array(t),o=24,l=OC(s,o/2,n[4]/2),u=n[5]===2?OC(s,(o+n[4])/2):aq(n,Math.ceil((o+n[4])/4));return new oq(n[0],n[1],n[2],n[3],l,u)},oq=(function(){function r(e,t,n,s,o,l){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=s,this.index=o,this.data=l}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>yd],t=(t<<V2)+(e&K2),this.data[t];if(e<=65535)return t=this.index[x6+(e-55296>>yd)],t=(t<<V2)+(e&K2),this.data[t];if(e<this.highStart)return t=tq-rq+(e>>d5),t=this.index[t],t+=e>>yd&sq,t=this.index[t],t=(t<<V2)+(e&K2),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),PC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Aq=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Cp=0;Cp<PC.length;Cp++)Aq[PC.charCodeAt(Cp)]=Cp;var lq=1,z2=2,q2=3,HC=4,VC=5,cq=7,KC=8,G2=9,X2=10,zC=11,qC=12,GC=13,XC=14,$2=15,uq=function(r){for(var e=[],t=0,n=r.length;t<n;){var s=r.charCodeAt(t++);if(s>=55296&&s<=56319&&t<n){var o=r.charCodeAt(t++);(o&64512)===56320?e.push(((s&1023)<<10)+(o&1023)+65536):(e.push(s),t--)}else e.push(s)}return e},dq=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],s=-1,o="";++s<t;){var l=r[s];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(s+1===t||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},hq=iq(zz),wo="",Y2="",fq=function(r){return hq.get(r)},gq=function(r,e,t){var n=t-2,s=e[n],o=e[t-1],l=e[t];if(o===z2&&l===q2)return wo;if(o===z2||o===q2||o===HC||l===z2||l===q2||l===HC)return Y2;if(o===KC&&[KC,G2,zC,qC].indexOf(l)!==-1||(o===zC||o===G2)&&(l===G2||l===X2)||(o===qC||o===X2)&&l===X2||l===GC||l===VC||l===cq||o===lq)return wo;if(o===GC&&l===XC){for(;s===VC;)s=e[--n];if(s===XC)return wo}if(o===$2&&l===$2){for(var u=0;s===$2;)u++,s=e[--n];if(u%2===0)return wo}return Y2},mq=function(r){var e=uq(r),t=e.length,n=0,s=0,o=e.map(fq);return{next:function(){if(n>=t)return{done:!0,value:null};for(var l=wo;n<t&&(l=gq(e,o,++n))===wo;);if(l!==wo||n===t){var u=dq.apply(null,e.slice(s,n));return s=n,{value:u,done:!1}}return{done:!0,value:null}}}},pq=function(r){for(var e=mq(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},xq=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var s=t.getBoundingClientRect(),o=Math.round(s.height);if(r.body.removeChild(n),o===e)return!0}}return!1},bq=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=Tx(n.data).map(function(h){return ts(h)}),o=0,l={},u=s.every(function(h,g){t.setStart(n,o),t.setEnd(n,o+h.length);var x=t.getBoundingClientRect();o+=h.length;var p=x.x>l.x||x.y>l.y;return l=x,g===0?!0:p});return r.body.removeChild(e),u},yq=function(){return typeof new Image().crossOrigin<"u"},wq=function(){return typeof new XMLHttpRequest().responseType=="string"},vq=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},$C=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},Bq=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var s=new Image,o=e.toDataURL();s.src=o;var l=pw(t,t,0,0,s);return n.fillStyle="red",n.fillRect(0,0,t,t),YC(l).then(function(u){n.drawImage(u,0,0);var h=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var g=r.createElement("div");return g.style.backgroundImage="url("+o+")",g.style.height=t+"px",$C(h)?YC(pw(t,t,0,0,g)):Promise.reject(!1)}).then(function(u){return n.drawImage(u,0,0),$C(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},pw=function(r,e,t,n,s){var o="http://www.w3.org/2000/svg",l=document.createElementNS(o,"svg"),u=document.createElementNS(o,"foreignObject");return l.setAttributeNS(null,"width",r.toString()),l.setAttributeNS(null,"height",e.toString()),u.setAttributeNS(null,"width","100%"),u.setAttributeNS(null,"height","100%"),u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",n.toString()),u.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(u),u.appendChild(s),l},YC=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},da={get SUPPORT_RANGE_BOUNDS(){var r=xq(document);return Object.defineProperty(da,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=da.SUPPORT_RANGE_BOUNDS&&bq(document);return Object.defineProperty(da,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=vq(document);return Object.defineProperty(da,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?Bq(document):Promise.resolve(!1);return Object.defineProperty(da,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=yq();return Object.defineProperty(da,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=wq();return Object.defineProperty(da,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(da,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(da,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},ig=(function(){function r(e,t){this.text=e,this.bounds=t}return r})(),Nq=function(r,e,t,n){var s=Eq(e,t),o=[],l=0;return s.forEach(function(u){if(t.textDecorationLine.length||u.trim().length>0)if(da.SUPPORT_RANGE_BOUNDS){var h=WC(n,l,u.length).getClientRects();if(h.length>1){var g=h5(u),x=0;g.forEach(function(v){o.push(new ig(v,ic.fromDOMRectList(r,WC(n,x+l,v.length).getClientRects()))),x+=v.length})}else o.push(new ig(u,ic.fromDOMRectList(r,h)))}else{var p=n.splitText(u.length);o.push(new ig(u,Cq(r,n))),n=p}else da.SUPPORT_RANGE_BOUNDS||(n=n.splitText(u.length));l+=u.length}),o},Cq=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var o=jx(r,n);return n.firstChild&&s.replaceChild(n.firstChild,n),o}}return ic.EMPTY},WC=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(r,e),s.setEnd(r,e+t),s},h5=function(r){if(da.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return pq(r)},_q=function(r,e){if(da.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return Iq(r,e)},Eq=function(r,e){return e.letterSpacing!==0?h5(r):_q(r,e)},Sq=[32,160,4961,65792,65793,4153,4241],Iq=function(r,e){for(var t=rV(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,o=function(){if(s.value){var l=s.value.slice(),u=Tx(l),h="";u.forEach(function(g){Sq.indexOf(g)===-1?h+=ts(g):(h.length&&n.push(h),n.push(ts(g)),h="")}),h.length&&n.push(h)}};!(s=t.next()).done;)o();return n},jq=(function(){function r(e,t,n){this.text=Tq(t.data,n.textTransform),this.textBounds=Nq(e,this.text,n,t)}return r})(),Tq=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(Uq,Fq);case 2:return r.toUpperCase();default:return r}},Uq=/(^|\s|:|-|\(|\))([a-z])/g,Fq=function(r,e,t){return r.length>0?e+t.toUpperCase():r},b6=(function(r){dA(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e})(fl),y6=(function(r){dA(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e})(fl),w6=(function(r){dA(e,r);function e(t,n){var s=r.call(this,t,n)||this,o=new XMLSerializer,l=jx(t,n);return n.setAttribute("width",l.width+"px"),n.setAttribute("height",l.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e})(fl),v6=(function(r){dA(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.value=n.value,s}return e})(fl),xw=(function(r){dA(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e})(fl),Qq=[{type:15,flags:0,unit:"px",number:3}],Lq=[{type:16,flags:0,number:50}],kq=function(r){return r.width>r.height?new ic(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new ic(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},Rq=function(r){var e=r.type===Dq?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},P1="checkbox",H1="radio",Dq="password",JC=707406591,f5=(function(r){dA(e,r);function e(t,n){var s=r.call(this,t,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=Rq(n),(s.type===P1||s.type===H1)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=kq(s.bounds)),s.type){case P1:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Qq;break;case H1:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Lq;break}return s}return e})(fl),B6=(function(r){dA(e,r);function e(t,n){var s=r.call(this,t,n)||this,o=n.options[n.selectedIndex||0];return s.value=o&&o.text||"",s}return e})(fl),N6=(function(r){dA(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.value=n.value,s}return e})(fl),C6=(function(r){dA(e,r);function e(t,n){var s=r.call(this,t,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=E6(t,n.contentWindow.document.documentElement);var o=n.contentWindow.document.documentElement?sg(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Jl.TRANSPARENT,l=n.contentWindow.document.body?sg(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):Jl.TRANSPARENT;s.backgroundColor=Bu(o)?Bu(l)?s.styles.backgroundColor:l:o}}catch{}return s}return e})(fl),Mq=["OL","UL","MENU"],Zp=function(r,e,t,n){for(var s=e.firstChild,o=void 0;s;s=o)if(o=s.nextSibling,S6(s)&&s.data.trim().length>0)t.textNodes.push(new jq(r,s,t.styles));else if(Vh(s))if(U6(s)&&s.assignedNodes)s.assignedNodes().forEach(function(u){return Zp(r,u,t,n)});else{var l=_6(r,s);l.styles.isVisible()&&(Oq(s,l,n)?l.flags|=4:Pq(l.styles)&&(l.flags|=2),Mq.indexOf(s.tagName)!==-1&&(l.flags|=8),t.elements.push(l),s.slot,s.shadowRoot?Zp(r,s.shadowRoot,l,n):!V1(s)&&!I6(s)&&!K1(s)&&Zp(r,s,l,n))}},_6=function(r,e){return yw(e)?new b6(r,e):j6(e)?new y6(r,e):I6(e)?new w6(r,e):Hq(e)?new v6(r,e):Vq(e)?new xw(r,e):Kq(e)?new f5(r,e):K1(e)?new B6(r,e):V1(e)?new N6(r,e):T6(e)?new C6(r,e):new fl(r,e)},E6=function(r,e){var t=_6(r,e);return t.flags|=4,Zp(r,e,t,t),t},Oq=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||g5(r)&&t.styles.isTransparent()},Pq=function(r){return r.isPositioned()||r.isFloating()},S6=function(r){return r.nodeType===Node.TEXT_NODE},Vh=function(r){return r.nodeType===Node.ELEMENT_NODE},bw=function(r){return Vh(r)&&typeof r.style<"u"&&!e1(r)},e1=function(r){return typeof r.className=="object"},Hq=function(r){return r.tagName==="LI"},Vq=function(r){return r.tagName==="OL"},Kq=function(r){return r.tagName==="INPUT"},zq=function(r){return r.tagName==="HTML"},I6=function(r){return r.tagName==="svg"},g5=function(r){return r.tagName==="BODY"},j6=function(r){return r.tagName==="CANVAS"},ZC=function(r){return r.tagName==="VIDEO"},yw=function(r){return r.tagName==="IMG"},T6=function(r){return r.tagName==="IFRAME"},e_=function(r){return r.tagName==="STYLE"},qq=function(r){return r.tagName==="SCRIPT"},V1=function(r){return r.tagName==="TEXTAREA"},K1=function(r){return r.tagName==="SELECT"},U6=function(r){return r.tagName==="SLOT"},t_=function(r){return r.tagName.indexOf("-")>0},Gq=(function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,s=e.counterReset,o=!0;n!==null&&n.forEach(function(u){var h=t.counters[u.counter];h&&u.increment!==0&&(o=!1,h.length||h.push(1),h[Math.max(0,h.length-1)]+=u.increment)});var l=[];return o&&s.forEach(function(u){var h=t.counters[u.counter];l.push(u.counter),h||(h=t.counters[u.counter]=[]),h.push(u.reset)}),l},r})(),r_={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},n_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Xq={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$q={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Sh=function(r,e,t,n,s,o){return r<e||r>t?Qg(r,s,o.length>0):n.integers.reduce(function(l,u,h){for(;r>=u;)r-=u,l+=n.values[h];return l},"")+o},F6=function(r,e,t,n){var s="";do t||r--,s=n(r)+s,r/=e;while(r*e>=e);return s},es=function(r,e,t,n,s){var o=t-e+1;return(r<0?"-":"")+(F6(Math.abs(r),o,n,function(l){return ts(Math.floor(l%o)+e)})+s)},Zu=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return F6(Math.abs(r),n,!1,function(s){return e[Math.floor(s%n)]})+t},Dh=1,Zc=2,eu=4,z0=8,ql=function(r,e,t,n,s,o){if(r<-9999||r>9999)return Qg(r,4,s.length>0);var l=Math.abs(r),u=s;if(l===0)return e[0]+u;for(var h=0;l>0&&h<=4;h++){var g=l%10;g===0&&Fs(o,Dh)&&u!==""?u=e[g]+u:g>1||g===1&&h===0||g===1&&h===1&&Fs(o,Zc)||g===1&&h===1&&Fs(o,eu)&&r>100||g===1&&h>1&&Fs(o,z0)?u=e[g]+(h>0?t[h-1]:"")+u:g===1&&h>0&&(u=t[h-1]+u),l=Math.floor(l/10)}return(r<0?n:"")+u},s_="",a_="",i_="",W2="",Qg=function(r,e,t){var n=t?". ":"",s=t?"":"",o=t?", ":"",l=t?" ":"";switch(e){case 0:return""+l;case 1:return""+l;case 2:return""+l;case 5:var u=es(r,48,57,!0,n);return u.length<4?"0"+u:u;case 4:return Zu(r,"",s);case 6:return Sh(r,1,3999,r_,3,n).toLowerCase();case 7:return Sh(r,1,3999,r_,3,n);case 8:return es(r,945,969,!1,n);case 9:return es(r,97,122,!1,n);case 10:return es(r,65,90,!1,n);case 11:return es(r,1632,1641,!0,n);case 12:case 49:return Sh(r,1,9999,n_,3,n);case 35:return Sh(r,1,9999,n_,3,n).toLowerCase();case 13:return es(r,2534,2543,!0,n);case 14:case 30:return es(r,6112,6121,!0,n);case 15:return Zu(r,"",s);case 16:return Zu(r,"",s);case 17:case 48:return ql(r,"",s_,"",s,Zc|eu|z0);case 47:return ql(r,"",a_,"",s,Dh|Zc|eu|z0);case 42:return ql(r,"",s_,"",s,Zc|eu|z0);case 41:return ql(r,"",a_,"",s,Dh|Zc|eu|z0);case 26:return ql(r,"","",i_,s,0);case 25:return ql(r,"","",i_,s,Dh|Zc|eu);case 31:return ql(r,"","",W2,o,Dh|Zc|eu);case 33:return ql(r,"","",W2,o,0);case 32:return ql(r,"","",W2,o,Dh|Zc|eu);case 18:return es(r,2406,2415,!0,n);case 20:return Sh(r,1,19999,$q,3,n);case 21:return es(r,2790,2799,!0,n);case 22:return es(r,2662,2671,!0,n);case 22:return Sh(r,1,10999,Xq,3,n);case 23:return Zu(r,"");case 24:return Zu(r,"");case 27:return es(r,3302,3311,!0,n);case 28:return Zu(r,"",s);case 29:return Zu(r,"",s);case 34:return es(r,3792,3801,!0,n);case 37:return es(r,6160,6169,!0,n);case 38:return es(r,4160,4169,!0,n);case 39:return es(r,2918,2927,!0,n);case 40:return es(r,1776,1785,!0,n);case 43:return es(r,3046,3055,!0,n);case 44:return es(r,3174,3183,!0,n);case 45:return es(r,3664,3673,!0,n);case 46:return es(r,3872,3881,!0,n);case 3:default:return es(r,48,57,!0,n)}},Q6="data-html2canvas-ignore",o_=(function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Gq,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,s=Yq(e,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,l=e.defaultView.pageYOffset,u=s.contentWindow,h=u.document,g=Zq(s).then(function(){return Za(n,void 0,void 0,function(){var x,p;return Ua(this,function(v){switch(v.label){case 0:return this.scrolledElements.forEach(nG),u&&(u.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(u.scrollY!==t.top||u.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(u.scrollX-t.left,u.scrollY-t.top,0,0))),x=this.options.onclone,p=this.clonedReferenceElement,typeof p>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:h.fonts&&h.fonts.ready?[4,h.fonts.ready]:[3,2];case 1:v.sent(),v.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Jq(h)]:[3,4];case 3:v.sent(),v.label=4;case 4:return typeof x=="function"?[2,Promise.resolve().then(function(){return x(h,p)}).then(function(){return s})]:[2,s]}})})});return h.open(),h.write(tG(document.doctype)+"<html></html>"),rG(this.referenceElement.ownerDocument,o,l),h.replaceChild(h.adoptNode(this.documentElement),h.documentElement),h.close(),g},r.prototype.createElementClone=function(e){if(mw(e,2))debugger;if(j6(e))return this.createCanvasClone(e);if(ZC(e))return this.createVideoClone(e);if(e_(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return yw(t)&&(yw(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),t_(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return J2(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(o,l){return l&&typeof l.cssText=="string"?o+l.cssText:o},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(o){if(this.context.logger.error("Unable to access cssRules property",o),o.name!=="SecurityError")throw o}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var o=e.getContext("2d"),l=s.getContext("2d");if(l)if(!this.options.allowTaint&&o)l.putImageData(o.getImageData(0,0,e.width,e.height),0,0);else{var u=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(u){var h=u.getContextAttributes();(h==null?void 0:h.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}l.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},r.prototype.appendChildNode=function(e,t,n){(!Vh(t)||!qq(t)&&!t.hasAttribute(Q6)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Vh(t)||!e_(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var s=this,o=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;o;o=o.nextSibling)if(Vh(o)&&U6(o)&&typeof o.assignedNodes=="function"){var l=o.assignedNodes();l.length&&l.forEach(function(u){return s.appendChildNode(t,u,n)})}else this.appendChildNode(t,o,n)},r.prototype.cloneNode=function(e,t){if(S6(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Vh(e)&&(bw(e)||e1(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var o=n.getComputedStyle(e),l=n.getComputedStyle(e,":before"),u=n.getComputedStyle(e,":after");this.referenceElement===e&&bw(s)&&(this.clonedReferenceElement=s),g5(s)&&iG(s);var h=this.counters.parse(new DC(this.context,o)),g=this.resolvePseudoContent(e,s,l,og.BEFORE);t_(e)&&(t=!0),ZC(e)||this.cloneChildNodes(e,s,t),g&&s.insertBefore(g,s.firstChild);var x=this.resolvePseudoContent(e,s,u,og.AFTER);return x&&s.appendChild(x),this.counters.pop(h),(o&&(this.options.copyStyles||e1(e))&&!T6(e)||t)&&J2(o,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(V1(e)||K1(e))&&(V1(s)||K1(s))&&(s.value=e.value),s}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,s){var o=this;if(n){var l=n.content,u=t.ownerDocument;if(!(!u||!l||l==="none"||l==="-moz-alt-content"||n.display==="none")){this.counters.parse(new DC(this.context,n));var h=new Hz(this.context,n),g=u.createElement("html2canvaspseudoelement");J2(n,g),h.content.forEach(function(p){if(p.type===0)g.appendChild(u.createTextNode(p.value));else if(p.type===22){var v=u.createElement("img");v.src=p.value,v.style.opacity="1",g.appendChild(v)}else if(p.type===18){if(p.name==="attr"){var N=p.values.filter(ln);N.length&&g.appendChild(u.createTextNode(e.getAttribute(N[0].value)||""))}else if(p.name==="counter"){var T=p.values.filter(Cf),I=T[0],O=T[1];if(I&&ln(I)){var R=o.counters.getCounterValue(I.value),P=O&&ln(O)?gw.parse(o.context,O.value):3;g.appendChild(u.createTextNode(Qg(R,P,!1)))}}else if(p.name==="counters"){var K=p.values.filter(Cf),I=K[0],se=K[1],O=K[2];if(I&&ln(I)){var ae=o.counters.getCounterValues(I.value),le=O&&ln(O)?gw.parse(o.context,O.value):3,U=se&&se.type===0?se.value:"",S=ae.map(function(E){return Qg(E,le,!1)}).join(U);g.appendChild(u.createTextNode(S))}}}else if(p.type===20)switch(p.value){case"open-quote":g.appendChild(u.createTextNode(RC(h.quotes,o.quoteDepth++,!0)));break;case"close-quote":g.appendChild(u.createTextNode(RC(h.quotes,--o.quoteDepth,!1)));break;default:g.appendChild(u.createTextNode(p.value))}}),g.className=ww+" "+vw;var x=s===og.BEFORE?" "+ww:" "+vw;return e1(t)?t.className.baseValue+=x:t.className+=x,g}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r})(),og;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(og||(og={}));var Yq=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(Q6,"true"),r.body.appendChild(t),t},Wq=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},Jq=function(r){return Promise.all([].slice.call(r.images,0).map(Wq))},Zq=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var s=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var o=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(o),e(r))},50)}})},eG=["all","d","content"],J2=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);eG.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},tG=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},rG=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},nG=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},sG=":before",aG=":after",ww="___html2canvas___pseudoelement_before",vw="___html2canvas___pseudoelement_after",A_=`{
    content: "" !important;
    display: none !important;
}`,iG=function(r){oG(r,"."+ww+sG+A_+`
         .`+vw+aG+A_)},oG=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},L6=(function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r})(),AG=(function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(ey(e)||dG(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return Za(this,void 0,void 0,function(){var t,n,s,o,l=this;return Ua(this,function(u){switch(u.label){case 0:return t=L6.isSameOrigin(e),n=!Z2(e)&&this._options.useCORS===!0&&da.SUPPORT_CORS_IMAGES&&!t,s=!Z2(e)&&!t&&!ey(e)&&typeof this._options.proxy=="string"&&da.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!Z2(e)&&!ey(e)&&!s&&!n?[2]:(o=e,s?[4,this.proxy(o)]:[3,2]);case 1:o=u.sent(),u.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(h,g){var x=new Image;x.onload=function(){return h(x)},x.onerror=g,(hG(o)||n)&&(x.crossOrigin="anonymous"),x.src=o,x.complete===!0&&setTimeout(function(){return h(x)},500),l._options.imageTimeout>0&&setTimeout(function(){return g("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,u.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(o,l){var u=da.SUPPORT_RESPONSE_TYPE?"blob":"text",h=new XMLHttpRequest;h.onload=function(){if(h.status===200)if(u==="text")o(h.response);else{var p=new FileReader;p.addEventListener("load",function(){return o(p.result)},!1),p.addEventListener("error",function(v){return l(v)},!1),p.readAsDataURL(h.response)}else l("Failed to proxy resource "+s+" with status code "+h.status)},h.onerror=l;var g=n.indexOf("?")>-1?"&":"?";if(h.open("GET",""+n+g+"url="+encodeURIComponent(e)+"&responseType="+u),u!=="text"&&h instanceof XMLHttpRequest&&(h.responseType=u),t._options.imageTimeout){var x=t._options.imageTimeout;h.timeout=x,h.ontimeout=function(){return l("Timed out ("+x+"ms) proxying "+s)}}h.send()})},r})(),lG=/^data:image\/svg\+xml/i,cG=/^data:image\/.*;base64,/i,uG=/^data:image\/.*/i,dG=function(r){return da.SUPPORT_SVG_DRAWING||!fG(r)},Z2=function(r){return uG.test(r)},hG=function(r){return cG.test(r)},ey=function(r){return r.substr(0,4)==="blob"},fG=function(r){return r.substr(-3).toLowerCase()==="svg"||lG.test(r)},wt=(function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r})(),Ih=function(r,e,t){return new wt(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},_p=(function(){function r(e,t,n,s){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=s}return r.prototype.subdivide=function(e,t){var n=Ih(this.start,this.startControl,e),s=Ih(this.startControl,this.endControl,e),o=Ih(this.endControl,this.end,e),l=Ih(n,s,e),u=Ih(s,o,e),h=Ih(l,u,e);return t?new r(this.start,n,l,h):new r(h,u,o,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r})(),vo=function(r){return r.type===1},gG=(function(){function r(e){var t=e.styles,n=e.bounds,s=V0(t.borderTopLeftRadius,n.width,n.height),o=s[0],l=s[1],u=V0(t.borderTopRightRadius,n.width,n.height),h=u[0],g=u[1],x=V0(t.borderBottomRightRadius,n.width,n.height),p=x[0],v=x[1],N=V0(t.borderBottomLeftRadius,n.width,n.height),T=N[0],I=N[1],O=[];O.push((o+h)/n.width),O.push((T+p)/n.width),O.push((l+I)/n.height),O.push((g+v)/n.height);var R=Math.max.apply(Math,O);R>1&&(o/=R,l/=R,h/=R,g/=R,p/=R,v/=R,T/=R,I/=R);var P=n.width-h,K=n.height-v,se=n.width-p,ae=n.height-I,le=t.borderTopWidth,U=t.borderRightWidth,S=t.borderBottomWidth,M=t.borderLeftWidth,z=xn(t.paddingTop,e.bounds.width),E=xn(t.paddingRight,e.bounds.width),F=xn(t.paddingBottom,e.bounds.width),D=xn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||l>0?Ln(n.left+M/3,n.top+le/3,o-M/3,l-le/3,$r.TOP_LEFT):new wt(n.left+M/3,n.top+le/3),this.topRightBorderDoubleOuterBox=o>0||l>0?Ln(n.left+P,n.top+le/3,h-U/3,g-le/3,$r.TOP_RIGHT):new wt(n.left+n.width-U/3,n.top+le/3),this.bottomRightBorderDoubleOuterBox=p>0||v>0?Ln(n.left+se,n.top+K,p-U/3,v-S/3,$r.BOTTOM_RIGHT):new wt(n.left+n.width-U/3,n.top+n.height-S/3),this.bottomLeftBorderDoubleOuterBox=T>0||I>0?Ln(n.left+M/3,n.top+ae,T-M/3,I-S/3,$r.BOTTOM_LEFT):new wt(n.left+M/3,n.top+n.height-S/3),this.topLeftBorderDoubleInnerBox=o>0||l>0?Ln(n.left+M*2/3,n.top+le*2/3,o-M*2/3,l-le*2/3,$r.TOP_LEFT):new wt(n.left+M*2/3,n.top+le*2/3),this.topRightBorderDoubleInnerBox=o>0||l>0?Ln(n.left+P,n.top+le*2/3,h-U*2/3,g-le*2/3,$r.TOP_RIGHT):new wt(n.left+n.width-U*2/3,n.top+le*2/3),this.bottomRightBorderDoubleInnerBox=p>0||v>0?Ln(n.left+se,n.top+K,p-U*2/3,v-S*2/3,$r.BOTTOM_RIGHT):new wt(n.left+n.width-U*2/3,n.top+n.height-S*2/3),this.bottomLeftBorderDoubleInnerBox=T>0||I>0?Ln(n.left+M*2/3,n.top+ae,T-M*2/3,I-S*2/3,$r.BOTTOM_LEFT):new wt(n.left+M*2/3,n.top+n.height-S*2/3),this.topLeftBorderStroke=o>0||l>0?Ln(n.left+M/2,n.top+le/2,o-M/2,l-le/2,$r.TOP_LEFT):new wt(n.left+M/2,n.top+le/2),this.topRightBorderStroke=o>0||l>0?Ln(n.left+P,n.top+le/2,h-U/2,g-le/2,$r.TOP_RIGHT):new wt(n.left+n.width-U/2,n.top+le/2),this.bottomRightBorderStroke=p>0||v>0?Ln(n.left+se,n.top+K,p-U/2,v-S/2,$r.BOTTOM_RIGHT):new wt(n.left+n.width-U/2,n.top+n.height-S/2),this.bottomLeftBorderStroke=T>0||I>0?Ln(n.left+M/2,n.top+ae,T-M/2,I-S/2,$r.BOTTOM_LEFT):new wt(n.left+M/2,n.top+n.height-S/2),this.topLeftBorderBox=o>0||l>0?Ln(n.left,n.top,o,l,$r.TOP_LEFT):new wt(n.left,n.top),this.topRightBorderBox=h>0||g>0?Ln(n.left+P,n.top,h,g,$r.TOP_RIGHT):new wt(n.left+n.width,n.top),this.bottomRightBorderBox=p>0||v>0?Ln(n.left+se,n.top+K,p,v,$r.BOTTOM_RIGHT):new wt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=T>0||I>0?Ln(n.left,n.top+ae,T,I,$r.BOTTOM_LEFT):new wt(n.left,n.top+n.height),this.topLeftPaddingBox=o>0||l>0?Ln(n.left+M,n.top+le,Math.max(0,o-M),Math.max(0,l-le),$r.TOP_LEFT):new wt(n.left+M,n.top+le),this.topRightPaddingBox=h>0||g>0?Ln(n.left+Math.min(P,n.width-U),n.top+le,P>n.width+U?0:Math.max(0,h-U),Math.max(0,g-le),$r.TOP_RIGHT):new wt(n.left+n.width-U,n.top+le),this.bottomRightPaddingBox=p>0||v>0?Ln(n.left+Math.min(se,n.width-M),n.top+Math.min(K,n.height-S),Math.max(0,p-U),Math.max(0,v-S),$r.BOTTOM_RIGHT):new wt(n.left+n.width-U,n.top+n.height-S),this.bottomLeftPaddingBox=T>0||I>0?Ln(n.left+M,n.top+Math.min(ae,n.height-S),Math.max(0,T-M),Math.max(0,I-S),$r.BOTTOM_LEFT):new wt(n.left+M,n.top+n.height-S),this.topLeftContentBox=o>0||l>0?Ln(n.left+M+D,n.top+le+z,Math.max(0,o-(M+D)),Math.max(0,l-(le+z)),$r.TOP_LEFT):new wt(n.left+M+D,n.top+le+z),this.topRightContentBox=h>0||g>0?Ln(n.left+Math.min(P,n.width+M+D),n.top+le+z,P>n.width+M+D?0:h-M+D,g-(le+z),$r.TOP_RIGHT):new wt(n.left+n.width-(U+E),n.top+le+z),this.bottomRightContentBox=p>0||v>0?Ln(n.left+Math.min(se,n.width-(M+D)),n.top+Math.min(K,n.height+le+z),Math.max(0,p-(U+E)),v-(S+F),$r.BOTTOM_RIGHT):new wt(n.left+n.width-(U+E),n.top+n.height-(S+F)),this.bottomLeftContentBox=T>0||I>0?Ln(n.left+M+D,n.top+ae,Math.max(0,T-(M+D)),I-(S+F),$r.BOTTOM_LEFT):new wt(n.left+M+D,n.top+n.height-(S+F))}return r})(),$r;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})($r||($r={}));var Ln=function(r,e,t,n,s){var o=4*((Math.sqrt(2)-1)/3),l=t*o,u=n*o,h=r+t,g=e+n;switch(s){case $r.TOP_LEFT:return new _p(new wt(r,g),new wt(r,g-u),new wt(h-l,e),new wt(h,e));case $r.TOP_RIGHT:return new _p(new wt(r,e),new wt(r+l,e),new wt(h,g-u),new wt(h,g));case $r.BOTTOM_RIGHT:return new _p(new wt(h,e),new wt(h,e+u),new wt(r+l,g),new wt(r,g));case $r.BOTTOM_LEFT:default:return new _p(new wt(h,g),new wt(h-l,g),new wt(r,e+u),new wt(r,e))}},z1=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},mG=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},q1=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},pG=(function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r})(),Ep=(function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r})(),xG=(function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r})(),bG=function(r){return r.type===0},k6=function(r){return r.type===1},yG=function(r){return r.type===2},l_=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},wG=function(r,e,t,n,s){return r.map(function(o,l){switch(l){case 0:return o.add(e,t);case 1:return o.add(e+n,t);case 2:return o.add(e+n,t+s);case 3:return o.add(e,t+s)}return o})},R6=(function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r})(),D6=(function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new gG(this.container),this.container.styles.opacity<1&&this.effects.push(new xG(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new pG(n,s,o))}if(this.container.styles.overflowX!==0){var l=z1(this.curves),u=q1(this.curves);l_(l,u)?this.effects.push(new Ep(l,6)):(this.effects.push(new Ep(l,2)),this.effects.push(new Ep(u,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var o=n.effects.filter(function(h){return!k6(h)});if(t||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,o),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var l=z1(n.curves),u=q1(n.curves);l_(l,u)||s.unshift(new Ep(u,6))}}else s.unshift.apply(s,o);n=n.parent}return s.filter(function(h){return Fs(h.target,e)})},r})(),Bw=function(r,e,t,n){r.container.elements.forEach(function(s){var o=Fs(s.flags,4),l=Fs(s.flags,2),u=new D6(s,r);Fs(s.styles.display,2048)&&n.push(u);var h=Fs(s.flags,8)?[]:n;if(o||l){var g=o||s.styles.isPositioned()?t:e,x=new R6(u);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var p=s.styles.zIndex.order;if(p<0){var v=0;g.negativeZIndex.some(function(T,I){return p>T.element.container.styles.zIndex.order?(v=I,!1):v>0}),g.negativeZIndex.splice(v,0,x)}else if(p>0){var N=0;g.positiveZIndex.some(function(T,I){return p>=T.element.container.styles.zIndex.order?(N=I+1,!1):N>0}),g.positiveZIndex.splice(N,0,x)}else g.zeroOrAutoZIndexOrTransformedOrOpacity.push(x)}else s.styles.isFloating()?g.nonPositionedFloats.push(x):g.nonPositionedInlineLevel.push(x);Bw(u,x,o?x:t,h)}else s.styles.isInlineLevel()?e.inlineLevel.push(u):e.nonInlineLevel.push(u),Bw(u,e,t,h);Fs(s.flags,8)&&M6(s,h)})},M6=function(r,e){for(var t=r instanceof xw?r.start:1,n=r instanceof xw?r.reversed:!1,s=0;s<e.length;s++){var o=e[s];o.container instanceof v6&&typeof o.container.value=="number"&&o.container.value!==0&&(t=o.container.value),o.listValue=Qg(t,o.container.styles.listStyleType,!0),t+=n?-1:1}},vG=function(r){var e=new D6(r,null),t=new R6(e),n=[];return Bw(e,t,t,n),M6(e.container,n),t},c_=function(r,e){switch(e){case 0:return So(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return So(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return So(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return So(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},BG=function(r,e){switch(e){case 0:return So(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return So(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return So(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return So(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},NG=function(r,e){switch(e){case 0:return So(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return So(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return So(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return So(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},CG=function(r,e){switch(e){case 0:return Sp(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return Sp(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return Sp(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return Sp(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},Sp=function(r,e){var t=[];return vo(r)?t.push(r.subdivide(.5,!1)):t.push(r),vo(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},So=function(r,e,t,n){var s=[];return vo(r)?s.push(r.subdivide(.5,!1)):s.push(r),vo(t)?s.push(t.subdivide(.5,!0)):s.push(t),vo(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),vo(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},O6=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},G1=function(r){var e=r.styles,t=r.bounds,n=xn(e.paddingLeft,t.width),s=xn(e.paddingRight,t.width),o=xn(e.paddingTop,t.width),l=xn(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+o+l))},_G=function(r,e){return r===0?e.bounds:r===2?G1(e):O6(e)},EG=function(r,e){return r===0?e.bounds:r===2?G1(e):O6(e)},ty=function(r,e,t){var n=_G(Mh(r.styles.backgroundOrigin,e),r),s=EG(Mh(r.styles.backgroundClip,e),r),o=SG(Mh(r.styles.backgroundSize,e),t,n),l=o[0],u=o[1],h=V0(Mh(r.styles.backgroundPosition,e),n.width-l,n.height-u),g=IG(Mh(r.styles.backgroundRepeat,e),h,o,n,s),x=Math.round(n.left+h[0]),p=Math.round(n.top+h[1]);return[g,x,p,l,u]},jh=function(r){return ln(r)&&r.value===Yh.AUTO},Ip=function(r){return typeof r=="number"},SG=function(r,e,t){var n=e[0],s=e[1],o=e[2],l=r[0],u=r[1];if(!l)return[0,0];if(ys(l)&&u&&ys(u))return[xn(l,t.width),xn(u,t.height)];var h=Ip(o);if(ln(l)&&(l.value===Yh.CONTAIN||l.value===Yh.COVER)){if(Ip(o)){var g=t.width/t.height;return g<o!=(l.value===Yh.COVER)?[t.width,t.width/o]:[t.height*o,t.height]}return[t.width,t.height]}var x=Ip(n),p=Ip(s),v=x||p;if(jh(l)&&(!u||jh(u))){if(x&&p)return[n,s];if(!h&&!v)return[t.width,t.height];if(v&&h){var N=x?n:s*o,T=p?s:n/o;return[N,T]}var I=x?n:t.width,O=p?s:t.height;return[I,O]}if(h){var R=0,P=0;return ys(l)?R=xn(l,t.width):ys(u)&&(P=xn(u,t.height)),jh(l)?R=P*o:(!u||jh(u))&&(P=R/o),[R,P]}var K=null,se=null;if(ys(l)?K=xn(l,t.width):u&&ys(u)&&(se=xn(u,t.height)),K!==null&&(!u||jh(u))&&(se=x&&p?K/n*s:t.height),se!==null&&jh(l)&&(K=x&&p?se/s*n:t.width),K!==null&&se!==null)return[K,se];throw new Error("Unable to calculate background-size for element")},Mh=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},IG=function(r,e,t,n,s){var o=e[0],l=e[1],u=t[0],h=t[1];switch(r){case 2:return[new wt(Math.round(n.left),Math.round(n.top+l)),new wt(Math.round(n.left+n.width),Math.round(n.top+l)),new wt(Math.round(n.left+n.width),Math.round(h+n.top+l)),new wt(Math.round(n.left),Math.round(h+n.top+l))];case 3:return[new wt(Math.round(n.left+o),Math.round(n.top)),new wt(Math.round(n.left+o+u),Math.round(n.top)),new wt(Math.round(n.left+o+u),Math.round(n.height+n.top)),new wt(Math.round(n.left+o),Math.round(n.height+n.top))];case 1:return[new wt(Math.round(n.left+o),Math.round(n.top+l)),new wt(Math.round(n.left+o+u),Math.round(n.top+l)),new wt(Math.round(n.left+o+u),Math.round(n.top+l+h)),new wt(Math.round(n.left+o),Math.round(n.top+l+h))];default:return[new wt(Math.round(s.left),Math.round(s.top)),new wt(Math.round(s.left+s.width),Math.round(s.top)),new wt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new wt(Math.round(s.left),Math.round(s.height+s.top))]}},jG="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",u_="Hidden Text",TG=(function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),s=this._document.createElement("img"),o=this._document.createElement("span"),l=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",l.appendChild(n),s.src=jG,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(u_)),n.appendChild(o),n.appendChild(s);var u=s.offsetTop-o.offsetTop+2;n.removeChild(o),n.appendChild(this._document.createTextNode(u_)),n.style.lineHeight="normal",s.style.verticalAlign="super";var h=s.offsetTop-n.offsetTop+2;return l.removeChild(n),{baseline:u,middle:h}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r})(),P6=(function(){function r(e,t){this.context=e,this.options=t}return r})(),UG=1e4,FG=(function(r){dA(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new TG(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(t){this.ctx.save(),yG(t)&&(this.ctx.globalAlpha=t.opacity),bG(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),k6(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Za(this,void 0,void 0,function(){var n;return Ua(this,function(s){switch(s.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Za(this,void 0,void 0,function(){return Ua(this,function(n){switch(n.label){case 0:if(Fs(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,s){var o=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+s);else{var l=h5(t.text);l.reduce(function(u,h){return o.ctx.fillText(h,u,t.bounds.top+s),u+o.ctx.measureText(h).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),s=DG(t.fontFamily).join(", "),o=om(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,o,s].join(" "),s,o]},e.prototype.renderTextNode=function(t,n){return Za(this,void 0,void 0,function(){var s,o,l,u,h,g,x,p,v=this;return Ua(this,function(N){return s=this.createFontStyle(n),o=s[0],l=s[1],u=s[2],this.ctx.font=o,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",h=this.fontMetrics.getMetrics(l,u),g=h.baseline,x=h.middle,p=n.paintOrder,t.textBounds.forEach(function(T){p.forEach(function(I){switch(I){case 0:v.ctx.fillStyle=Gs(n.color),v.renderTextWithLetterSpacing(T,n.letterSpacing,g);var O=n.textShadow;O.length&&T.text.trim().length&&(O.slice(0).reverse().forEach(function(R){v.ctx.shadowColor=Gs(R.color),v.ctx.shadowOffsetX=R.offsetX.number*v.options.scale,v.ctx.shadowOffsetY=R.offsetY.number*v.options.scale,v.ctx.shadowBlur=R.blur.number,v.renderTextWithLetterSpacing(T,n.letterSpacing,g)}),v.ctx.shadowColor="",v.ctx.shadowOffsetX=0,v.ctx.shadowOffsetY=0,v.ctx.shadowBlur=0),n.textDecorationLine.length&&(v.ctx.fillStyle=Gs(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(R){switch(R){case 1:v.ctx.fillRect(T.bounds.left,Math.round(T.bounds.top+g),T.bounds.width,1);break;case 2:v.ctx.fillRect(T.bounds.left,Math.round(T.bounds.top),T.bounds.width,1);break;case 3:v.ctx.fillRect(T.bounds.left,Math.ceil(T.bounds.top+x),T.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&T.text.trim().length&&(v.ctx.strokeStyle=Gs(n.webkitTextStrokeColor),v.ctx.lineWidth=n.webkitTextStrokeWidth,v.ctx.lineJoin=window.chrome?"miter":"round",v.ctx.strokeText(T.text,T.bounds.left,T.bounds.top+g)),v.ctx.strokeStyle="",v.ctx.lineWidth=0,v.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,s){if(s&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var o=G1(t),l=q1(n);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,t.intrinsicWidth,t.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Za(this,void 0,void 0,function(){var n,s,o,l,u,h,P,P,g,x,p,v,se,N,T,ae,I,O,R,P,K,se,ae;return Ua(this,function(le){switch(le.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,s=t.curves,o=n.styles,l=0,u=n.textNodes,le.label=1;case 1:return l<u.length?(h=u[l],[4,this.renderTextNode(h,o)]):[3,4];case 2:le.sent(),le.label=3;case 3:return l++,[3,1];case 4:if(!(n instanceof b6))return[3,8];le.label=5;case 5:return le.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return P=le.sent(),this.renderReplacedElement(n,s,P),[3,8];case 7:return le.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof y6&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof w6))return[3,12];le.label=9;case 9:return le.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return P=le.sent(),this.renderReplacedElement(n,s,P),[3,12];case 11:return le.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof C6&&n.tree?(g=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,g.render(n.tree)]):[3,14];case 13:x=le.sent(),n.width&&n.height&&this.ctx.drawImage(x,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),le.label=14;case 14:if(n instanceof f5&&(p=Math.min(n.bounds.width,n.bounds.height),n.type===P1?n.checked&&(this.ctx.save(),this.path([new wt(n.bounds.left+p*.39363,n.bounds.top+p*.79),new wt(n.bounds.left+p*.16,n.bounds.top+p*.5549),new wt(n.bounds.left+p*.27347,n.bounds.top+p*.44071),new wt(n.bounds.left+p*.39694,n.bounds.top+p*.5649),new wt(n.bounds.left+p*.72983,n.bounds.top+p*.23),new wt(n.bounds.left+p*.84,n.bounds.top+p*.34085),new wt(n.bounds.left+p*.39363,n.bounds.top+p*.79)]),this.ctx.fillStyle=Gs(JC),this.ctx.fill(),this.ctx.restore()):n.type===H1&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+p/2,n.bounds.top+p/2,p/4,0,Math.PI*2,!0),this.ctx.fillStyle=Gs(JC),this.ctx.fill(),this.ctx.restore())),QG(n)&&n.value.length){switch(v=this.createFontStyle(o),se=v[0],N=v[1],T=this.fontMetrics.getMetrics(se,N).baseline,this.ctx.font=se,this.ctx.fillStyle=Gs(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=kG(n.styles.textAlign),ae=G1(n),I=0,n.styles.textAlign){case 1:I+=ae.width/2;break;case 2:I+=ae.width;break}O=ae.add(I,0,0,-ae.height/2+1),this.ctx.save(),this.path([new wt(ae.left,ae.top),new wt(ae.left+ae.width,ae.top),new wt(ae.left+ae.width,ae.top+ae.height),new wt(ae.left,ae.top+ae.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ig(n.value,O),o.letterSpacing,T),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Fs(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(R=n.styles.listStyleImage,R.type!==0)return[3,18];P=void 0,K=R.url,le.label=15;case 15:return le.trys.push([15,17,,18]),[4,this.context.cache.match(K)];case 16:return P=le.sent(),this.ctx.drawImage(P,n.bounds.left-(P.width+10),n.bounds.top),[3,18];case 17:return le.sent(),this.context.logger.error("Error loading list-style-image "+K),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(se=this.createFontStyle(o)[0],this.ctx.font=se,this.ctx.fillStyle=Gs(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ae=new ic(n.bounds.left,n.bounds.top+xn(n.styles.paddingTop,n.bounds.width),n.bounds.width,LC(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ig(t.listValue,ae),o.letterSpacing,LC(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),le.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Za(this,void 0,void 0,function(){var n,s,R,o,l,R,u,h,R,g,x,R,p,v,R,N,T,R,I,O,R;return Ua(this,function(P){switch(P.label){case 0:if(Fs(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:P.sent(),n=0,s=t.negativeZIndex,P.label=2;case 2:return n<s.length?(R=s[n],[4,this.renderStack(R)]):[3,5];case 3:P.sent(),P.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:P.sent(),o=0,l=t.nonInlineLevel,P.label=7;case 7:return o<l.length?(R=l[o],[4,this.renderNode(R)]):[3,10];case 8:P.sent(),P.label=9;case 9:return o++,[3,7];case 10:u=0,h=t.nonPositionedFloats,P.label=11;case 11:return u<h.length?(R=h[u],[4,this.renderStack(R)]):[3,14];case 12:P.sent(),P.label=13;case 13:return u++,[3,11];case 14:g=0,x=t.nonPositionedInlineLevel,P.label=15;case 15:return g<x.length?(R=x[g],[4,this.renderStack(R)]):[3,18];case 16:P.sent(),P.label=17;case 17:return g++,[3,15];case 18:p=0,v=t.inlineLevel,P.label=19;case 19:return p<v.length?(R=v[p],[4,this.renderNode(R)]):[3,22];case 20:P.sent(),P.label=21;case 21:return p++,[3,19];case 22:N=0,T=t.zeroOrAutoZIndexOrTransformedOrOpacity,P.label=23;case 23:return N<T.length?(R=T[N],[4,this.renderStack(R)]):[3,26];case 24:P.sent(),P.label=25;case 25:return N++,[3,23];case 26:I=0,O=t.positiveZIndex,P.label=27;case 27:return I<O.length?(R=O[I],[4,this.renderStack(R)]):[3,30];case 28:P.sent(),P.label=29;case 29:return I++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(s,o){var l=vo(s)?s.start:s;o===0?n.ctx.moveTo(l.x,l.y):n.ctx.lineTo(l.x,l.y),vo(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(t,n,s,o){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(s,o),this.ctx.fill(),this.ctx.translate(-s,-o)},e.prototype.resizeImage=function(t,n,s){var o;if(t.width===n&&t.height===s)return t;var l=(o=this.canvas.ownerDocument)!==null&&o!==void 0?o:document,u=l.createElement("canvas");u.width=Math.max(1,n),u.height=Math.max(1,s);var h=u.getContext("2d");return h.drawImage(t,0,0,t.width,t.height,0,0,n,s),u},e.prototype.renderBackgroundImage=function(t){return Za(this,void 0,void 0,function(){var n,s,o,l,u,h;return Ua(this,function(g){switch(g.label){case 0:n=t.styles.backgroundImage.length-1,s=function(x){var p,v,N,z,te,Y,D,$,S,T,z,te,Y,D,$,I,O,R,P,K,se,ae,le,U,S,M,z,E,F,D,$,be,te,Y,ie,ge,xe,X,L,H,J,ee;return Ua(this,function(he){switch(he.label){case 0:if(x.type!==0)return[3,5];p=void 0,v=x.url,he.label=1;case 1:return he.trys.push([1,3,,4]),[4,o.context.cache.match(v)];case 2:return p=he.sent(),[3,4];case 3:return he.sent(),o.context.logger.error("Error loading background-image "+v),[3,4];case 4:return p&&(N=ty(t,n,[p.width,p.height,p.width/p.height]),z=N[0],te=N[1],Y=N[2],D=N[3],$=N[4],S=o.ctx.createPattern(o.resizeImage(p,D,$),"repeat"),o.renderRepeat(z,S,te,Y)),[3,6];case 5:bK(x)?(T=ty(t,n,[null,null,null]),z=T[0],te=T[1],Y=T[2],D=T[3],$=T[4],I=fK(x.angle,D,$),O=I[0],R=I[1],P=I[2],K=I[3],se=I[4],ae=document.createElement("canvas"),ae.width=D,ae.height=$,le=ae.getContext("2d"),U=le.createLinearGradient(R,K,P,se),FC(x.stops,O).forEach(function(me){return U.addColorStop(me.stop,Gs(me.color))}),le.fillStyle=U,le.fillRect(0,0,D,$),D>0&&$>0&&(S=o.ctx.createPattern(ae,"repeat"),o.renderRepeat(z,S,te,Y))):yK(x)&&(M=ty(t,n,[null,null,null]),z=M[0],E=M[1],F=M[2],D=M[3],$=M[4],be=x.position.length===0?[c5]:x.position,te=xn(be[0],D),Y=xn(be[be.length-1],$),ie=gK(x,te,Y,D,$),ge=ie[0],xe=ie[1],ge>0&&xe>0&&(X=o.ctx.createRadialGradient(E+te,F+Y,0,E+te,F+Y,ge),FC(x.stops,ge*2).forEach(function(me){return X.addColorStop(me.stop,Gs(me.color))}),o.path(z),o.ctx.fillStyle=X,ge!==xe?(L=t.bounds.left+.5*t.bounds.width,H=t.bounds.top+.5*t.bounds.height,J=xe/ge,ee=1/J,o.ctx.save(),o.ctx.translate(L,H),o.ctx.transform(1,0,0,J,0,0),o.ctx.translate(-L,-H),o.ctx.fillRect(E,ee*(F-H)+H,D,$*ee),o.ctx.restore()):o.ctx.fill())),he.label=6;case 6:return n--,[2]}})},o=this,l=0,u=t.styles.backgroundImage.slice(0).reverse(),g.label=1;case 1:return l<u.length?(h=u[l],[5,s(h)]):[3,4];case 2:g.sent(),g.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,s){return Za(this,void 0,void 0,function(){return Ua(this,function(o){return this.path(c_(s,n)),this.ctx.fillStyle=Gs(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,s,o){return Za(this,void 0,void 0,function(){var l,u;return Ua(this,function(h){switch(h.label){case 0:return n<3?[4,this.renderSolidBorder(t,s,o)]:[3,2];case 1:return h.sent(),[2];case 2:return l=BG(o,s),this.path(l),this.ctx.fillStyle=Gs(t),this.ctx.fill(),u=NG(o,s),this.path(u),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Za(this,void 0,void 0,function(){var n,s,o,l,u,h,g,x,p=this;return Ua(this,function(v){switch(v.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,s=!Bu(n.backgroundColor)||n.backgroundImage.length,o=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],l=LG(Mh(n.backgroundClip,0),t.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),Bu(n.backgroundColor)||(this.ctx.fillStyle=Gs(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:v.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(N){p.ctx.save();var T=z1(t.curves),I=N.inset?0:UG,O=wG(T,-I+(N.inset?1:-1)*N.spread.number,(N.inset?1:-1)*N.spread.number,N.spread.number*(N.inset?-2:2),N.spread.number*(N.inset?-2:2));N.inset?(p.path(T),p.ctx.clip(),p.mask(O)):(p.mask(T),p.ctx.clip(),p.path(O)),p.ctx.shadowOffsetX=N.offsetX.number+I,p.ctx.shadowOffsetY=N.offsetY.number,p.ctx.shadowColor=Gs(N.color),p.ctx.shadowBlur=N.blur.number,p.ctx.fillStyle=N.inset?Gs(N.color):"rgba(0,0,0,1)",p.ctx.fill(),p.ctx.restore()}),v.label=2;case 2:u=0,h=0,g=o,v.label=3;case 3:return h<g.length?(x=g[h],x.style!==0&&!Bu(x.color)&&x.width>0?x.style!==2?[3,5]:[4,this.renderDashedDottedBorder(x.color,x.width,u,t.curves,2)]:[3,11]):[3,13];case 4:return v.sent(),[3,11];case 5:return x.style!==3?[3,7]:[4,this.renderDashedDottedBorder(x.color,x.width,u,t.curves,3)];case 6:return v.sent(),[3,11];case 7:return x.style!==4?[3,9]:[4,this.renderDoubleBorder(x.color,x.width,u,t.curves)];case 8:return v.sent(),[3,11];case 9:return[4,this.renderSolidBorder(x.color,u,t.curves)];case 10:v.sent(),v.label=11;case 11:u++,v.label=12;case 12:return h++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,s,o,l){return Za(this,void 0,void 0,function(){var u,h,g,x,p,v,N,T,I,O,R,P,K,se,ae,le,ae,le;return Ua(this,function(U){return this.ctx.save(),u=CG(o,s),h=c_(o,s),l===2&&(this.path(h),this.ctx.clip()),vo(h[0])?(g=h[0].start.x,x=h[0].start.y):(g=h[0].x,x=h[0].y),vo(h[1])?(p=h[1].end.x,v=h[1].end.y):(p=h[1].x,v=h[1].y),s===0||s===2?N=Math.abs(g-p):N=Math.abs(x-v),this.ctx.beginPath(),l===3?this.formatPath(u):this.formatPath(h.slice(0,2)),T=n<3?n*3:n*2,I=n<3?n*2:n,l===3&&(T=n,I=n),O=!0,N<=T*2?O=!1:N<=T*2+I?(R=N/(2*T+I),T*=R,I*=R):(P=Math.floor((N+I)/(T+I)),K=(N-P*T)/(P-1),se=(N-(P+1)*T)/P,I=se<=0||Math.abs(I-K)<Math.abs(I-se)?K:se),O&&(l===3?this.ctx.setLineDash([0,T+I]):this.ctx.setLineDash([T,I])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Gs(t),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(vo(h[0])&&(ae=h[3],le=h[0],this.ctx.beginPath(),this.formatPath([new wt(ae.end.x,ae.end.y),new wt(le.start.x,le.start.y)]),this.ctx.stroke()),vo(h[1])&&(ae=h[1],le=h[2],this.ctx.beginPath(),this.formatPath([new wt(ae.end.x,ae.end.y),new wt(le.start.x,le.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Za(this,void 0,void 0,function(){var n;return Ua(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Gs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=vG(t),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(P6),QG=function(r){return r instanceof N6||r instanceof B6?!0:r instanceof f5&&r.type!==H1&&r.type!==P1},LG=function(r,e){switch(r){case 0:return z1(e);case 2:return mG(e);case 1:default:return q1(e)}},kG=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},RG=["-apple-system","system-ui"],DG=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return RG.indexOf(e)===-1}):r},MG=(function(r){dA(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(t){return Za(this,void 0,void 0,function(){var n,s;return Ua(this,function(o){switch(o.label){case 0:return n=pw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,OG(n)];case 1:return s=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Gs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(P6),OG=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},PG=(function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,op([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,op([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,op([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,op([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r})(),HG=(function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new PG({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new AG(this,e)}return r.instanceCount=1,r})(),H6=function(r,e){return e===void 0&&(e={}),VG(r,e)};typeof window<"u"&&L6.setContext(window);var VG=function(r,e){return Za(void 0,void 0,void 0,function(){var t,n,s,o,l,u,h,g,x,p,v,N,T,I,O,R,P,K,se,ae,U,le,U,S,M,z,E,F,D,$,be,te,Y,ie,ge,xe,X,L,H,J;return Ua(this,function(ee){switch(ee.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(S=e.allowTaint)!==null&&S!==void 0?S:!1,imageTimeout:(M=e.imageTimeout)!==null&&M!==void 0?M:15e3,proxy:e.proxy,useCORS:(z=e.useCORS)!==null&&z!==void 0?z:!1},o=rw({logging:(E=e.logging)!==null&&E!==void 0?E:!0,cache:e.cache},s),l={windowWidth:(F=e.windowWidth)!==null&&F!==void 0?F:n.innerWidth,windowHeight:(D=e.windowHeight)!==null&&D!==void 0?D:n.innerHeight,scrollX:($=e.scrollX)!==null&&$!==void 0?$:n.pageXOffset,scrollY:(be=e.scrollY)!==null&&be!==void 0?be:n.pageYOffset},u=new ic(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),h=new HG(o,u),g=(te=e.foreignObjectRendering)!==null&&te!==void 0?te:!1,x={allowTaint:(Y=e.allowTaint)!==null&&Y!==void 0?Y:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:g,copyStyles:g},h.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),p=new o_(h,r,x),v=p.clonedReferenceElement,v?[4,p.toIFrame(t,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return N=ee.sent(),T=g5(v)||zq(v)?wH(v.ownerDocument):jx(h,v),I=T.width,O=T.height,R=T.left,P=T.top,K=KG(h,v,e.backgroundColor),se={canvas:e.canvas,backgroundColor:K,scale:(ge=(ie=e.scale)!==null&&ie!==void 0?ie:n.devicePixelRatio)!==null&&ge!==void 0?ge:1,x:((xe=e.x)!==null&&xe!==void 0?xe:0)+R,y:((X=e.y)!==null&&X!==void 0?X:0)+P,width:(L=e.width)!==null&&L!==void 0?L:Math.ceil(I),height:(H=e.height)!==null&&H!==void 0?H:Math.ceil(O)},g?(h.logger.debug("Document cloned, using foreign object rendering"),U=new MG(h,se),[4,U.render(v)]):[3,3];case 2:return ae=ee.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+R+","+P+" with size "+I+"x"+O+" using computed rendering"),h.logger.debug("Starting DOM parsing"),le=E6(h,v),K===le.styles.backgroundColor&&(le.styles.backgroundColor=Jl.TRANSPARENT),h.logger.debug("Starting renderer for element at "+se.x+","+se.y+" with size "+se.width+"x"+se.height),U=new FG(h,se),[4,U.render(le)];case 4:ae=ee.sent(),ee.label=5;case 5:return(!((J=e.removeContainer)!==null&&J!==void 0)||J)&&(o_.destroy(N)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,ae]}})})},KG=function(r,e,t){var n=e.ownerDocument,s=n.documentElement?sg(r,getComputedStyle(n.documentElement).backgroundColor):Jl.TRANSPARENT,o=n.body?sg(r,getComputedStyle(n.body).backgroundColor):Jl.TRANSPARENT,l=typeof t=="string"?sg(r,t):t===null?Jl.TRANSPARENT:4294967295;return e===n.documentElement?Bu(s)?Bu(o)?l:o:s:l};const zG=Object.freeze(Object.defineProperty({__proto__:null,default:H6},Symbol.toStringTag,{value:"Module"})),qG="modulepreload",GG=function(r,e){return new URL(r,e).href},d_={},Nw=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){let l=function(x){return Promise.all(x.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=l(t.map(x=>{if(x=GG(x,n),x in d_)return;d_[x]=!0;const p=x.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(!!n)for(let I=u.length-1;I>=0;I--){const O=u[I];if(O.href===x&&(!p||O.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${x}"]${v}`))return;const T=document.createElement("link");if(T.rel=p?"stylesheet":qG,p||(T.as="script"),T.crossOrigin="",T.href=x,g&&T.setAttribute("nonce",g),document.head.appendChild(T),p)return new Promise((I,O)=>{T.addEventListener("load",I),T.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${x}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function rn(r){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(r)}var Ra=Uint8Array,Ji=Uint16Array,m5=Int32Array,Ox=new Ra([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Px=new Ra([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Cw=new Ra([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V6=function(r,e){for(var t=new Ji(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var s=new m5(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)s[o]=o-t[n]<<5|n;return{b:t,r:s}},K6=V6(Ox,2),z6=K6.b,_w=K6.r;z6[28]=258,_w[258]=28;var q6=V6(Px,0),XG=q6.b,h_=q6.r,Ew=new Ji(32768);for(var _n=0;_n<32768;++_n){var Wc=(_n&43690)>>1|(_n&21845)<<1;Wc=(Wc&52428)>>2|(Wc&13107)<<2,Wc=(Wc&61680)>>4|(Wc&3855)<<4,Ew[_n]=((Wc&65280)>>8|(Wc&255)<<8)>>1}var ll=(function(r,e,t){for(var n=r.length,s=0,o=new Ji(e);s<n;++s)r[s]&&++o[r[s]-1];var l=new Ji(e);for(s=1;s<e;++s)l[s]=l[s-1]+o[s-1]<<1;var u;if(t){u=new Ji(1<<e);var h=15-e;for(s=0;s<n;++s)if(r[s])for(var g=s<<4|r[s],x=e-r[s],p=l[r[s]-1]++<<x,v=p|(1<<x)-1;p<=v;++p)u[Ew[p]>>h]=g}else for(u=new Ji(n),s=0;s<n;++s)r[s]&&(u[s]=Ew[l[r[s]-1]++]>>15-r[s]);return u}),ju=new Ra(288);for(var _n=0;_n<144;++_n)ju[_n]=8;for(var _n=144;_n<256;++_n)ju[_n]=9;for(var _n=256;_n<280;++_n)ju[_n]=7;for(var _n=280;_n<288;++_n)ju[_n]=8;var Lg=new Ra(32);for(var _n=0;_n<32;++_n)Lg[_n]=5;var $G=ll(ju,9,0),YG=ll(ju,9,1),WG=ll(Lg,5,0),JG=ll(Lg,5,1),ry=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},Zo=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},ny=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},p5=function(r){return(r+7)/8|0},G6=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Ra(r.subarray(e,t))},ZG=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],rA=function(r,e,t){var n=new Error(e||ZG[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,rA),!t)throw n;return n},eX=function(r,e,t,n){var s=r.length,o=0;if(!s||e.f&&!e.l)return t||new Ra(0);var l=!t,u=l||e.i!=2,h=e.i;l&&(t=new Ra(s*3));var g=function(Re){var tt=t.length;if(Re>tt){var fe=new Ra(Math.max(tt*2,Re));fe.set(t),t=fe}},x=e.f||0,p=e.p||0,v=e.b||0,N=e.l,T=e.d,I=e.m,O=e.n,R=s*8;do{if(!N){x=Zo(r,p,1);var P=Zo(r,p+1,3);if(p+=3,P)if(P==1)N=YG,T=JG,I=9,O=5;else if(P==2){var le=Zo(r,p,31)+257,U=Zo(r,p+10,15)+4,S=le+Zo(r,p+5,31)+1;p+=14;for(var M=new Ra(S),z=new Ra(19),E=0;E<U;++E)z[Cw[E]]=Zo(r,p+E*3,7);p+=U*3;for(var F=ry(z),D=(1<<F)-1,$=ll(z,F,1),E=0;E<S;){var be=$[Zo(r,p,D)];p+=be&15;var K=be>>4;if(K<16)M[E++]=K;else{var te=0,Y=0;for(K==16?(Y=3+Zo(r,p,3),p+=2,te=M[E-1]):K==17?(Y=3+Zo(r,p,7),p+=3):K==18&&(Y=11+Zo(r,p,127),p+=7);Y--;)M[E++]=te}}var ie=M.subarray(0,le),ge=M.subarray(le);I=ry(ie),O=ry(ge),N=ll(ie,I,1),T=ll(ge,O,1)}else rA(1);else{var K=p5(p)+4,se=r[K-4]|r[K-3]<<8,ae=K+se;if(ae>s){h&&rA(0);break}u&&g(v+se),t.set(r.subarray(K,ae),v),e.b=v+=se,e.p=p=ae*8,e.f=x;continue}if(p>R){h&&rA(0);break}}u&&g(v+131072);for(var xe=(1<<I)-1,X=(1<<O)-1,L=p;;L=p){var te=N[ny(r,p)&xe],H=te>>4;if(p+=te&15,p>R){h&&rA(0);break}if(te||rA(2),H<256)t[v++]=H;else if(H==256){L=p,N=null;break}else{var J=H-254;if(H>264){var E=H-257,ee=Ox[E];J=Zo(r,p,(1<<ee)-1)+z6[E],p+=ee}var he=T[ny(r,p)&X],me=he>>4;he||rA(3),p+=he&15;var ge=XG[me];if(me>3){var ee=Px[me];ge+=ny(r,p)&(1<<ee)-1,p+=ee}if(p>R){h&&rA(0);break}u&&g(v+131072);var ve=v+J;if(v<ge){var Be=o-ge,Xe=Math.min(ge,ve);for(Be+v<0&&rA(3);v<Xe;++v)t[v]=n[Be+v]}for(;v<ve;++v)t[v]=t[v-ge]}}e.l=N,e.p=L,e.b=v,e.f=x,N&&(x=1,e.m=I,e.d=T,e.n=O)}while(!x);return v!=t.length&&l?G6(t,0,v):t.subarray(0,v)},Gl=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},j0=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},sy=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var s=t.length,o=t.slice();if(!s)return{t:$6,l:0};if(s==1){var l=new Ra(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(ae,le){return ae.f-le.f}),t.push({s:-1,f:25001});var u=t[0],h=t[1],g=0,x=1,p=2;for(t[0]={s:-1,f:u.f+h.f,l:u,r:h};x!=s-1;)u=t[t[g].f<t[p].f?g++:p++],h=t[g!=x&&t[g].f<t[p].f?g++:p++],t[x++]={s:-1,f:u.f+h.f,l:u,r:h};for(var v=o[0].s,n=1;n<s;++n)o[n].s>v&&(v=o[n].s);var N=new Ji(v+1),T=Sw(t[x-1],N,0);if(T>e){var n=0,I=0,O=T-e,R=1<<O;for(o.sort(function(le,U){return N[U.s]-N[le.s]||le.f-U.f});n<s;++n){var P=o[n].s;if(N[P]>e)I+=R-(1<<T-N[P]),N[P]=e;else break}for(I>>=O;I>0;){var K=o[n].s;N[K]<e?I-=1<<e-N[K]++-1:++n}for(;n>=0&&I;--n){var se=o[n].s;N[se]==e&&(--N[se],++I)}T=e}return{t:new Ra(N),l:T}},Sw=function(r,e,t){return r.s==-1?Math.max(Sw(r.l,e,t+1),Sw(r.r,e,t+1)):e[r.s]=t},f_=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Ji(++e),n=0,s=r[0],o=1,l=function(h){t[n++]=h},u=1;u<=e;++u)if(r[u]==s&&u!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(s),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(s);o=1,s=r[u]}return{c:t.subarray(0,n),n:e}},T0=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},X6=function(r,e,t){var n=t.length,s=p5(e+2);r[s]=n&255,r[s+1]=n>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var o=0;o<n;++o)r[s+o+4]=t[o];return(s+4+n)*8},g_=function(r,e,t,n,s,o,l,u,h,g,x){Gl(e,x++,t),++s[256];for(var p=sy(s,15),v=p.t,N=p.l,T=sy(o,15),I=T.t,O=T.l,R=f_(v),P=R.c,K=R.n,se=f_(I),ae=se.c,le=se.n,U=new Ji(19),S=0;S<P.length;++S)++U[P[S]&31];for(var S=0;S<ae.length;++S)++U[ae[S]&31];for(var M=sy(U,7),z=M.t,E=M.l,F=19;F>4&&!z[Cw[F-1]];--F);var D=g+5<<3,$=T0(s,ju)+T0(o,Lg)+l,be=T0(s,v)+T0(o,I)+l+14+3*F+T0(U,z)+2*U[16]+3*U[17]+7*U[18];if(h>=0&&D<=$&&D<=be)return X6(e,x,r.subarray(h,h+g));var te,Y,ie,ge;if(Gl(e,x,1+(be<$)),x+=2,be<$){te=ll(v,N,0),Y=v,ie=ll(I,O,0),ge=I;var xe=ll(z,E,0);Gl(e,x,K-257),Gl(e,x+5,le-1),Gl(e,x+10,F-4),x+=14;for(var S=0;S<F;++S)Gl(e,x+3*S,z[Cw[S]]);x+=3*F;for(var X=[P,ae],L=0;L<2;++L)for(var H=X[L],S=0;S<H.length;++S){var J=H[S]&31;Gl(e,x,xe[J]),x+=z[J],J>15&&(Gl(e,x,H[S]>>5&127),x+=H[S]>>12)}}else te=$G,Y=ju,ie=WG,ge=Lg;for(var S=0;S<u;++S){var ee=n[S];if(ee>255){var J=ee>>18&31;j0(e,x,te[J+257]),x+=Y[J+257],J>7&&(Gl(e,x,ee>>23&31),x+=Ox[J]);var he=ee&31;j0(e,x,ie[he]),x+=ge[he],he>3&&(j0(e,x,ee>>5&8191),x+=Px[he])}else j0(e,x,te[ee]),x+=Y[ee]}return j0(e,x,te[256]),x+Y[256]},tX=new m5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$6=new Ra(0),rX=function(r,e,t,n,s,o){var l=o.z||r.length,u=new Ra(n+l+5*(1+Math.ceil(l/7e3))+s),h=u.subarray(n,u.length-s),g=o.l,x=(o.r||0)&7;if(e){x&&(h[0]=o.r>>3);for(var p=tX[e-1],v=p>>13,N=p&8191,T=(1<<t)-1,I=o.p||new Ji(32768),O=o.h||new Ji(T+1),R=Math.ceil(t/3),P=2*R,K=function(Me){return(r[Me]^r[Me+1]<<R^r[Me+2]<<P)&T},se=new m5(25e3),ae=new Ji(288),le=new Ji(32),U=0,S=0,M=o.i||0,z=0,E=o.w||0,F=0;M+2<l;++M){var D=K(M),$=M&32767,be=O[D];if(I[$]=be,O[D]=$,E<=M){var te=l-M;if((U>7e3||z>24576)&&(te>423||!g)){x=g_(r,h,0,se,ae,le,S,z,F,M-F,x),z=U=S=0,F=M;for(var Y=0;Y<286;++Y)ae[Y]=0;for(var Y=0;Y<30;++Y)le[Y]=0}var ie=2,ge=0,xe=N,X=$-be&32767;if(te>2&&D==K(M-X))for(var L=Math.min(v,te)-1,H=Math.min(32767,M),J=Math.min(258,te);X<=H&&--xe&&$!=be;){if(r[M+ie]==r[M+ie-X]){for(var ee=0;ee<J&&r[M+ee]==r[M+ee-X];++ee);if(ee>ie){if(ie=ee,ge=X,ee>L)break;for(var he=Math.min(X,ee-2),me=0,Y=0;Y<he;++Y){var ve=M-X+Y&32767,Be=I[ve],Xe=ve-Be&32767;Xe>me&&(me=Xe,be=ve)}}}$=be,be=I[$],X+=$-be&32767}if(ge){se[z++]=268435456|_w[ie]<<18|h_[ge];var Re=_w[ie]&31,tt=h_[ge]&31;S+=Ox[Re]+Px[tt],++ae[257+Re],++le[tt],E=M+ie,++U}else se[z++]=r[M],++ae[r[M]]}}for(M=Math.max(M,E);M<l;++M)se[z++]=r[M],++ae[r[M]];x=g_(r,h,g,se,ae,le,S,z,F,M-F,x),g||(o.r=x&7|h[x/8|0]<<3,x-=7,o.h=O,o.p=I,o.i=M,o.w=E)}else{for(var M=o.w||0;M<l+g;M+=65535){var fe=M+65535;fe>=l&&(h[x/8|0]=g,fe=l),x=X6(h,x+1,r.subarray(M,fe))}o.i=l}return G6(u,0,n+p5(x)+s)},Y6=function(){var r=1,e=0;return{p:function(t){for(var n=r,s=e,o=t.length|0,l=0;l!=o;){for(var u=Math.min(l+2655,o);l<u;++l)s+=n+=t[l];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}r=n,e=s},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},nX=function(r,e,t,n,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),l=new Ra(o.length+r.length);l.set(o),l.set(r,o.length),r=l,s.w=o.length}return rX(r,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,s)},W6=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},sX=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var s=Y6();s.p(e.dictionary),W6(r,2,s.d())}},aX=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&rA(6,"invalid zlib data"),(r[1]>>5&1)==1&&rA(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function Iw(r,e){e||(e={});var t=Y6();t.p(r);var n=nX(r,e,e.dictionary?6:2,4);return sX(n,e),W6(n,n.length-4,t.d()),n}function iX(r,e){return eX(r.subarray(aX(r),-4),{i:2},e,e)}var oX=typeof TextDecoder<"u"&&new TextDecoder,AX=0;try{oX.decode($6,{stream:!0}),AX=1}catch{}var Wt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function ay(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var fn={log:ay,warn:function(r){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):ay.call(null,arguments))},error:function(r){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):ay(r))}};function iy(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){nd(n.response,e,t)},n.onerror=function(){fn.error("could not download file")},n.send()}function m_(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function jp(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Ag,jw,nd=Wt.saveAs||((typeof window>"u"?"undefined":rn(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=Wt.URL||Wt.webkitURL,s=document.createElement("a");e=e||r.name||"download",s.download=e,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?m_(s.href)?iy(r,e,t):jp(s,s.target="_blank"):jp(s)):(s.href=n.createObjectURL(r),setTimeout((function(){n.revokeObjectURL(s.href)}),4e4),setTimeout((function(){jp(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(m_(r))iy(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout((function(){jp(n)}))}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:rn(o)!=="object"&&(fn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return iy(r,e,t);var s=r.type==="application/octet-stream",o=/constructor/i.test(Wt.HTMLElement)||Wt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&o)&&(typeof FileReader>"u"?"undefined":rn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var x=u.result;x=l?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=x:location=x,n=null},u.readAsDataURL(r)}else{var h=Wt.URL||Wt.webkitURL,g=h.createObjectURL(r);n?n.location=g:location.href=g,n=null,setTimeout((function(){h.revokeObjectURL(g)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function J6(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<t.length;n++){var s=t[n].re,o=t[n].process,l=s.exec(r);l&&(e=o(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),g=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),g.length==1&&(g="0"+g),"#"+u+h+g}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function oy(r,e){var t=r[0],n=r[1],s=r[2],o=r[3];t=Sa(t,n,s,o,e[0],7,-680876936),o=Sa(o,t,n,s,e[1],12,-389564586),s=Sa(s,o,t,n,e[2],17,606105819),n=Sa(n,s,o,t,e[3],22,-1044525330),t=Sa(t,n,s,o,e[4],7,-176418897),o=Sa(o,t,n,s,e[5],12,1200080426),s=Sa(s,o,t,n,e[6],17,-1473231341),n=Sa(n,s,o,t,e[7],22,-45705983),t=Sa(t,n,s,o,e[8],7,1770035416),o=Sa(o,t,n,s,e[9],12,-1958414417),s=Sa(s,o,t,n,e[10],17,-42063),n=Sa(n,s,o,t,e[11],22,-1990404162),t=Sa(t,n,s,o,e[12],7,1804603682),o=Sa(o,t,n,s,e[13],12,-40341101),s=Sa(s,o,t,n,e[14],17,-1502002290),t=Ia(t,n=Sa(n,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=Ia(o,t,n,s,e[6],9,-1069501632),s=Ia(s,o,t,n,e[11],14,643717713),n=Ia(n,s,o,t,e[0],20,-373897302),t=Ia(t,n,s,o,e[5],5,-701558691),o=Ia(o,t,n,s,e[10],9,38016083),s=Ia(s,o,t,n,e[15],14,-660478335),n=Ia(n,s,o,t,e[4],20,-405537848),t=Ia(t,n,s,o,e[9],5,568446438),o=Ia(o,t,n,s,e[14],9,-1019803690),s=Ia(s,o,t,n,e[3],14,-187363961),n=Ia(n,s,o,t,e[8],20,1163531501),t=Ia(t,n,s,o,e[13],5,-1444681467),o=Ia(o,t,n,s,e[2],9,-51403784),s=Ia(s,o,t,n,e[7],14,1735328473),t=ja(t,n=Ia(n,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=ja(o,t,n,s,e[8],11,-2022574463),s=ja(s,o,t,n,e[11],16,1839030562),n=ja(n,s,o,t,e[14],23,-35309556),t=ja(t,n,s,o,e[1],4,-1530992060),o=ja(o,t,n,s,e[4],11,1272893353),s=ja(s,o,t,n,e[7],16,-155497632),n=ja(n,s,o,t,e[10],23,-1094730640),t=ja(t,n,s,o,e[13],4,681279174),o=ja(o,t,n,s,e[0],11,-358537222),s=ja(s,o,t,n,e[3],16,-722521979),n=ja(n,s,o,t,e[6],23,76029189),t=ja(t,n,s,o,e[9],4,-640364487),o=ja(o,t,n,s,e[12],11,-421815835),s=ja(s,o,t,n,e[15],16,530742520),t=Ta(t,n=ja(n,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=Ta(o,t,n,s,e[7],10,1126891415),s=Ta(s,o,t,n,e[14],15,-1416354905),n=Ta(n,s,o,t,e[5],21,-57434055),t=Ta(t,n,s,o,e[12],6,1700485571),o=Ta(o,t,n,s,e[3],10,-1894986606),s=Ta(s,o,t,n,e[10],15,-1051523),n=Ta(n,s,o,t,e[1],21,-2054922799),t=Ta(t,n,s,o,e[8],6,1873313359),o=Ta(o,t,n,s,e[15],10,-30611744),s=Ta(s,o,t,n,e[6],15,-1560198380),n=Ta(n,s,o,t,e[13],21,1309151649),t=Ta(t,n,s,o,e[4],6,-145523070),o=Ta(o,t,n,s,e[11],10,-1120210379),s=Ta(s,o,t,n,e[2],15,718787259),n=Ta(n,s,o,t,e[9],21,-343485551),r[0]=uu(t,r[0]),r[1]=uu(n,r[1]),r[2]=uu(s,r[2]),r[3]=uu(o,r[3])}function Hx(r,e,t,n,s,o){return e=uu(uu(e,r),uu(n,o)),uu(e<<s|e>>>32-s,t)}function Sa(r,e,t,n,s,o,l){return Hx(e&t|~e&n,r,e,s,o,l)}function Ia(r,e,t,n,s,o,l){return Hx(e&n|t&~n,r,e,s,o,l)}function ja(r,e,t,n,s,o,l){return Hx(e^t^n,r,e,s,o,l)}function Ta(r,e,t,n,s,o,l){return Hx(t^(e|~n),r,e,s,o,l)}function Z6(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)oy(n,lX(r.substring(e-64,e)));r=r.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)s[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(oy(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,oy(n,s),n}function lX(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}Ag=Wt.atob.bind(Wt),jw=Wt.btoa.bind(Wt);var p_="0123456789abcdef".split("");function cX(r){for(var e="",t=0;t<4;t++)e+=p_[r>>8*t+4&15]+p_[r>>8*t&15];return e}function uX(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function Tw(r){return Z6(r).map(uX).join("")}var dX=(function(r){for(var e=0;e<r.length;e++)r[e]=cX(r[e]);return r.join("")})(Z6("hello"))!="5d41402abc4b2a76b9719d911017c592";function uu(r,e){if(dX){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Uw(r,e){var t,n,s,o;if(r!==t){for(var l=(s=r,o=1+(256/r.length>>0),new Array(o+1).join(s)),u=[],h=0;h<256;h++)u[h]=h;var g=0;for(h=0;h<256;h++){var x=u[h];g=(g+x+l.charCodeAt(h))%256,u[h]=u[g],u[g]=x}t=r,n=u}else u=n;var p=e.length,v=0,N=0,T="";for(h=0;h<p;h++)N=(N+(x=u[v=(v+1)%256]))%256,u[v]=u[N],u[N]=x,l=u[(u[v]+u[N])%256],T+=String.fromCharCode(e.charCodeAt(h)^l);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var x_={print:4,modify:8,copy:16,"annot-forms":32};function Oh(r,e,t,n){this.v=1,this.r=2;var s=192;r.forEach((function(u){if(x_.perm!==void 0)throw new Error("Invalid permission: "+u);s+=x_[u]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,l),this.P=-(1+(255^s)),this.encryptionKey=Tw(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Uw(this.encryptionKey,this.padding)}function Ph(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var s=r.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=r[n]}return e}function b_(r){if(rn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,s){if(s=s||!1,typeof t!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[n,!!s],o},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var l=e[t][o];try{l[0].apply(r,n)}catch(u){Wt.console&&fn.error("jsPDF PubSub Error",u.message,u)}l[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function X1(r){if(!(this instanceof X1))return new X1(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function eT(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function cd(r,e,t,n,s){if(!(this instanceof cd))return new cd(r,e,t,n,s);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,eT.call(this,n,s)}function Kh(r,e,t,n,s){if(!(this instanceof Kh))return new Kh(r,e,t,n,s);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,eT.call(this,n,s)}function $t(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],o=arguments[3],l=[],u=1,h=16,g="S",x=null;rn(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,s=r.format||s,o=r.compress||r.compressPdf||o,(x=r.encryption||null)!==null&&(x.userPassword=x.userPassword||"",x.ownerPassword=x.ownerPassword||"",x.userPermissions=x.userPermissions||[]),u=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(h=r.floatPrecision),g=r.defaultPathOperation||"S"),l=r.filters||(o===!0?["FlateEncode"]:l),n=n||"mm",t=(""+(t||"P")).toLowerCase();var p=r.putOnlyUsedFonts||!1,v={},N={internal:{},__private__:{}};N.__private__.PubSub=b_;var T="1.3",I=N.__private__.getPdfVersion=function(){return T};N.__private__.setPdfVersion=function(d){T=d};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};N.__private__.getPageFormats=function(){return O};var R=N.__private__.getPageFormat=function(d){return O[d]};s=s||"a4";var P={COMPAT:"compat",ADVANCED:"advanced"},K=P.COMPAT;function se(){this.saveGraphicsState(),oe(new Qe(At,0,0,-At,0,Mi()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),g="n",K=P.ADVANCED}function ae(){this.restoreGraphicsState(),g="S",K=P.COMPAT}var le=N.__private__.combineFontStyleAndFontWeight=function(d,b){if(d=="bold"&&b=="normal"||d=="bold"&&b==400||d=="normal"&&b=="italic"||d=="bold"&&b=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return b&&(d=b==400||b==="normal"?d==="italic"?"italic":"normal":b!=700&&b!=="bold"||d!=="normal"?(b==700?"bold":b)+""+d:"bold"),d};N.advancedAPI=function(d){var b=K===P.COMPAT;return b&&se.call(this),typeof d!="function"||(d(this),b&&ae.call(this)),this},N.compatAPI=function(d){var b=K===P.ADVANCED;return b&&ae.call(this),typeof d!="function"||(d(this),b&&se.call(this)),this},N.isAdvancedAPI=function(){return K===P.ADVANCED};var U,S=function(d){if(K!==P.ADVANCED)throw new Error(d+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=N.roundToPrecision=N.__private__.roundToPrecision=function(d,b){var C=e||b;if(isNaN(d)||isNaN(C))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return d.toFixed(C).replace(/0+$/,"")};U=N.hpf=N.__private__.hpf=typeof h=="number"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return M(d,h)}:h==="smart"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return M(d,d>-1&&d<1?16:5)}:function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return M(d,16)};var z=N.f2=N.__private__.f2=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f2");return M(d,2)},E=N.__private__.f3=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f3");return M(d,3)},F=N.scale=N.__private__.scale=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.scale");return K===P.COMPAT?d*At:K===P.ADVANCED?d:void 0},D=function(d){return K===P.COMPAT?Mi()-d:K===P.ADVANCED?d:void 0},$=function(d){return F(D(d))};N.__private__.setPrecision=N.setPrecision=function(d){typeof parseInt(d,10)=="number"&&(e=parseInt(d,10))};var be,te="00000000000000000000000000000000",Y=N.__private__.getFileId=function(){return te},ie=N.__private__.setFileId=function(d){return te=d!==void 0&&/^[a-fA-F0-9]{32}$/.test(d)?d.toUpperCase():te.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),x!==null&&(sn=new Oh(x.userPermissions,x.userPassword,x.ownerPassword,te)),te};N.setFileId=function(d){return ie(d),this},N.getFileId=function(){return Y()};var ge=N.__private__.convertDateToPDFDate=function(d){var b=d.getTimezoneOffset(),C=b<0?"+":"-",Q=Math.floor(Math.abs(b/60)),re=Math.abs(b%60),ce=[C,J(Q),"'",J(re),"'"].join("");return["D:",d.getFullYear(),J(d.getMonth()+1),J(d.getDate()),J(d.getHours()),J(d.getMinutes()),J(d.getSeconds()),ce].join("")},xe=N.__private__.convertPDFDateToDate=function(d){var b=parseInt(d.substr(2,4),10),C=parseInt(d.substr(6,2),10)-1,Q=parseInt(d.substr(8,2),10),re=parseInt(d.substr(10,2),10),ce=parseInt(d.substr(12,2),10),Ee=parseInt(d.substr(14,2),10);return new Date(b,C,Q,re,ce,Ee,0)},X=N.__private__.setCreationDate=function(d){var b;if(d===void 0&&(d=new Date),d instanceof Date)b=ge(d);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(d))throw new Error("Invalid argument passed to jsPDF.setCreationDate");b=d}return be=b},L=N.__private__.getCreationDate=function(d){var b=be;return d==="jsDate"&&(b=xe(be)),b};N.setCreationDate=function(d){return X(d),this},N.getCreationDate=function(d){return L(d)};var H,J=N.__private__.padd2=function(d){return("0"+parseInt(d)).slice(-2)},ee=N.__private__.padd2Hex=function(d){return("00"+(d=d.toString())).substr(d.length)},he=0,me=[],ve=[],Be=0,Xe=[],Re=[],tt=!1,fe=ve,Me=function(){he=0,Be=0,ve=[],me=[],Xe=[],Ht=xt(),mt=xt()};N.__private__.setCustomOutputDestination=function(d){tt=!0,fe=d};var de=function(d){tt||(fe=d)};N.__private__.resetCustomOutputDestination=function(){tt=!1,fe=ve};var oe=N.__private__.out=function(d){return d=d.toString(),Be+=d.length+1,fe.push(d),fe},Je=N.__private__.write=function(d){return oe(arguments.length===1?d.toString():Array.prototype.join.call(arguments," "))},ot=N.__private__.getArrayBuffer=function(d){for(var b=d.length,C=new ArrayBuffer(b),Q=new Uint8Array(C);b--;)Q[b]=d.charCodeAt(b);return C},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];N.__private__.getStandardFonts=function(){return Oe};var He=r.fontSize||16;N.__private__.setFontSize=N.setFontSize=function(d){return He=K===P.ADVANCED?d/At:d,this};var st,it=N.__private__.getFontSize=N.getFontSize=function(){return K===P.COMPAT?He:He*At},vt=r.R2L||!1;N.__private__.setR2L=N.setR2L=function(d){return vt=d,this},N.__private__.getR2L=N.getR2L=function(){return vt};var bt,Ot=N.__private__.setZoomMode=function(d){var b=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(d))st=d;else if(isNaN(d)){if(b.indexOf(d)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+d+'" is not recognized.');st=d}else st=parseInt(d,10)};N.__private__.getZoomMode=function(){return st};var Yt,Zt=N.__private__.setPageMode=function(d){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(d)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+d+'" is not recognized.');bt=d};N.__private__.getPageMode=function(){return bt};var cr=N.__private__.setLayoutMode=function(d){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(d)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+d+'" is not recognized.');Yt=d};N.__private__.getLayoutMode=function(){return Yt},N.__private__.setDisplayMode=N.setDisplayMode=function(d,b,C){return Ot(d),cr(b),Zt(C),this};var Mt={title:"",subject:"",author:"",keywords:"",creator:""};N.__private__.getDocumentProperty=function(d){if(Object.keys(Mt).indexOf(d)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Mt[d]},N.__private__.getDocumentProperties=function(){return Mt},N.__private__.setDocumentProperties=N.setProperties=N.setDocumentProperties=function(d){for(var b in Mt)Mt.hasOwnProperty(b)&&d[b]&&(Mt[b]=d[b]);return this},N.__private__.setDocumentProperty=function(d,b){if(Object.keys(Mt).indexOf(d)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Mt[d]=b};var ar,At,ke,ut,It,Ut={},Ft={},Rr=[],Pt={},On={},lr={},gn={},fr=null,ur=0,jt=[],Xt=new b_(N),ma=r.hotfixes||[],Er={},Xr={},mn=[],Qe=function d(b,C,Q,re,ce,Ee){if(!(this instanceof d))return new d(b,C,Q,re,ce,Ee);isNaN(b)&&(b=1),isNaN(C)&&(C=0),isNaN(Q)&&(Q=0),isNaN(re)&&(re=1),isNaN(ce)&&(ce=0),isNaN(Ee)&&(Ee=0),this._matrix=[b,C,Q,re,ce,Ee]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qe.prototype.join=function(d){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(d)},Qe.prototype.multiply=function(d){var b=d.sx*this.sx+d.shy*this.shx,C=d.sx*this.shy+d.shy*this.sy,Q=d.shx*this.sx+d.sy*this.shx,re=d.shx*this.shy+d.sy*this.sy,ce=d.tx*this.sx+d.ty*this.shx+this.tx,Ee=d.tx*this.shy+d.ty*this.sy+this.ty;return new Qe(b,C,Q,re,ce,Ee)},Qe.prototype.decompose=function(){var d=this.sx,b=this.shy,C=this.shx,Q=this.sy,re=this.tx,ce=this.ty,Ee=Math.sqrt(d*d+b*b),Ze=(d/=Ee)*C+(b/=Ee)*Q;C-=d*Ze,Q-=b*Ze;var ft=Math.sqrt(C*C+Q*Q);return Ze/=ft,d*(Q/=ft)<b*(C/=ft)&&(d=-d,b=-b,Ze=-Ze,Ee=-Ee),{scale:new Qe(Ee,0,0,ft,0,0),translate:new Qe(1,0,0,1,re,ce),rotate:new Qe(d,b,-b,d,0,0),skew:new Qe(1,0,Ze,1,0,0)}},Qe.prototype.toString=function(d){return this.join(" ")},Qe.prototype.inversed=function(){var d=this.sx,b=this.shy,C=this.shx,Q=this.sy,re=this.tx,ce=this.ty,Ee=1/(d*Q-b*C),Ze=Q*Ee,ft=-b*Ee,pt=-C*Ee,Bt=d*Ee;return new Qe(Ze,ft,pt,Bt,-Ze*re-pt*ce,-ft*re-Bt*ce)},Qe.prototype.applyToPoint=function(d){var b=d.x*this.sx+d.y*this.shx+this.tx,C=d.x*this.shy+d.y*this.sy+this.ty;return new ia(b,C)},Qe.prototype.applyToRectangle=function(d){var b=this.applyToPoint(d),C=this.applyToPoint(new ia(d.x+d.w,d.y+d.h));return new BA(b.x,b.y,C.x-b.x,C.y-b.y)},Qe.prototype.clone=function(){var d=this.sx,b=this.shy,C=this.shx,Q=this.sy,re=this.tx,ce=this.ty;return new Qe(d,b,C,Q,re,ce)},N.Matrix=Qe;var ct=N.matrixMult=function(d,b){return b.multiply(d)},kt=new Qe(1,0,0,1,0,0);N.unitMatrix=N.identityMatrix=kt;var yt=function(d,b){if(!On[d]){var C=(b instanceof cd?"Sh":"P")+(Object.keys(Pt).length+1).toString(10);b.id=C,On[d]=C,Pt[C]=b,Xt.publish("addPattern",b)}};N.ShadingPattern=cd,N.TilingPattern=Kh,N.addShadingPattern=function(d,b){return S("addShadingPattern()"),yt(d,b),this},N.beginTilingPattern=function(d){S("beginTilingPattern()"),Nl(d.boundingBox[0],d.boundingBox[1],d.boundingBox[2]-d.boundingBox[0],d.boundingBox[3]-d.boundingBox[1],d.matrix)},N.endTilingPattern=function(d,b){S("endTilingPattern()"),b.stream=Re[H].join(`
`),yt(d,b),Xt.publish("endTilingPattern",b),mn.pop().restore()};var rt=N.__private__.newObject=function(){var d=xt();return Qt(d,!0),d},xt=N.__private__.newObjectDeferred=function(){return he++,me[he]=function(){return Be},he},Qt=function(d,b){return b=typeof b=="boolean"&&b,me[d]=Be,b&&oe(d+" 0 obj"),d},_t=N.__private__.newAdditionalObject=function(){var d={objId:xt(),content:""};return Xe.push(d),d},Ht=xt(),mt=xt(),rr=N.__private__.decodeColorString=function(d){var b=d.split(" ");if(b.length!==2||b[1]!=="g"&&b[1]!=="G")b.length===5&&(b[4]==="k"||b[4]==="K")&&(b=[(1-b[0])*(1-b[3]),(1-b[1])*(1-b[3]),(1-b[2])*(1-b[3]),"r"]);else{var C=parseFloat(b[0]);b=[C,C,C,"r"]}for(var Q="#",re=0;re<3;re++)Q+=("0"+Math.floor(255*parseFloat(b[re])).toString(16)).slice(-2);return Q},yn=N.__private__.encodeColorString=function(d){var b;typeof d=="string"&&(d={ch1:d});var C=d.ch1,Q=d.ch2,re=d.ch3,ce=d.ch4,Ee=d.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof C=="string"&&C.charAt(0)!=="#"){var Ze=new J6(C);if(Ze.ok)C=Ze.toHex();else if(!/^\d*\.?\d*$/.test(C))throw new Error('Invalid color "'+C+'" passed to jsPDF.encodeColorString.')}if(typeof C=="string"&&/^#[0-9A-Fa-f]{3}$/.test(C)&&(C="#"+C[1]+C[1]+C[2]+C[2]+C[3]+C[3]),typeof C=="string"&&/^#[0-9A-Fa-f]{6}$/.test(C)){var ft=parseInt(C.substr(1),16);C=ft>>16&255,Q=ft>>8&255,re=255&ft}if(Q===void 0||ce===void 0&&C===Q&&Q===re)if(typeof C=="string")b=C+" "+Ee[0];else switch(d.precision){case 2:b=z(C/255)+" "+Ee[0];break;case 3:default:b=E(C/255)+" "+Ee[0]}else if(ce===void 0||rn(ce)==="object"){if(ce&&!isNaN(ce.a)&&ce.a===0)return b=["1.","1.","1.",Ee[1]].join(" ");if(typeof C=="string")b=[C,Q,re,Ee[1]].join(" ");else switch(d.precision){case 2:b=[z(C/255),z(Q/255),z(re/255),Ee[1]].join(" ");break;default:case 3:b=[E(C/255),E(Q/255),E(re/255),Ee[1]].join(" ")}}else if(typeof C=="string")b=[C,Q,re,ce,Ee[2]].join(" ");else switch(d.precision){case 2:b=[z(C),z(Q),z(re),z(ce),Ee[2]].join(" ");break;case 3:default:b=[E(C),E(Q),E(re),E(ce),Ee[2]].join(" ")}return b},Zs=N.__private__.getFilters=function(){return l},pa=N.__private__.putStream=function(d){var b=(d=d||{}).data||"",C=d.filters||Zs(),Q=d.alreadyAppliedFilters||[],re=d.addLength1||!1,ce=b.length,Ee=d.objectId,Ze=function(Sn){return Sn};if(x!==null&&Ee===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");x!==null&&(Ze=sn.encryptor(Ee,0));var ft={};C===!0&&(C=["FlateEncode"]);var pt=d.additionalKeyValues||[],Bt=(ft=$t.API.processDataByFilters!==void 0?$t.API.processDataByFilters(b,C):{data:b,reverseChain:[]}).reverseChain+(Array.isArray(Q)?Q.join(" "):Q.toString());if(ft.data.length!==0&&(pt.push({key:"Length",value:ft.data.length}),re===!0&&pt.push({key:"Length1",value:ce})),Bt.length!=0)if(Bt.split("/").length-1==1)pt.push({key:"Filter",value:Bt});else{pt.push({key:"Filter",value:"["+Bt+"]"});for(var er=0;er<pt.length;er+=1)if(pt[er].key==="DecodeParms"){for(var Tr=[],Ur=0;Ur<ft.reverseChain.split("/").length-1;Ur+=1)Tr.push("null");Tr.push(pt[er].value),pt[er].value="["+Tr.join(" ")+"]"}}oe("<<");for(var Mr=0;Mr<pt.length;Mr++)oe("/"+pt[Mr].key+" "+pt[Mr].value);oe(">>"),ft.data.length!==0&&(oe("stream"),oe(Ze(ft.data)),oe("endstream"))},Pa=N.__private__.putPage=function(d){var b=d.number,C=d.data,Q=d.objId,re=d.contentsObjId;Qt(Q,!0),oe("<</Type /Page"),oe("/Parent "+d.rootDictionaryObjId+" 0 R"),oe("/Resources "+d.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(U(d.mediaBox.bottomLeftX))+" "+parseFloat(U(d.mediaBox.bottomLeftY))+" "+U(d.mediaBox.topRightX)+" "+U(d.mediaBox.topRightY)+"]"),d.cropBox!==null&&oe("/CropBox ["+U(d.cropBox.bottomLeftX)+" "+U(d.cropBox.bottomLeftY)+" "+U(d.cropBox.topRightX)+" "+U(d.cropBox.topRightY)+"]"),d.bleedBox!==null&&oe("/BleedBox ["+U(d.bleedBox.bottomLeftX)+" "+U(d.bleedBox.bottomLeftY)+" "+U(d.bleedBox.topRightX)+" "+U(d.bleedBox.topRightY)+"]"),d.trimBox!==null&&oe("/TrimBox ["+U(d.trimBox.bottomLeftX)+" "+U(d.trimBox.bottomLeftY)+" "+U(d.trimBox.topRightX)+" "+U(d.trimBox.topRightY)+"]"),d.artBox!==null&&oe("/ArtBox ["+U(d.artBox.bottomLeftX)+" "+U(d.artBox.bottomLeftY)+" "+U(d.artBox.topRightX)+" "+U(d.artBox.topRightY)+"]"),typeof d.userUnit=="number"&&d.userUnit!==1&&oe("/UserUnit "+d.userUnit),Xt.publish("putPage",{objId:Q,pageContext:jt[b],pageNumber:b,page:C}),oe("/Contents "+re+" 0 R"),oe(">>"),oe("endobj");var ce=C.join(`
`);return K===P.ADVANCED&&(ce+=`
Q`),Qt(re,!0),pa({data:ce,filters:Zs(),objectId:re}),oe("endobj"),Q},no=N.__private__.putPages=function(){var d,b,C=[];for(d=1;d<=ur;d++)jt[d].objId=xt(),jt[d].contentsObjId=xt();for(d=1;d<=ur;d++)C.push(Pa({number:d,data:Re[d],objId:jt[d].objId,contentsObjId:jt[d].contentsObjId,mediaBox:jt[d].mediaBox,cropBox:jt[d].cropBox,bleedBox:jt[d].bleedBox,trimBox:jt[d].trimBox,artBox:jt[d].artBox,userUnit:jt[d].userUnit,rootDictionaryObjId:Ht,resourceDictionaryObjId:mt}));Qt(Ht,!0),oe("<</Type /Pages");var Q="/Kids [";for(b=0;b<ur;b++)Q+=C[b]+" 0 R ";oe(Q+"]"),oe("/Count "+ur),oe(">>"),oe("endobj"),Xt.publish("postPutPages")},ea=function(d){Xt.publish("putFont",{font:d,out:oe,newObject:rt,putStream:pa}),d.isAlreadyPutted!==!0&&(d.objectNumber=rt(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Ph(d.postScriptName)),oe("/Subtype /Type1"),typeof d.encoding=="string"&&oe("/Encoding /"+d.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},ji=function(){for(var d in Ut)Ut.hasOwnProperty(d)&&(p===!1||p===!0&&v.hasOwnProperty(d))&&ea(Ut[d])},ta=function(d){d.objectNumber=rt();var b=[];b.push({key:"Type",value:"/XObject"}),b.push({key:"Subtype",value:"/Form"}),b.push({key:"BBox",value:"["+[U(d.x),U(d.y),U(d.x+d.width),U(d.y+d.height)].join(" ")+"]"}),b.push({key:"Matrix",value:"["+d.matrix.toString()+"]"});var C=d.pages[1].join(`
`);pa({data:C,additionalKeyValues:b,objectId:d.objectNumber}),oe("endobj")},vs=function(){for(var d in Er)Er.hasOwnProperty(d)&&ta(Er[d])},Ds=function(d,b){var C,Q=[],re=1/(b-1);for(C=0;C<1;C+=re)Q.push(C);if(Q.push(1),d[0].offset!=0){var ce={offset:0,color:d[0].color};d.unshift(ce)}if(d[d.length-1].offset!=1){var Ee={offset:1,color:d[d.length-1].color};d.push(Ee)}for(var Ze="",ft=0,pt=0;pt<Q.length;pt++){for(C=Q[pt];C>d[ft+1].offset;)ft++;var Bt=d[ft].offset,er=(C-Bt)/(d[ft+1].offset-Bt),Tr=d[ft].color,Ur=d[ft+1].color;Ze+=ee(Math.round((1-er)*Tr[0]+er*Ur[0]).toString(16))+ee(Math.round((1-er)*Tr[1]+er*Ur[1]).toString(16))+ee(Math.round((1-er)*Tr[2]+er*Ur[2]).toString(16))}return Ze.trim()},si=function(d,b){b||(b=21);var C=rt(),Q=Ds(d.colors,b),re=[];re.push({key:"FunctionType",value:"0"}),re.push({key:"Domain",value:"[0.0 1.0]"}),re.push({key:"Size",value:"["+b+"]"}),re.push({key:"BitsPerSample",value:"8"}),re.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),re.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pa({data:Q,additionalKeyValues:re,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:C}),oe("endobj"),d.objectNumber=rt(),oe("<< /ShadingType "+d.type),oe("/ColorSpace /DeviceRGB");var ce="/Coords ["+U(parseFloat(d.coords[0]))+" "+U(parseFloat(d.coords[1]))+" ";d.type===2?ce+=U(parseFloat(d.coords[2]))+" "+U(parseFloat(d.coords[3])):ce+=U(parseFloat(d.coords[2]))+" "+U(parseFloat(d.coords[3]))+" "+U(parseFloat(d.coords[4]))+" "+U(parseFloat(d.coords[5])),oe(ce+="]"),d.matrix&&oe("/Matrix ["+d.matrix.toString()+"]"),oe("/Function "+C+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},En=function(d,b){var C=xt(),Q=rt();b.push({resourcesOid:C,objectOid:Q}),d.objectNumber=Q;var re=[];re.push({key:"Type",value:"/Pattern"}),re.push({key:"PatternType",value:"1"}),re.push({key:"PaintType",value:"1"}),re.push({key:"TilingType",value:"1"}),re.push({key:"BBox",value:"["+d.boundingBox.map(U).join(" ")+"]"}),re.push({key:"XStep",value:U(d.xStep)}),re.push({key:"YStep",value:U(d.yStep)}),re.push({key:"Resources",value:C+" 0 R"}),d.matrix&&re.push({key:"Matrix",value:"["+d.matrix.toString()+"]"}),pa({data:d.stream,additionalKeyValues:re,objectId:d.objectNumber}),oe("endobj")},so=function(d){var b;for(b in Pt)Pt.hasOwnProperty(b)&&(Pt[b]instanceof cd?si(Pt[b]):Pt[b]instanceof Kh&&En(Pt[b],d))},gA=function(d){for(var b in d.objectNumber=rt(),oe("<<"),d)switch(b){case"opacity":oe("/ca "+z(d[b]));break;case"stroke-opacity":oe("/CA "+z(d[b]))}oe(">>"),oe("endobj")},ai=function(){var d;for(d in lr)lr.hasOwnProperty(d)&&gA(lr[d])},xa=function(){for(var d in oe("/XObject <<"),Er)Er.hasOwnProperty(d)&&Er[d].objectNumber>=0&&oe("/"+d+" "+Er[d].objectNumber+" 0 R");Xt.publish("putXobjectDict"),oe(">>")},ml=function(){sn.oid=rt(),oe("<<"),oe("/Filter /Standard"),oe("/V "+sn.v),oe("/R "+sn.r),oe("/U <"+sn.toHexString(sn.U)+">"),oe("/O <"+sn.toHexString(sn.O)+">"),oe("/P "+sn.P),oe(">>"),oe("endobj")},mA=function(){for(var d in oe("/Font <<"),Ut)Ut.hasOwnProperty(d)&&(p===!1||p===!0&&v.hasOwnProperty(d))&&oe("/"+d+" "+Ut[d].objectNumber+" 0 R");oe(">>")},pl=function(){if(Object.keys(Pt).length>0){for(var d in oe("/Shading <<"),Pt)Pt.hasOwnProperty(d)&&Pt[d]instanceof cd&&Pt[d].objectNumber>=0&&oe("/"+d+" "+Pt[d].objectNumber+" 0 R");Xt.publish("putShadingPatternDict"),oe(">>")}},To=function(d){if(Object.keys(Pt).length>0){for(var b in oe("/Pattern <<"),Pt)Pt.hasOwnProperty(b)&&Pt[b]instanceof N.TilingPattern&&Pt[b].objectNumber>=0&&Pt[b].objectNumber<d&&oe("/"+b+" "+Pt[b].objectNumber+" 0 R");Xt.publish("putTilingPatternDict"),oe(">>")}},pA=function(){if(Object.keys(lr).length>0){var d;for(d in oe("/ExtGState <<"),lr)lr.hasOwnProperty(d)&&lr[d].objectNumber>=0&&oe("/"+d+" "+lr[d].objectNumber+" 0 R");Xt.publish("putGStateDict"),oe(">>")}},Sr=function(d){Qt(d.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),mA(),pl(),To(d.objectOid),pA(),xa(),oe(">>"),oe("endobj")},wn=function(){var d=[];ji(),ai(),vs(),so(d),Xt.publish("putResources"),d.forEach(Sr),Sr({resourcesOid:mt,objectOid:Number.MAX_SAFE_INTEGER}),Xt.publish("postPutResources")},Pn=function(){Xt.publish("putAdditionalObjects");for(var d=0;d<Xe.length;d++){var b=Xe[d];Qt(b.objId,!0),oe(b.content),oe("endobj")}Xt.publish("postPutAdditionalObjects")},Ti=function(d){Ft[d.fontName]=Ft[d.fontName]||{},Ft[d.fontName][d.fontStyle]=d.id},Uo=function(d,b,C,Q,re){var ce={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:d,fontName:b,fontStyle:C,encoding:Q,isStandardFont:re||!1,metadata:{}};return Xt.publish("addFont",{font:ce,instance:this}),Ut[ce.id]=ce,Ti(ce),ce.id},kr=function(d){for(var b=0,C=Oe.length;b<C;b++){var Q=Uo.call(this,d[b][0],d[b][1],d[b][2],Oe[b][3],!0);p===!1&&(v[Q]=!0);var re=d[b][0].split("-");Ti({id:Q,fontName:re[0],fontStyle:re[1]||""})}Xt.publish("addFonts",{fonts:Ut,dictionary:Ft})},Bs=function(d){return d.foo=function(){try{return d.apply(this,arguments)}catch(Q){var b=Q.stack||"";~b.indexOf(" at ")&&(b=b.split(" at ")[1]);var C="Error in function "+b.split(`
`)[0].split("<")[0]+": "+Q.message;if(!Wt.console)throw new Error(C);Wt.console.error(C,Q),Wt.alert&&alert(C)}},d.foo.bar=d,d.foo},ra=function(d,b){var C,Q,re,ce,Ee,Ze,ft,pt,Bt;if(re=(b=b||{}).sourceEncoding||"Unicode",Ee=b.outputEncoding,(b.autoencode||Ee)&&Ut[ar].metadata&&Ut[ar].metadata[re]&&Ut[ar].metadata[re].encoding&&(ce=Ut[ar].metadata[re].encoding,!Ee&&Ut[ar].encoding&&(Ee=Ut[ar].encoding),!Ee&&ce.codePages&&(Ee=ce.codePages[0]),typeof Ee=="string"&&(Ee=ce[Ee]),Ee)){for(ft=!1,Ze=[],C=0,Q=d.length;C<Q;C++)(pt=Ee[d.charCodeAt(C)])?Ze.push(String.fromCharCode(pt)):Ze.push(d[C]),Ze[C].charCodeAt(0)>>8&&(ft=!0);d=Ze.join("")}for(C=d.length;ft===void 0&&C!==0;)d.charCodeAt(C-1)>>8&&(ft=!0),C--;if(!ft)return d;for(Ze=b.noBOM?[]:[254,255],C=0,Q=d.length;C<Q;C++){if((Bt=(pt=d.charCodeAt(C))>>8)>>8)throw new Error("Character at position "+C+" of string '"+d+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ze.push(Bt),Ze.push(pt-(Bt<<8))}return String.fromCharCode.apply(void 0,Ze)},Gn=N.__private__.pdfEscape=N.pdfEscape=function(d,b){return ra(d,b).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},As=N.__private__.beginPage=function(d){Re[++ur]=[],jt[ur]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(d[0]),topRightY:Number(d[1])}},xA(ur),de(Re[H])},Fo=function(d,b){var C,Q,re;switch(t=b||t,typeof d=="string"&&(C=R(d.toLowerCase()),Array.isArray(C)&&(Q=C[0],re=C[1])),Array.isArray(d)&&(Q=d[0]*At,re=d[1]*At),isNaN(Q)&&(Q=s[0],re=s[1]),(Q>14400||re>14400)&&(fn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Q=Math.min(14400,Q),re=Math.min(14400,re)),s=[Q,re],t.substr(0,1)){case"l":re>Q&&(s=[re,Q]);break;case"p":Q>re&&(s=[re,Q])}As(s),Va(Hn),oe(_s),lo!==0&&oe(lo+" J"),vA!==0&&oe(vA+" j"),Xt.publish("addPage",{pageNumber:ur})},uc=function(d){d>0&&d<=ur&&(Re.splice(d,1),jt.splice(d,1),ur--,H>ur&&(H=ur),this.setPage(H))},xA=function(d){d>0&&d<=ur&&(H=d)},ao=N.__private__.getNumberOfPages=N.getNumberOfPages=function(){return Re.length-1},xl=function(d,b,C){var Q,re=void 0;return C=C||{},d=d!==void 0?d:Ut[ar].fontName,b=b!==void 0?b:Ut[ar].fontStyle,Q=d.toLowerCase(),Ft[Q]!==void 0&&Ft[Q][b]!==void 0?re=Ft[Q][b]:Ft[d]!==void 0&&Ft[d][b]!==void 0?re=Ft[d][b]:C.disableWarning===!1&&fn.warn("Unable to look up font label for font '"+d+"', '"+b+"'. Refer to getFontList() for available fonts."),re||C.noFallback||(re=Ft.times[b])==null&&(re=Ft.times.normal),re},io=N.__private__.putInfo=function(){var d=rt(),b=function(Q){return Q};for(var C in x!==null&&(b=sn.encryptor(d,0)),oe("<<"),oe("/Producer ("+Gn(b("jsPDF "+$t.version))+")"),Mt)Mt.hasOwnProperty(C)&&Mt[C]&&oe("/"+C.substr(0,1).toUpperCase()+C.substr(1)+" ("+Gn(b(Mt[C]))+")");oe("/CreationDate ("+Gn(b(be))+")"),oe(">>"),oe("endobj")},ls=N.__private__.putCatalog=function(d){var b=(d=d||{}).rootDictionaryObjId||Ht;switch(rt(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+b+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var C=""+st;C.substr(C.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+z(st)+"]")}switch(Yt||(Yt="continuous"),Yt){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}bt&&oe("/PageMode /"+bt),Xt.publish("putCatalog"),oe(">>"),oe("endobj")},dc=N.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(he+1)),oe("/Root "+he+" 0 R"),oe("/Info "+(he-1)+" 0 R"),x!==null&&oe("/Encrypt "+sn.oid+" 0 R"),oe("/ID [ <"+te+"> <"+te+"> ]"),oe(">>")},bl=N.__private__.putHeader=function(){oe("%PDF-"+T),oe("%")},yl=N.__private__.putXRef=function(){var d="0000000000";oe("xref"),oe("0 "+(he+1)),oe("0000000000 65535 f ");for(var b=1;b<=he;b++)typeof me[b]=="function"?oe((d+me[b]()).slice(-10)+" 00000 n "):me[b]!==void 0?oe((d+me[b]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},ba=N.__private__.buildDocument=function(){Me(),de(ve),Xt.publish("buildDocument"),bl(),no(),Pn(),wn(),x!==null&&ml(),io(),ls();var d=Be;return yl(),dc(),oe("startxref"),oe(""+d),oe("%%EOF"),de(Re[H]),ve.join(`
`)},Qo=N.__private__.getBlob=function(d){return new Blob([ot(d)],{type:"application/pdf"})},Ha=N.output=N.__private__.output=Bs((function(d,b){switch(typeof(b=b||{})=="string"?b={filename:b}:b.filename=b.filename||"generated.pdf",d){case void 0:return ba();case"save":N.save(b.filename);break;case"arraybuffer":return ot(ba());case"blob":return Qo(ba());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(Qo(ba()))||void 0;fn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var C="",Q=ba();try{C=jw(Q)}catch{C=jw(unescape(encodeURIComponent(Q)))}return"data:application/pdf;filename="+b.filename+";base64,"+C;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var re="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ce=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';b.pdfObjectUrl&&(re=b.pdfObjectUrl,ce="");var Ee='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+re+'"'+ce+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(b)+");<\/script></body></html>",Ze=Wt.open();return Ze!==null&&Ze.document.write(Ee),Ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(b.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+b.filename+'" width="500px" height="400px" /></body></html>',pt=Wt.open();if(pt!==null){pt.document.write(ft);var Bt=this;pt.document.documentElement.querySelector("#pdfViewer").onload=function(){pt.document.title=b.filename,pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Bt.output("bloburl"))}}return pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",b)+'"></iframe></body></html>',Tr=Wt.open();if(Tr!==null&&(Tr.document.write(er),Tr.document.title=b.filename),Tr||typeof safari>"u")return Tr;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",b);default:return null}})),Lo=function(d){return Array.isArray(ma)===!0&&ma.indexOf(d)>-1};switch(n){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=Lo("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);At=n}var sn=null;X(),ie();var wl=function(d){return x!==null?sn.encryptor(d,0):function(b){return b}},na=N.__private__.getPageInfo=N.getPageInfo=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[d].objId,pageNumber:d,pageContext:jt[d]}},zt=N.__private__.getPageInfoByObjId=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var b in jt)if(jt[b].objId===d)break;return na(b)},ii=N.__private__.getCurrentPageInfo=N.getCurrentPageInfo=function(){return{objId:jt[H].objId,pageNumber:H,pageContext:jt[H]}};N.addPage=function(){return Fo.apply(this,arguments),this},N.setPage=function(){return xA.apply(this,arguments),de.call(this,Re[H]),this},N.insertPage=function(d){return this.addPage(),this.movePage(H,d),this},N.movePage=function(d,b){var C,Q;if(d>b){C=Re[d],Q=jt[d];for(var re=d;re>b;re--)Re[re]=Re[re-1],jt[re]=jt[re-1];Re[b]=C,jt[b]=Q,this.setPage(b)}else if(d<b){C=Re[d],Q=jt[d];for(var ce=d;ce<b;ce++)Re[ce]=Re[ce+1],jt[ce]=jt[ce+1];Re[b]=C,jt[b]=Q,this.setPage(b)}return this},N.deletePage=function(){return uc.apply(this,arguments),this},N.__private__.text=N.text=function(d,b,C,Q,re){var ce,Ee,Ze,ft,pt,Bt,er,Tr,Ur,Mr=(Q=Q||{}).scope||this;if(typeof d=="number"&&typeof b=="number"&&(typeof C=="string"||Array.isArray(C))){var Sn=C;C=b,b=d,d=Sn}if(arguments[3]instanceof Qe?(S("The transform parameter of text() with a Matrix value"),Ur=re):(Ze=arguments[4],ft=arguments[5],rn(er=arguments[3])==="object"&&er!==null||(typeof Ze=="string"&&(ft=Ze,Ze=null),typeof er=="string"&&(ft=er,er=null),typeof er=="number"&&(Ze=er,er=null),Q={flags:er,angle:Ze,align:ft})),isNaN(b)||isNaN(C)||d==null)throw new Error("Invalid arguments passed to jsPDF.text");if(d.length===0)return Mr;var vn="",Ms=!1,qa=typeof Q.lineHeightFactor=="number"?Q.lineHeightFactor:Cs,co=Mr.internal.scaleFactor;function Dd(mr){return mr=mr.split("	").join(Array(Q.TabLen||9).join(" ")),Gn(mr,er)}function gc(mr){for(var Vr,Fr=mr.concat(),pn=[],Ki=Fr.length;Ki--;)typeof(Vr=Fr.shift())=="string"?pn.push(Vr):Array.isArray(mr)&&(Vr.length===1||Vr[1]===void 0&&Vr[2]===void 0)?pn.push(Vr[0]):pn.push([Vr[0],Vr[1],Vr[2]]);return pn}function mc(mr,Vr){var Fr;if(typeof mr=="string")Fr=Vr(mr)[0];else if(Array.isArray(mr)){for(var pn,Ki,UA=mr.concat(),Vo=[],Bc=UA.length;Bc--;)typeof(pn=UA.shift())=="string"?Vo.push(Vr(pn)[0]):Array.isArray(pn)&&typeof pn[0]=="string"&&(Ki=Vr(pn[0],pn[1],pn[2]),Vo.push([Ki[0],Ki[1],Ki[2]]));Fr=Vo}return Fr}var uo=!1,Do=!0;if(typeof d=="string")uo=!0;else if(Array.isArray(d)){var Ru=d.concat();Ee=[];for(var Mo,us=Ru.length;us--;)(typeof(Mo=Ru.shift())!="string"||Array.isArray(Mo)&&typeof Mo[0]!="string")&&(Do=!1);uo=Do}if(uo===!1)throw new Error('Type of text must be string or Array. "'+d+'" is not recognized.');typeof d=="string"&&(d=d.match(/[\r?\n]/)?d.split(/\r\n|\r|\n/g):[d]);var Cl=He/Mr.internal.scaleFactor,_A=Cl*(qa-1);switch(Q.baseline){case"bottom":C-=_A;break;case"top":C+=Cl-_A;break;case"hanging":C+=Cl-2*_A;break;case"middle":C+=Cl/2-_A}if((Bt=Q.maxWidth||0)>0&&(typeof d=="string"?d=Mr.splitTextToSize(d,Bt):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce((function(mr,Vr){return mr.concat(Mr.splitTextToSize(Vr,Bt))}),[]))),ce={text:d,x:b,y:C,options:Q,mutex:{pdfEscape:Gn,activeFontKey:ar,fonts:Ut,activeFontSize:He}},Xt.publish("preProcessText",ce),d=ce.text,Ze=(Q=ce.options).angle,!(Ur instanceof Qe)&&Ze&&typeof Ze=="number"){Ze*=Math.PI/180,Q.rotationDirection===0&&(Ze=-Ze),K===P.ADVANCED&&(Ze=-Ze);var EA=Math.cos(Ze),pc=Math.sin(Ze);Ur=new Qe(EA,pc,-pc,EA,0,0)}else Ze&&Ze instanceof Qe&&(Ur=Ze);K!==P.ADVANCED||Ur||(Ur=kt),(pt=Q.charSpace||Ao)!==void 0&&(vn+=U(F(pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Tr=Q.horizontalScale)!==void 0&&(vn+=U(100*Tr)+` Tz
`),Q.lang;var oa=-1,Md=Q.renderingMode!==void 0?Q.renderingMode:Q.stroke,Du=Mr.internal.getCurrentPageInfo().pageContext;switch(Md){case 0:case!1:case"fill":oa=0;break;case 1:case!0:case"stroke":oa=1;break;case 2:case"fillThenStroke":oa=2;break;case 3:case"invisible":oa=3;break;case 4:case"fillAndAddForClipping":oa=4;break;case 5:case"strokeAndAddPathForClipping":oa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":oa=6;break;case 7:case"addToPathForClipping":oa=7}var Od=Du.usedRenderingMode!==void 0?Du.usedRenderingMode:-1;oa!==-1?vn+=oa+` Tr
`:Od!==-1&&(vn+=`0 Tr
`),oa!==-1&&(Du.usedRenderingMode=oa),ft=Q.align||"left";var li,xc=He*qa,Pd=Mr.internal.pageSize.getWidth(),Os=Ut[ar];pt=Q.charSpace||Ao,Bt=Q.maxWidth||0,er=Object.assign({autoencode:!0,noBOM:!0},Q.flags);var ci=[],SA=function(mr){return Mr.getStringUnitWidth(mr,{font:Os,charSpace:pt,fontSize:He,doKerning:!1})*He/co};if(Object.prototype.toString.call(d)==="[object Array]"){var Aa;Ee=gc(d),ft!=="left"&&(li=Ee.map(SA));var Ps,Oo=0;if(ft==="right"){b-=li[0],d=[],us=Ee.length;for(var Oi=0;Oi<us;Oi++)Oi===0?(Ps=aa(b),Aa=cs(C)):(Ps=F(Oo-li[Oi]),Aa=-xc),d.push([Ee[Oi],Ps,Aa]),Oo=li[Oi]}else if(ft==="center"){b-=li[0]/2,d=[],us=Ee.length;for(var Po=0;Po<us;Po++)Po===0?(Ps=aa(b),Aa=cs(C)):(Ps=F((Oo-li[Po])/2),Aa=-xc),d.push([Ee[Po],Ps,Aa]),Oo=li[Po]}else if(ft==="left"){d=[],us=Ee.length;for(var Pi=0;Pi<us;Pi++)d.push(Ee[Pi])}else if(ft==="justify"&&Os.encoding==="Identity-H"){d=[],us=Ee.length,Bt=Bt!==0?Bt:Pd;for(var Hi=0,cn=0;cn<us;cn++)if(Aa=cn===0?cs(C):-xc,Ps=cn===0?aa(b):Hi,cn<us-1){var _l=F((Bt-li[cn])/(Ee[cn].split(" ").length-1)),Hs=Ee[cn].split(" ");d.push([Hs[0]+" ",Ps,Aa]),Hi=0;for(var ds=1;ds<Hs.length;ds++){var Vi=(SA(Hs[ds-1]+" "+Hs[ds])-SA(Hs[ds]))*co+_l;ds==Hs.length-1?d.push([Hs[ds],Vi,0]):d.push([Hs[ds]+" ",Vi,0]),Hi-=Vi}}else d.push([Ee[cn],Ps,Aa]);d.push(["",Hi,0])}else{if(ft!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(d=[],us=Ee.length,Bt=Bt!==0?Bt:Pd,cn=0;cn<us;cn++)Aa=cn===0?cs(C):-xc,Ps=cn===0?aa(b):0,cn<us-1?ci.push(U(F((Bt-li[cn])/(Ee[cn].split(" ").length-1)))):ci.push(0),d.push([Ee[cn],Ps,Aa])}}var bc=typeof Q.R2L=="boolean"?Q.R2L:vt;bc===!0&&(d=mc(d,(function(mr,Vr,Fr){return[mr.split("").reverse().join(""),Vr,Fr]}))),ce={text:d,x:b,y:C,options:Q,mutex:{pdfEscape:Gn,activeFontKey:ar,fonts:Ut,activeFontSize:He}},Xt.publish("postProcessText",ce),d=ce.text,Ms=ce.mutex.isHex||!1;var yc=Ut[ar].encoding;yc!=="WinAnsiEncoding"&&yc!=="StandardEncoding"||(d=mc(d,(function(mr,Vr,Fr){return[Dd(mr),Vr,Fr]}))),Ee=gc(d),d=[];for(var Ga,IA,Ho,jA=0,wc=1,El=Array.isArray(Ee[0])?wc:jA,TA="",vc=function(mr,Vr,Fr){var pn="";return Fr instanceof Qe?(Fr=typeof Q.angle=="number"?ct(Fr,new Qe(1,0,0,1,mr,Vr)):ct(new Qe(1,0,0,1,mr,Vr),Fr),K===P.ADVANCED&&(Fr=ct(new Qe(1,0,0,-1,0,0),Fr)),pn=Fr.join(" ")+` Tm
`):pn=U(mr)+" "+U(Vr)+` Td
`,pn},Xa=0;Xa<Ee.length;Xa++){switch(TA="",El){case wc:Ho=(Ms?"<":"(")+Ee[Xa][0]+(Ms?">":")"),Ga=parseFloat(Ee[Xa][1]),IA=parseFloat(Ee[Xa][2]);break;case jA:Ho=(Ms?"<":"(")+Ee[Xa]+(Ms?">":")"),Ga=aa(b),IA=cs(C)}ci!==void 0&&ci[Xa]!==void 0&&(TA=ci[Xa]+` Tw
`),Xa===0?d.push(TA+vc(Ga,IA,Ur)+Ho):El===jA?d.push(TA+Ho):El===wc&&d.push(TA+vc(Ga,IA,Ur)+Ho)}d=El===jA?d.join(` Tj
T* `):d.join(` Tj
`),d+=` Tj
`;var Ba=`BT
/`;return Ba+=ar+" "+He+` Tf
`,Ba+=U(He*qa)+` TL
`,Ba+=oo+`
`,Ba+=vn,Ba+=d,oe(Ba+="ET"),v[ar]=!0,Mr};var ko=N.__private__.clip=N.clip=function(d){return oe(d==="evenodd"?"W*":"W"),this};N.clipEvenOdd=function(){return ko("evenodd")},N.__private__.discardPath=N.discardPath=function(){return oe("n"),this};var sa=N.__private__.isValidStyle=function(d){var b=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(d)!==-1&&(b=!0),b};N.__private__.setDefaultPathOperation=N.setDefaultPathOperation=function(d){return sa(d)&&(g=d),this};var Ui=N.__private__.getStyle=N.getStyle=function(d){var b=g;switch(d){case"D":case"S":b="S";break;case"F":b="f";break;case"FD":case"DF":b="B";break;case"f":case"f*":case"B":case"B*":b=d}return b},ya=N.close=function(){return oe("h"),this};N.stroke=function(){return oe("S"),this},N.fill=function(d){return Ns("f",d),this},N.fillEvenOdd=function(d){return Ns("f*",d),this},N.fillStroke=function(d){return Ns("B",d),this},N.fillStrokeEvenOdd=function(d){return Ns("B*",d),this};var Ns=function(d,b){rn(b)==="object"?oi(b,d):oe(d)},Fi=function(d){d===null||K===P.ADVANCED&&d===void 0||(d=Ui(d),oe(d))};function Dr(d,b,C,Q,re){var ce=new Kh(b||this.boundingBox,C||this.xStep,Q||this.yStep,this.gState,re||this.matrix);ce.stream=this.stream;var Ee=d+"$$"+this.cloneIndex+++"$$";return yt(Ee,ce),ce}var oi=function(d,b){var C=On[d.key],Q=Pt[C];if(Q instanceof cd)oe("q"),oe(vl(b)),Q.gState&&N.setGState(Q.gState),oe(d.matrix.toString()+" cm"),oe("/"+C+" sh"),oe("Q");else if(Q instanceof Kh){var re=new Qe(1,0,0,-1,0,Mi());d.matrix&&(re=re.multiply(d.matrix||kt),C=Dr.call(Q,d.key,d.boundingBox,d.xStep,d.yStep,re).id),oe("q"),oe("/Pattern cs"),oe("/"+C+" scn"),Q.gState&&N.setGState(Q.gState),oe(b),oe("Q")}},vl=function(d){switch(d){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Qi=N.moveTo=function(d,b){return oe(U(F(d))+" "+U($(b))+" m"),this},Li=N.lineTo=function(d,b){return oe(U(F(d))+" "+U($(b))+" l"),this},wa=N.curveTo=function(d,b,C,Q,re,ce){return oe([U(F(d)),U($(b)),U(F(C)),U($(Q)),U(F(re)),U($(ce)),"c"].join(" ")),this};N.__private__.line=N.line=function(d,b,C,Q,re){if(isNaN(d)||isNaN(b)||isNaN(C)||isNaN(Q)||!sa(re))throw new Error("Invalid arguments passed to jsPDF.line");return K===P.COMPAT?this.lines([[C-d,Q-b]],d,b,[1,1],re||"S"):this.lines([[C-d,Q-b]],d,b,[1,1]).stroke()},N.__private__.lines=N.lines=function(d,b,C,Q,re,ce){var Ee,Ze,ft,pt,Bt,er,Tr,Ur,Mr,Sn,vn,Ms;if(typeof d=="number"&&(Ms=C,C=b,b=d,d=Ms),Q=Q||[1,1],ce=ce||!1,isNaN(b)||isNaN(C)||!Array.isArray(d)||!Array.isArray(Q)||!sa(re)||typeof ce!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qi(b,C),Ee=Q[0],Ze=Q[1],pt=d.length,Sn=b,vn=C,ft=0;ft<pt;ft++)(Bt=d[ft]).length===2?(Sn=Bt[0]*Ee+Sn,vn=Bt[1]*Ze+vn,Li(Sn,vn)):(er=Bt[0]*Ee+Sn,Tr=Bt[1]*Ze+vn,Ur=Bt[2]*Ee+Sn,Mr=Bt[3]*Ze+vn,Sn=Bt[4]*Ee+Sn,vn=Bt[5]*Ze+vn,wa(er,Tr,Ur,Mr,Sn,vn));return ce&&ya(),Fi(re),this},N.path=function(d){for(var b=0;b<d.length;b++){var C=d[b],Q=C.c;switch(C.op){case"m":Qi(Q[0],Q[1]);break;case"l":Li(Q[0],Q[1]);break;case"c":wa.apply(this,Q);break;case"h":ya()}}return this},N.__private__.rect=N.rect=function(d,b,C,Q,re){if(isNaN(d)||isNaN(b)||isNaN(C)||isNaN(Q)||!sa(re))throw new Error("Invalid arguments passed to jsPDF.rect");return K===P.COMPAT&&(Q=-Q),oe([U(F(d)),U($(b)),U(F(C)),U(F(Q)),"re"].join(" ")),Fi(re),this},N.__private__.triangle=N.triangle=function(d,b,C,Q,re,ce,Ee){if(isNaN(d)||isNaN(b)||isNaN(C)||isNaN(Q)||isNaN(re)||isNaN(ce)||!sa(Ee))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[C-d,Q-b],[re-C,ce-Q],[d-re,b-ce]],d,b,[1,1],Ee,!0),this},N.__private__.roundedRect=N.roundedRect=function(d,b,C,Q,re,ce,Ee){if(isNaN(d)||isNaN(b)||isNaN(C)||isNaN(Q)||isNaN(re)||isNaN(ce)||!sa(Ee))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ze=4/3*(Math.SQRT2-1);return re=Math.min(re,.5*C),ce=Math.min(ce,.5*Q),this.lines([[C-2*re,0],[re*Ze,0,re,ce-ce*Ze,re,ce],[0,Q-2*ce],[0,ce*Ze,-re*Ze,ce,-re,ce],[2*re-C,0],[-re*Ze,0,-re,-ce*Ze,-re,-ce],[0,2*ce-Q],[0,-ce*Ze,re*Ze,-ce,re,-ce]],d+re,b,[1,1],Ee,!0),this},N.__private__.ellipse=N.ellipse=function(d,b,C,Q,re){if(isNaN(d)||isNaN(b)||isNaN(C)||isNaN(Q)||!sa(re))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ce=4/3*(Math.SQRT2-1)*C,Ee=4/3*(Math.SQRT2-1)*Q;return Qi(d+C,b),wa(d+C,b-Ee,d+ce,b-Q,d,b-Q),wa(d-ce,b-Q,d-C,b-Ee,d-C,b),wa(d-C,b+Ee,d-ce,b+Q,d,b+Q),wa(d+ce,b+Q,d+C,b+Ee,d+C,b),Fi(re),this},N.__private__.circle=N.circle=function(d,b,C,Q){if(isNaN(d)||isNaN(b)||isNaN(C)||!sa(Q))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(d,b,C,C,Q)},N.setFont=function(d,b,C){return C&&(b=le(b,C)),ar=xl(d,b,{disableWarning:!1}),this};var ki=N.__private__.getFont=N.getFont=function(){return Ut[xl.apply(N,arguments)]};N.__private__.getFontList=N.getFontList=function(){var d,b,C={};for(d in Ft)if(Ft.hasOwnProperty(d))for(b in C[d]=[],Ft[d])Ft[d].hasOwnProperty(b)&&C[d].push(b);return C},N.addFont=function(d,b,C,Q,re){var ce=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ce.indexOf(arguments[3])!==-1?re=arguments[3]:arguments[3]&&ce.indexOf(arguments[3])==-1&&(C=le(C,Q)),re=re||"Identity-H",Uo.call(this,d,b,C,re)};var Cs,Hn=r.lineWidth||.200025,va=N.__private__.getLineWidth=N.getLineWidth=function(){return Hn},Va=N.__private__.setLineWidth=N.setLineWidth=function(d){return Hn=d,oe(U(F(d))+" w"),this};N.__private__.setLineDash=$t.API.setLineDash=$t.API.setLineDashPattern=function(d,b){if(d=d||[],b=b||0,isNaN(b)||!Array.isArray(d))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return d=d.map((function(C){return U(F(C))})).join(" "),b=U(F(b)),oe("["+d+"] "+b+" d"),this};var Ri=N.__private__.getLineHeight=N.getLineHeight=function(){return He*Cs};N.__private__.getLineHeight=N.getLineHeight=function(){return He*Cs};var bA=N.__private__.setLineHeightFactor=N.setLineHeightFactor=function(d){return typeof(d=d||1.15)=="number"&&(Cs=d),this},Di=N.__private__.getLineHeightFactor=N.getLineHeightFactor=function(){return Cs};bA(r.lineHeight);var aa=N.__private__.getHorizontalCoordinate=function(d){return F(d)},cs=N.__private__.getVerticalCoordinate=function(d){return K===P.ADVANCED?d:jt[H].mediaBox.topRightY-jt[H].mediaBox.bottomLeftY-F(d)},yA=N.__private__.getHorizontalCoordinateString=N.getHorizontalCoordinateString=function(d){return U(aa(d))},Ai=N.__private__.getVerticalCoordinateString=N.getVerticalCoordinateString=function(d){return U(cs(d))},_s=r.strokeColor||"0 G";N.__private__.getStrokeColor=N.getDrawColor=function(){return rr(_s)},N.__private__.setStrokeColor=N.setDrawColor=function(d,b,C,Q){return _s=yn({ch1:d,ch2:b,ch3:C,ch4:Q,pdfColorType:"draw",precision:2}),oe(_s),this};var wA=r.fillColor||"0 g";N.__private__.getFillColor=N.getFillColor=function(){return rr(wA)},N.__private__.setFillColor=N.setFillColor=function(d,b,C,Q){return wA=yn({ch1:d,ch2:b,ch3:C,ch4:Q,pdfColorType:"fill",precision:2}),oe(wA),this};var oo=r.textColor||"0 g",Ro=N.__private__.getTextColor=N.getTextColor=function(){return rr(oo)};N.__private__.setTextColor=N.setTextColor=function(d,b,C,Q){return oo=yn({ch1:d,ch2:b,ch3:C,ch4:Q,pdfColorType:"text",precision:3}),this};var Ao=r.charSpace,hc=N.__private__.getCharSpace=N.getCharSpace=function(){return parseFloat(Ao||0)};N.__private__.setCharSpace=N.setCharSpace=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ao=d,this};var lo=0;N.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},N.__private__.setLineCap=N.setLineCap=function(d){var b=N.CapJoinStyles[d];if(b===void 0)throw new Error("Line cap style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lo=b,oe(b+" J"),this};var vA=0;N.__private__.setLineJoin=N.setLineJoin=function(d){var b=N.CapJoinStyles[d];if(b===void 0)throw new Error("Line join style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vA=b,oe(b+" j"),this},N.__private__.setLineMiterLimit=N.__private__.setMiterLimit=N.setLineMiterLimit=N.setMiterLimit=function(d){if(d=d||0,isNaN(d))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(U(F(d))+" M"),this},N.GState=X1,N.setGState=function(d){(d=typeof d=="string"?lr[gn[d]]:Bl(null,d)).equals(fr)||(oe("/"+d.id+" gs"),fr=d)};var Bl=function(d,b){if(!d||!gn[d]){var C=!1;for(var Q in lr)if(lr.hasOwnProperty(Q)&&lr[Q].equals(b)){C=!0;break}if(C)b=lr[Q];else{var re="GS"+(Object.keys(lr).length+1).toString(10);lr[re]=b,b.id=re}return d&&(gn[d]=b.id),Xt.publish("addGState",b),b}};N.addGState=function(d,b){return Bl(d,b),this},N.saveGraphicsState=function(){return oe("q"),Rr.push({key:ar,size:He,color:oo}),this},N.restoreGraphicsState=function(){oe("Q");var d=Rr.pop();return ar=d.key,He=d.size,oo=d.color,fr=null,this},N.setCurrentTransformationMatrix=function(d){return oe(d.toString()+" cm"),this},N.comment=function(d){return oe("#"+d),this};var ia=function(d,b){var C=d||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return C},set:function(ce){isNaN(ce)||(C=parseFloat(ce))}});var Q=b||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Q},set:function(ce){isNaN(ce)||(Q=parseFloat(ce))}});var re="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return re},set:function(ce){re=ce.toString()}}),this},BA=function(d,b,C,Q){ia.call(this,d,b),this.type="rect";var re=C||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return re},set:function(Ee){isNaN(Ee)||(re=parseFloat(Ee))}});var ce=Q||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ce},set:function(Ee){isNaN(Ee)||(ce=parseFloat(Ee))}}),this},NA=function(){this.page=ur,this.currentPage=H,this.pages=Re.slice(0),this.pagesContext=jt.slice(0),this.x=ke,this.y=ut,this.matrix=It,this.width=Vn(H),this.height=Mi(H),this.outputDestination=fe,this.id="",this.objectNumber=-1};NA.prototype.restore=function(){ur=this.page,H=this.currentPage,jt=this.pagesContext,Re=this.pages,ke=this.x,ut=this.y,It=this.matrix,CA(H,this.width),za(H,this.height),fe=this.outputDestination};var Nl=function(d,b,C,Q,re){mn.push(new NA),ur=H=0,Re=[],ke=d,ut=b,It=re,As([C,Q])},fc=function(d){if(Xr[d])mn.pop().restore();else{var b=new NA,C="Xo"+(Object.keys(Er).length+1).toString(10);b.id=C,Xr[d]=C,Er[C]=b,Xt.publish("addFormObject",b),mn.pop().restore()}};for(var Ka in N.beginFormObject=function(d,b,C,Q,re){return Nl(d,b,C,Q,re),this},N.endFormObject=function(d){return fc(d),this},N.doFormObject=function(d,b){var C=Er[Xr[d]];return oe("q"),oe(b.toString()+" cm"),oe("/"+C.id+" Do"),oe("Q"),this},N.getFormObject=function(d){var b=Er[Xr[d]];return{x:b.x,y:b.y,width:b.width,height:b.height,matrix:b.matrix}},N.save=function(d,b){return d=d||"generated.pdf",(b=b||{}).returnPromise=b.returnPromise||!1,b.returnPromise===!1?(nd(Qo(ba()),d),typeof nd.unload=="function"&&Wt.setTimeout&&setTimeout(nd.unload,911),this):new Promise((function(C,Q){try{var re=nd(Qo(ba()),d);typeof nd.unload=="function"&&Wt.setTimeout&&setTimeout(nd.unload,911),C(re)}catch(ce){Q(ce.message)}}))},$t.API)$t.API.hasOwnProperty(Ka)&&(Ka==="events"&&$t.API.events.length?(function(d,b){var C,Q,re;for(re=b.length-1;re!==-1;re--)C=b[re][0],Q=b[re][1],d.subscribe.apply(d,[C].concat(typeof Q=="function"?[Q]:Q))})(Xt,$t.API.events):N[Ka]=$t.API[Ka]);var Vn=N.getPageWidth=function(d){return(jt[d=d||H].mediaBox.topRightX-jt[d].mediaBox.bottomLeftX)/At},CA=N.setPageWidth=function(d,b){jt[d].mediaBox.topRightX=b*At+jt[d].mediaBox.bottomLeftX},Mi=N.getPageHeight=function(d){return(jt[d=d||H].mediaBox.topRightY-jt[d].mediaBox.bottomLeftY)/At},za=N.setPageHeight=function(d,b){jt[d].mediaBox.topRightY=b*At+jt[d].mediaBox.bottomLeftY};return N.internal={pdfEscape:Gn,getStyle:Ui,getFont:ki,getFontSize:it,getCharSpace:hc,getTextColor:Ro,getLineHeight:Ri,getLineHeightFactor:Di,getLineWidth:va,write:Je,getHorizontalCoordinate:aa,getVerticalCoordinate:cs,getCoordinateString:yA,getVerticalCoordinateString:Ai,collections:{},newObject:rt,newAdditionalObject:_t,newObjectDeferred:xt,newObjectDeferredBegin:Qt,getFilters:Zs,putStream:pa,events:Xt,scaleFactor:At,pageSize:{getWidth:function(){return Vn(H)},setWidth:function(d){CA(H,d)},getHeight:function(){return Mi(H)},setHeight:function(d){za(H,d)}},encryptionOptions:x,encryption:sn,getEncryptor:wl,output:Ha,getNumberOfPages:ao,pages:Re,out:oe,f2:z,f3:E,getPageInfo:na,getPageInfoByObjId:zt,getCurrentPageInfo:ii,getPDFVersion:I,Point:ia,Rectangle:BA,Matrix:Qe,hasHotfix:Lo},Object.defineProperty(N.internal.pageSize,"width",{get:function(){return Vn(H)},set:function(d){CA(H,d)},enumerable:!0,configurable:!0}),Object.defineProperty(N.internal.pageSize,"height",{get:function(){return Mi(H)},set:function(d){za(H,d)},enumerable:!0,configurable:!0}),kr.call(N,Oe),ar="F1",Fo(s,t),Xt.publish("initialized"),N}Oh.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},Oh.prototype.toHexString=function(r){return r.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Oh.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Oh.prototype.processOwnerPassword=function(r,e){return Uw(Tw(e).substr(0,5),r)},Oh.prototype.encryptor=function(r,e){var t=Tw(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Uw(t,n)}},X1.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||rn(r)!==rn(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},$t.API={events:[]},$t.version="2.5.2";var Yn=$t.API,x5=1,Rd=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Th=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ar=function(r){return r.toFixed(2)},Jc=function(r){return r.toFixed(5)};Yn.__acroform__={};var Ii=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},y_=function(r){return r*x5},GA=function(r){var e=new rT,t=St.internal.getHeight(r)||0,n=St.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Ar(n)),Number(Ar(t))],e},hX=Yn.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},fX=Yn.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},gX=Yn.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(r&1<<e)==0?0:1},rs=Yn.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gX(r,e-1)},ns=Yn.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return hX(r,e-1)},ss=Yn.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fX(r,e-1)},mX=Yn.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=r[0],o=r[1],l=r[2],u=r[3],h={};return h.lowerLeft_X=t(s)||0,h.lowerLeft_Y=n(o+u)||0,h.upperRight_X=t(s+l)||0,h.upperRight_Y=n(o)||0,[Number(Ar(h.lowerLeft_X)),Number(Ar(h.lowerLeft_Y)),Number(Ar(h.upperRight_X)),Number(Ar(h.upperRight_Y))]},pX=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=Fw(r,t),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+s+" "+Ar(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=GA(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},Fw=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=r.multiline?s.map((function(E){return E.split(`
`)})):s.map((function(E){return[E]}));var o=t,l=St.internal.getHeight(r)||0;l=l<0?-l:l;var u=St.internal.getWidth(r)||0;u=u<0?-u:u;var h=function(E,F,D){if(E+1<s.length){var $=F+" "+s[E+1][0];return Tp($,r,D).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var g,x,p=Tp("3",r,o).height,v=r.multiline?l-o:(l-p)/2,N=v+=2,T=0,I=0,O=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Tp(e,r,o=12).width+", FieldWidth:"+u+`
`;break}for(var R="",P=0,K=0;K<s.length;K++)if(s.hasOwnProperty(K)){var se=!1;if(s[K].length!==1&&O!==s[K].length-1){if((p+2)*(P+2)+2>l)continue e;R+=s[K][O],se=!0,I=K,K--}else{R=(R+=s[K][O]+" ").substr(R.length-1)==" "?R.substr(0,R.length-1):R;var ae=parseInt(K),le=h(ae,R,o),U=K>=s.length-1;if(le&&!U){R+=" ",O=0;continue}if(le||U){if(U)I=ae;else if(r.multiline&&(p+2)*(P+2)+2>l)continue e}else{if(!r.multiline||(p+2)*(P+2)+2>l)continue e;I=ae}}for(var S="",M=T;M<=I;M++){var z=s[M];if(r.multiline){if(M===I){S+=z[O]+" ",O=(O+1)%z.length;continue}if(M===T){S+=z[z.length-1]+" ";continue}}S+=z[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,x=Tp(S,r,o).width,r.textAlign){case"right":g=u-x-2;break;case"center":g=(u-x)/2;break;case"left":default:g=2}e+=Ar(g)+" "+Ar(N)+` Td
`,e+="("+Rd(S)+`) Tj
`,e+=-Ar(g)+` 0 Td
`,N=-(o+2),x=0,T=se?I:I+1,P++,R=""}break}return n.text=e,n.fontSize=o,n},Tp=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},xX={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bX=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find((function(n){return n.type===t.type&&n.object===t.object}))===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},yX=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,s=r[t];e.internal.newObjectDeferredBegin(s.objId,!0),rn(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete r[n]}},wX=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(hA.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(xX)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");x5=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new nT,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",(function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)})),r.internal.events.subscribe("buildDocument",(function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var o=n[s];o.objId=void 0,o.hasAnnotation&&bX(o,t)}})(r)})),r.internal.events.subscribe("putCatalog",(function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)})),r.internal.events.subscribe("postPutPages",(function(t){(function(n,s){var o=!n;for(var l in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var u=n[l],h=[],g=u.Rect;if(u.Rect&&(u.Rect=mX(u.Rect,s)),s.internal.newObjectDeferredBegin(u.objId,!0),u.DA=St.createDefaultAppearanceStream(u),rn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=g,u.hasAppearanceStream&&!u.appearanceStreamContent){var x=pX(u);h.push({key:"AP",value:"<</N "+x+">>"}),s.internal.acroformPlugin.xForms.push(x)}if(u.appearanceStreamContent){var p="";for(var v in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(v)){var N=u.appearanceStreamContent[v];if(p+="/"+v+" ",p+="<<",Object.keys(N).length>=1||Array.isArray(N)){for(var l in N)if(N.hasOwnProperty(l)){var T=N[l];typeof T=="function"&&(T=T.call(s,u)),p+="/"+l+" "+T+" ",s.internal.acroformPlugin.xForms.indexOf(T)>=0||s.internal.acroformPlugin.xForms.push(T)}}else typeof(T=N)=="function"&&(T=T.call(s,u)),p+="/"+l+" "+T,s.internal.acroformPlugin.xForms.indexOf(T)>=0||s.internal.acroformPlugin.xForms.push(T);p+=">>"}h.push({key:"AP",value:`<<
`+p+">>"})}s.internal.putStream({additionalKeyValues:h,objectId:u.objId}),s.internal.out("endobj")}o&&yX(s.internal.acroformPlugin.xForms,s)})(t,r)})),r.internal.acroformPlugin.isInitialized=!0}},tT=Yn.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(l){return l};if(Array.isArray(r)){for(var s="[",o=0;o<r.length;o++)switch(o!==0&&(s+=" "),rn(r[o])){case"boolean":case"number":case"object":s+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),s+="("+Rd(n(r[o].toString()))+")"):s+=r[o].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ay=function(r,e,t){var n=function(s){return s};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+Rd(n(r))+")"},ZA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ZA.prototype.toString=function(){return this.objId+" 0 R"},ZA.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},ZA.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter((function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"}));for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],s=this[n];s&&(Array.isArray(s)?r.push({key:n,value:tT(s,this.objId,this.scope)}):s instanceof ZA?(s.scope=this.scope,r.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:n,value:s}))}return r};var rT=function(){ZA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Ii(rT,ZA);var nT=function(){ZA.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Rd(t(r))+")"}},set:function(t){r=t}})};Ii(nT,ZA);var hA=function r(){ZA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute F supplied.');e=R}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!rs(e,3)},set:function(R){R?this.F=ns(e,3):this.F=ss(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute Ff supplied.');t=R}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(R){n=R!==void 0?R:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(R){n[0]=R}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(R){n[1]=R}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(R){n[2]=R}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(R){n[3]=R}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(R){switch(R){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=R;break;default:throw new Error('Invalid value "'+R+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof $1)return;o="FieldObject"+r.FieldNum++}var R=function(P){return P};return this.scope&&(R=this.scope.internal.getEncryptor(this.objId)),"("+Rd(R(o))+")"},set:function(R){o=R.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(R){o=R}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(R){l=R}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(R){u=R}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(R){h=R}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/x5:g},set:function(R){g=R}});var x="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return x},set:function(R){x=R}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof $1||this instanceof wd))return Ay(p,this.objId,this.scope)},set:function(R){R=R.toString(),p=R}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof $s?v:Ay(v,this.objId,this.scope)},set:function(R){R=R.toString(),v=this instanceof $s?R:R.substr(0,1)==="("?Th(R.substr(1,R.length-2)):Th(R)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $s?Th(v.substr(1,v.length-1)):v},set:function(R){R=R.toString(),v=this instanceof $s?"/"+R:R}});var N=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(N)return N},set:function(R){this.V=R}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof $s?N:Ay(N,this.objId,this.scope)},set:function(R){R=R.toString(),N=this instanceof $s?R:R.substr(0,1)==="("?Th(R.substr(1,R.length-2)):Th(R)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $s?Th(N.substr(1,N.length-1)):N},set:function(R){R=R.toString(),N=this instanceof $s?"/"+R:R}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(R){R=!!R,I=R}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(R){T=R}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,1)},set:function(R){R?this.Ff=ns(this.Ff,1):this.Ff=ss(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,2)},set:function(R){R?this.Ff=ns(this.Ff,2):this.Ff=ss(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,3)},set:function(R){R?this.Ff=ns(this.Ff,3):this.Ff=ss(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(R){if([0,1,2].indexOf(R)===-1)throw new Error('Invalid value "'+R+'" for attribute Q supplied.');O=R}}),Object.defineProperty(this,"textAlign",{get:function(){var R;switch(O){case 0:default:R="left";break;case 1:R="center";break;case 2:R="right"}return R},configurable:!0,enumerable:!0,set:function(R){switch(R){case"right":case 2:O=2;break;case"center":case 1:O=1;break;case"left":case 0:default:O=0}}})};Ii(hA,ZA);var Wh=function(){hA.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tT(e,this.objId,this.scope)},set:function(t){var n,s;s=[],typeof(n=t)=="string"&&(s=(function(o,l,u){u||(u=1);for(var h,g=[];h=l.exec(o);)g.push(h[u]);return g})(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,18)},set:function(t){t?this.Ff=ns(this.Ff,18):this.Ff=ss(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ns(this.Ff,19):this.Ff=ss(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,20)},set:function(t){t?(this.Ff=ns(this.Ff,20),e.sort()):this.Ff=ss(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,22)},set:function(t){t?this.Ff=ns(this.Ff,22):this.Ff=ss(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,23)},set:function(t){t?this.Ff=ns(this.Ff,23):this.Ff=ss(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,27)},set:function(t){t?this.Ff=ns(this.Ff,27):this.Ff=ss(this.Ff,27)}}),this.hasAppearanceStream=!1};Ii(Wh,hA);var Jh=function(){Wh.call(this),this.fontName="helvetica",this.combo=!1};Ii(Jh,Wh);var Zh=function(){Jh.call(this),this.combo=!0};Ii(Zh,Jh);var t1=function(){Zh.call(this),this.edit=!0};Ii(t1,Zh);var $s=function(){hA.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,15)},set:function(t){t?this.Ff=ns(this.Ff,15):this.Ff=ss(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,16)},set:function(t){t?this.Ff=ns(this.Ff,16):this.Ff=ss(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,17)},set:function(t){t?this.Ff=ns(this.Ff,17):this.Ff=ss(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,26)},set:function(t){t?this.Ff=ns(this.Ff,26):this.Ff=ss(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+Rd(t(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){rn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Ii($s,hA);var r1=function(){$s.call(this),this.pushButton=!0};Ii(r1,$s);var ef=function(){$s.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Ii(ef,$s);var $1=function(){var r,e;hA.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(u){return u};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,l=[];for(o in l.push("<<"),n)l.push("/"+o+" ("+Rd(s(n[o]))+")");return l.push(">>"),l.join(`
`)},set:function(s){rn(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=St.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ii($1,hA),ef.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},ef.prototype.createOption=function(r){var e=new $1;return e.Parent=this,e.optionName=r,this.Kids.push(e),vX.call(this.scope,e),e};var n1=function(){$s.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=St.CheckBox.createAppearanceStream()};Ii(n1,$s);var wd=function(){hA.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,13)},set:function(e){e?this.Ff=ns(this.Ff,13):this.Ff=ss(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,21)},set:function(e){e?this.Ff=ns(this.Ff,21):this.Ff=ss(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,23)},set:function(e){e?this.Ff=ns(this.Ff,23):this.Ff=ss(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,24)},set:function(e){e?this.Ff=ns(this.Ff,24):this.Ff=ss(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,25)},set:function(e){e?this.Ff=ns(this.Ff,25):this.Ff=ss(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,26)},set:function(e){e?this.Ff=ns(this.Ff,26):this.Ff=ss(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ii(wd,hA);var s1=function(){wd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!rs(this.Ff,14)},set:function(r){r?this.Ff=ns(this.Ff,14):this.Ff=ss(this.Ff,14)}}),this.password=!0};Ii(s1,wd);var St={CheckBox:{createAppearanceStream:function(){return{N:{On:St.CheckBox.YesNormal},D:{On:St.CheckBox.YesPushDown,Off:St.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=GA(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),o=Fw(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Ar(St.internal.getWidth(r))+" "+Ar(St.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Ar(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=GA(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=[],o=St.internal.getHeight(r),l=St.internal.getWidth(r),u=Fw(r,r.caption);return s.push("1 g"),s.push("0 0 "+Ar(l)+" "+Ar(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Ar(l-1)+" "+Ar(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Ar(u.fontSize)+" Tf "+n),s.push(u.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=GA(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ar(St.internal.getWidth(r))+" "+Ar(St.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:St.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=St.RadioButton.Circle.YesNormal,e.D[r]=St.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=GA(r);e.scope=r.scope;var t=[],n=St.internal.getWidth(r)<=St.internal.getHeight(r)?St.internal.getWidth(r)/4:St.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=St.internal.Bezier_C,o=Number((n*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Jc(St.internal.getWidth(r)/2)+" "+Jc(St.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=GA(r);e.scope=r.scope;var t=[],n=St.internal.getWidth(r)<=St.internal.getHeight(r)?St.internal.getWidth(r)/4:St.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),o=Number((s*St.internal.Bezier_C).toFixed(5)),l=Number((n*St.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Jc(St.internal.getWidth(r)/2)+" "+Jc(St.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Jc(St.internal.getWidth(r)/2)+" "+Jc(St.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),t.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),t.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),t.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=GA(r);e.scope=r.scope;var t=[],n=St.internal.getWidth(r)<=St.internal.getHeight(r)?St.internal.getWidth(r)/4:St.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),o=Number((s*St.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Jc(St.internal.getWidth(r)/2)+" "+Jc(St.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:St.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=St.RadioButton.Cross.YesNormal,e.D[r]=St.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=GA(r);e.scope=r.scope;var t=[],n=St.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Ar(St.internal.getWidth(r)-2)+" "+Ar(St.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Ar(n.x1.x)+" "+Ar(n.x1.y)+" m"),t.push(Ar(n.x2.x)+" "+Ar(n.x2.y)+" l"),t.push(Ar(n.x4.x)+" "+Ar(n.x4.y)+" m"),t.push(Ar(n.x3.x)+" "+Ar(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=GA(r);e.scope=r.scope;var t=St.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ar(St.internal.getWidth(r))+" "+Ar(St.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ar(St.internal.getWidth(r)-2)+" "+Ar(St.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Ar(t.x1.x)+" "+Ar(t.x1.y)+" m"),n.push(Ar(t.x2.x)+" "+Ar(t.x2.y)+" l"),n.push(Ar(t.x4.x)+" "+Ar(t.x4.y)+" m"),n.push(Ar(t.x3.x)+" "+Ar(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=GA(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ar(St.internal.getWidth(r))+" "+Ar(St.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};St.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=St.internal.getWidth(r),t=St.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},St.internal.getWidth=function(r){var e=0;return rn(r)==="object"&&(e=y_(r.Rect[2])),e},St.internal.getHeight=function(r){var e=0;return rn(r)==="object"&&(e=y_(r.Rect[3])),e};var vX=Yn.addField=function(r){if(wX(this,r),!(r instanceof hA))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Yn.AcroFormChoiceField=Wh,Yn.AcroFormListBox=Jh,Yn.AcroFormComboBox=Zh,Yn.AcroFormEditBox=t1,Yn.AcroFormButton=$s,Yn.AcroFormPushButton=r1,Yn.AcroFormRadioButton=ef,Yn.AcroFormCheckBox=n1,Yn.AcroFormTextField=wd,Yn.AcroFormPasswordField=s1,Yn.AcroFormAppearance=St,Yn.AcroForm={ChoiceField:Wh,ListBox:Jh,ComboBox:Zh,EditBox:t1,Button:$s,PushButton:r1,RadioButton:ef,CheckBox:n1,TextField:wd,PasswordField:s1,Appearance:St},$t.AcroForm={ChoiceField:Wh,ListBox:Jh,ComboBox:Zh,EditBox:t1,Button:$s,PushButton:r1,RadioButton:ef,CheckBox:n1,TextField:wd,PasswordField:s1,Appearance:St};$t.AcroForm;function sT(r){return r.reduce((function(e,t,n){return e[t]=n,e}),{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(E,F){var D,$,be,te,Y,ie=e;if((F=F||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(le(E))for(Y in t)for(be=t[Y],D=0;D<be.length;D+=1){for(te=!0,$=0;$<be[D].length;$+=1)if(be[D][$]!==void 0&&be[D][$]!==E[$]){te=!1;break}if(te===!0){ie=Y;break}}else for(Y in t)for(be=t[Y],D=0;D<be.length;D+=1){for(te=!0,$=0;$<be[D].length;$+=1)if(be[D][$]!==void 0&&be[D][$]!==E.charCodeAt($)){te=!1;break}if(te===!0){ie=Y;break}}return ie===e&&F!==e&&(ie=F),ie},s=function E(F){for(var D=this.internal.write,$=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:F.width}),te.push({key:"Height",value:F.height}),F.colorSpace===O.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===O.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var Y="",ie=0,ge=F.transparency.length;ie<ge;ie++)Y+=F.transparency[ie]+" "+F.transparency[ie]+" ";te.push({key:"Mask",value:"["+Y+"]"})}F.sMask!==void 0&&te.push({key:"SMask",value:F.objectId+1+" 0 R"});var xe=F.filter!==void 0?["/"+F.filter]:void 0;if($({data:F.data,additionalKeyValues:te,alreadyAppliedFilters:xe,objectId:F.objectId}),D("endobj"),"sMask"in F&&F.sMask!==void 0){var X="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,L={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:X,data:F.sMask};"filter"in F&&(L.filter=F.filter),E.call(this,L)}if(F.colorSpace===O.INDEXED){var H=this.internal.newObject();$({data:S(new Uint8Array(F.palette)),objectId:H}),D("endobj")}},o=function(){var E=this.internal.collections.addImage_images;for(var F in E)s.call(this,E[F])},l=function(){var E,F=this.internal.collections.addImage_images,D=this.internal.write;for(var $ in F)D("/I"+(E=F[$]).index,E.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var E=this.internal.collections.addImage_images;return u.call(this),E},g=function(){return Object.keys(this.internal.collections.addImage_images).length},x=function(E){return typeof r["process"+E.toUpperCase()]=="function"},p=function(E){return rn(E)==="object"&&E.nodeType===1},v=function(E,F){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var D=""+E.getAttribute("src");if(D.indexOf("data:image/")===0)return Ag(unescape(D).split("base64,").pop());var $=r.loadFile(D,!0);if($!==void 0)return $}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var be;switch(F){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;case"JPEG":case"JPG":default:be="image/jpeg"}return Ag(E.toDataURL(be,1).split("base64,").pop())}},N=function(E){var F=this.internal.collections.addImage_images;if(F){for(var D in F)if(E===F[D].alias)return F[D]}},T=function(E,F,D){return E||F||(E=-96,F=-96),E<0&&(E=-1*D.width*72/E/this.internal.scaleFactor),F<0&&(F=-1*D.height*72/F/this.internal.scaleFactor),E===0&&(E=F*D.width/D.height),F===0&&(F=E*D.height/D.width),[E,F]},I=function(E,F,D,$,be,te){var Y=T.call(this,D,$,be),ie=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,xe=h.call(this);if(D=Y[0],$=Y[1],xe[be.index]=be,te){te*=Math.PI/180;var X=Math.cos(te),L=Math.sin(te),H=function(ee){return ee.toFixed(4)},J=[H(X),H(L),H(-1*L),H(X),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,ie(E),ge(F+$),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ie(D),"0","0",ie($),"0","0","cm"].join(" "))):this.internal.write([ie(D),"0","0",ie($),ie(E),ge(F+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},O=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=r.__addimage__.sHashCode=function(E){var F,D,$=0;if(typeof E=="string")for(D=E.length,F=0;F<D;F++)$=($<<5)-$+E.charCodeAt(F),$|=0;else if(le(E))for(D=E.byteLength/2,F=0;F<D;F++)$=($<<5)-$+E[F],$|=0;return $},K=r.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var F=!0;return E.length===0&&(F=!1),E.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(F=!1),F},se=r.__addimage__.extractImageFromDataUrl=function(E){var F=(E=E||"").split("base64,"),D=null;if(F.length===2){var $=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(F[0]);Array.isArray($)&&(D={mimeType:$[1],charset:$[2],data:F[1]})}return D},ae=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(E){return ae()&&E instanceof ArrayBuffer};var le=r.__addimage__.isArrayBufferView=function(E){return ae()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},U=r.__addimage__.binaryStringToUint8Array=function(E){for(var F=E.length,D=new Uint8Array(F),$=0;$<F;$++)D[$]=E.charCodeAt($);return D},S=r.__addimage__.arrayBufferToBinaryString=function(E){for(var F="",D=le(E)?E:new Uint8Array(E),$=0;$<D.length;$+=8192)F+=String.fromCharCode.apply(null,D.subarray($,$+8192));return F};r.addImage=function(){var E,F,D,$,be,te,Y,ie,ge;if(typeof arguments[1]=="number"?(F=e,D=arguments[1],$=arguments[2],be=arguments[3],te=arguments[4],Y=arguments[5],ie=arguments[6],ge=arguments[7]):(F=arguments[1],D=arguments[2],$=arguments[3],be=arguments[4],te=arguments[5],Y=arguments[6],ie=arguments[7],ge=arguments[8]),rn(E=arguments[0])==="object"&&!p(E)&&"imageData"in E){var xe=E;E=xe.imageData,F=xe.format||F||e,D=xe.x||D||0,$=xe.y||$||0,be=xe.w||xe.width||be,te=xe.h||xe.height||te,Y=xe.alias||Y,ie=xe.compression||ie,ge=xe.rotation||xe.angle||ge}var X=this.internal.getFilters();if(ie===void 0&&X.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(D)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var L=M.call(this,E,F,Y,ie);return I.call(this,D,$,be,te,L,ge),this};var M=function(E,F,D,$){var be,te,Y;if(typeof E=="string"&&n(E)===e){E=unescape(E);var ie=z(E,!1);(ie!==""||(ie=r.loadFile(E,!0))!==void 0)&&(E=ie)}if(p(E)&&(E=v(E,F)),F=n(E,F),!x(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((Y=D)==null||Y.length===0)&&(D=(function(ge){return typeof ge=="string"||le(ge)?P(ge):le(ge.data)?P(ge.data):null})(E)),(be=N.call(this,D))||(ae()&&(E instanceof Uint8Array||F==="RGBA"||(te=E,E=U(E))),be=this["process"+F.toUpperCase()](E,g.call(this),D,(function(ge){return ge&&typeof ge=="string"&&(ge=ge.toUpperCase()),ge in r.image_compression?ge:R.NONE})($),te)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},z=r.__addimage__.convertBase64ToBinaryString=function(E,F){var D;F=typeof F!="boolean"||F;var $,be="";if(typeof E=="string"){$=(D=se(E))!==null?D.data:E;try{be=Ag($)}catch(te){if(F)throw K($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return be};r.getImageProperties=function(E){var F,D,$="";if(p(E)&&(E=v(E)),typeof E=="string"&&n(E)===e&&(($=z(E,!1))===""&&($=r.loadFile(E)||""),E=$),D=n(E),!x(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!ae()||E instanceof Uint8Array||(E=U(E)),!(F=this["process"+D.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=D,F}})($t.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};$t.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,s,o,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),g=t.pageContext.annotations,x=!1,p=0;p<g.length&&!x;p++)switch((n=g[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(x=!0);break;case"reference":case"text":case"freetext":x=!0}if(x!=0){this.internal.write("/Annots [");for(var v=0;v<g.length;v++){n=g[v];var N=this.internal.pdfEscape,T=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),R=this.internal.getEncryptor(I.objId),P=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+N(R(n.contents))+")",o+=" /Popup "+O.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+N(R(P))+") >>",I.content=o;var K=I.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+K,n.open&&(o+=" /Open true"),o+=" >>",O.content=o,this.internal.write(I.objId,"0 R",O.objId,"0 R");break;case"freetext":s="/Rect ["+l(n.bounds.x)+" "+u(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var se=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+N(T(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+se+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var ae=this.annotations._nameMap[n.options.name];n.options.pageNumber=ae.page,n.options.top=ae.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+N(T(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var le=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+le+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,s,o,l){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(t),y:g(n),w:h(t+s),h:g(n+o)},options:l,type:"link"})},r.textWithLink=function(t,n,s,o){var l,u,h=this.getTextWidth(t),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var x=this.splitTextToSize(t,u).length;l=Math.ceil(g*x)}else u=h,l=g;return this.text(t,n,s,o),s+=.2*g,o.align==="center"&&(n-=h/2),o.align==="right"&&(n-=h),this.link(n,s-g,u,l,o),h},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})($t.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(I){return e[I.charCodeAt(0)]!==void 0},l=r.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},u=r.__arabicParser__.isArabicEndLetter=function(I){return l(I)&&o(I)&&e[I.charCodeAt(0)].length<=2},h=r.__arabicParser__.isArabicAlfLetter=function(I){return l(I)&&s.indexOf(I.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return l(I)&&o(I)&&e[I.charCodeAt(0)].length>=1};var g=r.__arabicParser__.arabicLetterHasFinalForm=function(I){return l(I)&&o(I)&&e[I.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(I){return l(I)&&o(I)&&e[I.charCodeAt(0)].length>=3};var x=r.__arabicParser__.arabicLetterHasMedialForm=function(I){return l(I)&&o(I)&&e[I.charCodeAt(0)].length==4},p=r.__arabicParser__.resolveLigatures=function(I){var O=0,R=t,P="",K=0;for(O=0;O<I.length;O+=1)R[I.charCodeAt(O)]!==void 0?(K++,typeof(R=R[I.charCodeAt(O)])=="number"&&(P+=String.fromCharCode(R),R=t,K=0),O===I.length-1&&(R=t,P+=I.charAt(O-(K-1)),O-=K-1,K=0)):(R=t,P+=I.charAt(O-K),O-=K,K=0);return P};r.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&n[I.charCodeAt(0)]!==void 0};var v=r.__arabicParser__.getCorrectForm=function(I,O,R){return l(I)?o(I)===!1?-1:!g(I)||!l(O)&&!l(R)||!l(R)&&u(O)||u(I)&&!l(O)||u(I)&&h(O)||u(I)&&u(O)?0:x(I)&&l(O)&&!u(O)&&l(R)&&g(R)?3:u(I)||!l(R)?1:2:-1},N=function(I){var O=0,R=0,P=0,K="",se="",ae="",le=(I=I||"").split("\\s+"),U=[];for(O=0;O<le.length;O+=1){for(U.push(""),R=0;R<le[O].length;R+=1)K=le[O][R],se=le[O][R-1],ae=le[O][R+1],l(K)?(P=v(K,se,ae),U[O]+=P!==-1?String.fromCharCode(e[K.charCodeAt(0)][P]):K):U[O]+=K;U[O]=p(U[O])}return U.join(" ")},T=r.__arabicParser__.processArabic=r.processArabic=function(){var I,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,R=[];if(Array.isArray(O)){var P=0;for(R=[],P=0;P<O.length;P+=1)Array.isArray(O[P])?R.push([N(O[P][0]),O[P][1],O[P][2]]):R.push([N(O[P])]);I=R}else I=N(O);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};r.events.push(["preProcessText",T])})($t.API),$t.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var s;if((t=t||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})($t.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(I){h=I}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(I){g=I}});var x=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return x},set:function(I){x=I}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(I){p=I}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(I){v=I}});var N=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return N},set:function(I){N=I}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(I){T=I}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(h){return n.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},r.getTextDimensions=function(h,g){n.call(this);var x=(g=g||{}).fontSize||this.getFontSize(),p=g.font||this.getFont(),v=g.scaleFactor||this.internal.scaleFactor,N=0,T=0,I=0,O=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var R=g.maxWidth;R>0?typeof h=="string"?h=this.splitTextToSize(h,R):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce((function(K,se){return K.concat(O.splitTextToSize(se,R))}),[])):h=Array.isArray(h)?h:[h];for(var P=0;P<h.length;P++)N<(I=this.getStringUnitWidth(h[P],{font:p})*x)&&(N=I);return N!==0&&(T=h.length),{w:N/=v,h:Math.max((T*x*this.getLineHeightFactor()-x*(this.getLineHeightFactor()-1))/v,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=r.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var g=this.internal.__cell__.lastCell,x=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,N=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===h.lineNumber?(h.x=(g.x||0)+(g.width||0),h.y=g.y||0):g.y+g.height+h.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=p.top,N&&v&&(this.printHeaderRow(h.lineNumber,!0),h.y+=v[0].height)):h.y=g.y+g.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-x,h.y+x,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+x,{align:"center",baseline:"top",maxWidth:h.width-x-x}):this.text(h.text,h.x+x,h.y+x,{align:"left",baseline:"top",maxWidth:h.width-x-x})),this.internal.__cell__.lastCell=h,this};r.table=function(h,g,x,p,v){if(n.call(this),!x)throw new Error("No data for PDF table.");var N,T,I,O,R=[],P=[],K=[],se={},ae={},le=[],U=[],S=(v=v||{}).autoSize||!1,M=v.printHeaders!==!1,z=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,E=v.margins||Object.assign({width:this.getPageWidth()},e),F=typeof v.padding=="number"?v.padding:3,D=v.headerBackgroundColor||"#c8c8c8",$=v.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=$,this.setFontSize(z),p==null)P=R=Object.keys(x[0]),K=R.map((function(){return"left"}));else if(Array.isArray(p)&&rn(p[0])==="object")for(R=p.map((function(xe){return xe.name})),P=p.map((function(xe){return xe.prompt||xe.name||""})),K=p.map((function(xe){return xe.align||"left"})),N=0;N<p.length;N+=1)ae[p[N].name]=p[N].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(P=R=p,K=R.map((function(){return"left"})));if(S||Array.isArray(p)&&typeof p[0]=="string")for(N=0;N<R.length;N+=1){for(se[O=R[N]]=x.map((function(xe){return xe[O]})),this.setFont(void 0,"bold"),le.push(this.getTextDimensions(P[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=se[O],this.setFont(void 0,"normal"),I=0;I<T.length;I+=1)le.push(this.getTextDimensions(T[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ae[O]=Math.max.apply(null,le)+F+F,le=[]}if(M){var be={};for(N=0;N<R.length;N+=1)be[R[N]]={},be[R[N]].text=P[N],be[R[N]].align=K[N];var te=u.call(this,be,ae);U=R.map((function(xe){return new o(h,g,ae[xe],te,be[xe].text,void 0,be[xe].align)})),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var Y=p.reduce((function(xe,X){return xe[X.name]=X.align,xe}),{});for(N=0;N<x.length;N+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:N,data:x[N]},this);var ie=u.call(this,x[N],ae);for(I=0;I<R.length;I+=1){var ge=x[N][R[I]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:N,col:I,data:ge},this),l.call(this,new o(h,g,ae[R[I]],ie,ge,N+2,Y[R[I]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=g,this};var u=function(h,g){var x=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(h).map((function(N){var T=h[N];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,g[N]-x-x)}),this).map((function(N){return this.getLineHeightFactor()*N.length*p/v+x+x}),this).reduce((function(N,T){return Math.max(N,T)}),0)};r.setTableHeaderRow=function(h){n.call(this),this.internal.__cell__.tableHeaderRow=h},r.printHeaderRow=function(h,g){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var x;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],N=0;N<this.internal.__cell__.tableHeaderRow.length;N+=1){x=this.internal.__cell__.tableHeaderRow[N].clone(),g&&(x.y=this.internal.__cell__.margins.top||0,v.push(x)),x.lineNumber=h;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,x),this.setTextColor(T)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),t=!1}})($t.API);var aT={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},iT=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Qw=sT(iT),oT=[100,200,300,400,500,600,700,800,900],BX=sT(oT);function Lw(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return aT[o=o||"normal"]?o:"normal"})(r.style),n=(function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}})(r.weight),s=(function(o){return typeof Qw[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:s,src:r.src||[],ref:r.ref||{name:e,style:[s,t,n].join(" ")}}}function w_(r,e,t,n){var s;for(s=t;s>=0&&s<e.length;s+=n)if(r[e[s]])return r[e[s]];for(s=t;s>=0&&s<e.length;s-=n)if(r[e[s]])return r[e[s]]}var NX={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},v_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function B_(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function CX(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},NX,t.genericFontFamilies||{}),o=null,l=null,u=0;u<e.length;++u)if(s[(o=Lw(e[u])).family]&&(o.family=s[o.family]),r.hasOwnProperty(o.family)){l=r[o.family];break}if(!(l=l||r[n]))throw new Error("Could not find a font-family for the rule '"+B_(o)+"' and default family '"+n+"'.");if(l=(function(h,g){if(g[h])return g[h];var x=Qw[h],p=x<=Qw.normal?-1:1,v=w_(g,iT,x,p);if(!v)throw new Error("Could not find a matching font-stretch value for "+h);return v})(o.stretch,l),l=(function(h,g){if(g[h])return g[h];for(var x=aT[h],p=0;p<x.length;++p)if(g[x[p]])return g[x[p]];throw new Error("Could not find a matching font-style for "+h)})(o.style,l),!(l=(function(h,g){if(g[h])return g[h];if(h===400&&g[500])return g[500];if(h===500&&g[400])return g[400];var x=BX[h],p=w_(g,oT,x,h<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+h);return p})(o.weight,l)))throw new Error("Failed to resolve a font for the rule '"+B_(o)+"'.");return l}function N_(r){return r.trimLeft()}function _X(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function EX(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Up,C_,__,ly=["times"];(function(r){var e,t,n,s,o,l,u,h,g,x=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new h,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new l,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new l,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,g=new x}]);var p=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=L;Object.defineProperty(this,"pdf",{get:function(){return H}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(de){J=!!de}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(de){ee=!!de}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(de){isNaN(de)||(he=de)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(de){isNaN(de)||(me=de)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(de){var oe;typeof de=="number"?oe=[de,de,de,de]:((oe=new Array(4))[0]=de[0],oe[1]=de.length>=2?de[1]:oe[0],oe[2]=de.length>=3?de[2]:oe[0],oe[3]=de.length>=4?de[3]:oe[1]),g.margin=oe}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(de){ve=de}});var Be=0;Object.defineProperty(this,"lastBreak",{get:function(){return Be},set:function(de){Be=de}});var Xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Xe},set:function(de){Xe=de}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(de){de instanceof x&&(g=de)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(de){g.path=de}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(de){Re=de}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(de){var oe;oe=v(de),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(de){var oe=v(de);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(de){["butt","round","square"].indexOf(de)!==-1&&(this.ctx.lineCap=de,this.pdf.setLineCap(de))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(de){isNaN(de)||(this.ctx.lineWidth=de,this.pdf.setLineWidth(de))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(de){["bevel","round","miter"].indexOf(de)!==-1&&(this.ctx.lineJoin=de,this.pdf.setLineJoin(de))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(de){isNaN(de)||(this.ctx.miterLimit=de,this.pdf.setMiterLimit(de))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(de){this.ctx.textBaseline=de}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(de){["right","end","center","left","start"].indexOf(de)!==-1&&(this.ctx.textAlign=de)}});var tt=null;function fe(de,oe){if(tt===null){var Je=(function(ot){var Oe=[];return Object.keys(ot).forEach((function(He){ot[He].forEach((function(st){var it=null;switch(st){case"bold":it={family:He,weight:"bold"};break;case"italic":it={family:He,style:"italic"};break;case"bolditalic":it={family:He,weight:"bold",style:"italic"};break;case"":case"normal":it={family:He}}it!==null&&(it.ref={name:He,style:st},Oe.push(it))}))})),Oe})(de.getFontList());tt=(function(ot){for(var Oe={},He=0;He<ot.length;++He){var st=Lw(ot[He]),it=st.family,vt=st.stretch,bt=st.style,Ot=st.weight;Oe[it]=Oe[it]||{},Oe[it][vt]=Oe[it][vt]||{},Oe[it][vt][bt]=Oe[it][vt][bt]||{},Oe[it][vt][bt][Ot]=st}return Oe})(Je.concat(oe))}return tt}var Me=null;Object.defineProperty(this,"fontFaces",{get:function(){return Me},set:function(de){tt=null,Me=de}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(de){var oe;if(this.ctx.font=de,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(de))!==null){var Je=oe[1],ot=(oe[2],oe[3]),Oe=oe[4],He=(oe[5],oe[6]),st=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(st==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:st==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var it=(function(Mt){var ar,At,ke=[],ut=Mt.trim();if(ut==="")return ly;if(ut in v_)return[v_[ut]];for(;ut!=="";){switch(At=null,ar=(ut=N_(ut)).charAt(0)){case'"':case"'":At=_X(ut.substring(1),ar);break;default:At=EX(ut)}if(At===null||(ke.push(At[0]),(ut=N_(At[1]))!==""&&ut.charAt(0)!==","))return ly;ut=ut.replace(/^,/,"")}return ke})(He);if(this.fontFaces){var vt=CX(fe(this.pdf,this.fontFaces),it.map((function(Mt){return{family:Mt,stretch:"normal",weight:ot,style:Je}})));this.pdf.setFont(vt.ref.name,vt.ref.style)}else{var bt="";(ot==="bold"||parseInt(ot,10)>=700||Je==="bold")&&(bt="bold"),Je==="italic"&&(bt+="italic"),bt.length===0&&(bt="normal");for(var Ot="",Yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Zt=0;Zt<it.length;Zt++){if(this.pdf.internal.getFont(it[Zt],bt,{noFallback:!0,disableWarning:!0})!==void 0){Ot=it[Zt];break}if(bt==="bolditalic"&&this.pdf.internal.getFont(it[Zt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ot=it[Zt],bt="bold";else if(this.pdf.internal.getFont(it[Zt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ot=it[Zt],bt="normal";break}}if(Ot===""){for(var cr=0;cr<it.length;cr++)if(Yt[it[cr]]){Ot=Yt[it[cr]];break}}Ot=Ot===""?"Times":Ot,this.pdf.setFont(Ot,bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(de){this.ctx.globalCompositeOperation=de}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(de){this.ctx.globalAlpha=de}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(de){this.ctx.lineDashOffset=de,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(de){this.ctx.lineDash=de,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(de){this.ctx.ignoreClearRect=!!de}})};p.prototype.setLineDash=function(L){this.lineDash=L},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){se.call(this,"fill",!1)},p.prototype.stroke=function(){se.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(L,H){if(isNaN(L)||isNaN(H))throw fn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new l(L,H));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new l(L,H)},p.prototype.closePath=function(){var L=new l(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&rn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){L=new l(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(L.x,L.y)},p.prototype.lineTo=function(L,H){if(isNaN(L)||isNaN(H))throw fn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new l(L,H));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new l(J.x,J.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),se.call(this,null,!0)},p.prototype.quadraticCurveTo=function(L,H,J,ee){if(isNaN(J)||isNaN(ee)||isNaN(L)||isNaN(H))throw fn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new l(J,ee)),me=this.ctx.transform.applyToPoint(new l(L,H));this.path.push({type:"qct",x1:me.x,y1:me.y,x:he.x,y:he.y}),this.ctx.lastPoint=new l(he.x,he.y)},p.prototype.bezierCurveTo=function(L,H,J,ee,he,me){if(isNaN(he)||isNaN(me)||isNaN(L)||isNaN(H)||isNaN(J)||isNaN(ee))throw fn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new l(he,me)),Be=this.ctx.transform.applyToPoint(new l(L,H)),Xe=this.ctx.transform.applyToPoint(new l(J,ee));this.path.push({type:"bct",x1:Be.x,y1:Be.y,x2:Xe.x,y2:Xe.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new l(ve.x,ve.y)},p.prototype.arc=function(L,H,J,ee,he,me){if(isNaN(L)||isNaN(H)||isNaN(J)||isNaN(ee)||isNaN(he))throw fn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new l(L,H));L=ve.x,H=ve.y;var Be=this.ctx.transform.applyToPoint(new l(0,J)),Xe=this.ctx.transform.applyToPoint(new l(0,0));J=Math.sqrt(Math.pow(Be.x-Xe.x,2)+Math.pow(Be.y-Xe.y,2))}Math.abs(he-ee)>=2*Math.PI&&(ee=0,he=2*Math.PI),this.path.push({type:"arc",x:L,y:H,radius:J,startAngle:ee,endAngle:he,counterclockwise:me})},p.prototype.arcTo=function(L,H,J,ee,he){throw new Error("arcTo not implemented.")},p.prototype.rect=function(L,H,J,ee){if(isNaN(L)||isNaN(H)||isNaN(J)||isNaN(ee))throw fn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,H),this.lineTo(L+J,H),this.lineTo(L+J,H+ee),this.lineTo(L,H+ee),this.lineTo(L,H),this.lineTo(L+J,H),this.lineTo(L,H)},p.prototype.fillRect=function(L,H,J,ee){if(isNaN(L)||isNaN(H)||isNaN(J)||isNaN(ee))throw fn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!N.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,H,J,ee),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},p.prototype.strokeRect=function(L,H,J,ee){if(isNaN(L)||isNaN(H)||isNaN(J)||isNaN(ee))throw fn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(L,H,J,ee),this.stroke())},p.prototype.clearRect=function(L,H,J,ee){if(isNaN(L)||isNaN(H)||isNaN(J)||isNaN(ee))throw fn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,H,J,ee))},p.prototype.save=function(L){L=typeof L!="boolean"||L;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new x(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},p.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(H),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(L){var H,J,ee,he;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))H=0,J=0,ee=0,he=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(me!==null)H=parseInt(me[1]),J=parseInt(me[2]),ee=parseInt(me[3]),he=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)H=parseInt(me[1]),J=parseInt(me[2]),ee=parseInt(me[3]),he=parseFloat(me[4]);else{if(he=1,typeof L=="string"&&L.charAt(0)!=="#"){var ve=new J6(L);L=ve.ok?ve.toHex():"#000000"}L.length===4?(H=L.substring(1,2),H+=H,J=L.substring(2,3),J+=J,ee=L.substring(3,4),ee+=ee):(H=L.substring(1,3),J=L.substring(3,5),ee=L.substring(5,7)),H=parseInt(H,16),J=parseInt(J,16),ee=parseInt(ee,16)}}return{r:H,g:J,b:ee,a:he,style:L}},N=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(L,H,J,ee){if(isNaN(H)||isNaN(J)||typeof L!="string")throw fn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!N.call(this)){var he=ie(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;F.call(this,{text:L,x:H,y:J,scale:me,angle:he,align:this.textAlign,maxWidth:ee})}},p.prototype.strokeText=function(L,H,J,ee){if(isNaN(H)||isNaN(J)||typeof L!="string")throw fn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){ee=isNaN(ee)?void 0:ee;var he=ie(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;F.call(this,{text:L,x:H,y:J,scale:me,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ee})}},p.prototype.measureText=function(L){if(typeof L!="string")throw fn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,J=this.pdf.internal.scaleFactor,ee=H.internal.getFontSize(),he=H.getStringUnitWidth(L)*ee/H.internal.scaleFactor,me=function(ve){var Be=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Be}}),this};return new me({width:he*=Math.round(96*J/72*1e4)/1e4})},p.prototype.scale=function(L,H){if(isNaN(L)||isNaN(H))throw fn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new h(L,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},p.prototype.rotate=function(L){if(isNaN(L))throw fn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new h(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.translate=function(L,H){if(isNaN(L)||isNaN(H))throw fn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new h(1,0,0,1,L,H);this.ctx.transform=this.ctx.transform.multiply(J)},p.prototype.transform=function(L,H,J,ee,he,me){if(isNaN(L)||isNaN(H)||isNaN(J)||isNaN(ee)||isNaN(he)||isNaN(me))throw fn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new h(L,H,J,ee,he,me);this.ctx.transform=this.ctx.transform.multiply(ve)},p.prototype.setTransform=function(L,H,J,ee,he,me){L=isNaN(L)?1:L,H=isNaN(H)?0:H,J=isNaN(J)?0:J,ee=isNaN(ee)?1:ee,he=isNaN(he)?0:he,me=isNaN(me)?0:me,this.ctx.transform=new h(L,H,J,ee,he,me)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(L,H,J,ee,he,me,ve,Be,Xe){var Re=this.pdf.getImageProperties(L),tt=1,fe=1,Me=1,de=1;ee!==void 0&&Be!==void 0&&(Me=Be/ee,de=Xe/he,tt=Re.width/ee*Be/ee,fe=Re.height/he*Xe/he),me===void 0&&(me=H,ve=J,H=0,J=0),ee!==void 0&&Be===void 0&&(Be=ee,Xe=he),ee===void 0&&Be===void 0&&(Be=Re.width,Xe=Re.height);for(var oe,Je=this.ctx.transform.decompose(),ot=ie(Je.rotate.shx),Oe=new h,He=(Oe=(Oe=(Oe=Oe.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new u(me-H*Me,ve-J*de,ee*tt,he*fe)),st=O.call(this,He),it=[],vt=0;vt<st.length;vt+=1)it.indexOf(st[vt])===-1&&it.push(st[vt]);if(K(it),this.autoPaging)for(var bt=it[0],Ot=it[it.length-1],Yt=bt;Yt<Ot+1;Yt++){this.pdf.setPage(Yt);var Zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],cr=Yt===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ar=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=Yt===1?0:Mt+(Yt-2)*ar;if(this.ctx.clip_path.length!==0){var ke=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(oe,this.posX+this.margin[3],-At+cr+this.ctx.prevPageLastElemOffset),ae.call(this,"fill",!0),this.path=ke}var ut=JSON.parse(JSON.stringify(He));ut=P([ut],this.posX+this.margin[3],-At+cr+this.ctx.prevPageLastElemOffset)[0];var It=(Yt>bt||Yt<Ot)&&I.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Zt,ar,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",ut.x,ut.y,ut.w,ut.h,null,null,ot),It&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",He.x,He.y,He.w,He.h,null,null,ot)};var O=function(L,H,J){var ee=[];H=H||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ee.push(Math.floor((L.y+he)/J)+1);break;case"arc":ee.push(Math.floor((L.y+he-L.radius)/J)+1),ee.push(Math.floor((L.y+he+L.radius)/J)+1);break;case"qct":var me=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ee.push(Math.floor((me.y+he)/J)+1),ee.push(Math.floor((me.y+me.h+he)/J)+1);break;case"bct":var ve=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ee.push(Math.floor((ve.y+he)/J)+1),ee.push(Math.floor((ve.y+ve.h+he)/J)+1);break;case"rect":ee.push(Math.floor((L.y+he)/J)+1),ee.push(Math.floor((L.y+L.h+he)/J)+1)}for(var Be=0;Be<ee.length;Be+=1)for(;this.pdf.internal.getNumberOfPages()<ee[Be];)R.call(this);return ee},R=function(){var L=this.fillStyle,H=this.strokeStyle,J=this.font,ee=this.lineCap,he=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=H,this.font=J,this.lineCap=ee,this.lineWidth=he,this.lineJoin=me},P=function(L,H,J){for(var ee=0;ee<L.length;ee++)switch(L[ee].type){case"bct":L[ee].x2+=H,L[ee].y2+=J;case"qct":L[ee].x1+=H,L[ee].y1+=J;case"mt":case"lt":case"arc":default:L[ee].x+=H,L[ee].y+=J}return L},K=function(L){return L.sort((function(H,J){return H-J}))},se=function(L,H){for(var J,ee,he=this.fillStyle,me=this.strokeStyle,ve=this.lineCap,Be=this.lineWidth,Xe=Math.abs(Be*this.ctx.transform.scaleX),Re=this.lineJoin,tt=JSON.parse(JSON.stringify(this.path)),fe=JSON.parse(JSON.stringify(this.path)),Me=[],de=0;de<fe.length;de++)if(fe[de].x!==void 0)for(var oe=O.call(this,fe[de]),Je=0;Je<oe.length;Je+=1)Me.indexOf(oe[Je])===-1&&Me.push(oe[Je]);for(var ot=0;ot<Me.length;ot++)for(;this.pdf.internal.getNumberOfPages()<Me[ot];)R.call(this);if(K(Me),this.autoPaging)for(var Oe=Me[0],He=Me[Me.length-1],st=Oe;st<He+1;st++){this.pdf.setPage(st),this.fillStyle=he,this.strokeStyle=me,this.lineCap=ve,this.lineWidth=Xe,this.lineJoin=Re;var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=st===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Yt=st===1?0:bt+(st-2)*Ot;if(this.ctx.clip_path.length!==0){var Zt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(J,this.posX+this.margin[3],-Yt+vt+this.ctx.prevPageLastElemOffset),ae.call(this,L,!0),this.path=Zt}if(ee=JSON.parse(JSON.stringify(tt)),this.path=P(ee,this.posX+this.margin[3],-Yt+vt+this.ctx.prevPageLastElemOffset),H===!1||st===0){var cr=(st>Oe||st<He)&&I.call(this);cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ot,null).clip().discardPath()),ae.call(this,L,H),cr&&this.pdf.restoreGraphicsState()}this.lineWidth=Be}else this.lineWidth=Xe,ae.call(this,L,H),this.lineWidth=Be;this.path=tt},ae=function(L,H){if((L!=="stroke"||H||!T.call(this))&&(L==="stroke"||H||!N.call(this))){for(var J,ee,he=[],me=this.path,ve=0;ve<me.length;ve++){var Be=me[ve];switch(Be.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:Be,deltas:[],abs:[]});break;case"lt":var Xe=he.length;if(me[ve-1]&&!isNaN(me[ve-1].x)&&(J=[Be.x-me[ve-1].x,Be.y-me[ve-1].y],Xe>0)){for(;Xe>=0;Xe--)if(he[Xe-1].close!==!0&&he[Xe-1].begin!==!0){he[Xe-1].deltas.push(J),he[Xe-1].abs.push(Be);break}}break;case"bct":J=[Be.x1-me[ve-1].x,Be.y1-me[ve-1].y,Be.x2-me[ve-1].x,Be.y2-me[ve-1].y,Be.x-me[ve-1].x,Be.y-me[ve-1].y],he[he.length-1].deltas.push(J);break;case"qct":var Re=me[ve-1].x+2/3*(Be.x1-me[ve-1].x),tt=me[ve-1].y+2/3*(Be.y1-me[ve-1].y),fe=Be.x+2/3*(Be.x1-Be.x),Me=Be.y+2/3*(Be.y1-Be.y),de=Be.x,oe=Be.y;J=[Re-me[ve-1].x,tt-me[ve-1].y,fe-me[ve-1].x,Me-me[ve-1].y,de-me[ve-1].x,oe-me[ve-1].y],he[he.length-1].deltas.push(J);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(Be)}}ee=H?null:L==="stroke"?"stroke":"fill";for(var Je=!1,ot=0;ot<he.length;ot++)if(he[ot].arc)for(var Oe=he[ot].abs,He=0;He<Oe.length;He++){var st=Oe[He];st.type==="arc"?S.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,H,!Je):D.call(this,st.x,st.y),Je=!0}else if(he[ot].close===!0)this.pdf.internal.out("h"),Je=!1;else if(he[ot].begin!==!0){var it=he[ot].start.x,vt=he[ot].start.y;$.call(this,he[ot].deltas,it,vt),Je=!0}ee&&M.call(this,ee),H&&z.call(this)}},le=function(L){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-J;case"top":return L+H-J;case"hanging":return L+H-2*J;case"middle":return L+H/2-J;case"ideographic":return L;case"alphabetic":default:return L}},U=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(H,J){this.colorStops.push([H,J])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(L,H,J,ee,he,me,ve,Be,Xe){for(var Re=te.call(this,J,ee,he,me),tt=0;tt<Re.length;tt++){var fe=Re[tt];tt===0&&(Xe?E.call(this,fe.x1+L,fe.y1+H):D.call(this,fe.x1+L,fe.y1+H)),be.call(this,L,H,fe.x2,fe.y2,fe.x3,fe.y3,fe.x4,fe.y4)}Be?z.call(this):M.call(this,ve)},M=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(L,H){this.pdf.internal.out(t(L)+" "+n(H)+" m")},F=function(L){var H;switch(L.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var J=this.pdf.getTextDimensions(L.text),ee=le.call(this,L.y),he=U.call(this,ee)-J.h,me=this.ctx.transform.applyToPoint(new l(L.x,ee)),ve=this.ctx.transform.decompose(),Be=new h;Be=(Be=(Be=Be.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var Xe,Re,tt,fe=this.ctx.transform.applyToRectangle(new u(L.x,ee,J.w,J.h)),Me=Be.applyToRectangle(new u(L.x,he,J.w,J.h)),de=O.call(this,Me),oe=[],Je=0;Je<de.length;Je+=1)oe.indexOf(de[Je])===-1&&oe.push(de[Je]);if(K(oe),this.autoPaging)for(var ot=oe[0],Oe=oe[oe.length-1],He=ot;He<Oe+1;He++){this.pdf.setPage(He);var st=He===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],bt=vt-this.margin[0],Ot=this.pdf.internal.pageSize.width-this.margin[1],Yt=Ot-this.margin[3],Zt=He===1?0:it+(He-2)*bt;if(this.ctx.clip_path.length!==0){var cr=this.path;Xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Xe,this.posX+this.margin[3],-1*Zt+st),ae.call(this,"fill",!0),this.path=cr}var Mt=P([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-Zt+st+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*L.scale),tt=this.lineWidth,this.lineWidth=tt*L.scale);var ar=this.autoPaging!=="text";if(ar||Mt.y+Mt.h<=vt){if(ar||Mt.y>=st&&Mt.x<=Ot){var At=ar?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ot-Mt.x)[0],ke=P([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-Zt+st+this.ctx.prevPageLastElemOffset)[0],ut=ar&&(He>ot||He<Oe)&&I.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,bt,null).clip().discardPath()),this.pdf.text(At,ke.x,ke.y,{angle:L.angle,align:H,renderingMode:L.renderingMode}),ut&&this.pdf.restoreGraphicsState()}}else Mt.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-Mt.y);L.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=tt)}else L.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*L.scale),tt=this.lineWidth,this.lineWidth=tt*L.scale),this.pdf.text(L.text,me.x+this.posX,me.y+this.posY,{angle:L.angle,align:H,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=tt)},D=function(L,H,J,ee){J=J||0,ee=ee||0,this.pdf.internal.out(t(L+J)+" "+n(H+ee)+" l")},$=function(L,H,J){return this.pdf.lines(L,H,J,null,null)},be=function(L,H,J,ee,he,me,ve,Be){this.pdf.internal.out([e(s(J+L)),e(o(ee+H)),e(s(he+L)),e(o(me+H)),e(s(ve+L)),e(o(Be+H)),"c"].join(" "))},te=function(L,H,J,ee){for(var he=2*Math.PI,me=Math.PI/2;H>J;)H-=he;var ve=Math.abs(J-H);ve<he&&ee&&(ve=he-ve);for(var Be=[],Xe=ee?-1:1,Re=H;ve>1e-5;){var tt=Re+Xe*Math.min(ve,me);Be.push(Y.call(this,L,Re,tt)),ve-=Math.abs(tt-Re),Re=tt}return Be},Y=function(L,H,J){var ee=(J-H)/2,he=L*Math.cos(ee),me=L*Math.sin(ee),ve=he,Be=-me,Xe=ve*ve+Be*Be,Re=Xe+ve*he+Be*me,tt=4/3*(Math.sqrt(2*Xe*Re)-Re)/(ve*me-Be*he),fe=ve-tt*Be,Me=Be+tt*ve,de=fe,oe=-Me,Je=ee+H,ot=Math.cos(Je),Oe=Math.sin(Je);return{x1:L*Math.cos(H),y1:L*Math.sin(H),x2:fe*ot-Me*Oe,y2:fe*Oe+Me*ot,x3:de*ot-oe*Oe,y3:de*Oe+oe*ot,x4:L*Math.cos(J),y4:L*Math.sin(J)}},ie=function(L){return 180*L/Math.PI},ge=function(L,H,J,ee,he,me){var ve=L+.5*(J-L),Be=H+.5*(ee-H),Xe=he+.5*(J-he),Re=me+.5*(ee-me),tt=Math.min(L,he,ve,Xe),fe=Math.max(L,he,ve,Xe),Me=Math.min(H,me,Be,Re),de=Math.max(H,me,Be,Re);return new u(tt,Me,fe-tt,de-Me)},xe=function(L,H,J,ee,he,me,ve,Be){var Xe,Re,tt,fe,Me,de,oe,Je,ot,Oe,He,st,it,vt,bt=J-L,Ot=ee-H,Yt=he-J,Zt=me-ee,cr=ve-he,Mt=Be-me;for(Re=0;Re<41;Re++)ot=(oe=(tt=L+(Xe=Re/40)*bt)+Xe*((Me=J+Xe*Yt)-tt))+Xe*(Me+Xe*(he+Xe*cr-Me)-oe),Oe=(Je=(fe=H+Xe*Ot)+Xe*((de=ee+Xe*Zt)-fe))+Xe*(de+Xe*(me+Xe*Mt-de)-Je),Re==0?(He=ot,st=Oe,it=ot,vt=Oe):(He=Math.min(He,ot),st=Math.min(st,Oe),it=Math.max(it,ot),vt=Math.max(vt,Oe));return new u(Math.round(He),Math.round(st),Math.round(it-He),Math.round(vt-st))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,H,J=(L=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:H}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})($t.API),(function(r){var e=function(o){var l,u,h,g,x,p,v,N,T,I;for(u=[],h=0,g=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;g>h;h+=4)(x=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(p=(x=((x=((x=((x=(x-(I=x%85))/85)-(T=x%85))/85)-(N=x%85))/85)-(v=x%85))/85)%85,u.push(p+33,v+33,N+33,T+33,I+33)):u.push(122);return(function(O,R){for(var P=R;P>0;P--)O.pop()})(u,l.length),String.fromCharCode.apply(String,u)+"~>"},t=function(o){var l,u,h,g,x,p=String,v="length",N=255,T="charCodeAt",I="slice",O="replace";for(o[I](-2),o=o[I](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),h=[],g=0,x=(o+=l="uuuuu"[I](o[v]%5||5))[v];x>g;g+=5)u=52200625*(o[T](g)-33)+614125*(o[T](g+1)-33)+7225*(o[T](g+2)-33)+85*(o[T](g+3)-33)+(o[T](g+4)-33),h.push(N&u>>24,N&u>>16,N&u>>8,N&u);return(function(R,P){for(var K=P;K>0;K--)R.pop()})(h,l[v]),p.fromCharCode.apply(p,h)},n=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var u="",h=0;h<o.length;h+=2)u+=String.fromCharCode("0x"+(o[h]+o[h+1]));return u},s=function(o){for(var l=new Uint8Array(o.length),u=o.length;u--;)l[u]=o.charCodeAt(u);return o=(l=Iw(l)).reduce((function(h,g){return h+String.fromCharCode(g)}),"")};r.processDataByFilters=function(o,l){var u=0,h=o||"",g=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=n(h),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map((function(x){return("0"+x.charCodeAt().toString(16)).slice(-2)})).join("")+">",g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:h,reverseChain:g.reverse().join(" ")}}})($t.API),(function(r){r.loadFile=function(e,t,n){return(function(s,o,l){o=o!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=(function(h,g,x){var p=new XMLHttpRequest,v=0,N=function(T){var I=T.length,O=[],R=String.fromCharCode;for(v=0;v<I;v+=1)O.push(R(255&T.charCodeAt(v)));return O.join("")};if(p.open("GET",h,!g),p.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(p.onload=function(){p.status===200?x(N(this.responseText)):x(void 0)}),p.send(null),g&&p.status===200)return N(p.responseText)})(s,o,l)}catch{}return u})(e,t,n)},r.loadImageFile=r.loadFile})($t.API),(function(r){function e(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):Nw(()=>Promise.resolve().then(()=>zG),void 0,import.meta.url)).catch((function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))})).then((function(l){return l.default?l.default:l}))}function t(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):Nw(()=>import("./purify.es-C_uT9hQ1.js"),[],import.meta.url)).catch((function(l){return Promise.reject(new Error("Could not load dompurify: "+l))})).then((function(l){return l.default?l.default:l}))}var n=function(l){var u=rn(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},s=function(l,u){var h=document.createElement(l);for(var g in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[g]=u.style[g];return h},o=function l(u){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),g=l.convert(Promise.resolve(),h);return g=(g=g.setProgress(1,l,1,[l])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,u){return l.__proto__=u||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,u){return this.then((function(){switch(u=u||(function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l)){case"string":return this.then(t).then((function(h){return this.set({src:s("div",{innerHTML:l,dompurify:h})})}));case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}}))},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=(function h(g,x){for(var p=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),v=g.firstChild;v;v=v.nextSibling)x!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||p.appendChild(h(v,x));return g.nodeType===1&&(g.nodeName==="CANVAS"?(p.width=g.width,p.height=g.height,p.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(p.value=g.value),p.addEventListener("load",(function(){p.scrollTop=g.scrollTop,p.scrollLeft=g.scrollLeft}),!0)),p})(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then((function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)})).then((function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)}))},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then((function(u){var h=this.opt.jsPDF,g=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=g,g)for(var v=0;v<g.length;++v){var N=g[v],T=N.src.find((function(I){return I.format==="truetype"}));T&&h.addFont(T.url,N.ref.name,N.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,h.context2d.save(!0),u(this.prop.container,p)})).then((function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)}))},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l}))},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},o.prototype.output=function(l,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},o.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(l,u)}))},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}}))},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},o.prototype.set=function(l){if(n(l)!=="object")return this;var u=Object.keys(l||{}).map((function(h){if(h in o.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}}),this);return this.then((function(){return this.thenList(u)}))},o.prototype.get=function(l,u){return this.then((function(){var h=l in o.template.prop?this.prop[l]:this.opt[l];return u?u(h):h}))},o.prototype.setMargin=function(l){return this.then((function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l})).then(this.setPageSize)},o.prototype.setPageSize=function(l){function u(h,g){return Math.floor(h*g/72*96)}return this.then((function(){(l=l||$t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l}))},o.prototype.setProgress=function(l,u,h,g){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,u,h,g){return this.setProgress(l?this.progress.val+l:null,u||null,h?this.progress.n+h:null,g?this.progress.stack.concat(g):null)},o.prototype.then=function(l,u){var h=this;return this.thenCore(l,u,(function(g,x){return h.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,(function(p){return h.updateProgress(null,g),p})).then(g,x).then((function(p){return h.updateProgress(1),p}))}))},o.prototype.thenCore=function(l,u,h){h=h||Promise.prototype.then,l&&(l=l.bind(this)),u&&(u=u.bind(this));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),x=h.call(g,l,u);return o.convert(x,this.__proto__)},o.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},o.prototype.thenList=function(l){var u=this;return l.forEach((function(h){u=u.thenCore(h)})),u},o.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return o.convert(u,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then((function(){throw new Error(l)}))},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,$t.getPageSize=function(l,u,h){if(rn(l)==="object"){var g=l;l=g.orientation,u=g.unit||u,h=g.format||h}u=u||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var x,p=(""+h).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+u}var N,T=0,I=0;if(v.hasOwnProperty(p))T=v[p][1]/x,I=v[p][0]/x;else try{T=h[1],I=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",I>T&&(N=I,I=T,T=N);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",T>I&&(N=I,I=T,T=N)}return{width:I,height:T,unit:u,k:x,orientation:l}},r.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Lw):null;var h=new o(u);return u.worker?h:h.from(l).doCallback()}})($t.API),$t.API.addJS=function(r){return __=r,this.internal.events.subscribe("postPutResources",(function(){Up=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Up+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),C_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+__+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Up!==void 0&&C_!==void 0&&this.internal.out("/Names <</JavaScript "+Up+" 0 R>>")})),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var l=s[o],u=n.exec(l);if(u!=null){var h=u[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,x=[];for(o=0;o<g;o++){var p=t.internal.newObject();x.push(p);var v=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var N=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<x.length;o++)t.internal.write("(page_"+(o+1)+")"+x[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+N+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,s,o){var l={title:s,options:o,children:[]};return n==null&&(n=this.root),n.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var l=n.children[o];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var h=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var g=0;g<n.children.length;g++)this.renderItems(n.children[g])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,s){for(var o=0;o<s.children.length;o++)n.count++,this.count_r(n,s.children[o]);return n.count}}])})($t.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,s,o,l,u){var h,g=this.decode.DCT_DECODE,x=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(h=(function(p){for(var v,N=256*p.charCodeAt(4)+p.charCodeAt(5),T=p.length,I={width:0,height:0,numcomponents:1},O=4;O<T;O+=2){if(O+=N,e.indexOf(p.charCodeAt(O+1))!==-1){v=256*p.charCodeAt(O+5)+p.charCodeAt(O+6),I={width:256*p.charCodeAt(O+7)+p.charCodeAt(O+8),height:v,numcomponents:p.charCodeAt(O+9)};break}N=256*p.charCodeAt(O+2)+p.charCodeAt(O+3)}return I})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}x={data:t,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:g,index:n,alias:s}}return x}})($t.API);var Uh,Fp,E_,S_,I_,SX=(function(){var r,e,t;function n(o){var l,u,h,g,x,p,v,N,T,I,O,R,P,K;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(l=this.readUInt32(),T=(function(){var se,ae;for(ae=[],se=0;se<4;++se)ae.push(String.fromCharCode(this.data[this.pos++]));return ae}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},x=this.readUInt16(),g=this.readUInt16()||100,p.delay=1e3*x/g,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(T==="fdAT"&&(this.pos+=4,l-=4),o=(p!=null?p.data:void 0)||this.imgData,R=0;0<=l?R<l:R>l;0<=l?++R:--R)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((I=h-this.transparency.indexed.length)>0)for(P=0;0<=I?P<I:P>I;0<=I?++P:--P)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":v=(O=this.read(l)).indexOf(0),N=String.fromCharCode.apply(String,O.slice(0,v)),this.text[N]=String.fromCharCode.apply(String,O.slice(v+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(K=this.colorType)===4||K===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(o){var l,u;for(u=[],l=0;0<=o?l<o:l>o;0<=o?++l:--l)u.push(this.data[this.pos++]);return u},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(o){var l=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*l),h=0,g=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function x(p,v,N,T){var I,O,R,P,K,se,ae,le,U,S,M,z,E,F,D,$,be,te,Y,ie,ge,xe=Math.ceil((g.width-p)/N),X=Math.ceil((g.height-v)/T),L=g.width==xe&&g.height==X;for(F=l*xe,z=L?u:new Uint8Array(F*X),se=o.length,E=0,O=0;E<X&&h<se;){switch(o[h++]){case 0:for(P=be=0;be<F;P=be+=1)z[O++]=o[h++];break;case 1:for(P=te=0;te<F;P=te+=1)I=o[h++],K=P<l?0:z[O-l],z[O++]=(I+K)%256;break;case 2:for(P=Y=0;Y<F;P=Y+=1)I=o[h++],R=(P-P%l)/l,D=E&&z[(E-1)*F+R*l+P%l],z[O++]=(D+I)%256;break;case 3:for(P=ie=0;ie<F;P=ie+=1)I=o[h++],R=(P-P%l)/l,K=P<l?0:z[O-l],D=E&&z[(E-1)*F+R*l+P%l],z[O++]=(I+Math.floor((K+D)/2))%256;break;case 4:for(P=ge=0;ge<F;P=ge+=1)I=o[h++],R=(P-P%l)/l,K=P<l?0:z[O-l],E===0?D=$=0:(D=z[(E-1)*F+R*l+P%l],$=R&&z[(E-1)*F+(R-1)*l+P%l]),ae=K+D-$,le=Math.abs(ae-K),S=Math.abs(ae-D),M=Math.abs(ae-$),U=le<=S&&le<=M?K:S<=M?D:$,z[O++]=(I+U)%256;break;default:throw new Error("Invalid filter algorithm: "+o[h-1])}if(!L){var H=((v+E*T)*g.width+p)*l,J=E*F;for(P=0;P<xe;P+=1){for(var ee=0;ee<l;ee+=1)u[H++]=z[J++];H+=(N-1)*l}}E++}}return o=iX(o),g.interlaceMethod==1?(x(0,0,8,8),x(4,0,8,8),x(0,4,4,8),x(2,0,4,4),x(0,2,2,4),x(1,0,2,2),x(0,1,1,2)):x(0,0,1,1),u},n.prototype.decodePalette=function(){var o,l,u,h,g,x,p,v,N;for(u=this.palette,x=this.transparency.indexed||[],g=new Uint8Array((x.length||0)+u.length),h=0,o=0,l=p=0,v=u.length;p<v;l=p+=3)g[h++]=u[l],g[h++]=u[l+1],g[h++]=u[l+2],g[h++]=(N=x[o++])!=null?N:255;return g},n.prototype.copyToImageData=function(o,l){var u,h,g,x,p,v,N,T,I,O,R;if(h=this.colors,I=null,u=this.hasAlphaChannel,this.palette.length&&(I=(R=this._decodedPalette)!=null?R:this._decodedPalette=this.decodePalette(),h=4,u=!0),T=(g=o.data||o).length,p=I||l,x=v=0,h===1)for(;x<T;)N=I?4*l[x/4]:v,O=p[N++],g[x++]=O,g[x++]=O,g[x++]=O,g[x++]=u?p[N++]:255,v=N;else for(;x<T;)N=I?4*l[x/4]:v,g[x++]=p[N++],g[x++]=p[N++],g[x++]=p[N++],g[x++]=u?p[N++]:255,v=N},n.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var s=function(){if(Object.prototype.toString.call(Wt)==="[object Window]"){try{e=Wt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),r=function(o){var l;if(s()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(o){var l,u,h,g,x,p,v,N;if(this.animation){for(N=[],u=x=0,p=(v=this.animation.frames).length;x<p;u=++x)l=v[u],h=o.createImageData(l.width,l.height),g=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(h,g),l.imageData=h,N.push(l.image=r(h));return N}},n.prototype.renderFrame=function(o,l){var u,h,g;return u=(h=this.animation.frames)[l],g=h[l-1],l===0&&o.clearRect(0,0,this.width,this.height),(g!=null?g.disposeOp:void 0)===1?o.clearRect(g.xOffset,g.yOffset,g.width,g.height):(g!=null?g.disposeOp:void 0)===2&&o.putImageData(g.imageData,g.xOffset,g.yOffset),u.blendOp===0&&o.clearRect(u.xOffset,u.yOffset,u.width,u.height),o.drawImage(u.image,u.xOffset,u.yOffset)},n.prototype.animate=function(o){var l,u,h,g,x,p,v=this;return u=0,p=this.animation,g=p.numFrames,h=p.frames,x=p.numPlays,(l=function(){var N,T;if(N=u++%g,T=h[N],v.renderFrame(o,N),g>1&&u/g<x)return v.animation._timeout=setTimeout(l,T.delay)})()},n.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},n.prototype.render=function(o){var l,u;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,l=o.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(u=l.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),l.putImageData(u,0,0))},n})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function IX(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,s=r[e++],o=s>>7,l=1<<(7&s)+1;r[e++],r[e++];var u=null,h=null;o&&(u=e,h=l,e+=3*l);var g=!0,x=[],p=0,v=null,N=0,T=null;for(this.width=t,this.height=n;g&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,T=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var I=r[e++];p=r[e++]|r[e++]<<8,v=r[e++],(1&I)==0&&(v=null),N=I>>2&7,e++;break;case 254:for(;;){if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var O=r[e++]|r[e++]<<8,R=r[e++]|r[e++]<<8,P=r[e++]|r[e++]<<8,K=r[e++]|r[e++]<<8,se=r[e++],ae=se>>6&1,le=1<<(7&se)+1,U=u,S=h,M=!1;se>>7&&(M=!0,U=e,S=le,e+=3*le);var z=e;for(e++;;){var E;if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}x.push({x:O,y:R,width:P,height:K,has_local_palette:M,palette_offset:U,palette_size:S,data_offset:z,data_length:e-z,transparent_index:v,interlaced:!!ae,delay:p,disposal:N});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return T},this.frameInfo=function(F){if(F<0||F>=x.length)throw new Error("Frame index out of range.");return x[F]},this.decodeAndBlitFrameBGRA=function(F,D){var $=this.frameInfo(F),be=$.width*$.height,te=new Uint8Array(be);j_(r,$.data_offset,te,be);var Y=$.palette_offset,ie=$.transparent_index;ie===null&&(ie=256);var ge=$.width,xe=t-ge,X=ge,L=4*($.y*t+$.x),H=4*(($.y+$.height)*t+$.x),J=L,ee=4*xe;$.interlaced===!0&&(ee+=4*t*7);for(var he=8,me=0,ve=te.length;me<ve;++me){var Be=te[me];if(X===0&&(X=ge,(J+=ee)>=H&&(ee=4*xe+4*t*(he-1),J=L+(ge+xe)*(he<<1),he>>=1)),Be===ie)J+=4;else{var Xe=r[Y+3*Be],Re=r[Y+3*Be+1],tt=r[Y+3*Be+2];D[J++]=tt,D[J++]=Re,D[J++]=Xe,D[J++]=255}--X}},this.decodeAndBlitFrameRGBA=function(F,D){var $=this.frameInfo(F),be=$.width*$.height,te=new Uint8Array(be);j_(r,$.data_offset,te,be);var Y=$.palette_offset,ie=$.transparent_index;ie===null&&(ie=256);var ge=$.width,xe=t-ge,X=ge,L=4*($.y*t+$.x),H=4*(($.y+$.height)*t+$.x),J=L,ee=4*xe;$.interlaced===!0&&(ee+=4*t*7);for(var he=8,me=0,ve=te.length;me<ve;++me){var Be=te[me];if(X===0&&(X=ge,(J+=ee)>=H&&(ee=4*xe+4*t*(he-1),J=L+(ge+xe)*(he<<1),he>>=1)),Be===ie)J+=4;else{var Xe=r[Y+3*Be],Re=r[Y+3*Be+1],tt=r[Y+3*Be+2];D[J++]=Xe,D[J++]=Re,D[J++]=tt,D[J++]=255}--X}}}function j_(r,e,t,n){for(var s=r[e++],o=1<<s,l=o+1,u=l+1,h=s+1,g=(1<<h)-1,x=0,p=0,v=0,N=r[e++],T=new Int32Array(4096),I=null;;){for(;x<16&&N!==0;)p|=r[e++]<<x,x+=8,N===1?N=r[e++]:--N;if(x<h)break;var O=p&g;if(p>>=h,x-=h,O!==o){if(O===l)break;for(var R=O<u?O:I,P=0,K=R;K>o;)K=T[K]>>8,++P;var se=K;if(v+P+(R!==O?1:0)>n)return void fn.log("Warning, gif stream longer than expected.");t[v++]=se;var ae=v+=P;for(R!==O&&(t[v++]=se),K=R;P--;)K=T[K],t[--ae]=255&K,K>>=8;I!==null&&u<4096&&(T[u++]=I<<8|se,u>=g+1&&h<12&&(++h,g=g<<1|1)),I=O}else u=l+1,g=(1<<(h=s+1))-1,I=null}return v!==n&&fn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function cy(r){var e,t,n,s,o,l=Math.floor,u=new Array(64),h=new Array(64),g=new Array(64),x=new Array(64),p=new Array(65535),v=new Array(65535),N=new Array(64),T=new Array(64),I=[],O=0,R=7,P=new Array(64),K=new Array(64),se=new Array(64),ae=new Array(256),le=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(L,H){for(var J=0,ee=0,he=new Array,me=1;me<=16;me++){for(var ve=1;ve<=L[me];ve++)he[H[ee]]=[],he[H[ee]][0]=J,he[H[ee]][1]=me,ee++,J++;J*=2}return he}function Y(L){for(var H=L[0],J=L[1]-1;J>=0;)H&1<<J&&(O|=1<<R),J--,--R<0&&(O==255?(ie(255),ie(0)):ie(O),R=7,O=0)}function ie(L){I.push(L)}function ge(L){ie(L>>8&255),ie(255&L)}function xe(L,H,J,ee,he){for(var me,ve=he[0],Be=he[240],Xe=(function(Oe,He){var st,it,vt,bt,Ot,Yt,Zt,cr,Mt,ar,At=0;for(Mt=0;Mt<8;++Mt){st=Oe[At],it=Oe[At+1],vt=Oe[At+2],bt=Oe[At+3],Ot=Oe[At+4],Yt=Oe[At+5],Zt=Oe[At+6];var ke=st+(cr=Oe[At+7]),ut=st-cr,It=it+Zt,Ut=it-Zt,Ft=vt+Yt,Rr=vt-Yt,Pt=bt+Ot,On=bt-Ot,lr=ke+Pt,gn=ke-Pt,fr=It+Ft,ur=It-Ft;Oe[At]=lr+fr,Oe[At+4]=lr-fr;var jt=.707106781*(ur+gn);Oe[At+2]=gn+jt,Oe[At+6]=gn-jt;var Xt=.382683433*((lr=On+Rr)-(ur=Ut+ut)),ma=.5411961*lr+Xt,Er=1.306562965*ur+Xt,Xr=.707106781*(fr=Rr+Ut),mn=ut+Xr,Qe=ut-Xr;Oe[At+5]=Qe+ma,Oe[At+3]=Qe-ma,Oe[At+1]=mn+Er,Oe[At+7]=mn-Er,At+=8}for(At=0,Mt=0;Mt<8;++Mt){st=Oe[At],it=Oe[At+8],vt=Oe[At+16],bt=Oe[At+24],Ot=Oe[At+32],Yt=Oe[At+40],Zt=Oe[At+48];var ct=st+(cr=Oe[At+56]),kt=st-cr,yt=it+Zt,rt=it-Zt,xt=vt+Yt,Qt=vt-Yt,_t=bt+Ot,Ht=bt-Ot,mt=ct+_t,rr=ct-_t,yn=yt+xt,Zs=yt-xt;Oe[At]=mt+yn,Oe[At+32]=mt-yn;var pa=.707106781*(Zs+rr);Oe[At+16]=rr+pa,Oe[At+48]=rr-pa;var Pa=.382683433*((mt=Ht+Qt)-(Zs=rt+kt)),no=.5411961*mt+Pa,ea=1.306562965*Zs+Pa,ji=.707106781*(yn=Qt+rt),ta=kt+ji,vs=kt-ji;Oe[At+40]=vs+no,Oe[At+24]=vs-no,Oe[At+8]=ta+ea,Oe[At+56]=ta-ea,At++}for(Mt=0;Mt<64;++Mt)ar=Oe[Mt]*He[Mt],N[Mt]=ar>0?ar+.5|0:ar-.5|0;return N})(L,H),Re=0;Re<64;++Re)T[U[Re]]=Xe[Re];var tt=T[0]-J;J=T[0],tt==0?Y(ee[0]):(Y(ee[v[me=32767+tt]]),Y(p[me]));for(var fe=63;fe>0&&T[fe]==0;)fe--;if(fe==0)return Y(ve),J;for(var Me,de=1;de<=fe;){for(var oe=de;T[de]==0&&de<=fe;)++de;var Je=de-oe;if(Je>=16){Me=Je>>4;for(var ot=1;ot<=Me;++ot)Y(Be);Je&=15}me=32767+T[de],Y(he[(Je<<4)+v[me]]),Y(p[me]),de++}return fe!=63&&Y(ve),J}function X(L){L=Math.min(Math.max(L,1),100),o!=L&&((function(H){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var he=l((J[ee]*H+50)/100);he=Math.min(Math.max(he,1),255),u[U[ee]]=he}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var Be=l((me[ve]*H+50)/100);Be=Math.min(Math.max(Be,1),255),h[U[ve]]=Be}for(var Xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,tt=0;tt<8;tt++)for(var fe=0;fe<8;fe++)g[Re]=1/(u[U[Re]]*Xe[tt]*Xe[fe]*8),x[Re]=1/(h[U[Re]]*Xe[tt]*Xe[fe]*8),Re++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,H){H&&X(H),I=new Array,O=0,R=7,ge(65496),ge(65504),ge(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),ge(1),ge(1),ie(0),ie(0),(function(){ge(65499),ge(132),ie(0);for(var it=0;it<64;it++)ie(u[it]);ie(1);for(var vt=0;vt<64;vt++)ie(h[vt])})(),(function(it,vt){ge(65472),ge(17),ie(8),ge(vt),ge(it),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)})(L.width,L.height),(function(){ge(65476),ge(418),ie(0);for(var it=0;it<16;it++)ie(S[it+1]);for(var vt=0;vt<=11;vt++)ie(M[vt]);ie(16);for(var bt=0;bt<16;bt++)ie(z[bt+1]);for(var Ot=0;Ot<=161;Ot++)ie(E[Ot]);ie(1);for(var Yt=0;Yt<16;Yt++)ie(F[Yt+1]);for(var Zt=0;Zt<=11;Zt++)ie(D[Zt]);ie(17);for(var cr=0;cr<16;cr++)ie($[cr+1]);for(var Mt=0;Mt<=161;Mt++)ie(be[Mt])})(),ge(65498),ge(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var J=0,ee=0,he=0;O=0,R=7,this.encode.displayName="_encode_";for(var me,ve,Be,Xe,Re,tt,fe,Me,de,oe=L.data,Je=L.width,ot=L.height,Oe=4*Je,He=0;He<ot;){for(me=0;me<Oe;){for(Re=Oe*He+me,fe=-1,Me=0,de=0;de<64;de++)tt=Re+(Me=de>>3)*Oe+(fe=4*(7&de)),He+Me>=ot&&(tt-=Oe*(He+1+Me-ot)),me+fe>=Oe&&(tt-=me+fe-Oe+4),ve=oe[tt++],Be=oe[tt++],Xe=oe[tt++],P[de]=(le[ve]+le[Be+256>>0]+le[Xe+512>>0]>>16)-128,K[de]=(le[ve+768>>0]+le[Be+1024>>0]+le[Xe+1280>>0]>>16)-128,se[de]=(le[ve+1280>>0]+le[Be+1536>>0]+le[Xe+1792>>0]>>16)-128;J=xe(P,g,J,e,n),ee=xe(K,x,ee,t,s),he=xe(se,x,he,t,s),me+=32}He+=8}if(R>=0){var st=[];st[1]=R+1,st[0]=(1<<R+1)-1,Y(st)}return ge(65497),new Uint8Array(I)},r=r||50,(function(){for(var L=String.fromCharCode,H=0;H<256;H++)ae[H]=L(H)})(),e=te(S,M),t=te(F,D),n=te(z,E),s=te($,be),(function(){for(var L=1,H=2,J=1;J<=15;J++){for(var ee=L;ee<H;ee++)v[32767+ee]=J,p[32767+ee]=[],p[32767+ee][1]=J,p[32767+ee][0]=ee;for(var he=-(H-1);he<=-L;he++)v[32767+he]=J,p[32767+he]=[],p[32767+he][1]=J,p[32767+he][0]=H-1+he;L<<=1,H<<=1}})(),(function(){for(var L=0;L<256;L++)le[L]=19595*L,le[L+256>>0]=38470*L,le[L+512>>0]=7471*L+32768,le[L+768>>0]=-11059*L,le[L+1024>>0]=-21709*L,le[L+1280>>0]=32768*L+8421375,le[L+1536>>0]=-27439*L,le[L+1792>>0]=-5329*L})(),X(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function eA(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function T_(r){function e(S){if(!S)throw Error("assert :P")}function t(S,M,z){for(var E=0;4>E;E++)if(S[M+E]!=z.charCodeAt(E))return!0;return!1}function n(S,M,z,E,F){for(var D=0;D<F;D++)S[M+D]=z[E+D]}function s(S,M,z,E){for(var F=0;F<E;F++)S[M+F]=z}function o(S){return new Int32Array(S)}function l(S,M){for(var z=[],E=0;E<S;E++)z.push(new M);return z}function u(S,M){var z=[];return(function E(F,D,$){for(var be=$[D],te=0;te<be&&(F.push($.length>D+1?[]:new M),!($.length<D+1));te++)E(F[te],D+1,$)})(z,0,S),z}var h=function(){var S=this;function M(m,w){for(var _=1<<w-1>>>0;m&_;)_>>>=1;return _?(m&_-1)+_:m}function z(m,w,_,j,V){e(!(j%_));do m[w+(j-=_)]=V;while(0<j)}function E(m,w,_,j,V){if(e(2328>=V),512>=V)var q=o(512);else if((q=o(V))==null)return 0;return(function(G,W,ne,Ae,ye,Te){var je,_e,Ye=W,Pe=1<<ne,we=o(16),Ce=o(16);for(e(ye!=0),e(Ae!=null),e(G!=null),e(0<ne),_e=0;_e<ye;++_e){if(15<Ae[_e])return 0;++we[Ae[_e]]}if(we[0]==ye)return 0;for(Ce[1]=0,je=1;15>je;++je){if(we[je]>1<<je)return 0;Ce[je+1]=Ce[je]+we[je]}for(_e=0;_e<ye;++_e)je=Ae[_e],0<Ae[_e]&&(Te[Ce[je]++]=_e);if(Ce[15]==1)return(Ae=new F).g=0,Ae.value=Te[0],z(G,Ye,1,Pe,Ae),Pe;var qe,et=-1,ze=Pe-1,gt=0,lt=1,Dt=1,dt=1<<ne;for(_e=0,je=1,ye=2;je<=ne;++je,ye<<=1){if(lt+=Dt<<=1,0>(Dt-=we[je]))return 0;for(;0<we[je];--we[je])(Ae=new F).g=je,Ae.value=Te[_e++],z(G,Ye+gt,ye,dt,Ae),gt=M(gt,je)}for(je=ne+1,ye=2;15>=je;++je,ye<<=1){if(lt+=Dt<<=1,0>(Dt-=we[je]))return 0;for(;0<we[je];--we[je]){if(Ae=new F,(gt&ze)!=et){for(Ye+=dt,qe=1<<(et=je)-ne;15>et&&!(0>=(qe-=we[et]));)++et,qe<<=1;Pe+=dt=1<<(qe=et-ne),G[W+(et=gt&ze)].g=qe+ne,G[W+et].value=Ye-W-et}Ae.g=je-ne,Ae.value=Te[_e++],z(G,Ye+(gt>>ne),ye,dt,Ae),gt=M(gt,je)}}return lt!=2*Ce[15]-1?0:Pe})(m,w,_,j,V,q)}function F(){this.value=this.g=0}function D(){this.value=this.g=0}function $(){this.G=l(5,F),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(us,D)}function be(m,w,_,j){e(m!=null),e(w!=null),e(2147483648>j),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=w,m.pa=_,m.Jd=w,m.Yc=_+j,m.Zc=4<=j?_+j-4+1:_,me(m)}function te(m,w){for(var _=0;0<w--;)_|=Be(m,128)<<w;return _}function Y(m,w){var _=te(m,w);return ve(m)?-_:_}function ie(m,w,_,j){var V,q=0;for(e(m!=null),e(w!=null),e(4294967288>j),m.Sb=j,m.Ra=0,m.u=0,m.h=0,4<j&&(j=4),V=0;V<j;++V)q+=w[_+V]<<8*V;m.Ra=q,m.bb=j,m.oa=w,m.pa=_}function ge(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<EA-8>>>0,++m.bb,m.u-=8;J(m)&&(m.h=1,m.u=0)}function xe(m,w){if(e(0<=w),!m.h&&w<=_A){var _=H(m)&Cl[w];return m.u+=w,ge(m),_}return m.h=1,m.u=0}function X(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(m){return m.Ra>>>(m.u&EA-1)>>>0}function J(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>EA}function ee(m,w){m.u=w,m.h=J(m)}function he(m){m.u>=pc&&(e(m.u>=pc),ge(m))}function me(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ve(m){return te(m,1)}function Be(m,w){var _=m.Ca;0>m.b&&me(m);var j=m.b,V=_*w>>>8,q=(m.I>>>j>V)+0;for(q?(_-=V,m.I-=V+1<<j>>>0):_=V+1,j=_,V=0;256<=j;)V+=8,j>>=8;return j=7^V+oa[j],m.b-=j,m.Ca=(_<<j)-1,q}function Xe(m,w,_){m[w+0]=_>>24&255,m[w+1]=_>>16&255,m[w+2]=_>>8&255,m[w+3]=_>>0&255}function Re(m,w){return m[w+0]<<0|m[w+1]<<8}function tt(m,w){return Re(m,w)|m[w+2]<<16}function fe(m,w){return Re(m,w)|Re(m,w+2)<<16}function Me(m,w){var _=1<<w;return e(m!=null),e(0<w),m.X=o(_),m.X==null?0:(m.Mb=32-w,m.Xa=w,1)}function de(m,w){e(m!=null),e(w!=null),e(m.Xa==w.Xa),n(w.X,0,m.X,0,1<<w.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function Je(m,w,_,j){e(_!=null),e(j!=null);var V=_[0],q=j[0];return V==0&&(V=(m*q+w/2)/w),q==0&&(q=(w*V+m/2)/m),0>=V||0>=q?0:(_[0]=V,j[0]=q,1)}function ot(m,w){return m+(1<<w)-1>>>w}function Oe(m,w){return((4278255360&m)+(4278255360&w)>>>0&4278255360)+((16711935&m)+(16711935&w)>>>0&16711935)>>>0}function He(m,w){S[w]=function(_,j,V,q,G,W,ne){var Ae;for(Ae=0;Ae<G;++Ae){var ye=S[m](W[ne+Ae-1],V,q+Ae);W[ne+Ae]=Oe(_[j+Ae],ye)}}}function st(){this.ud=this.hd=this.jd=0}function it(m,w){return((4278124286&(m^w))>>>1)+(m&w)>>>0}function vt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function bt(m,w){return vt(m+(m-w+.5>>1))}function Ot(m,w,_){return Math.abs(w-_)-Math.abs(m-_)}function Yt(m,w,_,j,V,q,G){for(j=q[G-1],_=0;_<V;++_)q[G+_]=j=Oe(m[w+_],j)}function Zt(m,w,_,j,V){var q;for(q=0;q<_;++q){var G=m[w+q],W=G>>8&255,ne=16711935&(ne=(ne=16711935&G)+((W<<16)+W));j[V+q]=(4278255360&G)+ne>>>0}}function cr(m,w){w.jd=m>>0&255,w.hd=m>>8&255,w.ud=m>>16&255}function Mt(m,w,_,j,V,q){var G;for(G=0;G<j;++G){var W=w[_+G],ne=W>>>8,Ae=W,ye=255&(ye=(ye=W>>>16)+((m.jd<<24>>24)*(ne<<24>>24)>>>5));Ae=255&(Ae=(Ae=Ae+((m.hd<<24>>24)*(ne<<24>>24)>>>5))+((m.ud<<24>>24)*(ye<<24>>24)>>>5)),V[q+G]=(4278255360&W)+(ye<<16)+Ae}}function ar(m,w,_,j,V){S[w]=function(q,G,W,ne,Ae,ye,Te,je,_e){for(ne=Te;ne<je;++ne)for(Te=0;Te<_e;++Te)Ae[ye++]=V(W[j(q[G++])])},S[m]=function(q,G,W,ne,Ae,ye,Te){var je=8>>q.b,_e=q.Ea,Ye=q.K[0],Pe=q.w;if(8>je)for(q=(1<<q.b)-1,Pe=(1<<je)-1;G<W;++G){var we,Ce=0;for(we=0;we<_e;++we)we&q||(Ce=j(ne[Ae++])),ye[Te++]=V(Ye[Ce&Pe]),Ce>>=je}else S["VP8LMapColor"+_](ne,Ae,Ye,Pe,ye,Te,G,W,_e)}}function At(m,w,_,j,V){for(_=w+_;w<_;){var q=m[w++];j[V++]=q>>16&255,j[V++]=q>>8&255,j[V++]=q>>0&255}}function ke(m,w,_,j,V){for(_=w+_;w<_;){var q=m[w++];j[V++]=q>>16&255,j[V++]=q>>8&255,j[V++]=q>>0&255,j[V++]=q>>24&255}}function ut(m,w,_,j,V){for(_=w+_;w<_;){var q=(G=m[w++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;j[V++]=q,j[V++]=G}}function It(m,w,_,j,V){for(_=w+_;w<_;){var q=(G=m[w++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;j[V++]=q,j[V++]=G}}function Ut(m,w,_,j,V){for(_=w+_;w<_;){var q=m[w++];j[V++]=q>>0&255,j[V++]=q>>8&255,j[V++]=q>>16&255}}function Ft(m,w,_,j,V,q){if(q==0)for(_=w+_;w<_;)Xe(j,((q=m[w++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),V+=32;else n(j,V,m,w,_)}function Rr(m,w){S[w][0]=S[m+"0"],S[w][1]=S[m+"1"],S[w][2]=S[m+"2"],S[w][3]=S[m+"3"],S[w][4]=S[m+"4"],S[w][5]=S[m+"5"],S[w][6]=S[m+"6"],S[w][7]=S[m+"7"],S[w][8]=S[m+"8"],S[w][9]=S[m+"9"],S[w][10]=S[m+"10"],S[w][11]=S[m+"11"],S[w][12]=S[m+"12"],S[w][13]=S[m+"13"],S[w][14]=S[m+"0"],S[w][15]=S[m+"0"]}function Pt(m){return m==Pu||m==Kd||m==Cc||m==zd}function On(){this.eb=[],this.size=this.A=this.fb=0}function lr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new On,this.f.kb=new lr,this.sd=null}function fr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ur(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function jt(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Xt(m,w){var _=m.T,j=w.ba.f.RGBA,V=j.eb,q=j.fb+m.ka*j.A,G=Is[w.ba.S],W=m.y,ne=m.O,Ae=m.f,ye=m.N,Te=m.ea,je=m.W,_e=w.cc,Ye=w.dc,Pe=w.Mc,we=w.Nc,Ce=m.ka,qe=m.ka+m.T,et=m.U,ze=et+1>>1;for(Ce==0?G(W,ne,null,null,Ae,ye,Te,je,Ae,ye,Te,je,V,q,null,null,et):(G(w.ec,w.fc,W,ne,_e,Ye,Pe,we,Ae,ye,Te,je,V,q-j.A,V,q,et),++_);Ce+2<qe;Ce+=2)_e=Ae,Ye=ye,Pe=Te,we=je,ye+=m.Rc,je+=m.Rc,q+=2*j.A,G(W,(ne+=2*m.fa)-m.fa,W,ne,_e,Ye,Pe,we,Ae,ye,Te,je,V,q-j.A,V,q,et);return ne+=m.fa,m.j+qe<m.o?(n(w.ec,w.fc,W,ne,et),n(w.cc,w.dc,Ae,ye,ze),n(w.Mc,w.Nc,Te,je,ze),_--):1&qe||G(W,ne,null,null,Ae,ye,Te,je,Ae,ye,Te,je,V,q+j.A,null,null,et),_}function ma(m,w,_){var j=m.F,V=[m.J];if(j!=null){var q=m.U,G=w.ba.S,W=G==Ou||G==Cc;w=w.ba.f.RGBA;var ne=[0],Ae=m.ka;ne[0]=m.T,m.Kb&&(Ae==0?--ne[0]:(--Ae,V[0]-=m.width),m.j+m.ka+m.T==m.o&&(ne[0]=m.o-m.j-Ae));var ye=w.eb;Ae=w.fb+Ae*w.A,m=Vr(j,V[0],m.width,q,ne,ye,Ae+(W?0:3),w.A),e(_==ne),m&&Pt(G)&&Ba(ye,Ae,W,q,ne,w.A)}return 0}function Er(m){var w=m.ma,_=w.ba.S,j=11>_,V=_==Ks||_==ui||_==Ou||_==Nc||_==12||Pt(_);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!Do(w.Oa,m,V?11:12))return 0;if(V&&Pt(_)&&Ee(),m.da)alert("todo:use_scaling");else{if(j){if(w.Ib=jt,m.Kb){if(_=m.U+1>>1,w.memory=o(m.U+2*_),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+m.U,w.Mc=w.cc,w.Nc=w.dc+_,w.Ib=Xt,Ee()}}else alert("todo:EmitYUV");V&&(w.Jb=ma,j&&re())}if(j&&!MA){for(m=0;256>m;++m)js[m]=89858*(m-128)+Sc>>pi,Vx[m]=-22014*(m-128)+Sc,cm[m]=-45773*(m-128),Yd[m]=113618*(m-128)+Sc>>pi;for(m=jl;m<DA;++m)w=76283*(m-16)+Sc>>pi,Kx[m-jl]=qa(w,255),zx[m-jl]=qa(w+8>>4,15);MA=1}return 1}function Xr(m){var w=m.ma,_=m.U,j=m.T;return e(!(1&m.ka)),0>=_||0>=j?0:(_=w.Ib(m,w),w.Jb!=null&&w.Jb(m,w,_),w.Dc+=_,1)}function mn(m){m.ma.memory=null}function Qe(m,w,_,j){return xe(m,8)!=47?0:(w[0]=xe(m,14)+1,_[0]=xe(m,14)+1,j[0]=xe(m,1),xe(m,3)!=0?0:!m.h)}function ct(m,w){if(4>m)return m+1;var _=m-2>>1;return(2+(1&m)<<_)+xe(w,_)+1}function kt(m,w){return 120<w?w-120:1<=(_=((_=hi[w-1])>>4)*m+(8-(15&_)))?_:1;var _}function yt(m,w,_){var j=H(_),V=m[w+=255&j].g-8;return 0<V&&(ee(_,_.u+8),j=H(_),w+=m[w].value,w+=j&(1<<V)-1),ee(_,_.u+m[w].g),m[w].value}function rt(m,w,_){return _.g+=m.g,_.value+=m.value<<w>>>0,e(8>=_.g),m.g}function xt(m,w,_){var j=m.xc;return e((w=j==0?0:m.vc[m.md*(_>>j)+(w>>j)])<m.Wb),m.Ya[w]}function Qt(m,w,_,j){var V=m.ab,q=m.c*w,G=m.C;w=G+w;var W=_,ne=j;for(j=m.Ta,_=m.Ua;0<V--;){var Ae=m.gc[V],ye=G,Te=w,je=W,_e=ne,Ye=(ne=j,W=_,Ae.Ea);switch(e(ye<Te),e(Te<=Ae.nc),Ae.hc){case 2:Od(je,_e,(Te-ye)*Ye,ne,W);break;case 0:var Pe=ye,we=Te,Ce=ne,qe=W,et=(dt=Ae).Ea;Pe==0&&(Md(je,_e,null,null,1,Ce,qe),Yt(je,_e+1,0,0,et-1,Ce,qe+1),_e+=et,qe+=et,++Pe);for(var ze=1<<dt.b,gt=ze-1,lt=ot(et,dt.b),Dt=dt.K,dt=dt.w+(Pe>>dt.b)*lt;Pe<we;){var Qr=Dt,xr=dt,wr=1;for(Du(je,_e,Ce,qe-et,1,Ce,qe);wr<et;){var ir=(wr&~gt)+ze;ir>et&&(ir=et),(0,ci[Qr[xr++]>>8&15])(je,_e+ +wr,Ce,qe+wr-et,ir-wr,Ce,qe+wr),wr=ir}_e+=et,qe+=et,++Pe&gt||(dt+=lt)}Te!=Ae.nc&&n(ne,W-Ye,ne,W+(Te-ye-1)*Ye,Ye);break;case 1:for(Ye=je,we=_e,et=(je=Ae.Ea)-(qe=je&~(Ce=(_e=1<<Ae.b)-1)),Pe=ot(je,Ae.b),ze=Ae.K,Ae=Ae.w+(ye>>Ae.b)*Pe;ye<Te;){for(gt=ze,lt=Ae,Dt=new st,dt=we+qe,Qr=we+je;we<dt;)cr(gt[lt++],Dt),SA(Dt,Ye,we,_e,ne,W),we+=_e,W+=_e;we<Qr&&(cr(gt[lt++],Dt),SA(Dt,Ye,we,et,ne,W),we+=et,W+=et),++ye&Ce||(Ae+=Pe)}break;case 3:if(je==ne&&_e==W&&0<Ae.b){for(we=ne,je=Ye=W+(Te-ye)*Ye-(qe=(Te-ye)*ot(Ae.Ea,Ae.b)),_e=ne,Ce=W,Pe=[],qe=(et=qe)-1;0<=qe;--qe)Pe[qe]=_e[Ce+qe];for(qe=et-1;0<=qe;--qe)we[je+qe]=Pe[qe];li(Ae,ye,Te,ne,Ye,ne,W)}else li(Ae,ye,Te,je,_e,ne,W)}W=j,ne=_}ne!=_&&n(j,_,W,ne,q)}function _t(m,w){var _=m.V,j=m.Ba+m.c*m.C,V=w-m.C;if(e(w<=m.l.o),e(16>=V),0<V){var q=m.l,G=m.Ta,W=m.Ua,ne=q.width;if(Qt(m,V,_,j),V=W=[W],e((_=m.C)<(j=w)),e(q.v<q.va),j>q.o&&(j=q.o),_<q.j){var Ae=q.j-_;_=q.j,V[0]+=Ae*ne}if(_>=j?_=0:(V[0]+=4*q.v,q.ka=_-q.j,q.U=q.va-q.v,q.T=j-_,_=1),_){if(W=W[0],11>(_=m.ca).S){var ye=_.f.RGBA,Te=(j=_.S,V=q.U,q=q.T,Ae=ye.eb,ye.A),je=q;for(ye=ye.fb+m.Ma*ye.A;0<je--;){var _e=G,Ye=W,Pe=V,we=Ae,Ce=ye;switch(j){case Hd:Aa(_e,Ye,Pe,we,Ce);break;case Ks:Ps(_e,Ye,Pe,we,Ce);break;case Pu:Ps(_e,Ye,Pe,we,Ce),Ba(we,Ce,0,Pe,1,0);break;case Vd:Po(_e,Ye,Pe,we,Ce);break;case ui:Ft(_e,Ye,Pe,we,Ce,1);break;case Kd:Ft(_e,Ye,Pe,we,Ce,1),Ba(we,Ce,0,Pe,1,0);break;case Ou:Ft(_e,Ye,Pe,we,Ce,0);break;case Cc:Ft(_e,Ye,Pe,we,Ce,0),Ba(we,Ce,1,Pe,1,0);break;case Nc:Oo(_e,Ye,Pe,we,Ce);break;case zd:Oo(_e,Ye,Pe,we,Ce),mr(we,Ce,Pe,1,0);break;case FA:Oi(_e,Ye,Pe,we,Ce);break;default:e(0)}W+=ne,ye+=Te}m.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=_.height)}}m.C=w,e(m.C<=m.i)}function Ht(m){var w;if(0<m.ua)return 0;for(w=0;w<m.Wb;++w){var _=m.Ya[w].G,j=m.Ya[w].H;if(0<_[1][j[1]+0].g||0<_[2][j[2]+0].g||0<_[3][j[3]+0].g)return 0}return 1}function mt(m,w,_,j,V,q){if(m.Z!=0){var G=m.qd,W=m.rd;for(e(zo[m.Z]!=null);w<_;++w)zo[m.Z](G,W,j,V,j,V,q),G=j,W=V,V+=q;m.qd=G,m.rd=W}}function rr(m,w){var _=m.l.ma,j=_.Z==0||_.Z==1?m.l.j:m.C;if(j=m.C<j?j:m.C,e(w<=m.l.o),w>j){var V=m.l.width,q=_.ca,G=_.tb+V*j,W=m.V,ne=m.Ba+m.c*j,Ae=m.gc;e(m.ab==1),e(Ae[0].hc==3),Pd(Ae[0],j,w,W,ne,q,G),mt(_,j,w,q,G,V)}m.C=m.Ma=w}function yn(m,w,_,j,V,q,G){var W=m.$/j,ne=m.$%j,Ae=m.m,ye=m.s,Te=_+m.$,je=Te;V=_+j*V;var _e=_+j*q,Ye=280+ye.ua,Pe=m.Pb?W:16777216,we=0<ye.ua?ye.Wa:null,Ce=ye.wc,qe=Te<_e?xt(ye,ne,W):null;e(m.C<q),e(_e<=V);var et=!1;e:for(;;){for(;et||Te<_e;){var ze=0;if(W>=Pe){var gt=Te-_;e((Pe=m).Pb),Pe.wd=Pe.m,Pe.xd=gt,0<Pe.s.ua&&de(Pe.s.Wa,Pe.s.vb),Pe=W+QA}if(ne&Ce||(qe=xt(ye,ne,W)),e(qe!=null),qe.Qb&&(w[Te]=qe.qb,et=!0),!et)if(he(Ae),qe.jc){ze=Ae,gt=w;var lt=Te,Dt=qe.pd[H(ze)&us-1];e(qe.jc),256>Dt.g?(ee(ze,ze.u+Dt.g),gt[lt]=Dt.value,ze=0):(ee(ze,ze.u+Dt.g-256),e(256<=Dt.value),ze=Dt.value),ze==0&&(et=!0)}else ze=yt(qe.G[0],qe.H[0],Ae);if(Ae.h)break;if(et||256>ze){if(!et)if(qe.nd)w[Te]=(qe.qb|ze<<8)>>>0;else{if(he(Ae),et=yt(qe.G[1],qe.H[1],Ae),he(Ae),gt=yt(qe.G[2],qe.H[2],Ae),lt=yt(qe.G[3],qe.H[3],Ae),Ae.h)break;w[Te]=(lt<<24|et<<16|ze<<8|gt)>>>0}if(et=!1,++Te,++ne>=j&&(ne=0,++W,G!=null&&W<=q&&!(W%16)&&G(m,W),we!=null))for(;je<Te;)ze=w[je++],we.X[(506832829*ze&4294967295)>>>we.Mb]=ze}else if(280>ze){if(ze=ct(ze-256,Ae),gt=yt(qe.G[4],qe.H[4],Ae),he(Ae),gt=kt(j,gt=ct(gt,Ae)),Ae.h)break;if(Te-_<gt||V-Te<ze)break e;for(lt=0;lt<ze;++lt)w[Te+lt]=w[Te+lt-gt];for(Te+=ze,ne+=ze;ne>=j;)ne-=j,++W,G!=null&&W<=q&&!(W%16)&&G(m,W);if(e(Te<=V),ne&Ce&&(qe=xt(ye,ne,W)),we!=null)for(;je<Te;)ze=w[je++],we.X[(506832829*ze&4294967295)>>>we.Mb]=ze}else{if(!(ze<Ye))break e;for(et=ze-280,e(we!=null);je<Te;)ze=w[je++],we.X[(506832829*ze&4294967295)>>>we.Mb]=ze;ze=Te,e(!(et>>>(gt=we).Xa)),w[ze]=gt.X[et],et=!0}et||e(Ae.h==J(Ae))}if(m.Pb&&Ae.h&&Te<V)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&de(m.s.vb,m.s.Wa);else{if(Ae.h)break e;G!=null&&G(m,W>q?q:W),m.a=0,m.$=Te-_}return 1}return m.a=3,0}function Zs(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var w=m.Wa;w!=null&&(w.X=null),m.vb=null,e(m!=null)}function pa(){var m=new fc;return m==null?null:(m.a=0,m.xb=Pf,Rr("Predictor","VP8LPredictors"),Rr("Predictor","VP8LPredictors_C"),Rr("PredictorAdd","VP8LPredictorsAdd"),Rr("PredictorAdd","VP8LPredictorsAdd_C"),Od=Zt,SA=Mt,Aa=At,Ps=ke,Oo=ut,Oi=It,Po=Ut,S.VP8LMapColor32b=xc,S.VP8LMapColor8b=Os,m)}function Pa(m,w,_,j,V){var q=1,G=[m],W=[w],ne=j.m,Ae=j.s,ye=null,Te=0;e:for(;;){if(_)for(;q&&xe(ne,1);){var je=G,_e=W,Ye=j,Pe=1,we=Ye.m,Ce=Ye.gc[Ye.ab],qe=xe(we,2);if(Ye.Oc&1<<qe)q=0;else{switch(Ye.Oc|=1<<qe,Ce.hc=qe,Ce.Ea=je[0],Ce.nc=_e[0],Ce.K=[null],++Ye.ab,e(4>=Ye.ab),qe){case 0:case 1:Ce.b=xe(we,3)+2,Pe=Pa(ot(Ce.Ea,Ce.b),ot(Ce.nc,Ce.b),0,Ye,Ce.K),Ce.K=Ce.K[0];break;case 3:var et,ze=xe(we,8)+1,gt=16<ze?0:4<ze?1:2<ze?2:3;if(je[0]=ot(Ce.Ea,gt),Ce.b=gt,et=Pe=Pa(ze,1,0,Ye,Ce.K)){var lt,Dt=ze,dt=Ce,Qr=1<<(8>>dt.b),xr=o(Qr);if(xr==null)et=0;else{var wr=dt.K[0],ir=dt.w;for(xr[0]=dt.K[0][0],lt=1;lt<1*Dt;++lt)xr[lt]=Oe(wr[ir+lt],xr[lt-1]);for(;lt<4*Qr;++lt)xr[lt]=0;dt.K[0]=null,dt.K[0]=xr,et=1}}Pe=et;break;case 2:break;default:e(0)}q=Pe}}if(G=G[0],W=W[0],q&&xe(ne,1)&&!(q=1<=(Te=xe(ne,4))&&11>=Te)){j.a=3;break e}var Kr;if(Kr=q)t:{var Or,qt,Yr,hs=j,jn=G,zs=W,Ir=Te,Ts=_,Na=hs.m,Zn=hs.s,Tn=[null],fs=1,Ya=0,xi=fi[Ir];r:for(;;){if(Ts&&xe(Na,1)){var Xn=xe(Na,3)+2,zn=ot(jn,Xn),gs=ot(zs,Xn),Wa=zn*gs;if(!Pa(zn,gs,0,hs,Tn))break r;for(Tn=Tn[0],Zn.xc=Xn,Or=0;Or<Wa;++Or){var fo=Tn[Or]>>8&65535;Tn[Or]=fo,fo>=fs&&(fs=fo+1)}}if(Na.h)break r;for(qt=0;5>qt;++qt){var Bn=Sl[qt];!qt&&0<Ir&&(Bn+=1<<Ir),Ya<Bn&&(Ya=Bn)}var go=l(fs*xi,F),Ca=fs,Un=l(Ca,$);if(Un==null)var Tl=null;else e(65536>=Ca),Tl=Un;var Ja=o(Ya);if(Tl==null||Ja==null||go==null){hs.a=1;break r}var tr=go;for(Or=Yr=0;Or<fs;++Or){var hr=Tl[Or],dn=hr.G,qo=hr.H,Ul=0,mo=1,zu=0;for(qt=0;5>qt;++qt){Bn=Sl[qt],dn[qt]=tr,qo[qt]=Yr,!qt&&0<Ir&&(Bn+=1<<Ir);s:{var OA,PA=Bn,Jd=hs,an=Ja,Vf=tr,Kf=Yr,Zd=0,Go=Jd.m,qx=xe(Go,1);if(s(an,0,0,PA),qx){var zf=xe(Go,1)+1,qf=xe(Go,1),eh=xe(Go,qf==0?1:8);an[eh]=1,zf==2&&(an[eh=xe(Go,8)]=1);var ms=1}else{var Fn=o(19),qu=xe(Go,4)+4;if(19<qu){Jd.a=3;var HA=0;break s}for(OA=0;OA<qu;++OA)Fn[Hu[OA]]=xe(Go,3);var jc=void 0,Fl=void 0,po=Jd,th=Fn,Tc=PA,rh=an,nh=0,Xo=po.m,Gf=8,Xf=l(128,F);n:for(;E(Xf,0,7,th,19);){if(xe(Xo,1)){var um=2+2*xe(Xo,3);if((jc=2+xe(Xo,um))>Tc)break n}else jc=Tc;for(Fl=0;Fl<Tc&&jc--;){he(Xo);var $f=Xf[0+(127&H(Xo))];ee(Xo,Xo.u+$f.g);var VA=$f.value;if(16>VA)rh[Fl++]=VA,VA!=0&&(Gf=VA);else{var dm=VA==16,hm=VA-16,fm=_c[hm],Yf=xe(Xo,di[hm])+fm;if(Fl+Yf>Tc)break n;for(var gm=dm?Gf:0;0<Yf--;)rh[Fl++]=gm}}nh=1;break n}nh||(po.a=3),ms=nh}(ms=ms&&!Go.h)&&(Zd=E(Vf,Kf,8,an,PA)),ms&&Zd!=0?HA=Zd:(Jd.a=3,HA=0)}if(HA==0)break r;if(mo&&qd[qt]==1&&(mo=tr[Yr].g==0),Ul+=tr[Yr].g,Yr+=HA,3>=qt){var Ql,sh=Ja[0];for(Ql=1;Ql<Bn;++Ql)Ja[Ql]>sh&&(sh=Ja[Ql]);zu+=sh}}if(hr.nd=mo,hr.Qb=0,mo&&(hr.qb=(dn[3][qo[3]+0].value<<24|dn[1][qo[1]+0].value<<16|dn[2][qo[2]+0].value)>>>0,Ul==0&&256>dn[0][qo[0]+0].value&&(hr.Qb=1,hr.qb+=dn[0][qo[0]+0].value<<8)),hr.jc=!hr.Qb&&6>zu,hr.jc){var Gu,xo=hr;for(Gu=0;Gu<us;++Gu){var $o=Gu,Yo=xo.pd[$o],ah=xo.G[0][xo.H[0]+$o];256<=ah.value?(Yo.g=ah.g+256,Yo.value=ah.value):(Yo.g=0,Yo.value=0,$o>>=rt(ah,8,Yo),$o>>=rt(xo.G[1][xo.H[1]+$o],16,Yo),$o>>=rt(xo.G[2][xo.H[2]+$o],0,Yo),rt(xo.G[3][xo.H[3]+$o],24,Yo))}}}Zn.vc=Tn,Zn.Wb=fs,Zn.Ya=Tl,Zn.yc=go,Kr=1;break t}Kr=0}if(!(q=Kr)){j.a=3;break e}if(0<Te){if(Ae.ua=1<<Te,!Me(Ae.Wa,Te)){j.a=1,q=0;break e}}else Ae.ua=0;var ih=j,Ll=G,mm=W,Uc=ih.s,Fc=Uc.xc;if(ih.c=Ll,ih.i=mm,Uc.md=ot(Ll,Fc),Uc.wc=Fc==0?-1:(1<<Fc)-1,_){j.xb=LA;break e}if((ye=o(G*W))==null){j.a=1,q=0;break e}q=(q=yn(j,ye,0,G,W,W,null))&&!ne.h;break e}return q?(V!=null?V[0]=ye:(e(ye==null),e(_)),j.$=0,_||Zs(Ae)):Zs(Ae),q}function no(m,w){var _=m.c*m.i,j=_+w+16*w;return e(m.c<=w),m.V=o(j),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+_+w,1)}function ea(m,w){var _=m.C,j=w-_,V=m.V,q=m.Ba+m.c*_;for(e(w<=m.l.o);0<j;){var G=16<j?16:j,W=m.l.ma,ne=m.l.width,Ae=ne*G,ye=W.ca,Te=W.tb+ne*_,je=m.Ta,_e=m.Ua;Qt(m,G,V,q),Fr(je,_e,ye,Te,Ae),mt(W,_,_+G,ye,Te,ne),j-=G,V+=G*m.c,_+=G}e(_==w),m.C=m.Ma=w}function ji(){this.ub=this.yd=this.td=this.Rb=0}function ta(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vs(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ds(){this.Yb=(function(){var m=[];return(function w(_,j,V){for(var q=V[j],G=0;G<q&&(_.push(V.length>j+1?[]:0),!(V.length<j+1));G++)w(_[G],j+1,V)})(m,0,[3,11]),m})()}function si(){this.jb=o(3),this.Wc=u([4,8],Ds),this.Xc=u([4,17],Ds)}function En(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function so(){this.ld=this.La=this.dd=this.tc=0}function gA(){this.Na=this.la=0}function ai(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xa(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ml(){this.uc=this.M=this.Nb=0,this.wa=Array(new so),this.Y=0,this.ya=Array(new xa),this.aa=0,this.l=new To}function mA(){this.y=o(16),this.f=o(8),this.ea=o(8)}function pl(){this.cb=this.a=0,this.sc="",this.m=new X,this.Od=new ji,this.Kc=new ta,this.ed=new En,this.Qa=new vs,this.Ic=this.$c=this.Aa=0,this.D=new ml,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,X),this.ia=0,this.pb=l(4,ai),this.Pa=new si,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new mA),this.Hd=0,this.rb=Array(new gA),this.sb=0,this.wa=Array(new so),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xa),this.L=this.aa=0,this.gd=u([4,2],so),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function To(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function pA(){var m=new pl;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,$a||($a=Ti)),m}function Sr(m,w,_){return m.a==0&&(m.a=w,m.sc=_,m.cb=0),0}function wn(m,w,_){return 3<=_&&m[w+0]==157&&m[w+1]==1&&m[w+2]==42}function Pn(m,w){if(m==null)return 0;if(m.a=0,m.sc="OK",w==null)return Sr(m,2,"null VP8Io passed to VP8GetHeaders()");var _=w.data,j=w.w,V=w.ha;if(4>V)return Sr(m,7,"Truncated header.");var q=_[j+0]|_[j+1]<<8|_[j+2]<<16,G=m.Od;if(G.Rb=!(1&q),G.td=q>>1&7,G.yd=q>>4&1,G.ub=q>>5,3<G.td)return Sr(m,3,"Incorrect keyframe parameters.");if(!G.yd)return Sr(m,4,"Frame not displayable.");j+=3,V-=3;var W=m.Kc;if(G.Rb){if(7>V)return Sr(m,7,"cannot parse picture header");if(!wn(_,j,V))return Sr(m,3,"Bad code word");W.c=16383&(_[j+4]<<8|_[j+3]),W.Td=_[j+4]>>6,W.i=16383&(_[j+6]<<8|_[j+5]),W.Ud=_[j+6]>>6,j+=7,V-=7,m.za=W.c+15>>4,m.Ub=W.i+15>>4,w.width=W.c,w.height=W.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,s((q=m.Pa).jb,0,255,q.jb.length),e((q=m.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,s(q.Zb,0,0,q.Zb.length),s(q.Lb,0,0,q.Lb)}if(G.ub>V)return Sr(m,7,"bad partition length");be(q=m.m,_,j,G.ub),j+=G.ub,V-=G.ub,G.Rb&&(W.Ld=ve(q),W.Kd=ve(q)),W=m.Qa;var ne,Ae=m.Pa;if(e(q!=null),e(W!=null),W.Cb=ve(q),W.Cb){if(W.Bb=ve(q),ve(q)){for(W.Fb=ve(q),ne=0;4>ne;++ne)W.Zb[ne]=ve(q)?Y(q,7):0;for(ne=0;4>ne;++ne)W.Lb[ne]=ve(q)?Y(q,6):0}if(W.Bb)for(ne=0;3>ne;++ne)Ae.jb[ne]=ve(q)?te(q,8):255}else W.Bb=0;if(q.Ka)return Sr(m,3,"cannot parse segment header");if((W=m.ed).zd=ve(q),W.Tb=te(q,6),W.wb=te(q,3),W.Pc=ve(q),W.Pc&&ve(q)){for(Ae=0;4>Ae;++Ae)ve(q)&&(W.vd[Ae]=Y(q,6));for(Ae=0;4>Ae;++Ae)ve(q)&&(W.od[Ae]=Y(q,6))}if(m.L=W.Tb==0?0:W.zd?1:2,q.Ka)return Sr(m,3,"cannot parse filter header");var ye=V;if(V=ne=j,j=ne+ye,W=ye,m.Xb=(1<<te(m.m,2))-1,ye<3*(Ae=m.Xb))_=7;else{for(ne+=3*Ae,W-=3*Ae,ye=0;ye<Ae;++ye){var Te=_[V+0]|_[V+1]<<8|_[V+2]<<16;Te>W&&(Te=W),be(m.Jc[+ye],_,ne,Te),ne+=Te,W-=Te,V+=3}be(m.Jc[+Ae],_,ne,W),_=ne<j?0:5}if(_!=0)return Sr(m,_,"cannot parse partitions");for(_=te(ne=m.m,7),V=ve(ne)?Y(ne,4):0,j=ve(ne)?Y(ne,4):0,W=ve(ne)?Y(ne,4):0,Ae=ve(ne)?Y(ne,4):0,ne=ve(ne)?Y(ne,4):0,ye=m.Qa,Te=0;4>Te;++Te){if(ye.Cb){var je=ye.Zb[Te];ye.Fb||(je+=_)}else{if(0<Te){m.pb[Te]=m.pb[0];continue}je=_}var _e=m.pb[Te];_e.Sc[0]=gi[qa(je+V,127)],_e.Sc[1]=mi[qa(je+0,127)],_e.Eb[0]=2*gi[qa(je+j,127)],_e.Eb[1]=101581*mi[qa(je+W,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=gi[qa(je+Ae,117)],_e.Qc[1]=mi[qa(je+ne,127)],_e.lc=je+ne}if(!G.Rb)return Sr(m,4,"Not a key frame.");for(ve(q),G=m.Pa,_=0;4>_;++_){for(V=0;8>V;++V)for(j=0;3>j;++j)for(W=0;11>W;++W)Ae=Be(q,un[_][V][j][W])?te(q,8):lm[_][V][j][W],G.Wc[_][V].Yb[j][W]=Ae;for(V=0;17>V;++V)G.Xc[_][V]=G.Wc[_][pr[V]]}return m.kc=ve(q),m.kc&&(m.Bd=te(q,8)),m.cb=1}function Ti(m,w,_,j,V,q,G){var W=w[V].Yb[_];for(_=0;16>V;++V){if(!Be(m,W[_+0]))return V;for(;!Be(m,W[_+1]);)if(W=w[++V].Yb[0],_=0,V==16)return 16;var ne=w[V+1].Yb;if(Be(m,W[_+2])){var Ae=m,ye=0;if(Be(Ae,(je=W)[(Te=_)+3]))if(Be(Ae,je[Te+6])){for(W=0,Te=2*(ye=Be(Ae,je[Te+8]))+(je=Be(Ae,je[Te+9+ye])),ye=0,je=Am[Te];je[W];++W)ye+=ye+Be(Ae,je[W]);ye+=3+(8<<Te)}else Be(Ae,je[Te+7])?(ye=7+2*Be(Ae,165),ye+=Be(Ae,145)):ye=5+Be(Ae,159);else ye=Be(Ae,je[Te+4])?3+Be(Ae,je[Te+5]):2;W=ne[2]}else ye=1,W=ne[1];ne=G+Of[V],0>(Ae=m).b&&me(Ae);var Te,je=Ae.b,_e=(Te=Ae.Ca>>1)-(Ae.I>>je)>>31;--Ae.b,Ae.Ca+=_e,Ae.Ca|=1,Ae.I-=(Te+1&_e)<<je,q[ne]=((ye^_e)-_e)*j[(0<V)+0]}return 16}function Uo(m){var w=m.rb[m.sb-1];w.la=0,w.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function kr(m,w){if(m==null)return 0;if(w==null)return Sr(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!Pn(m,w))return 0;if(e(m.cb),w.ac==null||w.ac(w)){w.ob&&(m.L=0);var _=Ic[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=w.v-_>>4,m.zb=w.j-_>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=w.o+15+_>>4,m.Hb=w.va+15+_>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var j=m.ed;for(_=0;4>_;++_){var V;if(m.Qa.Cb){var q=m.Qa.Lb[_];m.Qa.Fb||(q+=j.Tb)}else q=j.Tb;for(V=0;1>=V;++V){var G=m.gd[_][V],W=q;if(j.Pc&&(W+=j.vd[0],V&&(W+=j.od[0])),0<(W=0>W?0:63<W?63:W)){var ne=W;0<j.wb&&(ne=4<j.wb?ne>>2:ne>>1)>9-j.wb&&(ne=9-j.wb),1>ne&&(ne=1),G.dd=ne,G.tc=2*W+ne,G.ld=40<=W?2:15<=W?1:0}else G.tc=0;G.La=V}}}_=0}else Sr(m,6,"Frame setup failed"),_=m.a;if(_=_==0){if(_){m.$c=0,0<m.Aa||(m.Ic=Ku);e:{_=m.Ic,j=4*(ne=m.za);var Ae=32*ne,ye=ne+1,Te=0<m.L?ne*(0<m.Aa?2:1):0,je=(m.Aa==2?2:1)*ne;if((G=j+832+(V=3*(16*_+Ic[m.L])/2*Ae)+(q=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=G)_=0;else{if(G>m.Vb){if(m.Vb=0,m.Ec=o(G),m.Fc=0,m.Ec==null){_=Sr(m,1,"no memory during frame initialization.");break e}m.Vb=G}G=m.Ec,W=m.Fc,m.Ac=G,m.Bc=W,W+=j,m.Gd=l(Ae,mA),m.Hd=0,m.rb=l(ye+1,gA),m.sb=1,m.wa=Te?l(Te,so):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=ne),e(!0),m.oc=G,m.pc=W,W+=832,m.ya=l(je,xa),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=ne),m.R=16*ne,m.B=8*ne,ne=(Ae=Ic[m.L])*m.R,Ae=Ae/2*m.B,m.sa=G,m.ta=W+ne,m.qa=m.sa,m.ra=m.ta+16*_*m.R+Ae,m.Ha=m.qa,m.Ia=m.ra+8*_*m.B+Ae,m.$c=0,W+=V,m.mb=q?G:null,m.nb=q?W:null,e(W+q<=m.Fc+m.Vb),Uo(m),s(m.Ac,m.Bc,0,j),_=1}}if(_){if(w.ka=0,w.y=m.sa,w.O=m.ta,w.f=m.qa,w.N=m.ra,w.ea=m.Ha,w.Vd=m.Ia,w.fa=m.R,w.Rc=m.B,w.F=null,w.J=0,!Bc){for(_=-255;255>=_;++_)pn[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)Ki[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)UA[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)Vo[255+_]=0>_?0:255<_?255:_;Bc=1}Pi=io,Hi=uc,_l=xA,Hs=ao,ds=xl,cn=Fo,Vi=wA,bc=oo,yc=hc,Ga=lo,IA=Ro,Ho=Ao,jA=vA,wc=Bl,El=Di,TA=aa,vc=cs,Xa=yA,In[0]=sa,In[1]=dc,In[2]=ii,In[3]=ko,In[4]=Ui,In[5]=Ns,In[6]=ya,In[7]=Fi,In[8]=oi,In[9]=Dr,la[0]=Lo,la[1]=yl,la[2]=ba,la[3]=Qo,la[4]=sn,la[5]=wl,la[6]=na,zi[0]=wa,zi[1]=bl,zi[2]=vl,zi[3]=Qi,zi[4]=Cs,zi[5]=ki,zi[6]=Hn,_=1}else _=0}_&&(_=(function(_e,Ye){for(_e.M=0;_e.M<_e.Va;++_e.M){var Pe,we=_e.Jc[_e.M&_e.Xb],Ce=_e.m,qe=_e;for(Pe=0;Pe<qe.za;++Pe){var et=Ce,ze=qe,gt=ze.Ac,lt=ze.Bc+4*Pe,Dt=ze.zc,dt=ze.ya[ze.aa+Pe];if(ze.Qa.Bb?dt.$b=Be(et,ze.Pa.jb[0])?2+Be(et,ze.Pa.jb[2]):Be(et,ze.Pa.jb[1]):dt.$b=0,ze.kc&&(dt.Ad=Be(et,ze.Bd)),dt.Za=!Be(et,145)+0,dt.Za){var Qr=dt.Ob,xr=0;for(ze=0;4>ze;++ze){var wr,ir=Dt[0+ze];for(wr=0;4>wr;++wr){ir=Ss[gt[lt+wr]][ir];for(var Kr=Gd[Be(et,ir[0])];0<Kr;)Kr=Gd[2*Kr+Be(et,ir[Kr])];ir=-Kr,gt[lt+wr]=ir}n(Qr,xr,gt,lt,4),xr+=4,Dt[0+ze]=ir}}else ir=Be(et,156)?Be(et,128)?1:3:Be(et,163)?2:0,dt.Ob[0]=ir,s(gt,lt,ir,4),s(Dt,0,ir,4);dt.Dd=Be(et,142)?Be(et,114)?Be(et,183)?1:3:2:0}if(qe.m.Ka)return Sr(_e,7,"Premature end-of-partition0 encountered.");for(;_e.ja<_e.za;++_e.ja){if(qe=we,et=(Ce=_e).rb[Ce.sb-1],gt=Ce.rb[Ce.sb+Ce.ja],Pe=Ce.ya[Ce.aa+Ce.ja],lt=Ce.kc?Pe.Ad:0)et.la=gt.la=0,Pe.Za||(et.Na=gt.Na=0),Pe.Hc=0,Pe.Gc=0,Pe.ia=0;else{var Or,qt;if(et=gt,gt=qe,lt=Ce.Pa.Xc,Dt=Ce.ya[Ce.aa+Ce.ja],dt=Ce.pb[Dt.$b],ze=Dt.ad,Qr=0,xr=Ce.rb[Ce.sb-1],ir=wr=0,s(ze,Qr,0,384),Dt.Za)var Yr=0,hs=lt[3];else{Kr=o(16);var jn=et.Na+xr.Na;if(jn=$a(gt,lt[1],jn,dt.Eb,0,Kr,0),et.Na=xr.Na=(0<jn)+0,1<jn)Pi(Kr,0,ze,Qr);else{var zs=Kr[0]+3>>3;for(Kr=0;256>Kr;Kr+=16)ze[Qr+Kr]=zs}Yr=1,hs=lt[0]}var Ir=15&et.la,Ts=15&xr.la;for(Kr=0;4>Kr;++Kr){var Na=1&Ts;for(zs=qt=0;4>zs;++zs)Ir=Ir>>1|(Na=(jn=$a(gt,hs,jn=Na+(1&Ir),dt.Sc,Yr,ze,Qr))>Yr)<<7,qt=qt<<2|(3<jn?3:1<jn?2:ze[Qr+0]!=0),Qr+=16;Ir>>=4,Ts=Ts>>1|Na<<7,wr=(wr<<8|qt)>>>0}for(hs=Ir,Yr=Ts>>4,Or=0;4>Or;Or+=2){for(qt=0,Ir=et.la>>4+Or,Ts=xr.la>>4+Or,Kr=0;2>Kr;++Kr){for(Na=1&Ts,zs=0;2>zs;++zs)jn=Na+(1&Ir),Ir=Ir>>1|(Na=0<(jn=$a(gt,lt[2],jn,dt.Qc,0,ze,Qr)))<<3,qt=qt<<2|(3<jn?3:1<jn?2:ze[Qr+0]!=0),Qr+=16;Ir>>=2,Ts=Ts>>1|Na<<5}ir|=qt<<4*Or,hs|=Ir<<4<<Or,Yr|=(240&Ts)<<Or}et.la=hs,xr.la=Yr,Dt.Hc=wr,Dt.Gc=ir,Dt.ia=43690&ir?0:dt.ia,lt=!(wr|ir)}if(0<Ce.L&&(Ce.wa[Ce.Y+Ce.ja]=Ce.gd[Pe.$b][Pe.Za],Ce.wa[Ce.Y+Ce.ja].La|=!lt),qe.Ka)return Sr(_e,7,"Premature end-of-file encountered.")}if(Uo(_e),Ce=Ye,qe=1,Pe=(we=_e).D,et=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(Pe.M=we.M,Pe.uc=et,mc(we,Pe),qe=1,Pe=(qt=we.D).Nb,et=(ir=Ic[we.L])*we.R,gt=ir/2*we.B,Kr=16*Pe*we.R,zs=8*Pe*we.B,lt=we.sa,Dt=we.ta-et+Kr,dt=we.qa,ze=we.ra-gt+zs,Qr=we.Ha,xr=we.Ia-gt+zs,Ts=(Ir=qt.M)==0,wr=Ir>=we.Va-1,we.Aa==2&&mc(we,qt),qt.uc)for(Na=(jn=we).D.M,e(jn.D.uc),qt=jn.yb;qt<jn.Hb;++qt){Yr=qt,hs=Na;var Zn=(Tn=(Bn=jn).D).Nb;Or=Bn.R;var Tn=Tn.wa[Tn.Y+Yr],fs=Bn.sa,Ya=Bn.ta+16*Zn*Or+16*Yr,xi=Tn.dd,Xn=Tn.tc;if(Xn!=0)if(e(3<=Xn),Bn.L==1)0<Yr&&TA(fs,Ya,Or,Xn+4),Tn.La&&Xa(fs,Ya,Or,Xn),0<hs&&El(fs,Ya,Or,Xn+4),Tn.La&&vc(fs,Ya,Or,Xn);else{var zn=Bn.B,gs=Bn.qa,Wa=Bn.ra+8*Zn*zn+8*Yr,fo=Bn.Ha,Bn=Bn.Ia+8*Zn*zn+8*Yr;Zn=Tn.ld,0<Yr&&(bc(fs,Ya,Or,Xn+4,xi,Zn),Ga(gs,Wa,fo,Bn,zn,Xn+4,xi,Zn)),Tn.La&&(Ho(fs,Ya,Or,Xn,xi,Zn),wc(gs,Wa,fo,Bn,zn,Xn,xi,Zn)),0<hs&&(Vi(fs,Ya,Or,Xn+4,xi,Zn),yc(gs,Wa,fo,Bn,zn,Xn+4,xi,Zn)),Tn.La&&(IA(fs,Ya,Or,Xn,xi,Zn),jA(gs,Wa,fo,Bn,zn,Xn,xi,Zn))}}if(we.ia&&alert("todo:DitherRow"),Ce.put!=null){if(qt=16*Ir,Ir=16*(Ir+1),Ts?(Ce.y=we.sa,Ce.O=we.ta+Kr,Ce.f=we.qa,Ce.N=we.ra+zs,Ce.ea=we.Ha,Ce.W=we.Ia+zs):(qt-=ir,Ce.y=lt,Ce.O=Dt,Ce.f=dt,Ce.N=ze,Ce.ea=Qr,Ce.W=xr),wr||(Ir-=ir),Ir>Ce.o&&(Ir=Ce.o),Ce.F=null,Ce.J=null,we.Fa!=null&&0<we.Fa.length&&qt<Ir&&(Ce.J=za(we,Ce,qt,Ir-qt),Ce.F=we.mb,Ce.F==null&&Ce.F.length==0)){qe=Sr(we,3,"Could not decode alpha data.");break e}qt<Ce.j&&(ir=Ce.j-qt,qt=Ce.j,e(!(1&ir)),Ce.O+=we.R*ir,Ce.N+=we.B*(ir>>1),Ce.W+=we.B*(ir>>1),Ce.F!=null&&(Ce.J+=Ce.width*ir)),qt<Ir&&(Ce.O+=Ce.v,Ce.N+=Ce.v>>1,Ce.W+=Ce.v>>1,Ce.F!=null&&(Ce.J+=Ce.v),Ce.ka=qt-Ce.j,Ce.U=Ce.va-Ce.v,Ce.T=Ir-qt,qe=Ce.put(Ce))}Pe+1!=we.Ic||wr||(n(we.sa,we.ta-et,lt,Dt+16*we.R,et),n(we.qa,we.ra-gt,dt,ze+8*we.B,gt),n(we.Ha,we.Ia-gt,Qr,xr+8*we.B,gt))}if(!qe)return Sr(_e,6,"Output aborted.")}return 1})(m,w)),w.bc!=null&&w.bc(w),_&=1}return _?(m.cb=0,_):0}function Bs(m,w,_,j,V){V=m[w+_+32*j]+(V>>3),m[w+_+32*j]=-256&V?0>V?0:255:V}function ra(m,w,_,j,V,q){Bs(m,w,0,_,j+V),Bs(m,w,1,_,j+q),Bs(m,w,2,_,j-q),Bs(m,w,3,_,j-V)}function Gn(m){return(20091*m>>16)+m}function As(m,w,_,j){var V,q=0,G=o(16);for(V=0;4>V;++V){var W=m[w+0]+m[w+8],ne=m[w+0]-m[w+8],Ae=(35468*m[w+4]>>16)-Gn(m[w+12]),ye=Gn(m[w+4])+(35468*m[w+12]>>16);G[q+0]=W+ye,G[q+1]=ne+Ae,G[q+2]=ne-Ae,G[q+3]=W-ye,q+=4,w++}for(V=q=0;4>V;++V)W=(m=G[q+0]+4)+G[q+8],ne=m-G[q+8],Ae=(35468*G[q+4]>>16)-Gn(G[q+12]),Bs(_,j,0,0,W+(ye=Gn(G[q+4])+(35468*G[q+12]>>16))),Bs(_,j,1,0,ne+Ae),Bs(_,j,2,0,ne-Ae),Bs(_,j,3,0,W-ye),q++,j+=32}function Fo(m,w,_,j){var V=m[w+0]+4,q=35468*m[w+4]>>16,G=Gn(m[w+4]),W=35468*m[w+1]>>16;ra(_,j,0,V+G,m=Gn(m[w+1]),W),ra(_,j,1,V+q,m,W),ra(_,j,2,V-q,m,W),ra(_,j,3,V-G,m,W)}function uc(m,w,_,j,V){As(m,w,_,j),V&&As(m,w+16,_,j+4)}function xA(m,w,_,j){Hi(m,w+0,_,j,1),Hi(m,w+32,_,j+128,1)}function ao(m,w,_,j){var V;for(m=m[w+0]+4,V=0;4>V;++V)for(w=0;4>w;++w)Bs(_,j,w,V,m)}function xl(m,w,_,j){m[w+0]&&Hs(m,w+0,_,j),m[w+16]&&Hs(m,w+16,_,j+4),m[w+32]&&Hs(m,w+32,_,j+128),m[w+48]&&Hs(m,w+48,_,j+128+4)}function io(m,w,_,j){var V,q=o(16);for(V=0;4>V;++V){var G=m[w+0+V]+m[w+12+V],W=m[w+4+V]+m[w+8+V],ne=m[w+4+V]-m[w+8+V],Ae=m[w+0+V]-m[w+12+V];q[0+V]=G+W,q[8+V]=G-W,q[4+V]=Ae+ne,q[12+V]=Ae-ne}for(V=0;4>V;++V)G=(m=q[0+4*V]+3)+q[3+4*V],W=q[1+4*V]+q[2+4*V],ne=q[1+4*V]-q[2+4*V],Ae=m-q[3+4*V],_[j+0]=G+W>>3,_[j+16]=Ae+ne>>3,_[j+32]=G-W>>3,_[j+48]=Ae-ne>>3,j+=64}function ls(m,w,_){var j,V=w-32,q=Vs,G=255-m[V-1];for(j=0;j<_;++j){var W,ne=q,Ae=G+m[w-1];for(W=0;W<_;++W)m[w+W]=ne[Ae+m[V+W]];w+=32}}function dc(m,w){ls(m,w,4)}function bl(m,w){ls(m,w,8)}function yl(m,w){ls(m,w,16)}function ba(m,w){var _;for(_=0;16>_;++_)n(m,w+32*_,m,w-32,16)}function Qo(m,w){var _;for(_=16;0<_;--_)s(m,w,m[w-1],16),w+=32}function Ha(m,w,_){var j;for(j=0;16>j;++j)s(w,_+32*j,m,16)}function Lo(m,w){var _,j=16;for(_=0;16>_;++_)j+=m[w-1+32*_]+m[w+_-32];Ha(j>>5,m,w)}function sn(m,w){var _,j=8;for(_=0;16>_;++_)j+=m[w-1+32*_];Ha(j>>4,m,w)}function wl(m,w){var _,j=8;for(_=0;16>_;++_)j+=m[w+_-32];Ha(j>>4,m,w)}function na(m,w){Ha(128,m,w)}function zt(m,w,_){return m+2*w+_+2>>2}function ii(m,w){var _,j=w-32;for(j=new Uint8Array([zt(m[j-1],m[j+0],m[j+1]),zt(m[j+0],m[j+1],m[j+2]),zt(m[j+1],m[j+2],m[j+3]),zt(m[j+2],m[j+3],m[j+4])]),_=0;4>_;++_)n(m,w+32*_,j,0,j.length)}function ko(m,w){var _=m[w-1],j=m[w-1+32],V=m[w-1+64],q=m[w-1+96];Xe(m,w+0,16843009*zt(m[w-1-32],_,j)),Xe(m,w+32,16843009*zt(_,j,V)),Xe(m,w+64,16843009*zt(j,V,q)),Xe(m,w+96,16843009*zt(V,q,q))}function sa(m,w){var _,j=4;for(_=0;4>_;++_)j+=m[w+_-32]+m[w-1+32*_];for(j>>=3,_=0;4>_;++_)s(m,w+32*_,j,4)}function Ui(m,w){var _=m[w-1+0],j=m[w-1+32],V=m[w-1+64],q=m[w-1-32],G=m[w+0-32],W=m[w+1-32],ne=m[w+2-32],Ae=m[w+3-32];m[w+0+96]=zt(j,V,m[w-1+96]),m[w+1+96]=m[w+0+64]=zt(_,j,V),m[w+2+96]=m[w+1+64]=m[w+0+32]=zt(q,_,j),m[w+3+96]=m[w+2+64]=m[w+1+32]=m[w+0+0]=zt(G,q,_),m[w+3+64]=m[w+2+32]=m[w+1+0]=zt(W,G,q),m[w+3+32]=m[w+2+0]=zt(ne,W,G),m[w+3+0]=zt(Ae,ne,W)}function ya(m,w){var _=m[w+1-32],j=m[w+2-32],V=m[w+3-32],q=m[w+4-32],G=m[w+5-32],W=m[w+6-32],ne=m[w+7-32];m[w+0+0]=zt(m[w+0-32],_,j),m[w+1+0]=m[w+0+32]=zt(_,j,V),m[w+2+0]=m[w+1+32]=m[w+0+64]=zt(j,V,q),m[w+3+0]=m[w+2+32]=m[w+1+64]=m[w+0+96]=zt(V,q,G),m[w+3+32]=m[w+2+64]=m[w+1+96]=zt(q,G,W),m[w+3+64]=m[w+2+96]=zt(G,W,ne),m[w+3+96]=zt(W,ne,ne)}function Ns(m,w){var _=m[w-1+0],j=m[w-1+32],V=m[w-1+64],q=m[w-1-32],G=m[w+0-32],W=m[w+1-32],ne=m[w+2-32],Ae=m[w+3-32];m[w+0+0]=m[w+1+64]=q+G+1>>1,m[w+1+0]=m[w+2+64]=G+W+1>>1,m[w+2+0]=m[w+3+64]=W+ne+1>>1,m[w+3+0]=ne+Ae+1>>1,m[w+0+96]=zt(V,j,_),m[w+0+64]=zt(j,_,q),m[w+0+32]=m[w+1+96]=zt(_,q,G),m[w+1+32]=m[w+2+96]=zt(q,G,W),m[w+2+32]=m[w+3+96]=zt(G,W,ne),m[w+3+32]=zt(W,ne,Ae)}function Fi(m,w){var _=m[w+0-32],j=m[w+1-32],V=m[w+2-32],q=m[w+3-32],G=m[w+4-32],W=m[w+5-32],ne=m[w+6-32],Ae=m[w+7-32];m[w+0+0]=_+j+1>>1,m[w+1+0]=m[w+0+64]=j+V+1>>1,m[w+2+0]=m[w+1+64]=V+q+1>>1,m[w+3+0]=m[w+2+64]=q+G+1>>1,m[w+0+32]=zt(_,j,V),m[w+1+32]=m[w+0+96]=zt(j,V,q),m[w+2+32]=m[w+1+96]=zt(V,q,G),m[w+3+32]=m[w+2+96]=zt(q,G,W),m[w+3+64]=zt(G,W,ne),m[w+3+96]=zt(W,ne,Ae)}function Dr(m,w){var _=m[w-1+0],j=m[w-1+32],V=m[w-1+64],q=m[w-1+96];m[w+0+0]=_+j+1>>1,m[w+2+0]=m[w+0+32]=j+V+1>>1,m[w+2+32]=m[w+0+64]=V+q+1>>1,m[w+1+0]=zt(_,j,V),m[w+3+0]=m[w+1+32]=zt(j,V,q),m[w+3+32]=m[w+1+64]=zt(V,q,q),m[w+3+64]=m[w+2+64]=m[w+0+96]=m[w+1+96]=m[w+2+96]=m[w+3+96]=q}function oi(m,w){var _=m[w-1+0],j=m[w-1+32],V=m[w-1+64],q=m[w-1+96],G=m[w-1-32],W=m[w+0-32],ne=m[w+1-32],Ae=m[w+2-32];m[w+0+0]=m[w+2+32]=_+G+1>>1,m[w+0+32]=m[w+2+64]=j+_+1>>1,m[w+0+64]=m[w+2+96]=V+j+1>>1,m[w+0+96]=q+V+1>>1,m[w+3+0]=zt(W,ne,Ae),m[w+2+0]=zt(G,W,ne),m[w+1+0]=m[w+3+32]=zt(_,G,W),m[w+1+32]=m[w+3+64]=zt(j,_,G),m[w+1+64]=m[w+3+96]=zt(V,j,_),m[w+1+96]=zt(q,V,j)}function vl(m,w){var _;for(_=0;8>_;++_)n(m,w+32*_,m,w-32,8)}function Qi(m,w){var _;for(_=0;8>_;++_)s(m,w,m[w-1],8),w+=32}function Li(m,w,_){var j;for(j=0;8>j;++j)s(w,_+32*j,m,8)}function wa(m,w){var _,j=8;for(_=0;8>_;++_)j+=m[w+_-32]+m[w-1+32*_];Li(j>>4,m,w)}function ki(m,w){var _,j=4;for(_=0;8>_;++_)j+=m[w+_-32];Li(j>>3,m,w)}function Cs(m,w){var _,j=4;for(_=0;8>_;++_)j+=m[w-1+32*_];Li(j>>3,m,w)}function Hn(m,w){Li(128,m,w)}function va(m,w,_){var j=m[w-_],V=m[w+0],q=3*(V-j)+Ko[1020+m[w-2*_]-m[w+_]],G=Mu[112+(q+4>>3)];m[w-_]=Vs[255+j+Mu[112+(q+3>>3)]],m[w+0]=Vs[255+V-G]}function Va(m,w,_,j){var V=m[w+0],q=m[w+_];return Es[255+m[w-2*_]-m[w-_]]>j||Es[255+q-V]>j}function Ri(m,w,_,j){return 4*Es[255+m[w-_]-m[w+0]]+Es[255+m[w-2*_]-m[w+_]]<=j}function bA(m,w,_,j,V){var q=m[w-3*_],G=m[w-2*_],W=m[w-_],ne=m[w+0],Ae=m[w+_],ye=m[w+2*_],Te=m[w+3*_];return 4*Es[255+W-ne]+Es[255+G-Ae]>j?0:Es[255+m[w-4*_]-q]<=V&&Es[255+q-G]<=V&&Es[255+G-W]<=V&&Es[255+Te-ye]<=V&&Es[255+ye-Ae]<=V&&Es[255+Ae-ne]<=V}function Di(m,w,_,j){var V=2*j+1;for(j=0;16>j;++j)Ri(m,w+j,_,V)&&va(m,w+j,_)}function aa(m,w,_,j){var V=2*j+1;for(j=0;16>j;++j)Ri(m,w+j*_,1,V)&&va(m,w+j*_,1)}function cs(m,w,_,j){var V;for(V=3;0<V;--V)Di(m,w+=4*_,_,j)}function yA(m,w,_,j){var V;for(V=3;0<V;--V)aa(m,w+=4,_,j)}function Ai(m,w,_,j,V,q,G,W){for(q=2*q+1;0<V--;){if(bA(m,w,_,q,G))if(Va(m,w,_,W))va(m,w,_);else{var ne=m,Ae=w,ye=_,Te=ne[Ae-2*ye],je=ne[Ae-ye],_e=ne[Ae+0],Ye=ne[Ae+ye],Pe=ne[Ae+2*ye],we=27*(qe=Ko[1020+3*(_e-je)+Ko[1020+Te-Ye]])+63>>7,Ce=18*qe+63>>7,qe=9*qe+63>>7;ne[Ae-3*ye]=Vs[255+ne[Ae-3*ye]+qe],ne[Ae-2*ye]=Vs[255+Te+Ce],ne[Ae-ye]=Vs[255+je+we],ne[Ae+0]=Vs[255+_e-we],ne[Ae+ye]=Vs[255+Ye-Ce],ne[Ae+2*ye]=Vs[255+Pe-qe]}w+=j}}function _s(m,w,_,j,V,q,G,W){for(q=2*q+1;0<V--;){if(bA(m,w,_,q,G))if(Va(m,w,_,W))va(m,w,_);else{var ne=m,Ae=w,ye=_,Te=ne[Ae-ye],je=ne[Ae+0],_e=ne[Ae+ye],Ye=Mu[112+((Pe=3*(je-Te))+4>>3)],Pe=Mu[112+(Pe+3>>3)],we=Ye+1>>1;ne[Ae-2*ye]=Vs[255+ne[Ae-2*ye]+we],ne[Ae-ye]=Vs[255+Te+Pe],ne[Ae+0]=Vs[255+je-Ye],ne[Ae+ye]=Vs[255+_e-we]}w+=j}}function wA(m,w,_,j,V,q){Ai(m,w,_,1,16,j,V,q)}function oo(m,w,_,j,V,q){Ai(m,w,1,_,16,j,V,q)}function Ro(m,w,_,j,V,q){var G;for(G=3;0<G;--G)_s(m,w+=4*_,_,1,16,j,V,q)}function Ao(m,w,_,j,V,q){var G;for(G=3;0<G;--G)_s(m,w+=4,1,_,16,j,V,q)}function hc(m,w,_,j,V,q,G,W){Ai(m,w,V,1,8,q,G,W),Ai(_,j,V,1,8,q,G,W)}function lo(m,w,_,j,V,q,G,W){Ai(m,w,1,V,8,q,G,W),Ai(_,j,1,V,8,q,G,W)}function vA(m,w,_,j,V,q,G,W){_s(m,w+4*V,V,1,8,q,G,W),_s(_,j+4*V,V,1,8,q,G,W)}function Bl(m,w,_,j,V,q,G,W){_s(m,w+4,1,V,8,q,G,W),_s(_,j+4,1,V,8,q,G,W)}function ia(){this.ba=new gn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ur,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function BA(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function NA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Nl(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new F}function fc(){this.xb=this.a=0,this.l=new To,this.ca=new gn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Nl,this.ab=0,this.gc=l(4,NA),this.Oc=0}function Ka(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new To,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vn(m,w,_,j,V,q,G){for(m=m==null?0:m[w+0],w=0;w<G;++w)V[q+w]=m+_[j+w]&255,m=V[q+w]}function CA(m,w,_,j,V,q,G){var W;if(m==null)Vn(null,null,_,j,V,q,G);else for(W=0;W<G;++W)V[q+W]=m[w+W]+_[j+W]&255}function Mi(m,w,_,j,V,q,G){if(m==null)Vn(null,null,_,j,V,q,G);else{var W,ne=m[w+0],Ae=ne,ye=ne;for(W=0;W<G;++W)Ae=ye+(ne=m[w+W])-Ae,ye=_[j+W]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=ne,V[q+W]=ye}}function za(m,w,_,j){var V=w.width,q=w.o;if(e(m!=null&&w!=null),0>_||0>=j||_+j>q)return null;if(!m.Cc){if(m.ga==null){var G;if(m.ga=new Ka,(G=m.ga==null)||(G=w.width*w.o,e(m.Gb.length==0),m.Gb=o(G),m.Uc=0,m.Gb==null?G=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,G=1),G=!G),!G){G=m.ga;var W=m.Fa,ne=m.P,Ae=m.qc,ye=m.mb,Te=m.nb,je=ne+1,_e=Ae-1,Ye=G.l;if(e(W!=null&&ye!=null&&w!=null),zo[0]=null,zo[1]=Vn,zo[2]=CA,zo[3]=Mi,G.ca=ye,G.tb=Te,G.c=w.width,G.i=w.height,e(0<G.c&&0<G.i),1>=Ae)w=0;else if(G.$a=W[ne+0]>>0&3,G.Z=W[ne+0]>>2&3,G.Lc=W[ne+0]>>4&3,ne=W[ne+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||ne)w=0;else if(Ye.put=Xr,Ye.ac=Er,Ye.bc=mn,Ye.ma=G,Ye.width=w.width,Ye.height=w.height,Ye.Da=w.Da,Ye.v=w.v,Ye.va=w.va,Ye.j=w.j,Ye.o=w.o,G.$a)e:{e(G.$a==1),w=pa();t:for(;;){if(w==null){w=0;break e}if(e(G!=null),G.mc=w,w.c=G.c,w.i=G.i,w.l=G.l,w.l.ma=G,w.l.width=G.c,w.l.height=G.i,w.a=0,ie(w.m,W,je,_e),!Pa(G.c,G.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Ht(w.s)?(G.ic=1,W=w.c*w.i,w.Ta=null,w.Ua=0,w.V=o(W),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(G.ic=0,w=no(w,G.c)),!w))break t;w=1;break e}G.mc=null,w=0}else w=_e>=G.c*G.i;G=!w}if(G)return null;m.ga.Lc!=1?m.Ga=0:j=q-_}e(m.ga!=null),e(_+j<=q);e:{if(w=(W=m.ga).c,q=W.l.o,W.$a==0){if(je=m.rc,_e=m.Vc,Ye=m.Fa,ne=m.P+1+_*w,Ae=m.mb,ye=m.nb+_*w,e(ne<=m.P+m.qc),W.Z!=0)for(e(zo[W.Z]!=null),G=0;G<j;++G)zo[W.Z](je,_e,Ye,ne,Ae,ye,w),je=Ae,_e=ye,ye+=w,ne+=w;else for(G=0;G<j;++G)n(Ae,ye,Ye,ne,w),je=Ae,_e=ye,ye+=w,ne+=w;m.rc=je,m.Vc=_e}else{if(e(W.mc!=null),w=_+j,e((G=W.mc)!=null),e(w<=G.i),G.C>=w)w=1;else if(W.ic||re(),W.ic){W=G.V,je=G.Ba,_e=G.c;var Pe=G.i,we=(Ye=1,ne=G.$/_e,Ae=G.$%_e,ye=G.m,Te=G.s,G.$),Ce=_e*Pe,qe=_e*w,et=Te.wc,ze=we<qe?xt(Te,Ae,ne):null;e(we<=Ce),e(w<=Pe),e(Ht(Te));t:for(;;){for(;!ye.h&&we<qe;){if(Ae&et||(ze=xt(Te,Ae,ne)),e(ze!=null),he(ye),256>(Pe=yt(ze.G[0],ze.H[0],ye)))W[je+we]=Pe,++we,++Ae>=_e&&(Ae=0,++ne<=w&&!(ne%16)&&rr(G,ne));else{if(!(280>Pe)){Ye=0;break t}Pe=ct(Pe-256,ye);var gt,lt=yt(ze.G[4],ze.H[4],ye);if(he(ye),!(we>=(lt=kt(_e,lt=ct(lt,ye)))&&Ce-we>=Pe)){Ye=0;break t}for(gt=0;gt<Pe;++gt)W[je+we+gt]=W[je+we+gt-lt];for(we+=Pe,Ae+=Pe;Ae>=_e;)Ae-=_e,++ne<=w&&!(ne%16)&&rr(G,ne);we<qe&&Ae&et&&(ze=xt(Te,Ae,ne))}e(ye.h==J(ye))}rr(G,ne>w?w:ne);break t}!Ye||ye.h&&we<Ce?(Ye=0,G.a=ye.h?5:3):G.$=we,w=Ye}else w=yn(G,G.V,G.Ba,G.c,G.i,w,ea);if(!w){j=0;break e}}_+j>=q&&(m.Cc=1),j=1}if(!j)return null;if(m.Cc&&((j=m.ga)!=null&&(j.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+_*V}function d(m,w,_,j,V,q){for(;0<V--;){var G,W=m,ne=w+(_?1:0),Ae=m,ye=w+(_?0:3);for(G=0;G<j;++G){var Te=Ae[ye+4*G];Te!=255&&(Te*=32897,W[ne+4*G+0]=W[ne+4*G+0]*Te>>23,W[ne+4*G+1]=W[ne+4*G+1]*Te>>23,W[ne+4*G+2]=W[ne+4*G+2]*Te>>23)}w+=q}}function b(m,w,_,j,V){for(;0<j--;){var q;for(q=0;q<_;++q){var G=m[w+2*q+0],W=15&(Ae=m[w+2*q+1]),ne=4369*W,Ae=(240&Ae|Ae>>4)*ne>>16;m[w+2*q+0]=(240&G|G>>4)*ne>>16&240|(15&G|G<<4)*ne>>16>>4&15,m[w+2*q+1]=240&Ae|W}w+=V}}function C(m,w,_,j,V,q,G,W){var ne,Ae,ye=255;for(Ae=0;Ae<V;++Ae){for(ne=0;ne<j;++ne){var Te=m[w+ne];q[G+4*ne]=Te,ye&=Te}w+=_,G+=W}return ye!=255}function Q(m,w,_,j,V){var q;for(q=0;q<V;++q)_[j+q]=m[w+q]>>8}function re(){Ba=d,mr=b,Vr=C,Fr=Q}function ce(m,w,_){S[m]=function(j,V,q,G,W,ne,Ae,ye,Te,je,_e,Ye,Pe,we,Ce,qe,et){var ze,gt=et-1>>1,lt=W[ne+0]|Ae[ye+0]<<16,Dt=Te[je+0]|_e[Ye+0]<<16;e(j!=null);var dt=3*lt+Dt+131074>>2;for(w(j[V+0],255&dt,dt>>16,Pe,we),q!=null&&(dt=3*Dt+lt+131074>>2,w(q[G+0],255&dt,dt>>16,Ce,qe)),ze=1;ze<=gt;++ze){var Qr=W[ne+ze]|Ae[ye+ze]<<16,xr=Te[je+ze]|_e[Ye+ze]<<16,wr=lt+Qr+Dt+xr+524296,ir=wr+2*(Qr+Dt)>>3;dt=ir+lt>>1,lt=(wr=wr+2*(lt+xr)>>3)+Qr>>1,w(j[V+2*ze-1],255&dt,dt>>16,Pe,we+(2*ze-1)*_),w(j[V+2*ze-0],255&lt,lt>>16,Pe,we+(2*ze-0)*_),q!=null&&(dt=wr+Dt>>1,lt=ir+xr>>1,w(q[G+2*ze-1],255&dt,dt>>16,Ce,qe+(2*ze-1)*_),w(q[G+2*ze+0],255&lt,lt>>16,Ce,qe+(2*ze+0)*_)),lt=Qr,Dt=xr}1&et||(dt=3*lt+Dt+131074>>2,w(j[V+et-1],255&dt,dt>>16,Pe,we+(et-1)*_),q!=null&&(dt=3*Dt+lt+131074>>2,w(q[G+et-1],255&dt,dt>>16,Ce,qe+(et-1)*_)))}}function Ee(){Is[Hd]=Il,Is[Ks]=Ec,Is[Vd]=Hf,Is[ui]=Xd,Is[Ou]=kA,Is[Nc]=ho,Is[FA]=RA,Is[Pu]=Ec,Is[Kd]=Xd,Is[Cc]=kA,Is[zd]=ho}function Ze(m){return m&-16384?0>m?0:255:m>>$d}function ft(m,w){return Ze((19077*m>>8)+(26149*w>>8)-14234)}function pt(m,w,_){return Ze((19077*m>>8)-(6419*w>>8)-(13320*_>>8)+8708)}function Bt(m,w){return Ze((19077*m>>8)+(33050*w>>8)-17685)}function er(m,w,_,j,V){j[V+0]=ft(m,_),j[V+1]=pt(m,w,_),j[V+2]=Bt(m,w)}function Tr(m,w,_,j,V){j[V+0]=Bt(m,w),j[V+1]=pt(m,w,_),j[V+2]=ft(m,_)}function Ur(m,w,_,j,V){var q=pt(m,w,_);w=q<<3&224|Bt(m,w)>>3,j[V+0]=248&ft(m,_)|q>>5,j[V+1]=w}function Mr(m,w,_,j,V){var q=240&Bt(m,w)|15;j[V+0]=240&ft(m,_)|pt(m,w,_)>>4,j[V+1]=q}function Sn(m,w,_,j,V){j[V+0]=255,er(m,w,_,j,V+1)}function vn(m,w,_,j,V){Tr(m,w,_,j,V),j[V+3]=255}function Ms(m,w,_,j,V){er(m,w,_,j,V),j[V+3]=255}function qa(m,w){return 0>m?0:m>w?w:m}function co(m,w,_){S[m]=function(j,V,q,G,W,ne,Ae,ye,Te){for(var je=ye+(-2&Te)*_;ye!=je;)w(j[V+0],q[G+0],W[ne+0],Ae,ye),w(j[V+1],q[G+0],W[ne+0],Ae,ye+_),V+=2,++G,++ne,ye+=2*_;1&Te&&w(j[V+0],q[G+0],W[ne+0],Ae,ye)}}function Dd(m,w,_){return _==0?m==0?w==0?6:5:w==0?4:0:_}function gc(m,w,_,j,V){switch(m>>>30){case 3:Hi(w,_,j,V,0);break;case 2:cn(w,_,j,V);break;case 1:Hs(w,_,j,V)}}function mc(m,w){var _,j,V=w.M,q=w.Nb,G=m.oc,W=m.pc+40,ne=m.oc,Ae=m.pc+584,ye=m.oc,Te=m.pc+600;for(_=0;16>_;++_)G[W+32*_-1]=129;for(_=0;8>_;++_)ne[Ae+32*_-1]=129,ye[Te+32*_-1]=129;for(0<V?G[W-1-32]=ne[Ae-1-32]=ye[Te-1-32]=129:(s(G,W-32-1,127,21),s(ne,Ae-32-1,127,9),s(ye,Te-32-1,127,9)),j=0;j<m.za;++j){var je=w.ya[w.aa+j];if(0<j){for(_=-1;16>_;++_)n(G,W+32*_-4,G,W+32*_+12,4);for(_=-1;8>_;++_)n(ne,Ae+32*_-4,ne,Ae+32*_+4,4),n(ye,Te+32*_-4,ye,Te+32*_+4,4)}var _e=m.Gd,Ye=m.Hd+j,Pe=je.ad,we=je.Hc;if(0<V&&(n(G,W-32,_e[Ye].y,0,16),n(ne,Ae-32,_e[Ye].f,0,8),n(ye,Te-32,_e[Ye].ea,0,8)),je.Za){var Ce=G,qe=W-32+16;for(0<V&&(j>=m.za-1?s(Ce,qe,_e[Ye].y[15],4):n(Ce,qe,_e[Ye+1].y,0,4)),_=0;4>_;_++)Ce[qe+128+_]=Ce[qe+256+_]=Ce[qe+384+_]=Ce[qe+0+_];for(_=0;16>_;++_,we<<=2)Ce=G,qe=W+Kn[_],In[je.Ob[_]](Ce,qe),gc(we,Pe,16*+_,Ce,qe)}else if(Ce=Dd(j,V,je.Ob[0]),la[Ce](G,W),we!=0)for(_=0;16>_;++_,we<<=2)gc(we,Pe,16*+_,G,W+Kn[_]);for(_=je.Gc,Ce=Dd(j,V,je.Dd),zi[Ce](ne,Ae),zi[Ce](ye,Te),we=Pe,Ce=ne,qe=Ae,255&(je=_>>0)&&(170&je?_l(we,256,Ce,qe):ds(we,256,Ce,qe)),je=ye,we=Te,255&(_>>=8)&&(170&_?_l(Pe,320,je,we):ds(Pe,320,je,we)),V<m.Ub-1&&(n(_e[Ye].y,0,G,W+480,16),n(_e[Ye].f,0,ne,Ae+224,8),n(_e[Ye].ea,0,ye,Te+224,8)),_=8*q*m.B,_e=m.sa,Ye=m.ta+16*j+16*q*m.R,Pe=m.qa,je=m.ra+8*j+_,we=m.Ha,Ce=m.Ia+8*j+_,_=0;16>_;++_)n(_e,Ye+_*m.R,G,W+32*_,16);for(_=0;8>_;++_)n(Pe,je+_*m.B,ne,Ae+32*_,8),n(we,Ce+_*m.B,ye,Te+32*_,8)}}function uo(m,w,_,j,V,q,G,W,ne){var Ae=[0],ye=[0],Te=0,je=ne!=null?ne.kd:0,_e=ne??new BA;if(m==null||12>_)return 7;_e.data=m,_e.w=w,_e.ha=_,w=[w],_=[_],_e.gb=[_e.gb];e:{var Ye=w,Pe=_,we=_e.gb;if(e(m!=null),e(Pe!=null),e(we!=null),we[0]=0,12<=Pe[0]&&!t(m,Ye[0],"RIFF")){if(t(m,Ye[0]+8,"WEBP")){we=3;break e}var Ce=fe(m,Ye[0]+4);if(12>Ce||4294967286<Ce){we=3;break e}if(je&&Ce>Pe[0]-8){we=7;break e}we[0]=Ce,Ye[0]+=12,Pe[0]-=12}we=0}if(we!=0)return we;for(Ce=0<_e.gb[0],_=_[0];;){e:{var qe=m;Pe=w,we=_;var et=Ae,ze=ye,gt=Ye=[0];if((dt=Te=[Te])[0]=0,8>we[0])we=7;else{if(!t(qe,Pe[0],"VP8X")){if(fe(qe,Pe[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var lt=fe(qe,Pe[0]+8),Dt=1+tt(qe,Pe[0]+12);if(2147483648<=Dt*(qe=1+tt(qe,Pe[0]+15))){we=3;break e}gt!=null&&(gt[0]=lt),et!=null&&(et[0]=Dt),ze!=null&&(ze[0]=qe),Pe[0]+=18,we[0]-=18,dt[0]=1}we=0}}if(Te=Te[0],Ye=Ye[0],we!=0)return we;if(Pe=!!(2&Ye),!Ce&&Te)return 3;if(q!=null&&(q[0]=!!(16&Ye)),G!=null&&(G[0]=Pe),W!=null&&(W[0]=0),G=Ae[0],Ye=ye[0],Te&&Pe&&ne==null){we=0;break}if(4>_){we=7;break}if(Ce&&Te||!Ce&&!Te&&!t(m,w[0],"ALPH")){_=[_],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{lt=m,we=w,Ce=_;var dt=_e.gb;et=_e.na,ze=_e.P,gt=_e.Sa,Dt=22,e(lt!=null),e(Ce!=null),qe=we[0];var Qr=Ce[0];for(e(et!=null),e(gt!=null),et[0]=null,ze[0]=null,gt[0]=0;;){if(we[0]=qe,Ce[0]=Qr,8>Qr){we=7;break e}var xr=fe(lt,qe+4);if(4294967286<xr){we=3;break e}var wr=8+xr+1&-2;if(Dt+=wr,0<dt&&Dt>dt){we=3;break e}if(!t(lt,qe,"VP8 ")||!t(lt,qe,"VP8L")){we=0;break e}if(Qr[0]<wr){we=7;break e}t(lt,qe,"ALPH")||(et[0]=lt,ze[0]=qe+8,gt[0]=xr),qe+=wr,Qr-=wr}}if(_=_[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],we!=0)break}_=[_],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(dt=m,we=w,Ce=_,et=_e.gb[0],ze=_e.Ja,gt=_e.xa,lt=we[0],qe=!t(dt,lt,"VP8 "),Dt=!t(dt,lt,"VP8L"),e(dt!=null),e(Ce!=null),e(ze!=null),e(gt!=null),8>Ce[0])we=7;else{if(qe||Dt){if(dt=fe(dt,lt+4),12<=et&&dt>et-12){we=3;break e}if(je&&dt>Ce[0]-8){we=7;break e}ze[0]=dt,we[0]+=8,Ce[0]-=8,gt[0]=Dt}else gt[0]=5<=Ce[0]&&dt[lt+0]==47&&!(dt[lt+4]>>5),ze[0]=Ce[0];we=0}if(_=_[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],w=w[0],we!=0)break;if(4294967286<_e.Ja)return 3;if(W==null||Pe||(W[0]=_e.xa?2:1),G=[G],Ye=[Ye],_e.xa){if(5>_){we=7;break}W=G,je=Ye,Pe=q,m==null||5>_?m=0:5<=_&&m[w+0]==47&&!(m[w+4]>>5)?(Ce=[0],dt=[0],et=[0],ie(ze=new L,m,w,_),Qe(ze,Ce,dt,et)?(W!=null&&(W[0]=Ce[0]),je!=null&&(je[0]=dt[0]),Pe!=null&&(Pe[0]=et[0]),m=1):m=0):m=0}else{if(10>_){we=7;break}W=Ye,m==null||10>_||!wn(m,w+3,_-3)?m=0:(je=m[w+0]|m[w+1]<<8|m[w+2]<<16,Pe=16383&(m[w+7]<<8|m[w+6]),m=16383&(m[w+9]<<8|m[w+8]),1&je||3<(je>>1&7)||!(je>>4&1)||je>>5>=_e.Ja||!Pe||!m?m=0:(G&&(G[0]=Pe),W&&(W[0]=m),m=1))}if(!m||(G=G[0],Ye=Ye[0],Te&&(Ae[0]!=G||ye[0]!=Ye)))return 3;ne!=null&&(ne[0]=_e,ne.offset=w-ne.w,e(4294967286>w-ne.w),e(ne.offset==ne.ha-_));break}return we==0||we==7&&Te&&ne==null?(q!=null&&(q[0]|=_e.na!=null&&0<_e.na.length),j!=null&&(j[0]=G),V!=null&&(V[0]=Ye),0):we}function Do(m,w,_){var j=w.width,V=w.height,q=0,G=0,W=j,ne=V;if(w.Da=m!=null&&0<m.Da,w.Da&&(W=m.cd,ne=m.bd,q=m.v,G=m.j,11>_||(q&=-2,G&=-2),0>q||0>G||0>=W||0>=ne||q+W>j||G+ne>V))return 0;if(w.v=q,w.j=G,w.va=q+W,w.o=G+ne,w.U=W,w.T=ne,w.da=m!=null&&0<m.da,w.da){if(!Je(W,ne,_=[m.ib],q=[m.hb]))return 0;w.ib=_[0],w.hb=q[0]}return w.ob=m!=null&&m.ob,w.Kb=m==null||!m.Sd,w.da&&(w.ob=w.ib<3*j/4&&w.hb<3*V/4,w.Kb=0),1}function Ru(m){if(m==null)return 2;if(11>m.S){var w=m.f.RGBA;w.fb+=(m.height-1)*w.A,w.A=-w.A}else w=m.f.kb,m=m.height,w.O+=(m-1)*w.fa,w.fa=-w.fa,w.N+=(m-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(m-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(m-1)*w.lb,w.lb=-w.lb);return 0}function Mo(m,w,_,j){if(j==null||0>=m||0>=w)return 2;if(_!=null){if(_.Da){var V=_.cd,q=_.bd,G=-2&_.v,W=-2&_.j;if(0>G||0>W||0>=V||0>=q||G+V>m||W+q>w)return 2;m=V,w=q}if(_.da){if(!Je(m,w,V=[_.ib],q=[_.hb]))return 2;m=V[0],w=q[0]}}j.width=m,j.height=w;e:{var ne=j.width,Ae=j.height;if(m=j.S,0>=ne||0>=Ae||!(m>=Hd&&13>m))m=2;else{if(0>=j.Rd&&j.sd==null){G=q=V=w=0;var ye=(W=ne*Wd[m])*Ae;if(11>m||(q=(Ae+1)/2*(w=(ne+1)/2),m==12&&(G=(V=ne)*Ae)),(Ae=o(ye+2*q+G))==null){m=1;break e}j.sd=Ae,11>m?((ne=j.f.RGBA).eb=Ae,ne.fb=0,ne.A=W,ne.size=ye):((ne=j.f.kb).y=Ae,ne.O=0,ne.fa=W,ne.Fd=ye,ne.f=Ae,ne.N=0+ye,ne.Ab=w,ne.Cd=q,ne.ea=Ae,ne.W=0+ye+q,ne.Db=w,ne.Ed=q,m==12&&(ne.F=Ae,ne.J=0+ye+2*q),ne.Tc=G,ne.lb=V)}if(w=1,V=j.S,q=j.width,G=j.height,V>=Hd&&13>V)if(11>V)m=j.f.RGBA,w&=(W=Math.abs(m.A))*(G-1)+q<=m.size,w&=W>=q*Wd[V],w&=m.eb!=null;else{m=j.f.kb,W=(q+1)/2,ye=(G+1)/2,ne=Math.abs(m.fa),Ae=Math.abs(m.Ab);var Te=Math.abs(m.Db),je=Math.abs(m.lb),_e=je*(G-1)+q;w&=ne*(G-1)+q<=m.Fd,w&=Ae*(ye-1)+W<=m.Cd,w=(w&=Te*(ye-1)+W<=m.Ed)&ne>=q&Ae>=W&Te>=W,w&=m.y!=null,w&=m.f!=null,w&=m.ea!=null,V==12&&(w&=je>=q,w&=_e<=m.Tc,w&=m.F!=null)}else w=0;m=w?0:2}}return m!=0||_!=null&&_.fd&&(m=Ru(j)),m}var us=64,Cl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_A=24,EA=32,pc=8,oa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];He("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(m){return m},S.Predictor2=function(m,w,_){return w[_+0]},S.Predictor3=function(m,w,_){return w[_+1]},S.Predictor4=function(m,w,_){return w[_-1]},S.Predictor5=function(m,w,_){return it(it(m,w[_+1]),w[_+0])},S.Predictor6=function(m,w,_){return it(m,w[_-1])},S.Predictor7=function(m,w,_){return it(m,w[_+0])},S.Predictor8=function(m,w,_){return it(w[_-1],w[_+0])},S.Predictor9=function(m,w,_){return it(w[_+0],w[_+1])},S.Predictor10=function(m,w,_){return it(it(m,w[_-1]),it(w[_+0],w[_+1]))},S.Predictor11=function(m,w,_){var j=w[_+0];return 0>=Ot(j>>24&255,m>>24&255,(w=w[_-1])>>24&255)+Ot(j>>16&255,m>>16&255,w>>16&255)+Ot(j>>8&255,m>>8&255,w>>8&255)+Ot(255&j,255&m,255&w)?j:m},S.Predictor12=function(m,w,_){var j=w[_+0];return(vt((m>>24&255)+(j>>24&255)-((w=w[_-1])>>24&255))<<24|vt((m>>16&255)+(j>>16&255)-(w>>16&255))<<16|vt((m>>8&255)+(j>>8&255)-(w>>8&255))<<8|vt((255&m)+(255&j)-(255&w)))>>>0},S.Predictor13=function(m,w,_){var j=w[_-1];return(bt((m=it(m,w[_+0]))>>24&255,j>>24&255)<<24|bt(m>>16&255,j>>16&255)<<16|bt(m>>8&255,j>>8&255)<<8|bt(m>>0&255,j>>0&255))>>>0};var Md=S.PredictorAdd0;S.PredictorAdd1=Yt,He("Predictor2","PredictorAdd2"),He("Predictor3","PredictorAdd3"),He("Predictor4","PredictorAdd4"),He("Predictor5","PredictorAdd5"),He("Predictor6","PredictorAdd6"),He("Predictor7","PredictorAdd7"),He("Predictor8","PredictorAdd8"),He("Predictor9","PredictorAdd9"),He("Predictor10","PredictorAdd10"),He("Predictor11","PredictorAdd11"),He("Predictor12","PredictorAdd12"),He("Predictor13","PredictorAdd13");var Du=S.PredictorAdd2;ar("ColorIndexInverseTransform","MapARGB","32b",(function(m){return m>>8&255}),(function(m){return m})),ar("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(m){return m}),(function(m){return m>>8&255}));var Od,li=S.ColorIndexInverseTransform,xc=S.MapARGB,Pd=S.VP8LColorIndexInverseTransformAlpha,Os=S.MapAlpha,ci=S.VP8LPredictorsAdd=[];ci.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var SA,Aa,Ps,Oo,Oi,Po,Pi,Hi,cn,_l,Hs,ds,Vi,bc,yc,Ga,IA,Ho,jA,wc,El,TA,vc,Xa,Ba,mr,Vr,Fr,pn=o(511),Ki=o(2041),UA=o(225),Vo=o(767),Bc=0,Ko=Ki,Mu=UA,Vs=Vo,Es=pn,Hd=0,Ks=1,Vd=2,ui=3,Ou=4,Nc=5,FA=6,Pu=7,Kd=8,Cc=9,zd=10,di=[2,3,7],_c=[3,3,11],Sl=[280,256,256,256,40],qd=[0,1,1,1,0],Hu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],hi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],fi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],QA=8,gi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],mi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],$a=null,Am=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Of=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ss=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],un=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],la=[],In=[],zi=[],LA=1,Pf=2,zo=[],Is=[];ce("UpsampleRgbLinePair",er,3),ce("UpsampleBgrLinePair",Tr,3),ce("UpsampleRgbaLinePair",Ms,4),ce("UpsampleBgraLinePair",vn,4),ce("UpsampleArgbLinePair",Sn,4),ce("UpsampleRgba4444LinePair",Mr,2),ce("UpsampleRgb565LinePair",Ur,2);var Il=S.UpsampleRgbLinePair,Hf=S.UpsampleBgrLinePair,Ec=S.UpsampleRgbaLinePair,Xd=S.UpsampleBgraLinePair,kA=S.UpsampleArgbLinePair,ho=S.UpsampleRgba4444LinePair,RA=S.UpsampleRgb565LinePair,pi=16,Sc=1<<pi-1,jl=-227,DA=482,$d=6,MA=0,js=o(256),Yd=o(256),cm=o(256),Vx=o(256),Kx=o(DA-jl),zx=o(DA-jl);co("YuvToRgbRow",er,3),co("YuvToBgrRow",Tr,3),co("YuvToRgbaRow",Ms,4),co("YuvToBgraRow",vn,4),co("YuvToArgbRow",Sn,4),co("YuvToRgba4444Row",Mr,2),co("YuvToRgb565Row",Ur,2);var Kn=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ic=[0,2,8],Vu=[8,7,6,4,4,2,2,2,1,1,1,1],Ku=1;this.WebPDecodeRGBA=function(m,w,_,j,V){var q=Ks,G=new ia,W=new gn;G.ba=W,W.S=q,W.width=[W.width],W.height=[W.height];var ne=W.width,Ae=W.height,ye=new fr;if(ye==null||m==null)var Te=2;else e(ye!=null),Te=uo(m,w,_,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Te!=0?ne=0:(ne!=null&&(ne[0]=ye.width[0]),Ae!=null&&(Ae[0]=ye.height[0]),ne=1),ne){W.width=W.width[0],W.height=W.height[0],j!=null&&(j[0]=W.width),V!=null&&(V[0]=W.height);e:{if(j=new To,(V=new BA).data=m,V.w=w,V.ha=_,V.kd=1,w=[0],e(V!=null),((m=uo(V.data,V.w,V.ha,null,null,null,w,null,V))==0||m==7)&&w[0]&&(m=4),(w=m)==0){if(e(G!=null),j.data=V.data,j.w=V.w+V.offset,j.ha=V.ha-V.offset,j.put=Xr,j.ac=Er,j.bc=mn,j.ma=G,V.xa){if((m=pa())==null){G=1;break e}if((function(je,_e){var Ye=[0],Pe=[0],we=[0];t:for(;;){if(je==null)return 0;if(_e==null)return je.a=2,0;if(je.l=_e,je.a=0,ie(je.m,_e.data,_e.w,_e.ha),!Qe(je.m,Ye,Pe,we)){je.a=3;break t}if(je.xb=Pf,_e.width=Ye[0],_e.height=Pe[0],!Pa(Ye[0],Pe[0],1,je,null))break t;return 1}return e(je.a!=0),0})(m,j)){if(j=(w=Mo(j.width,j.height,G.Oa,G.ba))==0){t:{j=m;r:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((_=j.l)!=null),e((V=_.ma)!=null),j.xb!=0){if(j.ca=V.ba,j.tb=V.tb,e(j.ca!=null),!Do(V.Oa,_,ui)){j.a=2;break r}if(!no(j,_.width)||_.da)break r;if((_.da||Pt(j.ca.S))&&re(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&re()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!Me(j.s.vb,j.s.Wa.Xa)){j.a=1;break r}j.xb=0}if(!yn(j,j.V,j.Ba,j.c,j.i,_.o,_t))break r;V.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(w=m.a)}else w=m.a}else{if((m=new pA)==null){G=1;break e}if(m.Fa=V.na,m.P=V.P,m.qc=V.Sa,Pn(m,j)){if((w=Mo(j.width,j.height,G.Oa,G.ba))==0){if(m.Aa=0,_=G.Oa,e((V=m)!=null),_!=null){if(0<(ne=0>(ne=_.Md)?0:100<ne?255:255*ne/100)){for(Ae=ye=0;4>Ae;++Ae)12>(Te=V.pb[Ae]).lc&&(Te.ia=ne*Vu[0>Te.lc?0:Te.lc]>>3),ye|=Te.ia;ye&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=_.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}kr(m,j)||(w=m.a)}}else w=m.a}w==0&&G.Oa!=null&&G.Oa.fd&&(w=Ru(G.ba))}G=w}q=G!=0?null:11>q?W.f.RGBA.eb:W.f.kb.y}else q=null;return q};var Wd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(S,M){for(var z="",E=0;E<4;E++)z+=String.fromCharCode(S[M++]);return z}function x(S,M){return(S[M+0]<<0|S[M+1]<<8|S[M+2]<<16)>>>0}function p(S,M){return(S[M+0]<<0|S[M+1]<<8|S[M+2]<<16|S[M+3]<<24)>>>0}new h;var v=[0],N=[0],T=[],I=new h,O=r,R=(function(S,M){var z={},E=0,F=!1,D=0,$=0;if(z.frames=[],!(function(H,J,ee,he){for(var me=0;me<he;me++)if(H[J+me]!=ee.charCodeAt(me))return!0;return!1})(S,M,"RIFF",4)){var be,te;for(p(S,M+=4),M+=8;M<S.length;){var Y=g(S,M),ie=p(S,M+=4);M+=4;var ge=ie+(1&ie);switch(Y){case"VP8 ":case"VP8L":z.frames[E]===void 0&&(z.frames[E]={}),(L=z.frames[E]).src_off=F?$:M-8,L.src_size=D+ie+8,E++,F&&(F=!1,D=0,$=0);break;case"VP8X":(L=z.header={}).feature_flags=S[M];var xe=M+4;L.canvas_width=1+x(S,xe),xe+=3,L.canvas_height=1+x(S,xe),xe+=3;break;case"ALPH":F=!0,D=ge+8,$=M-8;break;case"ANIM":(L=z.header).bgcolor=p(S,M),xe=M+4,L.loop_count=(be=S)[(te=xe)+0]<<0|be[te+1]<<8,xe+=2;break;case"ANMF":var X,L;(L=z.frames[E]={}).offset_x=2*x(S,M),M+=3,L.offset_y=2*x(S,M),M+=3,L.width=1+x(S,M),M+=3,L.height=1+x(S,M),M+=3,L.duration=x(S,M),M+=3,X=S[M++],L.dispose=1&X,L.blend=X>>1&1}Y!="ANMF"&&(M+=ge)}return z}})(O,0);R.response=O,R.rgbaoutput=!0,R.dataurl=!1;var P=R.header?R.header:null,K=R.frames?R.frames:null;if(P){P.loop_counter=P.loop_count,v=[P.canvas_height],N=[P.canvas_width];for(var se=0;se<K.length&&K[se].blend!=0;se++);}var ae=K[0],le=I.WebPDecodeRGBA(O,ae.src_off,ae.src_size,N,v);ae.rgba=le,ae.imgwidth=N[0],ae.imgheight=v[0];for(var U=0;U<N[0]*v[0]*4;U++)T[U]=le[U];return this.width=N,this.height=v,this.data=T,this}(function(r){var e=function(){return typeof Iw=="function"},t=function(v,N,T,I){var O=4,R=l;switch(I){case r.image_compression.FAST:O=1,R=o;break;case r.image_compression.MEDIUM:O=6,R=u;break;case r.image_compression.SLOW:O=9,R=h}v=n(v,N,T,R);var P=Iw(v,{level:O});return r.__addimage__.arrayBufferToBinaryString(P)},n=function(v,N,T,I){for(var O,R,P,K=v.length/N,se=new Uint8Array(v.length+K),ae=x(),le=0;le<K;le+=1){if(P=le*N,O=v.subarray(P,P+N),I)se.set(I(O,T,R),P+le);else{for(var U,S=ae.length,M=[];U<S;U+=1)M[U]=ae[U](O,T,R);var z=p(M.concat());se.set(M[z],P+le)}R=O}return se},s=function(v){var N=Array.apply([],v);return N.unshift(0),N},o=function(v,N){var T,I=[],O=v.length;I[0]=1;for(var R=0;R<O;R+=1)T=v[R-N]||0,I[R+1]=v[R]-T+256&255;return I},l=function(v,N,T){var I,O=[],R=v.length;O[0]=2;for(var P=0;P<R;P+=1)I=T&&T[P]||0,O[P+1]=v[P]-I+256&255;return O},u=function(v,N,T){var I,O,R=[],P=v.length;R[0]=3;for(var K=0;K<P;K+=1)I=v[K-N]||0,O=T&&T[K]||0,R[K+1]=v[K]+256-(I+O>>>1)&255;return R},h=function(v,N,T){var I,O,R,P,K=[],se=v.length;K[0]=4;for(var ae=0;ae<se;ae+=1)I=v[ae-N]||0,O=T&&T[ae]||0,R=T&&T[ae-N]||0,P=g(I,O,R),K[ae+1]=v[ae]-P+256&255;return K},g=function(v,N,T){if(v===N&&N===T)return v;var I=Math.abs(N-T),O=Math.abs(v-T),R=Math.abs(v+N-T-T);return I<=O&&I<=R?v:O<=R?N:T},x=function(){return[s,o,l,u,h]},p=function(v){var N=v.map((function(T){return T.reduce((function(I,O){return I+Math.abs(O)}),0)}));return N.indexOf(Math.min.apply(null,N))};r.processPNG=function(v,N,T,I){var O,R,P,K,se,ae,le,U,S,M,z,E,F,D,$,be=this.decode.FLATE_DECODE,te="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(P=new SX(v)).imgData,R=P.bits,O=P.colorSpace,se=P.colors,[4,6].indexOf(P.colorType)!==-1){if(P.bits===8){S=(U=P.pixelBitlength==32?new Uint32Array(P.decodePixels().buffer):P.pixelBitlength==16?new Uint16Array(P.decodePixels().buffer):new Uint8Array(P.decodePixels().buffer)).length,z=new Uint8Array(S*P.colors),M=new Uint8Array(S);var Y,ie=P.pixelBitlength-P.bits;for(D=0,$=0;D<S;D++){for(F=U[D],Y=0;Y<ie;)z[$++]=F>>>Y&255,Y+=P.bits;M[D]=F>>>Y&255}}if(P.bits===16){S=(U=new Uint32Array(P.decodePixels().buffer)).length,z=new Uint8Array(S*(32/P.pixelBitlength)*P.colors),M=new Uint8Array(S*(32/P.pixelBitlength)),E=P.colors>1,D=0,$=0;for(var ge=0;D<S;)F=U[D++],z[$++]=F>>>0&255,E&&(z[$++]=F>>>16&255,F=U[D++],z[$++]=F>>>0&255),M[ge++]=F>>>16&255;R=8}I!==r.image_compression.NONE&&e()?(v=t(z,P.width*P.colors,P.colors,I),le=t(M,P.width,1,I)):(v=z,le=M,be=void 0)}if(P.colorType===3&&(O=this.color_spaces.INDEXED,ae=P.palette,P.transparency.indexed)){var xe=P.transparency.indexed,X=0;for(D=0,S=xe.length;D<S;++D)X+=xe[D];if((X/=255)===S-1&&xe.indexOf(0)!==-1)K=[xe.indexOf(0)];else if(X!==S){for(U=P.decodePixels(),M=new Uint8Array(U.length),D=0,S=U.length;D<S;D++)M[D]=xe[U[D]];le=t(M,P.width,1)}}var L=(function(H){var J;switch(H){case r.image_compression.FAST:J=11;break;case r.image_compression.MEDIUM:J=13;break;case r.image_compression.SLOW:J=14;break;default:J=12}return J})(I);return be===this.decode.FLATE_DECODE&&(te="/Predictor "+L+" "),te+="/Colors "+se+" /BitsPerComponent "+R+" /Columns "+P.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(le&&this.__addimage__.isArrayBuffer(le)||this.__addimage__.isArrayBufferView(le))&&(le=this.__addimage__.arrayBufferToBinaryString(le)),{alias:T,data:v,index:N,filter:be,decodeParameters:te,transparency:K,palette:ae,sMask:le,predictor:L,width:P.width,height:P.height,bitsPerComponent:R,colorSpace:O}}}})($t.API),(function(r){r.processGIF89A=function(e,t,n,s){var o=new IX(e),l=o.width,u=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var g={data:h,width:l,height:u},x=new cy(100).encode(g,100);return r.processJPEG.call(this,x,t,n,s)},r.processGIF87A=r.processGIF89A})($t.API),eA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},eA.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){fn.log("bit decode error:"+t)}},eA.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*s*4,u=0;u<8&&8*s+u<this.width;u++){var h=this.palette[o>>7-u&1];this.data[l+4*u]=h.blue,this.data[l+4*u+1]=h.green,this.data[l+4*u+2]=h.red,this.data[l+4*u+3]=255}t!==0&&(this.pos+=4-t)}},eA.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<r;s++){var o=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*s*4,u=o>>4,h=15&o,g=this.palette[u];if(this.data[l]=g.blue,this.data[l+1]=g.green,this.data[l+2]=g.red,this.data[l+3]=255,2*s+1>=this.width)break;g=this.palette[h],this.data[l+4]=g.blue,this.data[l+4+1]=g.green,this.data[l+4+2]=g.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},eA.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;if(s<this.palette.length){var l=this.palette[s];this.data[o]=l.red,this.data[o+1]=l.green,this.data[o+2]=l.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},eA.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,g=o>>15?255:0,x=n*this.width*4+4*s;this.data[x]=h,this.data[x+1]=u,this.data[x+2]=l,this.data[x+3]=g}this.pos+=r}},eA.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,h=(l>>5&t)/t*255|0,g=(l>>11)/e*255|0,x=s*this.width*4+4*o;this.data[x]=g,this.data[x+1]=h,this.data[x+2]=u,this.data[x+3]=255}this.pos+=r}},eA.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=o,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},eA.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=n,this.data[u+3]=l}},eA.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,s){var o=new eA(e,!1),l=o.width,u=o.height,h={data:o.getData(),width:l,height:u},g=new cy(100).encode(h,100);return r.processJPEG.call(this,g,t,n,s)}})($t.API),T_.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,s){var o=new T_(e),l=o.width,u=o.height,h={data:o.getData(),width:l,height:u},g=new cy(100).encode(h,100);return r.processJPEG.call(this,g,t,n,s)}})($t.API),$t.API.processRGBA=function(r,e,t){for(var n=r.data,s=n.length,o=new Uint8Array(s/4*3),l=new Uint8Array(s/4),u=0,h=0,g=0;g<s;g+=4){var x=n[g],p=n[g+1],v=n[g+2],N=n[g+3];o[u++]=x,o[u++]=p,o[u++]=v,l[h++]=N}var T=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:T,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},$t.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Uh=$t.API,Fp=Uh.getCharWidthsArray=function(r,e){var t,n,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:s.metadata.Unicode.widths,h=u.fof?u.fof:1,g=e.kerning?e.kerning:s.metadata.Unicode.kerning,x=g.fof?g.fof:1,p=e.doKerning!==!1,v=0,N=r.length,T=0,I=u[0]||h,O=[];for(t=0;t<N;t++)n=r.charCodeAt(t),typeof s.metadata.widthOfString=="function"?O.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+l*(1e3/o)||0)/1e3):(v=p&&rn(g[n])==="object"&&!isNaN(parseInt(g[n][T],10))?g[n][T]/x:0,O.push((u[n]||I)/h+v)),T=n;return O},E_=Uh.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Uh.processArabic&&(r=Uh.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,s)/t:Fp.apply(this,arguments).reduce((function(o,l){return o+l}),0)},S_=function(r,e,t,n){for(var s=[],o=0,l=r.length,u=0;o!==l&&u+e[o]<t;)u+=e[o],o++;s.push(r.slice(0,o));var h=o;for(u=0;o!==l;)u+e[o]>n&&(s.push(r.slice(h,o)),u=0,h=o),u+=e[o],o++;return h!==o&&s.push(r.slice(h,o)),s},I_=function(r,e,t){t||(t={});var n,s,o,l,u,h,g,x=[],p=[x],v=t.textIndent||0,N=0,T=0,I=r.split(" "),O=Fp.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?I[0].length+2:t.lineIndent||0){var R=Array(h).join(" "),P=[];I.map((function(se){(se=se.split(/\s*\n/)).length>1?P=P.concat(se.map((function(ae,le){return(le&&ae.length?`
`:"")+ae}))):P.push(se[0])})),I=P,h=E_.apply(this,[R,t])}for(o=0,l=I.length;o<l;o++){var K=0;if(n=I[o],h&&n[0]==`
`&&(n=n.substr(1),K=1),v+N+(T=(s=Fp.apply(this,[n,t])).reduce((function(se,ae){return se+ae}),0))>e||K){if(T>e){for(u=S_.apply(this,[n,s,e-(v+N),e]),x.push(u.shift()),x=[u.pop()];u.length;)p.push([u.shift()]);T=s.slice(n.length-(x[0]?x[0].length:0)).reduce((function(se,ae){return se+ae}),0)}else x=[n];p.push(x),v=T+h,N=O}else x.push(n),v+=N+T,N=O}return g=h?function(se,ae){return(ae?R:"")+se.join(" ")}:function(se){return se.join(" ")},p.map(g)},Uh.splitTextToSize=function(r,e,t){var n,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(x){if(x.widths&&x.kerning)return{widths:x.widths,kerning:x.kerning};var p=this.internal.getFont(x.fontName,x.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var u,h,g=[];for(u=0,h=n.length;u<h;u++)g=g.concat(I_.apply(this,[n[u],l,o]));return g},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},s=0;s<e.length;s++)t[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var o=function(p){return"0x"+parseInt(p,10).toString(16)},l=r.__fontmetrics__.compress=function(p){var v,N,T,I,O=["{"];for(var R in p){if(v=p[R],isNaN(parseInt(R,10))?N="'"+R+"'":(R=parseInt(R,10),N=(N=o(R).slice(2)).slice(0,-1)+n[N.slice(-1)]),typeof v=="number")v<0?(T=o(v).slice(3),I="-"):(T=o(v).slice(2),I=""),T=I+T.slice(0,-1)+n[T.slice(-1)];else{if(rn(v)!=="object")throw new Error("Don't know what to do with value type "+rn(v)+".");T=l(v)}O.push(N+T)}return O.push("}"),O.join("")},u=r.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,N,T,I,O={},R=1,P=O,K=[],se="",ae="",le=p.length-1,U=1;U<le;U+=1)(I=p[U])=="'"?v?(T=v.join(""),v=void 0):v=[]:v?v.push(I):I=="{"?(K.push([P,T]),P={},T=void 0):I=="}"?((N=K.pop())[0][N[1]]=P,T=void 0,P=N[0]):I=="-"?R=-1:T===void 0?t.hasOwnProperty(I)?(se+=t[I],T=parseInt(se,16)*R,R=1,se=""):se+=I:t.hasOwnProperty(I)?(ae+=t[I],P[T]=parseInt(ae,16)*R,R=1,T=void 0,ae=""):ae+=I;return O},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},x={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(p){var v=p.font,N=x.Unicode[v.postScriptName];N&&(v.metadata.Unicode={},v.metadata.Unicode.widths=N.widths,v.metadata.Unicode.kerning=N.kerning);var T=g.Unicode[v.postScriptName];T&&(v.metadata.Unicode.encoding=T,v.encoding=T.codePages[0])}])})($t.API),(function(r){var e=function(t){for(var n=t.length,s=new Uint8Array(n),o=0;o<n;o++)s[o]=t.charCodeAt(o);return s};r.API.events.push(["addFont",function(t){var n=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Ag(u)),l.metadata=r.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,n)}}])})($t),(function(r){function e(){return(Wt.canvg?Promise.resolve(Wt.canvg):Nw(()=>import("./index.es-BskA_p0v.js"),[],import.meta.url)).catch((function(t){return Promise.reject(new Error("Could not load canvg: "+t))})).then((function(t){return t.default?t.default:t}))}$t.API.addSvgAsImage=function(t,n,s,o,l,u,h,g){if(isNaN(n)||isNaN(s))throw fn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(l))throw fn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var x=document.createElement("canvas");x.width=o,x.height=l;var p=x.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,x.width,x.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},N=this;return e().then((function(T){return T.fromString(p,t,v)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(T){return T.render(v)})).then((function(){N.addImage(x.toDataURL("image/jpeg",1),n,s,o,l,h,g)}))}})(),$t.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,t);return this},$t.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,s,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),h=[],g=0,x=0,p=0;function v(T,I){var O,R=!1;for(O=0;O<T.length;O+=1)T[O]===I&&(R=!0);return R}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var N=u.length;for(p=0;p<N;p+=1)t[u[p]].value=t[u[p]].defaultValue,t[u[p]].explicitSet=!1}if(rn(r)==="object"){for(s in r)if(o=r[s],v(u,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&v(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(g=0;g<o.length;g+=1)if(n=!0,o[g].length===1&&typeof o[g][0]=="number")h.push(String(o[g]-1));else if(o[g].length>1){for(x=0;x<o[g].length;x+=1)typeof o[g][x]!="number"&&(n=!1);n===!0&&h.push([o[g][0]-1,o[g][1]-1].join(" "))}t[s].value="["+h.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var T,I=[];for(T in t)t[T].explicitSet===!0&&(t[T].type==="name"?I.push("/"+T+" /"+t[T].value):I.push("/"+T+" "+t[T].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),g=o.length+l.length+u.length+s.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(s+o+l+u+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})($t.API),(function(r){var e=r.API,t=e.pdfEscape16=function(o,l){for(var u,h=l.metadata.Unicode.widths,g=["","0","00","000","0000"],x=[""],p=0,v=o.length;p<v;++p){if(u=l.metadata.characterToGlyph(o.charCodeAt(p)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=o.charCodeAt(p),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return x.join("");u=u.toString(16),x.push(g[4-u.length],u)}return x.join("")},n=function(o){var l,u,h,g,x,p,v;for(x=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],p=0,v=(u=Object.keys(o).sort((function(N,T){return N-T}))).length;p<v;p++)l=u[p],h.length>=100&&(x+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[l]!==void 0&&o[l]!==null&&typeof o[l].toString=="function"&&(g=("0000"+o[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+g+">"));return h.length&&(x+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),x+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(l){var u=l.font,h=l.out,g=l.newObject,x=l.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="Identity-H"){for(var p=u.metadata.Unicode.widths,v=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),N="",T=0;T<v.length;T++)N+=String.fromCharCode(v[T]);var I=g();x({data:N,addLength1:!0,objectId:I}),h("endobj");var O=g();x({data:n(u.metadata.toUnicode),addLength1:!0,objectId:O}),h("endobj");var R=g();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Ph(u.fontName)),h("/FontFile2 "+I+" 0 R"),h("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var P=g();h("<<"),h("/Type /Font"),h("/BaseFont /"+Ph(u.fontName)),h("/FontDescriptor "+R+" 0 R"),h("/W "+r.API.PDFObject.convert(p)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=g(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+O+" 0 R"),h("/BaseFont /"+Ph(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+P+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(l){var u=l.font,h=l.out,g=l.newObject,x=l.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var p=u.metadata.rawData,v="",N=0;N<p.length;N++)v+=String.fromCharCode(p[N]);var T=g();x({data:v,addLength1:!0,objectId:T}),h("endobj");var I=g();x({data:n(u.metadata.toUnicode),addLength1:!0,objectId:I}),h("endobj");var O=g();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+T+" 0 R"),h("/Flags 96"),h("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+Ph(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=g();for(var R=0;R<u.metadata.hmtx.widths.length;R++)u.metadata.hmtx.widths[R]=parseInt(u.metadata.hmtx.widths[R]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+Ph(u.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(o)}]);var s=function(o){var l,u=o.text||"",h=o.x,g=o.y,x=o.options||{},p=o.mutex||{},v=p.pdfEscape,N=p.activeFontKey,T=p.fonts,I=N,O="",R=0,P="",K=T[I].encoding;if(T[I].encoding!=="Identity-H")return{text:u,x:h,y:g,options:x,mutex:p};for(P=u,I=N,Array.isArray(u)&&(P=u[0]),R=0;R<P.length;R+=1)T[I].metadata.hasOwnProperty("cmap")&&(l=T[I].metadata.cmap.unicode.codeMap[P[R].charCodeAt(0)]),l||P[R].charCodeAt(0)<256&&T[I].metadata.hasOwnProperty("Unicode")?O+=P[R]:O+="";var se="";return parseInt(I.slice(1))<14||K==="WinAnsiEncoding"?se=v(O,I).split("").map((function(ae){return ae.charCodeAt(0).toString(16)})).join(""):K==="Identity-H"&&(se=t(O,T[I])),p.isHex=!0,{text:se,x:h,y:g,options:x,mutex:p}};e.events.push(["postProcessText",function(o){var l=o.text||"",u=[],h={text:l,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(l)){var g=0;for(g=0;g<l.length;g+=1)Array.isArray(l[g])&&l[g].length===3?u.push([s(Object.assign({},h,{text:l[g][0]})).text,l[g][1],l[g][2]]):u.push(s(Object.assign({},h,{text:l[g]})).text);o.text=u}else o.text=s(Object.assign({},h,{text:l})).text}])})($t),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})($t.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var s,o,l,u,h,g,x,p=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],N=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],R=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,K=0;this.__bidiEngine__={};var se=function(E){var F=E.charCodeAt(),D=F>>8,$=I[D];return $!==void 0?p[256*$+(255&F)]:D===252||D===253?"AL":R.test(D)?"L":D===8?"R":"N"},ae=function(E){for(var F,D=0;D<E.length;D++){if((F=se(E.charAt(D)))==="L")return!1;if(F==="R")return!0}return!1},le=function(E,F,D,$){var be,te,Y,ie,ge=F[$];switch(ge){case"L":case"R":P=!1;break;case"N":case"AN":break;case"EN":P&&(ge="AN");break;case"AL":P=!0,ge="R";break;case"WS":ge="N";break;case"CS":$<1||$+1>=F.length||(be=D[$-1])!=="EN"&&be!=="AN"||(te=F[$+1])!=="EN"&&te!=="AN"?ge="N":P&&(te="AN"),ge=te===be?te:"N";break;case"ES":ge=(be=$>0?D[$-1]:"B")==="EN"&&$+1<F.length&&F[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&D[$-1]==="EN"){ge="EN";break}if(P){ge="N";break}for(Y=$+1,ie=F.length;Y<ie&&F[Y]==="ET";)Y++;ge=Y<ie&&F[Y]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(ie=F.length,Y=$+1;Y<ie&&F[Y]==="NSM";)Y++;if(Y<ie){var xe=E[$],X=xe>=1425&&xe<=2303||xe===64286;if(be=F[Y],X&&(be==="R"||be==="AL")){ge="R";break}}}ge=$<1||(be=F[$-1])==="B"?"N":D[$-1];break;case"B":P=!1,s=!0,ge=K;break;case"S":o=!0,ge="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"BN":ge="N"}return ge},U=function(E,F,D){var $=E.split("");return D&&S($,D,{hiLevel:K}),$.reverse(),F&&F.reverse(),$.join("")},S=function(E,F,D){var $,be,te,Y,ie,ge=-1,xe=E.length,X=0,L=[],H=K?N:v,J=[];for(P=!1,s=!1,o=!1,be=0;be<xe;be++)J[be]=se(E[be]);for(te=0;te<xe;te++){if(ie=X,L[te]=le(E,J,L,te),$=240&(X=H[ie][T[L[te]]]),X&=15,F[te]=Y=H[X][5],$>0)if($===16){for(be=ge;be<te;be++)F[be]=1;ge=-1}else ge=-1;if(H[X][6])ge===-1&&(ge=te);else if(ge>-1){for(be=ge;be<te;be++)F[be]=Y;ge=-1}J[te]==="B"&&(F[te]=0),D.hiLevel|=Y}o&&(function(ee,he,me){for(var ve=0;ve<me;ve++)if(ee[ve]==="S"){he[ve]=K;for(var Be=ve-1;Be>=0&&ee[Be]==="WS";Be--)he[Be]=K}})(J,F,xe)},M=function(E,F,D,$,be){if(!(be.hiLevel<E)){if(E===1&&K===1&&!s)return F.reverse(),void(D&&D.reverse());for(var te,Y,ie,ge,xe=F.length,X=0;X<xe;){if($[X]>=E){for(ie=X+1;ie<xe&&$[ie]>=E;)ie++;for(ge=X,Y=ie-1;ge<Y;ge++,Y--)te=F[ge],F[ge]=F[Y],F[Y]=te,D&&(te=D[ge],D[ge]=D[Y],D[Y]=te);X=ie}X++}}},z=function(E,F,D){var $=E.split(""),be={hiLevel:K};return D||(D=[]),S($,D,be),(function(te,Y,ie){if(ie.hiLevel!==0&&x)for(var ge,xe=0;xe<te.length;xe++)Y[xe]===1&&(ge=O.indexOf(te[xe]))>=0&&(te[xe]=O[ge+1])})($,D,be),M(2,$,F,D,be),M(1,$,F,D,be),$.join("")};return this.__bidiEngine__.doBidiReorder=function(E,F,D){if((function(be,te){if(te)for(var Y=0;Y<be.length;Y++)te[Y]=Y;u===void 0&&(u=ae(be)),g===void 0&&(g=ae(be))})(E,F),l||!h||g)if(l&&h&&u^g)K=u?1:0,E=U(E,F,D);else if(!l&&h&&g)K=u?1:0,E=z(E,F,D),E=U(E,F);else if(!l||u||h||g){if(l&&!h&&u^g)E=U(E,F),u?(K=0,E=z(E,F,D)):(K=1,E=z(E,F,D),E=U(E,F));else if(l&&u&&!h&&g)K=1,E=z(E,F,D),E=U(E,F);else if(!l&&!h&&u^g){var $=x;u?(K=1,E=z(E,F,D),K=0,x=!1,E=z(E,F,D),x=$):(K=0,E=z(E,F,D),E=U(E,F),K=1,x=!1,E=z(E,F,D),x=$,E=U(E,F))}}else K=0,E=z(E,F,D);else K=u?1:0,E=z(E,F,D);return E},this.__bidiEngine__.setOptions=function(E){E&&(l=E.isInputVisual,h=E.isOutputVisual,u=E.isInputRtl,g=E.isOutputRtl,x=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var s=n.text,o=(n.x,n.y,n.options||{}),l=(n.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var u=0;for(l=[],u=0;u<s.length;u+=1)Object.prototype.toString.call(s[u])==="[object Array]"?l.push([t.doBidiReorder(s[u][0]),s[u][1],s[u][2]]):l.push([t.doBidiReorder(s[u])]);n.text=l}else n.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})($t),$t.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Tu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new KX(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new jX(this.contents),this.head=new UX(this),this.name=new RX(this),this.cmap=new AT(this),this.toUnicode={},this.hhea=new FX(this),this.maxp=new DX(this),this.hmtx=new MX(this),this.post=new LX(this),this.os2=new QX(this),this.loca=new VX(this),this.glyf=new OX(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,h,g;for(g=[],l=0,u=(h=this.bbox).length;l<u;l++)e=h[l],g.push(Math.round(e*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),(32768&(t=s>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var s,o,l,u;for(l=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)s=e.charCodeAt(o),l+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/t)||0;return l*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var fA,Tu=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,s;for(s=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,s,o,l,u,h;return e=this.readByte(),t=this.readByte(),n=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^o)+65536*(255^l)+256*(255^u)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*s+16777216*o+65536*l+256*u+h},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,s,o;for(o=[],n=0,s=e.length;n<s;n++)t=e[n],o.push(this.writeByte(t));return o},r})(),jX=(function(){var r;function e(t){var n,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,s,o,l,u,h,g,x,p,v,N,T,I;for(I in N=Object.keys(t).length,h=Math.log(2),p=16*Math.floor(Math.log(N)/h),l=Math.floor(p/h),x=16*N-p,(s=new Tu).writeInt(this.scalarType),s.writeShort(N),s.writeShort(p),s.writeShort(l),s.writeShort(x),o=16*N,g=s.pos+o,u=null,T=[],t)for(v=t[I],s.writeString(I),s.writeInt(r(v)),s.writeInt(g),s.writeInt(v.length),T=T.concat(v),I==="head"&&(u=g),g+=v.length;g%4;)T.push(0),g++;return s.write(T),n=2981146554-r(s.data),s.pos=u+8,s.writeUInt32(n),s.data},r=function(t){var n,s,o,l;for(t=lT.call(t);t.length%4;)t.push(0);for(o=new Tu(t),s=0,n=0,l=t.length;n<l;n=n+=4)s+=o.readUInt32();return 4294967295&s},e})(),TX={}.hasOwnProperty,gl=function(r,e){for(var t in e)TX.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};fA=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var UX=(function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return gl(e,fA),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Tu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),U_=(function(){function r(e,t){var n,s,o,l,u,h,g,x,p,v,N,T,I,O,R,P,K;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(N=e.readUInt16(),v=N/2,e.pos+=6,o=(function(){var se,ae;for(ae=[],h=se=0;0<=v?se<v:se>v;h=0<=v?++se:--se)ae.push(e.readUInt16());return ae})(),e.pos+=2,I=(function(){var se,ae;for(ae=[],h=se=0;0<=v?se<v:se>v;h=0<=v?++se:--se)ae.push(e.readUInt16());return ae})(),g=(function(){var se,ae;for(ae=[],h=se=0;0<=v?se<v:se>v;h=0<=v?++se:--se)ae.push(e.readUInt16());return ae})(),x=(function(){var se,ae;for(ae=[],h=se=0;0<=v?se<v:se>v;h=0<=v?++se:--se)ae.push(e.readUInt16());return ae})(),s=(this.length-e.pos+this.offset)/2,u=(function(){var se,ae;for(ae=[],h=se=0;0<=s?se<s:se>s;h=0<=s?++se:--se)ae.push(e.readUInt16());return ae})(),h=R=0,K=o.length;R<K;h=++R)for(O=o[h],n=P=T=I[h];T<=O?P<=O:P>=O;n=T<=O?++P:--P)x[h]===0?l=n+g[h]:(l=u[x[h]/2+(n-T)-(v-h)]||0)!==0&&(l+=g[h]),this.codeMap[n]=65535&l}e.pos=p}return r.encode=function(e,t){var n,s,o,l,u,h,g,x,p,v,N,T,I,O,R,P,K,se,ae,le,U,S,M,z,E,F,D,$,be,te,Y,ie,ge,xe,X,L,H,J,ee,he,me,ve,Be,Xe,Re,tt;switch($=new Tu,l=Object.keys(e).sort((function(fe,Me){return fe-Me})),t){case"macroman":for(I=0,O=(function(){var fe=[];for(T=0;T<256;++T)fe.push(0);return fe})(),P={0:0},o={},be=0,ge=l.length;be<ge;be++)P[Be=e[s=l[be]]]==null&&(P[Be]=++I),o[s]={old:e[s],new:P[e[s]]},O[s]=P[e[s]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(O),{charMap:o,subtable:$.data,maxGlyphID:I+1};case"unicode":for(F=[],p=[],K=0,P={},n={},R=g=null,te=0,xe=l.length;te<xe;te++)P[ae=e[s=l[te]]]==null&&(P[ae]=++K),n[s]={old:ae,new:P[ae]},u=P[ae]-s,R!=null&&u===g||(R&&p.push(R),F.push(s),g=u),R=s;for(R&&p.push(R),p.push(65535),F.push(65535),z=2*(M=F.length),S=2*Math.pow(Math.log(M)/Math.LN2,2),v=Math.log(S/2)/Math.LN2,U=2*M-S,h=[],le=[],N=[],T=Y=0,X=F.length;Y<X;T=++Y){if(E=F[T],x=p[T],E===65535){h.push(0),le.push(0);break}if(E-(D=n[E].new)>=32768)for(h.push(0),le.push(2*(N.length+M-T)),s=ie=E;E<=x?ie<=x:ie>=x;s=E<=x?++ie:--ie)N.push(n[s].new);else h.push(D-E),le.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*M+2*N.length),$.writeUInt16(0),$.writeUInt16(z),$.writeUInt16(S),$.writeUInt16(v),$.writeUInt16(U),me=0,L=p.length;me<L;me++)s=p[me],$.writeUInt16(s);for($.writeUInt16(0),ve=0,H=F.length;ve<H;ve++)s=F[ve],$.writeUInt16(s);for(Xe=0,J=h.length;Xe<J;Xe++)u=h[Xe],$.writeUInt16(u);for(Re=0,ee=le.length;Re<ee;Re++)se=le[Re],$.writeUInt16(se);for(tt=0,he=N.length;tt<he;tt++)I=N[tt],$.writeUInt16(I);return{charMap:n,subtable:$.data,maxGlyphID:K+1}}},r})(),AT=(function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return gl(e,fA),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,s,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)n=new U_(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var s,o;return n==null&&(n="macroman"),s=U_.encode(t,n),(o=new Tu).writeUInt16(0),o.writeUInt16(1),s.table=o.data.concat(s.subtable),s},e})(),FX=(function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return gl(e,fA),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),QX=(function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return gl(e,fA),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,s;for(s=[],n=0;n<10;++n)s.push(t.readByte());return s})(),this.charRange=(function(){var n,s;for(s=[],n=0;n<4;++n)s.push(t.readInt());return s})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(t.readInt());return s})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),LX=(function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return gl(e,fA),e.prototype.tag="post",e.prototype.parse=function(t){var n,s,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var l;for(s=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)n=t.readByte(),o.push(this.names.push(t.readString(n)));return o;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=(function(){var u,h,g;for(g=[],l=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;l=0<=h?++u:--u)g.push(t.readUInt32());return g}).call(this)}},e})(),kX=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},RX=(function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return gl(e,fA),e.prototype.tag="name",e.prototype.parse=function(t){var n,s,o,l,u,h,g,x,p,v,N;for(t.pos=this.offset,t.readShort(),n=t.readShort(),h=t.readShort(),s=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(g={},l=p=0,v=s.length;p<v;l=++p)o=s[l],t.pos=o.offset,x=t.readString(o.length),u=new kX(x,o),g[N=o.nameID]==null&&(g[N]=[]),g[o.nameID].push(u);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},e})(),DX=(function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return gl(e,fA),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),MX=(function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return gl(e,fA),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,s,o,l,u,h,g;for(t.pos=this.offset,this.metrics=[],n=0,h=this.file.hhea.numberOfMetrics;0<=h?n<h:n>h;n=0<=h?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var x,p;for(p=[],n=x=0;0<=o?x<o:x>o;n=0<=o?++x:--x)p.push(t.readInt16());return p})(),this.widths=(function(){var x,p,v,N;for(N=[],x=0,p=(v=this.metrics).length;x<p;x++)l=v[x],N.push(l.advance);return N}).call(this),s=this.widths[this.widths.length-1],g=[],n=u=0;0<=o?u<o:u>o;n=0<=o?++u:--u)g.push(this.widths.push(s));return g},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),lT=[].slice,OX=(function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return gl(e,fA),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,s,o,l,u,h,g,x,p,v;return t in this.cache?this.cache[t]:(l=this.file.loca,n=this.file.contents,s=l.indexOf(t),(o=l.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+s,u=(h=new Tu(n.read(o))).readShort(),x=h.readShort(),v=h.readShort(),g=h.readShort(),p=h.readShort(),this.cache[t]=u===-1?new HX(h,x,v,g,p):new PX(h,u,x,v,g,p),this.cache[t]))},e.prototype.encode=function(t,n,s){var o,l,u,h,g;for(u=[],l=[],h=0,g=n.length;h<g;h++)o=t[n[h]],l.push(u.length),o&&(u=u.concat(o.encode(s)));return l.push(u.length),{table:u,offsets:l}},e})(),PX=(function(){function r(e,t,n,s,o,l){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=s,this.xMax=o,this.yMax=l,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),HX=(function(){function r(e,t,n,s,o){var l,u;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Tu(lT.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),VX=(function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return gl(e,fA),e.prototype.tag="loca",e.prototype.parse=function(t){var n,s;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var o,l;for(l=[],s=0,o=this.length;s<o;s+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var o,l;for(l=[],s=0,o=this.length;s<o;s+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var s=new Uint32Array(this.offsets.length),o=0,l=0,u=0;u<s.length;++u)if(s[u]=o,l<n.length&&n[l]==u){++l,s[u]=o;var h=this.offsets[u],g=this.offsets[u+1]-h;g>0&&(o+=g)}for(var x=new Array(4*s.length),p=0;p<s.length;++p)x[4*p+3]=255&s[p],x[4*p+2]=(65280&s[p])>>8,x[4*p+1]=(16711680&s[p])>>16,x[4*p]=(4278190080&s[p])>>24;return x},e})(),KX=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[t],e[t]=s[n];return e},r.prototype.glyphsFor=function(e){var t,n,s,o,l,u,h;for(s={},l=0,u=e.length;l<u;l++)s[o=e[l]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(n=s[o])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(o in h=this.glyphsFor(t))n=h[o],s[o]=n;return s},r.prototype.encode=function(e,t){var n,s,o,l,u,h,g,x,p,v,N,T,I,O,R;for(s in n=AT.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),N={0:0},R=n.charMap)N[(h=R[s]).old]=h.new;for(T in v=n.maxGlyphID,l)T in N||(N[T]=v++);return x=(function(P){var K,se;for(K in se={},P)se[P[K]]=K;return se})(N),p=Object.keys(x).sort((function(P,K){return P-K})),I=(function(){var P,K,se;for(se=[],P=0,K=p.length;P<K;P++)u=p[P],se.push(x[u]);return se})(),o=this.font.glyf.encode(l,I,N),g=this.font.loca.encode(o.offsets,I),O={cmap:this.font.cmap.raw(),glyf:o.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},r})();$t.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,s,o,l;if(Array.isArray(t))return"["+(function(){var u,h,g;for(g=[],u=0,h=t.length;u<h;u++)n=t[u],g.push(e.convert(n));return g})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)l=t[s],o.push("/"+s+" "+e.convert(l));return o.push(">>"),o.join(`
`)}return""+t},e})();const zX=({onNavigate:r})=>{const{user:e}=ro(),[t,n]=ue.useState("MENU"),[s,o]=ue.useState(!1),[l,u]=ue.useState(!1),[h,g]=ue.useState(!1),p=(()=>{if(!(e!=null&&e.isSubscriber)||!e.subscriptionExpiry)return!1;const le=e.subscriptionExpiry.seconds?e.subscriptionExpiry.seconds*1e3:new Date(e.subscriptionExpiry).getTime();return Date.now()<le})()||(e==null?void 0:e.role)==="teacher",[v,N]=ue.useState({grammar:0,vocab:0,reading:0,total:0,overallAvg:0}),[T,I]=ue.useState(!1),O=e?Math.floor((e.totalXP||0)/500)+1:1;ue.useEffect(()=>{p&&R()},[e]);const R=async()=>{I(!0);const le=`etqan_quiz_history_${e==null?void 0:e.uid}`,U=localStorage.getItem(le);if(U)try{const{history:S}=JSON.parse(U);P(S),I(!1);return}catch(S){console.error(S)}try{const S=Ws(tn(sr,"quiz_results"),Js("userId","==",e==null?void 0:e.uid)),z=(await ni(S)).docs.map(E=>E.data());P(z)}catch(S){console.error(S)}finally{I(!1)}},P=le=>{let U=0,S=0,M=0,z=0,E=0,F=0,D=0;le.forEach($=>{$.quizTitle.includes("")||$.quizTitle.includes("Grammar")?(U+=$.percentage,S++):$.quizTitle.includes("")||$.quizTitle.includes("Vocab")?(M+=$.percentage,z++):(E+=$.percentage,F++),D+=$.percentage}),N({grammar:S?Math.round(U/S):0,vocab:z?Math.round(M/z):0,reading:F?Math.round(E/F):0,total:le.length,overallAvg:le.length?Math.round(D/le.length):0})},K=()=>{t!=="MENU"?n("MENU"):r("HOME")},se=()=>{n("CERTIFICATE_PREVIEW")},ae=async()=>{o(!1),g(!0);const le=document.getElementById("certificate-node");if(le)try{const S=(await H6(le,{scale:2})).toDataURL("image/png"),M=new $t("l","mm","a4"),z=M.internal.pageSize.getWidth(),E=M.internal.pageSize.getHeight();M.addImage(S,"PNG",0,0,z,E),M.save(`certificate-${(e==null?void 0:e.displayName)||"student"}.pdf`),u(!0),setTimeout(()=>u(!1),4e3)}catch(U){console.error(U),alert("    ")}finally{g(!1)}else g(!1)};return p?i.jsxs("div",{className:"min-h-screen bg-[#020202] animate-fade-in text-gray-100 pb-20 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-[0.03]"}),i.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-amber-600/5 rounded-full blur-[150px]"}),i.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-[600px] h-[600px] bg-purple-900/5 rounded-full blur-[150px]"})]}),i.jsx("div",{className:"max-w-6xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:K,className:"p-2 bg-gray-900/50 hover:bg-amber-900/20 rounded-xl transition-all text-gray-400 hover:text-amber-400 border border-white/5 hover:border-amber-500/30 shadow-lg backdrop-blur-sm group",children:i.jsx(qr,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5 flex items-center gap-2",children:[" ",i.jsx(Dn,{className:"w-4 h-4 text-amber-500 fill-amber-500"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:()=>r("HOME"),className:"hover:text-amber-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(Cn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsx("span",{className:"text-amber-500 flex items-center gap-1",children:t==="ANALYSIS"?" ":t==="CERTIFICATE_PREVIEW"?" ":" "})]})]})]})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 relative z-10",children:[t==="MENU"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[i.jsxs("button",{onClick:()=>n("ANALYSIS"),className:"group relative w-full bg-[#080808] rounded-[2.5rem] p-8 border border-white/5 hover:border-amber-500/30 transition-all duration-500 shadow-xl overflow-hidden text-right h-64 flex flex-col justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none"}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-gray-800 to-gray-900 border border-amber-500/20 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform duration-500 shadow-[0_0_30px_rgba(0,0,0,0.5)]",children:i.jsx(Qp,{className:"w-10 h-10 text-amber-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black text-white mb-2 group-hover:text-amber-100 transition-colors",children:" "}),i.jsx("p",{className:"text-gray-500 text-sm leading-relaxed font-medium",children:"        "})]})]})]}),i.jsxs("button",{onClick:se,className:"group relative w-full bg-[#080808] rounded-[2.5rem] p-8 border transition-all duration-500 shadow-xl overflow-hidden text-right h-64 flex flex-col justify-center border-white/5 hover:border-emerald-500/30",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none"}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-gray-800 to-gray-900 border flex items-center justify-center shrink-0 transition-transform duration-500 shadow-[0_0_30px_rgba(0,0,0,0.5)] border-emerald-500/20 group-hover:scale-110",children:i.jsx(UF,{className:"w-10 h-10 text-emerald-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black text-white mb-2 group-hover:text-emerald-100 transition-colors",children:" "}),i.jsx("p",{className:"text-gray-500 text-sm leading-relaxed font-medium",children:"      "})]})]})]})]}),t==="ANALYSIS"&&i.jsx("div",{className:"animate-fade-in",children:i.jsxs("div",{className:"bg-[#080808] rounded-[2rem] p-8 md:p-10 border border-white/10 shadow-2xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-amber-500/5 rounded-full blur-[80px] pointer-events-none"}),i.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-10 pb-8 border-b border-white/5 relative z-10",children:[i.jsx("div",{className:"p-3 bg-amber-500/10 rounded-2xl border border-amber-500/20 shadow-inner",children:i.jsx(q_,{className:"w-8 h-8 text-amber-500"})}),i.jsxs("div",{className:"text-center md:text-right",children:[i.jsx("h2",{className:"text-2xl font-black text-white mb-1",children:"  "}),i.jsxs("p",{className:"text-gray-500 text-sm",children:["    ",v.total," "]})]})]}),T?i.jsxs("div",{className:"py-20 text-center flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 border-4 border-amber-500/30 border-t-amber-500 rounded-full animate-spin"}),i.jsx("p",{className:"text-amber-500/80 font-bold text-sm animate-pulse",children:"  ..."})]}):v.total===0?i.jsxs("div",{className:"text-center py-16 bg-white/[0.02] rounded-3xl border border-dashed border-white/10",children:[i.jsx(Qp,{className:"w-12 h-12 mx-auto mb-4 text-gray-600 opacity-50"}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"   "}),i.jsx("p",{className:"text-gray-500 text-sm max-w-xs mx-auto mb-6",children:"      ."}),i.jsx("button",{onClick:()=>r("QUIZZES"),className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2.5 rounded-xl font-bold transition-colors shadow-lg text-sm",children:" "})]}):i.jsxs("div",{className:"space-y-8 relative z-10",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-400",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Mg,{className:"w-3.5 h-3.5 text-blue-400"}),"  (Grammar)"]}),i.jsxs("span",{className:v.grammar<50?"text-red-400":"text-emerald-400",children:[v.grammar,"%"]})]}),i.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${v.grammar<50?"bg-red-500":v.grammar<80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${v.grammar}%`}})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-400",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Ls,{className:"w-3.5 h-3.5 text-purple-400"}),"  (Vocabulary)"]}),i.jsxs("span",{className:v.vocab<50?"text-red-400":"text-emerald-400",children:[v.vocab,"%"]})]}),i.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${v.vocab<50?"bg-red-500":v.vocab<80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${v.vocab}%`}})})]}),i.jsxs("div",{className:"space-y-3 md:col-span-2",children:[i.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-400",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(is,{className:"w-3.5 h-3.5 text-emerald-400"}),"  (Reading)"]}),i.jsxs("span",{className:v.reading<50?"text-red-400":"text-emerald-400",children:[v.reading,"%"]})]}),i.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${v.reading<50?"bg-red-500":v.reading<80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${v.reading}%`}})})]})]}),i.jsxs("div",{className:"mt-8 bg-gradient-to-r from-amber-900/10 to-transparent border-r-2 border-amber-500/50 p-5 rounded-l-xl flex gap-4 items-start",children:[i.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg shrink-0 border border-amber-500/20",children:i.jsx(o1,{className:"w-5 h-5 text-amber-400 fill-amber-400 animate-pulse"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-bold text-white mb-1",children:" :"}),i.jsx("p",{className:"text-gray-400 leading-relaxed text-sm",children:Math.min(v.grammar,v.vocab,v.reading)===v.grammar?"      .         Grammar  .":Math.min(v.grammar,v.vocab,v.reading)===v.vocab?"   .            .":"     .  Reading       ."})]})]})]})]})}),t==="CERTIFICATE_PREVIEW"&&i.jsx("div",{className:"animate-fade-in flex flex-col items-center",children:i.jsxs("div",{className:"w-full max-w-2xl bg-[#080808] rounded-[2.5rem] border border-amber-500/20 shadow-2xl p-8 md:p-12 text-center relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full bg-gradient-to-b from-amber-900/10 to-transparent pointer-events-none"}),i.jsx("div",{className:"absolute -top-24 left-1/2 -translate-x-1/2 w-64 h-64 bg-amber-500/20 rounded-full blur-[80px]"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-amber-300 via-yellow-500 to-amber-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-[0_0_40px_rgba(245,158,11,0.4)] border-4 border-gray-900",children:i.jsx(du,{className:"w-12 h-12 text-white drop-shadow-md"})}),i.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white mb-4 tracking-tight",children:" "}),i.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-8 max-w-lg mx-auto",children:"       .           ."}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("button",{onClick:()=>o(!0),className:"w-full py-4 rounded-xl bg-gradient-to-r from-amber-500 via-yellow-500 to-amber-600 text-white font-black text-lg shadow-lg hover:shadow-amber-500/40 hover:-translate-y-1 transition-all flex items-center justify-center gap-3",children:[i.jsx(hg,{className:"w-6 h-6"}),"  (PDF)"]}),i.jsxs("button",{onClick:()=>n("MENU"),className:"text-gray-500 text-sm font-bold hover:text-white transition-colors flex items-center justify-center gap-2",children:[i.jsx($A,{className:"w-4 h-4"})," "]})]})]})]})})]}),l&&i.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[200] animate-slide-up-fade",children:i.jsxs("div",{className:"bg-emerald-600 text-white px-6 py-4 rounded-2xl shadow-2xl border border-white/10 flex items-center gap-3",children:[i.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:i.jsx(kn,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-sm",children:"   !"}),i.jsx("p",{className:"text-xs text-emerald-100",children:"    ."})]})]})}),s&&i.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center px-4 bg-black/90 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-8 max-w-sm w-full relative z-10 text-center border border-white/10 shadow-2xl shadow-black/50 animate-fade-in-up",children:[i.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 bg-emerald-500/20",children:i.jsx(hg,{className:"w-10 h-10 text-emerald-500"})}),i.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:"        PDF"}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx("button",{onClick:ae,disabled:h,className:"flex-1 bg-gradient-to-r from-emerald-500 to-teal-600 text-white py-3.5 rounded-xl font-bold transition-all shadow-lg shadow-emerald-900/30 transform hover:scale-105 active:scale-95 disabled:opacity-50",children:h?" ...":" "}),i.jsx("button",{onClick:()=>o(!1),disabled:h,className:"flex-1 bg-gray-800 text-gray-300 py-3.5 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-gray-700 disabled:opacity-50",children:""})]})]})}),i.jsx("div",{className:"fixed top-0 left-0 w-0 h-0 overflow-hidden",children:i.jsxs("div",{id:"certificate-node",className:"bg-[#fffef0] text-black relative w-[800px] h-[560px] p-8 shrink-0 shadow-2xl mx-auto",style:{fontFamily:"serif"},children:[i.jsx("div",{className:"absolute inset-4 border-4 border-double border-amber-600 pointer-events-none"}),i.jsx("div",{className:"absolute inset-6 border border-amber-800/30 pointer-events-none"}),i.jsx("div",{className:"absolute top-4 left-4 w-16 h-16 border-t-4 border-l-4 border-amber-700"}),i.jsx("div",{className:"absolute top-4 right-4 w-16 h-16 border-t-4 border-r-4 border-amber-700"}),i.jsx("div",{className:"absolute bottom-4 left-4 w-16 h-16 border-b-4 border-l-4 border-amber-700"}),i.jsx("div",{className:"absolute bottom-4 right-4 w-16 h-16 border-b-4 border-r-4 border-amber-700"}),i.jsx("div",{className:"absolute top-8 left-8 w-24 h-24 border-4 border-double border-red-800/60 rounded-full flex items-center justify-center transform -rotate-12 opacity-80 pointer-events-none",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-[8px] font-bold text-red-900 uppercase tracking-widest mb-1",children:"Etqan Platform"}),i.jsx(rl,{className:"w-6 h-6 text-red-800 mx-auto"}),i.jsx("div",{className:"text-[10px] font-black text-red-900 mt-1",children:""})]})}),i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center relative z-10 space-y-5",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("h1",{className:"text-4xl font-black text-amber-800 mb-2",style:{fontFamily:"Amiri, serif"},children:"  "}),i.jsx("p",{className:"text-gray-600 text-sm tracking-widest uppercase",children:"Etqan Educational Platform"})]}),i.jsx("h2",{className:"text-5xl font-bold text-amber-600",style:{fontFamily:"Great Vibes, cursive"},children:" "}),i.jsx("p",{className:"text-xl text-gray-800 mt-2 max-w-xl leading-relaxed",children:"    /"}),i.jsx("h3",{className:"text-4xl font-black text-black border-b-2 border-amber-500/50 pb-2 px-10 min-w-[300px]",children:e==null?void 0:e.displayName}),i.jsxs("div",{className:"flex items-center justify-center gap-8 py-4 w-full px-12",children:[i.jsxs("div",{className:"text-center border-l-2 border-amber-200 pl-8",children:[i.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:" "}),i.jsxs("p",{className:"text-2xl font-black text-emerald-700",children:[v.overallAvg,"%"]})]}),i.jsxs("div",{className:"text-center border-l-2 border-amber-200 pl-8",children:[i.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:""}),i.jsx("p",{className:"text-xl font-black text-amber-700",children:O})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:" "}),i.jsx("p",{className:"text-2xl font-black text-blue-700",children:v.total})]})]}),i.jsx("p",{className:"text-base text-gray-700 max-w-2xl leading-relaxed font-medium",children:"               ."}),i.jsxs("div",{className:"flex justify-between items-end w-full px-16 mt-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm font-bold text-gray-500 mb-2",children:""}),i.jsx("p",{className:"font-mono font-bold text-base border-b border-gray-400 pb-1",children:new Date().toLocaleDateString("ar-EG")})]}),i.jsxs("div",{className:"text-center relative",children:[i.jsx("div",{className:"w-20 h-20 bg-amber-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg border-4 border-amber-600 border-double absolute -top-8 left-1/2 -translate-x-1/2 opacity-20",children:i.jsx(du,{className:"w-10 h-10"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("p",{className:"text-sm font-bold text-gray-500 mb-1",children:" "}),i.jsx("p",{className:"font-bold text-lg text-amber-800",style:{fontFamily:"Great Vibes, cursive"},children:"Yazan Abu Kahil"}),i.jsx("p",{className:"text-[10px] font-bold text-black mt-0.5",children:".   "})]})]})]})]})]})})]}):i.jsxs("div",{className:"min-h-screen bg-[#050505] animate-fade-in flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-amber-900/20 via-black to-black pointer-events-none"}),i.jsx("div",{className:"absolute top-1/4 left-1/2 -translate-x-1/2 w-96 h-96 bg-amber-600/10 rounded-full blur-[120px]"}),i.jsxs("div",{className:"relative z-10 max-w-lg w-full bg-gray-900/80 backdrop-blur-xl border border-amber-500/30 rounded-[2.5rem] p-8 md:p-12 text-center shadow-2xl shadow-amber-900/20",children:[i.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2",children:i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-300 via-yellow-500 to-amber-600 rounded-full flex items-center justify-center shadow-[0_0_40px_rgba(245,158,11,0.5)] border-4 border-gray-900",children:i.jsx(Bo,{className:"w-8 h-8 text-white drop-shadow-md"})})}),i.jsxs("div",{className:"mt-8 mb-8",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-2 tracking-tight",children:"  VIP"}),i.jsx("p",{className:"text-amber-400 font-medium text-sm",children:"      "})]}),i.jsxs("div",{className:"space-y-4 mb-10 text-right",children:[i.jsxs("div",{className:"flex items-center gap-4 bg-gray-800/50 p-4 rounded-2xl border border-gray-700/50",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/10 flex items-center justify-center shrink-0",children:i.jsx(Qp,{className:"w-5 h-5 text-amber-400"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-bold text-sm",children:"  "}),i.jsx("p",{className:"text-gray-400 text-xs",children:"        ."})]})]}),i.jsxs("div",{className:"flex items-center gap-4 bg-gray-800/50 p-4 rounded-2xl border border-gray-700/50",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/10 flex items-center justify-center shrink-0",children:i.jsx(du,{className:"w-5 h-5 text-amber-400"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-bold text-sm",children:" "}),i.jsx("p",{className:"text-gray-400 text-xs",children:"       ."})]})]})]}),i.jsxs("button",{onClick:()=>r("SERVICES"),className:"w-full py-4 rounded-xl bg-gradient-to-r from-amber-500 via-yellow-500 to-amber-600 text-white font-black text-lg shadow-lg hover:shadow-amber-500/40 hover:-translate-y-1 transition-all flex items-center justify-center gap-2",children:[i.jsx(Dn,{className:"w-5 h-5 fill-white"}),"    "]}),i.jsx("button",{onClick:()=>r("HOME"),className:"mt-6 text-gray-500 text-sm font-bold hover:text-white transition-colors",children:" "})]})]})};function qX(){const[r,e]=ue.useState("HOME"),[t,n]=ue.useState(!1),[s,o]=ue.useState(!1),l=ue.useRef({}),u=ue.useRef(!1),{logout:h}=ro();ue.useEffect(()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0),window.history.replaceState({view:"HOME"},"","");const p=v=>{v.state&&v.state.view?(u.current=!0,e(v.state.view)):(u.current=!0,e("HOME"))};return window.addEventListener("popstate",p),()=>window.removeEventListener("popstate",p)},[]),ue.useEffect(()=>{if(u.current){const p=l.current[r]||0;setTimeout(()=>window.scrollTo(0,p),10)}else window.scrollTo(0,0)},[r]);const g=(p,v=!1)=>{if(p===r){p==="HOME"&&window.scrollTo({top:0,behavior:"smooth"});return}l.current[r]=window.scrollY,u.current=v,window.history.pushState({view:p},"",""),e(p)},x=async()=>{o(!0),setTimeout(async()=>{await h(),o(!1),g("HOME")},2500)};return i.jsxs("div",{className:"min-h-screen flex flex-col relative transition-colors duration-500 bg-gray-950 text-gray-100 selection:bg-emerald-500/30",children:[r==="HOME"&&i.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden bg-gray-950",children:[i.jsx(Ix,{}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/20 via-transparent to-gray-950/40"}),i.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('https://www.transparenttextures.com/patterns/noise.png')]"})]}),s&&i.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-black/90 backdrop-blur-2xl transition-all duration-700 animate-fade-in",children:[i.jsxs("div",{className:"relative scale-150 transform transition-transform duration-700",children:[i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-emerald-500/20 rounded-full blur-[80px] animate-pulse"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 bg-blue-500/10 rounded-full blur-[60px] animate-pulse delay-75"}),i.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center",children:[i.jsx("svg",{className:"w-full h-full absolute inset-0 animate-[spin_3s_linear_infinite] text-emerald-500/20",viewBox:"0 0 100 100",children:i.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeDasharray:"20 10"})}),i.jsx("svg",{className:"w-full h-full absolute inset-0 animate-[spin_2s_linear_infinite_reverse] text-emerald-500/60",viewBox:"0 0 100 100",children:i.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"60 100",strokeLinecap:"round"})}),i.jsx("svg",{className:"w-full h-full absolute inset-0 animate-spin text-blue-500/50",viewBox:"0 0 100 100",children:i.jsx("circle",{cx:"50",cy:"50",r:"32",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"40 40",strokeLinecap:"round"})}),i.jsxs("div",{className:"bg-gray-900 p-4 rounded-full border border-white/10 shadow-2xl relative z-10 animate-bounce-subtle",children:[i.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-md rounded-full"}),i.jsx(fg,{className:"w-8 h-8 text-emerald-400 relative z-20"})]})]})]}),i.jsxs("div",{className:"mt-12 text-center space-y-4 animate-slide-up-fade",children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400 tracking-tight drop-shadow-lg",children:" "}),i.jsxs("div",{className:"flex items-center justify-center gap-3 text-emerald-400 text-sm md:text-base font-bold bg-emerald-950/30 px-6 py-2.5 rounded-full border border-emerald-500/20 shadow-lg backdrop-blur-md",children:[i.jsx(jr,{className:"w-4 h-4 animate-spin"}),"    ..."]})]})]}),i.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[i.jsx(yP,{onLoginClick:()=>n(!0),onNavigate:p=>g(p),onLogoutClick:x}),i.jsxs("main",{className:`flex-grow ${r!=="HOME"&&r!=="SERVICES"?"pt-24":""}`,children:[r==="HOME"&&i.jsxs(i.Fragment,{children:[i.jsx(BP,{onStartQuiz:()=>g("QUIZZES"),onLoginClick:()=>n(!0),onNavigate:p=>g(p)}),i.jsx(CP,{onNavigate:p=>g(p)}),i.jsx(VP,{onLoginClick:()=>n(!0)}),i.jsx(KP,{}),i.jsx(iH,{onNavigate:()=>g("PLATFORM_DEFINITION")}),i.jsx(rH,{}),i.jsx(nH,{onLoginClick:()=>n(!0)}),i.jsx("div",{className:"w-full h-1 bg-gradient-to-r from-transparent via-emerald-500 to-transparent shadow-[0_0_35px_rgba(16,185,129,1)] relative z-20 opacity-100"}),i.jsx(sH,{}),i.jsx("div",{className:"w-full h-0.5 bg-gradient-to-r from-transparent via-emerald-500 to-transparent shadow-[0_0_30px_rgba(16,185,129,1)] relative z-20 opacity-80"}),i.jsx(tH,{onNavigate:p=>g(p)}),i.jsx(hH,{}),i.jsx(lH,{onNavigate:p=>g(p)})]}),r==="ABOUT_PLATFORM"&&i.jsx(RP,{onBack:()=>g("HOME",!0)}),r==="PLATFORM_DEFINITION"&&i.jsx(aH,{onBack:()=>g("HOME",!0)}),r==="TEACHER_CV"&&i.jsx(kP,{onBack:()=>g("HOME",!0)}),r==="PROFILE"&&i.jsx(jP,{onNavigate:p=>g(p)}),r==="TEACHER_DASHBOARD"&&i.jsx(EP,{}),r==="QUESTION_BANK"&&i.jsx(zP,{onBack:()=>g("HOME",!0)}),r==="TEACHER_EXPLANATIONS"&&i.jsx(WP,{onNavigate:p=>g(p),onBack:()=>g("PROFILE",!0)}),r==="TEACHER_UPLOAD_FILES"&&i.jsx(eH,{onNavigate:p=>g(p),onBack:()=>g("PROFILE",!0)}),r==="QUIZZES"&&i.jsx(FP,{onBack:()=>g("HOME",!0),onNavigate:p=>g(p)}),r==="LESSONS"&&i.jsx(DP,{onBack:()=>g("HOME",!0)}),r==="LESSONS_EXPLANATIONS"&&i.jsx(XP,{onBack:()=>g("HOME",!0),onNavigate:p=>g(p)}),r==="CONTACT_TEACHER"&&i.jsx(HP,{onBack:()=>g("HOME",!0)}),r==="SERVICES"&&i.jsx(mH,{onBack:()=>g("HOME",!0)}),r==="TEACHER_CORRESPONDENCE"&&i.jsx(oH,{onNavigate:p=>g(p)}),r==="TEACHER_REVIEWS"&&i.jsx(AH,{onNavigate:p=>g(p)}),r==="SUBSCRIPTION_MANAGEMENT"&&i.jsx(yH,{onBack:()=>g("PROFILE",!0)}),r==="VIP_AREA"&&i.jsx(zX,{onNavigate:p=>g(p)})]}),i.jsx(_P,{isOpen:t,onClose:()=>n(!1)}),i.jsx(gH,{onNavigate:p=>g(p)})]})]})}const cT=document.getElementById("root");if(!cT)throw new Error("Could not find root element to mount to");const GX=E8.createRoot(cT);GX.render(i.jsx(Rw.StrictMode,{children:i.jsx(bP,{children:i.jsx(qX,{})})}));export{rn as _,XX as c,F_ as g};
