(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function tb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},Po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function BE(){if(X1)return Po;X1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:i,key:f,ref:l!==void 0?l:null,props:c}}return Po.Fragment=e,Po.jsx=n,Po.jsxs=n,Po}var Z1;function HE(){return Z1||(Z1=1,vm.exports=BE()),vm.exports}var u=HE(),bm={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function FE(){if(J1)return Ae;J1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),C=Symbol.iterator;function z(k){return k===null||typeof k!="object"?null:(k=C&&k[C]||k["@@iterator"],typeof k=="function"?k:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,B={};function re(k,K,ae){this.props=k,this.context=K,this.refs=B,this.updater=ae||Q}re.prototype.isReactComponent={},re.prototype.setState=function(k,K){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,K,"setState")},re.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ie(){}ie.prototype=re.prototype;function de(k,K,ae){this.props=k,this.context=K,this.refs=B,this.updater=ae||Q}var Ce=de.prototype=new ie;Ce.constructor=de,ee(Ce,re.prototype),Ce.isPureReactComponent=!0;var Ne=Array.isArray;function W(){}var S={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function A(k,K,ae){var ce=ae.ref;return{$$typeof:r,type:k,key:K,ref:ce!==void 0?ce:null,props:ae}}function O(k,K){return A(k.type,K,k.props)}function j(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function M(k){var K={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return K[ae]})}var R=/\/+/g;function Xe(k,K){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):K.toString(36)}function Fe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(W,W):(k.status="pending",k.then(function(K){k.status==="pending"&&(k.status="fulfilled",k.value=K)},function(K){k.status==="pending"&&(k.status="rejected",k.reason=K)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,K,ae,ce,be){var Ee=typeof k;(Ee==="undefined"||Ee==="boolean")&&(k=null);var me=!1;if(k===null)me=!0;else switch(Ee){case"bigint":case"string":case"number":me=!0;break;case"object":switch(k.$$typeof){case r:case e:me=!0;break;case w:return me=k._init,F(me(k._payload),K,ae,ce,be)}}if(me)return be=be(k),me=ce===""?"."+Xe(k,0):ce,Ne(be)?(ae="",me!=null&&(ae=me.replace(R,"$&/")+"/"),F(be,K,ae,"",function(Xs){return Xs})):be!=null&&(j(be)&&(be=O(be,ae+(be.key==null||k&&k.key===be.key?"":(""+be.key).replace(R,"$&/")+"/")+me)),K.push(be)),1;me=0;var $e=ce===""?".":ce+":";if(Ne(k))for(var st=0;st<k.length;st++)ce=k[st],Ee=$e+Xe(ce,st),me+=F(ce,K,ae,Ee,be);else if(st=z(k),typeof st=="function")for(k=st.call(k),st=0;!(ce=k.next()).done;)ce=ce.value,Ee=$e+Xe(ce,st++),me+=F(ce,K,ae,Ee,be);else if(Ee==="object"){if(typeof k.then=="function")return F(Fe(k),K,ae,ce,be);throw K=String(k),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return me}function te(k,K,ae){if(k==null)return k;var ce=[],be=0;return F(k,ce,"","",function(Ee){return K.call(ae,Ee,be++)}),ce}function pe(k){if(k._status===-1){var K=k._result;K=K(),K.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=K)}if(k._status===1)return k._result.default;throw k._result}var Re=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Pe={map:te,forEach:function(k,K,ae){te(k,function(){K.apply(this,arguments)},ae)},count:function(k){var K=0;return te(k,function(){K++}),K},toArray:function(k){return te(k,function(K){return K})||[]},only:function(k){if(!j(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ae.Activity=E,Ae.Children=Pe,Ae.Component=re,Ae.Fragment=n,Ae.Profiler=l,Ae.PureComponent=de,Ae.StrictMode=i,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(k){return S.H.useMemoCache(k)}},Ae.cache=function(k){return function(){return k.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(k,K,ae){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ce=ee({},k.props),be=k.key;if(K!=null)for(Ee in K.key!==void 0&&(be=""+K.key),K)!N.call(K,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&K.ref===void 0||(ce[Ee]=K[Ee]);var Ee=arguments.length-2;if(Ee===1)ce.children=ae;else if(1<Ee){for(var me=Array(Ee),$e=0;$e<Ee;$e++)me[$e]=arguments[$e+2];ce.children=me}return A(k.type,be,ce)},Ae.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Ae.createElement=function(k,K,ae){var ce,be={},Ee=null;if(K!=null)for(ce in K.key!==void 0&&(Ee=""+K.key),K)N.call(K,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=K[ce]);var me=arguments.length-2;if(me===1)be.children=ae;else if(1<me){for(var $e=Array(me),st=0;st<me;st++)$e[st]=arguments[st+2];be.children=$e}if(k&&k.defaultProps)for(ce in me=k.defaultProps,me)be[ce]===void 0&&(be[ce]=me[ce]);return A(k,Ee,be)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(k){return{$$typeof:g,render:k}},Ae.isValidElement=j,Ae.lazy=function(k){return{$$typeof:w,_payload:{_status:-1,_result:k},_init:pe}},Ae.memo=function(k,K){return{$$typeof:x,type:k,compare:K===void 0?null:K}},Ae.startTransition=function(k){var K=S.T,ae={};S.T=ae;try{var ce=k(),be=S.S;be!==null&&be(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(W,Re)}catch(Ee){Re(Ee)}finally{K!==null&&ae.types!==null&&(K.types=ae.types),S.T=K}},Ae.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Ae.use=function(k){return S.H.use(k)},Ae.useActionState=function(k,K,ae){return S.H.useActionState(k,K,ae)},Ae.useCallback=function(k,K){return S.H.useCallback(k,K)},Ae.useContext=function(k){return S.H.useContext(k)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(k,K){return S.H.useDeferredValue(k,K)},Ae.useEffect=function(k,K){return S.H.useEffect(k,K)},Ae.useEffectEvent=function(k){return S.H.useEffectEvent(k)},Ae.useId=function(){return S.H.useId()},Ae.useImperativeHandle=function(k,K,ae){return S.H.useImperativeHandle(k,K,ae)},Ae.useInsertionEffect=function(k,K){return S.H.useInsertionEffect(k,K)},Ae.useLayoutEffect=function(k,K){return S.H.useLayoutEffect(k,K)},Ae.useMemo=function(k,K){return S.H.useMemo(k,K)},Ae.useOptimistic=function(k,K){return S.H.useOptimistic(k,K)},Ae.useReducer=function(k,K,ae){return S.H.useReducer(k,K,ae)},Ae.useRef=function(k){return S.H.useRef(k)},Ae.useState=function(k){return S.H.useState(k)},Ae.useSyncExternalStore=function(k,K,ae){return S.H.useSyncExternalStore(k,K,ae)},Ae.useTransition=function(){return S.H.useTransition()},Ae.version="19.2.0",Ae}var W1;function wg(){return W1||(W1=1,bm.exports=FE()),bm.exports}var ne=wg();const GE=tb(ne);var _m={exports:{}},Uo={},wm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex;function QE(){return ex||(ex=1,(function(r){function e(F,te){var pe=F.length;F.push(te);e:for(;0<pe;){var Re=pe-1>>>1,Pe=F[Re];if(0<l(Pe,te))F[Re]=te,F[pe]=Pe,pe=Re;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var te=F[0],pe=F.pop();if(pe!==te){F[0]=pe;e:for(var Re=0,Pe=F.length,k=Pe>>>1;Re<k;){var K=2*(Re+1)-1,ae=F[K],ce=K+1,be=F[ce];if(0>l(ae,pe))ce<Pe&&0>l(be,ae)?(F[Re]=be,F[ce]=pe,Re=ce):(F[Re]=ae,F[K]=pe,Re=K);else if(ce<Pe&&0>l(be,pe))F[Re]=be,F[ce]=pe,Re=ce;else break e}}return te}function l(F,te){var pe=F.sortIndex-te.sortIndex;return pe!==0?pe:F.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],x=[],w=1,E=null,C=3,z=!1,Q=!1,ee=!1,B=!1,re=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function Ce(F){for(var te=n(x);te!==null;){if(te.callback===null)i(x);else if(te.startTime<=F)i(x),te.sortIndex=te.expirationTime,e(p,te);else break;te=n(x)}}function Ne(F){if(ee=!1,Ce(F),!Q)if(n(p)!==null)Q=!0,W||(W=!0,M());else{var te=n(x);te!==null&&Fe(Ne,te.startTime-F)}}var W=!1,S=-1,N=5,A=-1;function O(){return B?!0:!(r.unstable_now()-A<N)}function j(){if(B=!1,W){var F=r.unstable_now();A=F;var te=!0;try{e:{Q=!1,ee&&(ee=!1,ie(S),S=-1),z=!0;var pe=C;try{t:{for(Ce(F),E=n(p);E!==null&&!(E.expirationTime>F&&O());){var Re=E.callback;if(typeof Re=="function"){E.callback=null,C=E.priorityLevel;var Pe=Re(E.expirationTime<=F);if(F=r.unstable_now(),typeof Pe=="function"){E.callback=Pe,Ce(F),te=!0;break t}E===n(p)&&i(p),Ce(F)}else i(p);E=n(p)}if(E!==null)te=!0;else{var k=n(x);k!==null&&Fe(Ne,k.startTime-F),te=!1}}break e}finally{E=null,C=pe,z=!1}te=void 0}}finally{te?M():W=!1}}}var M;if(typeof de=="function")M=function(){de(j)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Xe=R.port2;R.port1.onmessage=j,M=function(){Xe.postMessage(null)}}else M=function(){re(j,0)};function Fe(F,te){S=re(function(){F(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(F){switch(C){case 1:case 2:case 3:var te=3;break;default:te=C}var pe=C;C=te;try{return F()}finally{C=pe}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var pe=C;C=F;try{return te()}finally{C=pe}},r.unstable_scheduleCallback=function(F,te,pe){var Re=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Re+pe:Re):pe=Re,F){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=pe+Pe,F={id:w++,callback:te,priorityLevel:F,startTime:pe,expirationTime:Pe,sortIndex:-1},pe>Re?(F.sortIndex=pe,e(x,F),n(p)===null&&F===n(x)&&(ee?(ie(S),S=-1):ee=!0,Fe(Ne,pe-Re))):(F.sortIndex=Pe,e(p,F),Q||z||(Q=!0,W||(W=!0,M()))),F},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(F){var te=C;return function(){var pe=C;C=te;try{return F.apply(this,arguments)}finally{C=pe}}}})(Em)),Em}var tx;function $E(){return tx||(tx=1,wm.exports=QE()),wm.exports}var Tm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx;function KE(){if(nx)return nn;nx=1;var r=wg();function e(p){var x="https://react.dev/errors/"+p;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)x+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+p+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,x,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:p,containerInfo:x,implementation:w}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,x){if(p==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nn.createPortal=function(p,x){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return c(p,x,null,w)},nn.flushSync=function(p){var x=f.T,w=i.p;try{if(f.T=null,i.p=2,p)return p()}finally{f.T=x,i.p=w,i.d.f()}},nn.preconnect=function(p,x){typeof p=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(p,x))},nn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},nn.preinit=function(p,x){if(typeof p=="string"&&x&&typeof x.as=="string"){var w=x.as,E=g(w,x.crossOrigin),C=typeof x.integrity=="string"?x.integrity:void 0,z=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;w==="style"?i.d.S(p,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:E,integrity:C,fetchPriority:z}):w==="script"&&i.d.X(p,{crossOrigin:E,integrity:C,fetchPriority:z,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},nn.preinitModule=function(p,x){if(typeof p=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var w=g(x.as,x.crossOrigin);i.d.M(p,{crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(p)},nn.preload=function(p,x){if(typeof p=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var w=x.as,E=g(w,x.crossOrigin);i.d.L(p,w,{crossOrigin:E,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},nn.preloadModule=function(p,x){if(typeof p=="string")if(x){var w=g(x.as,x.crossOrigin);i.d.m(p,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(p)},nn.requestFormReset=function(p){i.d.r(p)},nn.unstable_batchedUpdates=function(p,x){return p(x)},nn.useFormState=function(p,x,w){return f.H.useFormState(p,x,w)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var sx;function YE(){if(sx)return Tm.exports;sx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Tm.exports=KE(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function XE(){if(rx)return Uo;rx=1;var r=$E(),e=wg(),n=YE();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(i(188))}function x(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,o=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){a=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return p(d),t;if(m===o)return p(d),s;m=m.sibling}throw Error(i(188))}if(a.return!==o.return)a=d,o=m;else{for(var v=!1,_=d.child;_;){if(_===a){v=!0,a=d,o=m;break}if(_===o){v=!0,o=d,a=m;break}_=_.sibling}if(!v){for(_=m.child;_;){if(_===a){v=!0,a=m,o=d;break}if(_===o){v=!0,o=m,a=d;break}_=_.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==o)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function w(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=w(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,C=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),de=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case re:return"Profiler";case B:return"StrictMode";case Ne:return"Suspense";case W:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case de:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case Ce:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return s=t.displayName||null,s!==null?s:Xe(t.type)||"Memo";case N:s=t._payload,t=t._init;try{return Xe(t(s))}catch{}}return null}var Fe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Re=[],Pe=-1;function k(t){return{current:t}}function K(t){0>Pe||(t.current=Re[Pe],Re[Pe]=null,Pe--)}function ae(t,s){Pe++,Re[Pe]=t.current,t.current=s}var ce=k(null),be=k(null),Ee=k(null),me=k(null);function $e(t,s){switch(ae(Ee,s),ae(be,t),ae(ce,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?v1(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=v1(s),t=b1(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ce),ae(ce,t)}function st(){K(ce),K(be),K(Ee)}function Xs(t){t.memoizedState!==null&&ae(me,t);var s=ce.current,a=b1(s,t.type);s!==a&&(ae(be,t),ae(ce,a))}function Zs(t){be.current===t&&(K(ce),K(be)),me.current===t&&(K(me),Oo._currentValue=pe)}var Ir,Js;function kn(t){if(Ir===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ir=s&&s[1]||"",Js=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ir+t+Js}var ji=!1;function Dn(t,s){if(!t||ji)return"";ji=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var q=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){q=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){q=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),v=m[0],_=m[1];if(v&&_){var I=v.split(`
`),U=_.split(`
`);for(d=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;if(o===I.length||d===U.length)for(o=I.length-1,d=U.length-1;1<=o&&0<=d&&I[o]!==U[d];)d--;for(;1<=o&&0<=d;o--,d--)if(I[o]!==U[d]){if(o!==1||d!==1)do if(o--,d--,0>d||I[o]!==U[d]){var $=`
`+I[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=d);break}}}finally{ji=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?kn(a):""}function ki(t,s){switch(t.tag){case 26:case 27:case 5:return kn(t.type);case 16:return kn("Lazy");case 13:return t.child!==s&&s!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return Dn(t.type,!1);case 11:return Dn(t.type.render,!1);case 1:return Dn(t.type,!0);case 31:return kn("Activity");default:return""}}function Di(t){try{var s="",a=null;do s+=ki(t,a),a=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var yt=Object.prototype.hasOwnProperty,wt=r.unstable_scheduleCallback,ps=r.unstable_cancelCallback,ue=r.unstable_shouldYield,De=r.unstable_requestPaint,Oe=r.unstable_now,Me=r.unstable_getCurrentPriorityLevel,ct=r.unstable_ImmediatePriority,tn=r.unstable_UserBlockingPriority,Gt=r.unstable_NormalPriority,On=r.unstable_LowPriority,ys=r.unstable_IdlePriority,Ws=r.log,Sc=r.unstable_setDisableYieldValue,Wn=null,Qt=null;function Mn(t){if(typeof Ws=="function"&&Sc(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Wn,t)}catch{}}var Et=Math.clz32?Math.clz32:Rc,Cc=Math.log,Ta=Math.LN2;function Rc(t){return t>>>=0,t===0?32:31-(Cc(t)/Ta|0)|0}var xs=256,Oi=262144,Ct=4194304;function vs(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bs(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var d=0,m=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var _=o&134217727;return _!==0?(o=_&~m,o!==0?d=vs(o):(v&=_,v!==0?d=vs(v):a||(a=_&~t,a!==0&&(d=vs(a))))):(_=o&~m,_!==0?d=vs(_):v!==0?d=vs(v):a||(a=o&~t,a!==0&&(d=vs(a)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:d}function es(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function wd(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ic(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function _s(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Mi(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ed(t,s,a,o,d,m){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var _=t.entanglements,I=t.expirationTimes,U=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-Et(a),Z=1<<$;_[$]=0,I[$]=-1;var q=U[$];if(q!==null)for(U[$]=null,$=0;$<q.length;$++){var G=q[$];G!==null&&(G.lane&=-536870913)}a&=~Z}o!==0&&Vi(t,o,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(v&~s))}function Vi(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-Et(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Pl(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-Et(a),d=1<<o;d&s|t[o]&s&&(t[o]|=s),a&=~d}}function Ul(t,s){var a=s&-s;return a=(a&42)!==0?1:Li(a),(a&(t.suspendedLanes|s))!==0?0:a}function Li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function er(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function jc(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:H1(t.type))}function ts(t,s){var a=te.p;try{return te.p=t,s()}finally{te.p=a}}var ns=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ns,qt="__reactProps$"+ns,ws="__reactContainer$"+ns,Na="__reactEvents$"+ns,Td="__reactListeners$"+ns,kc="__reactHandles$"+ns,Dc="__reactResources$"+ns,Es="__reactMarker$"+ns;function Aa(t){delete t[Rt],delete t[qt],delete t[Na],delete t[Td],delete t[kc]}function Ts(t){var s=t[Rt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[ws]||a[Rt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=S1(t);t!==null;){if(a=t[Rt])return a;t=S1(t)}return s}t=a,a=t.parentNode}return null}function Vn(t){if(t=t[Rt]||t[ws]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function _n(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function Ns(t){var s=t[Dc];return s||(s=t[Dc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function It(t){t[Es]=!0}var zl=new Set,ql={};function As(t,s){Ss(t,s),Ss(t+"Capture",s)}function Ss(t,s){for(ql[t]=s,t=0;t<s.length;t++)zl.add(s[t])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},Fl={};function Oc(t){return yt.call(Fl,t)?!0:yt.call(Hl,t)?!1:Bl.test(t)?Fl[t]=!0:(Hl[t]=!0,!1)}function Sa(t,s,a){if(Oc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function wn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function jt(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jr(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Gl(t,s,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,m.call(this,v)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function et(t){if(!t._valueTracker){var s=jr(t)?"checked":"value";t._valueTracker=Gl(t,s,""+t[s])}}function Pi(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=jr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function Cs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ui=/[\n"\\]/g;function hn(t){return t.replace(Ui,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ca(t,s,a,o,d,m,v,_){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Bt(s)):t.value!==""+Bt(s)&&(t.value=""+Bt(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?Ql(t,v,Bt(s)):a!=null?Ql(t,v,Bt(a)):o!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Bt(_):t.removeAttribute("name")}function Mc(t,s,a,o,d,m,v,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){et(t);return}a=a!=null?""+Bt(a):"",s=s!=null?""+Bt(s):a,_||s===t.value||(t.value=s),t.defaultValue=s}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=_?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),et(t)}function Ql(t,s,a){s==="number"&&Cs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kr(t,s,a,o){if(t=t.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=s.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),s=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function Vc(t,s,a){if(s!=null&&(s=""+Bt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Bt(a):""}function Dr(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(i(92));if(Fe(o)){if(1<o.length)throw Error(i(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=Bt(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),et(t)}function dn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $l(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||Lc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Kl(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in s)o=s[d],s.hasOwnProperty(d)&&a[d]!==o&&$l(t,d,o)}else for(var m in s)s.hasOwnProperty(m)&&$l(t,m,s[m])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Or.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ss(){}var Yl=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mr=null,Rs=null;function zi(t){var s=Vn(t);if(s&&(t=s.stateNode)){var a=t[qt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var d=o[qt]||null;if(!d)throw Error(i(90));Ca(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&Pi(o)}break e;case"textarea":Vc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&kr(t,!!a.multiple,s,!1)}}}var ja=!1;function Vr(t,s,a){if(ja)return t(s,a);ja=!0;try{var o=t(s);return o}finally{if(ja=!1,(Mr!==null||Rs!==null)&&(ju(),Mr&&(s=Mr,t=Rs,Rs=Mr=null,zi(s),t)))for(s=0;s<t.length;s++)zi(t[s])}}function rs(t,s){var a=t.stateNode;if(a===null)return null;var o=a[qt]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qi=!1;if(Pn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){qi=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{qi=!1}var Is=null,Xl=null,Bi=null;function Zl(){if(Bi)return Bi;var t,s=Xl,a=s.length,o,d="value"in Is?Is.value:Is.textContent,m=d.length;for(t=0;t<a&&s[t]===d[t];t++);var v=a-t;for(o=1;o<=v&&s[a-o]===d[m-o];o++);return Bi=d.slice(t,1<o?1-o:void 0)}function Hi(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function tr(){return!0}function is(){return!1}function $t(t){function s(a,o,d,m,v){this._reactName=a,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(a=t[_],this[_]=a?a(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?tr:is,this.isPropagationStopped=is,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),s}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=$t(nr),Lr=E({},nr,{view:0,detail:0}),Jl=$t(Lr),Pr,ka,ks,Da=E({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ur,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ks&&(ks&&t.type==="mousemove"?(Pr=t.screenX-ks.screenX,ka=t.screenY-ks.screenY):ka=Pr=0,ks=t),Pr)},movementY:function(t){return"movementY"in t?t.movementY:ka}}),Wl=$t(Da),Fi=E({},Da,{dataTransfer:0}),Uc=$t(Fi),zc=E({},Lr,{relatedTarget:0}),Gi=$t(zc),eo=E({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),qc=$t(eo),Oa=E({},nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bc=$t(Oa),Hc=E({},nr,{data:0}),Ds=$t(Hc),Fc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $c(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Qc[t])?!!s[t]:!1}function Ur(){return $c}var on=E({},Lr,{key:function(t){if(t.key){var s=Fc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Hi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ur,charCode:function(t){return t.type==="keypress"?Hi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kc=$t(on),Yc=E({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sr=$t(Yc),h=E({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ur}),y=$t(h),b=E({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=$t(b),L=E({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=$t(L),se=E({},nr,{newState:0,oldState:0}),Ie=$t(se),Tt=[9,13,27,32],Ze=Pn&&"CompositionEvent"in window,mt=null;Pn&&"documentMode"in document&&(mt=document.documentMode);var Un=Pn&&"TextEvent"in window&&!mt,Os=Pn&&(!Ze||mt&&8<mt&&11>=mt),as=" ",ls=!1;function Qi(t,s){switch(t){case"keyup":return Tt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function dw(t,s){switch(t){case"compositionend":return Ma(s);case"keypress":return s.which!==32?null:(ls=!0,as);case"textInput":return t=s.data,t===as&&ls?null:t;default:return null}}function fw(t,s){if(Va)return t==="compositionend"||!Ze&&Qi(t,s)?(t=Zl(),Bi=Xl=Is=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Os&&s.locale!=="ko"?null:s.data;default:return null}}var mw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!mw[t.type]:s==="textarea"}function jp(t,s,a,o){Mr?Rs?Rs.push(o):Rs=[o]:Mr=o,s=Pu(s,"onChange"),0<s.length&&(a=new js("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var to=null,no=null;function gw(t){f1(t,0)}function Xc(t){var s=_n(t);if(Pi(s))return t}function kp(t,s){if(t==="change")return s}var Dp=!1;if(Pn){var Nd;if(Pn){var Ad="oninput"in document;if(!Ad){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Ad=typeof Op.oninput=="function"}Nd=Ad}else Nd=!1;Dp=Nd&&(!document.documentMode||9<document.documentMode)}function Mp(){to&&(to.detachEvent("onpropertychange",Vp),no=to=null)}function Vp(t){if(t.propertyName==="value"&&Xc(no)){var s=[];jp(s,no,t,Ln(t)),Vr(gw,s)}}function pw(t,s,a){t==="focusin"?(Mp(),to=s,no=a,to.attachEvent("onpropertychange",Vp)):t==="focusout"&&Mp()}function yw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xc(no)}function xw(t,s){if(t==="click")return Xc(s)}function vw(t,s){if(t==="input"||t==="change")return Xc(s)}function bw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var En=typeof Object.is=="function"?Object.is:bw;function so(t,s){if(En(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var d=a[o];if(!yt.call(s,d)||!En(t[d],s[d]))return!1}return!0}function Lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,s){var a=Lp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lp(a)}}function Up(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Up(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Cs(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Cs(t.document)}return s}function Sd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var _w=Pn&&"documentMode"in document&&11>=document.documentMode,La=null,Cd=null,ro=null,Rd=!1;function qp(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rd||La==null||La!==Cs(o)||(o=La,"selectionStart"in o&&Sd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ro&&so(ro,o)||(ro=o,o=Pu(Cd,"onSelect"),0<o.length&&(s=new js("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=La)))}function $i(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Pa={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},Id={},Bp={};Pn&&(Bp=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Ki(t){if(Id[t])return Id[t];if(!Pa[t])return t;var s=Pa[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Bp)return Id[t]=s[a];return t}var Hp=Ki("animationend"),Fp=Ki("animationiteration"),Gp=Ki("animationstart"),ww=Ki("transitionrun"),Ew=Ki("transitionstart"),Tw=Ki("transitioncancel"),Qp=Ki("transitionend"),$p=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function os(t,s){$p.set(t,s),As(s,[t])}var Zc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Ua=0,kd=0;function Jc(){for(var t=Ua,s=kd=Ua=0;s<t;){var a=zn[s];zn[s++]=null;var o=zn[s];zn[s++]=null;var d=zn[s];zn[s++]=null;var m=zn[s];if(zn[s++]=null,o!==null&&d!==null){var v=o.pending;v===null?d.next=d:(d.next=v.next,v.next=d),o.pending=d}m!==0&&Kp(a,d,m)}}function Wc(t,s,a,o){zn[Ua++]=t,zn[Ua++]=s,zn[Ua++]=a,zn[Ua++]=o,kd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Dd(t,s,a,o){return Wc(t,s,a,o),eu(t)}function Yi(t,s){return Wc(t,null,null,s),eu(t)}function Kp(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&s!==null&&(d=31-Et(a),t=m.hiddenUpdates,o=t[d],o===null?t[d]=[s]:o.push(s),s.lane=a|536870912),m):null}function eu(t){if(50<So)throw So=0,Hf=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var za={};function Nw(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,s,a,o){return new Nw(t,s,a,o)}function Od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rr(t,s){var a=t.alternate;return a===null?(a=Tn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Yp(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function tu(t,s,a,o,d,m){var v=0;if(o=t,typeof t=="function")Od(t)&&(v=1);else if(typeof t=="string")v=IE(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=Tn(31,a,s,d),t.elementType=A,t.lanes=m,t;case ee:return Xi(a.children,d,m,s);case B:v=8,d|=24;break;case re:return t=Tn(12,a,s,d|2),t.elementType=re,t.lanes=m,t;case Ne:return t=Tn(13,a,s,d),t.elementType=Ne,t.lanes=m,t;case W:return t=Tn(19,a,s,d),t.elementType=W,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case de:v=10;break e;case ie:v=9;break e;case Ce:v=11;break e;case S:v=14;break e;case N:v=16,o=null;break e}v=29,a=Error(i(130,t===null?"null":typeof t,"")),o=null}return s=Tn(v,a,s,d),s.elementType=t,s.type=o,s.lanes=m,s}function Xi(t,s,a,o){return t=Tn(7,t,o,s),t.lanes=a,t}function Md(t,s,a){return t=Tn(6,t,null,s),t.lanes=a,t}function Xp(t){var s=Tn(18,null,null,0);return s.stateNode=t,s}function Vd(t,s,a){return s=Tn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Zp=new WeakMap;function qn(t,s){if(typeof t=="object"&&t!==null){var a=Zp.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Di(s)},Zp.set(t,s),s)}return{value:t,source:s,stack:Di(s)}}var qa=[],Ba=0,nu=null,io=0,Bn=[],Hn=0,zr=null,Ms=1,Vs="";function ir(t,s){qa[Ba++]=io,qa[Ba++]=nu,nu=t,io=s}function Jp(t,s,a){Bn[Hn++]=Ms,Bn[Hn++]=Vs,Bn[Hn++]=zr,zr=t;var o=Ms;t=Vs;var d=32-Et(o)-1;o&=~(1<<d),a+=1;var m=32-Et(s)+d;if(30<m){var v=d-d%5;m=(o&(1<<v)-1).toString(32),o>>=v,d-=v,Ms=1<<32-Et(s)+d|a<<d|o,Vs=m+t}else Ms=1<<m|a<<d|o,Vs=t}function Ld(t){t.return!==null&&(ir(t,1),Jp(t,1,0))}function Pd(t){for(;t===nu;)nu=qa[--Ba],qa[Ba]=null,io=qa[--Ba],qa[Ba]=null;for(;t===zr;)zr=Bn[--Hn],Bn[Hn]=null,Vs=Bn[--Hn],Bn[Hn]=null,Ms=Bn[--Hn],Bn[Hn]=null}function Wp(t,s){Bn[Hn++]=Ms,Bn[Hn++]=Vs,Bn[Hn++]=zr,Ms=s.id,Vs=s.overflow,zr=t}var Kt=null,ht=null,Ge=!1,qr=null,Fn=!1,Ud=Error(i(519));function Br(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ao(qn(s,t)),Ud}function e0(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[Rt]=t,s[qt]=o,a){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(a=0;a<Ro.length;a++)Le(Ro[a],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),Mc(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),Dr(s,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||y1(s.textContent,a)?(o.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),o.onScroll!=null&&Le("scroll",s),o.onScrollEnd!=null&&Le("scrollend",s),o.onClick!=null&&(s.onclick=ss),s=!0):s=!1,s||Br(t,!0)}function t0(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Kt=Kt.return}}function Ha(t){if(t!==Kt)return!1;if(!Ge)return t0(t),Ge=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||rm(t.type,t.memoizedProps)),a=!a),a&&ht&&Br(t),t0(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ht=A1(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ht=A1(t)}else s===27?(s=ht,ni(t.type)?(t=cm,cm=null,ht=t):ht=s):ht=Kt?Qn(t.stateNode.nextSibling):null;return!0}function Zi(){ht=Kt=null,Ge=!1}function zd(){var t=qr;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),qr=null),t}function ao(t){qr===null?qr=[t]:qr.push(t)}var qd=k(null),Ji=null,ar=null;function Hr(t,s,a){ae(qd,s._currentValue),s._currentValue=a}function lr(t){t._currentValue=qd.current,K(qd)}function Bd(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function Hd(t,s,a,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var v=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var I=0;I<s.length;I++)if(_.context===s[I]){m.lanes|=a,_=m.alternate,_!==null&&(_.lanes|=a),Bd(m.return,a,t),o||(v=null);break e}m=_.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),Bd(v,a,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Fa(t,s,a,o){t=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var _=d.type;En(d.pendingProps.value,v.value)||(t!==null?t.push(_):t=[_])}}else if(d===me.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Oo):t=[Oo])}d=d.return}t!==null&&Hd(s,t,a,o),s.flags|=262144}function su(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Wi(t){Ji=t,ar=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return n0(Ji,t)}function ru(t,s){return Ji===null&&Wi(t),n0(t,s)}function n0(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ar===null){if(t===null)throw Error(i(308));ar=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ar=ar.next=s;return a}var Aw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Sw=r.unstable_scheduleCallback,Cw=r.unstable_NormalPriority,kt={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fd(){return{controller:new Aw,data:new Map,refCount:0}}function lo(t){t.refCount--,t.refCount===0&&Sw(Cw,function(){t.controller.abort()})}var oo=null,Gd=0,Ga=0,Qa=null;function Rw(t,s){if(oo===null){var a=oo=[];Gd=0,Ga=Yf(),Qa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Gd++,s.then(s0,s0),s}function s0(){if(--Gd===0&&oo!==null){Qa!==null&&(Qa.status="fulfilled");var t=oo;oo=null,Ga=0,Qa=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Iw(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(o.status="rejected",o.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),o}var r0=F.S;F.S=function(t,s){qy=Oe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Rw(t,s),r0!==null&&r0(t,s)};var ea=k(null);function Qd(){var t=ea.current;return t!==null?t:ot.pooledCache}function iu(t,s){s===null?ae(ea,ea.current):ae(ea,s.pool)}function i0(){var t=Qd();return t===null?null:{parent:kt._currentValue,pool:t}}var $a=Error(i(460)),$d=Error(i(474)),au=Error(i(542)),lu={then:function(){}};function a0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function l0(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(ss,ss),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,c0(t),t;default:if(typeof s.status=="string")s.then(ss,ss);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=o}},function(o){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,c0(t),t}throw na=s,$a}}function ta(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(na=a,$a):a}}var na=null;function o0(){if(na===null)throw Error(i(459));var t=na;return na=null,t}function c0(t){if(t===$a||t===au)throw Error(i(483))}var Ka=null,co=0;function ou(t){var s=co;return co+=1,Ka===null&&(Ka=[]),l0(Ka,t,s)}function uo(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function cu(t,s){throw s.$$typeof===C?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function u0(t){function s(V,D){if(t){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function a(V,D){if(!t)return null;for(;D!==null;)s(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function d(V,D){return V=rr(V,D),V.index=0,V.sibling=null,V}function m(V,D,P){return V.index=P,t?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function v(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function _(V,D,P,Y){return D===null||D.tag!==6?(D=Md(P,V.mode,Y),D.return=V,D):(D=d(D,P),D.return=V,D)}function I(V,D,P,Y){var ye=P.type;return ye===ee?$(V,D,P.props.children,Y,P.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&ta(ye)===D.type)?(D=d(D,P.props),uo(D,P),D.return=V,D):(D=tu(P.type,P.key,P.props,null,V.mode,Y),uo(D,P),D.return=V,D)}function U(V,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Vd(P,V.mode,Y),D.return=V,D):(D=d(D,P.children||[]),D.return=V,D)}function $(V,D,P,Y,ye){return D===null||D.tag!==7?(D=Xi(P,V.mode,Y,ye),D.return=V,D):(D=d(D,P),D.return=V,D)}function Z(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Md(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case z:return P=tu(D.type,D.key,D.props,null,V.mode,P),uo(P,D),P.return=V,P;case Q:return D=Vd(D,V.mode,P),D.return=V,D;case N:return D=ta(D),Z(V,D,P)}if(Fe(D)||M(D))return D=Xi(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return Z(V,ou(D),P);if(D.$$typeof===de)return Z(V,ru(V,D),P);cu(V,D)}return null}function q(V,D,P,Y){var ye=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:_(V,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case z:return P.key===ye?I(V,D,P,Y):null;case Q:return P.key===ye?U(V,D,P,Y):null;case N:return P=ta(P),q(V,D,P,Y)}if(Fe(P)||M(P))return ye!==null?null:$(V,D,P,Y,null);if(typeof P.then=="function")return q(V,D,ou(P),Y);if(P.$$typeof===de)return q(V,D,ru(V,P),Y);cu(V,P)}return null}function G(V,D,P,Y,ye){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(P)||null,_(D,V,""+Y,ye);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case z:return V=V.get(Y.key===null?P:Y.key)||null,I(D,V,Y,ye);case Q:return V=V.get(Y.key===null?P:Y.key)||null,U(D,V,Y,ye);case N:return Y=ta(Y),G(V,D,P,Y,ye)}if(Fe(Y)||M(Y))return V=V.get(P)||null,$(D,V,Y,ye,null);if(typeof Y.then=="function")return G(V,D,P,ou(Y),ye);if(Y.$$typeof===de)return G(V,D,P,ru(D,Y),ye);cu(D,Y)}return null}function fe(V,D,P,Y){for(var ye=null,Ke=null,ge=D,ke=D=0,ze=null;ge!==null&&ke<P.length;ke++){ge.index>ke?(ze=ge,ge=null):ze=ge.sibling;var Ye=q(V,ge,P[ke],Y);if(Ye===null){ge===null&&(ge=ze);break}t&&ge&&Ye.alternate===null&&s(V,ge),D=m(Ye,D,ke),Ke===null?ye=Ye:Ke.sibling=Ye,Ke=Ye,ge=ze}if(ke===P.length)return a(V,ge),Ge&&ir(V,ke),ye;if(ge===null){for(;ke<P.length;ke++)ge=Z(V,P[ke],Y),ge!==null&&(D=m(ge,D,ke),Ke===null?ye=ge:Ke.sibling=ge,Ke=ge);return Ge&&ir(V,ke),ye}for(ge=o(ge);ke<P.length;ke++)ze=G(ge,V,ke,P[ke],Y),ze!==null&&(t&&ze.alternate!==null&&ge.delete(ze.key===null?ke:ze.key),D=m(ze,D,ke),Ke===null?ye=ze:Ke.sibling=ze,Ke=ze);return t&&ge.forEach(function(li){return s(V,li)}),Ge&&ir(V,ke),ye}function ve(V,D,P,Y){if(P==null)throw Error(i(151));for(var ye=null,Ke=null,ge=D,ke=D=0,ze=null,Ye=P.next();ge!==null&&!Ye.done;ke++,Ye=P.next()){ge.index>ke?(ze=ge,ge=null):ze=ge.sibling;var li=q(V,ge,Ye.value,Y);if(li===null){ge===null&&(ge=ze);break}t&&ge&&li.alternate===null&&s(V,ge),D=m(li,D,ke),Ke===null?ye=li:Ke.sibling=li,Ke=li,ge=ze}if(Ye.done)return a(V,ge),Ge&&ir(V,ke),ye;if(ge===null){for(;!Ye.done;ke++,Ye=P.next())Ye=Z(V,Ye.value,Y),Ye!==null&&(D=m(Ye,D,ke),Ke===null?ye=Ye:Ke.sibling=Ye,Ke=Ye);return Ge&&ir(V,ke),ye}for(ge=o(ge);!Ye.done;ke++,Ye=P.next())Ye=G(ge,V,ke,Ye.value,Y),Ye!==null&&(t&&Ye.alternate!==null&&ge.delete(Ye.key===null?ke:Ye.key),D=m(Ye,D,ke),Ke===null?ye=Ye:Ke.sibling=Ye,Ke=Ye);return t&&ge.forEach(function(qE){return s(V,qE)}),Ge&&ir(V,ke),ye}function lt(V,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===ee&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case z:e:{for(var ye=P.key;D!==null;){if(D.key===ye){if(ye=P.type,ye===ee){if(D.tag===7){a(V,D.sibling),Y=d(D,P.props.children),Y.return=V,V=Y;break e}}else if(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&ta(ye)===D.type){a(V,D.sibling),Y=d(D,P.props),uo(Y,P),Y.return=V,V=Y;break e}a(V,D);break}else s(V,D);D=D.sibling}P.type===ee?(Y=Xi(P.props.children,V.mode,Y,P.key),Y.return=V,V=Y):(Y=tu(P.type,P.key,P.props,null,V.mode,Y),uo(Y,P),Y.return=V,V=Y)}return v(V);case Q:e:{for(ye=P.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(V,D.sibling),Y=d(D,P.children||[]),Y.return=V,V=Y;break e}else{a(V,D);break}else s(V,D);D=D.sibling}Y=Vd(P,V.mode,Y),Y.return=V,V=Y}return v(V);case N:return P=ta(P),lt(V,D,P,Y)}if(Fe(P))return fe(V,D,P,Y);if(M(P)){if(ye=M(P),typeof ye!="function")throw Error(i(150));return P=ye.call(P),ve(V,D,P,Y)}if(typeof P.then=="function")return lt(V,D,ou(P),Y);if(P.$$typeof===de)return lt(V,D,ru(V,P),Y);cu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(V,D.sibling),Y=d(D,P),Y.return=V,V=Y):(a(V,D),Y=Md(P,V.mode,Y),Y.return=V,V=Y),v(V)):a(V,D)}return function(V,D,P,Y){try{co=0;var ye=lt(V,D,P,Y);return Ka=null,ye}catch(ge){if(ge===$a||ge===au)throw ge;var Ke=Tn(29,ge,null,V.mode);return Ke.lanes=Y,Ke.return=V,Ke}finally{}}}var sa=u0(!0),h0=u0(!1),Fr=!1;function Kd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qr(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Je&2)!==0){var d=o.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),o.pending=s,s=eu(t),Kp(t,null,a),s}return Wc(t,o,s,a),eu(t)}function ho(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Pl(t,a)}}function Xd(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Zd=!1;function fo(){if(Zd){var t=Qa;if(t!==null)throw t}}function mo(t,s,a,o){Zd=!1;var d=t.updateQueue;Fr=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var I=_,U=I.next;I.next=null,v===null?m=U:v.next=U,v=I;var $=t.alternate;$!==null&&($=$.updateQueue,_=$.lastBaseUpdate,_!==v&&(_===null?$.firstBaseUpdate=U:_.next=U,$.lastBaseUpdate=I))}if(m!==null){var Z=d.baseState;v=0,$=U=I=null,_=m;do{var q=_.lane&-536870913,G=q!==_.lane;if(G?(Ue&q)===q:(o&q)===q){q!==0&&q===Ga&&(Zd=!0),$!==null&&($=$.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var fe=t,ve=_;q=s;var lt=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){Z=fe.call(lt,Z,q);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,q=typeof fe=="function"?fe.call(lt,Z,q):fe,q==null)break e;Z=E({},Z,q);break e;case 2:Fr=!0}}q=_.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=d.callbacks,G===null?d.callbacks=[q]:G.push(q))}else G={lane:q,tag:_.tag,payload:_.payload,callback:_.callback,next:null},$===null?(U=$=G,I=Z):$=$.next=G,v|=q;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;G=_,_=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);$===null&&(I=Z),d.baseState=I,d.firstBaseUpdate=U,d.lastBaseUpdate=$,m===null&&(d.shared.lanes=0),Zr|=v,t.lanes=v,t.memoizedState=Z}}function d0(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function f0(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)d0(a[t],s)}var Ya=k(null),uu=k(0);function m0(t,s){t=pr,ae(uu,t),ae(Ya,s),pr=t|s.baseLanes}function Jd(){ae(uu,pr),ae(Ya,Ya.current)}function Wd(){pr=uu.current,K(Ya),K(uu)}var Nn=k(null),Gn=null;function $r(t){var s=t.alternate;ae(Nt,Nt.current&1),ae(Nn,t),Gn===null&&(s===null||Ya.current!==null||s.memoizedState!==null)&&(Gn=t)}function ef(t){ae(Nt,Nt.current),ae(Nn,t),Gn===null&&(Gn=t)}function g0(t){t.tag===22?(ae(Nt,Nt.current),ae(Nn,t),Gn===null&&(Gn=t)):Kr()}function Kr(){ae(Nt,Nt.current),ae(Nn,Nn.current)}function An(t){K(Nn),Gn===t&&(Gn=null),K(Nt)}var Nt=k(0);function hu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||lm(a)||om(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var or=0,je=null,it=null,Dt=null,du=!1,Xa=!1,ra=!1,fu=0,go=0,Za=null,jw=0;function xt(){throw Error(i(321))}function tf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!En(t[a],s[a]))return!1;return!0}function nf(t,s,a,o,d,m){return or=m,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=t===null||t.memoizedState===null?J0:xf,ra=!1,m=a(o,d),ra=!1,Xa&&(m=y0(s,a,o,d)),p0(t),m}function p0(t){F.H=xo;var s=it!==null&&it.next!==null;if(or=0,Dt=it=je=null,du=!1,go=0,Za=null,s)throw Error(i(300));t===null||Ot||(t=t.dependencies,t!==null&&su(t)&&(Ot=!0))}function y0(t,s,a,o){je=t;var d=0;do{if(Xa&&(Za=null),go=0,Xa=!1,25<=d)throw Error(i(301));if(d+=1,Dt=it=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=W0,m=s(a,o)}while(Xa);return m}function kw(){var t=F.H,s=t.useState()[0];return s=typeof s.then=="function"?po(s):s,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(je.flags|=1024),s}function sf(){var t=fu!==0;return fu=0,t}function rf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function af(t){if(du){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}du=!1}or=0,Dt=it=je=null,Xa=!1,go=fu=0,Za=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?je.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function At(){if(it===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var s=Dt===null?je.memoizedState:Dt.next;if(s!==null)Dt=s,it=t;else{if(t===null)throw je.alternate===null?Error(i(467)):Error(i(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Dt===null?je.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function po(t){var s=go;return go+=1,Za===null&&(Za=[]),t=l0(Za,t,s),s=je,(Dt===null?s.memoizedState:Dt.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?J0:xf),t}function gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return po(t);if(t.$$typeof===de)return Yt(t)}throw Error(i(438,String(t)))}function lf(t){var s=null,a=je.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=je.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=mu(),je.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=O;return s.index++,a}function cr(t,s){return typeof s=="function"?s(t):s}function pu(t){var s=At();return of(s,it,t)}function of(t,s,a){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=a;var d=t.baseQueue,m=o.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}s.baseQueue=d=m,o.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{s=d.next;var _=v=null,I=null,U=s,$=!1;do{var Z=U.lane&-536870913;if(Z!==U.lane?(Ue&Z)===Z:(or&Z)===Z){var q=U.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Z===Ga&&($=!0);else if((or&q)===q){U=U.next,q===Ga&&($=!0);continue}else Z={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(_=I=Z,v=m):I=I.next=Z,je.lanes|=q,Zr|=q;Z=U.action,ra&&a(m,Z),m=U.hasEagerState?U.eagerState:a(m,Z)}else q={lane:Z,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(_=I=q,v=m):I=I.next=q,je.lanes|=Z,Zr|=Z;U=U.next}while(U!==null&&U!==s);if(I===null?v=m:I.next=_,!En(m,t.memoizedState)&&(Ot=!0,$&&(a=Qa,a!==null)))throw a;t.memoizedState=m,t.baseState=v,t.baseQueue=I,o.lastRenderedState=m}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function cf(t){var s=At(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var o=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do m=t(m,v.action),v=v.next;while(v!==d);En(m,s.memoizedState)||(Ot=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,o]}function x0(t,s,a){var o=je,d=At(),m=Ge;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var v=!En((it||d).memoizedState,a);if(v&&(d.memoizedState=a,Ot=!0),d=d.queue,df(_0.bind(null,o,d,t),[t]),d.getSnapshot!==s||v||Dt!==null&&Dt.memoizedState.tag&1){if(o.flags|=2048,Ja(9,{destroy:void 0},b0.bind(null,o,d,a,s),null),ot===null)throw Error(i(349));m||(or&127)!==0||v0(o,s,a)}return a}function v0(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=je.updateQueue,s===null?(s=mu(),je.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function b0(t,s,a,o){s.value=a,s.getSnapshot=o,w0(s)&&E0(t)}function _0(t,s,a){return a(function(){w0(s)&&E0(t)})}function w0(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!En(t,a)}catch{return!0}}function E0(t){var s=Yi(t,2);s!==null&&yn(s,t,2)}function uf(t){var s=cn();if(typeof t=="function"){var a=t;if(t=a(),ra){Mn(!0);try{a()}finally{Mn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:t},s}function T0(t,s,a,o){return t.baseState=a,of(t,it,typeof o=="function"?o:cr)}function Dw(t,s,a,o,d){if(vu(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};F.T!==null?a(!0):m.isTransition=!1,o(m),a=s.pending,a===null?(m.next=s.pending=m,N0(s,m)):(m.next=a.next,s.pending=a.next=m)}}function N0(t,s){var a=s.action,o=s.payload,d=t.state;if(s.isTransition){var m=F.T,v={};F.T=v;try{var _=a(d,o),I=F.S;I!==null&&I(v,_),A0(t,s,_)}catch(U){hf(t,s,U)}finally{m!==null&&v.types!==null&&(m.types=v.types),F.T=m}}else try{m=a(d,o),A0(t,s,m)}catch(U){hf(t,s,U)}}function A0(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){S0(t,s,o)},function(o){return hf(t,s,o)}):S0(t,s,a)}function S0(t,s,a){s.status="fulfilled",s.value=a,C0(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,N0(t,a)))}function hf(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,C0(s),s=s.next;while(s!==o)}t.action=null}function C0(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function R0(t,s){return s}function I0(t,s){if(Ge){var a=ot.formState;if(a!==null){e:{var o=je;if(Ge){if(ht){t:{for(var d=ht,m=Fn;d.nodeType!==8;){if(!m){d=null;break t}if(d=Qn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){ht=Qn(d.nextSibling),o=d.data==="F!";break e}}Br(o)}o=!1}o&&(s=a[0])}}return a=cn(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:s},a.queue=o,a=Y0.bind(null,je,o),o.dispatch=a,o=uf(!1),m=yf.bind(null,je,!1,o.queue),o=cn(),d={state:s,dispatch:null,action:t,pending:null},o.queue=d,a=Dw.bind(null,je,d,m,a),d.dispatch=a,o.memoizedState=t,[s,a,!1]}function j0(t){var s=At();return k0(s,it,t)}function k0(t,s,a){if(s=of(t,s,R0)[0],t=pu(cr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=po(s)}catch(v){throw v===$a?au:v}else o=s;s=At();var d=s.queue,m=d.dispatch;return a!==s.memoizedState&&(je.flags|=2048,Ja(9,{destroy:void 0},Ow.bind(null,d,a),null)),[o,m,t]}function Ow(t,s){t.action=s}function D0(t){var s=At(),a=it;if(a!==null)return k0(s,a,t);At(),s=s.memoizedState,a=At();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function Ja(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=je.updateQueue,s===null&&(s=mu(),je.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function O0(){return At().memoizedState}function yu(t,s,a,o){var d=cn();je.flags|=t,d.memoizedState=Ja(1|s,{destroy:void 0},a,o===void 0?null:o)}function xu(t,s,a,o){var d=At();o=o===void 0?null:o;var m=d.memoizedState.inst;it!==null&&o!==null&&tf(o,it.memoizedState.deps)?d.memoizedState=Ja(s,m,a,o):(je.flags|=t,d.memoizedState=Ja(1|s,m,a,o))}function M0(t,s){yu(8390656,8,t,s)}function df(t,s){xu(2048,8,t,s)}function Mw(t){je.flags|=4;var s=je.updateQueue;if(s===null)s=mu(),je.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function V0(t){var s=At().memoizedState;return Mw({ref:s,nextImpl:t}),function(){if((Je&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function L0(t,s){return xu(4,2,t,s)}function P0(t,s){return xu(4,4,t,s)}function U0(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function z0(t,s,a){a=a!=null?a.concat([t]):null,xu(4,4,U0.bind(null,s,t),a)}function ff(){}function q0(t,s){var a=At();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&tf(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function B0(t,s){var a=At();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&tf(s,o[1]))return o[0];if(o=t(),ra){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[o,s],o}function mf(t,s,a){return a===void 0||(or&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Hy(),je.lanes|=t,Zr|=t,a)}function H0(t,s,a,o){return En(a,s)?a:Ya.current!==null?(t=mf(t,a,o),En(t,s)||(Ot=!0),t):(or&42)===0||(or&1073741824)!==0&&(Ue&261930)===0?(Ot=!0,t.memoizedState=a):(t=Hy(),je.lanes|=t,Zr|=t,s)}function F0(t,s,a,o,d){var m=te.p;te.p=m!==0&&8>m?m:8;var v=F.T,_={};F.T=_,yf(t,!1,s,a);try{var I=d(),U=F.S;if(U!==null&&U(_,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=Iw(I,o);yo(t,s,$,Rn(t))}else yo(t,s,o,Rn(t))}catch(Z){yo(t,s,{then:function(){},status:"rejected",reason:Z},Rn())}finally{te.p=m,v!==null&&_.types!==null&&(v.types=_.types),F.T=v}}function Vw(){}function gf(t,s,a,o){if(t.tag!==5)throw Error(i(476));var d=G0(t).queue;F0(t,d,s,pe,a===null?Vw:function(){return Q0(t),a(o)})}function G0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:pe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Q0(t){var s=G0(t);s.next===null&&(s=t.alternate.memoizedState),yo(t,s.next.queue,{},Rn())}function pf(){return Yt(Oo)}function $0(){return At().memoizedState}function K0(){return At().memoizedState}function Lw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Rn();t=Gr(a);var o=Qr(s,t,a);o!==null&&(yn(o,s,a),ho(o,s,a)),s={cache:Fd()},t.payload=s;return}s=s.return}}function Pw(t,s,a){var o=Rn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vu(t)?X0(s,a):(a=Dd(t,s,a,o),a!==null&&(yn(a,t,o),Z0(a,s,o)))}function Y0(t,s,a){var o=Rn();yo(t,s,a,o)}function yo(t,s,a,o){var d={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vu(t))X0(s,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,_=m(v,a);if(d.hasEagerState=!0,d.eagerState=_,En(_,v))return Wc(t,s,d,0),ot===null&&Jc(),!1}catch{}finally{}if(a=Dd(t,s,d,o),a!==null)return yn(a,t,o),Z0(a,s,o),!0}return!1}function yf(t,s,a,o){if(o={lane:2,revertLane:Yf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vu(t)){if(s)throw Error(i(479))}else s=Dd(t,a,o,2),s!==null&&yn(s,t,2)}function vu(t){var s=t.alternate;return t===je||s!==null&&s===je}function X0(t,s){Xa=du=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Z0(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Pl(t,a)}}var xo={readContext:Yt,use:gu,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};xo.useEffectEvent=xt;var J0={readContext:Yt,use:gu,useCallback:function(t,s){return cn().memoizedState=[t,s===void 0?null:s],t},useContext:Yt,useEffect:M0,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,yu(4194308,4,U0.bind(null,s,t),a)},useLayoutEffect:function(t,s){return yu(4194308,4,t,s)},useInsertionEffect:function(t,s){yu(4,2,t,s)},useMemo:function(t,s){var a=cn();s=s===void 0?null:s;var o=t();if(ra){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=cn();if(a!==void 0){var d=a(s);if(ra){Mn(!0);try{a(s)}finally{Mn(!1)}}}else d=s;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=Pw.bind(null,je,t),[o.memoizedState,t]},useRef:function(t){var s=cn();return t={current:t},s.memoizedState=t},useState:function(t){t=uf(t);var s=t.queue,a=Y0.bind(null,je,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:ff,useDeferredValue:function(t,s){var a=cn();return mf(a,t,s)},useTransition:function(){var t=uf(!1);return t=F0.bind(null,je,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=je,d=cn();if(Ge){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),ot===null)throw Error(i(349));(Ue&127)!==0||v0(o,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,M0(_0.bind(null,o,m,t),[t]),o.flags|=2048,Ja(9,{destroy:void 0},b0.bind(null,o,m,a,s),null),a},useId:function(){var t=cn(),s=ot.identifierPrefix;if(Ge){var a=Vs,o=Ms;a=(o&~(1<<32-Et(o)-1)).toString(32)+a,s="_"+s+"R_"+a,a=fu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=jw++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:pf,useFormState:I0,useActionState:I0,useOptimistic:function(t){var s=cn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=yf.bind(null,je,!0,a),a.dispatch=s,[t,s]},useMemoCache:lf,useCacheRefresh:function(){return cn().memoizedState=Lw.bind(null,je)},useEffectEvent:function(t){var s=cn(),a={impl:t};return s.memoizedState=a,function(){if((Je&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:Yt,use:gu,useCallback:q0,useContext:Yt,useEffect:df,useImperativeHandle:z0,useInsertionEffect:L0,useLayoutEffect:P0,useMemo:B0,useReducer:pu,useRef:O0,useState:function(){return pu(cr)},useDebugValue:ff,useDeferredValue:function(t,s){var a=At();return H0(a,it.memoizedState,t,s)},useTransition:function(){var t=pu(cr)[0],s=At().memoizedState;return[typeof t=="boolean"?t:po(t),s]},useSyncExternalStore:x0,useId:$0,useHostTransitionStatus:pf,useFormState:j0,useActionState:j0,useOptimistic:function(t,s){var a=At();return T0(a,it,t,s)},useMemoCache:lf,useCacheRefresh:K0};xf.useEffectEvent=V0;var W0={readContext:Yt,use:gu,useCallback:q0,useContext:Yt,useEffect:df,useImperativeHandle:z0,useInsertionEffect:L0,useLayoutEffect:P0,useMemo:B0,useReducer:cf,useRef:O0,useState:function(){return cf(cr)},useDebugValue:ff,useDeferredValue:function(t,s){var a=At();return it===null?mf(a,t,s):H0(a,it.memoizedState,t,s)},useTransition:function(){var t=cf(cr)[0],s=At().memoizedState;return[typeof t=="boolean"?t:po(t),s]},useSyncExternalStore:x0,useId:$0,useHostTransitionStatus:pf,useFormState:D0,useActionState:D0,useOptimistic:function(t,s){var a=At();return it!==null?T0(a,it,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:lf,useCacheRefresh:K0};W0.useEffectEvent=V0;function vf(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:E({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var bf={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=Rn(),d=Gr(o);d.payload=s,a!=null&&(d.callback=a),s=Qr(t,d,o),s!==null&&(yn(s,t,o),ho(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=Rn(),d=Gr(o);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=Qr(t,d,o),s!==null&&(yn(s,t,o),ho(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Rn(),o=Gr(a);o.tag=2,s!=null&&(o.callback=s),s=Qr(t,o,a),s!==null&&(yn(s,t,a),ho(s,t,a))}};function ey(t,s,a,o,d,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,v):s.prototype&&s.prototype.isPureReactComponent?!so(a,o)||!so(d,m):!0}function ty(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&bf.enqueueReplaceState(s,s.state,null)}function ia(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=E({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function ny(t){Zc(t)}function sy(t){console.error(t)}function ry(t){Zc(t)}function bu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function iy(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function _f(t,s,a){return a=Gr(a),a.tag=3,a.payload={element:null},a.callback=function(){bu(t,s)},a}function ay(t){return t=Gr(t),t.tag=3,t}function ly(t,s,a,o){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;t.payload=function(){return d(m)},t.callback=function(){iy(s,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){iy(s,a,o),typeof d!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})})}function Uw(t,s,a,o,d){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&Fa(s,a,d,!0),a=Nn.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?ku():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,o===lu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),Qf(t,o,d)),!1;case 22:return a.flags|=65536,o===lu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),Qf(t,o,d)),!1}throw Error(i(435,a.tag))}return Qf(t,o,d),ku(),!1}if(Ge)return s=Nn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,o!==Ud&&(t=Error(i(422),{cause:o}),ao(qn(t,a)))):(o!==Ud&&(s=Error(i(423),{cause:o}),ao(qn(s,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=qn(o,a),d=_f(t.stateNode,o,d),Xd(t,d),vt!==4&&(vt=2)),!1;var m=Error(i(520),{cause:o});if(m=qn(m,a),Ao===null?Ao=[m]:Ao.push(m),vt!==4&&(vt=2),s===null)return!0;o=qn(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=_f(a.stateNode,o,t),Xd(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Jr===null||!Jr.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=ay(d),ly(d,t,a,o),Xd(a,d),!1}a=a.return}while(a!==null);return!1}var wf=Error(i(461)),Ot=!1;function Xt(t,s,a,o){s.child=t===null?h0(s,null,a,o):sa(s,t.child,a,o)}function oy(t,s,a,o,d){a=a.render;var m=s.ref;if("ref"in o){var v={};for(var _ in o)_!=="ref"&&(v[_]=o[_])}else v=o;return Wi(s),o=nf(t,s,a,v,m,d),_=sf(),t!==null&&!Ot?(rf(t,s,d),ur(t,s,d)):(Ge&&_&&Ld(s),s.flags|=1,Xt(t,s,o,d),s.child)}function cy(t,s,a,o,d){if(t===null){var m=a.type;return typeof m=="function"&&!Od(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,uy(t,s,m,o,d)):(t=tu(a.type,null,o,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!If(t,d)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:so,a(v,o)&&t.ref===s.ref)return ur(t,s,d)}return s.flags|=1,t=rr(m,o),t.ref=s.ref,t.return=s,s.child=t}function uy(t,s,a,o,d){if(t!==null){var m=t.memoizedProps;if(so(m,o)&&t.ref===s.ref)if(Ot=!1,s.pendingProps=o=m,If(t,d))(t.flags&131072)!==0&&(Ot=!0);else return s.lanes=t.lanes,ur(t,s,d)}return Ef(t,s,a,o,d)}function hy(t,s,a,o){var d=o.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=s.child=t.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~m}else o=0,s.child=null;return dy(t,s,m,a,o)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&iu(s,m!==null?m.cachePool:null),m!==null?m0(s,m):Jd(),g0(s);else return o=s.lanes=536870912,dy(t,s,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(iu(s,m.cachePool),m0(s,m),Kr(),s.memoizedState=null):(t!==null&&iu(s,null),Jd(),Kr());return Xt(t,s,d,a),s.child}function vo(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function dy(t,s,a,o,d){var m=Qd();return m=m===null?null:{parent:kt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&iu(s,null),Jd(),g0(s),t!==null&&Fa(t,s,o,!0),s.childLanes=d,null}function _u(t,s){return s=Eu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function fy(t,s,a){return sa(s,t.child,null,a),t=_u(s,s.pendingProps),t.flags|=2,An(s),s.memoizedState=null,t}function zw(t,s,a){var o=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=_u(s,o),s.lanes=536870912,vo(null,t);if(ef(s),(t=ht)?(t=N1(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:zr!==null?{id:Ms,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},a=Xp(t),a.return=s,s.child=a,Kt=s,ht=null)):t=null,t===null)throw Br(s);return s.lanes=536870912,null}return _u(s,o)}var m=t.memoizedState;if(m!==null){var v=m.dehydrated;if(ef(s),d)if(s.flags&256)s.flags&=-257,s=fy(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Ot||Fa(t,s,a,!1),d=(a&t.childLanes)!==0,Ot||d){if(o=ot,o!==null&&(v=Ul(o,a),v!==0&&v!==m.retryLane))throw m.retryLane=v,Yi(t,v),yn(o,t,v),wf;ku(),s=fy(t,s,a)}else t=m.treeContext,ht=Qn(v.nextSibling),Kt=s,Ge=!0,qr=null,Fn=!1,t!==null&&Wp(s,t),s=_u(s,o),s.flags|=4096;return s}return t=rr(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function wu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Ef(t,s,a,o,d){return Wi(s),a=nf(t,s,a,o,void 0,d),o=sf(),t!==null&&!Ot?(rf(t,s,d),ur(t,s,d)):(Ge&&o&&Ld(s),s.flags|=1,Xt(t,s,a,d),s.child)}function my(t,s,a,o,d,m){return Wi(s),s.updateQueue=null,a=y0(s,o,a,d),p0(t),o=sf(),t!==null&&!Ot?(rf(t,s,m),ur(t,s,m)):(Ge&&o&&Ld(s),s.flags|=1,Xt(t,s,a,m),s.child)}function gy(t,s,a,o,d){if(Wi(s),s.stateNode===null){var m=za,v=a.contextType;typeof v=="object"&&v!==null&&(m=Yt(v)),m=new a(o,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=bf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=o,m.state=s.memoizedState,m.refs={},Kd(s),v=a.contextType,m.context=typeof v=="object"&&v!==null?Yt(v):za,m.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vf(s,a,v,o),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&bf.enqueueReplaceState(m,m.state,null),mo(s,o,m,d),fo(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){m=s.stateNode;var _=s.memoizedProps,I=ia(a,_);m.props=I;var U=m.context,$=a.contextType;v=za,typeof $=="object"&&$!==null&&(v=Yt($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||U!==v)&&ty(s,m,o,v),Fr=!1;var q=s.memoizedState;m.state=q,mo(s,o,m,d),fo(),U=s.memoizedState,_||q!==U||Fr?(typeof Z=="function"&&(vf(s,a,Z,o),U=s.memoizedState),(I=Fr||ey(s,a,I,o,q,U,v))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=U),m.props=o,m.state=U,m.context=v,o=I):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{m=s.stateNode,Yd(t,s),v=s.memoizedProps,$=ia(a,v),m.props=$,Z=s.pendingProps,q=m.context,U=a.contextType,I=za,typeof U=="object"&&U!==null&&(I=Yt(U)),_=a.getDerivedStateFromProps,(U=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==Z||q!==I)&&ty(s,m,o,I),Fr=!1,q=s.memoizedState,m.state=q,mo(s,o,m,d),fo();var G=s.memoizedState;v!==Z||q!==G||Fr||t!==null&&t.dependencies!==null&&su(t.dependencies)?(typeof _=="function"&&(vf(s,a,_,o),G=s.memoizedState),($=Fr||ey(s,a,$,o,q,G,I)||t!==null&&t.dependencies!==null&&su(t.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,G,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,G,I)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=G),m.props=o,m.state=G,m.context=I,o=$):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),o=!1)}return m=o,wu(t,s),o=(s.flags&128)!==0,m||o?(m=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&o?(s.child=sa(s,t.child,null,d),s.child=sa(s,null,a,d)):Xt(t,s,a,d),s.memoizedState=m.state,t=s.child):t=ur(t,s,d),t}function py(t,s,a,o){return Zi(),s.flags|=256,Xt(t,s,a,o),s.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(t){return{baseLanes:t,cachePool:i0()}}function Af(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Cn),t}function yy(t,s,a){var o=s.pendingProps,d=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ge){if(d?$r(s):Kr(),(t=ht)?(t=N1(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:zr!==null?{id:Ms,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},a=Xp(t),a.return=s,s.child=a,Kt=s,ht=null)):t=null,t===null)throw Br(s);return om(t)?s.lanes=32:s.lanes=536870912,null}var _=o.children;return o=o.fallback,d?(Kr(),d=s.mode,_=Eu({mode:"hidden",children:_},d),o=Xi(o,d,a,null),_.return=s,o.return=s,_.sibling=o,s.child=_,o=s.child,o.memoizedState=Nf(a),o.childLanes=Af(t,v,a),s.memoizedState=Tf,vo(null,o)):($r(s),Sf(s,_))}var I=t.memoizedState;if(I!==null&&(_=I.dehydrated,_!==null)){if(m)s.flags&256?($r(s),s.flags&=-257,s=Cf(t,s,a)):s.memoizedState!==null?(Kr(),s.child=t.child,s.flags|=128,s=null):(Kr(),_=o.fallback,d=s.mode,o=Eu({mode:"visible",children:o.children},d),_=Xi(_,d,a,null),_.flags|=2,o.return=s,_.return=s,o.sibling=_,s.child=o,sa(s,t.child,null,a),o=s.child,o.memoizedState=Nf(a),o.childLanes=Af(t,v,a),s.memoizedState=Tf,s=vo(null,o));else if($r(s),om(_)){if(v=_.nextSibling&&_.nextSibling.dataset,v)var U=v.dgst;v=U,o=Error(i(419)),o.stack="",o.digest=v,ao({value:o,source:null,stack:null}),s=Cf(t,s,a)}else if(Ot||Fa(t,s,a,!1),v=(a&t.childLanes)!==0,Ot||v){if(v=ot,v!==null&&(o=Ul(v,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Yi(t,o),yn(v,t,o),wf;lm(_)||ku(),s=Cf(t,s,a)}else lm(_)?(s.flags|=192,s.child=t.child,s=null):(t=I.treeContext,ht=Qn(_.nextSibling),Kt=s,Ge=!0,qr=null,Fn=!1,t!==null&&Wp(s,t),s=Sf(s,o.children),s.flags|=4096);return s}return d?(Kr(),_=o.fallback,d=s.mode,I=t.child,U=I.sibling,o=rr(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,U!==null?_=rr(U,_):(_=Xi(_,d,a,null),_.flags|=2),_.return=s,o.return=s,o.sibling=_,s.child=o,vo(null,o),o=s.child,_=t.child.memoizedState,_===null?_=Nf(a):(d=_.cachePool,d!==null?(I=kt._currentValue,d=d.parent!==I?{parent:I,pool:I}:d):d=i0(),_={baseLanes:_.baseLanes|a,cachePool:d}),o.memoizedState=_,o.childLanes=Af(t,v,a),s.memoizedState=Tf,vo(t.child,o)):($r(s),a=t.child,t=a.sibling,a=rr(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function Sf(t,s){return s=Eu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Eu(t,s){return t=Tn(22,t,null,s),t.lanes=0,t}function Cf(t,s,a){return sa(s,t.child,null,a),t=Sf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function xy(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Bd(t.return,s,a)}function Rf(t,s,a,o,d,m){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:d,treeForkCount:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=d,v.treeForkCount=m)}function vy(t,s,a){var o=s.pendingProps,d=o.revealOrder,m=o.tail;o=o.children;var v=Nt.current,_=(v&2)!==0;if(_?(v=v&1|2,s.flags|=128):v&=1,ae(Nt,v),Xt(t,s,o,a),o=Ge?io:0,!_&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xy(t,a,s);else if(t.tag===19)xy(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=s.child,d=null;a!==null;)t=a.alternate,t!==null&&hu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Rf(s,!1,d,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&hu(t)===null){s.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Rf(s,!0,a,null,m,o);break;case"together":Rf(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function ur(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Zr|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Fa(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=rr(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=rr(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function If(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&su(t)))}function qw(t,s,a){switch(s.tag){case 3:$e(s,s.stateNode.containerInfo),Hr(s,kt,t.memoizedState.cache),Zi();break;case 27:case 5:Xs(s);break;case 4:$e(s,s.stateNode.containerInfo);break;case 10:Hr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,ef(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?($r(s),s.flags|=128,null):(a&s.child.childLanes)!==0?yy(t,s,a):($r(s),t=ur(t,s,a),t!==null?t.sibling:null);$r(s);break;case 19:var d=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(Fa(t,s,a,!1),o=(a&s.childLanes)!==0),d){if(o)return vy(t,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(Nt,Nt.current),o)break;return null;case 22:return s.lanes=0,hy(t,s,a,s.pendingProps);case 24:Hr(s,kt,t.memoizedState.cache)}return ur(t,s,a)}function by(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ot=!0;else{if(!If(t,a)&&(s.flags&128)===0)return Ot=!1,qw(t,s,a);Ot=(t.flags&131072)!==0}else Ot=!1,Ge&&(s.flags&1048576)!==0&&Jp(s,io,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=ta(s.elementType),s.type=t,typeof t=="function")Od(t)?(o=ia(t,o),s.tag=1,s=gy(null,s,t,o,a)):(s.tag=0,s=Ef(null,s,t,o,a));else{if(t!=null){var d=t.$$typeof;if(d===Ce){s.tag=11,s=oy(null,s,t,o,a);break e}else if(d===S){s.tag=14,s=cy(null,s,t,o,a);break e}}throw s=Xe(t)||t,Error(i(306,s,""))}}return s;case 0:return Ef(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,d=ia(o,s.pendingProps),gy(t,s,o,d,a);case 3:e:{if($e(s,s.stateNode.containerInfo),t===null)throw Error(i(387));o=s.pendingProps;var m=s.memoizedState;d=m.element,Yd(t,s),mo(s,o,null,a);var v=s.memoizedState;if(o=v.cache,Hr(s,kt,o),o!==m.cache&&Hd(s,[kt],a,!0),fo(),o=v.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=py(t,s,o,a);break e}else if(o!==d){d=qn(Error(i(424)),s),ao(d),s=py(t,s,o,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Qn(t.firstChild),Kt=s,Ge=!0,qr=null,Fn=!0,a=h0(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zi(),o===d){s=ur(t,s,a);break e}Xt(t,s,o,a)}s=s.child}return s;case 26:return wu(t,s),t===null?(a=j1(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ge||(a=s.type,t=s.pendingProps,o=Uu(Ee.current).createElement(a),o[Rt]=s,o[qt]=t,Zt(o,a,t),It(o),s.stateNode=o):s.memoizedState=j1(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Xs(s),t===null&&Ge&&(o=s.stateNode=C1(s.type,s.pendingProps,Ee.current),Kt=s,Fn=!0,d=ht,ni(s.type)?(cm=d,ht=Qn(o.firstChild)):ht=d),Xt(t,s,s.pendingProps.children,a),wu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ge&&((d=o=ht)&&(o=yE(o,s.type,s.pendingProps,Fn),o!==null?(s.stateNode=o,Kt=s,ht=Qn(o.firstChild),Fn=!1,d=!0):d=!1),d||Br(s)),Xs(s),d=s.type,m=s.pendingProps,v=t!==null?t.memoizedProps:null,o=m.children,rm(d,m)?o=null:v!==null&&rm(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=nf(t,s,kw,null,null,a),Oo._currentValue=d),wu(t,s),Xt(t,s,o,a),s.child;case 6:return t===null&&Ge&&((t=a=ht)&&(a=xE(a,s.pendingProps,Fn),a!==null?(s.stateNode=a,Kt=s,ht=null,t=!0):t=!1),t||Br(s)),null;case 13:return yy(t,s,a);case 4:return $e(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=sa(s,null,o,a):Xt(t,s,o,a),s.child;case 11:return oy(t,s,s.type,s.pendingProps,a);case 7:return Xt(t,s,s.pendingProps,a),s.child;case 8:return Xt(t,s,s.pendingProps.children,a),s.child;case 12:return Xt(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,Hr(s,s.type,o.value),Xt(t,s,o.children,a),s.child;case 9:return d=s.type._context,o=s.pendingProps.children,Wi(s),d=Yt(d),o=o(d),s.flags|=1,Xt(t,s,o,a),s.child;case 14:return cy(t,s,s.type,s.pendingProps,a);case 15:return uy(t,s,s.type,s.pendingProps,a);case 19:return vy(t,s,a);case 31:return zw(t,s,a);case 22:return hy(t,s,a,s.pendingProps);case 24:return Wi(s),o=Yt(kt),t===null?(d=Qd(),d===null&&(d=ot,m=Fd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),s.memoizedState={parent:o,cache:d},Kd(s),Hr(s,kt,d)):((t.lanes&a)!==0&&(Yd(t,s),mo(s,null,null,a),fo()),d=t.memoizedState,m=s.memoizedState,d.parent!==o?(d={parent:o,cache:o},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Hr(s,kt,o)):(o=m.cache,Hr(s,kt,o),o!==d.cache&&Hd(s,[kt],a,!0))),Xt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function hr(t){t.flags|=4}function jf(t,s,a,o,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if($y())t.flags|=8192;else throw na=lu,$d}else t.flags&=-16777217}function _y(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!V1(s))if($y())t.flags|=8192;else throw na=lu,$d}function Tu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Ic():536870912,t.lanes|=s,nl|=s)}function bo(t,s){if(!Ge)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function dt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function Bw(t,s,a){var o=s.pendingProps;switch(Pd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(s),null;case 1:return dt(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),lr(kt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(s)?hr(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zd())),dt(s),null;case 26:var d=s.type,m=s.memoizedState;return t===null?(hr(s),m!==null?(dt(s),_y(s,m)):(dt(s),jf(s,d,null,o,a))):m?m!==t.memoizedState?(hr(s),dt(s),_y(s,m)):(dt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&hr(s),dt(s),jf(s,d,t,o,a)),null;case 27:if(Zs(s),a=Ee.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&hr(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return dt(s),null}t=ce.current,Ha(s)?e0(s):(t=C1(d,o,a),s.stateNode=t,hr(s))}return dt(s),null;case 5:if(Zs(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&hr(s);else{if(!o){if(s.stateNode===null)throw Error(i(166));return dt(s),null}if(m=ce.current,Ha(s))e0(s);else{var v=Uu(Ee.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?v.createElement(d,{is:o.is}):v.createElement(d)}}m[Rt]=s,m[qt]=o;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=m;e:switch(Zt(m,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&hr(s)}}return dt(s),jf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&hr(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(i(166));if(t=Ee.current,Ha(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,d=Kt,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[Rt]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||y1(t.nodeValue,a)),t||Br(s,!0)}else t=Uu(t).createTextNode(o),t[Rt]=s,s.stateNode=t}return dt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(o=Ha(s),a!==null){if(t===null){if(!o)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Rt]=s}else Zi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),t=!1}else a=zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(An(s),s):(An(s),null);if((s.flags&128)!==0)throw Error(i(558))}return dt(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ha(s),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Rt]=s}else Zi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),d=!1}else d=zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(An(s),s):(An(s),null)}return An(s),(s.flags&128)!==0?(s.lanes=a,s):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=s.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Tu(s,s.updateQueue),dt(s),null);case 4:return st(),t===null&&Wf(s.stateNode.containerInfo),dt(s),null;case 10:return lr(s.type),dt(s),null;case 19:if(K(Nt),o=s.memoizedState,o===null)return dt(s),null;if(d=(s.flags&128)!==0,m=o.rendering,m===null)if(d)bo(o,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=hu(t),m!==null){for(s.flags|=128,bo(o,!1),t=m.updateQueue,s.updateQueue=t,Tu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Yp(a,t),a=a.sibling;return ae(Nt,Nt.current&1|2),Ge&&ir(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&Oe()>Ru&&(s.flags|=128,d=!0,bo(o,!1),s.lanes=4194304)}else{if(!d)if(t=hu(m),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,Tu(s,t),bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Ge)return dt(s),null}else 2*Oe()-o.renderingStartTime>Ru&&a!==536870912&&(s.flags|=128,d=!0,bo(o,!1),s.lanes=4194304);o.isBackwards?(m.sibling=s.child,s.child=m):(t=o.last,t!==null?t.sibling=m:s.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Oe(),t.sibling=null,a=Nt.current,ae(Nt,d?a&1|2:a&1),Ge&&ir(s,o.treeForkCount),t):(dt(s),null);case 22:case 23:return An(s),Wd(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(dt(s),s.subtreeFlags&6&&(s.flags|=8192)):dt(s),a=s.updateQueue,a!==null&&Tu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&K(ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),lr(kt),dt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Hw(t,s){switch(Pd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return lr(kt),st(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Zs(s),null;case 31:if(s.memoizedState!==null){if(An(s),s.alternate===null)throw Error(i(340));Zi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(An(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Zi()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return K(Nt),null;case 4:return st(),null;case 10:return lr(s.type),null;case 22:case 23:return An(s),Wd(),t!==null&&K(ea),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return lr(kt),null;case 25:return null;default:return null}}function wy(t,s){switch(Pd(s),s.tag){case 3:lr(kt),st();break;case 26:case 27:case 5:Zs(s);break;case 4:st();break;case 31:s.memoizedState!==null&&An(s);break;case 13:An(s);break;case 19:K(Nt);break;case 10:lr(s.type);break;case 22:case 23:An(s),Wd(),t!==null&&K(ea);break;case 24:lr(kt)}}function _o(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&t)===t){o=void 0;var m=a.create,v=a.inst;o=m(),v.destroy=o}a=a.next}while(a!==d)}}catch(_){nt(s,s.return,_)}}function Yr(t,s,a){try{var o=s.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&t)===t){var v=o.inst,_=v.destroy;if(_!==void 0){v.destroy=void 0,d=s;var I=a,U=_;try{U()}catch($){nt(d,I,$)}}}o=o.next}while(o!==m)}}catch($){nt(s,s.return,$)}}function Ey(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{f0(s,a)}catch(o){nt(t,t.return,o)}}}function Ty(t,s,a){a.props=ia(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){nt(t,s,o)}}function wo(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(d){nt(t,s,d)}}function Ls(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(d){nt(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){nt(t,s,d)}else a.current=null}function Ny(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(d){nt(t,t.return,d)}}function kf(t,s,a){try{var o=t.stateNode;hE(o,t.type,a,s),o[qt]=s}catch(d){nt(t,t.return,d)}}function Ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ni(t.type)||t.tag===4}function Df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ni(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Of(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ss));else if(o!==4&&(o===27&&ni(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Of(t,s,a),t=t.sibling;t!==null;)Of(t,s,a),t=t.sibling}function Nu(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&ni(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nu(t,s,a),t=t.sibling;t!==null;)Nu(t,s,a),t=t.sibling}function Sy(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Zt(s,o,a),s[Rt]=t,s[qt]=a}catch(m){nt(t,t.return,m)}}var dr=!1,Mt=!1,Mf=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Fw(t,s){if(t=t.containerInfo,nm=Qu,t=zp(t),Sd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,_=-1,I=-1,U=0,$=0,Z=t,q=null;t:for(;;){for(var G;Z!==a||d!==0&&Z.nodeType!==3||(_=v+d),Z!==m||o!==0&&Z.nodeType!==3||(I=v+o),Z.nodeType===3&&(v+=Z.nodeValue.length),(G=Z.firstChild)!==null;)q=Z,Z=G;for(;;){if(Z===t)break t;if(q===a&&++U===d&&(_=v),q===m&&++$===o&&(I=v),(G=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=G}a=_===-1||I===-1?null:{start:_,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(sm={focusedElem:t,selectionRange:a},Qu=!1,Ht=s;Ht!==null;)if(s=Ht,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ht=t;else for(;Ht!==null;){switch(s=Ht,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,d=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var fe=ia(a.type,d);t=o.getSnapshotBeforeUpdate(fe,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){nt(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)am(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Ht=t;break}Ht=s.return}}function Ry(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:mr(t,a),o&4&&_o(5,a);break;case 1:if(mr(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){nt(a,a.return,v)}else{var d=ia(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){nt(a,a.return,v)}}o&64&&Ey(a),o&512&&wo(a,a.return);break;case 3:if(mr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{f0(t,s)}catch(v){nt(a,a.return,v)}}break;case 27:s===null&&o&4&&Sy(a);case 26:case 5:mr(t,a),s===null&&o&4&&Ny(a),o&512&&wo(a,a.return);break;case 12:mr(t,a);break;case 31:mr(t,a),o&4&&ky(t,a);break;case 13:mr(t,a),o&4&&Dy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Ww.bind(null,a),vE(t,a))));break;case 22:if(o=a.memoizedState!==null||dr,!o){s=s!==null&&s.memoizedState!==null||Mt,d=dr;var m=Mt;dr=o,(Mt=s)&&!m?gr(t,a,(a.subtreeFlags&8772)!==0):mr(t,a),dr=d,Mt=m}break;case 30:break;default:mr(t,a)}}function Iy(t){var s=t.alternate;s!==null&&(t.alternate=null,Iy(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Aa(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,fn=!1;function fr(t,s,a){for(a=a.child;a!==null;)jy(t,s,a),a=a.sibling}function jy(t,s,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:Mt||Ls(a,s),fr(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||Ls(a,s);var o=gt,d=fn;ni(a.type)&&(gt=a.stateNode,fn=!1),fr(t,s,a),jo(a.stateNode),gt=o,fn=d;break;case 5:Mt||Ls(a,s);case 6:if(o=gt,d=fn,gt=null,fr(t,s,a),gt=o,fn=d,gt!==null)if(fn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(a.stateNode)}catch(m){nt(a,s,m)}else try{gt.removeChild(a.stateNode)}catch(m){nt(a,s,m)}break;case 18:gt!==null&&(fn?(t=gt,E1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ul(t)):E1(gt,a.stateNode));break;case 4:o=gt,d=fn,gt=a.stateNode.containerInfo,fn=!0,fr(t,s,a),gt=o,fn=d;break;case 0:case 11:case 14:case 15:Yr(2,a,s),Mt||Yr(4,a,s),fr(t,s,a);break;case 1:Mt||(Ls(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ty(a,s,o)),fr(t,s,a);break;case 21:fr(t,s,a);break;case 22:Mt=(o=Mt)||a.memoizedState!==null,fr(t,s,a),Mt=o;break;default:fr(t,s,a)}}function ky(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ul(t)}catch(a){nt(s,s.return,a)}}}function Dy(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ul(t)}catch(a){nt(s,s.return,a)}}function Gw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Cy),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Cy),s;default:throw Error(i(435,t.tag))}}function Au(t,s){var a=Gw(t);s.forEach(function(o){if(!a.has(o)){a.add(o);var d=eE.bind(null,t,o);o.then(d,d)}})}function mn(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var d=a[o],m=t,v=s,_=v;e:for(;_!==null;){switch(_.tag){case 27:if(ni(_.type)){gt=_.stateNode,fn=!1;break e}break;case 5:gt=_.stateNode,fn=!1;break e;case 3:case 4:gt=_.stateNode.containerInfo,fn=!0;break e}_=_.return}if(gt===null)throw Error(i(160));jy(m,v,d),gt=null,fn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Oy(s,t),s=s.sibling}var cs=null;function Oy(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(s,t),gn(t),o&4&&(Yr(3,t,t.return),_o(3,t),Yr(5,t,t.return));break;case 1:mn(s,t),gn(t),o&512&&(Mt||a===null||Ls(a,a.return)),o&64&&dr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var d=cs;if(mn(s,t),gn(t),o&512&&(Mt||a===null||Ls(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Es]||m[Rt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(o),d.head.insertBefore(m,d.querySelector("head > title"))),Zt(m,o,a),m[Rt]=t,It(m),o=m;break e;case"link":var v=O1("link","href",d).get(o+(a.href||""));if(v){for(var _=0;_<v.length;_++)if(m=v[_],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(_,1);break t}}m=d.createElement(o),Zt(m,o,a),d.head.appendChild(m);break;case"meta":if(v=O1("meta","content",d).get(o+(a.content||""))){for(_=0;_<v.length;_++)if(m=v[_],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(_,1);break t}}m=d.createElement(o),Zt(m,o,a),d.head.appendChild(m);break;default:throw Error(i(468,o))}m[Rt]=t,It(m),o=m}t.stateNode=o}else M1(d,t.type,t.stateNode);else t.stateNode=D1(d,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?M1(d,t.type,t.stateNode):D1(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&kf(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(s,t),gn(t),o&512&&(Mt||a===null||Ls(a,a.return)),a!==null&&o&4&&kf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(s,t),gn(t),o&512&&(Mt||a===null||Ls(a,a.return)),t.flags&32){d=t.stateNode;try{dn(d,"")}catch(fe){nt(t,t.return,fe)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,kf(t,d,a!==null?a.memoizedProps:d)),o&1024&&(Mf=!0);break;case 6:if(mn(s,t),gn(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(fe){nt(t,t.return,fe)}}break;case 3:if(Bu=null,d=cs,cs=zu(s.containerInfo),mn(s,t),cs=d,gn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ul(s.containerInfo)}catch(fe){nt(t,t.return,fe)}Mf&&(Mf=!1,My(t));break;case 4:o=cs,cs=zu(t.stateNode.containerInfo),mn(s,t),gn(t),cs=o;break;case 12:mn(s,t),gn(t);break;case 31:mn(s,t),gn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Au(t,o)));break;case 13:mn(s,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cu=Oe()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Au(t,o)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,U=dr,$=Mt;if(dr=U||d,Mt=$||I,mn(s,t),Mt=$,dr=U,gn(t),o&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||I||dr||Mt||aa(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){I=a=s;try{if(m=I.stateNode,d)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{_=I.stateNode;var Z=I.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;_.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){nt(I,I.return,fe)}}}else if(s.tag===6){if(a===null){I=s;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(fe){nt(I,I.return,fe)}}}else if(s.tag===18){if(a===null){I=s;try{var G=I.stateNode;d?T1(G,!0):T1(I.stateNode,!1)}catch(fe){nt(I,I.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Au(t,a))));break;case 19:mn(s,t),gn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Au(t,o)));break;case 30:break;case 21:break;default:mn(s,t),gn(t)}}function gn(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(Ay(o)){a=o;break}o=o.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,m=Df(t);Nu(t,m,d);break;case 5:var v=a.stateNode;a.flags&32&&(dn(v,""),a.flags&=-33);var _=Df(t);Nu(t,_,v);break;case 3:case 4:var I=a.stateNode.containerInfo,U=Df(t);Of(t,U,I);break;default:throw Error(i(161))}}catch($){nt(t,t.return,$)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function My(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;My(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function mr(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ry(t,s.alternate,s),s=s.sibling}function aa(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Yr(4,s,s.return),aa(s);break;case 1:Ls(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Ty(s,s.return,a),aa(s);break;case 27:jo(s.stateNode);case 26:case 5:Ls(s,s.return),aa(s);break;case 22:s.memoizedState===null&&aa(s);break;case 30:aa(s);break;default:aa(s)}t=t.sibling}}function gr(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,d=t,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:gr(d,m,a),_o(4,m);break;case 1:if(gr(d,m,a),o=m,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(U){nt(o,o.return,U)}if(o=m,d=o.updateQueue,d!==null){var _=o.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)d0(I[d],_)}catch(U){nt(o,o.return,U)}}a&&v&64&&Ey(m),wo(m,m.return);break;case 27:Sy(m);case 26:case 5:gr(d,m,a),a&&o===null&&v&4&&Ny(m),wo(m,m.return);break;case 12:gr(d,m,a);break;case 31:gr(d,m,a),a&&v&4&&ky(d,m);break;case 13:gr(d,m,a),a&&v&4&&Dy(d,m);break;case 22:m.memoizedState===null&&gr(d,m,a),wo(m,m.return);break;case 30:break;default:gr(d,m,a)}s=s.sibling}}function Vf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&lo(a))}function Lf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&lo(t))}function us(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vy(t,s,a,o),s=s.sibling}function Vy(t,s,a,o){var d=s.flags;switch(s.tag){case 0:case 11:case 15:us(t,s,a,o),d&2048&&_o(9,s);break;case 1:us(t,s,a,o);break;case 3:us(t,s,a,o),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&lo(t)));break;case 12:if(d&2048){us(t,s,a,o),t=s.stateNode;try{var m=s.memoizedProps,v=m.id,_=m.onPostCommit;typeof _=="function"&&_(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){nt(s,s.return,I)}}else us(t,s,a,o);break;case 31:us(t,s,a,o);break;case 13:us(t,s,a,o);break;case 23:break;case 22:m=s.stateNode,v=s.alternate,s.memoizedState!==null?m._visibility&2?us(t,s,a,o):Eo(t,s):m._visibility&2?us(t,s,a,o):(m._visibility|=2,Wa(t,s,a,o,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Vf(v,s);break;case 24:us(t,s,a,o),d&2048&&Lf(s.alternate,s);break;default:us(t,s,a,o)}}function Wa(t,s,a,o,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,v=s,_=a,I=o,U=v.flags;switch(v.tag){case 0:case 11:case 15:Wa(m,v,_,I,d),_o(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Wa(m,v,_,I,d):Eo(m,v):($._visibility|=2,Wa(m,v,_,I,d)),d&&U&2048&&Vf(v.alternate,v);break;case 24:Wa(m,v,_,I,d),d&&U&2048&&Lf(v.alternate,v);break;default:Wa(m,v,_,I,d)}s=s.sibling}}function Eo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,d=o.flags;switch(o.tag){case 22:Eo(a,o),d&2048&&Vf(o.alternate,o);break;case 24:Eo(a,o),d&2048&&Lf(o.alternate,o);break;default:Eo(a,o)}s=s.sibling}}var To=8192;function el(t,s,a){if(t.subtreeFlags&To)for(t=t.child;t!==null;)Ly(t,s,a),t=t.sibling}function Ly(t,s,a){switch(t.tag){case 26:el(t,s,a),t.flags&To&&t.memoizedState!==null&&jE(a,cs,t.memoizedState,t.memoizedProps);break;case 5:el(t,s,a);break;case 3:case 4:var o=cs;cs=zu(t.stateNode.containerInfo),el(t,s,a),cs=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=To,To=16777216,el(t,s,a),To=o):el(t,s,a));break;default:el(t,s,a)}}function Py(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function No(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];Ht=o,zy(o,t)}Py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uy(t),t=t.sibling}function Uy(t){switch(t.tag){case 0:case 11:case 15:No(t),t.flags&2048&&Yr(9,t,t.return);break;case 3:No(t);break;case 12:No(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Su(t)):No(t);break;default:No(t)}}function Su(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];Ht=o,zy(o,t)}Py(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Yr(8,s,s.return),Su(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Su(s));break;default:Su(s)}t=t.sibling}}function zy(t,s){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Yr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:lo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ht=o;else e:for(a=t;Ht!==null;){o=Ht;var d=o.sibling,m=o.return;if(Iy(o),o===a){Ht=null;break e}if(d!==null){d.return=m,Ht=d;break e}Ht=m}}}var Qw={getCacheForType:function(t){var s=Yt(kt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Yt(kt).controller.signal}},$w=typeof WeakMap=="function"?WeakMap:Map,Je=0,ot=null,Ve=null,Ue=0,tt=0,Sn=null,Xr=!1,tl=!1,Pf=!1,pr=0,vt=0,Zr=0,la=0,Uf=0,Cn=0,nl=0,Ao=null,pn=null,zf=!1,Cu=0,qy=0,Ru=1/0,Iu=null,Jr=null,Ut=0,Wr=null,sl=null,yr=0,qf=0,Bf=null,By=null,So=0,Hf=null;function Rn(){return(Je&2)!==0&&Ue!==0?Ue&-Ue:F.T!==null?Yf():jc()}function Hy(){if(Cn===0)if((Ue&536870912)===0||Ge){var t=Oi;Oi<<=1,(Oi&3932160)===0&&(Oi=262144),Cn=t}else Cn=536870912;return t=Nn.current,t!==null&&(t.flags|=32),Cn}function yn(t,s,a){(t===ot&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(rl(t,0),ei(t,Ue,Cn,!1)),Mi(t,a),((Je&2)===0||t!==ot)&&(t===ot&&((Je&2)===0&&(la|=a),vt===4&&ei(t,Ue,Cn,!1)),Ps(t))}function Fy(t,s,a){if((Je&6)!==0)throw Error(i(327));var o=!a&&(s&127)===0&&(s&t.expiredLanes)===0||es(t,s),d=o?Xw(t,s):Gf(t,s,!0),m=o;do{if(d===0){tl&&!o&&ei(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!Kw(a)){d=Gf(t,s,!1),m=!1;continue}if(d===2){if(m=s,t.errorRecoveryDisabledLanes&m)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var _=t;d=Ao;var I=_.current.memoizedState.isDehydrated;if(I&&(rl(_,v).flags|=256),v=Gf(_,v,!1),v!==2){if(Pf&&!I){_.errorRecoveryDisabledLanes|=m,la|=m,d=4;break e}m=pn,pn=d,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}d=v}if(m=!1,d!==2)continue}}if(d===1){rl(t,0),ei(t,s,0,!0);break}e:{switch(o=t,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ei(o,s,Cn,!Xr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Cu+300-Oe(),10<d)){if(ei(o,s,Cn,!Xr),bs(o,0,!0)!==0)break e;yr=s,o.timeoutHandle=_1(Gy.bind(null,o,a,pn,Iu,zf,s,Cn,la,nl,Xr,m,"Throttled",-0,0),d);break e}Gy(o,a,pn,Iu,zf,s,Cn,la,nl,Xr,m,null,-0,0)}}break}while(!0);Ps(t)}function Gy(t,s,a,o,d,m,v,_,I,U,$,Z,q,G){if(t.timeoutHandle=-1,Z=s.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ss},Ly(s,m,Z);var fe=(m&62914560)===m?Cu-Oe():(m&4194048)===m?qy-Oe():0;if(fe=kE(Z,fe),fe!==null){yr=m,t.cancelPendingCommit=fe(Wy.bind(null,t,s,m,a,o,d,v,_,I,$,Z,null,q,G)),ei(t,m,v,!U);return}}Wy(t,s,m,a,o,d,v,_,I)}function Kw(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var d=a[o],m=d.getSnapshot;d=d.value;try{if(!En(m(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ei(t,s,a,o){s&=~Uf,s&=~la,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var d=s;0<d;){var m=31-Et(d),v=1<<m;o[m]=-1,d&=~v}a!==0&&Vi(t,a,s)}function ju(){return(Je&6)===0?(Co(0),!1):!0}function Ff(){if(Ve!==null){if(tt===0)var t=Ve.return;else t=Ve,ar=Ji=null,af(t),Ka=null,co=0,t=Ve;for(;t!==null;)wy(t.alternate,t),t=t.return;Ve=null}}function rl(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),yr=0,Ff(),ot=t,Ve=a=rr(t.current,null),Ue=s,tt=0,Sn=null,Xr=!1,tl=es(t,s),Pf=!1,nl=Cn=Uf=la=Zr=vt=0,pn=Ao=null,zf=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var d=31-Et(o),m=1<<d;s|=t[d],o&=~m}return pr=s,Jc(),a}function Qy(t,s){je=null,F.H=xo,s===$a||s===au?(s=o0(),tt=3):s===$d?(s=o0(),tt=4):tt=s===wf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sn=s,Ve===null&&(vt=1,bu(t,qn(s,t.current)))}function $y(){var t=Nn.current;return t===null?!0:(Ue&4194048)===Ue?Gn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Gn:!1}function Ky(){var t=F.H;return F.H=xo,t===null?xo:t}function Yy(){var t=F.A;return F.A=Qw,t}function ku(){vt=4,Xr||(Ue&4194048)!==Ue&&Nn.current!==null||(tl=!0),(Zr&134217727)===0&&(la&134217727)===0||ot===null||ei(ot,Ue,Cn,!1)}function Gf(t,s,a){var o=Je;Je|=2;var d=Ky(),m=Yy();(ot!==t||Ue!==s)&&(Iu=null,rl(t,s)),s=!1;var v=vt;e:do try{if(tt!==0&&Ve!==null){var _=Ve,I=Sn;switch(tt){case 8:Ff(),v=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(s=!0);var U=tt;if(tt=0,Sn=null,il(t,_,I,U),a&&tl){v=0;break e}break;default:U=tt,tt=0,Sn=null,il(t,_,I,U)}}Yw(),v=vt;break}catch($){Qy(t,$)}while(!0);return s&&t.shellSuspendCounter++,ar=Ji=null,Je=o,F.H=d,F.A=m,Ve===null&&(ot=null,Ue=0,Jc()),v}function Yw(){for(;Ve!==null;)Xy(Ve)}function Xw(t,s){var a=Je;Je|=2;var o=Ky(),d=Yy();ot!==t||Ue!==s?(Iu=null,Ru=Oe()+500,rl(t,s)):tl=es(t,s);e:do try{if(tt!==0&&Ve!==null){s=Ve;var m=Sn;t:switch(tt){case 1:tt=0,Sn=null,il(t,s,m,1);break;case 2:case 9:if(a0(m)){tt=0,Sn=null,Zy(s);break}s=function(){tt!==2&&tt!==9||ot!==t||(tt=7),Ps(t)},m.then(s,s);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:a0(m)?(tt=0,Sn=null,Zy(s)):(tt=0,Sn=null,il(t,s,m,7));break;case 5:var v=null;switch(Ve.tag){case 26:v=Ve.memoizedState;case 5:case 27:var _=Ve;if(v?V1(v):_.stateNode.complete){tt=0,Sn=null;var I=_.sibling;if(I!==null)Ve=I;else{var U=_.return;U!==null?(Ve=U,Du(U)):Ve=null}break t}}tt=0,Sn=null,il(t,s,m,5);break;case 6:tt=0,Sn=null,il(t,s,m,6);break;case 8:Ff(),vt=6;break e;default:throw Error(i(462))}}Zw();break}catch($){Qy(t,$)}while(!0);return ar=Ji=null,F.H=o,F.A=d,Je=a,Ve!==null?0:(ot=null,Ue=0,Jc(),vt)}function Zw(){for(;Ve!==null&&!ue();)Xy(Ve)}function Xy(t){var s=by(t.alternate,t,pr);t.memoizedProps=t.pendingProps,s===null?Du(t):Ve=s}function Zy(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=my(a,s,s.pendingProps,s.type,void 0,Ue);break;case 11:s=my(a,s,s.pendingProps,s.type.render,s.ref,Ue);break;case 5:af(s);default:wy(a,s),s=Ve=Yp(s,pr),s=by(a,s,pr)}t.memoizedProps=t.pendingProps,s===null?Du(t):Ve=s}function il(t,s,a,o){ar=Ji=null,af(s),Ka=null,co=0;var d=s.return;try{if(Uw(t,d,s,a,Ue)){vt=1,bu(t,qn(a,t.current)),Ve=null;return}}catch(m){if(d!==null)throw Ve=d,m;vt=1,bu(t,qn(a,t.current)),Ve=null;return}s.flags&32768?(Ge||o===1?t=!0:tl||(Ue&536870912)!==0?t=!1:(Xr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Nn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jy(s,t)):Du(s)}function Du(t){var s=t;do{if((s.flags&32768)!==0){Jy(s,Xr);return}t=s.return;var a=Bw(s.alternate,s,pr);if(a!==null){Ve=a;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=t}while(s!==null);vt===0&&(vt=5)}function Jy(t,s){do{var a=Hw(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);vt=6,Ve=null}function Wy(t,s,a,o,d,m,v,_,I){t.cancelPendingCommit=null;do Ou();while(Ut!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=kd,Ed(t,a,m,v,_,I),t===ot&&(Ve=ot=null,Ue=0),sl=s,Wr=t,yr=a,qf=m,Bf=d,By=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tE(Gt,function(){return r1(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,d=te.p,te.p=2,v=Je,Je|=4;try{Fw(t,s,a)}finally{Je=v,te.p=d,F.T=o}}Ut=1,e1(),t1(),n1()}}function e1(){if(Ut===1){Ut=0;var t=Wr,s=sl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var d=Je;Je|=4;try{Oy(s,t);var m=sm,v=zp(t.containerInfo),_=m.focusedElem,I=m.selectionRange;if(v!==_&&_&&_.ownerDocument&&Up(_.ownerDocument.documentElement,_)){if(I!==null&&Sd(_)){var U=I.start,$=I.end;if($===void 0&&($=U),"selectionStart"in _)_.selectionStart=U,_.selectionEnd=Math.min($,_.value.length);else{var Z=_.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var G=q.getSelection(),fe=_.textContent.length,ve=Math.min(I.start,fe),lt=I.end===void 0?ve:Math.min(I.end,fe);!G.extend&&ve>lt&&(v=lt,lt=ve,ve=v);var V=Pp(_,ve),D=Pp(_,lt);if(V&&D&&(G.rangeCount!==1||G.anchorNode!==V.node||G.anchorOffset!==V.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var P=Z.createRange();P.setStart(V.node,V.offset),G.removeAllRanges(),ve>lt?(G.addRange(P),G.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),G.addRange(P))}}}}for(Z=[],G=_;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Z.length;_++){var Y=Z[_];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Qu=!!nm,sm=nm=null}finally{Je=d,te.p=o,F.T=a}}t.current=s,Ut=2}}function t1(){if(Ut===2){Ut=0;var t=Wr,s=sl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var d=Je;Je|=4;try{Ry(t,s.alternate,s)}finally{Je=d,te.p=o,F.T=a}}Ut=3}}function n1(){if(Ut===4||Ut===3){Ut=0,De();var t=Wr,s=sl,a=yr,o=By;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ut=5:(Ut=0,sl=Wr=null,s1(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Jr=null),er(a),s=s.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Wn,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=F.T,d=te.p,te.p=2,F.T=null;try{for(var m=t.onRecoverableError,v=0;v<o.length;v++){var _=o[v];m(_.value,{componentStack:_.stack})}}finally{F.T=s,te.p=d}}(yr&3)!==0&&Ou(),Ps(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Hf?So++:(So=0,Hf=t):So=0,Co(0)}}function s1(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,lo(s)))}function Ou(){return e1(),t1(),n1(),r1()}function r1(){if(Ut!==5)return!1;var t=Wr,s=qf;qf=0;var a=er(yr),o=F.T,d=te.p;try{te.p=32>a?32:a,F.T=null,a=Bf,Bf=null;var m=Wr,v=yr;if(Ut=0,sl=Wr=null,yr=0,(Je&6)!==0)throw Error(i(331));var _=Je;if(Je|=4,Uy(m.current),Vy(m,m.current,v,a),Je=_,Co(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Wn,m)}catch{}return!0}finally{te.p=d,F.T=o,s1(t,s)}}function i1(t,s,a){s=qn(a,s),s=_f(t.stateNode,s,2),t=Qr(t,s,2),t!==null&&(Mi(t,2),Ps(t))}function nt(t,s,a){if(t.tag===3)i1(t,t,a);else for(;s!==null;){if(s.tag===3){i1(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Jr===null||!Jr.has(o))){t=qn(a,t),a=ay(2),o=Qr(s,a,2),o!==null&&(ly(a,o,s,t),Mi(o,2),Ps(o));break}}s=s.return}}function Qf(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new $w;var d=new Set;o.set(s,d)}else d=o.get(s),d===void 0&&(d=new Set,o.set(s,d));d.has(a)||(Pf=!0,d.add(a),t=Jw.bind(null,t,s,a),s.then(t,t))}function Jw(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(Ue&a)===a&&(vt===4||vt===3&&(Ue&62914560)===Ue&&300>Oe()-Cu?(Je&2)===0&&rl(t,0):Uf|=a,nl===Ue&&(nl=0)),Ps(t)}function a1(t,s){s===0&&(s=Ic()),t=Yi(t,s),t!==null&&(Mi(t,s),Ps(t))}function Ww(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),a1(t,a)}function eE(t,s){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(s),a1(t,a)}function tE(t,s){return wt(t,s)}var Mu=null,al=null,$f=!1,Vu=!1,Kf=!1,ti=0;function Ps(t){t!==al&&t.next===null&&(al===null?Mu=al=t:al=al.next=t),Vu=!0,$f||($f=!0,sE())}function Co(t,s){if(!Kf&&Vu){Kf=!0;do for(var a=!1,o=Mu;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var m=0;else{var v=o.suspendedLanes,_=o.pingedLanes;m=(1<<31-Et(42|t)+1)-1,m&=d&~(v&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,u1(o,m))}else m=Ue,m=bs(o,o===ot?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||es(o,m)||(a=!0,u1(o,m));o=o.next}while(a);Kf=!1}}function nE(){l1()}function l1(){Vu=$f=!1;var t=0;ti!==0&&fE()&&(t=ti);for(var s=Oe(),a=null,o=Mu;o!==null;){var d=o.next,m=o1(o,s);m===0?(o.next=null,a===null?Mu=d:a.next=d,d===null&&(al=a)):(a=o,(t!==0||(m&3)!==0)&&(Vu=!0)),o=d}Ut!==0&&Ut!==5||Co(t),ti!==0&&(ti=0)}function o1(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var v=31-Et(m),_=1<<v,I=d[v];I===-1?((_&a)===0||(_&o)!==0)&&(d[v]=wd(_,s)):I<=s&&(t.expiredLanes|=_),m&=~_}if(s=ot,a=Ue,a=bs(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ps(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||es(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&ps(o),er(a)){case 2:case 8:a=tn;break;case 32:a=Gt;break;case 268435456:a=ys;break;default:a=Gt}return o=c1.bind(null,t),a=wt(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&ps(o),t.callbackPriority=2,t.callbackNode=null,2}function c1(t,s){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ou()&&t.callbackNode!==a)return null;var o=Ue;return o=bs(t,t===ot?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Fy(t,o,s),o1(t,Oe()),t.callbackNode!=null&&t.callbackNode===a?c1.bind(null,t):null)}function u1(t,s){if(Ou())return null;Fy(t,s,!0)}function sE(){gE(function(){(Je&6)!==0?wt(ct,nE):l1()})}function Yf(){if(ti===0){var t=Ga;t===0&&(t=xs,xs<<=1,(xs&261888)===0&&(xs=256)),ti=t}return ti}function h1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function d1(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function rE(t,s,a,o,d){if(s==="submit"&&a&&a.stateNode===d){var m=h1((d[qt]||null).action),v=o.submitter;v&&(s=(s=v[qt]||null)?h1(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var _=new js("action","action",null,o,d);t.push({event:_,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ti!==0){var I=v?d1(d,v):new FormData(d);gf(a,{pending:!0,data:I,method:d.method,action:m},null,I)}}else typeof m=="function"&&(_.preventDefault(),I=v?d1(d,v):new FormData(d),gf(a,{pending:!0,data:I,method:d.method,action:m},m,I))},currentTarget:d}]})}}for(var Xf=0;Xf<jd.length;Xf++){var Zf=jd[Xf],iE=Zf.toLowerCase(),aE=Zf[0].toUpperCase()+Zf.slice(1);os(iE,"on"+aE)}os(Hp,"onAnimationEnd"),os(Fp,"onAnimationIteration"),os(Gp,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(ww,"onTransitionRun"),os(Ew,"onTransitionStart"),os(Tw,"onTransitionCancel"),os(Qp,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),As("onBeforeInput",["compositionend","keypress","textInput","paste"]),As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function f1(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],d=o.event;o=o.listeners;e:{var m=void 0;if(s)for(var v=o.length-1;0<=v;v--){var _=o[v],I=_.instance,U=_.currentTarget;if(_=_.listener,I!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=U;try{m(d)}catch($){Zc($)}d.currentTarget=null,m=I}else for(v=0;v<o.length;v++){if(_=o[v],I=_.instance,U=_.currentTarget,_=_.listener,I!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=U;try{m(d)}catch($){Zc($)}d.currentTarget=null,m=I}}}}function Le(t,s){var a=s[Na];a===void 0&&(a=s[Na]=new Set);var o=t+"__bubble";a.has(o)||(m1(s,t,2,!1),a.add(o))}function Jf(t,s,a){var o=0;s&&(o|=4),m1(a,t,o,s)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function Wf(t){if(!t[Lu]){t[Lu]=!0,zl.forEach(function(a){a!=="selectionchange"&&(lE.has(a)||Jf(a,!1,t),Jf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Lu]||(s[Lu]=!0,Jf("selectionchange",!1,s))}}function m1(t,s,a,o){switch(H1(s)){case 2:var d=ME;break;case 8:d=VE;break;default:d=mm}a=d.bind(null,s,a,t),d=void 0,!qi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(s,a,{capture:!0,passive:d}):t.addEventListener(s,a,!0):d!==void 0?t.addEventListener(s,a,{passive:d}):t.addEventListener(s,a,!1)}function em(t,s,a,o,d){var m=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var _=o.stateNode.containerInfo;if(_===d)break;if(v===4)for(v=o.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;_!==null;){if(v=Ts(_),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){o=m=v;continue e}_=_.parentNode}}o=o.return}Vr(function(){var U=m,$=Ln(a),Z=[];e:{var q=$p.get(t);if(q!==void 0){var G=js,fe=t;switch(t){case"keypress":if(Hi(a)===0)break e;case"keydown":case"keyup":G=Kc;break;case"focusin":fe="focus",G=Gi;break;case"focusout":fe="blur",G=Gi;break;case"beforeblur":case"afterblur":G=Gi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case Hp:case Fp:case Gp:G=qc;break;case Qp:G=T;break;case"scroll":case"scrollend":G=Jl;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=sr;break;case"toggle":case"beforetoggle":G=Ie}var ve=(s&4)!==0,lt=!ve&&(t==="scroll"||t==="scrollend"),V=ve?q!==null?q+"Capture":null:q;ve=[];for(var D=U,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||V===null||(Y=rs(D,V),Y!=null&&ve.push(Io(D,Y,P))),lt)break;D=D.return}0<ve.length&&(q=new G(q,fe,null,a,$),Z.push({event:q,listeners:ve}))}}if((s&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==Yl&&(fe=a.relatedTarget||a.fromElement)&&(Ts(fe)||fe[ws]))break e;if((G||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,G?(fe=a.relatedTarget||a.toElement,G=U,fe=fe?Ts(fe):null,fe!==null&&(lt=c(fe),ve=fe.tag,fe!==lt||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(G=null,fe=U),G!==fe)){if(ve=Wl,Y="onMouseLeave",V="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ve=sr,Y="onPointerLeave",V="onPointerEnter",D="pointer"),lt=G==null?q:_n(G),P=fe==null?q:_n(fe),q=new ve(Y,D+"leave",G,a,$),q.target=lt,q.relatedTarget=P,Y=null,Ts($)===U&&(ve=new ve(V,D+"enter",fe,a,$),ve.target=P,ve.relatedTarget=lt,Y=ve),lt=Y,G&&fe)t:{for(ve=oE,V=G,D=fe,P=0,Y=V;Y;Y=ve(Y))P++;Y=0;for(var ye=D;ye;ye=ve(ye))Y++;for(;0<P-Y;)V=ve(V),P--;for(;0<Y-P;)D=ve(D),Y--;for(;P--;){if(V===D||D!==null&&V===D.alternate){ve=V;break t}V=ve(V),D=ve(D)}ve=null}else ve=null;G!==null&&g1(Z,q,G,ve,!1),fe!==null&&lt!==null&&g1(Z,lt,fe,ve,!0)}}e:{if(q=U?_n(U):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Ke=kp;else if(Ip(q))if(Dp)Ke=vw;else{Ke=yw;var ge=pw}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&Ra(U.elementType)&&(Ke=kp):Ke=xw;if(Ke&&(Ke=Ke(t,U))){jp(Z,Ke,a,$);break e}ge&&ge(t,q,U),t==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&Ql(q,"number",q.value)}switch(ge=U?_n(U):window,t){case"focusin":(Ip(ge)||ge.contentEditable==="true")&&(La=ge,Cd=U,ro=null);break;case"focusout":ro=Cd=La=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,qp(Z,a,$);break;case"selectionchange":if(_w)break;case"keydown":case"keyup":qp(Z,a,$)}var ke;if(Ze)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Va?Qi(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Os&&a.locale!=="ko"&&(Va||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Va&&(ke=Zl()):(Is=$,Xl="value"in Is?Is.value:Is.textContent,Va=!0)),ge=Pu(U,ze),0<ge.length&&(ze=new Ds(ze,t,null,a,$),Z.push({event:ze,listeners:ge}),ke?ze.data=ke:(ke=Ma(a),ke!==null&&(ze.data=ke)))),(ke=Un?dw(t,a):fw(t,a))&&(ze=Pu(U,"onBeforeInput"),0<ze.length&&(ge=new Ds("onBeforeInput","beforeinput",null,a,$),Z.push({event:ge,listeners:ze}),ge.data=ke)),rE(Z,t,U,a,$)}f1(Z,s)})}function Io(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Pu(t,s){for(var a=s+"Capture",o=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=rs(t,a),d!=null&&o.unshift(Io(t,d,m)),d=rs(t,s),d!=null&&o.push(Io(t,d,m))),t.tag===3)return o;t=t.return}return[]}function oE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g1(t,s,a,o,d){for(var m=s._reactName,v=[];a!==null&&a!==o;){var _=a,I=_.alternate,U=_.stateNode;if(_=_.tag,I!==null&&I===o)break;_!==5&&_!==26&&_!==27||U===null||(I=U,d?(U=rs(a,m),U!=null&&v.unshift(Io(a,U,I))):d||(U=rs(a,m),U!=null&&v.push(Io(a,U,I)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var cE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function p1(t){return(typeof t=="string"?t:""+t).replace(cE,`
`).replace(uE,"")}function y1(t,s){return s=p1(s),p1(t)===s}function at(t,s,a,o,d,m){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||dn(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&dn(t,""+o);break;case"className":wn(t,"class",o);break;case"tabIndex":wn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,o);break;case"style":Kl(t,o,m);break;case"data":if(s!=="object"){wn(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ia(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&at(t,s,"name",d.name,d,null),at(t,s,"formEncType",d.formEncType,d,null),at(t,s,"formMethod",d.formMethod,d,null),at(t,s,"formTarget",d.formTarget,d,null)):(at(t,s,"encType",d.encType,d,null),at(t,s,"method",d.method,d,null),at(t,s,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ia(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ss);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Sa(t,"popover",o);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Sa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pc.get(a)||a,Sa(t,a,o))}}function tm(t,s,a,o,d,m){switch(a){case"style":Kl(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof o=="string"?dn(t,o):(typeof o=="number"||typeof o=="bigint")&&dn(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ql.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),m=t[qt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,d),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,d);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Sa(t,a,o)}}}function Zt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(t,s,m,v,a,null)}}d&&at(t,s,"srcSet",a.srcSet,a,null),o&&at(t,s,"src",a.src,a,null);return;case"input":Le("invalid",t);var _=m=v=d=null,I=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":d=$;break;case"type":v=$;break;case"checked":I=$;break;case"defaultChecked":U=$;break;case"value":m=$;break;case"defaultValue":_=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:at(t,s,o,$,a,null)}}Mc(t,m,_,I,U,v,d,!1);return;case"select":Le("invalid",t),o=v=m=null;for(d in a)if(a.hasOwnProperty(d)&&(_=a[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":v=_;break;case"multiple":o=_;default:at(t,s,d,_,a,null)}s=m,a=v,t.multiple=!!o,s!=null?kr(t,!!o,s,!1):a!=null&&kr(t,!!o,a,!0);return;case"textarea":Le("invalid",t),m=d=o=null;for(v in a)if(a.hasOwnProperty(v)&&(_=a[v],_!=null))switch(v){case"value":o=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:at(t,s,v,_,a,null)}Dr(t,o,d,m);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:at(t,s,I,o,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<Ro.length;o++)Le(Ro[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:at(t,s,U,o,a,null)}return;default:if(Ra(s)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&tm(t,s,$,o,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(o=a[_],o!=null&&at(t,s,_,o,a,null))}function hE(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,v=null,_=null,I=null,U=null,$=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=Z;default:o.hasOwnProperty(G)||at(t,s,G,null,o,Z)}}for(var q in o){var G=o[q];if(Z=a[q],o.hasOwnProperty(q)&&(G!=null||Z!=null))switch(q){case"type":m=G;break;case"name":d=G;break;case"checked":U=G;break;case"defaultChecked":$=G;break;case"value":v=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:G!==Z&&at(t,s,q,G,o,Z)}}Ca(t,v,_,I,U,$,m,d);return;case"select":G=v=_=q=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":G=I;default:o.hasOwnProperty(m)||at(t,s,m,null,o,I)}for(d in o)if(m=o[d],I=a[d],o.hasOwnProperty(d)&&(m!=null||I!=null))switch(d){case"value":q=m;break;case"defaultValue":_=m;break;case"multiple":v=m;default:m!==I&&at(t,s,d,m,o,I)}s=_,a=v,o=G,q!=null?kr(t,!!a,q,!1):!!o!=!!a&&(s!=null?kr(t,!!a,s,!0):kr(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(_ in a)if(d=a[_],a.hasOwnProperty(_)&&d!=null&&!o.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:at(t,s,_,null,o,d)}for(v in o)if(d=o[v],m=a[v],o.hasOwnProperty(v)&&(d!=null||m!=null))switch(v){case"value":q=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&at(t,s,v,d,o,m)}Vc(t,q,G);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:at(t,s,fe,null,o,q)}for(I in o)if(q=o[I],G=a[I],o.hasOwnProperty(I)&&q!==G&&(q!=null||G!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:at(t,s,I,q,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!o.hasOwnProperty(ve)&&at(t,s,ve,null,o,q);for(U in o)if(q=o[U],G=a[U],o.hasOwnProperty(U)&&q!==G&&(q!=null||G!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,s));break;default:at(t,s,U,q,o,G)}return;default:if(Ra(s)){for(var lt in a)q=a[lt],a.hasOwnProperty(lt)&&q!==void 0&&!o.hasOwnProperty(lt)&&tm(t,s,lt,void 0,o,q);for($ in o)q=o[$],G=a[$],!o.hasOwnProperty($)||q===G||q===void 0&&G===void 0||tm(t,s,$,q,o,G);return}}for(var V in a)q=a[V],a.hasOwnProperty(V)&&q!=null&&!o.hasOwnProperty(V)&&at(t,s,V,null,o,q);for(Z in o)q=o[Z],G=a[Z],!o.hasOwnProperty(Z)||q===G||q==null&&G==null||at(t,s,Z,q,o,G)}function x1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var d=a[o],m=d.transferSize,v=d.initiatorType,_=d.duration;if(m&&_&&x1(v)){for(v=0,_=d.responseEnd,o+=1;o<a.length;o++){var I=a[o],U=I.startTime;if(U>_)break;var $=I.transferSize,Z=I.initiatorType;$&&x1(Z)&&(I=I.responseEnd,v+=$*(I<_?1:(_-U)/(I-U)))}if(--o,s+=8*(m+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var nm=null,sm=null;function Uu(t){return t.nodeType===9?t:t.ownerDocument}function v1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b1(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function rm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var im=null;function fE(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var _1=typeof setTimeout=="function"?setTimeout:void 0,mE=typeof clearTimeout=="function"?clearTimeout:void 0,w1=typeof Promise=="function"?Promise:void 0,gE=typeof queueMicrotask=="function"?queueMicrotask:typeof w1<"u"?function(t){return w1.resolve(null).then(t).catch(pE)}:_1;function pE(t){setTimeout(function(){throw t})}function ni(t){return t==="head"}function E1(t,s){var a=s,o=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(d),ul(s);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")jo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,jo(a);for(var m=a.firstChild;m;){var v=m.nextSibling,_=m.nodeName;m[Es]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}else a==="body"&&jo(t.ownerDocument.body);a=d}while(a);ul(s)}function T1(t,s){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function am(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":am(a),Aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yE(t,s,a,o){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Es])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function xE(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function N1(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Qn(t.nextSibling),t===null))return null;return t}function lm(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vE(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Qn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var cm=null;function A1(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Qn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function S1(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function C1(t,s,a){switch(s=Uu(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function jo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Aa(t)}var $n=new Map,R1=new Set;function zu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xr=te.d;te.d={f:bE,r:_E,D:wE,C:EE,L:TE,m:NE,X:SE,S:AE,M:CE};function bE(){var t=xr.f(),s=ju();return t||s}function _E(t){var s=Vn(t);s!==null&&s.tag===5&&s.type==="form"?Q0(s):xr.r(t)}var ll=typeof document>"u"?null:document;function I1(t,s,a){var o=ll;if(o&&typeof s=="string"&&s){var d=hn(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),R1.has(d)||(R1.add(d),t={rel:t,crossOrigin:a,href:s},o.querySelector(d)===null&&(s=o.createElement("link"),Zt(s,"link",t),It(s),o.head.appendChild(s)))}}function wE(t){xr.D(t),I1("dns-prefetch",t,null)}function EE(t,s){xr.C(t,s),I1("preconnect",t,s)}function TE(t,s,a){xr.L(t,s,a);var o=ll;if(o&&t&&s){var d='link[rel="preload"][as="'+hn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+hn(a.imageSizes)+'"]')):d+='[href="'+hn(t)+'"]';var m=d;switch(s){case"style":m=ol(t);break;case"script":m=cl(t)}$n.has(m)||(t=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),$n.set(m,t),o.querySelector(d)!==null||s==="style"&&o.querySelector(ko(m))||s==="script"&&o.querySelector(Do(m))||(s=o.createElement("link"),Zt(s,"link",t),It(s),o.head.appendChild(s)))}}function NE(t,s){xr.m(t,s);var a=ll;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(t)+'"]',m=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=cl(t)}if(!$n.has(m)&&(t=E({rel:"modulepreload",href:t},s),$n.set(m,t),a.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Do(m)))return}o=a.createElement("link"),Zt(o,"link",t),It(o),a.head.appendChild(o)}}}function AE(t,s,a){xr.S(t,s,a);var o=ll;if(o&&t){var d=Ns(o).hoistableStyles,m=ol(t);s=s||"default";var v=d.get(m);if(!v){var _={loading:0,preload:null};if(v=o.querySelector(ko(m)))_.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},a),(a=$n.get(m))&&um(t,a);var I=v=o.createElement("link");It(I),Zt(I,"link",t),I._p=new Promise(function(U,$){I.onload=U,I.onerror=$}),I.addEventListener("load",function(){_.loading|=1}),I.addEventListener("error",function(){_.loading|=2}),_.loading|=4,qu(v,s,o)}v={type:"stylesheet",instance:v,count:1,state:_},d.set(m,v)}}}function SE(t,s){xr.X(t,s);var a=ll;if(a&&t){var o=Ns(a).hoistableScripts,d=cl(t),m=o.get(d);m||(m=a.querySelector(Do(d)),m||(t=E({src:t,async:!0},s),(s=$n.get(d))&&hm(t,s),m=a.createElement("script"),It(m),Zt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function CE(t,s){xr.M(t,s);var a=ll;if(a&&t){var o=Ns(a).hoistableScripts,d=cl(t),m=o.get(d);m||(m=a.querySelector(Do(d)),m||(t=E({src:t,async:!0,type:"module"},s),(s=$n.get(d))&&hm(t,s),m=a.createElement("script"),It(m),Zt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function j1(t,s,a,o){var d=(d=Ee.current)?zu(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ol(a.href),a=Ns(d).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ol(a.href);var m=Ns(d).hoistableStyles,v=m.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,v),(m=d.querySelector(ko(t)))&&!m._p&&(v.instance=m,v.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),m||RE(d,t,a,v.state))),s&&o===null)throw Error(i(528,""));return v}if(s&&o!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=cl(a),a=Ns(d).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function ol(t){return'href="'+hn(t)+'"'}function ko(t){return'link[rel="stylesheet"]['+t+"]"}function k1(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function RE(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Zt(s,"link",a),It(s),t.head.appendChild(s))}function cl(t){return'[src="'+hn(t)+'"]'}function Do(t){return"script[async]"+t}function D1(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(o)return s.instance=o,It(o),o;var d=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),It(o),Zt(o,"style",d),qu(o,a.precedence,t),s.instance=o;case"stylesheet":d=ol(a.href);var m=t.querySelector(ko(d));if(m)return s.state.loading|=4,s.instance=m,It(m),m;o=k1(a),(d=$n.get(d))&&um(o,d),m=(t.ownerDocument||t).createElement("link"),It(m);var v=m;return v._p=new Promise(function(_,I){v.onload=_,v.onerror=I}),Zt(m,"link",o),s.state.loading|=4,qu(m,a.precedence,t),s.instance=m;case"script":return m=cl(a.src),(d=t.querySelector(Do(m)))?(s.instance=d,It(d),d):(o=a,(d=$n.get(m))&&(o=E({},a),hm(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),It(d),Zt(d,"link",o),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,qu(o,a.precedence,t));return s.instance}function qu(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,m=d,v=0;v<o.length;v++){var _=o[v];if(_.dataset.precedence===s)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function um(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function hm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Bu=null;function O1(t,s,a){if(Bu===null){var o=new Map,d=Bu=new Map;d.set(a,o)}else d=Bu,o=d.get(a),o||(o=new Map,d.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[Es]||m[Rt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=t+v;var _=o.get(v);_?_.push(m):o.set(v,[m])}}return o}function M1(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function IE(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function V1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function jE(t,s,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=ol(o.href),m=s.querySelector(ko(d));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Hu.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,It(m);return}m=s.ownerDocument||s,o=k1(o),(d=$n.get(d))&&um(o,d),m=m.createElement("link"),It(m);var v=m;v._p=new Promise(function(_,I){v.onload=_,v.onerror=I}),Zt(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Hu.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var dm=0;function kE(t,s){return t.stylesheets&&t.count===0&&Gu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Gu(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&dm===0&&(dm=62500*dE());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gu(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>dm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function Hu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fu=null;function Gu(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fu=new Map,s.forEach(DE,t),Fu=null,Hu.call(t))}function DE(t,s){if(!(s.state.loading&4)){var a=Fu.get(t);if(a)var o=a.get(null);else{a=new Map,Fu.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var v=d[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}d=s.instance,v=d.getAttribute("data-precedence"),m=a.get(v)||o,m===o&&a.set(null,d),a.set(v,d),this.count++,o=Hu.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Oo={$$typeof:de,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function OE(t,s,a,o,d,m,v,_,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.hiddenUpdates=_s(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function L1(t,s,a,o,d,m,v,_,I,U,$,Z){return t=new OE(t,s,a,v,I,U,$,Z,_),s=1,m===!0&&(s|=24),m=Tn(3,null,null,s),t.current=m,m.stateNode=t,s=Fd(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:s},Kd(m),t}function P1(t){return t?(t=za,t):za}function U1(t,s,a,o,d,m){d=P1(d),o.context===null?o.context=d:o.pendingContext=d,o=Gr(s),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Qr(t,o,s),a!==null&&(yn(a,t,s),ho(a,t,s))}function z1(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function fm(t,s){z1(t,s),(t=t.alternate)&&z1(t,s)}function q1(t){if(t.tag===13||t.tag===31){var s=Yi(t,67108864);s!==null&&yn(s,t,67108864),fm(t,67108864)}}function B1(t){if(t.tag===13||t.tag===31){var s=Rn();s=Li(s);var a=Yi(t,s);a!==null&&yn(a,t,s),fm(t,s)}}var Qu=!0;function ME(t,s,a,o){var d=F.T;F.T=null;var m=te.p;try{te.p=2,mm(t,s,a,o)}finally{te.p=m,F.T=d}}function VE(t,s,a,o){var d=F.T;F.T=null;var m=te.p;try{te.p=8,mm(t,s,a,o)}finally{te.p=m,F.T=d}}function mm(t,s,a,o){if(Qu){var d=gm(o);if(d===null)em(t,s,o,$u,a),F1(t,o);else if(PE(d,t,s,a,o))o.stopPropagation();else if(F1(t,o),s&4&&-1<LE.indexOf(t)){for(;d!==null;){var m=Vn(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=vs(m.pendingLanes);if(v!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;v;){var I=1<<31-Et(v);_.entanglements[1]|=I,v&=~I}Ps(m),(Je&6)===0&&(Ru=Oe()+500,Co(0))}}break;case 31:case 13:_=Yi(m,2),_!==null&&yn(_,m,2),ju(),fm(m,2)}if(m=gm(o),m===null&&em(t,s,o,$u,a),m===d)break;d=m}d!==null&&o.stopPropagation()}else em(t,s,o,null,a)}}function gm(t){return t=Ln(t),pm(t)}var $u=null;function pm(t){if($u=null,t=Ts(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=f(s),t!==null)return t;t=null}else if(a===31){if(t=g(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return $u=t,null}function H1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case ct:return 2;case tn:return 8;case Gt:case On:return 32;case ys:return 268435456;default:return 32}default:return 32}}var ym=!1,si=null,ri=null,ii=null,Mo=new Map,Vo=new Map,ai=[],LE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F1(t,s){switch(t){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Mo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(s.pointerId)}}function Lo(t,s,a,o,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Vn(s),s!==null&&q1(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function PE(t,s,a,o,d){switch(s){case"focusin":return si=Lo(si,t,s,a,o,d),!0;case"dragenter":return ri=Lo(ri,t,s,a,o,d),!0;case"mouseover":return ii=Lo(ii,t,s,a,o,d),!0;case"pointerover":var m=d.pointerId;return Mo.set(m,Lo(Mo.get(m)||null,t,s,a,o,d)),!0;case"gotpointercapture":return m=d.pointerId,Vo.set(m,Lo(Vo.get(m)||null,t,s,a,o,d)),!0}return!1}function G1(t){var s=Ts(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){t.blockedOn=s,ts(t.priority,function(){B1(a)});return}}else if(s===31){if(s=g(a),s!==null){t.blockedOn=s,ts(t.priority,function(){B1(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=gm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Yl=o,a.target.dispatchEvent(o),Yl=null}else return s=Vn(a),s!==null&&q1(s),t.blockedOn=a,!1;s.shift()}return!0}function Q1(t,s,a){Ku(t)&&a.delete(s)}function UE(){ym=!1,si!==null&&Ku(si)&&(si=null),ri!==null&&Ku(ri)&&(ri=null),ii!==null&&Ku(ii)&&(ii=null),Mo.forEach(Q1),Vo.forEach(Q1)}function Yu(t,s){t.blockedOn===s&&(t.blockedOn=null,ym||(ym=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UE)))}var Xu=null;function $1(t){Xu!==t&&(Xu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xu===t&&(Xu=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],d=t[s+2];if(typeof o!="function"){if(pm(o||a)===null)continue;break}var m=Vn(a);m!==null&&(t.splice(s,3),s-=3,gf(m,{pending:!0,data:d,method:a.method,action:o},o,d))}}))}function ul(t){function s(I){return Yu(I,t)}si!==null&&Yu(si,t),ri!==null&&Yu(ri,t),ii!==null&&Yu(ii,t),Mo.forEach(s),Vo.forEach(s);for(var a=0;a<ai.length;a++){var o=ai[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ai.length&&(a=ai[0],a.blockedOn===null);)G1(a),a.blockedOn===null&&ai.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var d=a[o],m=a[o+1],v=d[qt]||null;if(typeof m=="function")v||$1(a);else if(v){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,v=m[qt]||null)_=v.formAction;else if(pm(d)!==null)continue}else _=v.action;typeof _=="function"?a[o+1]=_:(a.splice(o,3),o-=3),$1(a)}}}function K1(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function xm(t){this._internalRoot=t}Zu.prototype.render=xm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,o=Rn();U1(a,o,t,s,null,null)},Zu.prototype.unmount=xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;U1(t.current,2,null,t,null,null),ju(),s[ws]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var s=jc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<ai.length&&s!==0&&s<ai[a].priority;a++);ai.splice(a,0,t),a===0&&G1(t)}};var Y1=e.version;if(Y1!=="19.2.0")throw Error(i(527,Y1,"19.2.0"));te.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=x(s),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var zE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Wn=Ju.inject(zE),Qt=Ju}catch{}}return Uo.createRoot=function(t,s){if(!l(t))throw Error(i(299));var a=!1,o="",d=ny,m=sy,v=ry;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=L1(t,1,!1,null,null,a,o,null,d,m,v,K1),t[ws]=s.current,Wf(t),new xm(s)},Uo.hydrateRoot=function(t,s,a){if(!l(t))throw Error(i(299));var o=!1,d="",m=ny,v=sy,_=ry,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),s=L1(t,1,!0,s,a??null,o,d,I,m,v,_,K1),s.context=P1(null),a=s.current,o=Rn(),o=Li(o),d=Gr(o),d.callback=null,Qr(a,d,o),a=o,s.current.lanes=a,Mi(s,a),Ps(s),t[ws]=s.current,Wf(t),new Zu(s)},Uo.version="19.2.0",Uo}var ix;function ZE(){if(ix)return _m.exports;ix=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_m.exports=XE(),_m.exports}var JE=ZE();const WE=tb(JE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),ax=r=>{const e=tT(r);return e.charAt(0).toUpperCase()+e.slice(1)},nb=(...r)=>r.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),nT=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=ne.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:f,...g},p)=>ne.createElement("svg",{ref:p,...sT,width:e,height:e,stroke:r,strokeWidth:i?Number(n)*24/Number(e):n,className:nb("lucide",l),...!c&&!nT(g)&&{"aria-hidden":"true"},...g},[...f.map(([x,w])=>ne.createElement(x,w)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(r,e)=>{const n=ne.forwardRef(({className:i,...l},c)=>ne.createElement(rT,{ref:c,iconNode:e,className:nb(`lucide-${eT(ax(r))}`,`lucide-${r}`,i),...l}));return n.displayName=ax(r),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gh=oe("arrow-left",iT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zs=oe("arrow-right",aT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Gh=oe("award",lT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xi=oe("book-open",oT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],sb=oe("briefcase",cT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],hT=oe("building-2",uT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hm=oe("calendar",dT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],mT=oe("chart-column",fT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],pT=oe("chart-pie",gT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xT=oe("chevron-down",yT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Qo=oe("chevron-left",vT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Nm=oe("chevron-right",bT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ph=oe("circle-alert",_T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Eg=oe("circle-check-big",wT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$o=oe("circle-check",ET);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],yh=oe("circle-plus",TT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_l=oe("circle-question-mark",NT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],ST=oe("circle-user",AT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],rb=oe("circle-x",CT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ib=oe("clock",RT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ab=oe("crown",IT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fm=oe("eye",jT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Gm=oe("facebook",kT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],lx=oe("file-check",DT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],MT=oe("file-search",OT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],LT=oe("file-text",VT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],UT=oe("file",PT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],qT=oe("flag",zT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Tg=oe("flame",BT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],FT=oe("globe",HT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],mc=oe("graduation-cap",GT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$T=oe("house",QT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],YT=oe("info",KT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],xh=oe("layers",XT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],JT=oe("layout-dashboard",ZT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],eN=oe("library",WT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ox=oe("list",tN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qs=oe("loader-circle",nN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],cx=oe("log-in",sN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qm=oe("lock",rN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vh=oe("log-out",iN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ux=oe("mail",aN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bh=oe("map-pin",lN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],_h=oe("medal",oN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uN=oe("menu",cN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],wh=oe("message-circle",hN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],fN=oe("monitor-play",dN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],gN=oe("panels-top-left",mN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],yN=oe("pen-tool",pN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vN=oe("phone",xN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_N=oe("play",bN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],EN=oe("refresh-cw",wN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],NN=oe("rocket",TN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ng=oe("save",AN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],lb=oe("school",SN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Eh=oe("search",CN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],IN=oe("shield-check",RN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],kN=oe("sparkles",jN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ON=oe("square-check-big",DN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],hx=oe("square-pen",MN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ag=oe("star",VN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ob=oe("tag",LN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],cb=oe("target",PN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$m=oe("trash-2",UN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],dx=oe("trending-up",zN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],BN=oe("triangle-alert",qN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ub=oe("trophy",HN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],GN=oe("user-plus",FN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wl=oe("user",QN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],KN=oe("users",$N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],tc=oe("video",YN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qh=oe("x",XN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],JN=oe("zap",ZN),WN=()=>{};var fx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let l=r.charCodeAt(i);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},eA=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const l=r[n++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];e[i++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];e[i++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return e.join("")},db={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,x=p?r[l+2]:0,w=c>>2,E=(c&3)<<4|g>>4;let C=(g&15)<<2|x>>6,z=x&63;p||(z=64,f||(C=64)),i.push(n[w],n[E],n[C],n[z])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(hb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):eA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const x=l<r.length?n[r.charAt(l)]:64;++l;const E=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||x==null||E==null)throw new tA;const C=c<<2|g>>4;if(i.push(C),x!==64){const z=g<<4&240|x>>2;if(i.push(z),E!==64){const Q=x<<6&192|E;i.push(Q)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class tA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nA=function(r){const e=hb(r);return db.encodeByteArray(e,!0)},Th=function(r){return nA(r).replace(/\./g,"")},fb=function(r){try{return db.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=()=>sA().__FIREBASE_DEFAULTS__,iA=()=>{if(typeof process>"u"||typeof fx>"u")return;const r=fx.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},aA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&fb(r[1]);return e&&JSON.parse(e)},$h=()=>{try{return WN()||rA()||iA()||aA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mb=r=>{var e,n;return(n=(e=$h())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},lA=r=>{const e=mb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},gb=()=>{var r;return(r=$h())==null?void 0:r.config},pb=r=>{var e;return(e=$h())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yb(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Th(JSON.stringify(n)),Th(JSON.stringify(f)),""].join(".")}const Ko={};function uA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ko))Ko[e]?r.emulator.push(e):r.prod.push(e);return r}function hA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let mx=!1;function xb(r,e){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||Ko[r]===e||Ko[r]||mx)return;Ko[r]=e;function n(C){return`__firebase__banner__${C}`}const i="__firebase__banner",c=uA().prod.length>0;function f(){const C=document.getElementById(i);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,z){C.setAttribute("width","24"),C.setAttribute("id",z),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function x(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{mx=!0,f()},C}function w(C,z){C.setAttribute("id",z),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function E(){const C=hA(i),z=n("text"),Q=document.getElementById(z)||document.createElement("span"),ee=n("learnmore"),B=document.getElementById(ee)||document.createElement("a"),re=n("preprendIcon"),ie=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const de=C.element;g(de),w(B,ee);const Ce=x();p(ie,re),de.append(ie,Q,B,Ce),document.body.appendChild(de)}c?(Q.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function fA(){var e;const r=(e=$h())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function gA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pA(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yA(){return!fA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bb(){try{return typeof indexedDB=="object"}catch{return!1}}function _b(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}function xA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="FirebaseError";class gs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=vA,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ba.prototype.create)}}class ba{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],f=c?bA(c,i):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new gs(l,g,i)}}function bA(r,e){return r.replace(_A,(n,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const _A=/\{\$([^}]+)}/g;function wA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function vi(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const l of n){if(!i.includes(l))return!1;const c=r[l],f=e[l];if(gx(c)&&gx(f)){if(!vi(c,f))return!1}else if(c!==f)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function gx(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function zo(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,c]=i.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function qo(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function EA(r,e){const n=new TA(r,e);return n.subscribe.bind(n)}class TA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let l;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");NA(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:i},l.next===void 0&&(l.next=Am),l.error===void 0&&(l.error=Am),l.complete===void 0&&(l.complete=Am);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=1e3,SA=2,CA=14400*1e3,RA=.5;function px(r,e=AA,n=SA){const i=e*Math.pow(n,r),l=Math.round(RA*i*(Math.random()-.5)*2);return Math.min(CA,i+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r){return r&&r._delegate?r._delegate:r}class ds{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new oA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kA(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});i.resolve(c)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);i===g&&f.resolve(l)}return l}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(e),this.onInitCallbacks.set(i,l);const c=this.instances.get(i);return c&&e(c,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jA(r){return r===oa?void 0:r}function kA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const OA={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},MA=qe.INFO,VA={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},LA=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),l=VA[e];if(l)console[l](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kh{constructor(e){this.name=e,this._logLevel=MA,this._logHandler=LA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const PA=(r,e)=>e.some(n=>r instanceof n);let yx,xx;function UA(){return yx||(yx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zA(){return xx||(xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wb=new WeakMap,Km=new WeakMap,Eb=new WeakMap,Sm=new WeakMap,Sg=new WeakMap;function qA(r){const e=new Promise((n,i)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(mi(r.result)),l()},f=()=>{i(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&wb.set(n,r)}).catch(()=>{}),Sg.set(e,r),e}function BA(r){if(Km.has(r))return;const e=new Promise((n,i)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{i(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Km.set(r,e)}let Ym={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Eb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function HA(r){Ym=r(Ym)}function FA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(Cm(this),e,...n);return Eb.set(i,e.sort?e.sort():[e]),mi(i)}:zA().includes(r)?function(...e){return r.apply(Cm(this),e),mi(wb.get(this))}:function(...e){return mi(r.apply(Cm(this),e))}}function GA(r){return typeof r=="function"?FA(r):(r instanceof IDBTransaction&&BA(r),PA(r,UA())?new Proxy(r,Ym):r)}function mi(r){if(r instanceof IDBRequest)return qA(r);if(Sm.has(r))return Sm.get(r);const e=GA(r);return e!==r&&(Sm.set(r,e),Sg.set(e,r)),e}const Cm=r=>Sg.get(r);function Tb(r,e,{blocked:n,upgrade:i,blocking:l,terminated:c}={}){const f=indexedDB.open(r,e),g=mi(f);return i&&f.addEventListener("upgradeneeded",p=>{i(mi(f.result),p.oldVersion,p.newVersion,mi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",x=>l(x.oldVersion,x.newVersion,x))}).catch(()=>{}),g}const QA=["get","getKey","getAll","getAllKeys","count"],$A=["put","add","delete","clear"],Rm=new Map;function vx(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,l=$A.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||QA.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let x=p.store;return i&&(x=x.index(g.shift())),(await Promise.all([x[n](...g),l&&p.done]))[0]};return Rm.set(e,c),c}HA(r=>({...r,get:(e,n,i)=>vx(e,n)||r.get(e,n,i),has:(e,n)=>!!vx(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function YA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xm="@firebase/app",bx="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Kh("@firebase/app"),XA="@firebase/app-compat",ZA="@firebase/analytics-compat",JA="@firebase/analytics",WA="@firebase/app-check-compat",eS="@firebase/app-check",tS="@firebase/auth",nS="@firebase/auth-compat",sS="@firebase/database",rS="@firebase/data-connect",iS="@firebase/database-compat",aS="@firebase/functions",lS="@firebase/functions-compat",oS="@firebase/installations",cS="@firebase/installations-compat",uS="@firebase/messaging",hS="@firebase/messaging-compat",dS="@firebase/performance",fS="@firebase/performance-compat",mS="@firebase/remote-config",gS="@firebase/remote-config-compat",pS="@firebase/storage",yS="@firebase/storage-compat",xS="@firebase/firestore",vS="@firebase/ai",bS="@firebase/firestore-compat",_S="firebase",wS="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="[DEFAULT]",ES={[Xm]:"fire-core",[XA]:"fire-core-compat",[JA]:"fire-analytics",[ZA]:"fire-analytics-compat",[eS]:"fire-app-check",[WA]:"fire-app-check-compat",[tS]:"fire-auth",[nS]:"fire-auth-compat",[sS]:"fire-rtdb",[rS]:"fire-data-connect",[iS]:"fire-rtdb-compat",[aS]:"fire-fn",[lS]:"fire-fn-compat",[oS]:"fire-iid",[cS]:"fire-iid-compat",[uS]:"fire-fcm",[hS]:"fire-fcm-compat",[dS]:"fire-perf",[fS]:"fire-perf-compat",[mS]:"fire-rc",[gS]:"fire-rc-compat",[pS]:"fire-gcs",[yS]:"fire-gcs-compat",[xS]:"fire-fst",[bS]:"fire-fst-compat",[vS]:"fire-vertex","fire-js":"fire-js",[_S]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,TS=new Map,Jm=new Map;function _x(r,e){try{r.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ks(r){const e=r.name;if(Jm.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,r);for(const n of Nh.values())_x(n,r);for(const n of TS.values())_x(n,r);return!0}function _a(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new ba("app","Firebase",NS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=wS;function Nb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:Zm,automaticDataCollectionEnabled:!0,...e},l=i.name;if(typeof l!="string"||!l)throw gi.create("bad-app-name",{appName:String(l)});if(n||(n=gb()),!n)throw gi.create("no-options");const c=Nh.get(l);if(c){if(vi(n,c.options)&&vi(i,c.config))return c;throw gi.create("duplicate-app",{appName:l})}const f=new DA(l);for(const p of Jm.values())f.addComponent(p);const g=new AS(n,i,f);return Nh.set(l,g),g}function Cg(r=Zm){const e=Nh.get(r);if(!e&&r===Zm&&gb())return Nb();if(!e)throw gi.create("no-app",{appName:r});return e}function Xn(r,e,n){let i=ES[r]??r;n&&(i+=`-${n}`);const l=i.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${i}" with version "${e}":`];l&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(f.join(" "));return}Ks(new ds(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firebase-heartbeat-database",CS=1,nc="firebase-heartbeat-store";let Im=null;function Ab(){return Im||(Im=Tb(SS,CS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(r=>{throw gi.create("idb-open",{originalErrorMessage:r.message})})),Im}async function RS(r){try{const n=(await Ab()).transaction(nc),i=await n.objectStore(nc).get(Sb(r));return await n.done,i}catch(e){if(e instanceof gs)Er.warn(e.message);else{const n=gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Er.warn(n.message)}}}async function wx(r,e){try{const i=(await Ab()).transaction(nc,"readwrite");await i.objectStore(nc).put(e,Sb(r)),await i.done}catch(n){if(n instanceof gs)Er.warn(n.message);else{const i=gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Er.warn(i.message)}}}function Sb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=1024,jS=30;class kS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OS(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ex();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>jS){const f=MS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Er.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ex(),{heartbeatsToSend:i,unsentEntries:l}=DS(this._heartbeatsCache.heartbeats),c=Th(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Er.warn(n),""}}}function Ex(){return new Date().toISOString().substring(0,10)}function DS(r,e=IS){const n=[];let i=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),Tx(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Tx(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class OS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bb()?_b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tx(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function MS(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(r){Ks(new ds("platform-logger",e=>new KA(e),"PRIVATE")),Ks(new ds("heartbeat",e=>new kS(e),"PRIVATE")),Xn(Xm,bx,r),Xn(Xm,bx,"esm2020"),Xn("fire-js","")}VS("");var LS="firebase",PS="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(LS,PS,"app");function Cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const US=Cb,Rb=new ba("auth","Firebase",Cb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Kh("@firebase/auth");function zS(r,...e){Ah.logLevel<=qe.WARN&&Ah.warn(`Auth (${jl}): ${r}`,...e)}function ih(r,...e){Ah.logLevel<=qe.ERROR&&Ah.error(`Auth (${jl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(r,...e){throw Rg(r,...e)}function Bs(r,...e){return Rg(r,...e)}function Ib(r,e,n){const i={...US(),[e]:n};return new ba("auth","Firebase",i).create(e,{appName:r.name})}function _r(r){return Ib(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rg(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return Rb.create(r,...e)}function _e(r,e,...n){if(!r)throw Rg(e,...n)}function vr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ih(e),new Error(e)}function Tr(r,e){r||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function qS(){return Nx()==="http:"||Nx()==="https:"}function Nx(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qS()||vb()||"connection"in navigator)?navigator.onLine:!0}function HS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=dA()||gA()}get(){return BS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(r,e){Tr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QS=new pc(3e4,6e4);function Cr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Rr(r,e,n,i,l={}){return kb(r,l,async()=>{let c={},f={};i&&(e==="GET"?f=i:c={body:JSON.stringify(i)});const g=gc({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const x={method:e,headers:p,...c};return mA()||(x.referrerPolicy="no-referrer"),r.emulatorConfig&&Il(r.emulatorConfig.host)&&(x.credentials="include"),jb.fetch()(await Db(r,r.config.apiHost,n,g),x)})}async function kb(r,e,n){r._canInitEmulator=!1;const i={...FS,...e};try{const l=new KS(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Wu(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,x]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wu(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wu(r,"user-disabled",f);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw Ib(r,w,x);fs(r,w)}}catch(l){if(l instanceof gs)throw l;fs(r,"network-request-failed",{message:String(l)})}}async function yc(r,e,n,i,l={}){const c=await Rr(r,e,n,i,l);return"mfaPendingCredential"in c&&fs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Db(r,e,n,i){const l=`${e}${n}?${i}`,c=r,f=c.config.emulator?Ig(r.config,l):`${r.config.apiScheme}://${l}`;return GS.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function $S(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Bs(this.auth,"network-request-failed")),QS.get())})}}function Wu(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const l=Bs(r,e,i);return l.customData._tokenResponse=n,l}function Ax(r){return r!==void 0&&r.enterprise!==void 0}class YS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $S(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XS(r,e){return Rr(r,"GET","/v2/recaptchaConfig",Cr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(r,e){return Rr(r,"POST","/v1/accounts:delete",e)}async function Sh(r,e){return Rr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JS(r,e=!1){const n=_t(r),i=await n.getIdToken(e),l=jg(i);_e(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:l,token:i,authTime:Yo(jm(l.auth_time)),issuedAtTime:Yo(jm(l.iat)),expirationTime:Yo(jm(l.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function jm(r){return Number(r)*1e3}function jg(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const l=fb(n);return l?JSON.parse(l):(ih("Failed to decode base64 JWT payload"),null)}catch(l){return ih("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Sx(r){const e=jg(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof gs&&WS(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function WS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yo(this.lastLoginAt),this.creationTime=Yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(r){var E;const e=r.auth,n=await r.getIdToken(),i=await sc(r,Sh(e,{idToken:n}));_e(i==null?void 0:i.users.length,e,"internal-error");const l=i.users[0];r._notifyReloadListener(l);const c=(E=l.providerUserInfo)!=null&&E.length?Ob(l.providerUserInfo):[],f=n4(r.providerData,c),g=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),x=g?p:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new eg(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(r,w)}async function t4(r){const e=_t(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n4(r,e){return[...r.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function Ob(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(r,e){const n=await kb(r,{},async()=>{const i=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=await Db(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:i};return r.emulatorConfig&&Il(r.emulatorConfig.host)&&(p.credentials="include"),jb.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function r4(r,e){return Rr(r,"POST","/v2/accounts:revokeToken",Cr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Sx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:l,expiresIn:c}=await s4(e,n);this.updateTokensAndExpiration(i,l,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:l,expirationTime:c}=n,f=new pl;return i&&(_e(typeof i=="string","internal-error",{appName:e}),f.refreshToken=i),l&&(_e(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),c&&(_e(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class hs{constructor({uid:e,auth:n,stsTokenManager:i,...l}){this.providerId="firebase",this.proactiveRefresh=new e4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new eg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await sc(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JS(this,e)}reload(){return t4(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await sc(this,ZS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,x=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:E,emailVerified:C,isAnonymous:z,providerData:Q,stsTokenManager:ee}=n;_e(E&&ee,e,"internal-error");const B=pl.fromJSON(this.name,ee);_e(typeof E=="string",e,"internal-error"),oi(i,e.name),oi(l,e.name),_e(typeof C=="boolean",e,"internal-error"),_e(typeof z=="boolean",e,"internal-error"),oi(c,e.name),oi(f,e.name),oi(g,e.name),oi(p,e.name),oi(x,e.name),oi(w,e.name);const re=new hs({uid:E,auth:e,email:l,emailVerified:C,displayName:i,isAnonymous:z,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:B,createdAt:x,lastLoginAt:w});return Q&&Array.isArray(Q)&&(re.providerData=Q.map(ie=>({...ie}))),p&&(re._redirectEventId=p),re}static async _fromIdTokenResponse(e,n,i=!1){const l=new pl;l.updateFromServerResponse(n);const c=new hs({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await Ch(c),c}static async _fromGetAccountInfoResponse(e,n,i){const l=n.users[0];_e(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Ob(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new pl;g.updateFromIdToken(i);const p=new hs({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new eg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,x),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=new Map;function br(r){Tr(r instanceof Function,"Expected a class definition");let e=Cx.get(r);return e?(Tr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Cx.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Mb.type="NONE";const Rx=Mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r,e,n){return`firebase:${r}:${e}:${n}`}class yl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:l,name:c}=this.auth;this.fullUserKey=ah(this.userKey,l.apiKey,c),this.fullPersistenceKey=ah("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?hs._fromGetAccountInfoResponse(this.auth,n,e):null}return hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new yl(br(Rx),e,i);const l=(await Promise.all(n.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let c=l[0]||br(Rx);const f=ah(i,e.config.apiKey,e.name);let g=null;for(const x of n)try{const w=await x._get(f);if(w){let E;if(typeof w=="string"){const C=await Sh(e,{idToken:w}).catch(()=>{});if(!C)break;E=await hs._fromGetAccountInfoResponse(e,C,w)}else E=hs._fromJSON(e,w);x!==c&&(g=E),c=x;break}}catch{}const p=l.filter(x=>x._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new yl(c,e,i):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async x=>{if(x!==c)try{await x._remove(f)}catch{}})),new yl(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ub(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qb(e))return"Blackberry";if(Bb(e))return"Webos";if(Lb(e))return"Safari";if((e.includes("chrome/")||Pb(e))&&!e.includes("edge/"))return"Chrome";if(zb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Vb(r=ln()){return/firefox\//i.test(r)}function Lb(r=ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pb(r=ln()){return/crios\//i.test(r)}function Ub(r=ln()){return/iemobile/i.test(r)}function zb(r=ln()){return/android/i.test(r)}function qb(r=ln()){return/blackberry/i.test(r)}function Bb(r=ln()){return/webos/i.test(r)}function kg(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function i4(r=ln()){var e;return kg(r)&&!!((e=window.navigator)!=null&&e.standalone)}function a4(){return pA()&&document.documentMode===10}function Hb(r=ln()){return kg(r)||zb(r)||Bb(r)||qb(r)||/windows phone/i.test(r)||Ub(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(r,e=[]){let n;switch(r){case"Browser":n=Ix(ln());break;case"Worker":n=`${Ix(ln())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((f,g)=>{try{const p=e(c);f(p)}catch(p){g(p)}});i.onAbort=n,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(r,e={}){return Rr(r,"GET","/v2/passwordPolicy",Cr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=6;class u4{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??c4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,i,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jx(this),this.idTokenSubscription=new jx(this),this.beforeStateQueue=new l4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=br(n)),this._initializationPromise=this.queue(async()=>{var i,l,c;if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),i=await hs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Kn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(c=this.redirectUser)==null?void 0:c._redirectEventId,g=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===g)&&(p!=null&&p.user)&&(i=p.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(f){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(_r(this));const n=e?_t(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o4(this),n=new u4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ba("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await r4(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&br(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&zS(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ai(r){return _t(r)}class jx{constructor(e){this.auth=e,this.observer=null,this.addObserver=EA(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d4(r){Yh=r}function Gb(r){return Yh.loadJS(r)}function f4(){return Yh.recaptchaEnterpriseScript}function m4(){return Yh.gapiScript}function g4(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class p4{constructor(){this.enterprise=new y4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class y4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const x4="recaptcha-enterprise",Qb="NO_RECAPTCHA";class v4{constructor(e){this.type=x4,this.auth=Ai(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{XS(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const x=new YS(p);return c.tenantId==null?c._agentRecaptchaConfig=x:c._tenantRecaptchaConfigs[c.tenantId]=x,f(x.siteKey)}}).catch(p=>{g(p)})})}function l(c,f,g){const p=window.grecaptcha;Ax(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(x=>{f(x)}).catch(()=>{f(Qb)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new p4().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{i(this.auth).then(g=>{if(!n&&Ax(window.grecaptcha))l(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=f4();p.length!==0&&(p+=g),Gb(p).then(()=>{l(g,c,f)}).catch(x=>{f(x)})}}).catch(g=>{f(g)})})}}async function kx(r,e,n,i=!1,l=!1){const c=new v4(r);let f;if(l)f=Qb;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,x=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:x,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return i?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Rh(r,e,n,i,l){var c;if((c=r._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await kx(r,e,n,n==="getOobCode");return i(r,f)}else return i(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await kx(r,e,n,n==="getOobCode");return i(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(r,e){const n=_a(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(vi(c,e??{}))return l;fs(l,"already-initialized")}return n.initialize({options:e})}function _4(r,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(br);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function w4(r,e,n){const i=Ai(r);_e(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,c=$b(e),{host:f,port:g}=E4(e),p=g===null?"":`:${g}`,x={url:`${c}//${f}${p}/`},w=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){_e(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),_e(vi(x,i.config.emulator)&&vi(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=x,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,Il(f)?(yb(`${c}//${f}${p}`),xb("Auth",!0)):T4()}function $b(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function E4(r){const e=$b(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const c=l[1];return{host:c,port:Dx(i.substr(c.length+1))}}else{const[c,f]=i.split(":");return{host:c,port:Dx(f)}}}function Dx(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function T4(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}async function N4(r,e){return Rr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(r,e){return yc(r,"POST","/v1/accounts:signInWithPassword",Cr(r,e))}async function S4(r,e){return Rr(r,"POST","/v1/accounts:sendOobCode",Cr(r,e))}async function C4(r,e){return S4(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(r,e){return yc(r,"POST","/v1/accounts:signInWithEmailLink",Cr(r,e))}async function I4(r,e){return yc(r,"POST","/v1/accounts:signInWithEmailLink",Cr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Dg{constructor(e,n,i,l=null){super("password",i),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new rc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new rc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,n,"signInWithPassword",A4);case"emailLink":return R4(e,{email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,i,"signUpPassword",N4);case"emailLink":return I4(e,{idToken:n,email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(r,e){return yc(r,"POST","/v1/accounts:signInWithIdp",Cr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="http://localhost";class fa extends Dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l,...c}=n;if(!i||!l)return null;const f=new fa(i,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return xl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,xl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xl(e,n)}buildRequest(){const e={requestUri:j4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D4(r){const e=zo(qo(r)).link,n=e?zo(qo(e)).deep_link_id:null,i=zo(qo(r)).deep_link_id;return(i?zo(qo(i)).link:null)||i||n||e||r}class Og{constructor(e){const n=zo(qo(e)),i=n.apiKey??null,l=n.oobCode??null,c=k4(n.mode??null);_e(i&&l&&c,"argument-error"),this.apiKey=i,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=D4(e);try{return new Og(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(e,n){return rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Og.parseLink(n);return _e(i,"argument-error"),rc._fromEmailAndCode(e,i.code,i.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Kb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends xc{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ui.credential(n,i)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends xc{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends xc{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return di.credential(n,i)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(r,e){return yc(r,"POST","/v1/accounts:signUp",Cr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,l=!1){const c=await hs._fromIdTokenResponse(e,i,l),f=Ox(i);return new ma({user:c,providerId:f,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const l=Ox(i);return new ma({user:e,providerId:l,_tokenResponse:i,operationType:n})}}function Ox(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends gs{constructor(e,n,i,l){super(n.code,n.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,l){return new Ih(e,n,i,l)}}function Yb(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,c,e,i):c})}async function M4(r,e,n=!1){const i=await sc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ma._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(r,e,n=!1){const{auth:i}=r;if(Kn(i.app))return Promise.reject(_r(i));const l="reauthenticate";try{const c=await sc(r,Yb(i,l,e,r),n);_e(c.idToken,i,"internal-error");const f=jg(c.idToken);_e(f,i,"internal-error");const{sub:g}=f;return _e(r.uid===g,i,"user-mismatch"),ma._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&fs(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(r,e,n=!1){if(Kn(r.app))return Promise.reject(_r(r));const i="signIn",l=await Yb(r,i,e),c=await ma._fromIdTokenResponse(r,i,l);return n||await r._updateCurrentUser(c.user),c}async function L4(r,e){return Xb(Ai(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(r){const e=Ai(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function P4(r,e,n){const i=Ai(r);await Rh(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",C4)}async function U4(r,e,n){if(Kn(r.app))return Promise.reject(_r(r));const i=Ai(r),f=await Rh(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O4).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Zb(r),p}),g=await ma._fromIdTokenResponse(i,"signIn",f);return await i._updateCurrentUser(g.user),g}function z4(r,e,n){return Kn(r.app)?Promise.reject(_r(r)):L4(_t(r),kl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Zb(r),i})}function q4(r,e,n,i){return _t(r).onIdTokenChanged(e,n,i)}function B4(r,e,n){return _t(r).beforeAuthStateChanged(e,n)}function H4(r,e,n,i){return _t(r).onAuthStateChanged(e,n,i)}function F4(r){return _t(r).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=1e3,Q4=10;class Wb extends Jb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),l=this.localCache[n];i!==l&&e(n,l,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(i);!n&&this.localCache[i]===f||this.notifyListeners(i,f)},c=this.storage.getItem(i);a4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Q4):l()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},G4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wb.type="LOCAL";const $4=Wb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_ extends Jb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}e_.type="SESSION";const t_=e_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const i=new Xh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const g=Array.from(f).map(async x=>x(n.origin,c)),p=await K4(g);n.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const x=Mg("",20);l.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);f={messageChannel:l,onMessage(E){const C=E;if(C.data.eventId===x)switch(C.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(w),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:x,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(){return window}function X4(r){Hs().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(){return typeof Hs().WorkerGlobalScope<"u"&&typeof Hs().importScripts=="function"}async function Z4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J4(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function W4(){return n_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="firebaseLocalStorageDb",e5=1,kh="firebaseLocalStorage",r_="fbase_key";class vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function t5(){const r=indexedDB.deleteDatabase(s_);return new vc(r).toPromise()}function tg(){const r=indexedDB.open(s_,e5);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(kh,{keyPath:r_})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(kh)?e(i):(i.close(),await t5(),e(await tg()))})})}async function Mx(r,e,n){const i=Zh(r,!0).put({[r_]:e,value:n});return new vc(i).toPromise()}async function n5(r,e){const n=Zh(r,!1).get(e),i=await new vc(n).toPromise();return i===void 0?null:i.value}function Vx(r,e){const n=Zh(r,!0).delete(e);return new vc(n).toPromise()}const s5=800,r5=3;class i_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>r5)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(W4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await Z4(),!this.activeServiceWorker)return;this.sender=new Y4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await Mx(e,jh,"1"),await Vx(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Mx(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>n5(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Zh(l,!1).getAll();return new vc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i_.type="LOCAL";const i5=i_;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(r,e){return e?br(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l5(r){return Xb(r.auth,new Vg(r),r.bypassAuthState)}function o5(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),V4(n,new Vg(r),r.bypassAuthState)}async function c5(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),M4(n,new Vg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n,i,l,c=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:l,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(x){this.reject(x)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l5;case"linkViaPopup":case"linkViaRedirect":return c5;case"reauthViaPopup":case"reauthViaRedirect":return o5;default:fs(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=new pc(2e3,1e4);class gl extends a_{constructor(e,n,i,l,c){super(e,n,l,c),this.provider=i,this.authWindow=null,this.pollId=null,gl.currentPopupAction&&gl.currentPopupAction.cancel(),gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=Mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u5.get())};e()}}gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="pendingRedirect",lh=new Map;class d5 extends a_{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const i=await f5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f5(r,e){const n=p5(e),i=g5(r);if(!await i._isAvailable())return!1;const l=await i._get(n)==="true";return await i._remove(n),l}function m5(r,e){lh.set(r._key(),e)}function g5(r){return br(r._redirectPersistence)}function p5(r){return ah(h5,r.config.apiKey,r.name)}async function y5(r,e,n=!1){if(Kn(r.app))return Promise.reject(_r(r));const i=Ai(r),l=a5(i,e),f=await new d5(i,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await i._persistUserIfCurrent(f.user),await i._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=600*1e3;class v5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!l_(e)){const l=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Bs(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lx(e))}saveEventToCache(e){this.cachedEventUids.add(Lx(e)),this.lastProcessedEventTime=Date.now()}}function Lx(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function l_({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b5(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(r,e={}){return Rr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E5=/^https?/;async function T5(r){if(r.config.emulator)return;const{authorizedDomains:e}=await _5(r);for(const n of e)try{if(N5(n))return}catch{}fs(r,"unauthorized-domain")}function N5(r){const e=Wm(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===i}if(!E5.test(n))return!1;if(w5.test(r))return i===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=new pc(3e4,6e4);function Px(){const r=Hs().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function S5(r){return new Promise((e,n)=>{var l,c,f;function i(){Px(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Px(),n(Bs(r,"network-request-failed"))},timeout:A5.get()})}if((c=(l=Hs().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((f=Hs().gapi)!=null&&f.load)i();else{const g=g4("iframefcb");return Hs()[g]=()=>{gapi.load?i():n(Bs(r,"network-request-failed"))},Gb(`${m4()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw oh=null,e})}let oh=null;function C5(r){return oh=oh||S5(r),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=new pc(5e3,15e3),I5="__/auth/iframe",j5="emulator/auth/iframe",k5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O5(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Ig(e,j5):`https://${r.config.authDomain}/${I5}`,i={apiKey:e.apiKey,appName:r.name,v:jl},l=D5.get(r.config.apiHost);l&&(i.eid=l);const c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${gc(i).slice(1)}`}async function M5(r){const e=await C5(r),n=Hs().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:O5(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k5,dontclear:!0},i=>new Promise(async(l,c)=>{await i.restyle({setHideOnLeave:!1});const f=Bs(r,"network-request-failed"),g=Hs().setTimeout(()=>{c(f)},R5.get());function p(){Hs().clearTimeout(g),l(i)}i.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L5=500,P5=600,U5="_blank",z5="http://localhost";class Ux{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q5(r,e,n,i=L5,l=P5){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-i)/2,0).toString();let g="";const p={...V5,width:i.toString(),height:l.toString(),top:c,left:f},x=ln().toLowerCase();n&&(g=Pb(x)?U5:n),Vb(x)&&(e=e||z5,p.scrollbars="yes");const w=Object.entries(p).reduce((C,[z,Q])=>`${C}${z}=${Q},`,"");if(i4(x)&&g!=="_self")return B5(e||"",g),new Ux(null);const E=window.open(e||"",g,w);_e(E,r,"popup-blocked");try{E.focus()}catch{}return new Ux(E)}function B5(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="__/auth/handler",F5="emulator/auth/handler",G5=encodeURIComponent("fac");async function zx(r,e,n,i,l,c){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:jl,eventId:l};if(e instanceof Kb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",wA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))f[w]=E}if(e instanceof xc){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(f.scopes=w.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const w of Object.keys(g))g[w]===void 0&&delete g[w];const p=await r._getAppCheckToken(),x=p?`#${G5}=${encodeURIComponent(p)}`:"";return`${Q5(r)}?${gc(g).slice(1)}${x}`}function Q5({config:r}){return r.emulator?Ig(r,F5):`https://${r.authDomain}/${H5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class $5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t_,this._completeRedirectFn=y5,this._overrideRedirectResult=m5}async _openPopup(e,n,i,l){var f;Tr((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const c=await zx(e,n,i,Wm(),l);return q5(e,c,Mg())}async _openRedirect(e,n,i,l){await this._originValidation(e);const c=await zx(e,n,i,Wm(),l);return X4(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Tr(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await M5(e),i=new v5(e);return n.register("authEvent",l=>(_e(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},l=>{var f;const c=(f=l==null?void 0:l[0])==null?void 0:f[km];c!==void 0&&n(!!c),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hb()||Lb()||kg()}}const K5=$5;var qx="@firebase/auth",Bx="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z5(r){Ks(new ds("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=i.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fb(r)},x=new h4(i,l,c,p);return _4(x,n),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ks(new ds("auth-internal",e=>{const n=Ai(e.getProvider("auth").getImmediate());return(i=>new Y5(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(qx,Bx,X5(r)),Xn(qx,Bx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=300,W5=pb("authIdTokenMaxAge")||J5;let Hx=null;const e6=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>W5)return;const l=n==null?void 0:n.token;Hx!==l&&(Hx=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function t6(r=Cg()){const e=_a(r,"auth");if(e.isInitialized())return e.getImmediate();const n=b4(r,{popupRedirectResolver:K5,persistence:[i5,$4,t_]}),i=pb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const f=e6(c.toString());B4(n,f,()=>f(n.currentUser)),q4(n,g=>f(g))}}const l=mb("auth");return l&&w4(n,`http://${l}`),n}function n6(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}d4({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=l=>{const c=Bs("internal-error");c.customData=l,n(c)},i.type="text/javascript",i.charset="UTF-8",n6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z5("Browser");var Fx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pi,o_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,N){function A(){}A.prototype=N.prototype,S.F=N.prototype,S.prototype=new A,S.prototype.constructor=S,S.D=function(O,j,M){for(var R=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)R[Xe-2]=arguments[Xe];return N.prototype[j].apply(O,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(S,N,A){A||(A=0);const O=Array(16);if(typeof N=="string")for(var j=0;j<16;++j)O[j]=N.charCodeAt(A++)|N.charCodeAt(A++)<<8|N.charCodeAt(A++)<<16|N.charCodeAt(A++)<<24;else for(j=0;j<16;++j)O[j]=N[A++]|N[A++]<<8|N[A++]<<16|N[A++]<<24;N=S.g[0],A=S.g[1],j=S.g[2];let M=S.g[3],R;R=N+(M^A&(j^M))+O[0]+3614090360&4294967295,N=A+(R<<7&4294967295|R>>>25),R=M+(j^N&(A^j))+O[1]+3905402710&4294967295,M=N+(R<<12&4294967295|R>>>20),R=j+(A^M&(N^A))+O[2]+606105819&4294967295,j=M+(R<<17&4294967295|R>>>15),R=A+(N^j&(M^N))+O[3]+3250441966&4294967295,A=j+(R<<22&4294967295|R>>>10),R=N+(M^A&(j^M))+O[4]+4118548399&4294967295,N=A+(R<<7&4294967295|R>>>25),R=M+(j^N&(A^j))+O[5]+1200080426&4294967295,M=N+(R<<12&4294967295|R>>>20),R=j+(A^M&(N^A))+O[6]+2821735955&4294967295,j=M+(R<<17&4294967295|R>>>15),R=A+(N^j&(M^N))+O[7]+4249261313&4294967295,A=j+(R<<22&4294967295|R>>>10),R=N+(M^A&(j^M))+O[8]+1770035416&4294967295,N=A+(R<<7&4294967295|R>>>25),R=M+(j^N&(A^j))+O[9]+2336552879&4294967295,M=N+(R<<12&4294967295|R>>>20),R=j+(A^M&(N^A))+O[10]+4294925233&4294967295,j=M+(R<<17&4294967295|R>>>15),R=A+(N^j&(M^N))+O[11]+2304563134&4294967295,A=j+(R<<22&4294967295|R>>>10),R=N+(M^A&(j^M))+O[12]+1804603682&4294967295,N=A+(R<<7&4294967295|R>>>25),R=M+(j^N&(A^j))+O[13]+4254626195&4294967295,M=N+(R<<12&4294967295|R>>>20),R=j+(A^M&(N^A))+O[14]+2792965006&4294967295,j=M+(R<<17&4294967295|R>>>15),R=A+(N^j&(M^N))+O[15]+1236535329&4294967295,A=j+(R<<22&4294967295|R>>>10),R=N+(j^M&(A^j))+O[1]+4129170786&4294967295,N=A+(R<<5&4294967295|R>>>27),R=M+(A^j&(N^A))+O[6]+3225465664&4294967295,M=N+(R<<9&4294967295|R>>>23),R=j+(N^A&(M^N))+O[11]+643717713&4294967295,j=M+(R<<14&4294967295|R>>>18),R=A+(M^N&(j^M))+O[0]+3921069994&4294967295,A=j+(R<<20&4294967295|R>>>12),R=N+(j^M&(A^j))+O[5]+3593408605&4294967295,N=A+(R<<5&4294967295|R>>>27),R=M+(A^j&(N^A))+O[10]+38016083&4294967295,M=N+(R<<9&4294967295|R>>>23),R=j+(N^A&(M^N))+O[15]+3634488961&4294967295,j=M+(R<<14&4294967295|R>>>18),R=A+(M^N&(j^M))+O[4]+3889429448&4294967295,A=j+(R<<20&4294967295|R>>>12),R=N+(j^M&(A^j))+O[9]+568446438&4294967295,N=A+(R<<5&4294967295|R>>>27),R=M+(A^j&(N^A))+O[14]+3275163606&4294967295,M=N+(R<<9&4294967295|R>>>23),R=j+(N^A&(M^N))+O[3]+4107603335&4294967295,j=M+(R<<14&4294967295|R>>>18),R=A+(M^N&(j^M))+O[8]+1163531501&4294967295,A=j+(R<<20&4294967295|R>>>12),R=N+(j^M&(A^j))+O[13]+2850285829&4294967295,N=A+(R<<5&4294967295|R>>>27),R=M+(A^j&(N^A))+O[2]+4243563512&4294967295,M=N+(R<<9&4294967295|R>>>23),R=j+(N^A&(M^N))+O[7]+1735328473&4294967295,j=M+(R<<14&4294967295|R>>>18),R=A+(M^N&(j^M))+O[12]+2368359562&4294967295,A=j+(R<<20&4294967295|R>>>12),R=N+(A^j^M)+O[5]+4294588738&4294967295,N=A+(R<<4&4294967295|R>>>28),R=M+(N^A^j)+O[8]+2272392833&4294967295,M=N+(R<<11&4294967295|R>>>21),R=j+(M^N^A)+O[11]+1839030562&4294967295,j=M+(R<<16&4294967295|R>>>16),R=A+(j^M^N)+O[14]+4259657740&4294967295,A=j+(R<<23&4294967295|R>>>9),R=N+(A^j^M)+O[1]+2763975236&4294967295,N=A+(R<<4&4294967295|R>>>28),R=M+(N^A^j)+O[4]+1272893353&4294967295,M=N+(R<<11&4294967295|R>>>21),R=j+(M^N^A)+O[7]+4139469664&4294967295,j=M+(R<<16&4294967295|R>>>16),R=A+(j^M^N)+O[10]+3200236656&4294967295,A=j+(R<<23&4294967295|R>>>9),R=N+(A^j^M)+O[13]+681279174&4294967295,N=A+(R<<4&4294967295|R>>>28),R=M+(N^A^j)+O[0]+3936430074&4294967295,M=N+(R<<11&4294967295|R>>>21),R=j+(M^N^A)+O[3]+3572445317&4294967295,j=M+(R<<16&4294967295|R>>>16),R=A+(j^M^N)+O[6]+76029189&4294967295,A=j+(R<<23&4294967295|R>>>9),R=N+(A^j^M)+O[9]+3654602809&4294967295,N=A+(R<<4&4294967295|R>>>28),R=M+(N^A^j)+O[12]+3873151461&4294967295,M=N+(R<<11&4294967295|R>>>21),R=j+(M^N^A)+O[15]+530742520&4294967295,j=M+(R<<16&4294967295|R>>>16),R=A+(j^M^N)+O[2]+3299628645&4294967295,A=j+(R<<23&4294967295|R>>>9),R=N+(j^(A|~M))+O[0]+4096336452&4294967295,N=A+(R<<6&4294967295|R>>>26),R=M+(A^(N|~j))+O[7]+1126891415&4294967295,M=N+(R<<10&4294967295|R>>>22),R=j+(N^(M|~A))+O[14]+2878612391&4294967295,j=M+(R<<15&4294967295|R>>>17),R=A+(M^(j|~N))+O[5]+4237533241&4294967295,A=j+(R<<21&4294967295|R>>>11),R=N+(j^(A|~M))+O[12]+1700485571&4294967295,N=A+(R<<6&4294967295|R>>>26),R=M+(A^(N|~j))+O[3]+2399980690&4294967295,M=N+(R<<10&4294967295|R>>>22),R=j+(N^(M|~A))+O[10]+4293915773&4294967295,j=M+(R<<15&4294967295|R>>>17),R=A+(M^(j|~N))+O[1]+2240044497&4294967295,A=j+(R<<21&4294967295|R>>>11),R=N+(j^(A|~M))+O[8]+1873313359&4294967295,N=A+(R<<6&4294967295|R>>>26),R=M+(A^(N|~j))+O[15]+4264355552&4294967295,M=N+(R<<10&4294967295|R>>>22),R=j+(N^(M|~A))+O[6]+2734768916&4294967295,j=M+(R<<15&4294967295|R>>>17),R=A+(M^(j|~N))+O[13]+1309151649&4294967295,A=j+(R<<21&4294967295|R>>>11),R=N+(j^(A|~M))+O[4]+4149444226&4294967295,N=A+(R<<6&4294967295|R>>>26),R=M+(A^(N|~j))+O[11]+3174756917&4294967295,M=N+(R<<10&4294967295|R>>>22),R=j+(N^(M|~A))+O[2]+718787259&4294967295,j=M+(R<<15&4294967295|R>>>17),R=A+(M^(j|~N))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+N&4294967295,S.g[1]=S.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+j&4294967295,S.g[3]=S.g[3]+M&4294967295}i.prototype.v=function(S,N){N===void 0&&(N=S.length);const A=N-this.blockSize,O=this.C;let j=this.h,M=0;for(;M<N;){if(j==0)for(;M<=A;)l(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<N;)if(O[j++]=S.charCodeAt(M++),j==this.blockSize){l(this,O),j=0;break}}else for(;M<N;)if(O[j++]=S[M++],j==this.blockSize){l(this,O),j=0;break}}this.h=j,this.o+=N},i.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var N=1;N<S.length-8;++N)S[N]=0;N=this.o*8;for(var A=S.length-8;A<S.length;++A)S[A]=N&255,N/=256;for(this.v(S),S=Array(16),N=0,A=0;A<4;++A)for(let O=0;O<32;O+=8)S[N++]=this.g[A]>>>O&255;return S};function c(S,N){var A=g;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=N(S)}function f(S,N){this.h=N;const A=[];let O=!0;for(let j=S.length-1;j>=0;j--){const M=S[j]|0;O&&M==N||(A[j]=M,O=!1)}this.g=A}var g={};function p(S){return-128<=S&&S<128?c(S,function(N){return new f([N|0],N<0?-1:0)}):new f([S|0],S<0?-1:0)}function x(S){if(isNaN(S)||!isFinite(S))return E;if(S<0)return B(x(-S));const N=[];let A=1;for(let O=0;S>=A;O++)N[O]=S/A|0,A*=4294967296;return new f(N,0)}function w(S,N){if(S.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S.charAt(0)=="-")return B(w(S.substring(1),N));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=x(Math.pow(N,8));let O=E;for(let M=0;M<S.length;M+=8){var j=Math.min(8,S.length-M);const R=parseInt(S.substring(M,M+j),N);j<8?(j=x(Math.pow(N,j)),O=O.j(j).add(x(R))):(O=O.j(A),O=O.add(x(R)))}return O}var E=p(0),C=p(1),z=p(16777216);r=f.prototype,r.m=function(){if(ee(this))return-B(this).m();let S=0,N=1;for(let A=0;A<this.g.length;A++){const O=this.i(A);S+=(O>=0?O:4294967296+O)*N,N*=4294967296}return S},r.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(Q(this))return"0";if(ee(this))return"-"+B(this).toString(S);const N=x(Math.pow(S,6));var A=this;let O="";for(;;){const j=Ce(A,N).g;A=re(A,j.j(N));let M=((A.g.length>0?A.g[0]:A.h)>>>0).toString(S);if(A=j,Q(A))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},r.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function Q(S){if(S.h!=0)return!1;for(let N=0;N<S.g.length;N++)if(S.g[N]!=0)return!1;return!0}function ee(S){return S.h==-1}r.l=function(S){return S=re(this,S),ee(S)?-1:Q(S)?0:1};function B(S){const N=S.g.length,A=[];for(let O=0;O<N;O++)A[O]=~S.g[O];return new f(A,~S.h).add(C)}r.abs=function(){return ee(this)?B(this):this},r.add=function(S){const N=Math.max(this.g.length,S.g.length),A=[];let O=0;for(let j=0;j<=N;j++){let M=O+(this.i(j)&65535)+(S.i(j)&65535),R=(M>>>16)+(this.i(j)>>>16)+(S.i(j)>>>16);O=R>>>16,M&=65535,R&=65535,A[j]=R<<16|M}return new f(A,A[A.length-1]&-2147483648?-1:0)};function re(S,N){return S.add(B(N))}r.j=function(S){if(Q(this)||Q(S))return E;if(ee(this))return ee(S)?B(this).j(B(S)):B(B(this).j(S));if(ee(S))return B(this.j(B(S)));if(this.l(z)<0&&S.l(z)<0)return x(this.m()*S.m());const N=this.g.length+S.g.length,A=[];for(var O=0;O<2*N;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(let j=0;j<S.g.length;j++){const M=this.i(O)>>>16,R=this.i(O)&65535,Xe=S.i(j)>>>16,Fe=S.i(j)&65535;A[2*O+2*j]+=R*Fe,ie(A,2*O+2*j),A[2*O+2*j+1]+=M*Fe,ie(A,2*O+2*j+1),A[2*O+2*j+1]+=R*Xe,ie(A,2*O+2*j+1),A[2*O+2*j+2]+=M*Xe,ie(A,2*O+2*j+2)}for(S=0;S<N;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=N;S<2*N;S++)A[S]=0;return new f(A,0)};function ie(S,N){for(;(S[N]&65535)!=S[N];)S[N+1]+=S[N]>>>16,S[N]&=65535,N++}function de(S,N){this.g=S,this.h=N}function Ce(S,N){if(Q(N))throw Error("division by zero");if(Q(S))return new de(E,E);if(ee(S))return N=Ce(B(S),N),new de(B(N.g),B(N.h));if(ee(N))return N=Ce(S,B(N)),new de(B(N.g),N.h);if(S.g.length>30){if(ee(S)||ee(N))throw Error("slowDivide_ only works with positive integers.");for(var A=C,O=N;O.l(S)<=0;)A=Ne(A),O=Ne(O);var j=W(A,1),M=W(O,1);for(O=W(O,2),A=W(A,2);!Q(O);){var R=M.add(O);R.l(S)<=0&&(j=j.add(A),M=R),O=W(O,1),A=W(A,1)}return N=re(S,j.j(N)),new de(j,N)}for(j=E;S.l(N)>=0;){for(A=Math.max(1,Math.floor(S.m()/N.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=x(A),R=M.j(N);ee(R)||R.l(S)>0;)A-=O,M=x(A),R=M.j(N);Q(M)&&(M=C),j=j.add(M),S=re(S,R)}return new de(j,S)}r.B=function(S){return Ce(this,S).h},r.and=function(S){const N=Math.max(this.g.length,S.g.length),A=[];for(let O=0;O<N;O++)A[O]=this.i(O)&S.i(O);return new f(A,this.h&S.h)},r.or=function(S){const N=Math.max(this.g.length,S.g.length),A=[];for(let O=0;O<N;O++)A[O]=this.i(O)|S.i(O);return new f(A,this.h|S.h)},r.xor=function(S){const N=Math.max(this.g.length,S.g.length),A=[];for(let O=0;O<N;O++)A[O]=this.i(O)^S.i(O);return new f(A,this.h^S.h)};function Ne(S){const N=S.g.length+1,A=[];for(let O=0;O<N;O++)A[O]=S.i(O)<<1|S.i(O-1)>>>31;return new f(A,S.h)}function W(S,N){const A=N>>5;N%=32;const O=S.g.length-A,j=[];for(let M=0;M<O;M++)j[M]=N>0?S.i(M+A)>>>N|S.i(M+A+1)<<32-N:S.i(M+A);return new f(j,S.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,o_=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=x,f.fromString=w,pi=f}).apply(typeof Fx<"u"?Fx:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c_,Bo,u_,ch,ng,h_,d_,f_;(function(){var r,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<h.length;++y){var b=h[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function l(h,y){if(y)e:{var b=i;h=h.split(".");for(var T=0;T<h.length-1;T++){var L=h[T];if(!(L in b))break e;b=b[L]}h=h[h.length-1],T=b[h],y=y(T),y!=T&&y!=null&&e(b,h,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(y){var b=[],T;for(T in y)Object.prototype.hasOwnProperty.call(y,T)&&b.push([T,y[T]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,b){return h.call.apply(h.bind,arguments)}function x(h,y,b){return x=p,x.apply(null,arguments)}function w(h,y){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),h.apply(this,T)}}function E(h,y){function b(){}b.prototype=y.prototype,h.Z=y.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(T,L,H){for(var se=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)se[Ie-2]=arguments[Ie];return y.prototype[L].apply(T,se)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function z(h){const y=h.length;if(y>0){const b=Array(y);for(let T=0;T<y;T++)b[T]=h[T];return b}return[]}function Q(h,y){for(let T=1;T<arguments.length;T++){const L=arguments[T];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=h.length||0;const H=L.length||0;h.length=b+H;for(let se=0;se<H;se++)h[b+se]=L[se]}else h.push(L)}}class ee{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(h){f.setTimeout(()=>{throw h},0)}function re(){var h=S;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,b){const T=de.get();T.set(y,b),this.h?this.h.next=T:this.g=T,this.h=T}}var de=new ee(()=>new Ce,h=>h.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,W=!1,S=new ie,N=()=>{const h=Promise.resolve(void 0);Ne=()=>{h.then(A)}};function A(){for(var h;h=re();){try{h.h.call(h.g)}catch(b){B(b)}var y=de;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}W=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};f.addEventListener("test",b,y),f.removeEventListener("test",b,y)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function Xe(h,y){j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(Xe,j),Xe.prototype.init=function(h,y){const b=this.type=h.type,T=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(b=="mouseover"?y=h.fromElement:b=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Fe="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(h,y,b,T,L){this.listener=h,this.proxy=null,this.src=y,this.type=b,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Re(h,y,b){for(const T in h)y.call(b,h[T],T,h)}function Pe(h,y){for(const b in h)y.call(void 0,h[b],b,h)}function k(h){const y={};for(const b in h)y[b]=h[b];return y}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(h,y){let b,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(b in T)h[b]=T[b];for(let H=0;H<K.length;H++)b=K[H],Object.prototype.hasOwnProperty.call(T,b)&&(h[b]=T[b])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,y,b,T,L){const H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);const se=Ee(h,y,T,L);return se>-1?(y=h[se],b||(y.fa=!1)):(y=new te(y,this.src,H,!!T,L),y.fa=b,h.push(y)),y};function be(h,y){const b=y.type;if(b in h.g){var T=h.g[b],L=Array.prototype.indexOf.call(T,y,void 0),H;(H=L>=0)&&Array.prototype.splice.call(T,L,1),H&&(pe(y),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Ee(h,y,b,T){for(let L=0;L<h.length;++L){const H=h[L];if(!H.da&&H.listener==y&&H.capture==!!b&&H.ha==T)return L}return-1}var me="closure_lm_"+(Math.random()*1e6|0),$e={};function st(h,y,b,T,L){if(Array.isArray(y)){for(let H=0;H<y.length;H++)st(h,y[H],b,T,L);return null}return b=Di(b),h&&h[Fe]?h.J(y,b,g(T)?!!T.capture:!1,L):Xs(h,y,b,!1,T,L)}function Xs(h,y,b,T,L,H){if(!y)throw Error("Invalid event type");const se=g(L)?!!L.capture:!!L;let Ie=Dn(h);if(Ie||(h[me]=Ie=new ce(h)),b=Ie.add(y,b,T,se,H),b.proxy)return b;if(T=Zs(),b.proxy=T,T.src=h,T.listener=b,h.addEventListener)M||(L=se),L===void 0&&(L=!1),h.addEventListener(y.toString(),T,L);else if(h.attachEvent)h.attachEvent(kn(y.toString()),T);else if(h.addListener&&h.removeListener)h.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Zs(){function h(b){return y.call(h.src,h.listener,b)}const y=ji;return h}function Ir(h,y,b,T,L){if(Array.isArray(y))for(var H=0;H<y.length;H++)Ir(h,y[H],b,T,L);else T=g(T)?!!T.capture:!!T,b=Di(b),h&&h[Fe]?(h=h.i,H=String(y).toString(),H in h.g&&(y=h.g[H],b=Ee(y,b,T,L),b>-1&&(pe(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete h.g[H],h.h--)))):h&&(h=Dn(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ee(y,b,T,L)),(b=h>-1?y[h]:null)&&Js(b))}function Js(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Fe])be(y.i,h);else{var b=h.type,T=h.proxy;y.removeEventListener?y.removeEventListener(b,T,h.capture):y.detachEvent?y.detachEvent(kn(b),T):y.addListener&&y.removeListener&&y.removeListener(T),(b=Dn(y))?(be(b,h),b.h==0&&(b.src=null,y[me]=null)):pe(h)}}}function kn(h){return h in $e?$e[h]:$e[h]="on"+h}function ji(h,y){if(h.da)h=!0;else{y=new Xe(y,this);const b=h.listener,T=h.ha||h.src;h.fa&&Js(h),h=b.call(T,y)}return h}function Dn(h){return h=h[me],h instanceof ce?h:null}var ki="__closure_events_fn_"+(Math.random()*1e9>>>0);function Di(h){return typeof h=="function"?h:(h[ki]||(h[ki]=function(y){return h.handleEvent(y)}),h[ki])}function yt(){O.call(this),this.i=new ce(this),this.M=this,this.G=null}E(yt,O),yt.prototype[Fe]=!0,yt.prototype.removeEventListener=function(h,y,b,T){Ir(this,h,y,b,T)};function wt(h,y){var b,T=h.G;if(T)for(b=[];T;T=T.G)b.push(T);if(h=h.M,T=y.type||y,typeof y=="string")y=new j(y,h);else if(y instanceof j)y.target=y.target||h;else{var L=y;y=new j(T,h),ae(y,L)}L=!0;let H,se;if(b)for(se=b.length-1;se>=0;se--)H=y.g=b[se],L=ps(H,T,!0,y)&&L;if(H=y.g=h,L=ps(H,T,!0,y)&&L,L=ps(H,T,!1,y)&&L,b)for(se=0;se<b.length;se++)H=y.g=b[se],L=ps(H,T,!1,y)&&L}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const b=h.g[y];for(let T=0;T<b.length;T++)pe(b[T]);delete h.g[y],h.h--}}this.G=null},yt.prototype.J=function(h,y,b,T){return this.i.add(String(h),y,!1,b,T)},yt.prototype.K=function(h,y,b,T){return this.i.add(String(h),y,!0,b,T)};function ps(h,y,b,T){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let L=!0;for(let H=0;H<y.length;++H){const se=y[H];if(se&&!se.da&&se.capture==b){const Ie=se.listener,Tt=se.ha||se.src;se.fa&&be(h.i,se),L=Ie.call(Tt,T)!==!1&&L}}return L&&!T.defaultPrevented}function ue(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(h,y||0)}function De(h){h.g=ue(()=>{h.g=null,h.i&&(h.i=!1,De(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Oe extends O{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(h){O.call(this),this.h=h,this.g={}}E(Me,O);var ct=[];function tn(h){Re(h.g,function(y,b){this.g.hasOwnProperty(b)&&Js(y)},h),h.g={}}Me.prototype.N=function(){Me.Z.N.call(this),tn(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=f.JSON.stringify,On=f.JSON.parse,ys=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Ws(){}function Sc(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){j.call(this,"d")}E(Qt,j);function Mn(){j.call(this,"c")}E(Mn,j);var Et={},Cc=null;function Ta(){return Cc=Cc||new yt}Et.Ia="serverreachability";function Rc(h){j.call(this,Et.Ia,h)}E(Rc,j);function xs(h){const y=Ta();wt(y,new Rc(y))}Et.STAT_EVENT="statevent";function Oi(h,y){j.call(this,Et.STAT_EVENT,h),this.stat=y}E(Oi,j);function Ct(h){const y=Ta();wt(y,new Oi(y,h))}Et.Ja="timingevent";function vs(h,y){j.call(this,Et.Ja,h),this.size=y}E(vs,j);function bs(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},y)}function es(){this.g=!0}es.prototype.ua=function(){this.g=!1};function wd(h,y,b,T,L,H){h.info(function(){if(h.g)if(H){var se="",Ie=H.split("&");for(let Ze=0;Ze<Ie.length;Ze++){var Tt=Ie[Ze].split("=");if(Tt.length>1){const mt=Tt[0];Tt=Tt[1];const Un=mt.split("_");se=Un.length>=2&&Un[1]=="type"?se+(mt+"="+Tt+"&"):se+(mt+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+y+`
`+b+`
`+se})}function Ic(h,y,b,T,L,H,se){h.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+y+`
`+b+`
`+H+" "+se})}function _s(h,y,b,T){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ed(h,b)+(T?" "+T:"")})}function Mi(h,y){h.info(function(){return"TIMEOUT: "+y})}es.prototype.info=function(){};function Ed(h,y){if(!h.g)return y;if(!y)return null;try{const H=JSON.parse(y);if(H){for(h=0;h<H.length;h++)if(Array.isArray(H[h])){var b=H[h];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<T.length;se++)T[se]=""}}}}return Gt(H)}catch{return y}}var Vi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ul;function Li(){}E(Li,Ws),Li.prototype.g=function(){return new XMLHttpRequest},Ul=new Li;function er(h){return encodeURIComponent(String(h))}function jc(h){var y=1;h=h.split(":");const b=[];for(;y>0&&h.length;)b.push(h.shift()),y--;return h.length&&b.push(h.join(":")),b}function ts(h,y,b,T){this.j=h,this.i=y,this.l=b,this.S=T||1,this.V=new Me(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ns}function ns(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function ws(h,y,b){h.M=1,h.A=Pi(jt(y)),h.u=b,h.R=!0,Na(h,null)}function Na(h,y){h.F=Date.now(),Es(h),h.B=jt(h.A);var b=h.B,T=h.S;Array.isArray(T)||(T=[String(T)]),Ra(b.i,"t",T),h.C=0,b=h.j.L,h.h=new ns,h.g=Qc(h.j,b?y:null,!h.u),h.P>0&&(h.O=new Oe(x(h.Y,h,h.g),h.P)),y=h.V,b=h.g,T=h.ba;var L="readystatechange";Array.isArray(L)||(L&&(ct[0]=L.toString()),L=ct);for(let H=0;H<L.length;H++){const se=st(b,L[H],T||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),xs(),wd(h.i,h.v,h.B,h.l,h.S,h.u)}ts.prototype.ba=function(h){h=h.target;const y=this.O;y&&is(h)==3?y.j():this.Y(h)},ts.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=is(this.g),Tt=this.g.ya(),Ze=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ie!=4||Tt==7||(Tt==8||Ze<=0?xs(3):xs(2)),Ts(this);var y=this.g.ca();this.X=y;var b=Td(this);if(this.o=y==200,Ic(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break t}}H=null}if(h=H)_s(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ns(this,h);else{this.o=!1,this.m=3,Ct(12),_n(this),Vn(this);break e}}if(this.R){h=!0;let mt;for(;!this.K&&this.C<b.length;)if(mt=Dc(this,b),mt==qt){Ie==4&&(this.m=4,Ct(14),h=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Rt){this.m=4,Ct(15),_s(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else _s(this.i,this.l,mt,null),Ns(this,mt);if(kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,Ct(16),h=!1),this.o=this.o&&h,!h)_s(this.i,this.l,b,"[Invalid Chunked Response]"),_n(this),Vn(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),eo(se),se.P=!0,Ct(11))}}else _s(this.i,this.l,b,null),Ns(this,b);Ie==4&&_n(this),this.o&&!this.K&&(Ie==4?Bc(this.j,this):(this.o=!1,Es(this)))}else nr(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),_n(this),Vn(this)}}}catch{}finally{}};function Td(h){if(!kc(h))return h.g.la();const y=$t(h.g);if(y==="")return"";let b="";const T=y.length,L=is(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return _n(h),Vn(h),"";h.h.i=new f.TextDecoder}for(let H=0;H<T;H++)h.h.h=!0,b+=h.h.i.decode(y[H],{stream:!(L&&H==T-1)});return y.length=0,h.h.g+=b,h.C=0,h.h.g}function kc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Dc(h,y){var b=h.C,T=y.indexOf(`
`,b);return T==-1?qt:(b=Number(y.substring(b,T)),isNaN(b)?Rt:(T+=1,T+b>y.length?qt:(y=y.slice(T,T+b),h.C=T+b,y)))}ts.prototype.cancel=function(){this.K=!0,_n(this)};function Es(h){h.T=Date.now()+h.H,Aa(h,h.H)}function Aa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=bs(x(h.aa,h),y)}function Ts(h){h.D&&(f.clearTimeout(h.D),h.D=null)}ts.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Mi(this.i,this.B),this.M!=2&&(xs(),Ct(17)),_n(this),this.m=2,Vn(this)):Aa(this,this.T-h)};function Vn(h){h.j.I==0||h.K||Bc(h.j,h)}function _n(h){Ts(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,tn(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ns(h,y){try{var b=h.j;if(b.I!=0&&(b.g==h||Ss(b.h,h))){if(!h.L&&Ss(b.h,h)&&b.I==3){try{var T=b.Ba.g.parse(y)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Oa(b),Pr(b);else break e;Gi(b),Ct(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=bs(x(b.Va,b),6e3));As(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ds(b,11)}else if((h.L||b.g==h)&&Oa(b),!R(y))for(L=b.Ba.g.parse(y),y=0;y<L.length;y++){let Ze=L[y];const mt=Ze[0];if(!(mt<=b.K))if(b.K=mt,Ze=Ze[1],b.I==2)if(Ze[0]=="c"){b.M=Ze[1],b.ba=Ze[2];const Un=Ze[3];Un!=null&&(b.ka=Un,b.j.info("VER="+b.ka));const Os=Ze[4];Os!=null&&(b.za=Os,b.j.info("SVER="+b.za));const as=Ze[5];as!=null&&typeof as=="number"&&as>0&&(T=1.5*as,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const ls=h.g;if(ls){const Qi=ls.g?ls.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qi){var H=T.h;H.g||Qi.indexOf("spdy")==-1&&Qi.indexOf("quic")==-1&&Qi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Bl(H,H.h),H.h=null))}if(T.G){const Ma=ls.g?ls.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(T.wa=Ma,et(T.J,T.G,Ma))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var se=h;if(T.na=Gc(T,T.L?T.ba:null,T.W),se.L){Hl(T.h,se);var Ie=se,Tt=T.O;Tt&&(Ie.H=Tt),Ie.D&&(Ts(Ie),Es(Ie)),T.g=se}else zc(T);b.i.length>0&&ks(b)}else Ze[0]!="stop"&&Ze[0]!="close"||Ds(b,7);else b.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Ds(b,7):Jl(b):Ze[0]!="noop"&&b.l&&b.l.qa(Ze),b.A=0)}}xs(4)}catch{}}var It=class{constructor(h,y){this.g=h,this.map=y}};function zl(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ql(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function As(h){return h.h?1:h.g?h.g.size:0}function Ss(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Bl(h,y){h.g?h.g.add(y):h.h=y}function Hl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}zl.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Fl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const b of h.g.values())y=y.concat(b.G);return y}return z(h.i)}var Oc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(h,y){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const T=h[b].indexOf("=");let L,H=null;T>=0?(L=h[b].substring(0,T),H=h[b].substring(T+1)):L=h[b],y(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function wn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof wn?(this.l=h.l,Bt(this,h.j),this.o=h.o,this.g=h.g,jr(this,h.u),this.h=h.h,Gl(this,Pc(h.i)),this.m=h.m):h&&(y=String(h).match(Oc))?(this.l=!1,Bt(this,y[1]||"",!0),this.o=Cs(y[2]||""),this.g=Cs(y[3]||"",!0),jr(this,y[4]),this.h=Cs(y[5]||"",!0),Gl(this,y[6]||"",!0),this.m=Cs(y[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}wn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ui(y,Ca,!0),":");var b=this.g;return(b||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ui(y,Ca,!0),"@"),h.push(er(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Ui(b,b.charAt(0)=="/"?Ql:Mc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Ui(b,Vc)),h.join("")},wn.prototype.resolve=function(h){const y=jt(this);let b=!!h.j;b?Bt(y,h.j):b=!!h.o,b?y.o=h.o:b=!!h.g,b?y.g=h.g:b=h.u!=null;var T=h.h;if(b)jr(y,h.u);else if(b=!!h.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=y.h.lastIndexOf("/");L!=-1&&(T=y.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let se=0;se<L.length;){const Ie=L[se++];Ie=="."?T&&se==L.length&&H.push(""):Ie==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&se==L.length&&H.push("")):(H.push(Ie),T=!0)}T=H.join("/")}else T=L}return b?y.h=T:b=h.i.toString()!=="",b?Gl(y,Pc(h.i)):b=!!h.m,b&&(y.m=h.m),y};function jt(h){return new wn(h)}function Bt(h,y,b){h.j=b?Cs(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function jr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Gl(h,y,b){y instanceof Dr?(h.i=y,Ia(h.i,h.l)):(b||(y=Ui(y,kr)),h.i=new Dr(y,h.l))}function et(h,y,b){h.i.set(y,b)}function Pi(h){return et(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Cs(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ui(h,y,b){return typeof h=="string"?(h=encodeURI(h).replace(y,hn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function hn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ca=/[#\/\?@]/g,Mc=/[#\?:]/g,Ql=/[#\?]/g,kr=/[#\?@]/g,Vc=/#/g;function Dr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Sa(h.i,function(y,b){h.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=Dr.prototype,r.add=function(h,y){dn(this),this.i=null,h=Or(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(y),this.h+=1,this};function Lc(h,y){dn(h),y=Or(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function $l(h,y){return dn(h),y=Or(h,y),h.g.has(y)}r.forEach=function(h,y){dn(this),this.g.forEach(function(b,T){b.forEach(function(L){h.call(y,L,T,this)},this)},this)};function Kl(h,y){dn(h);let b=[];if(typeof y=="string")$l(h,y)&&(b=b.concat(h.g.get(Or(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)b=b.concat(h[y]);return b}r.set=function(h,y){return dn(this),this.i=null,h=Or(this,h),$l(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=Kl(this,h),h.length>0?String(h[0]):y):y};function Ra(h,y,b){Lc(h,y),b.length>0&&(h.i=null,h.g.set(Or(h,y),z(b)),h.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let T=0;T<y.length;T++){var b=y[T];const L=er(b);b=Kl(this,b);for(let H=0;H<b.length;H++){let se=L;b[H]!==""&&(se+="="+er(b[H])),h.push(se)}}return this.i=h.join("&")};function Pc(h){const y=new Dr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Or(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ia(h,y){y&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(b,T){const L=T.toLowerCase();T!=L&&(Lc(this,T),Ra(this,L,b))},h)),h.j=y}function ss(h,y){const b=new es;if(f.Image){const T=new Image;T.onload=w(Ln,b,"TestLoadImage: loaded",!0,y,T),T.onerror=w(Ln,b,"TestLoadImage: error",!1,y,T),T.onabort=w(Ln,b,"TestLoadImage: abort",!1,y,T),T.ontimeout=w(Ln,b,"TestLoadImage: timeout",!1,y,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=h}else y(!1)}function Yl(h,y){const b=new es,T=new AbortController,L=setTimeout(()=>{T.abort(),Ln(b,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:T.signal}).then(H=>{clearTimeout(L),H.ok?Ln(b,"TestPingServer: ok",!0,y):Ln(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),Ln(b,"TestPingServer: error",!1,y)})}function Ln(h,y,b,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(b)}catch{}}function Mr(){this.g=new ys}function Rs(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Rs,Ws),Rs.prototype.g=function(){return new zi(this.i,this.h)};function zi(h,y){yt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(zi,yt),r=zi.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,rs(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,rs(this)),this.g&&(this.readyState=3,rs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ja(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ja(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Vr(this):rs(this),this.readyState==3&&ja(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,Vr(this))},r.Na=function(h){this.g&&(this.response=h,Vr(this))},r.ga=function(){this.g&&Vr(this)};function Vr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,rs(h)}r.setRequestHeader=function(h,y){this.A.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=y.next();return h.join(`\r
`)};function rs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pn(h){let y="";return Re(h,function(b,T){y+=T,y+=":",y+=b,y+=`\r
`}),y}function qi(h,y,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Pn(b),typeof h=="string"?b!=null&&er(b):et(h,y,b))}function rt(h){yt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(rt,yt);var Is=/^https?$/i,Xl=["POST","PUT"];r=rt.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,y,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ul.g(),this.g.onreadystatechange=C(x(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(H){Bi(this,H);return}if(h=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)b.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())b.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),L=f.FormData&&h instanceof f.FormData,!(Array.prototype.indexOf.call(Xl,y,void 0)>=0)||T||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of b)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(H){Bi(this,H)}};function Bi(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Zl(h),tr(h)}function Zl(h){h.A||(h.A=!0,wt(h,"complete"),wt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,wt(this,"complete"),wt(this,"abort"),tr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),rt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Hi(this):this.Xa())},r.Xa=function(){Hi(this)};function Hi(h){if(h.h&&typeof c<"u"){if(h.v&&is(h)==4)setTimeout(h.Ca.bind(h),0);else if(wt(h,"readystatechange"),is(h)==4){h.h=!1;try{const H=h.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var T;if(T=H===0){let se=String(h.D).match(Oc)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),T=!Is.test(se?se.toLowerCase():"")}b=T}if(b)wt(h,"complete"),wt(h,"success");else{h.o=6;try{var L=is(h)>2?h.g.statusText:""}catch{L=""}h.l=L+" ["+h.ca()+"]",Zl(h)}}finally{tr(h)}}}}function tr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,y||wt(h,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function is(h){return h.g?h.g.readyState:0}r.ca=function(){try{return is(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),On(y)}};function $t(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function nr(h){const y={};h=(h.g&&is(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<h.length;T++){if(R(h[T]))continue;var b=jc(h[T]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=y[L]||[];y[L]=H,H.push(b)}Pe(y,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(h,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||y}function Lr(h){this.za=0,this.i=[],this.j=new es,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=js("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=js("baseRetryDelayMs",5e3,h),this.Za=js("retryDelaySeedMs",1e4,h),this.Ta=js("forwardChannelMaxRetries",2,h),this.va=js("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new zl(h&&h.concurrentRequestLimit),this.Ba=new Mr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Lr.prototype,r.ka=8,r.I=1,r.connect=function(h,y,b,T){Ct(0),this.W=h,this.H=y||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Gc(this,null,this.W),ks(this)};function Jl(h){if(ka(h),h.I==3){var y=h.V++,b=jt(h.J);if(et(b,"SID",h.M),et(b,"RID",y),et(b,"TYPE","terminate"),Fi(h,b),y=new ts(h,h.j,y),y.M=2,y.A=Pi(jt(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=y.A,b=!0),b||(y.g=Qc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Es(y)}Fc(h)}function Pr(h){h.g&&(eo(h),h.g.cancel(),h.g=null)}function ka(h){Pr(h),h.v&&(f.clearTimeout(h.v),h.v=null),Oa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&f.clearTimeout(h.m),h.m=null)}function ks(h){if(!ql(h.h)&&!h.m){h.m=!0;var y=h.Ea;Ne||N(),W||(Ne(),W=!0),S.add(y,h),h.D=0}}function Da(h,y){return As(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=bs(x(h.Ea,h,y),Hc(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const L=new ts(this,this.j,h);let H=this.o;if(this.U&&(H?(H=k(H),ae(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(y+=T,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Uc(this,L,y),b=jt(this.J),et(b,"RID",h),et(b,"CVER",22),this.G&&et(b,"X-HTTP-Session-Id",this.G),Fi(this,b),H&&(this.R?y="headers="+er(Pn(H))+"&"+y:this.u&&qi(b,this.u,H)),Bl(this.h,L),this.Ra&&et(b,"TYPE","init"),this.S?(et(b,"$req",y),et(b,"SID","null"),L.U=!0,ws(L,b,null)):ws(L,b,y),this.I=2}}else this.I==3&&(h?Wl(this,h):this.i.length==0||ql(this.h)||Wl(this))};function Wl(h,y){var b;y?b=y.l:b=h.V++;const T=jt(h.J);et(T,"SID",h.M),et(T,"RID",b),et(T,"AID",h.K),Fi(h,T),h.u&&h.o&&qi(T,h.u,h.o),b=new ts(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Uc(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Bl(h.h,b),ws(b,T,y)}function Fi(h,y){h.H&&Re(h.H,function(b,T){et(y,T,b)}),h.l&&Re({},function(b,T){et(y,T,b)})}function Uc(h,y,b){b=Math.min(h.i.length,b);const T=h.l?x(h.l.Ka,h.l,h):null;e:{var L=h.i;let Ie=-1;for(;;){const Tt=["count="+b];Ie==-1?b>0?(Ie=L[0].g,Tt.push("ofs="+Ie)):Ie=0:Tt.push("ofs="+Ie);let Ze=!0;for(let mt=0;mt<b;mt++){var H=L[mt].g;const Un=L[mt].map;if(H-=Ie,H<0)Ie=Math.max(0,L[mt].g-100),Ze=!1;else try{H="req"+H+"_"||"";try{var se=Un instanceof Map?Un:Object.entries(Un);for(const[Os,as]of se){let ls=as;g(as)&&(ls=Gt(as)),Tt.push(H+Os+"="+encodeURIComponent(ls))}}catch(Os){throw Tt.push(H+"type="+encodeURIComponent("_badmap")),Os}}catch{T&&T(Un)}}if(Ze){se=Tt.join("&");break e}}se=void 0}return h=h.i.splice(0,b),y.G=h,se}function zc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;Ne||N(),W||(Ne(),W=!0),S.add(y,h),h.A=0}}function Gi(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=bs(x(h.Da,h),Hc(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,qc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=bs(x(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Pr(this),qc(this))};function eo(h){h.B!=null&&(f.clearTimeout(h.B),h.B=null)}function qc(h){h.g=new ts(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=jt(h.na);et(y,"RID","rpc"),et(y,"SID",h.M),et(y,"AID",h.K),et(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&et(y,"TO",h.ia),et(y,"TYPE","xmlhttp"),Fi(h,y),h.u&&h.o&&qi(y,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Pi(jt(y)),b.u=null,b.R=!0,Na(b,h)}r.Va=function(){this.C!=null&&(this.C=null,Pr(this),Gi(this),Ct(19))};function Oa(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Bc(h,y){var b=null;if(h.g==y){Oa(h),eo(h),h.g=null;var T=2}else if(Ss(h.h,y))b=y.G,Hl(h.h,y),T=1;else return;if(h.I!=0){if(y.o)if(T==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var L=h.D;T=Ta(),wt(T,new vs(T,b)),ks(h)}else zc(h);else if(L=y.m,L==3||L==0&&y.X>0||!(T==1&&Da(h,y)||T==2&&Gi(h)))switch(b&&b.length>0&&(y=h.h,y.i=y.i.concat(b)),L){case 1:Ds(h,5);break;case 4:Ds(h,10);break;case 3:Ds(h,6);break;default:Ds(h,2)}}}function Hc(h,y){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*y}function Ds(h,y){if(h.j.info("Error code "+y),y==2){var b=x(h.bb,h),T=h.Ua;const L=!T;T=new wn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Bt(T,"https"),Pi(T),L?ss(T.toString(),b):Yl(T.toString(),b)}else Ct(2);h.I=0,h.l&&h.l.pa(y),Fc(h),ka(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Fc(h){if(h.I=0,h.ja=[],h.l){const y=Fl(h.h);(y.length!=0||h.i.length!=0)&&(Q(h.ja,y),Q(h.ja,h.i),h.h.i.length=0,z(h.i),h.i.length=0),h.l.oa()}}function Gc(h,y,b){var T=b instanceof wn?jt(b):new wn(b);if(T.g!="")y&&(T.g=y+"."+T.g),jr(T,T.u);else{var L=f.location;T=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;const H=new wn(null);T&&Bt(H,T),y&&(H.g=y),L&&jr(H,L),b&&(H.h=b),T=H}return b=h.G,y=h.wa,b&&y&&et(T,b,y),et(T,"VER",h.ka),Fi(h,T),T}function Qc(h,y,b){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new rt(new Rs({ab:b})):new rt(h.ma),y.Fa(h.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $c(){}r=$c.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ur(){}Ur.prototype.g=function(h,y){return new on(h,y)};function on(h,y){yt.call(this),this.g=new Lr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!R(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new sr(this)}E(on,yt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Jl(this.g)},on.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Gt(h),h=b);y.i.push(new It(y.Ya++,h)),y.I==3&&ks(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Jl(this.g),delete this.g,on.Z.N.call(this)};function Kc(h){Qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const b in y){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(Kc,Qt);function Yc(){Mn.call(this),this.status=1}E(Yc,Mn);function sr(h){this.g=h}E(sr,$c),sr.prototype.ra=function(){wt(this.g,"a")},sr.prototype.qa=function(h){wt(this.g,new Kc(h))},sr.prototype.pa=function(h){wt(this.g,new Yc)},sr.prototype.oa=function(){wt(this.g,"b")},Ur.prototype.createWebChannel=Ur.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,f_=function(){return new Ur},d_=function(){return Ta()},h_=Et,ng={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vi.NO_ERROR=0,Vi.TIMEOUT=8,Vi.HTTP_ERROR=6,ch=Vi,Pl.COMPLETE="complete",u_=Pl,Sc.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Bo=Sc,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,c_=rt}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const Gx="@firebase/firestore",Qx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Kh("@firebase/firestore");function hl(){return ga.logLevel}function he(r,...e){if(ga.logLevel<=qe.DEBUG){const n=e.map(Lg);ga.debug(`Firestore (${Dl}): ${r}`,...n)}}function Nr(r,...e){if(ga.logLevel<=qe.ERROR){const n=e.map(Lg);ga.error(`Firestore (${Dl}): ${r}`,...n)}}function El(r,...e){if(ga.logLevel<=qe.WARN){const n=e.map(Lg);ga.warn(`Firestore (${Dl}): ${r}`,...n)}}function Lg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,m_(r,i,n)}function m_(r,e,n){let i=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Nr(i),new Error(i)}function We(r,e,n,i){let l="Unexpected state";typeof n=="string"?l=n:i=n,r||m_(e,l,i)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class r6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class i6{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let i=this.i;const l=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let c=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new wr,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new wr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new g_(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class a6{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l6{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new a6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $x{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const i=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const l=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $x(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $x(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=c6(40);for(let c=0;c<l.length;++c)i.length<20&&l[c]<n&&(i+=e.charAt(l[c]%62))}return i}}function Be(r,e){return r<e?-1:r>e?1:0}function sg(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const l=r.charAt(i),c=e.charAt(i);if(l!==c)return Dm(l)===Dm(c)?Be(l,c):Dm(l)?1:-1}return Be(r.length,e.length)}const u6=55296,h6=57343;function Dm(r){const e=r.charCodeAt(0);return e>=u6&&e<=h6}function Tl(r,e,n){return r.length===e.length&&r.every(((i,l)=>n(i,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="__name__";class Us{constructor(e,n,i){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&we(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Us.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Us?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let l=0;l<i;l++){const c=Us.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Be(e.length,n.length)}static compareSegments(e,n){const i=Us.isNumericId(e),l=Us.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?Us.extractNumericId(e).compare(Us.extractNumericId(n)):sg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pi.fromString(e.substring(4,e.length-2))}}class ut extends Us{construct(e,n,i){return new ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((l=>l.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const d6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Us{construct(e,n,i){return new Wt(e,n,i)}static isValidIdentifier(e){return d6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kx}static keyField(){return new Wt([Kx])}static fromServerFormat(e){const n=[];let i="",l=0;const c=()=>{if(i.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(i+=g,l++):(c(),l++)}if(c(),f)throw new le(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ut.fromString(e))}static fromName(e){return new xe(ut.fromString(e).popFirst(5))}static empty(){return new xe(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(r,e,n){if(!n)throw new le(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function f6(r,e,n,i){if(e===!0&&i===!0)throw new le(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Yx(r){if(!xe.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Xx(r){if(xe.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function y_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function bn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(r);throw new le(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(r,e){const n={typeString:r};return e&&(n.value=e),n}function bc(r,e){if(!y_(r))throw new le(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const l=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const f=r[i];if(l&&typeof f!==l){n=`JSON field '${i}' must be a ${l}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new le(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=-62135596800,Jx=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Jx);return new ft(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Zx)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jx}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Pt("string",ft._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new ft(0,0))}static max(){return new Te(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=-1;function m6(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,l=Te.fromTimestamp(i===1e9?new ft(n+1,0):new ft(n,i));return new bi(l,xe.empty(),e)}function g6(r){return new bi(r.readTime,r.key,ic)}class bi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new bi(Te.min(),xe.empty(),ic)}static max(){return new bi(Te.max(),xe.empty(),ic)}}function p6(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(r.documentKey,e.documentKey),n!==0?n:Be(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==y6)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((i,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,i)=>{n(e)}))}static reject(e){return new J(((n,i)=>{i(e)}))}static waitFor(e){return new J(((n,i)=>{let l=0,c=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++c,f&&c===l&&n()}),(p=>i(p)))})),f=!0,c===l&&n()}))}static or(e){let n=J.resolve(!1);for(const i of e)n=n.next((l=>l?J.resolve(l):i()));return n}static forEach(e,n){const i=[];return e.forEach(((l,c)=>{i.push(n.call(this,l,c))})),this.waitFor(i)}static mapArray(e,n){return new J(((i,l)=>{const c=e.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const x=p;n(e[x]).next((w=>{f[x]=w,++g,g===c&&i(f)}),(w=>l(w)))}}))}static doWhile(e,n){return new J(((i,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):i()};c()}))}}function v6(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ml(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=-1;function ed(r){return r==null}function Dh(r){return r===0&&1/r==-1/0}function b6(r){return typeof r=="number"&&Number.isInteger(r)&&!Dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="";function _6(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Wx(e)),e=w6(r.get(n),e);return Wx(e)}function w6(r,e){let n=e;const i=r.length;for(let l=0;l<i;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case x_:n+="";break;default:n+=c}}return n}function Wx(r){return r+x_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Si(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function v_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,i,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,i,l,c){this.key=e,this.value=n,this.color=i??Jt.RED,this.left=l??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,l,c){return new Jt(e??this.key,n??this.value,i??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let l=this;const c=i(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,i),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Jt.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,i,l,c){return this}insert(e,n,i){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tv(this.data.getIterator())}getIteratorFrom(e){return new tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=i.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class tv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new In([])}unionWith(e){let n=new zt(Wt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new b_("Invalid base64 string: "+c):c}})(e);return new en(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const E6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(r){if(We(!!r,39018),typeof r=="string"){let e=0;const n=E6.exec(r);if(We(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:St(r.seconds),nanos:St(r.nanos)}}function St(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function wi(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="server_timestamp",w_="__type__",E_="__previous_value__",T_="__local_write_time__";function zg(r){var n,i;return((i=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[w_])==null?void 0:i.stringValue)===__}function td(r){const e=r.mapValue.fields[E_];return zg(e)?td(e):e}function ac(r){const e=_i(r.mapValue.fields[T_].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n,i,l,c,f,g,p,x,w){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=x,this.isUsingEmulator=w}}const Oh="(default)";class lc{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new lc("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="__type__",N6="__max__",nh={mapValue:{}},A_="__vector__",Mh="value";function Ei(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zg(r)?4:S6(r)?9007199254740991:A6(r)?10:11:we(28295,{value:r})}function Ys(r,e){if(r===e)return!0;const n=Ei(r);if(n!==Ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ac(r).isEqual(ac(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=_i(l.timestampValue),g=_i(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return wi(l.bytesValue).isEqual(wi(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return St(l.geoPointValue.latitude)===St(c.geoPointValue.latitude)&&St(l.geoPointValue.longitude)===St(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return St(l.integerValue)===St(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=St(l.doubleValue),g=St(c.doubleValue);return f===g?Dh(f)===Dh(g):isNaN(f)&&isNaN(g)}return!1})(r,e);case 9:return Tl(r.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:case 11:return(function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(ev(f)!==ev(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Ys(f[p],g[p])))return!1;return!0})(r,e);default:return we(52216,{left:r})}}function oc(r,e){return(r.values||[]).find((n=>Ys(n,e)))!==void 0}function Nl(r,e){if(r===e)return 0;const n=Ei(r),i=Ei(e);if(n!==i)return Be(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=St(c.integerValue||c.doubleValue),p=St(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,e);case 3:return nv(r.timestampValue,e.timestampValue);case 4:return nv(ac(r),ac(e));case 5:return sg(r.stringValue,e.stringValue);case 6:return(function(c,f){const g=wi(c),p=wi(f);return g.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),p=f.split("/");for(let x=0;x<g.length&&x<p.length;x++){const w=Be(g[x],p[x]);if(w!==0)return w}return Be(g.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=Be(St(c.latitude),St(f.latitude));return g!==0?g:Be(St(c.longitude),St(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return sv(r.arrayValue,e.arrayValue);case 10:return(function(c,f){var C,z,Q,ee;const g=c.fields||{},p=f.fields||{},x=(C=g[Mh])==null?void 0:C.arrayValue,w=(z=p[Mh])==null?void 0:z.arrayValue,E=Be(((Q=x==null?void 0:x.values)==null?void 0:Q.length)||0,((ee=w==null?void 0:w.values)==null?void 0:ee.length)||0);return E!==0?E:sv(x,w)})(r.mapValue,e.mapValue);case 11:return(function(c,f){if(c===nh.mapValue&&f===nh.mapValue)return 0;if(c===nh.mapValue)return 1;if(f===nh.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),x=f.fields||{},w=Object.keys(x);p.sort(),w.sort();for(let E=0;E<p.length&&E<w.length;++E){const C=sg(p[E],w[E]);if(C!==0)return C;const z=Nl(g[p[E]],x[w[E]]);if(z!==0)return z}return Be(p.length,w.length)})(r.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function nv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const n=_i(r),i=_i(e),l=Be(n.seconds,i.seconds);return l!==0?l:Be(n.nanos,i.nanos)}function sv(r,e){const n=r.values||[],i=e.values||[];for(let l=0;l<n.length&&l<i.length;++l){const c=Nl(n[l],i[l]);if(c)return c}return Be(n.length,i.length)}function Al(r){return rg(r)}function rg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=_i(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return wi(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return xe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",l=!0;for(const c of n.values||[])l?l=!1:i+=",",i+=rg(c);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of i)c?c=!1:l+=",",l+=`${f}:${rg(n.fields[f])}`;return l+"}"})(r.mapValue):we(61005,{value:r})}function uh(r){switch(Ei(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=td(r);return e?16+uh(e):16;case 5:return 2*r.stringValue.length;case 6:return wi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((l,c)=>l+uh(c)),0)})(r.arrayValue);case 10:case 11:return(function(i){let l=0;return Si(i.fields,((c,f)=>{l+=c.length+uh(f)})),l})(r.mapValue);default:throw we(13486,{value:r})}}function rv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ig(r){return!!r&&"integerValue"in r}function qg(r){return!!r&&"arrayValue"in r}function iv(r){return!!r&&"nullValue"in r}function av(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hh(r){return!!r&&"mapValue"in r}function A6(r){var n,i;return((i=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[N_])==null?void 0:i.stringValue)===A_}function Xo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Si(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Xo(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xo(r.arrayValue.values[n]);return e}return{...r}}function S6(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===N6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xo(n)}setAll(e){let n=Wt.emptyPath(),i={},l=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,i,l),i={},l=[],n=g.popLast()}f?i[g.lastSegment()]=Xo(f):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,l)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=n.mapValue.fields[e.get(i)];hh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,i){Si(n,((l,c)=>e[l]=c));for(const l of i)delete e[l]}clone(){return new vn(Xo(this.value))}}function S_(r){const e=[];return Si(r.fields,((n,i)=>{const l=new Wt([n]);if(hh(i)){const c=S_(i.mapValue).fields;if(c.length===0)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)})),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,i,l,c,f,g){this.key=e,this.documentType=n,this.version=i,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new an(e,0,Te.min(),Te.min(),Te.min(),vn.empty(),0)}static newFoundDocument(e,n,i,l){return new an(e,1,n,Te.min(),i,l,0)}static newNoDocument(e,n){return new an(e,2,n,Te.min(),Te.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Te.min(),Te.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function lv(r,e,n){let i=0;for(let l=0;l<r.position.length;l++){const c=e[l],f=r.position[l];if(c.field.isKeyField()?i=xe.comparator(xe.fromName(f.referenceValue),n.key):i=Nl(f,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function ov(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ys(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function C6(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{}class Lt extends C_{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new I6(e,n,i):n==="array-contains"?new D6(e,i):n==="in"?new O6(e,i):n==="not-in"?new M6(e,i):n==="array-contains-any"?new V6(e,i):new Lt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new j6(e,i):new k6(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Nl(n,this.value)):n!==null&&Ei(this.value)===Ei(n)&&this.matchesComparison(Nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends C_{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ms(e,n)}matches(e){return R_(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R_(r){return r.op==="and"}function I_(r){return R6(r)&&R_(r)}function R6(r){for(const e of r.filters)if(e instanceof ms)return!1;return!0}function ag(r){if(r instanceof Lt)return r.field.canonicalString()+r.op.toString()+Al(r.value);if(I_(r))return r.filters.map((e=>ag(e))).join(",");{const e=r.filters.map((n=>ag(n))).join(",");return`${r.op}(${e})`}}function j_(r,e){return r instanceof Lt?(function(i,l){return l instanceof Lt&&i.op===l.op&&i.field.isEqual(l.field)&&Ys(i.value,l.value)})(r,e):r instanceof ms?(function(i,l){return l instanceof ms&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce(((c,f,g)=>c&&j_(f,l.filters[g])),!0):!1})(r,e):void we(19439)}function k_(r){return r instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Al(n.value)}`})(r):r instanceof ms?(function(n){return n.op.toString()+" {"+n.getFilters().map(k_).join(" ,")+"}"})(r):"Filter"}class I6 extends Lt{constructor(e,n,i){super(e,n,i),this.key=xe.fromName(i.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class j6 extends Lt{constructor(e,n){super(e,"in",n),this.keys=D_("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class k6 extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=D_("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function D_(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>xe.fromName(i.referenceValue)))}class D6 extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qg(n)&&oc(n.arrayValue,this.value)}}class O6 extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}}class M6 extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!oc(this.value.arrayValue,n)}}class V6 extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>oc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n=null,i=[],l=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function cv(r,e=null,n=[],i=[],l=null,c=null,f=null){return new L6(r,e,n,i,l,c,f)}function Bg(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>ag(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Al(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Al(i))).join(",")),e.Te=n}return e.Te}function Hg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!C6(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!j_(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ov(r.startAt,e.startAt)&&ov(r.endAt,e.endAt)}function lg(r){return xe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n=null,i=[],l=[],c=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function P6(r,e,n,i,l,c,f,g){return new Vl(r,e,n,i,l,c,f,g)}function nd(r){return new Vl(r)}function uv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function O_(r){return r.collectionGroup!==null}function Zo(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new zt(Wt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((x=>{x.isInequality()&&(g=g.add(x.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new cc(c,i))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new cc(Wt.keyField(),i))}return e.Ie}function Fs(r){const e=Se(r);return e.Ee||(e.Ee=U6(e,Zo(r))),e.Ee}function U6(r,e){if(r.limitType==="F")return cv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new cc(l.field,c)}));const n=r.endAt?new Vh(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Vh(r.startAt.position,r.startAt.inclusive):null;return cv(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function og(r,e){const n=r.filters.concat([e]);return new Vl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function cg(r,e,n){return new Vl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function sd(r,e){return Hg(Fs(r),Fs(e))&&r.limitType===e.limitType}function M_(r){return`${Bg(Fs(r))}|lt:${r.limitType}`}function dl(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((l=>k_(l))).join(", ")}]`),ed(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((l=>Al(l))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((l=>Al(l))).join(",")),`Target(${i})`})(Fs(r))}; limitType=${r.limitType})`}function rd(r,e){return e.isFoundDocument()&&(function(i,l){const c=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):xe.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(r,e)&&(function(i,l){for(const c of Zo(i))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(i,l){for(const c of i.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(i,l){return!(i.startAt&&!(function(f,g,p){const x=lv(f,g,p);return f.inclusive?x<=0:x<0})(i.startAt,Zo(i),l)||i.endAt&&!(function(f,g,p){const x=lv(f,g,p);return f.inclusive?x>=0:x>0})(i.endAt,Zo(i),l))})(r,e)}function z6(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function V_(r){return(e,n)=>{let i=!1;for(const l of Zo(r)){const c=q6(l,e,n);if(c!==0)return c;i=i||l.field.isKeyField()}return 0}}function q6(r,e,n){const i=r.field.isKeyField()?xe.comparator(e.key,n.key):(function(c,f,g){const p=f.data.field(c),x=g.data.field(c);return p!==null&&x!==null?Nl(p,x):we(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[l,c]of i)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,((n,i)=>{for(const[l,c]of i)e(l,c)}))}isEmpty(){return v_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=new pt(xe.comparator);function Ar(){return B6}const L_=new pt(xe.comparator);function Ho(...r){let e=L_;for(const n of r)e=e.insert(n.key,n);return e}function P_(r){let e=L_;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ca(){return Jo()}function U_(){return Jo()}function Jo(){return new wa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const H6=new pt(xe.comparator),F6=new zt(xe.comparator);function He(...r){let e=F6;for(const n of r)e=e.add(n);return e}const G6=new zt(Be);function Q6(){return G6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function z_(r){return{integerValue:""+r}}function q_(r,e){return b6(e)?z_(e):Fg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this._=void 0}}function $6(r,e,n){return r instanceof uc?(function(l,c){const f={fields:{[w_]:{stringValue:__},[T_]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zg(c)&&(c=td(c)),c&&(f.fields[E_]=c),{mapValue:f}})(n,e):r instanceof hc?H_(r,e):r instanceof dc?F_(r,e):(function(l,c){const f=B_(l,c),g=hv(f)+hv(l.Ae);return ig(f)&&ig(l.Ae)?z_(g):Fg(l.serializer,g)})(r,e)}function K6(r,e,n){return r instanceof hc?H_(r,e):r instanceof dc?F_(r,e):n}function B_(r,e){return r instanceof fc?(function(i){return ig(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class uc extends id{}class hc extends id{constructor(e){super(),this.elements=e}}function H_(r,e){const n=G_(e);for(const i of r.elements)n.some((l=>Ys(l,i)))||n.push(i);return{arrayValue:{values:n}}}class dc extends id{constructor(e){super(),this.elements=e}}function F_(r,e){let n=G_(e);for(const i of r.elements)n=n.filter((l=>!Ys(l,i)));return{arrayValue:{values:n}}}class fc extends id{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hv(r){return St(r.integerValue||r.doubleValue)}function G_(r){return qg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.field=e,this.transform=n}}function Y6(r,e){return r.field.isEqual(e.field)&&(function(i,l){return i instanceof hc&&l instanceof hc||i instanceof dc&&l instanceof dc?Tl(i.elements,l.elements,Ys):i instanceof fc&&l instanceof fc?Ys(i.Ae,l.Ae):i instanceof uc&&l instanceof uc})(r.transform,e.transform)}class X6{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ad{}function $_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Gg(r.key,Zn.none()):new _c(r.key,r.data,Zn.none());{const n=r.data,i=vn.empty();let l=new zt(Wt.comparator);for(let c of e.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?i.delete(c):i.set(c,f),l=l.add(c)}return new Ci(r.key,i,new In(l.toArray()),Zn.none())}}function Z6(r,e,n){r instanceof _c?(function(l,c,f){const g=l.value.clone(),p=fv(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):r instanceof Ci?(function(l,c,f){if(!dh(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=fv(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(K_(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Wo(r,e,n,i){return r instanceof _c?(function(c,f,g,p){if(!dh(c.precondition,f))return g;const x=c.value.clone(),w=mv(c.fieldTransforms,p,f);return x.setAll(w),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),null})(r,e,n,i):r instanceof Ci?(function(c,f,g,p){if(!dh(c.precondition,f))return g;const x=mv(c.fieldTransforms,p,f),w=f.data;return w.setAll(K_(c)),w.setAll(x),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(r,e,n,i):(function(c,f,g){return dh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,e,n)}function J6(r,e){let n=null;for(const i of r.fieldTransforms){const l=e.data.field(i.field),c=B_(i.transform,l||null);c!=null&&(n===null&&(n=vn.empty()),n.set(i.field,c))}return n||null}function dv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&Tl(i,l,((c,f)=>Y6(c,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class _c extends ad{constructor(e,n,i,l=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ci extends ad{constructor(e,n,i,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function K_(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function fv(r,e,n){const i=new Map;We(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=e.data.field(c.field);i.set(c.field,K6(f,g,n[l]))}return i}function mv(r,e,n){const i=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);i.set(l.field,$6(c,f,e))}return i}class Gg extends ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W6 extends ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,i,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Z6(c,e,i[l])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Wo(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Wo(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=U_();return this.mutations.forEach((l=>{const c=e.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=$_(f,g);p!==null&&i.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Te.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,((n,i)=>dv(n,i)))&&Tl(this.baseMutations,e.baseMutations,((n,i)=>dv(n,i)))}}class Qg{constructor(e,n,i,l){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(e,n,i){We(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let l=(function(){return H6})();const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,i[f].version);return new Qg(e,n,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Qe;function sC(r){switch(r){case X.OK:return we(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function Y_(r){if(r===void 0)return Nr("GRPC error has no .code"),X.UNKNOWN;switch(r){case Vt.OK:return X.OK;case Vt.CANCELLED:return X.CANCELLED;case Vt.UNKNOWN:return X.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return X.INTERNAL;case Vt.UNAVAILABLE:return X.UNAVAILABLE;case Vt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Vt.NOT_FOUND:return X.NOT_FOUND;case Vt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Vt.ABORTED:return X.ABORTED;case Vt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Vt.DATA_LOSS:return X.DATA_LOSS;default:return we(39323,{code:r})}}(Qe=Vt||(Vt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new pi([4294967295,4294967295],0);function gv(r){const e=rC().encode(r),n=new o_;return n.update(e),new Uint8Array(n.digest())}function pv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pi([n,i],0),new pi([l,c],0)]}class $g{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Fo(`Invalid padding: ${n}`);if(i<0)throw new Fo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Fo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Fo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pi.fromNumber(this.ge)}ye(e,n,i){let l=e.add(n.multiply(pi.fromNumber(i)));return l.compare(iC)===1&&(l=new pi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gv(e),[i,l]=pv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(i,l,c);if(!this.we(f))return!1}return!0}static create(e,n,i){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new $g(c,l,n);return i.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=gv(e),[i,l]=pv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(i,l,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Fo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,i,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const l=new Map;return l.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new ld(Te.min(),l,new pt(Be),Ar(),He())}}class wc{constructor(e,n,i,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new wc(i,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,i,l){this.be=e,this.removedTargetIds=n,this.key=i,this.De=l}}class X_{constructor(e,n){this.targetId=e,this.Ce=n}}class Z_{constructor(e,n,i=en.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=l}}class yv{constructor(){this.ve=0,this.Fe=xv(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),i=He();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:we(38017,{changeType:c})}})),new wc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=xv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ar(),this.Je=sh(),this.He=sh(),this.Ye=new pt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,i=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(lg(c))if(i===0){const f=new xe(c.path);this.et(n,f,an.newNoDocument(f,Te.min()))}else We(i===1,20013,{expectedCount:i});else{const f=this._t(n);if(f!==i){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const x=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,x)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=wi(i).toUint8Array()}catch(p){if(p instanceof b_)return El("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new $g(f,l,c)}catch(p){return El(p instanceof Fo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let l=0;return i.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&lg(g.target)){const p=new xe(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,an.newNoDocument(p,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let i=He();this.He.forEach(((c,f)=>{let g=!0;f.forEachWhile((p=>{const x=this.ot(p);return!x||x.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(i=i.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const l=new ld(e,n,this.Ye,this.je,i);return this.je=Ar(),this.Je=sh(),this.He=sh(),this.Ye=new pt(Be),l}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new yv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new pt(xe.comparator)}function xv(){return new pt(xe.comparator)}const lC={asc:"ASCENDING",desc:"DESCENDING"},oC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cC={and:"AND",or:"OR"};class uC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ug(r,e){return r.useProto3Json||ed(e)?e:{value:e}}function Lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function hC(r,e){return Lh(r,e.toTimestamp())}function Gs(r){return We(!!r,49232),Te.fromTimestamp((function(n){const i=_i(n);return new ft(i.seconds,i.nanos)})(r))}function Kg(r,e){return hg(r,e).canonicalString()}function hg(r,e){const n=(function(l){return new ut(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function W_(r){const e=ut.fromString(r);return We(r2(e),10190,{key:e.toString()}),e}function dg(r,e){return Kg(r.databaseId,e.path)}function Om(r,e){const n=W_(e);if(n.get(1)!==r.databaseId.projectId)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new xe(t2(n))}function e2(r,e){return Kg(r.databaseId,e)}function dC(r){const e=W_(r);return e.length===4?ut.emptyPath():t2(e)}function fg(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function t2(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function vv(r,e,n){return{name:dg(r,e),fields:n.value.mapValue.fields}}function fC(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:we(39313,{state:x})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(x,w){return x.useProto3Json?(We(w===void 0||typeof w=="string",58123),en.fromBase64String(w||"")):(We(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),en.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(x){const w=x.code===void 0?X.UNKNOWN:Y_(x.code);return new le(w,x.message||"")})(f);n=new Z_(i,l,c,g||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=Om(r,i.document.name),c=Gs(i.document.updateTime),f=i.document.createTime?Gs(i.document.createTime):Te.min(),g=new vn({mapValue:{fields:i.document.fields}}),p=an.newFoundDocument(l,c,f,g),x=i.targetIds||[],w=i.removedTargetIds||[];n=new fh(x,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=Om(r,i.document),c=i.readTime?Gs(i.readTime):Te.min(),f=an.newNoDocument(l,c),g=i.removedTargetIds||[];n=new fh([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=Om(r,i.document),c=i.removedTargetIds||[];n=new fh([],c,l,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:c}=i,f=new nC(l,c),g=i.targetId;n=new X_(g,f)}}return n}function mC(r,e){let n;if(e instanceof _c)n={update:vv(r,e.key,e.value)};else if(e instanceof Gg)n={delete:dg(r,e.key)};else if(e instanceof Ci)n={update:vv(r,e.key,e.data),updateMask:EC(e.fieldMask)};else{if(!(e instanceof W6))return we(16599,{Vt:e.type});n={verify:dg(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,f){const g=f.transform;if(g instanceof uc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof hc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof dc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof fc)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw we(20930,{transform:f.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:hC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(r,e.precondition)),n}function gC(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((n=>(function(l,c){let f=l.updateTime?Gs(l.updateTime):Gs(c);return f.isEqual(Te.min())&&(f=Gs(c)),new X6(f,l.transformResults||[])})(n,e)))):[]}function pC(r,e){return{documents:[e2(r,e.path)]}}function yC(r,e){const n={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=e2(r,l);const c=(function(x){if(x.length!==0)return s2(ms.create(x,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(x){if(x.length!==0)return x.map((w=>(function(C){return{field:fl(C.field),direction:bC(C.dir)}})(w)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=ug(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(e.endAt)),{ft:n,parent:l}}function xC(r){let e=dC(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){We(i===1,65062);const w=n.from[0];w.allDescendants?l=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=(function(E){const C=n2(E);return C instanceof ms&&I_(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(E){return E.map((C=>(function(Q){return new cc(ml(Q.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(C)))})(n.orderBy));let g=null;n.limit&&(g=(function(E){let C;return C=typeof E=="object"?E.value:E,ed(C)?null:C})(n.limit));let p=null;n.startAt&&(p=(function(E){const C=!!E.before,z=E.values||[];return new Vh(z,C)})(n.startAt));let x=null;return n.endAt&&(x=(function(E){const C=!E.before,z=E.values||[];return new Vh(z,C)})(n.endAt)),P6(e,l,f,c,g,"F",p,x)}function vC(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function n2(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ml(n.unaryFilter.field);return Lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=ml(n.unaryFilter.field);return Lt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ml(n.unaryFilter.field);return Lt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ml(n.unaryFilter.field);return Lt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Lt.create(ml(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ms.create(n.compositeFilter.filters.map((i=>n2(i))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(r):we(30097,{filter:r})}function bC(r){return lC[r]}function _C(r){return oC[r]}function wC(r){return cC[r]}function fl(r){return{fieldPath:r.canonicalString()}}function ml(r){return Wt.fromServerFormat(r.fieldPath)}function s2(r){return r instanceof Lt?(function(n){if(n.op==="=="){if(av(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NAN"}};if(iv(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(av(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NAN"}};if(iv(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(n.field),op:_C(n.op),value:n.value}}})(r):r instanceof ms?(function(n){const i=n.getFilters().map((l=>s2(l)));return i.length===1?i[0]:{compositeFilter:{op:wC(n.op),filters:i}}})(r):we(54877,{filter:r})}function EC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function r2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,i,l,c=Te.min(),f=Te.min(),g=en.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.yt=e}}function NC(r){const e=xC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.Cn=new SC}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(bi.min())}updateCollectionGroup(e,n,i){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class SC{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n]||new zt(ut.comparator),c=!l.has(i);return this.index[n]=l.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(e){return(this.index[e]||new zt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i2=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(i2,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sl(0)}static cr(){return new Sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="LruGarbageCollector",CC=1048576;function wv([r,e],[n,i]){const l=Be(r,n);return l===0?Be(e,i):l}class RC{constructor(e){this.Ir=e,this.buffer=new zt(wv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();wv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IC{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(_v,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ml(n)?he(_v,"Ignoring IndexedDB error during garbage collection: ",n):await Ol(n)}await this.Vr(3e5)}))}}class jC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Wh.ce);const i=new RC(n);return this.mr.forEachTarget(e,(l=>i.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>i.Ar(l))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(bv)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,l,c,f,g,p,x;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,f=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(i=E,g=Date.now(),this.removeTargets(e,i,n)))).next((E=>(c=E,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(x=Date.now(),hl()<=qe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${E} documents in `+(x-p)+`ms
Total Duration: ${x-w}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:E}))))}}function kC(r,e){return new jC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.changes=new wa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?J.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,i,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(i=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(i!==null&&Wo(i.mutation,l,In.empty(),ft.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,He()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=He()){const l=ca();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,i).next((c=>{let f=Ho();return c.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const i=ca();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,He())))}populateOverlays(e,n,i){const l=[];return i.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,i,l){let c=Ar();const f=Jo(),g=(function(){return Jo()})();return n.forEach(((p,x)=>{const w=i.get(x.key);l.has(x.key)&&(w===void 0||w.mutation instanceof Ci)?c=c.insert(x.key,x):w!==void 0?(f.set(x.key,w.mutation.getFieldMask()),Wo(w.mutation,x,w.mutation.getFieldMask(),ft.now())):f.set(x.key,In.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((x,w)=>f.set(x,w))),n.forEach(((x,w)=>g.set(x,new OC(w,f.get(x)??null)))),g)))}recalculateAndSaveOverlays(e,n){const i=Jo();let l=new pt(((f,g)=>f-g)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const x=n.get(p);if(x===null)return;let w=i.get(p)||In.empty();w=g.applyToLocalView(x,w),i.set(p,w);const E=(l.get(g.batchId)||He()).add(p);l=l.insert(g.batchId,E)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),x=p.key,w=p.value,E=U_();w.forEach((C=>{if(!c.has(C)){const z=$_(n.get(C),i.get(C));z!==null&&E.set(C,z),c=c.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,x,E))}return J.waitFor(f)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,l){return(function(f){return xe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,l):this.getDocumentsMatchingCollectionQuery(e,n,i,l)}getNextDocuments(e,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,l).next((c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,l-c.size):J.resolve(ca());let g=ic,p=c;return f.next((x=>J.forEach(x,((w,E)=>(g<E.largestBatchId&&(g=E.largestBatchId),c.get(w)?J.resolve():this.remoteDocumentCache.getEntry(e,w).next((C=>{p=p.insert(w,C)}))))).next((()=>this.populateOverlays(e,x,c))).next((()=>this.computeViews(e,p,x,He()))).next((w=>({batchId:g,changes:P_(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next((i=>{let l=Ho();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,l){const c=n.collectionGroup;let f=Ho();return this.indexManager.getCollectionParents(e,c).next((g=>J.forEach(g,(p=>{const x=(function(E,C){return new Vl(C,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,x,i,l).next((w=>{w.forEach(((E,C)=>{f=f.insert(E,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,i,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,l)))).next((f=>{c.forEach(((p,x)=>{const w=x.getKey();f.get(w)===null&&(f=f.insert(w,an.newInvalidDocument(w)))}));let g=Ho();return f.forEach(((p,x)=>{const w=c.get(p);w!==void 0&&Wo(w.mutation,x,In.empty(),ft.now()),rd(n,x)&&(g=g.insert(p,x))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Gs(l.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:NC(l.bundledQuery),readTime:Gs(l.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.overlays=new pt(xe.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ca();return J.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&i.set(l,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((l,c)=>{this.St(e,n,c)})),J.resolve()}removeOverlaysForBatchId(e,n,i){const l=this.qr.get(i);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),J.resolve()}getOverlaysForCollection(e,n,i){const l=ca(),c=n.length+1,f=new xe(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,x=p.getKey();if(!n.isPrefixOf(x.path))break;x.path.length===c&&p.largestBatchId>i&&l.set(p.getKey(),p)}return J.resolve(l)}getOverlaysForCollectionGroup(e,n,i,l){let c=new pt(((x,w)=>x-w));const f=this.overlays.getIterator();for(;f.hasNext();){const x=f.getNext().value;if(x.getKey().getCollectionGroup()===n&&x.largestBatchId>i){let w=c.get(x.largestBatchId);w===null&&(w=ca(),c=c.insert(x.largestBatchId,w)),w.set(x.getKey(),x)}}const g=ca(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((x,w)=>g.set(x,w))),!(g.size()>=l)););return J.resolve(g)}St(e,n,i){const l=this.overlays.get(i.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(i.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new tC(n,i));let c=this.qr.get(n);c===void 0&&(c=He(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this.Qr=new zt(Ft.$r),this.Ur=new zt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Ft(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new xe(new ut([])),i=new Ft(n,e),l=new Ft(n,e+1),c=[];return this.Ur.forEachInRange([i,l],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new xe(new ut([])),i=new Ft(n,e),l=new Ft(n,e+1);let c=He();return this.Ur.forEachInRange([i,l],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Ft(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xe.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Ft.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new eC(c,n,i,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new Ft(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,l=this.ei(i),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ug:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ft(n,0),l=new Ft(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,l],(f=>{const g=this.Xr(f.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new zt(Be);return n.forEach((l=>{const c=new Ft(l,0),f=new Ft(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(g=>{i=i.add(g.Yr)}))})),J.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,l=i.length+1;let c=i;xe.isDocumentKey(c)||(c=c.child(""));const f=new Ft(new xe(c),0);let g=new zt(Be);return this.Zr.forEachWhile((p=>{const x=p.key.path;return!!i.isPrefixOf(x)&&(x.length===l&&(g=g.add(p.Yr)),!0)}),f),J.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((i=>{const l=this.Xr(i);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return J.forEach(n.mutations,(l=>{const c=new Ft(l.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Ft(n,0),l=this.Zr.firstAfterOrEqual(i);return J.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.ri=e,this.docs=(function(){return new pt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,l=this.docs.get(i),c=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return J.resolve(i?i.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let i=Ar();return n.forEach((l=>{const c=this.docs.get(l);i=i.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),J.resolve(i)}getDocumentsMatchingQuery(e,n,i,l){let c=Ar();const f=n.path,g=new xe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:x,value:{document:w}}=p.getNext();if(!f.isPrefixOf(x.path))break;x.path.length>f.length+1||p6(g6(w),i)<=0||(l.has(w.key)||rd(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,n,i,l){we(9500)}ii(e,n){return J.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new qC(this)}getSize(e){return J.resolve(this.size)}}class qC extends DC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(i)})),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.persistence=e,this.si=new wa((n=>Bg(n)),Hg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Yg,this.targetCount=0,this.ai=Sl.ur()}forEachTarget(e,n){return this.si.forEach(((i,l)=>n(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Sl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,i){let l=0;const c=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&i.get(g.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return J.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),J.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((f=>{c.push(l.markPotentiallyOrphaned(e,f))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return J.resolve(i)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Wh(0),this.li=!1,this.li=!0,this.hi=new PC,this.referenceDelegate=e(this),this.Pi=new BC(this),this.indexManager=new AC,this.remoteDocumentCache=(function(l){return new zC(l)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new TC(n),this.Ii=new VC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new UC(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){he("MemoryPersistence","Starting transaction:",e);const l=new HC(this.ci.next());return this.referenceDelegate.Ei(),i(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return J.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class HC extends x6{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.Ri=new Yg,this.Vi=null}static mi(e){return new Xg(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),J.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(i=>{const l=xe.fromPath(i);return this.gi(e,l).next((c=>{c||n.removeEntry(l,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.pi=new wa((i=>_6(i.path)),((i,l)=>i.isEqual(l))),this.garbageCollector=kC(this,n)}static mi(e,n){return new Ph(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((l=>i+l))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return J.forEach(this.pi,((i,l)=>this.br(e,i,l).next((c=>c?J.resolve():n(l)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((g=>{g||(i++,c.removeEntry(f,Te.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}br(e,n,i){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return J.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,i,l){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=l}static As(e,n){let i=He(),l=He();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Zg(e,n.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yA()?8:v6(ln())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,l){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,l,i).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new FC;return this.Ss(e,n,f).next((g=>{if(c.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>c.result))}bs(e,n,i,l){return i.documentReadCount<this.fs?(hl()<=qe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",dl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(hl()<=qe.DEBUG&&he("QueryEngine","Query:",dl(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.gs*l?(hl()<=qe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",dl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fs(n))):J.resolve())}ys(e,n){if(uv(n))return J.resolve(null);let i=Fs(n);return this.indexManager.getIndexType(e,i).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=cg(n,null,"F"),i=Fs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const f=He(...c);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,i).next((p=>{const x=this.Ds(n,g);return this.Cs(n,x,f,p.readTime)?this.ys(e,cg(n,null,"F")):this.vs(e,x,n,p)}))))})))))}ws(e,n,i,l){return uv(n)||l.isEqual(Te.min())?J.resolve(null):this.ps.getDocuments(e,i).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,i,l)?J.resolve(null):(hl()<=qe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),dl(n)),this.vs(e,f,n,m6(l,ic)).next((g=>g)))}))}Ds(e,n){let i=new zt(V_(e));return n.forEach(((l,c)=>{rd(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,l){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,i){return hl()<=qe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",dl(n)),this.ps.getDocumentsMatchingQuery(e,n,bi.min(),i)}vs(e,n,i,l){return this.ps.getDocumentsMatchingQuery(e,i,l).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="LocalStore",QC=3e8;class $C{constructor(e,n,i,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new pt(Be),this.xs=new wa((c=>Bg(c)),Hg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function KC(r,e,n,i){return new $C(r,e,n,i)}async function l2(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const f=[],g=[];let p=He();for(const x of l){f.push(x.batchId);for(const w of x.mutations)p=p.add(w.key)}for(const x of c){g.push(x.batchId);for(const w of x.mutations)p=p.add(w.key)}return n.localDocuments.getDocuments(i,p).next((x=>({Ls:x,removedBatchIds:f,addedBatchIds:g})))}))}))}function YC(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,x,w){const E=x.batch,C=E.keys();let z=J.resolve();return C.forEach((Q=>{z=z.next((()=>w.getEntry(p,Q))).next((ee=>{const B=x.docVersions.get(Q);We(B!==null,48541),ee.version.compareTo(B)<0&&(E.applyToRemoteDocument(ee,x),ee.isValidDocument()&&(ee.setReadTime(x.commitVersion),w.addEntry(ee)))}))})),z.next((()=>g.mutationQueue.removeMutationBatch(p,E)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(g){let p=He();for(let x=0;x<g.mutationResults.length;++x)g.mutationResults[x].transformResults.length>0&&(p=p.add(g.batch.mutations[x].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(i,l)))}))}function o2(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function XC(r,e){const n=Se(r),i=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((w,E)=>{const C=l.get(E);if(!C)return;g.push(n.Pi.removeMatchingKeys(c,w.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,w.addedDocuments,E))));let z=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?z=z.withResumeToken(en.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):w.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(w.resumeToken,i)),l=l.insert(E,z),(function(ee,B,re){return ee.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=QC?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(C,z,w)&&g.push(n.Pi.updateTargetData(c,z))}));let p=Ar(),x=He();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))})),g.push(ZC(c,f,e.documentUpdates).next((w=>{p=w.ks,x=w.qs}))),!i.isEqual(Te.min())){const w=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));g.push(w)}return J.waitFor(g).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,x))).next((()=>p))})).then((c=>(n.Ms=l,c)))}function ZC(r,e,n){let i=He(),l=He();return n.forEach((c=>i=i.add(c))),e.getEntries(r,i).next((c=>{let f=Ar();return n.forEach(((g,p)=>{const x=c.get(g);p.isFoundDocument()!==x.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!x.isValidDocument()||p.version.compareTo(x.version)>0||p.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):he(Jg,"Ignoring outdated watch update for ",g,". Current version:",x.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function JC(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ug),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function WC(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let l;return n.Pi.getTargetData(i,e).next((c=>c?(l=c,J.resolve(l)):n.Pi.allocateTargetId(i).next((f=>(l=new fi(e,f,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,l).next((()=>l)))))))})).then((i=>{const l=n.Ms.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function mg(r,e,n){const i=Se(r),l=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(f=>i.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Ml(f))throw f;he(Jg,`Failed to update sequence numbers for target ${e}: ${f}`)}i.Ms=i.Ms.remove(e),i.xs.delete(l.target)}function Ev(r,e,n){const i=Se(r);let l=Te.min(),c=He();return i.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,x,w){const E=Se(p),C=E.xs.get(w);return C!==void 0?J.resolve(E.Ms.get(C)):E.Pi.getTargetData(x,w)})(i,f,Fs(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{c=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(f,e,n?l:Te.min(),n?c:He()))).next((g=>(eR(i,z6(e),g),{documents:g,Qs:c})))))}function eR(r,e,n){let i=r.Os.get(e)||Te.min();n.forEach(((l,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),r.Os.set(e,i)}class Tv{constructor(){this.activeTargetIds=Q6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tR{constructor(){this.Mo=new Tv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Tv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="ConnectivityMonitor";class Av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Nv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Nv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function gg(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="RestConnection",sR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${l}`,this.Wo=this.databaseId.database===Oh?`project_id=${i}`:`project_id=${i}&database_id=${l}`}Go(e,n,i,l,c){const f=gg(),g=this.zo(e,n.toUriEncodedString());he(Mm,`Sending RPC '${e}' ${f}:`,g,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:x}=new URL(g),w=Il(x);return this.Jo(e,g,p,i,w).then((E=>(he(Mm,`Received RPC '${e}' ${f}: `,E),E)),(E=>{throw El(Mm,`RPC '${e}' ${f} failed with error: `,E,"url: ",g,"request:",i),E}))}Ho(e,n,i,l,c,f){return this.Go(e,n,i,l,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),i&&i.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const i=sR[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class aR extends rR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,l,c){const f=gg();return new Promise(((g,p)=>{const x=new c_;x.setWithCredentials(!0),x.listenOnce(u_.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case ch.NO_ERROR:const E=x.getResponseJson();he(sn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(E)),g(E);break;case ch.TIMEOUT:he(sn,`RPC '${e}' ${f} timed out`),p(new le(X.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const C=x.getStatus();if(he(sn,`RPC '${e}' ${f} failed with status:`,C,"response text:",x.getResponseText()),C>0){let z=x.getResponseJson();Array.isArray(z)&&(z=z[0]);const Q=z==null?void 0:z.error;if(Q&&Q.status&&Q.message){const ee=(function(re){const ie=re.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ie)>=0?ie:X.UNKNOWN})(Q.status);p(new le(ee,Q.message))}else p(new le(X.UNKNOWN,"Server responded with status "+x.getStatus()))}else p(new le(X.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{he(sn,`RPC '${e}' ${f} completed.`)}}));const w=JSON.stringify(l);he(sn,`RPC '${e}' ${f} sending request:`,l),x.send(n,"POST",w,i,15)}))}T_(e,n,i){const l=gg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=f_(),g=d_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(p.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const w=c.join("");he(sn,`Creating RPC '${e}' stream ${l}: ${w}`,p);const E=f.createWebChannel(w,p);this.I_(E);let C=!1,z=!1;const Q=new iR({Yo:B=>{z?he(sn,`Not sending because RPC '${e}' stream ${l} is closed:`,B):(C||(he(sn,`Opening RPC '${e}' stream ${l} transport.`),E.open(),C=!0),he(sn,`RPC '${e}' stream ${l} sending:`,B),E.send(B))},Zo:()=>E.close()}),ee=(B,re,ie)=>{B.listen(re,(de=>{try{ie(de)}catch(Ce){setTimeout((()=>{throw Ce}),0)}}))};return ee(E,Bo.EventType.OPEN,(()=>{z||(he(sn,`RPC '${e}' stream ${l} transport opened.`),Q.o_())})),ee(E,Bo.EventType.CLOSE,(()=>{z||(z=!0,he(sn,`RPC '${e}' stream ${l} transport closed`),Q.a_(),this.E_(E))})),ee(E,Bo.EventType.ERROR,(B=>{z||(z=!0,El(sn,`RPC '${e}' stream ${l} transport errored. Name:`,B.name,"Message:",B.message),Q.a_(new le(X.UNAVAILABLE,"The operation could not be completed")))})),ee(E,Bo.EventType.MESSAGE,(B=>{var re;if(!z){const ie=B.data[0];We(!!ie,16349);const de=ie,Ce=(de==null?void 0:de.error)||((re=de[0])==null?void 0:re.error);if(Ce){he(sn,`RPC '${e}' stream ${l} received error:`,Ce);const Ne=Ce.status;let W=(function(A){const O=Vt[A];if(O!==void 0)return Y_(O)})(Ne),S=Ce.message;W===void 0&&(W=X.INTERNAL,S="Unknown error status: "+Ne+" with message "+Ce.message),z=!0,Q.a_(new le(W,S)),E.close()}else he(sn,`RPC '${e}' stream ${l} received:`,ie),Q.u_(ie)}})),ee(g,h_.STAT_EVENT,(B=>{B.stat===ng.PROXY?he(sn,`RPC '${e}' stream ${l} detected buffering proxy`):B.stat===ng.NOPROXY&&he(sn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(r){return new uC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,i=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-i);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="PersistentStream";class u2{constructor(e,n,i,l,c,f,g,p){this.Mi=e,this.S_=i,this.b_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new c2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,l])=>{this.D_===n&&this.G_(i,l)}),(i=>{e((()=>{const l=new le(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(l)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{i((()=>this.z_(l)))})),this.stream.onMessage((l=>{i((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(Sv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(Sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lR extends u2{constructor(e,n,i,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fC(this.serializer,e),i=(function(c){if(!("targetChange"in c))return Te.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Gs(f.readTime):Te.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=fg(this.serializer),n.addTarget=(function(c,f){let g;const p=f.target;if(g=lg(p)?{documents:pC(c,p)}:{query:yC(c,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=J_(c,f.resumeToken);const x=ug(c,f.expectedCount);x!==null&&(g.expectedCount=x)}else if(f.snapshotVersion.compareTo(Te.min())>0){g.readTime=Lh(c,f.snapshotVersion.toTimestamp());const x=ug(c,f.expectedCount);x!==null&&(g.expectedCount=x)}return g})(this.serializer,e);const i=vC(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=fg(this.serializer),n.removeTarget=e,this.q_(n)}}class oR extends u2{constructor(e,n,i,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gC(e.writeResults,e.commitTime),i=Gs(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=fg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>mC(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{}class uR extends cR{constructor(e,n,i,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,hg(n,i),l,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(X.UNKNOWN,c.toString())}))}Ho(e,n,i,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,hg(n,i),l,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(X.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class dR{constructor(e,n,i,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{i.enqueueAndForget((async()=>{Ea(this)&&(he(pa,"Restarting streams for network reachability change."),await(async function(p){const x=Se(p);x.Ea.add(4),await Ec(x),x.Ra.set("Unknown"),x.Ea.delete(4),await cd(x)})(this))}))})),this.Ra=new hR(i,l)}}async function cd(r){if(Ea(r))for(const e of r.da)await e(!0)}async function Ec(r){for(const e of r.da)await e(!1)}function h2(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),np(n)?tp(n):Ll(n).O_()&&ep(n,e))}function Wg(r,e){const n=Se(r),i=Ll(n);n.Ia.delete(e),i.O_()&&d2(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ea(n)&&n.Ra.set("Unknown"))}function ep(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ll(r).Y_(e)}function d2(r,e){r.Va.Ue(e),Ll(r).Z_(e)}function tp(r){r.Va=new aC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ll(r).start(),r.Ra.ua()}function np(r){return Ea(r)&&!Ll(r).x_()&&r.Ia.size>0}function Ea(r){return Se(r).Ea.size===0}function f2(r){r.Va=void 0}async function fR(r){r.Ra.set("Online")}async function mR(r){r.Ia.forEach(((e,n)=>{ep(r,e)}))}async function gR(r,e){f2(r),np(r)?(r.Ra.ha(e),tp(r)):r.Ra.set("Unknown")}async function pR(r,e,n){if(r.Ra.set("Online"),e instanceof Z_&&e.state===2&&e.cause)try{await(async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(i){he(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Uh(r,i)}else if(e instanceof fh?r.Va.Ze(e):e instanceof X_?r.Va.st(e):r.Va.tt(e),!n.isEqual(Te.min()))try{const i=await o2(r.localStore);n.compareTo(i)>=0&&await(function(c,f){const g=c.Va.Tt(f);return g.targetChanges.forEach(((p,x)=>{if(p.resumeToken.approximateByteSize()>0){const w=c.Ia.get(x);w&&c.Ia.set(x,w.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,x)=>{const w=c.Ia.get(p);if(!w)return;c.Ia.set(p,w.withResumeToken(en.EMPTY_BYTE_STRING,w.snapshotVersion)),d2(c,p);const E=new fi(w.target,p,x,w.sequenceNumber);ep(c,E)})),c.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(i){he(pa,"Failed to raise snapshot:",i),await Uh(r,i)}}async function Uh(r,e,n){if(!Ml(e))throw e;r.Ea.add(1),await Ec(r),r.Ra.set("Offline"),n||(n=()=>o2(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(pa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await cd(r)}))}function m2(r,e){return e().catch((n=>Uh(r,n,e)))}async function ud(r){const e=Se(r),n=Ti(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ug;for(;yR(e);)try{const l=await JC(e.localStore,i);if(l===null){e.Ta.length===0&&n.L_();break}i=l.batchId,xR(e,l)}catch(l){await Uh(e,l)}g2(e)&&p2(e)}function yR(r){return Ea(r)&&r.Ta.length<10}function xR(r,e){r.Ta.push(e);const n=Ti(r);n.O_()&&n.X_&&n.ea(e.mutations)}function g2(r){return Ea(r)&&!Ti(r).x_()&&r.Ta.length>0}function p2(r){Ti(r).start()}async function vR(r){Ti(r).ra()}async function bR(r){const e=Ti(r);for(const n of r.Ta)e.ea(n.mutations)}async function _R(r,e,n){const i=r.Ta.shift(),l=Qg.from(i,e,n);await m2(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await ud(r)}async function wR(r,e){e&&Ti(r).X_&&await(async function(i,l){if((function(f){return sC(f)&&f!==X.ABORTED})(l.code)){const c=i.Ta.shift();Ti(i).B_(),await m2(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,l))),await ud(i)}})(r,e),g2(r)&&p2(r)}async function Cv(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),he(pa,"RemoteStore received new credentials");const i=Ea(n);n.Ea.add(3),await Ec(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cd(n)}async function ER(r,e){const n=Se(r);e?(n.Ea.delete(2),await cd(n)):e||(n.Ea.add(2),await Ec(n),n.Ra.set("Unknown"))}function Ll(r){return r.ma||(r.ma=(function(n,i,l){const c=Se(n);return c.sa(),new lR(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:fR.bind(null,r),t_:mR.bind(null,r),r_:gR.bind(null,r),H_:pR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),np(r)?tp(r):r.Ra.set("Unknown")):(await r.ma.stop(),f2(r))}))),r.ma}function Ti(r){return r.fa||(r.fa=(function(n,i,l){const c=Se(n);return c.sa(),new oR(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:vR.bind(null,r),r_:wR.bind(null,r),ta:bR.bind(null,r),na:_R.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ud(r)):(await r.fa.stop(),r.Ta.length>0&&(he(pa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,i,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=c,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,l,c){const f=Date.now()+i,g=new sp(e,n,f,l,c);return g.start(i),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rp(r,e){if(Nr("AsyncQueue",`${e}: ${r}`),Ml(r))return new le(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||xe.comparator(n.key,i.key):(n,i)=>xe.comparator(n.key,i.key),this.keyedMap=Ho(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=i.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new vl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.ga=new pt(xe.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Cl{constructor(e,n,i,l,c,f,g,p,x){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=x}static fromInitialDocuments(e,n,i,l,c){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new Cl(e,n,vl.emptySet(n),f,i,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NR{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const l=Se(n),c=l.queries;l.queries=Iv(),c.forEach(((f,g)=>{for(const p of g.Sa)p.onError(i)}))})(this,new le(X.ABORTED,"Firestore shutting down"))}}function Iv(){return new wa((r=>M_(r)),sd)}async function ip(r,e){const n=Se(r);let i=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(i=2):(c=new TR,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=rp(f,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&lp(n)}async function ap(r,e){const n=Se(r),i=e.query;let l=3;const c=n.queries.get(i);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function AR(r,e){const n=Se(r);let i=!1;for(const l of e){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Fa(l)&&(i=!0);f.wa=l}}i&&lp(n)}function SR(r,e,n){const i=Se(r),l=i.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);i.queries.delete(e)}function lp(r){r.Ca.forEach((e=>{e.next()}))}var pg,jv;(jv=pg||(pg={})).Ma="default",jv.Cache="cache";class op{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new Cl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.key=e}}class x2{constructor(e){this.key=e}}class CR{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=V_(e),this.tu=new vl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Rv,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,x=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((w,E)=>{const C=l.get(w),z=rd(this.query,E)?E:null,Q=!!C&&this.mutatedKeys.has(C.key),ee=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let B=!1;C&&z?C.data.isEqual(z.data)?Q!==ee&&(i.track({type:3,doc:z}),B=!0):this.su(C,z)||(i.track({type:2,doc:z}),B=!0,(p&&this.eu(z,p)>0||x&&this.eu(z,x)<0)&&(g=!0)):!C&&z?(i.track({type:0,doc:z}),B=!0):C&&!z&&(i.track({type:1,doc:C}),B=!0,(p||x)&&(g=!0)),B&&(z?(f=f.add(z),c=ee?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),i.track({type:1,doc:w})}return{tu:f,iu:i,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((w,E)=>(function(z,Q){const ee=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:B})}};return ee(z)-ee(Q)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(i),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,x=p!==this.Za;return this.Za=p,f.length!==0||x?{snapshot:new Cl(this.query,e.tu,c,f,e.mutatedKeys,p===0,x,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new x2(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new y2(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cp="SyncEngine";class RR{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class IR{constructor(e){this.key=e,this.hu=!1}}class jR{constructor(e,n,i,l,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new wa((g=>M_(g)),sd),this.Iu=new Map,this.Eu=new Set,this.du=new pt(xe.comparator),this.Au=new Map,this.Ru=new Yg,this.Vu={},this.mu=new Map,this.fu=Sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kR(r,e,n=!0){const i=T2(r);let l;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await v2(i,e,n,!0),l}async function DR(r,e){const n=T2(r);await v2(n,e,!0,!1)}async function v2(r,e,n,i){const l=await WC(r.localStore,Fs(e)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return i&&(g=await OR(r,e,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&h2(r.remoteStore,l),g}async function OR(r,e,n,i,l){r.pu=(E,C,z)=>(async function(ee,B,re,ie){let de=B.view.ru(re);de.Cs&&(de=await Ev(ee.localStore,B.query,!1).then((({documents:S})=>B.view.ru(S,de))));const Ce=ie&&ie.targetChanges.get(B.targetId),Ne=ie&&ie.targetMismatches.get(B.targetId)!=null,W=B.view.applyChanges(de,ee.isPrimaryClient,Ce,Ne);return Dv(ee,B.targetId,W.au),W.snapshot})(r,E,C,z);const c=await Ev(r.localStore,e,!0),f=new CR(e,c.Qs),g=f.ru(c.documents),p=wc.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",l),x=f.applyChanges(g,r.isPrimaryClient,p);Dv(r,n,x.au);const w=new RR(e,n,f);return r.Tu.set(e,w),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),x.snapshot}async function MR(r,e,n){const i=Se(r),l=i.Tu.get(e),c=i.Iu.get(l.targetId);if(c.length>1)return i.Iu.set(l.targetId,c.filter((f=>!sd(f,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await mg(i.localStore,l.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(l.targetId),n&&Wg(i.remoteStore,l.targetId),yg(i,l.targetId)})).catch(Ol)):(yg(i,l.targetId),await mg(i.localStore,l.targetId,!0))}async function VR(r,e){const n=Se(r),i=n.Tu.get(e),l=n.Iu.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Wg(n.remoteStore,i.targetId))}async function LR(r,e,n){const i=FR(r);try{const l=await(function(f,g){const p=Se(f),x=ft.now(),w=g.reduce(((z,Q)=>z.add(Q.key)),He());let E,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let Q=Ar(),ee=He();return p.Ns.getEntries(z,w).next((B=>{Q=B,Q.forEach(((re,ie)=>{ie.isValidDocument()||(ee=ee.add(re))}))})).next((()=>p.localDocuments.getOverlayedDocuments(z,Q))).next((B=>{E=B;const re=[];for(const ie of g){const de=J6(ie,E.get(ie.key).overlayedDocument);de!=null&&re.push(new Ci(ie.key,de,S_(de.value.mapValue),Zn.exists(!0)))}return p.mutationQueue.addMutationBatch(z,x,re,g)})).next((B=>{C=B;const re=B.applyToLocalDocumentSet(E,ee);return p.documentOverlayCache.saveOverlays(z,B.batchId,re)}))})).then((()=>({batchId:C.batchId,changes:P_(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let x=f.Vu[f.currentUser.toKey()];x||(x=new pt(Be)),x=x.insert(g,p),f.Vu[f.currentUser.toKey()]=x})(i,l.batchId,n),await Tc(i,l.changes),await ud(i.remoteStore)}catch(l){const c=rp(l,"Failed to persist write");n.reject(c)}}async function b2(r,e){const n=Se(r);try{const i=await XC(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const f=n.Au.get(c);f&&(We(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?We(f.hu,14607):l.removedDocuments.size>0&&(We(f.hu,42227),f.hu=!1))})),await Tc(n,i,e)}catch(i){await Ol(i)}}function kv(r,e,n){const i=Se(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.Tu.forEach(((c,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=Se(f);p.onlineState=g;let x=!1;p.queries.forEach(((w,E)=>{for(const C of E.Sa)C.va(g)&&(x=!0)})),x&&lp(p)})(i.eventManager,e),l.length&&i.Pu.H_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function PR(r,e,n){const i=Se(r);i.sharedClientState.updateQueryState(e,"rejected",n);const l=i.Au.get(e),c=l&&l.key;if(c){let f=new pt(xe.comparator);f=f.insert(c,an.newNoDocument(c,Te.min()));const g=He().add(c),p=new ld(Te.min(),new Map,new pt(Be),f,g);await b2(i,p),i.du=i.du.remove(c),i.Au.delete(e),up(i)}else await mg(i.localStore,e,!1).then((()=>yg(i,e,n))).catch(Ol)}async function UR(r,e){const n=Se(r),i=e.batch.batchId;try{const l=await YC(n.localStore,e);w2(n,i,null),_2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Tc(n,l)}catch(l){await Ol(l)}}async function zR(r,e,n){const i=Se(r);try{const l=await(function(f,g){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let w;return p.mutationQueue.lookupMutationBatch(x,g).next((E=>(We(E!==null,37113),w=E.keys(),p.mutationQueue.removeMutationBatch(x,E)))).next((()=>p.mutationQueue.performConsistencyCheck(x))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(x,w,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,w))).next((()=>p.localDocuments.getDocuments(x,w)))}))})(i.localStore,e);w2(i,e,n),_2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Tc(i,l)}catch(l){await Ol(l)}}function _2(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function w2(r,e,n){const i=Se(r);let l=i.Vu[i.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),i.Vu[i.currentUser.toKey()]=l}}function yg(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||E2(r,i)}))}function E2(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Wg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),up(r))}function Dv(r,e,n){for(const i of n)i instanceof y2?(r.Ru.addReference(i.key,e),qR(r,i)):i instanceof x2?(he(cp,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||E2(r,i.key)):we(19791,{wu:i})}function qR(r,e){const n=e.key,i=n.path.canonicalString();r.du.get(n)||r.Eu.has(i)||(he(cp,"New document in limbo: "+n),r.Eu.add(i),up(r))}function up(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new xe(ut.fromString(e)),i=r.fu.next();r.Au.set(i,new IR(n)),r.du=r.du.insert(n,i),h2(r.remoteStore,new fi(Fs(nd(n.path)),i,"TargetPurposeLimboResolution",Wh.ce))}}async function Tc(r,e,n){const i=Se(r),l=[],c=[],f=[];i.Tu.isEmpty()||(i.Tu.forEach(((g,p)=>{f.push(i.pu(p,e,n).then((x=>{var w;if((x||n)&&i.isPrimaryClient){const E=x?!x.fromCache:(w=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(x){l.push(x);const E=Zg.As(p.targetId,x);c.push(E)}})))})),await Promise.all(f),i.Pu.H_(l),await(async function(p,x){const w=Se(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>J.forEach(x,(C=>J.forEach(C.Es,(z=>w.persistence.referenceDelegate.addReference(E,C.targetId,z))).next((()=>J.forEach(C.ds,(z=>w.persistence.referenceDelegate.removeReference(E,C.targetId,z)))))))))}catch(E){if(!Ml(E))throw E;he(Jg,"Failed to update sequence numbers: "+E)}for(const E of x){const C=E.targetId;if(!E.fromCache){const z=w.Ms.get(C),Q=z.snapshotVersion,ee=z.withLastLimboFreeSnapshotVersion(Q);w.Ms=w.Ms.insert(C,ee)}}})(i.localStore,c))}async function BR(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){he(cp,"User change. New user:",e.toKey());const i=await l2(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new le(X.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Tc(n,i.Ls)}}function HR(r,e){const n=Se(r),i=n.Au.get(e);if(i&&i.hu)return He().add(i.key);{let l=He();const c=n.Iu.get(e);if(!c)return l;for(const f of c){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function T2(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=b2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PR.bind(null,e),e.Pu.H_=AR.bind(null,e.eventManager),e.Pu.yu=SR.bind(null,e.eventManager),e}function FR(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zR.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=od(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KC(this.persistence,new GC,e.initialUser,this.serializer)}Cu(e){return new a2(Xg.mi,this.serializer)}Du(e){return new tR}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class GR extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof Ph,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new IC(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new a2((i=>Ph.mi(i,n)),this.serializer)}}class xg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=BR.bind(null,this.syncEngine),await ER(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NR})()}createDatastore(e){const n=od(e.databaseInfo.databaseId),i=(function(c){return new aR(c)})(e.databaseInfo);return(function(c,f,g,p){return new uR(c,f,g,p)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,l,c,f,g){return new dR(i,l,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>kv(this.syncEngine,n,0)),(function(){return Av.v()?new Av:new nR})())}createSyncEngine(e,n){return(function(l,c,f,g,p,x,w){const E=new jR(l,c,f,g,p,x);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const c=Se(l);he(pa,"RemoteStore shutting down."),c.Ea.add(5),await Ec(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}xg.provider={build:()=>new xg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="FirestoreClient";class QR{constructor(e,n,i,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Pg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async f=>{he(Ni,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(i,(f=>(he(Ni,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=rp(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Lm(r,e){r.asyncQueue.verifyOperationInProgress(),he(Ni,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async l=>{i.isEqual(l)||(await l2(e.localStore,l),i=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Ov(r,e){r.asyncQueue.verifyOperationInProgress();const n=await $R(r);he(Ni,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>Cv(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,l)=>Cv(e.remoteStore,l))),r._onlineComponents=e}async function $R(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Ni,"Using user provided OfflineComponentProvider");try{await Lm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;El("Error using user provided cache. Falling back to memory cache: "+n),await Lm(r,new zh)}}else he(Ni,"Using default OfflineComponentProvider"),await Lm(r,new GR(void 0));return r._offlineComponents}async function N2(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Ni,"Using user provided OnlineComponentProvider"),await Ov(r,r._uninitializedComponentsProvider._online)):(he(Ni,"Using default OnlineComponentProvider"),await Ov(r,new xg))),r._onlineComponents}function KR(r){return N2(r).then((e=>e.syncEngine))}async function qh(r){const e=await N2(r),n=e.eventManager;return n.onListen=kR.bind(null,e.syncEngine),n.onUnlisten=MR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VR.bind(null,e.syncEngine),n}function YR(r,e,n={}){const i=new wr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,p,x){const w=new hp({next:C=>{w.Nu(),f.enqueueAndForget((()=>ap(c,E)));const z=C.docs.has(g);!z&&C.fromCache?x.reject(new le(X.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&C.fromCache&&p&&p.source==="server"?x.reject(new le(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(C)},error:C=>x.reject(C)}),E=new op(nd(g.path),w,{includeMetadataChanges:!0,qa:!0});return ip(c,E)})(await qh(r),r.asyncQueue,e,n,i))),i.promise}function XR(r,e,n={}){const i=new wr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,p,x){const w=new hp({next:C=>{w.Nu(),f.enqueueAndForget((()=>ap(c,E))),C.fromCache&&p.source==="server"?x.reject(new le(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(C)},error:C=>x.reject(C)}),E=new op(g,w,{includeMetadataChanges:!0,qa:!0});return ip(c,E)})(await qh(r),r.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="firestore.googleapis.com",Vv=!0;class Lv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S2,this.ssl=Vv}else this.host=e.host,this.ssl=e.ssl??Vv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CC)throw new le(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A2(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,l){return i.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hd{constructor(e,n,i,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new s6;switch(i.type){case"firstParty":return new l6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Mv.get(n);i&&(he("ComponentProvider","Removing Datastore"),Mv.delete(n),i.terminate())})(this),Promise.resolve()}}function ZR(r,e,n,i={}){var x;r=bn(r,hd);const l=Il(e),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;l&&(yb(`https://${g}`),xb("Firestore",!0)),c.host!==S2&&c.host!==g&&El("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:i};if(!vi(p,f)&&(r._setSettings(p),i.mockUserToken)){let w,E;if(typeof i.mockUserToken=="string")w=i.mockUserToken,E=rn.MOCK_USER;else{w=cA(i.mockUserToken,(x=r._app)==null?void 0:x.options.projectId);const C=i.mockUserToken.sub||i.mockUserToken.user_id;if(!C)throw new le(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(C)}r._authCredentials=new r6(new g_(w,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ri(this.firestore,e,this._query)}}class bt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(bc(n,bt._jsonSchema))return new bt(e,i||null,new xe(ut.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Pt("string",bt._jsonSchemaVersion),referencePath:Pt("string")};class yi extends Ri{constructor(e,n,i){super(e,n,nd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new xe(e))}withConverter(e){return new yi(this.firestore,e,this._path)}}function Rl(r,e,...n){if(r=_t(r),p_("collection","path",e),r instanceof hd){const i=ut.fromString(e,...n);return Xx(i),new yi(r,null,i)}{if(!(r instanceof bt||r instanceof yi))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ut.fromString(e,...n));return Xx(i),new yi(r.firestore,null,i)}}function ya(r,e,...n){if(r=_t(r),arguments.length===1&&(e=Pg.newId()),p_("doc","path",e),r instanceof hd){const i=ut.fromString(e,...n);return Yx(i),new bt(r,null,new xe(i))}{if(!(r instanceof bt||r instanceof yi))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ut.fromString(e,...n));return Yx(i),new bt(r.firestore,r instanceof yi?r.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="AsyncQueue";class Uv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new c2(this,"async_queue_retry"),this._c=()=>{const i=Vm();i&&he(Pv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ml(e))throw e;he(Pv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Nr("INTERNAL UNHANDLED ERROR: ",zv(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=sp.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&we(47125,{Pc:zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(r){return(function(n,i){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of i)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Sr extends hd{constructor(e,n,i,l){super(e,n,i,l),this.type="firestore",this._queue=new Uv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uv(e),this._firestoreClient=void 0,await e}}}function JR(r,e){const n=typeof r=="object"?r:Cg(),i=typeof r=="string"?r:Oh,l=_a(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const c=lA("firestore");c&&ZR(l,...c)}return l}function dd(r){if(r._terminated)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||WR(r),r._firestoreClient}function WR(r){var i,l,c;const e=r._freezeSettings(),n=(function(g,p,x,w){return new T6(g,p,x,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,A2(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(r._databaseId,((i=r._app)==null?void 0:i.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new QR(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(en.fromBase64String(e))}catch(n){throw new le(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bc(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Pt("string",Yn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qs._jsonSchemaVersion}}static fromJSON(e){if(bc(e,Qs._jsonSchema))return new Qs(e.latitude,e.longitude)}}Qs._jsonSchemaVersion="firestore/geoPoint/1.0",Qs._jsonSchema={type:Pt("string",Qs._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,l){if(i.length!==l.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bc(e,$s._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $s(e.vectorValues);throw new le(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:Pt("string",$s._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=/^__.*__$/;class tI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new _c(e,this.data,n,this.fieldTransforms)}}class C2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function R2(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:r})}}class dp{constructor(e,n,i,l,c,f){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(R2(this.Ac)&&eI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nI{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||od(e)}Cc(e,n,i,l=!1){return new dp({Ac:e,methodName:n,Dc:i,path:Wt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function md(r){const e=r._freezeSettings(),n=od(r._databaseId);return new nI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function I2(r,e,n,i,l,c={}){const f=r.Cc(c.merge||c.mergeFields?2:0,e,n,l);gp("Data must be an object, but it was:",f,i);const g=j2(i,f);let p,x;if(c.merge)p=new In(f.fieldMask),x=f.fieldTransforms;else if(c.mergeFields){const w=[];for(const E of c.mergeFields){const C=vg(e,E,n);if(!f.contains(C))throw new le(X.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);D2(w,C)||w.push(C)}p=new In(w),x=f.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,x=f.fieldTransforms;return new tI(new vn(g),p,x)}class gd extends Nc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gd}}class fp extends Nc{_toFieldTransform(e){return new Q_(e.path,new uc)}isEqual(e){return e instanceof fp}}class mp extends Nc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new fc(e.serializer,q_(e.serializer,this.Fc));return new Q_(e.path,n)}isEqual(e){return e instanceof mp&&this.Fc===e.Fc}}function sI(r,e,n,i){const l=r.Cc(1,e,n);gp("Data must be an object, but it was:",l,i);const c=[],f=vn.empty();Si(i,((p,x)=>{const w=pp(e,p,n);x=_t(x);const E=l.yc(w);if(x instanceof gd)c.push(w);else{const C=Ac(x,E);C!=null&&(c.push(w),f.set(w,C))}}));const g=new In(c);return new C2(f,g,l.fieldTransforms)}function rI(r,e,n,i,l,c){const f=r.Cc(1,e,n),g=[vg(e,i,n)],p=[l];if(c.length%2!=0)throw new le(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)g.push(vg(e,c[C])),p.push(c[C+1]);const x=[],w=vn.empty();for(let C=g.length-1;C>=0;--C)if(!D2(x,g[C])){const z=g[C];let Q=p[C];Q=_t(Q);const ee=f.yc(z);if(Q instanceof gd)x.push(z);else{const B=Ac(Q,ee);B!=null&&(x.push(z),w.set(z,B))}}const E=new In(x);return new C2(w,E,f.fieldTransforms)}function iI(r,e,n,i=!1){return Ac(n,r.Cc(i?4:3,e))}function Ac(r,e){if(k2(r=_t(r)))return gp("Unsupported field value:",e,r),j2(r,e);if(r instanceof Nc)return(function(i,l){if(!R2(l.Ac))throw l.Sc(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,l){const c=[];let f=0;for(const g of i){let p=Ac(g,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(r,e)}return(function(i,l){if((i=_t(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return q_(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=ft.fromDate(i);return{timestampValue:Lh(l.serializer,c)}}if(i instanceof ft){const c=new ft(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lh(l.serializer,c)}}if(i instanceof Qs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yn)return{bytesValue:J_(l.serializer,i._byteString)};if(i instanceof bt){const c=l.databaseId,f=i.firestore._databaseId;if(!f.isEqual(c))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Kg(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof $s)return(function(f,g){return{mapValue:{fields:{[N_]:{stringValue:A_},[Mh]:{arrayValue:{values:f.toArray().map((x=>{if(typeof x!="number")throw g.Sc("VectorValues must only contain numeric values.");return Fg(g.serializer,x)}))}}}}}})(i,l);throw l.Sc(`Unsupported field value: ${Jh(i)}`)})(r,e)}function j2(r,e){const n={};return v_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(r,((i,l)=>{const c=Ac(l,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function k2(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ft||r instanceof Qs||r instanceof Yn||r instanceof bt||r instanceof Nc||r instanceof $s)}function gp(r,e,n){if(!k2(n)||!y_(n)){const i=Jh(n);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function vg(r,e,n){if((e=_t(e))instanceof fd)return e._internalPath;if(typeof e=="string")return pp(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const aI=new RegExp("[~\\*/\\[\\]]");function pp(r,e,n){if(e.search(aI)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new fd(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Bh(r,e,n,i,l){const c=i&&!i.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${i}`),f&&(p+=` in document ${l}`),p+=")"),new le(X.INVALID_ARGUMENT,g+r+p)}function D2(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,i,l,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lI extends O2{data(){return super.data()}}function pd(r,e){return typeof e=="string"?pp(r,e):e instanceof fd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yp{}class V2 extends yp{}function yd(r,e,...n){let i=[];e instanceof yp&&i.push(e),i=i.concat(n),(function(c){const f=c.filter((p=>p instanceof vp)).length,g=c.filter((p=>p instanceof xd)).length;if(f>1||f>0&&g>0)throw new le(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const l of i)r=l._apply(r);return r}class xd extends V2{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new xd(e,n,i)}_apply(e){const n=this._parse(e);return L2(e._query,n),new Ri(e.firestore,e.converter,og(e._query,n))}_parse(e){const n=md(e.firestore);return(function(c,f,g,p,x,w,E){let C;if(x.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new le(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Hv(E,w);const Q=[];for(const ee of E)Q.push(Bv(p,c,ee));C={arrayValue:{values:Q}}}else C=Bv(p,c,E)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Hv(E,w),C=iI(g,f,E,w==="in"||w==="not-in");return Lt.create(x,w,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xp(r,e,n){const i=e,l=pd("where",r);return xd._create(l,i,n)}class vp extends yp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vp(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:ms.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)L2(f,p),f=og(f,p)})(e._query,n),new Ri(e.firestore,e.converter,og(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bp extends V2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bp(e,n)}_apply(e){const n=(function(l,c,f){if(l.startAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cc(c,f)})(e._query,this._field,this._direction);return new Ri(e.firestore,e.converter,(function(l,c){const f=l.explicitOrderBy.concat([c]);return new Vl(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function oI(r,e="asc"){const n=e,i=pd("orderBy",r);return bp._create(i,n)}function Bv(r,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new le(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O_(e)&&n.indexOf("/")!==-1)throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ut.fromString(n));if(!xe.isDocumentKey(i))throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return rv(r,new xe(i))}if(n instanceof bt)return rv(r,n._key);throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function Hv(r,e){if(!Array.isArray(r)||r.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L2(r,e){const n=(function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cI{convertValue(e,n="none"){switch(Ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Si(e,((l,c)=>{i[l]=this.convertValue(c,n)})),i}convertVectorValue(e){var i,l,c;const n=(c=(l=(i=e.fields)==null?void 0:i[Mh].arrayValue)==null?void 0:l.values)==null?void 0:c.map((f=>St(f.doubleValue)));return new $s(n)}convertGeoPoint(e){return new Qs(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=td(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=_i(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ut.fromString(e);We(r2(i),9688,{name:e});const l=new lc(i.get(1),i.get(3)),c=new xe(i.popFirst(5));return l.isEqual(n)||Nr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(r,e,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,i}class Go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends O2{constructor(e,n,i,l,c,f){super(e,n,i,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(pd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Pt("string",ha._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class mh extends ha{data(e={}){return super.data(e)}}class da{constructor(e,n,i,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Go(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new mh(this._firestore,this._userDataWriter,i.key,i,new Go(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new mh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Go(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new mh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Go(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let x=-1,w=-1;return g.type!==0&&(x=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),w=f.indexOf(g.doc.key)),{type:uI(g.type),doc:p,oldIndex:x,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=da._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(r){r=bn(r,bt);const e=bn(r.firestore,Sr);return YR(dd(e),r._key).then((n=>B2(e,r,n)))}da._jsonSchemaVersion="firestore/querySnapshot/1.0",da._jsonSchema={type:Pt("string",da._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class _p extends cI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function wp(r){r=bn(r,Ri);const e=bn(r.firestore,Sr),n=dd(e),i=new _p(e);return M2(r._query),XR(n,r._query).then((l=>new da(e,i,r,l)))}function U2(r,e,n){r=bn(r,bt);const i=bn(r.firestore,Sr),l=P2(r.converter,e,n);return vd(i,[I2(md(i),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Zn.none())])}function z2(r,e,n,...i){r=bn(r,bt);const l=bn(r.firestore,Sr),c=md(l);let f;return f=typeof(e=_t(e))=="string"||e instanceof fd?rI(c,"updateDoc",r._key,e,n,i):sI(c,"updateDoc",r._key,e),vd(l,[f.toMutation(r._key,Zn.exists(!0))])}function dI(r){return vd(bn(r.firestore,Sr),[new Gg(r._key,Zn.none())])}function q2(r,e){const n=bn(r.firestore,Sr),i=ya(r),l=P2(r.converter,e);return vd(n,[I2(md(r.firestore),"addDoc",i._key,l,r.converter!==null,{}).toMutation(i._key,Zn.exists(!1))]).then((()=>i))}function fI(r,...e){var p,x,w;r=_t(r);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||qv(e[i])||(n=e[i++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(qv(e[i])){const E=e[i];e[i]=(p=E.next)==null?void 0:p.bind(E),e[i+1]=(x=E.error)==null?void 0:x.bind(E),e[i+2]=(w=E.complete)==null?void 0:w.bind(E)}let c,f,g;if(r instanceof bt)f=bn(r.firestore,Sr),g=nd(r._key.path),c={next:E=>{e[i]&&e[i](B2(f,r,E))},error:e[i+1],complete:e[i+2]};else{const E=bn(r,Ri);f=bn(E.firestore,Sr),g=E._query;const C=new _p(f);c={next:z=>{e[i]&&e[i](new da(f,C,E,z))},error:e[i+1],complete:e[i+2]},M2(r._query)}return(function(C,z,Q,ee){const B=new hp(ee),re=new op(z,B,Q);return C.asyncQueue.enqueueAndForget((async()=>ip(await qh(C),re))),()=>{B.Nu(),C.asyncQueue.enqueueAndForget((async()=>ap(await qh(C),re)))}})(dd(f),g,l,c)}function vd(r,e){return(function(i,l){const c=new wr;return i.asyncQueue.enqueueAndForget((async()=>LR(await KR(i),l,c))),c.promise})(dd(r),e)}function B2(r,e,n){const i=n.docs.get(e._key),l=new _p(r);return new ha(r,l,e._key,i,new Go(n.hasPendingWrites,n.fromCache),e.converter)}function bg(){return new fp("serverTimestamp")}function Fv(r){return new mp("increment",r)}(function(e,n=!0){(function(l){Dl=l})(jl),Ks(new ds("firestore",((i,{instanceIdentifier:l,options:c})=>{const f=i.getProvider("app").getImmediate(),g=new Sr(new i6(i.getProvider("auth-internal")),new o6(f,i.getProvider("app-check-internal")),(function(x,w){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new le(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(x.options.projectId,w)})(f,l),f);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Xn(Gx,Qx,e),Xn(Gx,Qx,"esm2020")})();const H2="@firebase/installations",Ep="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=1e4,G2=`w:${Ep}`,Q2="FIS_v2",mI="https://firebaseinstallations.googleapis.com/v1",gI=3600*1e3,pI="installations",yI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xa=new ba(pI,yI,xI);function $2(r){return r instanceof gs&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2({projectId:r}){return`${mI}/projects/${r}/installations`}function Y2(r){return{token:r.token,requestStatus:2,expiresIn:bI(r.expiresIn),creationTime:Date.now()}}async function X2(r,e){const i=(await e.json()).error;return xa.create("request-failed",{requestName:r,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Z2({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function vI(r,{refreshToken:e}){const n=Z2(r);return n.append("Authorization",_I(e)),n}async function J2(r){const e=await r();return e.status>=500&&e.status<600?r():e}function bI(r){return Number(r.replace("s","000"))}function _I(r){return`${Q2} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const i=K2(r),l=Z2(r),c=e.getImmediate({optional:!0});if(c){const x=await c.getHeartbeatsHeader();x&&l.append("x-firebase-client",x)}const f={fid:n,authVersion:Q2,appId:r.appId,sdkVersion:G2},g={method:"POST",headers:l,body:JSON.stringify(f)},p=await J2(()=>fetch(i,g));if(p.ok){const x=await p.json();return{fid:x.fid||n,registrationStatus:2,refreshToken:x.refreshToken,authToken:Y2(x.authToken)}}else throw await X2("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=/^[cdef][\w-]{21}$/,_g="";function NI(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=AI(r);return TI.test(n)?n:_g}catch{return _g}}function AI(r){return EI(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Map;function tw(r,e){const n=bd(r);nw(n,e),SI(n,e)}function nw(r,e){const n=ew.get(r);if(n)for(const i of n)i(e)}function SI(r,e){const n=CI();n&&n.postMessage({key:r,fid:e}),RI()}let ua=null;function CI(){return!ua&&"BroadcastChannel"in self&&(ua=new BroadcastChannel("[Firebase] FID Change"),ua.onmessage=r=>{nw(r.data.key,r.data.fid)}),ua}function RI(){ew.size===0&&ua&&(ua.close(),ua=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="firebase-installations-database",jI=1,va="firebase-installations-store";let Pm=null;function Tp(){return Pm||(Pm=Tb(II,jI,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(va)}}})),Pm}async function Hh(r,e){const n=bd(r),l=(await Tp()).transaction(va,"readwrite"),c=l.objectStore(va),f=await c.get(n);return await c.put(e,n),await l.done,(!f||f.fid!==e.fid)&&tw(r,e.fid),e}async function sw(r){const e=bd(r),i=(await Tp()).transaction(va,"readwrite");await i.objectStore(va).delete(e),await i.done}async function _d(r,e){const n=bd(r),l=(await Tp()).transaction(va,"readwrite"),c=l.objectStore(va),f=await c.get(n),g=e(f);return g===void 0?await c.delete(n):await c.put(g,n),await l.done,g&&(!f||f.fid!==g.fid)&&tw(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Np(r){let e;const n=await _d(r.appConfig,i=>{const l=kI(i),c=DI(r,l);return e=c.registrationPromise,c.installationEntry});return n.fid===_g?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function kI(r){const e=r||{fid:NI(),registrationStatus:0};return rw(e)}function DI(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(xa.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=OI(r,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:MI(r)}:{installationEntry:e}}async function OI(r,e){try{const n=await wI(r,e);return Hh(r.appConfig,n)}catch(n){throw $2(n)&&n.customData.serverCode===409?await sw(r.appConfig):await Hh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function MI(r){let e=await Gv(r.appConfig);for(;e.registrationStatus===1;)await W2(100),e=await Gv(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Np(r);return i||n}return e}function Gv(r){return _d(r,e=>{if(!e)throw xa.create("installation-not-found");return rw(e)})}function rw(r){return VI(r)?{fid:r.fid,registrationStatus:0}:r}function VI(r){return r.registrationStatus===1&&r.registrationTime+F2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI({appConfig:r,heartbeatServiceProvider:e},n){const i=PI(r,n),l=vI(r,n),c=e.getImmediate({optional:!0});if(c){const x=await c.getHeartbeatsHeader();x&&l.append("x-firebase-client",x)}const f={installation:{sdkVersion:G2,appId:r.appId}},g={method:"POST",headers:l,body:JSON.stringify(f)},p=await J2(()=>fetch(i,g));if(p.ok){const x=await p.json();return Y2(x)}else throw await X2("Generate Auth Token",p)}function PI(r,{fid:e}){return`${K2(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(r,e=!1){let n;const i=await _d(r.appConfig,c=>{if(!iw(c))throw xa.create("not-registered");const f=c.authToken;if(!e&&qI(f))return c;if(f.requestStatus===1)return n=UI(r,e),c;{if(!navigator.onLine)throw xa.create("app-offline");const g=HI(c);return n=zI(r,g),g}});return n?await n:i.authToken}async function UI(r,e){let n=await Qv(r.appConfig);for(;n.authToken.requestStatus===1;)await W2(100),n=await Qv(r.appConfig);const i=n.authToken;return i.requestStatus===0?Ap(r,e):i}function Qv(r){return _d(r,e=>{if(!iw(e))throw xa.create("not-registered");const n=e.authToken;return FI(n)?{...e,authToken:{requestStatus:0}}:e})}async function zI(r,e){try{const n=await LI(r,e),i={...e,authToken:n};return await Hh(r.appConfig,i),n}catch(n){if($2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await sw(r.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Hh(r.appConfig,i)}throw n}}function iw(r){return r!==void 0&&r.registrationStatus===2}function qI(r){return r.requestStatus===2&&!BI(r)}function BI(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+gI}function HI(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function FI(r){return r.requestStatus===1&&r.requestTime+F2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(r){const e=r,{installationEntry:n,registrationPromise:i}=await Np(e);return i?i.catch(console.error):Ap(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,e=!1){const n=r;return await $I(n),(await Ap(n,e)).token}async function $I(r){const{registrationPromise:e}=await Np(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r){if(!r||!r.options)throw Um("App Configuration");if(!r.name)throw Um("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw Um(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Um(r){return xa.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="installations",YI="installations-internal",XI=r=>{const e=r.getProvider("app").getImmediate(),n=KI(e),i=_a(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},ZI=r=>{const e=r.getProvider("app").getImmediate(),n=_a(e,aw).getImmediate();return{getId:()=>GI(n),getToken:l=>QI(n,l)}};function JI(){Ks(new ds(aw,XI,"PUBLIC")),Ks(new ds(YI,ZI,"PRIVATE"))}JI();Xn(H2,Ep);Xn(H2,Ep,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="analytics",WI="firebase_id",e3="origin",t3=60*1e3,n3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new Kh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jn=new ba("analytics","Analytics",s3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(r){if(!r.startsWith(Sp)){const e=jn.create("invalid-gtag-resource",{gtagURL:r});return un.warn(e.message),""}return r}function lw(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function i3(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function a3(r,e){const n=i3("firebase-js-sdk-policy",{createScriptURL:r3}),i=document.createElement("script"),l=`${Sp}?l=${r}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(l):l,i.async=!0,document.head.appendChild(i)}function l3(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function o3(r,e,n,i,l,c){const f=i[l];try{if(f)await e[f];else{const p=(await lw(n)).find(x=>x.measurementId===l);p&&await e[p.appId]}}catch(g){un.error(g)}r("config",l,c)}async function c3(r,e,n,i,l){try{let c=[];if(l&&l.send_to){let f=l.send_to;Array.isArray(f)||(f=[f]);const g=await lw(n);for(const p of f){const x=g.find(E=>E.measurementId===p),w=x&&e[x.appId];if(w)c.push(w);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",i,l||{})}catch(c){un.error(c)}}function u3(r,e,n,i){async function l(c,...f){try{if(c==="event"){const[g,p]=f;await c3(r,e,n,g,p)}else if(c==="config"){const[g,p]=f;await o3(r,e,n,i,g,p)}else if(c==="consent"){const[g,p]=f;r("consent",g,p)}else if(c==="get"){const[g,p,x]=f;r("get",g,p,x)}else if(c==="set"){const[g]=f;r("set",g)}else r(c,...f)}catch(g){un.error(g)}}return l}function h3(r,e,n,i,l){let c=function(...f){window[i].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=u3(c,r,e,n),{gtagCore:c,wrappedGtag:window[l]}}function d3(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Sp)&&n.src.includes(r))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=30,m3=1e3;class g3{constructor(e={},n=m3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ow=new g3;function p3(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function y3(r){var f;const{appId:e,apiKey:n}=r,i={method:"GET",headers:p3(n)},l=n3.replace("{app-id}",e),c=await fetch(l,i);if(c.status!==200&&c.status!==304){let g="";try{const p=await c.json();(f=p.error)!=null&&f.message&&(g=p.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:g})}return c.json()}async function x3(r,e=ow,n){const{appId:i,apiKey:l,measurementId:c}=r.options;if(!i)throw jn.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:i};throw jn.create("no-api-key")}const f=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new _3;return setTimeout(async()=>{g.abort()},t3),cw({appId:i,apiKey:l,measurementId:c},f,g,e)}async function cw(r,{throttleEndTimeMillis:e,backoffCount:n},i,l=ow){var g;const{appId:c,measurementId:f}=r;try{await v3(i,e)}catch(p){if(f)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:f};throw p}try{const p=await y3(r);return l.deleteThrottleMetadata(c),p}catch(p){const x=p;if(!b3(x)){if(l.deleteThrottleMetadata(c),f)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${x==null?void 0:x.message}]`),{appId:c,measurementId:f};throw p}const w=Number((g=x==null?void 0:x.customData)==null?void 0:g.httpStatus)===503?px(n,l.intervalMillis,f3):px(n,l.intervalMillis),E={throttleEndTimeMillis:Date.now()+w,backoffCount:n+1};return l.setThrottleMetadata(c,E),un.debug(`Calling attemptFetch again in ${w} millis`),cw(r,E,i,l)}}function v3(r,e){return new Promise((n,i)=>{const l=Math.max(e-Date.now(),0),c=setTimeout(n,l);r.addEventListener(()=>{clearTimeout(c),i(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function b3(r){if(!(r instanceof gs)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class _3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function w3(r,e,n,i,l){if(l&&l.global){r("event",n,i);return}else{const c=await e,f={...i,send_to:c};r("event",n,f)}}async function E3(r,e,n,i){if(i&&i.global){const l={};for(const c of Object.keys(n))l[`user_properties.${c}`]=n[c];return r("set",l),Promise.resolve()}else{const l=await e;r("config",l,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(){if(bb())try{await _b()}catch(r){return un.warn(jn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return un.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function N3(r,e,n,i,l,c,f){const g=x3(r);g.then(C=>{n[C.measurementId]=C.appId,r.options.measurementId&&C.measurementId!==r.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>un.error(C)),e.push(g);const p=T3().then(C=>{if(C)return i.getId()}),[x,w]=await Promise.all([g,p]);d3(c)||a3(c,x.measurementId),l("js",new Date);const E=(f==null?void 0:f.config)??{};return E[e3]="firebase",E.update=!0,w!=null&&(E[WI]=w),l("config",x.measurementId,E),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.app=e}_delete(){return delete bl[this.app.options.appId],Promise.resolve()}}let bl={},$v=[];const Kv={};let zm="dataLayer",S3="gtag",Yv,Cp,Xv=!1;function C3(){const r=[];if(vb()&&r.push("This is a browser extension environment."),xA()||r.push("Cookies are not available."),r.length>0){const e=r.map((i,l)=>`(${l+1}) ${i}`).join(" "),n=jn.create("invalid-analytics-context",{errorInfo:e});un.warn(n.message)}}function R3(r,e,n){C3();const i=r.options.appId;if(!i)throw jn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jn.create("no-api-key");if(bl[i]!=null)throw jn.create("already-exists",{id:i});if(!Xv){l3(zm);const{wrappedGtag:c,gtagCore:f}=h3(bl,$v,Kv,zm,S3);Cp=c,Yv=f,Xv=!0}return bl[i]=N3(r,$v,Kv,e,Yv,zm,n),new A3(r)}function I3(r=Cg()){r=_t(r);const e=_a(r,Fh);return e.isInitialized()?e.getImmediate():j3(r)}function j3(r,e={}){const n=_a(r,Fh);if(n.isInitialized()){const l=n.getImmediate();if(vi(e,n.getOptions()))return l;throw jn.create("already-initialized")}return n.initialize({options:e})}function k3(r,e,n){r=_t(r),E3(Cp,bl[r.app.options.appId],e,n).catch(i=>un.error(i))}function D3(r,e,n,i){r=_t(r),w3(Cp,bl[r.app.options.appId],e,n,i).catch(l=>un.error(l))}const Zv="@firebase/analytics",Jv="0.10.19";function O3(){Ks(new ds(Fh,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return R3(i,l,n)},"PUBLIC")),Ks(new ds("analytics-internal",r,"PRIVATE")),Xn(Zv,Jv),Xn(Zv,Jv,"esm2020");function r(e){try{const n=e.getProvider(Fh).getImmediate();return{logEvent:(i,l,c)=>D3(n,i,l,c),setUserProperties:(i,l)=>k3(n,i,l)}}catch(n){throw jn.create("interop-component-reg-failed",{reason:n})}}}O3();const M3={apiKey:"AIzaSyBFr--na-wJGHMdev7vUhPufAJHlyP3GNQ",authDomain:"school-9d3db.firebaseapp.com",projectId:"school-9d3db",storageBucket:"school-9d3db.firebasestorage.app",messagingSenderId:"429673694272",appId:"1:429673694272:web:43390c4fdfa5bce4744ba5",measurementId:"G-8YSDYV9VBN"},Rp=Nb(M3),ec=t6(Rp),Jn=JR(Rp);I3(Rp);const uw=ne.createContext(void 0),V3=({children:r})=>{const[e,n]=ne.useState(null),[i,l]=ne.useState(!0),c=(p,x)=>{const E={uid:`teacher-${x.split("@")[0]}`,email:x,displayName:p,role:"teacher"};n(E),localStorage.setItem("isTeacher","true"),localStorage.setItem("teacherName",p),localStorage.setItem("teacherEmail",x)},f=async()=>{try{(e==null?void 0:e.role)==="teacher"?(localStorage.removeItem("isTeacher"),localStorage.removeItem("teacherName"),localStorage.removeItem("teacherEmail"),n(null)):await F4(ec)}catch(p){console.error("Logout error",p)}},g=async p=>{if(e)try{if(n(x=>x?{...x,...p}:null),e.role!=="teacher"){const x=ya(Jn,"users",e.uid);await z2(x,p)}}catch(x){throw console.error("Error updating profile:",x),x}};return ne.useEffect(()=>{const p=localStorage.getItem("isTeacher")==="true";if(p){const w=localStorage.getItem("teacherName")||"",E=localStorage.getItem("teacherEmail")||"teacher@etqan.edu";c(w,E),l(!1);return}const x=H4(ec,async w=>{if(w)try{const E=ya(Jn,"users",w.uid),C=await hI(E);if(C.exists()){const z=C.data();n({uid:w.uid,email:w.email||"",displayName:`${z.firstName} ${z.lastName}`,firstName:z.firstName,lastName:z.lastName,age:z.age,role:z.role,grade:z.grade,phone:z.phone,address:z.address,school:z.school})}else n({uid:w.uid,email:w.email||"",displayName:"User",role:"student"})}catch(E){console.error("Error fetching user profile:",E)}else p||n(null);l(!1)});return()=>x()},[]),u.jsx(uw.Provider,{value:{user:e,loading:i,logout:f,setTeacherSession:c,updateUserProfile:g},children:!i&&r})},Ii=()=>{const r=ne.useContext(uw);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},L3=({onLoginClick:r,onNavigate:e,onLogoutClick:n})=>{const[i,l]=ne.useState(!1),[c,f]=ne.useState(!1),{user:g}=Ii();ne.useEffect(()=>{const x=()=>{window.scrollY>10?f(!0):f(!1)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const p=x=>{e(x),l(!1)};return u.jsxs("nav",{className:`w-full z-50 sticky top-0 transition-all duration-500 ${c?"bg-emerald-700/95 backdrop-blur-md shadow-lg":"bg-emerald-600 shadow-md"}`,children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-20",children:[u.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>p("HOME"),children:[u.jsx("div",{className:"p-1 bg-white/10 rounded-full group-hover:bg-white/20 transition-colors",children:u.jsx("img",{src:"https://lh3.googleusercontent.com/d/13x8Gorb7y4H2qcQ1LVJtHY9-RoUhxg2z",alt:"  ",className:"w-12 h-12 rounded-full object-cover border-2 border-white/30 shadow-sm"})}),u.jsx("span",{className:"text-2xl font-black text-white tracking-tight drop-shadow-sm",children:""})]}),u.jsx("div",{className:"hidden md:flex items-center justify-center flex-1 px-8",children:u.jsxs("div",{className:"flex items-center gap-1 bg-black/10 px-2 py-1.5 rounded-full border border-white/10 backdrop-blur-sm shadow-inner",children:[u.jsx("button",{onClick:()=>p("HOME"),className:"px-6 py-2 text-white font-bold rounded-full hover:bg-white/20 transition-all",children:""}),u.jsx("div",{className:"w-px h-5 bg-white/20 mx-1"}),u.jsxs("button",{onClick:()=>p("LESSONS"),className:"px-6 py-2 text-white font-bold rounded-full hover:bg-white/20 transition-all flex items-center gap-2",children:[u.jsx(tc,{className:"w-4 h-4"}),""]})]})}),u.jsx("div",{className:"hidden md:flex items-center gap-3",children:g?u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>p("PROFILE"),className:"flex items-center gap-2 text-white hover:bg-white/15 px-4 py-2.5 rounded-full transition-all font-bold",children:[u.jsx(ST,{className:"w-5 h-5"}),u.jsx("span",{children:" "})]}),u.jsxs("div",{className:"flex items-center gap-2 text-white bg-white/10 px-3 py-1.5 rounded-full border border-white/10 mr-2",children:[u.jsx(wl,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-bold",children:g.displayName}),g.role==="teacher"&&u.jsx("span",{className:"text-xs bg-emerald-400 text-emerald-900 px-2 py-0.5 rounded-full",children:""})]}),g.role==="teacher"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>p("QUESTION_BANK"),className:"bg-white/10 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all border border-white/20",title:" ",children:u.jsx(xh,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>p("TEACHER_DASHBOARD"),className:"bg-blue-500 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-blue-600 transition-all shadow-lg border border-blue-400/50",title:" ",children:u.jsx(yh,{className:"w-5 h-5"})})]}),u.jsx("button",{onClick:n,className:"bg-red-500/80 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-red-600 transition-all border border-red-400/30",title:"",children:u.jsx(vh,{className:"w-4 h-4"})})]}):u.jsxs("button",{onClick:r,className:"bg-white text-emerald-700 px-6 py-2.5 rounded-full font-bold hover:bg-emerald-50 transition-all shadow-lg flex items-center gap-2 transform hover:scale-105",children:[u.jsx(cx,{className:"w-4 h-4"})," "]})}),u.jsx("div",{className:"md:hidden flex items-center",children:u.jsx("button",{onClick:()=>l(!i),className:"text-white hover:text-emerald-100 p-2 transition-colors",children:i?u.jsx(Qh,{className:"w-8 h-8"}):u.jsx(uN,{className:"w-8 h-8"})})})]})}),i&&u.jsx("div",{className:"md:hidden bg-white border-t border-gray-100 shadow-xl absolute w-full z-50 animate-fade-in",children:u.jsxs("div",{className:"px-4 pt-2 pb-6 space-y-2",children:[g&&u.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-emerald-50 rounded-2xl border border-emerald-100",children:[u.jsx("div",{className:"w-10 h-10 bg-emerald-200 rounded-full flex items-center justify-center text-emerald-800 font-bold text-lg",children:g.displayName.charAt(0)}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-bold text-gray-900",children:g.displayName}),u.jsx("span",{className:"text-xs text-gray-500",children:g.email})]})]}),u.jsx("button",{onClick:()=>p("HOME"),className:"block w-full text-right px-4 py-3 font-bold text-gray-700 hover:bg-emerald-50 rounded-xl transition-colors",children:""}),u.jsxs("button",{onClick:()=>p("LESSONS"),className:"block w-full text-right px-4 py-3 font-bold text-gray-700 hover:bg-emerald-50 rounded-xl transition-colors flex items-center gap-2",children:[u.jsx(tc,{className:"w-5 h-5 text-emerald-600"}),"  "]}),u.jsxs("button",{onClick:()=>p("CONTACT_TEACHER"),className:"block w-full text-right px-4 py-3 font-bold text-gray-700 hover:bg-emerald-50 rounded-xl transition-colors flex items-center gap-2",children:[u.jsx(wh,{className:"w-5 h-5 text-emerald-600"}),"   "]}),u.jsxs("button",{onClick:()=>p("ABOUT_PLATFORM"),className:"block w-full text-right px-4 py-3 font-bold text-gray-700 hover:bg-emerald-50 rounded-xl transition-colors flex items-center gap-2",children:[u.jsx(YT,{className:"w-5 h-5 text-emerald-600"}),"  "]}),u.jsxs("button",{onClick:()=>p("SERVICES"),className:"block w-full text-right px-4 py-3 font-bold text-gray-700 hover:bg-emerald-50 rounded-xl transition-colors flex items-center gap-2",children:[u.jsx(sb,{className:"w-5 h-5 text-emerald-600"})," "]}),g&&u.jsx("button",{onClick:()=>p("PROFILE"),className:"block w-full text-right px-4 py-3 font-bold text-gray-700 hover:bg-emerald-50 rounded-xl transition-colors",children:" "}),u.jsx("div",{className:"border-t border-gray-100 my-2 pt-2"}),g?u.jsxs("div",{className:"space-y-3 mt-2",children:[g.role==="teacher"&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>p("TEACHER_DASHBOARD"),className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold shadow-md flex items-center justify-center gap-2",children:[u.jsx(yh,{className:"w-5 h-5"}),"  "]}),u.jsxs("button",{onClick:()=>p("QUESTION_BANK"),className:"w-full bg-gray-100 text-gray-800 py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[u.jsx(xh,{className:"w-5 h-5"})," "]})]}),u.jsxs("button",{onClick:()=>{l(!1),n()},className:"w-full bg-red-50 text-red-600 border border-red-100 py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[u.jsx(vh,{className:"w-5 h-5"})," "]})]}):u.jsxs("button",{onClick:()=>{l(!1),r()},className:"w-full mt-2 bg-emerald-600 text-white py-3 rounded-xl font-bold shadow-md flex items-center justify-center gap-2",children:[u.jsx(cx,{className:"w-5 h-5"})," "]})]})})]})},P3=({onStartQuiz:r,onLoginClick:e,onNavigate:n})=>{const{user:i}=Ii(),[l,c]=ne.useState(!1),f=()=>{c(!0),setTimeout(()=>c(!1),3e3)},g=()=>{i?n("QUIZZES"):f()},p=()=>{i?n("LESSONS"):f()},x=()=>{n("CONTACT_TEACHER")};return u.jsxs("section",{className:"relative w-full min-h-[calc(100vh-80px)] flex items-center justify-center bg-white overflow-hidden animate-fade-in",children:[l&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none px-4",children:u.jsxs("div",{className:"bg-red-50 border border-red-200 shadow-xl rounded-xl p-4 flex items-center gap-3 relative w-full max-w-md animate-fade-in-up pointer-events-auto",children:[u.jsx("div",{className:"bg-red-100 p-2 rounded-full shrink-0",children:u.jsx(ph,{className:"w-6 h-6 text-red-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:"  "}),u.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"        ."})]}),u.jsx("button",{onClick:()=>c(!1),className:"absolute top-2 left-2 text-gray-400 hover:text-gray-600",children:u.jsx(Qh,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>{c(!1),e()},className:"mr-auto bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors shrink-0",children:""})]})}),u.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-0 w-full relative z-10 flex flex-col items-center text-center",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-50 border border-emerald-100 px-4 py-2 rounded-full shadow-sm",children:[u.jsx(Ag,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),u.jsx("span",{className:"text-emerald-800 font-bold text-sm",children:"   "})]})}),u.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black text-gray-900 leading-[1.2] lg:leading-[1.15] mb-6",children:["  ",u.jsx("br",{}),u.jsxs("span",{className:"text-emerald-600 inline-block relative",children:[" ",u.jsx("svg",{className:"absolute w-full h-3 -bottom-1 right-0 text-emerald-200 -z-10",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:u.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]}),u.jsx("br",{}),"  "]}),u.jsxs("p",{className:"text-lg md:text-xl text-gray-600 leading-relaxed max-w-2xl mx-auto mb-10",children:["          ",u.jsx("span",{className:"text-emerald-600 font-black text-2xl px-1 relative inline-block",children:"   "}),"."]}),u.jsxs("div",{className:"flex flex-col w-full max-w-md gap-4 justify-center",children:[u.jsxs("button",{onClick:g,className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-emerald-200/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[u.jsx(xi,{className:"w-6 h-6"})," ",u.jsx(Qo,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),u.jsxs("button",{onClick:p,className:"w-full bg-blue-500 hover:bg-blue-600 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-blue-200/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[u.jsx(tc,{className:"w-6 h-6"})," ",u.jsx(Qo,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),u.jsxs("button",{onClick:x,className:"w-full bg-teal-500 hover:bg-teal-600 text-white text-lg font-bold px-8 py-4 rounded-xl shadow-lg hover:shadow-teal-200/50 transition-all flex items-center justify-center gap-3 group transform hover:-translate-y-1",children:[u.jsx(wh,{className:"w-6 h-6"}),"  ",u.jsx(Qo,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[i&&u.jsxs("button",{onClick:()=>n("PROFILE"),className:"flex-1 bg-white border-2 border-emerald-100 text-emerald-600 hover:bg-emerald-50 text-lg font-bold px-8 py-4 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-sm",children:[u.jsx(wl,{className:"w-5 h-5"})," "]}),!i&&u.jsxs("button",{onClick:e,className:"flex-1 bg-white border-2 border-emerald-100 text-emerald-600 hover:bg-emerald-50 text-lg font-bold px-8 py-4 rounded-xl transition-colors flex items-center justify-center gap-2 shadow-sm",children:[u.jsx(_N,{className:"w-5 h-5 fill-emerald-600 text-emerald-600"})," "]})]})]})]})]})},qm=({className:r})=>u.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),Bm=({className:r})=>u.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),U3=({className:r})=>u.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M12 2C6.48 2 2 6.03 2 11c0 2.87 1.56 5.47 4 7.1V22l3.57-1.96c.78.22 1.6.34 2.43.34 5.52 0 10-4.03 10-9s-4.48-9-10-9zm1.06 12.07l-2.6-2.78-5.07 2.78 5.58-5.93 2.62 2.78 5.05-2.78-5.58 5.93z"})}),Wv=[{id:1,name:" ",text:"       .",platform:"whatsapp",time:"10:30 "},{id:2,name:" ",text:"       .",platform:"messenger",time:"11:15 "},{id:3,name:" ",text:"        .",platform:"telegram",time:"09:45 "},{id:4,name:" ",text:"      .",platform:"whatsapp",time:"02:20 "},{id:5,name:"  ",text:"        .",platform:"messenger",time:"04:10 "},{id:6,name:" ",text:"       .",platform:"telegram",time:"08:00 "},{id:7,name:" ",text:"        .",platform:"whatsapp",time:"01:30 "},{id:8,name:" ",text:"       .",platform:"messenger",time:"06:45 "},{id:9,name:" ",text:"       .",platform:"telegram",time:"03:15 "},{id:10,name:" ",text:"       .",platform:"whatsapp",time:"12:00 "},{id:11,name:" ",text:"        .",platform:"messenger",time:"07:30 "},{id:12,name:" ",text:"      .",platform:"telegram",time:"10:10 "},{id:13,name:" ",text:"         .",platform:"whatsapp",time:"05:50 "},{id:14,name:" ",text:"        .",platform:"messenger",time:"09:20 "},{id:15,name:" ",text:"        .",platform:"telegram",time:"08:45 "}],z3=[{icon:GN,title:" ",desc:"        .",color:"bg-blue-100 text-blue-600"},{icon:xi,title:" ",desc:"        .",color:"bg-emerald-100 text-emerald-600"},{icon:ON,title:" ",desc:"       .",color:"bg-yellow-100 text-yellow-600"},{icon:pT,title:" ",desc:"        .",color:"bg-purple-100 text-purple-600"}],q3=({onNavigate:r})=>{const[e,n]=ne.useState([0,1,2]),[i,l]=ne.useState(!0);ne.useEffect(()=>{const g=setInterval(()=>{l(!1),setTimeout(()=>{const p=[];for(;p.length<3;){const x=Math.floor(Math.random()*Wv.length);p.includes(x)||p.push(x)}n(p),l(!0)},500)},5e3);return()=>clearInterval(g)},[]);const c=g=>{switch(g){case"whatsapp":return u.jsx(qm,{className:"w-5 h-5 text-white"});case"messenger":return u.jsx(U3,{className:"w-5 h-5 text-white"});case"telegram":return u.jsx(Bm,{className:"w-5 h-5 text-white"});default:return null}},f=g=>{switch(g){case"whatsapp":return"bg-green-500";case"messenger":return"bg-blue-600";case"telegram":return"bg-sky-500";default:return"bg-gray-500"}};return u.jsx("section",{className:"py-20 bg-white relative overflow-hidden",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-4",children:" "}),u.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),u.jsx("p",{className:"mt-6 text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"                          ."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-8 rounded-3xl border border-slate-100 hover:border-emerald-200 transition-all group flex flex-col h-full shadow-lg hover:shadow-xl",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[u.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-xl overflow-hidden shrink-0 border-4 border-white group-hover:scale-105 transition-transform",children:u.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"text-center sm:text-right flex-1",children:[u.jsx("h3",{className:"text-3xl font-black text-gray-900 mb-3",children:".   "}),u.jsx("p",{className:"text-emerald-600 font-bold text-xl mb-4",children:"  "}),u.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-600 font-medium bg-white px-4 py-2 rounded-full inline-flex shadow-sm border border-gray-100",children:[u.jsx(bh,{className:"w-5 h-5 text-emerald-500"}),"   - "]})]})]}),u.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200",children:[u.jsx("p",{className:"text-sm font-bold text-gray-700 mb-4 text-center sm:text-right",children:" "}),u.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[u.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white",children:u.jsx(Gm,{className:"w-7 h-7"})}),u.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white",children:u.jsx(qm,{className:"w-7 h-7"})}),u.jsx("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white",children:u.jsx(Bm,{className:"w-7 h-7"})})]})]})]}),u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-8 rounded-3xl border border-slate-100 hover:border-emerald-200 transition-all group flex flex-col h-full shadow-lg hover:shadow-xl",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[u.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-xl overflow-hidden shrink-0 border-4 border-white group-hover:scale-105 transition-transform",children:u.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:".   ",className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"text-center sm:text-right flex-1",children:[u.jsx("h3",{className:"text-3xl font-black text-gray-900 mb-3",children:".   "}),u.jsx("p",{className:"text-blue-700 font-bold text-xl mb-4",children:"  "}),u.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-500 font-medium bg-white px-4 py-2 rounded-full inline-flex shadow-sm border border-gray-100",children:[u.jsx(bh,{className:"w-5 h-5 text-blue-500"}),"   - "]})]})]}),u.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200",children:[u.jsx("p",{className:"text-sm font-bold text-gray-700 mb-4 text-center sm:text-right",children:" "}),u.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[u.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white",children:u.jsx(Gm,{className:"w-7 h-7"})}),u.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white",children:u.jsx(qm,{className:"w-7 h-7"})}),u.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white",children:u.jsx(Bm,{className:"w-7 h-7"})})]})]})]})]}),u.jsx("div",{className:"text-center mb-12",children:u.jsxs("button",{onClick:()=>r("TEACHER_CV"),className:"inline-flex items-center gap-3 bg-emerald-600 text-white text-xl font-bold px-10 py-5 rounded-full shadow-lg hover:bg-emerald-700 hover:shadow-emerald-200 transition-all transform hover:-translate-y-1",children:[u.jsx(Gh,{className:"w-6 h-6"}),"  ",u.jsx(gh,{className:"w-6 h-6"})]})}),u.jsxs("div",{className:"mb-0 pt-10 border-t border-gray-100",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-4",children:"  "}),u.jsx("p",{className:"text-gray-500",children:"       "})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((g,p)=>{const x=Wv[g];return u.jsx("div",{className:`transform transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:u.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-sm border border-gray-100 relative h-full flex flex-col hover:shadow-md transition-shadow",children:[u.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 bg-white border-b border-r border-gray-100 transform rotate-45"}),u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-700 font-bold text-lg",children:x.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-900",children:x.name}),u.jsx("span",{className:"text-xs text-gray-400 font-medium",children:x.time})]})]}),u.jsx("div",{className:`w-8 h-8 rounded-full ${f(x.platform)} flex items-center justify-center shadow-sm`,children:c(x.platform)})]}),u.jsxs("p",{className:"text-gray-700 text-base leading-relaxed font-medium",children:['"',x.text,'"']})]})},`${x.id}-${p}`)})})]}),u.jsxs("div",{className:"mb-0 pt-20 mt-12 border-t border-gray-200",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-4",children:" "}),u.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),u.jsx("p",{className:"mt-6 text-lg text-gray-600",children:"     "})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative",children:[u.jsx("div",{className:"hidden lg:block absolute top-12 left-0 w-full h-0.5 bg-gray-200 -z-10 transform -translate-y-1/2"}),z3.map((g,p)=>u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 text-center relative group hover:-translate-y-2 transition-transform duration-300",children:[u.jsx("div",{className:"absolute -top-4 right-6 w-8 h-8 bg-gray-900 text-white rounded-full flex items-center justify-center font-bold text-sm shadow-md z-10 border-2 border-white",children:p+1}),u.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-gray-50 group-hover:border-emerald-100 transition-colors relative z-0",children:u.jsx("div",{className:`w-16 h-16 ${g.color} rounded-full flex items-center justify-center`,children:u.jsx(g.icon,{className:"w-8 h-8"})})}),u.jsx("h3",{className:"font-black text-xl mb-3 text-gray-900",children:g.title}),u.jsx("p",{className:"text-gray-500 text-sm leading-relaxed font-medium px-2",children:g.desc})]},p))]})]})]})})},B3=({isOpen:r,onClose:e})=>{const[n,i]=ne.useState("ROLE_SELECTION"),[l,c]=ne.useState(!1),[f,g]=ne.useState(null),[p,x]=ne.useState(null),{setTeacherSession:w}=Ii(),[E,C]=ne.useState(""),[z,Q]=ne.useState(""),[ee,B]=ne.useState(""),[re,ie]=ne.useState(""),[de,Ce]=ne.useState(""),[Ne,W]=ne.useState(""),[S,N]=ne.useState(""),[A,O]=ne.useState(""),[j,M]=ne.useState(""),[R,Xe]=ne.useState("");if(!r)return null;const Fe=()=>{i("ROLE_SELECTION"),g(null),x(null),C(""),Q(""),B(""),ie(""),Ce(""),W(""),N(""),O(""),M(""),Xe(""),c(!1)},F=()=>{Fe(),e()},te=me=>{me.preventDefault(),g(null),c(!0),setTimeout(()=>{E==="2001"?(w(".   ","yazan@etqan.edu"),x("   !"),setTimeout(()=>F(),1500)):E==="2003"?(w(".   ","majd@etqan.edu"),x("    !"),setTimeout(()=>F(),1500)):(g("   "),c(!1))},800)},pe=async me=>{me.preventDefault(),g(null),c(!0);try{await z4(ec,z.trim(),ee),x("   !"),setTimeout(()=>F(),1500)}catch($e){console.error($e),g("      "),c(!1)}},Re=async me=>{me.preventDefault(),g(null),c(!0);try{const st=(await U4(ec,A.trim(),j)).user;await U2(ya(Jn,"users",st.uid),{firstName:re,lastName:de,age:Ne,grade:S,email:A.trim(),role:"student",totalXP:0,quizzesCompleted:0,createdAt:new Date}),x("   !"),setTimeout(()=>F(),1500)}catch($e){console.error($e),$e.code==="auth/email-already-in-use"?g("   "):$e.code==="auth/weak-password"?g("   "):g("    .    ."),c(!1)}},Pe=async me=>{me.preventDefault(),g(null),c(!0);try{await P4(ec,R.trim()),x("   !")}catch($e){console.error($e),$e.code==="auth/user-not-found"?g("    "):$e.code==="auth/invalid-email"?g("    "):$e.code==="auth/too-many-requests"?g("           ."):g("          .")}finally{c(!1)}},k=()=>{switch(n){case"TEACHER_LOGIN":return"    ...";case"STUDENT_LOGIN":return"  ...";case"STUDENT_SIGNUP":return"   ...";case"FORGOT_PASSWORD":return"   ...";default:return" ..."}},K=()=>u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800",children:"   "}),u.jsxs("button",{onClick:()=>i("STUDENT_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 rounded-2xl hover:border-emerald-500 hover:bg-emerald-50 transition-all",children:[u.jsx("div",{className:"bg-emerald-100 p-3 rounded-full ml-4 group-hover:bg-emerald-200 transition-colors",children:u.jsx(wl,{className:"w-8 h-8 text-emerald-600"})}),u.jsxs("div",{className:"text-right flex-1",children:[u.jsx("div",{className:"font-bold text-lg text-gray-900",children:" "}),u.jsx("div",{className:"text-sm text-gray-500",children:"    "})]}),u.jsx(Nm,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})]}),u.jsxs("button",{onClick:()=>i("TEACHER_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 rounded-2xl hover:border-blue-500 hover:bg-blue-50 transition-all",children:[u.jsx("div",{className:"bg-blue-100 p-3 rounded-full ml-4 group-hover:bg-blue-200 transition-colors",children:u.jsx(mc,{className:"w-8 h-8 text-blue-600"})}),u.jsxs("div",{className:"text-right flex-1",children:[u.jsx("div",{className:"font-bold text-lg text-gray-900",children:" "}),u.jsx("div",{className:"text-sm text-gray-500",children:"   "})]}),u.jsx(Nm,{className:"w-5 h-5 text-gray-300 group-hover:text-blue-500"})]})]}),ae=()=>u.jsxs("form",{onSubmit:te,className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Qm,{className:"w-8 h-8 text-blue-600"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:" "}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"     "})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),u.jsx("input",{type:"password",value:E,onChange:me=>C(me.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all text-center text-lg tracking-widest bg-white text-black placeholder-gray-500",placeholder:"",required:!0})]}),u.jsx("button",{type:"submit",className:"mt-4 w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200",children:""})]}),ce=()=>u.jsxs("form",{onSubmit:pe,className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:" !   "})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"email",value:z,onChange:me=>Q(me.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 outline-none transition-all bg-white text-black placeholder-gray-500",placeholder:"student@example.com",required:!0}),u.jsx(ux,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"password",value:ee,onChange:me=>B(me.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 outline-none transition-all bg-white text-black placeholder-gray-500",placeholder:"",required:!0}),u.jsx(Qm,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]}),u.jsx("div",{className:"text-left",children:u.jsx("button",{type:"button",onClick:()=>i("FORGOT_PASSWORD"),className:"text-xs text-emerald-600 font-bold hover:underline",children:"  "})})]}),u.jsx("button",{type:"submit",disabled:l,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 flex items-center justify-center gap-2",children:" "}),u.jsx("div",{className:"mt-4 text-center",children:u.jsxs("p",{className:"text-gray-600 text-sm",children:["   "," ",u.jsx("button",{type:"button",onClick:()=>i("STUDENT_SIGNUP"),className:"text-emerald-600 font-bold hover:underline",children:"  "})]})})]}),be=()=>u.jsxs("form",{onSubmit:Re,className:"flex flex-col gap-3",children:[u.jsxs("div",{className:"text-center mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"   "}),u.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"   "})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),u.jsx("input",{type:"text",value:re,onChange:me=>ie(me.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black placeholder-gray-500",required:!0})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),u.jsx("input",{type:"text",value:de,onChange:me=>Ce(me.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black placeholder-gray-500",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:""}),u.jsx("input",{type:"number",value:Ne,onChange:me=>W(me.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black placeholder-gray-500",required:!0})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),u.jsxs("select",{value:S,onChange:me=>N(me.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black",required:!0,children:[u.jsx("option",{value:"",children:" "}),u.jsx("option",{value:"5",children:""}),u.jsx("option",{value:"6",children:""}),u.jsx("option",{value:"7",children:""}),u.jsx("option",{value:"8",children:""}),u.jsx("option",{value:"9",children:""}),u.jsx("option",{value:"10",children:""}),u.jsx("option",{value:"11",children:" "}),u.jsx("option",{value:"12",children:" "})]})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),u.jsx("input",{type:"email",value:A,onChange:me=>O(me.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black placeholder-gray-500",required:!0})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),u.jsx("input",{type:"password",value:j,onChange:me=>M(me.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 focus:border-emerald-500 outline-none bg-white text-black placeholder-gray-500",required:!0,minLength:6})]}),u.jsx("button",{type:"submit",disabled:l,className:"mt-2 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 flex items-center justify-center gap-2",children:" "}),u.jsx("div",{className:"text-center mt-2",children:u.jsx("button",{type:"button",onClick:()=>i("STUDENT_LOGIN"),className:"text-sm text-gray-500 hover:text-emerald-600 transition-colors",children:"    "})})]}),Ee=()=>u.jsxs("form",{onSubmit:Pe,className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),u.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["     ",u.jsx("strong",{children:""}),"  "]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"email",value:R,onChange:me=>Xe(me.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 outline-none transition-all bg-white text-black placeholder-gray-500",placeholder:"student@example.com",required:!0}),u.jsx(ux,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),u.jsx("button",{type:"submit",disabled:l,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 flex items-center justify-center gap-2",children:"  "}),u.jsx("div",{className:"text-center mt-4",children:u.jsxs("button",{type:"button",onClick:()=>i("STUDENT_LOGIN"),className:"text-sm text-gray-500 hover:text-emerald-600 transition-colors flex items-center justify-center gap-1 mx-auto",children:[u.jsx(gh,{className:"w-4 h-4"}),"  "]})})]});return u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:F}),u.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md relative shadow-2xl overflow-hidden animate-fade-in-up p-6 min-h-[400px] flex flex-col",children:[l&&!p&&u.jsxs("div",{className:"absolute inset-0 bg-white/90 backdrop-blur-sm z-50 flex flex-col items-center justify-center animate-fade-in rounded-3xl",children:[u.jsxs("div",{className:"relative mb-6",children:[u.jsx("div",{className:"absolute inset-0 bg-emerald-200 rounded-full animate-ping opacity-30 duration-1000"}),u.jsx("div",{className:"relative w-20 h-20 bg-emerald-50 rounded-full flex items-center justify-center border border-emerald-100 shadow-inner",children:u.jsx(qs,{className:"w-10 h-10 text-emerald-600 animate-spin"})})]}),u.jsx("h4",{className:"text-lg font-black text-gray-800 mb-2 tracking-tight animate-pulse",children:k()}),u.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"   "})]}),u.jsx("button",{onClick:F,disabled:l,className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors z-10 disabled:opacity-50",children:u.jsx(Qh,{className:"w-5 h-5"})}),n!=="ROLE_SELECTION"&&!p&&n!=="FORGOT_PASSWORD"&&u.jsxs("button",{onClick:()=>i("ROLE_SELECTION"),disabled:l,className:"absolute top-4 right-4 p-2 text-gray-400 hover:bg-gray-100 rounded-full transition-colors z-10 flex items-center gap-1 disabled:opacity-50",children:[u.jsx(Nm,{className:"w-5 h-5"}),u.jsx("span",{className:"text-xs font-bold",children:""})]}),u.jsx("div",{className:"mt-6 flex-1 flex flex-col justify-center",children:p?u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center gap-4 animate-fade-in",children:[u.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-2 animate-[bounce_1s_infinite]",children:u.jsx(Eg,{className:"w-10 h-10 text-green-600"})}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800 leading-relaxed px-4 whitespace-pre-line",children:p}),n==="FORGOT_PASSWORD"&&u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mx-4 text-sm text-yellow-800 text-right shadow-sm mt-4",children:[u.jsxs("p",{className:"font-bold flex items-center gap-2 mb-2 text-yellow-900",children:[u.jsx(ph,{className:"w-5 h-5"}),"  :"]}),u.jsxs("p",{className:"leading-relaxed",children:["         ",u.jsx("strong",{children:"    (Spam)"}),"  (Junk)."]})]}),u.jsx("button",{onClick:()=>{n==="FORGOT_PASSWORD"?(i("STUDENT_LOGIN"),x(null)):F()},className:"mt-8 bg-emerald-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 transform hover:scale-105 duration-200",children:n==="FORGOT_PASSWORD"?"  ":""})]}):u.jsxs(u.Fragment,{children:[n==="ROLE_SELECTION"&&K(),n==="TEACHER_LOGIN"&&ae(),n==="STUDENT_LOGIN"&&ce(),n==="STUDENT_SIGNUP"&&be(),n==="FORGOT_PASSWORD"&&Ee(),f&&u.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-100 rounded-lg flex items-start gap-2 text-red-600 text-sm animate-fade-in",children:[u.jsx(ph,{className:"w-5 h-5 shrink-0 mt-0.5"}),u.jsx("span",{className:"font-medium",children:f})]})]})})]})]})},H3=()=>{const{user:r}=Ii(),[e,n]=ne.useState(!1),[i,l]=ne.useState("MCQ"),[c,f]=ne.useState({title:"",subject:"English",grade:"",category:"Language",description:""}),[g,p]=ne.useState([]),[x,w]=ne.useState({question:"",options:["","","",""],correctAnswer:0,explanation:""}),E=(B,re)=>{w(ie=>({...ie,[B]:re}))},C=(B,re)=>{const ie=[...x.options];ie[B]=re,w(de=>({...de,options:ie}))},z=()=>{if(!x.question.trim()){alert("   ");return}if(i==="MCQ"&&x.options.some(ie=>!ie.trim())){alert("   ");return}const B=i==="TF"?["",""]:x.options,re={id:Date.now(),question:x.question,options:B,correctAnswer:x.correctAnswer,explanation:x.explanation};p([...g,re]),w({question:"",options:["","","",""],correctAnswer:0,explanation:""})},Q=B=>{p(g.filter(re=>re.id!==B))},ee=async()=>{if(!c.title||!c.grade){alert("     ");return}if(g.length===0){alert("     ");return}n(!0);try{const B={title:c.title,subject:c.subject,grade:c.grade,category:c.category,questions:g,createdBy:(r==null?void 0:r.uid)||"teacher",teacherName:(r==null?void 0:r.displayName)||"",createdAt:bg()};await q2(Rl(Jn,"quizzes"),B),alert("    !"),f({title:"",subject:"English",grade:"",category:"Language",description:""}),p([])}catch(B){console.error("Error saving quiz:",B),alert("   ")}finally{n(!1)}};return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 font-sans animate-fade-in",children:[u.jsx("div",{className:"bg-white pt-10 pb-24 px-4 border-b border-gray-200 shadow-sm relative overflow-hidden",children:u.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[u.jsx("div",{className:"p-4 bg-emerald-50 rounded-3xl shadow-inner border border-emerald-100",children:u.jsx(JT,{className:"w-10 h-10 text-emerald-600"})}),u.jsxs("div",{className:"text-center md:text-right",children:[u.jsx("h1",{className:"text-3xl md:text-5xl font-black tracking-tight text-gray-900 mb-2",children:"  "}),u.jsxs("p",{className:"text-emerald-600 font-bold text-lg",children:["  ",r==null?void 0:r.displayName]})]})]})})}),u.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-16 relative z-20",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl shadow-gray-200/50 border border-white p-6 md:p-8",children:[u.jsxs("h3",{className:"text-xl font-black text-gray-900 mb-8 flex items-center gap-3 border-b border-gray-100 pb-4",children:[u.jsx("div",{className:"bg-emerald-100 p-2 rounded-lg",children:u.jsx(xi,{className:"w-5 h-5 text-emerald-700"})}),"  "]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),u.jsx("input",{type:"text",value:c.title,onChange:B=>f({...c,title:B.target.value}),placeholder:":    - ",className:"w-full px-5 py-4 rounded-2xl bg-gray-50 border border-gray-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 transition-all outline-none font-bold text-gray-900 placeholder-gray-400"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(yN,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),u.jsxs("select",{value:c.subject,onChange:B=>f({...c,subject:B.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 border border-gray-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 outline-none transition-all font-bold text-gray-900 appearance-none cursor-pointer",children:[u.jsx("option",{value:"English",children:"English"}),u.jsx("option",{value:"Science",children:""}),u.jsx("option",{value:"Math",children:""})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(mc,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),u.jsxs("select",{value:c.grade,onChange:B=>f({...c,grade:B.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 border border-gray-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 outline-none transition-all font-bold text-gray-900 appearance-none cursor-pointer",children:[u.jsx("option",{value:"",children:" "}),[5,6,7,8,9,10,11,12].map(B=>u.jsxs("option",{value:B,children:[" ",B]},B))]})]})]}),u.jsxs("div",{className:"col-span-2 md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  /  (Category)"}),u.jsxs("div",{className:"relative",children:[u.jsx(ob,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),u.jsxs("select",{value:c.category,onChange:B=>f({...c,category:B.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 border border-gray-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 outline-none transition-all font-bold text-gray-900 appearance-none cursor-pointer",children:[u.jsx("option",{value:"Language",children:"Language ()"}),u.jsx("option",{value:"Reading",children:"Reading ()"}),u.jsx("option",{value:"Writing",children:"Writing ()"}),u.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"})]})]})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  ()"}),u.jsx("textarea",{value:c.description,onChange:B=>f({...c,description:B.target.value}),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 border border-gray-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 outline-none transition-all font-medium text-gray-900 h-24 resize-none placeholder-gray-400",placeholder:"    ..."})]})]}),u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl shadow-gray-200/50 border border-white p-6 md:p-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 border-b border-gray-100 pb-4",children:[u.jsxs("h3",{className:"text-xl font-black text-gray-900 flex items-center gap-3",children:[u.jsx("div",{className:"bg-emerald-100 p-2 rounded-lg",children:u.jsx(yh,{className:"w-5 h-5 text-emerald-700"})})," "]}),u.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl self-start",children:[u.jsx("button",{onClick:()=>l("MCQ"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${i==="MCQ"?"bg-white text-emerald-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"  "}),u.jsx("button",{onClick:()=>l("TF"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${i==="TF"?"bg-white text-emerald-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"  "})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(_l,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4"}),u.jsx("input",{type:"text",value:x.question,onChange:B=>E("question",B.target.value),placeholder:"   ...",className:"w-full px-5 py-4 pr-12 rounded-2xl border-2 border-gray-100 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 outline-none font-bold text-lg text-gray-900 bg-gray-50/50 placeholder-gray-400 transition-all"})]})]}),i==="MCQ"?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.options.map((B,re)=>u.jsxs("div",{className:`relative group transition-all duration-300 ${x.correctAnswer===re?"scale-[1.02]":""}`,children:[u.jsxs("label",{className:"flex items-center justify-between mb-2 px-1",children:[u.jsxs("span",{className:`text-xs font-bold ${x.correctAnswer===re?"text-emerald-600":"text-gray-500"}`,children:[" ",re+1]}),u.jsx("button",{onClick:()=>E("correctAnswer",re),className:`text-[10px] px-2 py-1 rounded-md transition-colors font-bold ${x.correctAnswer===re?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:x.correctAnswer===re?" ":" "})]}),u.jsx("input",{type:"text",value:B,onChange:ie=>C(re,ie.target.value),placeholder:`  ${re+1}`,className:`w-full px-4 py-3 rounded-xl border-2 outline-none transition-all font-medium ${re===x.correctAnswer?"border-emerald-500 bg-emerald-50/30 text-gray-900 shadow-sm ring-2 ring-emerald-100":"border-gray-200 bg-white focus:border-emerald-400 text-gray-700"}`})]},re))}):u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:()=>E("correctAnswer",0),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${x.correctAnswer===0?"border-emerald-500 bg-emerald-50 text-emerald-700 shadow-md":"border-gray-200 bg-white text-gray-400 hover:border-gray-300"}`,children:[x.correctAnswer===0&&u.jsx($o,{className:"w-6 h-6"})," (True)"]}),u.jsxs("button",{onClick:()=>E("correctAnswer",1),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${x.correctAnswer===1?"border-red-500 bg-red-50 text-red-700 shadow-md":"border-gray-200 bg-white text-gray-400 hover:border-gray-300"}`,children:[x.correctAnswer===1&&u.jsx($o,{className:"w-6 h-6"})," (False)"]})]}),u.jsxs("div",{className:"bg-yellow-50/50 p-4 rounded-2xl border border-yellow-100",children:[u.jsxs("label",{className:"block text-sm font-bold text-yellow-800 mb-2 flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"  ()"]}),u.jsx("textarea",{value:x.explanation,onChange:B=>E("explanation",B.target.value),placeholder:"        ...",className:"w-full px-4 py-3 rounded-xl border border-yellow-200 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-100 outline-none text-gray-800 bg-white h-20 resize-none placeholder-gray-400 text-sm"})]}),u.jsxs("button",{onClick:z,className:"w-full bg-gray-900 text-white py-4 rounded-2xl font-bold hover:bg-black transition-all shadow-lg shadow-gray-200 flex items-center justify-center gap-2 transform hover:-translate-y-1",children:[u.jsx(yh,{className:"w-5 h-5"}),"  "]})]})]})]}),u.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[u.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl shadow-gray-200/50 border border-white p-6 sticky top-24",children:[u.jsxs("h3",{className:"text-lg font-black text-gray-900 mb-6 flex items-center gap-2",children:[u.jsx(Ng,{className:"w-5 h-5 text-emerald-600"})," "]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-5 bg-gray-50 rounded-2xl border border-gray-100 flex flex-col gap-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-500 font-medium",children:" "}),u.jsx("span",{className:"font-black text-gray-900 bg-white px-3 py-0.5 rounded-md shadow-sm",children:g.length})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-500 font-medium",children:" "}),u.jsx("span",{className:"text-emerald-600 font-bold bg-emerald-50 px-2 py-0.5 rounded-md",children:c.category})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-gray-500 font-medium",children:" "}),u.jsx("span",{className:"text-emerald-600 font-bold bg-emerald-50 px-2 py-0.5 rounded-md",children:""})]})]}),u.jsxs("button",{onClick:ee,disabled:e||g.length===0,className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all flex items-center justify-center gap-2 transform ${e||g.length===0?"bg-gray-300 cursor-not-allowed shadow-none":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-200 hover:-translate-y-1"}`,children:[e?u.jsx(qs,{className:"w-5 h-5 animate-spin"}):u.jsx($o,{className:"w-5 h-5"}),e?" ...":"  "]})]})]}),g.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 px-2",children:["  (",g.length,")"]}),u.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:g.map((B,re)=>u.jsx("div",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm hover:border-emerald-300 transition-all group relative",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"bg-gray-100 text-gray-600 font-bold w-6 h-6 flex items-center justify-center rounded-lg text-xs shrink-0 mt-0.5",children:re+1}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-bold text-gray-800 text-sm line-clamp-2 mb-1",children:B.question}),u.jsx("span",{className:"text-[10px] bg-gray-50 text-gray-500 px-2 py-0.5 rounded-md border border-gray-100",children:B.options.length===2?" / ":"  "})]}),u.jsx("button",{onClick:()=>Q(B.id),className:"text-gray-300 hover:text-red-500 transition-colors p-1.5 hover:bg-red-50 rounded-lg",children:u.jsx($m,{className:"w-4 h-4"})})]})},B.id))})]})]})]})})]})},F3=({data:r})=>{if(!r||r.length===0)return u.jsx("div",{className:"h-40 flex items-center justify-center text-gray-400 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:"     "});const e=100,n=300,i=100,l=r.map((f,g)=>{const p=g/(r.length-1||1)*n,x=e-f/i*e;return`${p},${x}`}).join(" "),c=`${l} ${n},${e} 0,${e}`;return u.jsxs("div",{className:"w-full h-48 bg-white rounded-xl p-4 border border-gray-100 relative overflow-hidden",children:[u.jsxs("svg",{viewBox:`0 0 ${n} ${e}`,className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:[u.jsx("line",{x1:"0",y1:"0",x2:n,y2:"0",stroke:"#f3f4f6",strokeWidth:"1"}),u.jsx("line",{x1:"0",y1:e/2,x2:n,y2:e/2,stroke:"#f3f4f6",strokeWidth:"1"}),u.jsx("line",{x1:"0",y1:e,x2:n,y2:e,stroke:"#f3f4f6",strokeWidth:"1"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"chartGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[u.jsx("stop",{offset:"0%",stopColor:"rgba(16, 185, 129, 0.2)"}),u.jsx("stop",{offset:"100%",stopColor:"rgba(16, 185, 129, 0)"})]})}),u.jsx("path",{d:`M0,${e} ${c}`,fill:"url(#chartGradient)"}),u.jsx("polyline",{points:l,fill:"none",stroke:"#10b981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.map((f,g)=>{const p=g/(r.length-1||1)*n,x=e-f/i*e;return u.jsx("circle",{cx:p,cy:x,r:"3.5",fill:"white",stroke:"#10b981",strokeWidth:"2"},g)})]}),u.jsx("div",{className:"absolute top-2 right-2 text-[10px] font-bold text-gray-400 bg-gray-50 px-2 py-1 rounded-full",children:" "})]})},G3=r=>{if(!r)return"";const e=r.toDate?r.toDate():new Date(r.seconds*1e3),n=e.getDate().toString().padStart(2,"0"),i=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getFullYear();let c=e.getHours();const f=e.getMinutes().toString().padStart(2,"0"),g=c>=12?"":"";return c=c%12,c=c||12,`${n}/${i}/${l} ${c}:${f} ${g}`},eb=[{id:"first_step",icon:qT,title:" ",desc:"   ",color:"text-blue-600",gradient:"from-blue-100 to-blue-200",condition:r=>r.length>=1},{id:"high_five",icon:Ag,title:"",desc:" 5 ",color:"text-yellow-600",gradient:"from-yellow-100 to-yellow-200",condition:r=>r.length>=5},{id:"bookworm",icon:xi,title:" ",desc:" 10 ",color:"text-pink-600",gradient:"from-pink-100 to-pink-200",condition:r=>r.length>=10},{id:"sniper",icon:cb,title:"",desc:"  100%  ",color:"text-red-600",gradient:"from-red-100 to-red-200",condition:r=>r.some(e=>e.percentage===100)},{id:"genius",icon:JN,title:"",desc:"3   100%",color:"text-purple-600",gradient:"from-purple-100 to-purple-200",condition:r=>r.filter(e=>e.percentage===100).length>=3},{id:"rocket",icon:NN,title:"",desc:" 500  ",color:"text-indigo-600",gradient:"from-indigo-100 to-indigo-200",condition:(r,e)=>e>=500},{id:"master",icon:ab,title:"",desc:"  10",color:"text-emerald-600",gradient:"from-emerald-100 to-emerald-200",condition:(r,e)=>Math.floor(e/500)+1>=10},{id:"elite",icon:_h,title:"",desc:"  > 90%",color:"text-orange-600",gradient:"from-orange-100 to-orange-200",condition:r=>r.length>=5&&r.reduce((e,n)=>e+n.percentage,0)/r.length>=90}],Q3=()=>{const{user:r,updateUserProfile:e}=Ii(),[n,i]=ne.useState(!1),[l,c]=ne.useState(null),[f,g]=ne.useState([]),[p,x]=ne.useState(!0),[w,E]=ne.useState(0),[C,z]=ne.useState(1),[Q,ee]=ne.useState(500),[B,re]=ne.useState([]),[ie,de]=ne.useState({firstName:(r==null?void 0:r.firstName)||"",lastName:(r==null?void 0:r.lastName)||"",age:(r==null?void 0:r.age)||"",grade:(r==null?void 0:r.grade)||"",phone:(r==null?void 0:r.phone)||"",address:(r==null?void 0:r.address)||"",school:(r==null?void 0:r.school)||""});ne.useEffect(()=>{(async()=>{if(r)try{const A=yd(Rl(Jn,"quiz_results"),xp("userId","==",r.uid)),O=await wp(A),j=[];let M=0;O.forEach(Fe=>{const F=Fe.data();j.push({id:Fe.id,...F});let te=10+F.percentage*2;F.passed&&(te+=50),F.percentage===100&&(te+=100),M+=Math.round(te)}),j.sort((Fe,F)=>{var Re,Pe;const te=((Re=Fe.createdAt)==null?void 0:Re.seconds)||0,pe=((Pe=F.createdAt)==null?void 0:Pe.seconds)||0;return te-pe}),g(j),E(M);const R=Math.floor(M/500)+1;z(R),ee(R*500);const Xe=eb.filter(Fe=>Fe.condition(j,M)).map(Fe=>Fe.id);re(Xe)}catch(A){console.error("Error fetching progress:",A)}finally{x(!1)}})()},[r]);const Ce=async N=>{N.preventDefault(),i(!0),c(null);try{await e(ie),c("   !"),setTimeout(()=>c(null),3e3)}catch(A){console.error(A),alert("   ")}finally{i(!1)}},Ne=f.slice(-10).map(N=>N.percentage),W=(C-1)*500,S=Math.min(100,Math.max(0,(w-W)/500*100));return u.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[u.jsx("div",{className:"lg:col-span-7 lg:order-1 space-y-8",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm overflow-hidden border border-gray-100",children:[u.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 h-40 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),u.jsx("div",{className:"absolute -bottom-12 right-8",children:u.jsx("div",{className:"w-28 h-28 bg-white p-1.5 rounded-full shadow-lg",children:u.jsx("div",{className:"w-full h-full bg-emerald-50 rounded-full flex items-center justify-center border-2 border-emerald-100",children:u.jsx(wl,{className:"w-12 h-12 text-emerald-600"})})})})]}),u.jsxs("div",{className:"pt-20 pb-8 px-8",children:[u.jsxs("div",{className:"mb-8 border-b border-gray-100 pb-6",children:[u.jsx("h2",{className:"text-3xl font-black text-gray-900",children:r==null?void 0:r.displayName}),u.jsxs("p",{className:"text-gray-500 font-medium flex items-center gap-2 mt-1",children:[u.jsx("span",{className:"bg-emerald-100 text-emerald-700 text-xs px-2 py-0.5 rounded-md font-bold",children:""}),r==null?void 0:r.email]})]}),u.jsxs("form",{onSubmit:Ce,className:"space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[u.jsxs("div",{className:"space-y-5",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800 border-b border-gray-100 pb-2 flex items-center gap-2",children:[u.jsx(wl,{className:"w-5 h-5 text-emerald-500"})," "]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1.5",children:" "}),u.jsx("input",{type:"text",value:ie.firstName,onChange:N=>de({...ie,firstName:N.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none bg-gray-50/50 text-gray-900 font-medium transition-all"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1.5",children:" "}),u.jsx("input",{type:"text",value:ie.lastName,onChange:N=>de({...ie,lastName:N.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none bg-gray-50/50 text-gray-900 font-medium transition-all"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1.5",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Hm,{className:"w-4 h-4 text-gray-400 absolute top-3 right-3"}),u.jsx("input",{type:"number",value:ie.age,onChange:N=>de({...ie,age:N.target.value}),className:"w-full px-4 py-2.5 pr-10 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none bg-gray-50/50 text-gray-900 font-medium transition-all"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1.5",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(vN,{className:"w-4 h-4 text-gray-400 absolute top-3 right-3"}),u.jsx("input",{type:"tel",value:ie.phone,onChange:N=>de({...ie,phone:N.target.value}),placeholder:"05xxxxxxxx",className:"w-full px-4 py-2.5 pr-10 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none bg-gray-50/50 text-gray-900 font-medium transition-all"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1.5",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(bh,{className:"w-4 h-4 text-gray-400 absolute top-3 right-3"}),u.jsx("input",{type:"text",value:ie.address,onChange:N=>de({...ie,address:N.target.value}),placeholder:" / ",className:"w-full px-4 py-2.5 pr-10 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none bg-gray-50/50 text-gray-900 font-medium transition-all"})]})]})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800 border-b border-gray-100 pb-2 flex items-center gap-2",children:[u.jsx(xi,{className:"w-5 h-5 text-emerald-500"})," "]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1.5",children:" "}),u.jsxs("select",{value:ie.grade,onChange:N=>de({...ie,grade:N.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none bg-gray-50/50 text-gray-900 font-medium transition-all appearance-none",children:[u.jsx("option",{value:"",children:" "}),u.jsx("option",{value:"5",children:""}),u.jsx("option",{value:"6",children:""}),u.jsx("option",{value:"7",children:""}),u.jsx("option",{value:"8",children:""}),u.jsx("option",{value:"9",children:""}),u.jsx("option",{value:"10",children:""}),u.jsx("option",{value:"11",children:" "}),u.jsx("option",{value:"12",children:" "})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1.5",children:" "}),u.jsxs("div",{className:"relative",children:[u.jsx(hT,{className:"w-4 h-4 text-gray-400 absolute top-3 right-3"}),u.jsx("input",{type:"text",value:ie.school,onChange:N=>de({...ie,school:N.target.value}),placeholder:" ",className:"w-full px-4 py-2.5 pr-10 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 outline-none bg-gray-50/50 text-gray-900 font-medium transition-all"})]})]})]})]}),u.jsxs("div",{className:"flex items-center justify-end pt-6 border-t border-gray-50 gap-4",children:[l&&u.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-bold text-sm animate-fade-in bg-green-50 px-4 py-2 rounded-lg border border-green-100",children:[u.jsx(Eg,{className:"w-4 h-4"}),l]}),u.jsx("button",{type:"submit",disabled:n,className:"bg-emerald-600 text-white px-8 py-3.5 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 flex items-center gap-2 hover:-translate-y-0.5 active:translate-y-0",children:n?u.jsx(qs,{className:"w-5 h-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(Ng,{className:"w-5 h-5"}),"  "]})})]})]})]})]})}),u.jsxs("div",{className:"lg:col-span-5 lg:order-2 space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-indigo-700 via-purple-700 to-fuchsia-700 rounded-3xl shadow-2xl p-6 text-white relative overflow-hidden border-2 border-white/20",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-500 opacity-20 rounded-full translate-y-1/2 -translate-x-1/2 blur-3xl"}),u.jsxs("div",{className:"flex items-center justify-between mb-6 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-md opacity-50 rounded-full"}),u.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-300 to-orange-500 rounded-2xl shadow-lg relative border border-white/30",children:u.jsx(ub,{className:"w-8 h-8 text-white"})})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-3xl font-black tracking-tight",children:[" ",C]}),u.jsxs("p",{className:"text-indigo-100 text-sm font-medium flex items-center gap-1.5 mt-0.5 bg-black/20 px-3 py-1 rounded-full w-fit",children:[u.jsx(Tg,{className:"w-3.5 h-3.5 text-orange-400 fill-orange-400"}),w,"   (XP)"]})]})]}),u.jsxs("div",{className:"text-right hidden sm:block",children:[u.jsx("span",{className:"text-[10px] text-indigo-200 uppercase tracking-wider font-bold",children:" "}),u.jsxs("p",{className:"font-bold text-lg",children:[Q," XP"]})]})]}),u.jsxs("div",{className:"relative mb-8",children:[u.jsxs("div",{className:"flex justify-between text-xs font-bold text-indigo-200 mb-1 px-1",children:[u.jsx("span",{children:" "}),u.jsxs("span",{children:[" ",C+1]})]}),u.jsx("div",{className:"w-full bg-black/30 h-3.5 rounded-full relative overflow-hidden backdrop-blur-sm border border-white/10",children:u.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 h-full rounded-full transition-all duration-1000 ease-out relative shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${S}%`},children:u.jsx("div",{className:"absolute inset-0 bg-white/30 w-full h-full animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite]"})})})]}),u.jsxs("div",{className:"bg-black/20 rounded-2xl p-5 backdrop-blur-md border border-white/10",children:[u.jsxs("h4",{className:"text-sm font-bold text-indigo-100 mb-4 flex items-center gap-2 border-b border-white/10 pb-3",children:[u.jsx(_h,{className:"w-4 h-4 text-yellow-300"})," "]}),u.jsx("div",{className:"grid grid-cols-4 gap-3",children:eb.map(N=>{const A=B.includes(N.id);return u.jsxs("div",{className:"group relative flex flex-col items-center",children:[u.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-2xl flex items-center justify-center transition-all duration-300 ${A?`bg-gradient-to-br ${N.gradient} shadow-lg scale-100 ring-2 ring-white/50`:"bg-gray-800/50 border-2 border-dashed border-gray-600 text-gray-500 grayscale scale-95"}`,children:u.jsx(N.icon,{className:`w-6 h-6 sm:w-7 sm:h-7 ${A?N.color:"text-gray-500"}`})}),u.jsxs("div",{className:"absolute bottom-full mb-3 hidden group-hover:block w-32 sm:w-40 bg-gray-900/95 text-white text-xs p-3 rounded-xl text-center z-50 shadow-xl pointer-events-none left-1/2 -translate-x-1/2 backdrop-blur-sm border border-gray-700",children:[u.jsx("div",{className:`font-bold mb-1 ${A?"text-yellow-400":"text-gray-400"}`,children:N.title}),u.jsx("div",{className:"text-gray-300 text-[10px] leading-tight",children:N.desc}),!A&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-700 flex items-center justify-center gap-1 text-[10px] text-red-400 font-bold",children:[u.jsx(ph,{className:"w-3 h-3"})," "]}),u.jsx("div",{className:"absolute -bottom-1.5 left-1/2 -translate-x-1/2 w-3 h-3 bg-gray-900 rotate-45 border-b border-r border-gray-700"})]})]},N.id)})})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-6 max-h-[600px] overflow-hidden flex flex-col",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2 sticky top-0 bg-white z-10 pb-2 border-b border-gray-100",children:[u.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:u.jsx(lx,{className:"w-5 h-5 text-blue-600"})}),"  "]}),p?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx(qs,{className:"w-6 h-6 animate-spin text-blue-500"})}):f.length===0?u.jsxs("div",{className:"text-center py-12 text-gray-400 flex flex-col items-center gap-3",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center",children:u.jsx(lx,{className:"w-8 h-8 opacity-50"})}),u.jsx("p",{className:"font-medium",children:"     "})]}):u.jsx("div",{className:"space-y-3 overflow-y-auto pr-2 custom-scrollbar",children:[...f].reverse().map(N=>u.jsxs("div",{className:"p-4 rounded-2xl border border-gray-100 hover:border-blue-200 hover:bg-blue-50/50 transition-all group relative overflow-hidden",children:[u.jsx("div",{className:`absolute right-0 top-0 bottom-0 w-1.5 ${N.passed?"bg-emerald-500":"bg-red-500"}`}),u.jsxs("div",{className:"flex justify-between items-start mb-3 pr-3",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"font-bold text-gray-900 text-sm md:text-base line-clamp-1 mb-1",children:N.quizTitle}),u.jsxs("span",{className:"text-xs font-medium text-gray-500 flex items-center gap-1.5 bg-gray-100 w-fit px-2 py-1 rounded-md",children:[u.jsx(Hm,{className:"w-3.5 h-3.5 text-gray-400"}),G3(N.createdAt)]})]}),u.jsx("div",{className:"flex flex-col items-end gap-1",children:N.passed?u.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-emerald-600 bg-emerald-100 px-2 py-0.5 rounded-full",children:[u.jsx($o,{className:"w-3 h-3"})," "]}):u.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-red-600 bg-red-100 px-2 py-0.5 rounded-full",children:[u.jsx(rb,{className:"w-3 h-3"})," "]})})]}),u.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 border-t border-dashed border-gray-200 pt-2 pr-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-gray-600 font-medium",children:N.subject}),u.jsxs("span",{className:"text-emerald-600 font-bold bg-emerald-50 px-2 py-0.5 rounded-md flex items-center gap-1",children:[u.jsx(dx,{className:"w-3 h-3"}),N.passed?"+50 XP":"+10 XP"]})]}),u.jsxs("span",{className:`font-black text-lg ${N.percentage>=50?"text-emerald-600":"text-red-500"}`,children:[N.percentage,"%"]})]})]},N.id))})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u.jsx(dx,{className:"w-5 h-5 text-emerald-600"})}),"  "]}),p?u.jsx("div",{className:"h-48 flex items-center justify-center",children:u.jsx(qs,{className:"w-6 h-6 animate-spin text-emerald-500"})}):u.jsxs("div",{className:"space-y-4",children:[u.jsx(F3,{data:Ne}),u.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-xl border border-gray-100",children:[u.jsx("span",{className:"text-gray-600 text-sm font-bold",children:" "}),u.jsxs("span",{className:`font-black text-xl ${Ne.length>0&&Ne.reduce((N,A)=>N+A,0)/Ne.length>=90?"text-emerald-600":"text-blue-600"}`,children:[Ne.length>0?Math.round(Ne.reduce((N,A)=>N+A,0)/Ne.length):0,"%"]})]})]})]})]})]})})},$3=[{id:"All",label:" (All)"},{id:"Language",label:"Language ()"},{id:"Reading",label:"Reading ()"},{id:"Writing",label:"Writing ()"},{id:"Vocabulary",label:"Vocabulary ()"}],K3=({onBack:r})=>{const{user:e}=Ii(),[n,i]=ne.useState("SELECTION"),[l,c]=ne.useState(""),[f,g]=ne.useState(""),[p,x]=ne.useState("All"),[w,E]=ne.useState([]),[C,z]=ne.useState(!1),[Q,ee]=ne.useState(null),[B,re]=ne.useState(0),[ie,de]=ne.useState({}),[Ce,Ne]=ne.useState(1800),[W,S]=ne.useState(!1),[N,A]=ne.useState(0),[O,j]=ne.useState(!1),[M,R]=ne.useState(null),[Xe,Fe]=ne.useState(!1),[F,te]=ne.useState(!1),[pe,Re]=ne.useState(0),[Pe,k]=ne.useState(!1),[K,ae]=ne.useState(null);ne.useEffect(()=>{window.scrollTo(0,0)},[n]),ne.useEffect(()=>{f?ce():E([])},[f]),ne.useEffect(()=>{let ue;return n==="ACTIVE"&&Ce>0&&(ue=setInterval(()=>{Ne(De=>De<=1?(Zs(),0):De-1)},1e3)),()=>clearInterval(ue)},[n,Ce]),ne.useEffect(()=>{if(n!=="ACTIVE")return;const ue=()=>{Re(ct=>{const tn=ct+1;return tn===1?te(!0):tn>=2&&(te(!1),i("SELECTION"),alert("           .")),tn})},De=()=>{document.hidden&&ue()},Oe=ct=>{(ct.key==="PrintScreen"||ct.ctrlKey&&ct.key==="p"||ct.metaKey&&ct.shiftKey)&&(ct.preventDefault(),ue())},Me=ct=>ct.preventDefault();return document.addEventListener("visibilitychange",De),document.addEventListener("keydown",Oe),document.addEventListener("contextmenu",Me),document.addEventListener("copy",Me),document.addEventListener("paste",Me),document.addEventListener("cut",Me),document.addEventListener("selectstart",Me),()=>{document.removeEventListener("visibilitychange",De),document.removeEventListener("keydown",Oe),document.removeEventListener("contextmenu",Me),document.removeEventListener("copy",Me),document.removeEventListener("paste",Me),document.removeEventListener("cut",Me),document.removeEventListener("selectstart",Me)}},[n]);const ce=async()=>{z(!0);try{const ue=yd(Rl(Jn,"quizzes"),xp("grade","==",f)),De=await wp(ue),Oe=[];De.forEach(Me=>{Oe.push({id:Me.id,...Me.data()})}),E(Oe)}catch(ue){console.error("Error fetching quizzes:",ue)}finally{z(!1)}},be=Array.from(new Set(w.map(ue=>ue.subject))),Ee=w.filter(ue=>{const De=l?ue.subject===l:!0,Oe=p&&p!=="All"?ue.category===p:!0;return De&&Oe}),me=ue=>{R(ue),j(!0)},$e=()=>{if(M){if(!M.questions||M.questions.length===0){alert("      ");return}ee(M),re(0),de({}),Ne(1800),A(0),Re(0),j(!1),R(null),i("ACTIVE")}},st=ue=>{de(De=>({...De,[B]:ue}))},Xs=()=>{Q&&(B<Q.questions.length-1?re(ue=>ue+1):Zs())},Zs=async()=>{if(!Q||!e){i("RESULT");return}S(!0);const ue=Js(),De=Math.round(ue/Q.questions.length*100);let Oe=10+De*2;De>=50&&(Oe+=50),De===100&&(Oe+=100);const Me=Math.round(Oe);A(Me);try{await q2(Rl(Jn,"quiz_results"),{userId:e.uid,userName:e.displayName,quizId:Q.id||"unknown",quizTitle:Q.title,subject:Q.subject,score:ue,totalQuestions:Q.questions.length,percentage:De,passed:De>=50,earnedXP:Me,createdAt:bg()});const ct=ya(Jn,"users",e.uid);await U2(ct,{totalXP:Fv(Me),quizzesCompleted:Fv(1),lastQuizDate:bg(),role:"student",email:e.email,displayName:e.displayName},{merge:!0})}catch(ct){console.error("Error saving quiz result:",ct)}finally{S(!1),i("RESULT")}},Ir=ue=>{const De=Math.floor(ue/60),Oe=ue%60;return`${De}:${Oe<10?"0":""}${Oe}`},Js=()=>{if(!Q)return 0;let ue=0;return Q.questions.forEach((De,Oe)=>{ie[Oe]===De.correctAnswer&&ue++}),ue},kn=()=>{Fe(!0)},ji=()=>{Fe(!1),i("SELECTION")},Dn=ue=>{ae(ue),k(!0)},ki=()=>{k(!1),K==="REVIEW"?i("REVIEW"):K==="RETAKE"?(re(0),de({}),Ne(1800),A(0),Re(0),i("ACTIVE")):K==="LIST"?i("SELECTION"):K==="HOME"&&r(),ae(null)},Di=()=>u.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 animate-fade-in",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-black text-gray-900 mb-2",children:" "}),u.jsx("p",{className:"text-gray-500 text-sm md:text-base",children:"      "})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-6",children:[u.jsxs("div",{className:"lg:col-span-7 bg-white p-5 rounded-3xl shadow-sm border border-gray-100",children:[u.jsxs("label",{className:"block text-base font-bold text-gray-800 mb-4 flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u.jsx(mc,{className:"w-5 h-5 text-emerald-600"})}),"  "]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[5,6,7,8,9,10,11,12].map(ue=>u.jsxs("button",{onClick:()=>{g(ue.toString()),c(""),x("All")},className:`py-3 px-2 rounded-xl font-bold text-sm transition-all duration-200 ${f===ue.toString()?"bg-emerald-600 text-white shadow-lg shadow-emerald-200 scale-105":"bg-gray-50 text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 border border-gray-100"}`,children:[" ",ue]},ue))})]}),u.jsxs("div",{className:"lg:col-span-5 bg-white p-5 rounded-3xl shadow-sm border border-gray-100",children:[u.jsxs("label",{className:"block text-base font-bold text-gray-800 mb-4 flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u.jsx(xi,{className:"w-5 h-5 text-emerald-600"})})," "]}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:l,onChange:ue=>c(ue.target.value),disabled:!f,className:`w-full appearance-none px-4 py-3.5 rounded-xl font-bold text-right bg-gray-50 border-2 outline-none transition-all ${f?"cursor-pointer border-transparent hover:border-emerald-200 focus:border-emerald-500 focus:bg-white text-gray-900":"opacity-50 cursor-not-allowed border-gray-100 text-gray-400"}`,children:[u.jsx("option",{value:"",children:"  "}),be.map((ue,De)=>u.jsx("option",{value:ue,children:ue},De))]}),u.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:u.jsx(xT,{className:"w-5 h-5"})})]}),!f&&u.jsx("p",{className:"text-xs text-amber-600 mt-2 font-medium flex items-center gap-1",children:"*    "})]})]}),f&&u.jsx("div",{className:"mb-10 animate-fade-in",children:u.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-gray-100",children:[u.jsxs("label",{className:"block text-base font-bold text-gray-800 mb-4 flex items-center gap-2",children:[u.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:u.jsx(ob,{className:"w-5 h-5 text-emerald-600"})}),"  ()"]}),u.jsx("div",{className:"flex flex-wrap gap-3",children:$3.map(ue=>u.jsx("button",{onClick:()=>x(ue.id),className:`px-5 py-2.5 rounded-xl font-bold text-sm transition-all duration-200 flex-1 sm:flex-none ${p===ue.id?"bg-emerald-600 text-white shadow-md shadow-emerald-200":"bg-gray-50 text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 border border-gray-100"}`,children:ue.label},ue.id))})]})}),f&&u.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 border-r-4 border-emerald-500 pr-3 flex items-center gap-2",children:[u.jsx(ox,{className:"w-5 h-5"})," "]}),C?u.jsx("div",{className:"flex justify-center py-12",children:u.jsx(qs,{className:"w-8 h-8 animate-spin text-emerald-600"})}):w.length===0?u.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Eh,{className:"w-8 h-8 text-gray-400"})}),u.jsx("p",{className:"text-gray-500 font-medium",children:"      "})]}):Ee.length===0?u.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Eh,{className:"w-8 h-8 text-gray-400"})}),u.jsx("p",{className:"text-gray-500 font-medium",children:"     "})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ee.map(ue=>u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-5 hover:shadow-md hover:border-emerald-300 transition-all group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-1 rounded-md w-fit",children:ue.subject}),ue.category&&u.jsx("span",{className:"bg-blue-50 text-blue-700 text-[10px] font-bold px-2 py-1 rounded-md w-fit border border-blue-100",children:ue.category})]}),u.jsxs("span",{className:"text-gray-400 text-xs",children:[ue.questions.length," "]})]}),u.jsx("h4",{className:"text-base font-bold text-gray-900 mb-2 line-clamp-2",children:ue.title}),u.jsxs("p",{className:"text-gray-500 text-xs mb-5",children:[" ",ue.grade]}),u.jsxs("button",{onClick:()=>me(ue),className:"w-full bg-emerald-50 text-emerald-700 border border-emerald-200 py-2.5 rounded-xl font-bold text-sm group-hover:bg-emerald-600 group-hover:text-white transition-all flex items-center justify-center gap-2",children:[" ",u.jsx(gh,{className:"w-4 h-4"})]})]},ue.id))})]}),O&&u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>j(!1)}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(_l,{className:"w-8 h-8 text-emerald-600"})}),u.jsx("h3",{className:"text-xl font-black text-gray-900 mb-2",children:"  "}),u.jsxs("p",{className:"text-gray-500 mb-6 text-sm",children:["   ",u.jsx("strong",{children:M==null?void 0:M.title})," "]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:$e,className:"flex-1 bg-emerald-600 text-white py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-colors",children:" "}),u.jsx("button",{onClick:()=>j(!1),className:"flex-1 bg-gray-100 text-gray-700 py-2.5 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:""})]})]})]})]}),yt=()=>{if(!Q||!Q.questions||!Q.questions[B])return u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white gap-4",children:[u.jsx("div",{className:"text-red-500 font-bold text-lg",children:"    "}),u.jsx("button",{onClick:()=>i("SELECTION"),className:"text-blue-600 underline",children:" "})]});const ue=Q.questions[B],De=ie[B]!==void 0,Oe=B===Q.questions.length-1,Me=Q.subject.toLowerCase().includes("english")||Q.subject.includes("")||Q.subject.includes(""),ct=Me?"ltr":"rtl",tn=Me?"text-left":"text-right";return u.jsxs("div",{className:"min-h-screen bg-gray-50 select-none pb-10",onContextMenu:Gt=>Gt.preventDefault(),children:[F&&u.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4",children:[u.jsx("div",{className:"absolute inset-0 bg-red-900/80 backdrop-blur-sm"}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full relative z-20 animate-bounce text-center border-4 border-red-500 shadow-2xl",children:[u.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:u.jsx(BN,{className:"w-10 h-10 text-red-600"})}),u.jsx("h3",{className:"text-2xl font-black text-red-600 mb-2",children:" !"}),u.jsxs("p",{className:"text-gray-800 font-bold mb-4",children:["         .",u.jsx("br",{}),u.jsx("span",{className:"text-red-500 text-sm mt-2 block",children:"       ."})]}),u.jsx("button",{onClick:()=>te(!1),className:"w-full bg-red-600 text-white py-3 rounded-xl font-bold hover:bg-red-700 transition-colors",children:"  "})]})]}),Xe&&u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>Fe(!1)}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(vh,{className:"w-8 h-8 text-red-600"})}),u.jsx("h3",{className:"text-xl font-black text-gray-900 mb-2",children:" "}),u.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"           ."}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:ji,className:"flex-1 bg-red-600 text-white py-2.5 rounded-xl font-bold hover:bg-red-700 transition-colors",children:" "}),u.jsx("button",{onClick:()=>Fe(!1),className:"flex-1 bg-gray-100 text-gray-700 py-2.5 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:""})]})]})]}),u.jsxs("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:[u.jsxs("div",{className:"max-w-4xl mx-auto px-3 h-14 flex justify-between items-center",children:[u.jsxs("button",{onClick:kn,className:"flex items-center gap-2 text-red-500 hover:bg-red-50 px-3 py-1.5 rounded-lg transition-colors font-bold text-sm",children:[u.jsx(vh,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:""})]}),u.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center",children:u.jsxs("div",{className:`flex items-center gap-2 px-4 py-1 rounded-full font-mono font-bold text-base shadow-inner ${Ce<300?"bg-red-100 text-red-600 animate-pulse":"bg-gray-100 text-emerald-700"}`,children:[u.jsx(ib,{className:"w-4 h-4"}),Ir(Ce)]})}),u.jsxs("div",{className:"text-xs font-bold text-gray-500",children:[B+1," / ",Q.questions.length]})]}),u.jsx("div",{className:"w-full bg-gray-200 h-1.5",children:u.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-500 ease-out",style:{width:`${(B+1)/Q.questions.length*100}%`}})})]}),u.jsxs("div",{className:"max-w-3xl mx-auto px-3 py-6",children:[u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 overflow-hidden animate-fade-in-up",dir:ct,children:[u.jsxs("div",{className:"bg-emerald-50/50 border-b border-emerald-100 p-4 flex items-center justify-between",children:[u.jsx("h2",{className:"font-black text-gray-800 text-base md:text-lg",children:Q.title}),u.jsx("div",{className:"bg-white p-1.5 rounded-lg shadow-sm border border-gray-100",children:u.jsx(Qm,{className:"w-4 h-4 text-gray-400"})})]}),u.jsxs("div",{className:"p-5 md:p-8",children:[u.jsx("h3",{className:`text-lg md:text-2xl font-bold text-black leading-relaxed mb-8 ${tn}`,children:ue.question}),u.jsx("div",{className:"space-y-3",children:ue.options.map((Gt,On)=>u.jsxs("button",{onClick:()=>st(On),className:`w-full ${tn} p-4 rounded-xl border-2 transition-all flex items-center justify-between group hover:scale-[1.01] active:scale-[0.99] duration-200 ${ie[B]===On?"border-emerald-500 bg-emerald-50 shadow-md ring-2 ring-emerald-100":"border-gray-100 bg-white hover:bg-gray-50 hover:border-gray-300 shadow-sm"}`,children:[u.jsx("span",{className:`text-base font-bold ${ie[B]===On?"text-emerald-900":"text-gray-700"}`,children:Gt}),u.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 ml-2 transition-colors ${ie[B]===On?"border-emerald-600 bg-emerald-600":"border-gray-300 group-hover:border-emerald-400"}`,children:ie[B]===On&&u.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]},On))})]})]}),u.jsx("div",{className:"mt-6 flex justify-end",children:u.jsx("button",{onClick:Xs,disabled:!De||W,className:`w-full sm:w-auto px-8 py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-lg transition-all ${!De||W?"bg-gray-200 text-gray-400 cursor-not-allowed shadow-none":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-emerald-200 active:scale-95"}`,children:W?u.jsxs(u.Fragment,{children:["  ",u.jsx(qs,{className:"w-5 h-5 animate-spin"})]}):u.jsxs(u.Fragment,{children:[Oe?" ":" ",ct==="rtl"?u.jsx(gh,{className:"w-5 h-5"}):u.jsx(zs,{className:"w-5 h-5"})]})})})]})]})},wt=()=>{if(!Q)return null;const ue=Js(),De=ue/Q.questions.length*100;return u.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8 animate-fade-in-up",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 overflow-hidden",children:[u.jsxs("div",{className:"bg-emerald-600 p-6 text-center text-white relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-20"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-3 backdrop-blur-sm",children:u.jsx(Gh,{className:"w-10 h-10 text-white"})}),u.jsx("h2",{className:"text-2xl font-black mb-1",children:" "}),u.jsx("p",{className:"text-emerald-100 text-base opacity-90",children:Q.title})]})]}),u.jsxs("div",{className:"p-6 md:p-10 text-center",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:`text-5xl font-black ${De>=50?"text-emerald-600":"text-red-500"}`,children:ue}),u.jsxs("span",{className:"text-gray-400 text-3xl font-bold",children:["/ ",Q.questions.length]})]}),u.jsx("div",{className:"flex justify-center items-center gap-2 mt-4 mb-6 animate-bounce",children:u.jsxs("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-6 py-2 rounded-full font-black text-lg shadow-lg shadow-orange-200 flex items-center gap-2",children:[u.jsx(Tg,{className:"w-5 h-5 fill-white"}),"+",N," XP"]})}),u.jsx("p",{className:"text-gray-600 text-base mb-8 px-4",children:De>=90?"!   .":De>=75?" !  .":De>=50?"   .":"    ."}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("button",{onClick:()=>Dn("REVIEW"),className:"w-full py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-emerald-200",children:[u.jsx(Fm,{className:"w-5 h-5"})," "]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("button",{onClick:()=>Dn("RETAKE"),className:"py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-sm shadow-lg shadow-emerald-200",children:[u.jsx(EN,{className:"w-4 h-4"})," "]}),u.jsxs("button",{onClick:()=>Dn("LIST"),className:"py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-sm shadow-lg shadow-emerald-200",children:[u.jsx(ox,{className:"w-4 h-4"})," "]})]}),u.jsxs("button",{onClick:()=>Dn("HOME"),className:"w-full py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-emerald-200",children:[u.jsx($T,{className:"w-5 h-5"}),"  "]})]})]})]})})},ps=()=>{if(!Q)return null;const ue=Q.subject.toLowerCase().includes("english")||Q.subject.includes("")||Q.subject.includes(""),De=ue?"ltr":"rtl",Oe=ue?"text-left":"text-right";return u.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(Fm,{className:"w-5 h-5 text-emerald-600"})," "]}),u.jsxs("button",{onClick:()=>i("RESULT"),className:"text-gray-500 hover:text-gray-900 font-medium flex items-center gap-1 text-sm",children:[u.jsx(zs,{className:"w-4 h-4"})," "]})]}),u.jsx("div",{className:"space-y-6",children:Q.questions.map((Me,ct)=>{const tn=ie[ct],Gt=tn===Me.correctAnswer;return u.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border p-5 ${Gt?"border-gray-100":"border-red-100"}`,dir:De,children:[u.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[u.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shrink-0 mt-0.5 ${Gt?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:ct+1}),u.jsx("h3",{className:`text-base font-bold text-gray-900 leading-relaxed ${Oe}`,children:Me.question})]}),u.jsx("div",{className:"space-y-2 mb-4",children:Me.options.map((On,ys)=>{let Ws="p-3 rounded-xl border flex items-center justify-between text-sm ";return ys===Me.correctAnswer?Ws+="bg-emerald-50 border-emerald-500 text-emerald-900 font-bold":ys===tn&&!Gt?Ws+="bg-red-50 border-red-500 text-red-900 font-medium opacity-75":Ws+="bg-white border-gray-200 text-gray-500 opacity-60",u.jsxs("div",{className:Ws,children:[u.jsx("span",{className:Oe,children:On}),ys===Me.correctAnswer&&u.jsx(Eg,{className:"w-4 h-4 text-emerald-600"}),ys===tn&&!Gt&&u.jsx(rb,{className:"w-4 h-4 text-red-600"})]},ys)})}),Me.explanation&&u.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-3 rounded-xl text-blue-900 text-sm leading-relaxed flex items-start gap-2",dir:"rtl",children:[u.jsx("div",{className:"bg-blue-100 p-1 rounded-full mt-0.5 shrink-0",children:u.jsx(xi,{className:"w-3 h-3 text-blue-600"})}),u.jsxs("div",{className:"w-full",children:[u.jsx("span",{className:"font-bold block mb-1 text-right text-xs",children:" :"}),u.jsx("div",{className:Oe,dir:De,children:Me.explanation})]})]})]},Me.id)})})]})};return u.jsxs("div",{className:"min-h-screen bg-white pb-20",children:[n==="SELECTION"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-white border-b border-gray-200 py-4 px-4 sticky top-0 z-30",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:[u.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(zs,{className:"w-6 h-6 text-gray-600"})}),u.jsx("span",{className:"font-bold text-gray-900",children:" "})]})}),Di()]}),n==="ACTIVE"&&yt(),n==="RESULT"&&wt(),n==="REVIEW"&&ps(),Pe&&u.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>k(!1)}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(_l,{className:"w-8 h-8 text-emerald-600"})}),u.jsx("h3",{className:"text-xl font-black text-gray-900 mb-2",children:"  "}),u.jsxs("p",{className:"text-gray-500 mb-6 text-sm",children:[K==="REVIEW"&&"   ",K==="RETAKE"&&"     ",K==="LIST"&&"    ",K==="HOME"&&"    "]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:ki,className:"flex-1 bg-emerald-600 text-white py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-colors",children:""}),u.jsx("button",{onClick:()=>k(!1),className:"flex-1 bg-gray-100 text-gray-700 py-2.5 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:""})]})]})]})]})},Y3=({className:r})=>u.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),X3=({className:r})=>u.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),Z3=({onBack:r})=>{const e=[{name:".   ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",title:"  ",school:"  ",location:" ",color:"emerald",bio:"         .              .",skills:["  ","  "," ","  "],social:{facebook:"#",whatsapp:"https://wa.me/972568401548",telegram:"https://t.me/yazan1342"}},{name:".   ",image:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",title:"  ",school:"  ",location:" ",color:"blue",bio:"       .                .",skills:[" "," "," ","  "],social:{facebook:"#",whatsapp:"#",telegram:"#"}}];return u.jsxs("div",{className:"min-h-screen bg-white animate-fade-in",children:[u.jsx("div",{className:"bg-white border-b border-gray-200 py-6 px-4 sticky top-0 z-30 shadow-sm",children:u.jsx("div",{className:"max-w-6xl mx-auto flex items-center gap-4",children:u.jsxs("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors flex items-center gap-2 text-gray-600 font-bold",children:[u.jsx(zs,{className:"w-6 h-6"})," "]})})}),u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-4",children:"  "}),u.jsx("p",{className:"text-xl text-gray-600",children:"       "})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map((n,i)=>u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100 flex flex-col h-full hover:shadow-2xl transition-shadow duration-300",children:[u.jsx("div",{className:`bg-${n.color}-600 h-32 relative`,children:u.jsx("div",{className:"absolute -bottom-12 right-8",children:u.jsx("div",{className:"w-24 h-24 bg-white p-1 rounded-2xl shadow-lg transform rotate-3",children:u.jsx("div",{className:`w-full h-full bg-${n.color}-50 rounded-xl flex items-center justify-center overflow-hidden`,children:u.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})})})})}),u.jsxs("div",{className:"pt-16 pb-8 px-8 flex-1 flex flex-col",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-1",children:n.name}),u.jsx("p",{className:`text-${n.color}-600 font-bold text-lg mb-4`,children:n.title}),u.jsxs("div",{className:"flex flex-col gap-2 text-gray-500 text-sm mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(sb,{className:"w-4 h-4"}),n.school]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(bh,{className:"w-4 h-4"}),n.location]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h3",{className:"font-bold text-gray-900 mb-2 flex items-center gap-2",children:[u.jsx(Ag,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"})," "]}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.bio})]})]}),u.jsxs("div",{className:"mt-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[u.jsx(Gh,{className:`w-5 h-5 text-${n.color}-600`})," "]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((l,c)=>u.jsx("span",{className:`bg-${n.color}-50 text-${n.color}-700 px-3 py-1 rounded-lg text-sm font-medium`,children:l},c))})]}),u.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[u.jsx("h3",{className:"font-bold text-gray-900 mb-4 text-sm",children:" "}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("a",{href:n.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:u.jsx(Gm,{className:"w-5 h-5"})}),u.jsx("a",{href:n.social.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-50 text-green-600 flex items-center justify-center hover:bg-green-600 hover:text-white transition-all",children:u.jsx(Y3,{className:"w-5 h-5"})}),u.jsx("a",{href:n.social.telegram,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-sky-50 text-sky-600 flex items-center justify-center hover:bg-sky-600 hover:text-white transition-all",children:u.jsx(X3,{className:"w-5 h-5"})})]})]})]})]})]},i))})]})]})},J3=({onBack:r})=>u.jsxs("div",{className:"min-h-screen bg-white animate-fade-in",children:[u.jsx("div",{className:"bg-white border-b border-gray-200 py-6 px-4 sticky top-0 z-30 shadow-sm",children:u.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:u.jsxs("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors flex items-center gap-2 text-gray-600 font-bold",children:[u.jsx(zs,{className:"w-6 h-6"})," "]})})}),u.jsx("div",{className:"relative bg-emerald-600 py-20 overflow-hidden",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10 text-center",children:[u.jsx("span",{className:"bg-emerald-500/50 text-white px-4 py-1 rounded-full text-sm font-medium mb-6 inline-block backdrop-blur-sm",children:"    "}),u.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight",children:["   ",u.jsx("br",{}),"   "]}),u.jsx("p",{className:"text-emerald-100 text-xl max-w-2xl mx-auto leading-relaxed",children:"                    ."})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-20",children:[u.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 hover:shadow-lg transition-all",children:[u.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mb-6",children:u.jsx(Fm,{className:"w-8 h-8 text-blue-600"})}),u.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:""}),u.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:"                   ."})]}),u.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 hover:shadow-lg transition-all",children:[u.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-2xl flex items-center justify-center mb-6",children:u.jsx(cb,{className:"w-8 h-8 text-emerald-600"})}),u.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:""}),u.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:"                  ."})]})]}),u.jsxs("div",{className:"mb-20",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-4",children:"   "}),u.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:IN,title:" ",desc:"       ."},{icon:FT,title:" ",desc:"           ."},{icon:mT,title:" ",desc:"         ."},{icon:KN,title:" ",desc:"          ."}].map((e,n)=>u.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 text-center hover:border-emerald-300 transition-all group",children:[u.jsx("div",{className:"w-14 h-14 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-emerald-100 transition-colors",children:u.jsx(e.icon,{className:"w-7 h-7 text-gray-600 group-hover:text-emerald-600"})}),u.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2",children:e.title}),u.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:e.desc})]},n))})]})]})]}),W3=({onBack:r})=>u.jsxs("div",{className:"min-h-screen bg-white animate-fade-in flex flex-col",children:[u.jsx("div",{className:"bg-white border-b border-gray-200 py-6 px-4 sticky top-0 z-30 shadow-sm",children:u.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:u.jsxs("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors flex items-center gap-2 text-gray-600 font-bold",children:[u.jsx(zs,{className:"w-6 h-6"})," "]})})}),u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:u.jsxs("div",{className:"bg-white p-12 rounded-3xl shadow-xl shadow-gray-100/50 border border-gray-100 max-w-md w-full flex flex-col items-center transform hover:scale-105 transition-transform duration-300",children:[u.jsx("div",{className:"w-24 h-24 bg-emerald-50 rounded-full flex items-center justify-center mb-6 animate-bounce",children:u.jsx(ib,{className:"w-12 h-12 text-emerald-600"})}),u.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-3",children:""}),u.jsx("p",{className:"text-gray-500 text-lg font-medium",children:"        "})]})})]}),ej=({onBack:r})=>{const[e,n]=ne.useState(""),[i,l]=ne.useState(""),[c,f]=ne.useState("SELECTION"),[g,p]=ne.useState("VIDEO"),x=()=>{e&&i&&f("CONTENT")},w=()=>u.jsxs("div",{className:"w-full animate-fade-in pb-12",children:[u.jsxs("div",{className:"relative bg-blue-600 py-20 px-4 overflow-hidden rounded-b-[3rem] shadow-xl shadow-blue-200 mb-12",children:[u.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white via-transparent to-transparent"}),u.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-white opacity-10 rounded-full -translate-x-10 -translate-y-10 blur-2xl"}),u.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-blue-400 opacity-20 rounded-full translate-x-10 translate-y-10 blur-3xl"}),u.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[u.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-blue-500/30 backdrop-blur-md rounded-2xl mb-6 border border-blue-400/30",children:u.jsx(fN,{className:"w-8 h-8 text-white"})}),u.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-4 tracking-tight",children:"  "}),u.jsx("p",{className:"text-blue-100 text-lg md:text-xl max-w-2xl mx-auto font-medium leading-relaxed",children:"  ..         "})]})]}),u.jsx("div",{className:"max-w-4xl mx-auto px-4 -mt-20 relative z-20 mb-16",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-blue-100 p-8 md:p-10",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2 group-hover:text-blue-600 transition-colors",children:[u.jsx("div",{className:"p-2 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition-colors",children:u.jsx(xi,{className:"w-5 h-5 text-blue-600"})})," "]}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:e,onChange:C=>n(C.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 border-2 border-transparent hover:border-blue-200 focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-100 outline-none transition-all text-lg font-bold text-gray-800 appearance-none cursor-pointer",children:[u.jsx("option",{value:"",className:"text-gray-400",children:" "}),u.jsx("option",{value:"English",className:"text-gray-800",children:"  (English)"})]}),u.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:u.jsx(Qo,{className:"w-5 h-5 -rotate-90"})})]})]}),u.jsxs("div",{className:"group",children:[u.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center gap-2 group-hover:text-blue-600 transition-colors",children:[u.jsx("div",{className:"p-2 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition-colors",children:u.jsx(mc,{className:"w-5 h-5 text-blue-600"})})," "]}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:i,onChange:C=>l(C.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 border-2 border-transparent hover:border-blue-200 focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-100 outline-none transition-all text-lg font-bold text-gray-800 appearance-none cursor-pointer",children:[u.jsx("option",{value:"",className:"text-gray-400",children:" "}),[5,6,7,8,9,10,11,12].map(C=>u.jsxs("option",{value:C,className:"text-gray-800",children:[" ",C]},C))]}),u.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:u.jsx(Qo,{className:"w-5 h-5 -rotate-90"})})]})]})]}),u.jsxs("button",{onClick:x,disabled:!e||!i,className:`w-full py-5 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all shadow-lg ${!e||!i?"bg-gray-100 text-gray-400 cursor-not-allowed shadow-none":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 hover:shadow-blue-300 hover:-translate-y-1"}`,children:[u.jsx(Eh,{className:"w-6 h-6"}),"  "]})]})})]}),E=()=>u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 animate-fade-in-up",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2 font-medium",children:[u.jsx("span",{className:"cursor-pointer hover:text-blue-600",onClick:()=>f("SELECTION"),children:""}),u.jsx("span",{className:"text-gray-300",children:"/"}),u.jsx("span",{className:"text-blue-600",children:e})]}),u.jsxs("h2",{className:"text-3xl font-black text-gray-900 flex items-center gap-3",children:[e,u.jsxs("span",{className:"text-lg font-bold bg-blue-50 text-blue-600 px-3 py-1 rounded-full border border-blue-100",children:[" ",i]})]})]}),u.jsxs("button",{onClick:()=>f("SELECTION"),className:"bg-white border border-gray-200 text-gray-600 hover:text-blue-600 hover:border-blue-200 px-5 py-2.5 rounded-xl font-bold text-sm transition-all flex items-center gap-2 w-fit shadow-sm",children:[u.jsx(zs,{className:"w-4 h-4"})," "]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl shadow-blue-100/50 border border-white overflow-hidden min-h-[600px] flex flex-col",children:[u.jsxs("div",{className:"flex border-b border-gray-100 p-2 bg-gray-50/50 gap-2",children:[u.jsxs("button",{onClick:()=>p("VIDEO"),className:`flex-1 py-3 rounded-xl font-bold text-center flex items-center justify-center gap-2 transition-all duration-300 ${g==="VIDEO"?"bg-blue-600 text-white shadow-md shadow-blue-200":"text-gray-500 hover:bg-white hover:text-blue-600"}`,children:[u.jsx(tc,{className:"w-5 h-5"})," "]}),u.jsxs("button",{onClick:()=>p("SUMMARY"),className:`flex-1 py-3 rounded-xl font-bold text-center flex items-center justify-center gap-2 transition-all duration-300 ${g==="SUMMARY"?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"text-gray-500 hover:bg-white hover:text-indigo-600"}`,children:[u.jsx(LT,{className:"w-5 h-5"}),""]}),u.jsxs("button",{onClick:()=>p("PDF"),className:`flex-1 py-3 rounded-xl font-bold text-center flex items-center justify-center gap-2 transition-all duration-300 ${g==="PDF"?"bg-sky-600 text-white shadow-md shadow-sky-200":"text-gray-500 hover:bg-white hover:text-sky-600"}`,children:[u.jsx(UT,{className:"w-5 h-5"})," PDF"]})]}),u.jsxs("div",{className:"flex-1 p-8 md:p-16 bg-gradient-to-b from-white to-gray-50 flex flex-col items-center justify-center text-center animate-fade-in",children:[u.jsxs("div",{className:"w-32 h-32 mb-6 relative",children:[u.jsx("div",{className:"absolute inset-0 bg-blue-100 rounded-full animate-ping opacity-20"}),u.jsxs("div",{className:"relative w-full h-full bg-white rounded-full shadow-lg border-4 border-blue-50 flex items-center justify-center",children:[g==="VIDEO"&&u.jsx(tc,{className:"w-14 h-14 text-blue-500"}),g==="SUMMARY"&&u.jsx(gN,{className:"w-14 h-14 text-indigo-500"}),g==="PDF"&&u.jsx(eN,{className:"w-14 h-14 text-sky-500"})]})]}),u.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3",children:"    "}),u.jsxs("p",{className:"text-gray-500 max-w-md text-lg leading-relaxed",children:["     ",g==="VIDEO"?" ":g==="SUMMARY"?" ":"  PDF","  .     !"]})]})]})]});return u.jsxs("div",{className:"min-h-screen bg-white pb-20",children:[u.jsx("div",{className:"bg-white/80 backdrop-blur-md border-b border-blue-100 py-4 px-4 sticky top-0 z-30 shadow-sm",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:[u.jsx("button",{onClick:r,className:"p-2 hover:bg-blue-50 rounded-full transition-colors group",children:u.jsx(zs,{className:"w-6 h-6 text-gray-500 group-hover:text-blue-600 transition-colors"})}),u.jsx("span",{className:"font-bold text-gray-800 text-lg",children:" "})]})}),c==="SELECTION"?w():E()]})},tj=({className:r})=>u.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),nj=({className:r})=>u.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),sj=({onBack:r})=>{const e=n=>{let i="";switch(n){case"message":i="       .";break;case"question":i="       ...";break;case"review":i="      .";break;case"inquiry":i="    .";break;default:i="  ."}const l=`https://wa.me/972568401548?text=${encodeURIComponent(i)}`;window.open(l,"_blank")};return u.jsxs("div",{className:"min-h-screen bg-white animate-fade-in pb-20",children:[u.jsx("div",{className:"bg-white border-b border-emerald-100 py-6 px-4 sticky top-0 z-30 shadow-sm",children:u.jsx("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:u.jsxs("button",{onClick:r,className:"p-2 hover:bg-emerald-50 rounded-full transition-colors flex items-center gap-2 text-gray-600 font-bold group",children:[u.jsx(zs,{className:"w-6 h-6 group-hover:text-emerald-600"})," "]})})}),u.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-4",children:"  "}),u.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),u.jsx("p",{className:"mt-6 text-xl text-gray-600 max-w-2xl mx-auto",children:"     .         ."})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-emerald-100 overflow-hidden transform hover:shadow-2xl transition-all duration-300",children:[u.jsxs("div",{className:"bg-emerald-600 p-8 text-white text-center relative overflow-hidden",children:[u.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white/10 backdrop-blur-sm rounded-2xl mb-4 border border-white/20",children:u.jsx(wh,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-3xl font-black mb-2 relative z-10",children:"   "}),u.jsx("p",{className:"text-emerald-100 opacity-90 relative z-10 font-medium text-lg",children:"      "})]}),u.jsxs("div",{className:"p-8 md:p-12",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-12",children:[u.jsxs("button",{onClick:()=>e("message"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 hover:bg-emerald-100 transition-all group border-2 border-emerald-100 hover:border-emerald-200 hover:-translate-y-2 duration-300",children:[u.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 border border-emerald-100",children:u.jsx(wh,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-gray-900 text-lg block mb-1",children:" "}),u.jsx("span",{className:"text-gray-500 text-sm",children:"  "})]})]}),u.jsxs("button",{onClick:()=>e("question"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 hover:bg-emerald-100 transition-all group border-2 border-emerald-100 hover:border-emerald-200 hover:-translate-y-2 duration-300",children:[u.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 border border-emerald-100",children:u.jsx(_l,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-gray-900 text-lg block mb-1",children:" "}),u.jsx("span",{className:"text-gray-500 text-sm",children:"   "})]})]}),u.jsxs("button",{onClick:()=>e("review"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 hover:bg-emerald-100 transition-all group border-2 border-emerald-100 hover:border-emerald-200 hover:-translate-y-2 duration-300",children:[u.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 border border-emerald-100",children:u.jsx(MT,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-gray-900 text-lg block mb-1",children:" "}),u.jsx("span",{className:"text-gray-500 text-sm",children:"   "})]})]}),u.jsxs("button",{onClick:()=>e("inquiry"),className:"flex flex-col items-center gap-4 p-6 rounded-2xl bg-emerald-50 hover:bg-emerald-100 transition-all group border-2 border-emerald-100 hover:border-emerald-200 hover:-translate-y-2 duration-300",children:[u.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform text-emerald-600 border border-emerald-100",children:u.jsx(lb,{className:"w-8 h-8"})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-gray-900 text-lg block mb-1",children:" "}),u.jsx("span",{className:"text-gray-500 text-sm",children:"   "})]})]})]}),u.jsxs("div",{className:"border-t-2 border-gray-100 pt-10",children:[u.jsx("h4",{className:"text-center text-gray-500 font-bold mb-6 uppercase tracking-wide text-sm",children:" "}),u.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 bg-gradient-to-br from-gray-50 to-white p-8 rounded-3xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"relative shrink-0 group cursor-pointer",children:[u.jsx("div",{className:"absolute inset-0 bg-emerald-500 rounded-full blur-lg opacity-20 group-hover:opacity-40 transition-opacity"}),u.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-28 h-28 rounded-full object-cover border-4 border-white shadow-lg relative z-10"}),u.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 bg-emerald-500 border-4 border-white rounded-full z-20"})]}),u.jsxs("div",{className:"text-center md:text-right flex-1",children:[u.jsx("h4",{className:"font-black text-2xl text-gray-900 mb-2",children:".   "}),u.jsxs("p",{className:"text-emerald-600 font-bold text-base mb-6 flex items-center justify-center md:justify-start gap-2 bg-emerald-50 w-fit mx-auto md:mx-0 px-4 py-1 rounded-full",children:[u.jsx(mc,{className:"w-5 h-5"}),"    "]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4",children:[u.jsxs("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#25D366] text-white px-6 py-3 rounded-xl font-bold text-sm hover:shadow-lg hover:scale-105 transition-all shadow-green-200",children:[u.jsx(tj,{className:"w-5 h-5"}),"  "]}),u.jsxs("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#0088cc] text-white px-6 py-3 rounded-xl font-bold text-sm hover:shadow-lg hover:scale-105 transition-all shadow-sky-200",children:[u.jsx(nj,{className:"w-5 h-5"}),"  "]})]})]})]})]})]})]})]})]})},rj=({onLoginClick:r})=>{const[e,n]=ne.useState([]),[i,l]=ne.useState(!0),{user:c}=Ii();ne.useEffect(()=>{const p=yd(Rl(Jn,"users"),xp("role","==","student")),x=fI(p,w=>{const E=[];w.forEach(C=>{const z=C.data();E.push({uid:C.id,...z})}),E.sort((C,z)=>(Number(z.totalXP)||0)-(Number(C.totalXP)||0)),n(E.slice(0,10)),l(!1)},w=>{console.error("Error fetching leaderboard:",w),l(!1)});return()=>x()},[]);const f=p=>{switch(p){case 0:return"bg-gradient-to-br from-yellow-300 to-amber-500 border-amber-400 text-white shadow-sm shadow-amber-200 ring-2 ring-yellow-100";case 1:return"bg-gradient-to-br from-slate-300 to-slate-400 border-slate-400 text-white shadow-sm shadow-slate-200 ring-2 ring-slate-100";case 2:return"bg-gradient-to-br from-orange-300 to-orange-500 border-orange-400 text-white shadow-sm shadow-orange-200 ring-2 ring-orange-100";default:return"bg-white border-gray-100 text-gray-500 shadow-sm"}},g=p=>{switch(p){case 0:return u.jsx(ab,{className:"w-4 h-4 text-white fill-white animate-pulse"});case 1:return u.jsx(_h,{className:"w-4 h-4 text-white fill-white/20"});case 2:return u.jsx(_h,{className:"w-4 h-4 text-white fill-white/20"});default:return u.jsxs("span",{className:"font-bold text-xs",children:["#",p+1]})}};return u.jsxs("section",{className:"py-16 bg-gradient-to-b from-indigo-50/50 to-white border-t border-gray-100 relative overflow-hidden",children:[u.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),u.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 bg-indigo-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),u.jsxs("div",{className:"max-w-4xl mx-auto px-4 relative z-10",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white rounded-2xl shadow-lg shadow-indigo-100 border border-indigo-50 mb-4 transform -rotate-3 hover:rotate-0 transition-transform duration-300",children:u.jsx(ub,{className:"w-8 h-8 text-indigo-600"})}),u.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 mb-2 tracking-tight",children:" "}),u.jsx("p",{className:"text-gray-500 text-sm md:text-base font-medium",children:"      "})]}),u.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl border border-white shadow-2xl shadow-indigo-100/50 p-4 md:p-6 relative",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-20"}),i?u.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-indigo-200 rounded-full blur-xl opacity-50 animate-pulse"}),u.jsx(qs,{className:"w-10 h-10 animate-spin text-indigo-600 relative z-10"})]}),u.jsx("p",{className:"text-gray-500 font-bold mt-4 text-sm animate-pulse",children:"  ..."})]}):e.length===0?u.jsxs("div",{className:"text-center py-16",children:[u.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white shadow-lg",children:u.jsx(Gh,{className:"w-8 h-8 text-gray-300"})}),u.jsx("h3",{className:"text-xl font-black text-gray-700 mb-2",children:"  "}),u.jsx("p",{className:"text-gray-500 font-medium mb-6 text-sm",children:"       !"}),!c&&u.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all hover:shadow-lg hover:shadow-indigo-200 transform hover:-translate-y-1",children:[u.jsx(kN,{className:"w-4 h-4"}),"  "]})]}):u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider border-b border-gray-100 mb-2",children:[u.jsx("span",{children:""}),u.jsx("span",{className:"ml-auto mr-12",children:" "}),u.jsx("span",{children:" "})]}),e.map((p,x)=>u.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl transition-all duration-300 ${(c==null?void 0:c.uid)===p.uid?"bg-gradient-to-r from-indigo-50 to-white border border-indigo-200 shadow-md z-10 relative transform scale-[1.01]":"bg-white hover:bg-gray-50 border border-transparent hover:border-gray-100"}`,children:[u.jsx("div",{className:"flex items-center gap-3",children:u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 shadow-sm ${f(x)}`,children:g(x)})}),u.jsxs("div",{className:"flex flex-col items-center text-center flex-1 px-2 min-w-0",children:[u.jsx("span",{className:`font-bold text-sm truncate w-full ${(c==null?void 0:c.uid)===p.uid?"text-indigo-700":"text-gray-900"}`,children:p.displayName}),u.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-500 mt-0.5 w-full justify-center",children:[u.jsx(lb,{className:"w-3 h-3 shrink-0"}),u.jsx("span",{className:"truncate max-w-[120px]",children:p.school||" "})]})]}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-50 px-2.5 py-1 rounded-lg border border-gray-100 shrink-0",children:[u.jsx("span",{className:"font-black text-gray-900 text-sm",children:p.totalXP||0}),u.jsx(Tg,{className:`w-3.5 h-3.5 ${x<3?"text-orange-500 fill-orange-500":"text-gray-300"}`})]})]},p.uid))]})]})]})]})},ij=({onBack:r})=>{const[e,n]=ne.useState([]),[i,l]=ne.useState(!0),[c,f]=ne.useState(""),[g,p]=ne.useState(null),[x,w]=ne.useState(!1);ne.useEffect(()=>{E()},[]);const E=async()=>{l(!0);try{const W=yd(Rl(Jn,"quizzes"),oI("createdAt","desc")),N=(await wp(W)).docs.map(A=>({id:A.id,...A.data()}));n(N)}catch(W){console.error("Error fetching quizzes:",W)}finally{l(!1)}},C=W=>{p({category:"Language",...W})},z=async(W,S)=>{if(W.stopPropagation(),!S){alert(":   ");return}if(window.confirm("  "))try{await dI(ya(Jn,"quizzes",S)),n(N=>N.filter(A=>A.id!==S))}catch(N){console.error("Error deleting quiz:",N),alert("   : "+N.message)}},Q=(W,S)=>{g&&p({...g,[W]:S})},ee=(W,S,N)=>{if(!g)return;const A=[...g.questions];A[W]={...A[W],[S]:N},p({...g,questions:A})},B=(W,S,N)=>{if(!g)return;const A=[...g.questions],O=[...A[W].options];O[S]=N,A[W]={...A[W],options:O},p({...g,questions:A})},re=W=>{if(g&&window.confirm("      ")){const S=g.questions.filter((N,A)=>A!==W);p({...g,questions:S})}},ie=async()=>{if(!(!g||!g.id)){if(g.questions.length===0){alert("     !");return}w(!0);try{const W=ya(Jn,"quizzes",g.id);await z2(W,{title:g.title,subject:g.subject,grade:g.grade,category:g.category,questions:g.questions}),n(S=>S.map(N=>N.id===g.id?g:N)),p(null),alert("   ")}catch(W){console.error("Error updating quiz:",W),alert("   ")}finally{w(!1)}}},de=e.filter(W=>W.title.toLowerCase().includes(c.toLowerCase())||W.teacherName&&W.teacherName.toLowerCase().includes(c.toLowerCase())),Ce=W=>W?(W.toDate?W.toDate():new Date(W.seconds*1e3)).toLocaleDateString("ar-EG"):"",Ne="w-full p-3 rounded-xl border-2 border-gray-300 focus:border-blue-500 outline-none font-bold text-black bg-white shadow-sm transition-colors placeholder-gray-500";return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 animate-fade-in relative",children:[u.jsx("style",{children:`
        .custom-scrollbar {
          scrollbar-width: thin;
          scrollbar-color: #cbd5e1 transparent;
        }
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
          height: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),u.jsx("div",{className:"bg-white pt-8 pb-20 px-4 border-b border-gray-200 shadow-sm relative overflow-hidden",children:u.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("button",{onClick:r,className:"bg-gray-100 hover:bg-gray-200 p-2 rounded-full transition-colors",children:u.jsx(zs,{className:"w-5 h-5 text-gray-600"})}),u.jsx("span",{className:"font-bold text-gray-500",children:" "})]}),u.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end justify-between gap-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-2 tracking-tight",children:"  "}),u.jsx("p",{className:"text-gray-500 font-medium",children:"      "})]}),u.jsxs("div",{className:"w-full md:w-auto bg-white p-2 rounded-2xl shadow-lg shadow-gray-100 border border-gray-100 flex items-center gap-2",children:[u.jsx(Eh,{className:"w-5 h-5 text-gray-400 mr-2"}),u.jsx("input",{type:"text",placeholder:"    ...",value:c,onChange:W=>f(W.target.value),className:"w-full md:w-64 outline-none text-sm font-bold text-gray-700 placeholder-gray-400 bg-transparent"})]})]})]})}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-12 relative z-20",children:i?u.jsx("div",{className:"flex justify-center items-center py-20",children:u.jsx(qs,{className:"w-10 h-10 animate-spin text-blue-600"})}):de.length===0?u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 p-12 text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(xh,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),u.jsx("p",{className:"text-gray-500 mt-1",children:"       ."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:de.map(W=>u.jsxs("div",{className:"bg-white rounded-3xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 overflow-hidden group flex flex-col",children:[u.jsxs("div",{className:"p-6 flex-1",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-lg text-xs font-bold",children:W.subject}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>C(W),className:"bg-emerald-50 text-emerald-600 p-1.5 rounded-lg hover:bg-emerald-100 transition-colors",title:" ",children:u.jsx(hx,{className:"w-4 h-4"})}),u.jsx("button",{onClick:S=>z(S,W.id),className:"bg-red-50 text-red-600 p-1.5 rounded-lg hover:bg-red-100 transition-colors",title:" ",children:u.jsx($m,{className:"w-4 h-4"})})]})]}),u.jsx("h3",{className:"text-xl font-black text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:W.title}),W.category&&u.jsx("span",{className:"inline-block mb-4 bg-amber-50 text-amber-700 text-[10px] font-bold px-2 py-1 rounded-md border border-amber-100",children:W.category}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-6",children:[u.jsxs("span",{className:"bg-gray-50 px-2 py-0.5 rounded border border-gray-100 font-bold",children:[" ",W.grade]}),u.jsx("span",{className:"text-gray-300",children:"|"}),u.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded-lg text-xs font-bold flex items-center gap-1",children:[u.jsx(Hm,{className:"w-3 h-3"}),Ce(W.createdAt)]})]})]}),u.jsxs("div",{className:"bg-gray-50 p-4 border-t border-gray-100 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 bg-white rounded-full border border-gray-200 flex items-center justify-center shadow-sm text-gray-400",children:u.jsx(wl,{className:"w-4 h-4"})}),u.jsx("p",{className:"text-sm font-bold text-gray-700",children:W.teacherName||""})]}),u.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 bg-white px-2 py-1 rounded-md border border-gray-100",children:[u.jsx(_l,{className:"w-3 h-3"}),W.questions.length," "]})]})]},W.id))})}),g&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden",children:[u.jsxs("div",{className:"bg-white border-b border-gray-200 p-6 flex justify-between items-center shrink-0 sticky top-0 z-10",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-emerald-100 p-2 rounded-xl",children:u.jsx(hx,{className:"w-6 h-6 text-emerald-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-black text-gray-900",children:" "}),u.jsx("p",{className:"text-sm text-gray-500",children:"     "})]})]}),u.jsx("button",{onClick:()=>p(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-500",children:u.jsx(Qh,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 custom-scrollbar",children:[u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200 mb-8",children:[u.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[u.jsx(xh,{className:"w-5 h-5 text-blue-600"})," "]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),u.jsx("input",{type:"text",value:g.title,onChange:W=>Q("title",W.target.value),className:Ne})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),u.jsx("input",{type:"text",value:g.subject,onChange:W=>Q("subject",W.target.value),className:Ne})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),u.jsx("select",{value:g.grade,onChange:W=>Q("grade",W.target.value),className:Ne,children:[5,6,7,8,9,10,11,12].map(W=>u.jsxs("option",{value:W,children:[" ",W]},W))})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  (Category)"}),u.jsxs("select",{value:g.category||"Language",onChange:W=>Q("category",W.target.value),className:Ne,children:[u.jsx("option",{value:"Language",children:"Language ()"}),u.jsx("option",{value:"Reading",children:"Reading ()"}),u.jsx("option",{value:"Writing",children:"Writing ()"}),u.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"})]})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h3",{className:"font-bold text-gray-800 flex items-center justify-between",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(_l,{className:"w-5 h-5 text-blue-600"})," (",g.questions.length,")"]}),u.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-lg",children:"*        "})]}),g.questions.map((W,S)=>u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200 relative group",children:[u.jsx("button",{onClick:()=>re(S),className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-red-50 hover:text-red-600 rounded-lg transition-colors",title:" ",children:u.jsx($m,{className:"w-5 h-5"})}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1.5",children:["  ",S+1]}),u.jsx("input",{type:"text",dir:"ltr",value:W.question,onChange:N=>ee(S,"question",N.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-300 focus:border-emerald-500 outline-none font-bold text-black bg-white shadow-sm text-lg transition-colors placeholder-gray-500 text-left"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:W.options.map((N,A)=>u.jsxs("div",{className:"relative",children:[u.jsxs("label",{className:"flex items-center justify-between text-xs font-bold text-gray-500 mb-1 px-1",children:[u.jsxs("span",{children:[" ",A+1]}),u.jsxs("button",{onClick:()=>ee(S,"correctAnswer",A),className:`flex items-center gap-1 px-2 py-0.5 rounded cursor-pointer transition-colors ${W.correctAnswer===A?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:[W.correctAnswer===A?u.jsx($o,{className:"w-3 h-3"}):u.jsx("div",{className:"w-3 h-3 border border-gray-400 rounded-full"}),W.correctAnswer===A?" ":" "]})]}),u.jsx("input",{type:"text",dir:"ltr",value:N,onChange:O=>B(S,A,O.target.value),className:`w-full p-3 rounded-xl border-2 outline-none font-bold transition-colors shadow-sm text-left ${W.correctAnswer===A?"border-emerald-500 bg-emerald-50 text-emerald-900":"border-gray-300 focus:border-blue-500 text-black bg-white"}`})]},A))}),u.jsxs("div",{className:"bg-yellow-50 p-4 rounded-xl border border-yellow-200",children:[u.jsx("label",{className:"block text-xs font-bold text-yellow-800 mb-1",children:" "}),u.jsx("textarea",{value:W.explanation||"",onChange:N=>ee(S,"explanation",N.target.value),className:"w-full p-3 rounded-lg border border-yellow-300 focus:border-yellow-500 outline-none text-gray-800 bg-white text-sm h-20 resize-none shadow-sm custom-scrollbar text-left",placeholder:"  ...",dir:"ltr"})]})]},S))]})]}),u.jsxs("div",{className:"p-6 bg-white border-t border-gray-200 flex justify-end gap-3 shrink-0 sticky bottom-0 z-10",children:[u.jsx("button",{onClick:()=>p(null),className:"px-6 py-3 rounded-xl font-bold text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors",children:""}),u.jsxs("button",{onClick:ie,disabled:x,className:"px-8 py-3 rounded-xl font-bold text-white bg-emerald-600 hover:bg-emerald-700 transition-colors flex items-center gap-2 shadow-lg shadow-emerald-200",children:[x?u.jsx(qs,{className:"w-5 h-5 animate-spin"}):u.jsx(Ng,{className:"w-5 h-5"})," "]})]})]})})]})};function aj(){const[r,e]=ne.useState("HOME"),[n,i]=ne.useState(!1),[l,c]=ne.useState(!1),{logout:f}=Ii();ne.useEffect(()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0)},[]),ne.useEffect(()=>{window.scrollTo(0,0)},[r]);const g=async()=>{c(!0),setTimeout(async()=>{await f(),c(!1),e("HOME")},1e3)};return u.jsxs("div",{className:"min-h-screen flex flex-col relative transition-colors duration-500 bg-white",children:[l&&u.jsx("div",{className:"fixed inset-0 z-[200] bg-emerald-600 flex items-center justify-center animate-fade-in",children:u.jsx("div",{className:"text-white text-2xl font-bold animate-bounce",children:"  ..."})}),u.jsx(L3,{onLoginClick:()=>i(!0),onNavigate:p=>e(p),onLogoutClick:g}),u.jsxs("main",{className:"flex-grow",children:[r==="HOME"&&u.jsxs(u.Fragment,{children:[u.jsx(P3,{onStartQuiz:()=>e("QUIZZES"),onLoginClick:()=>i(!0),onNavigate:e}),u.jsx(q3,{onNavigate:e}),u.jsx(rj,{onLoginClick:()=>i(!0)})]}),r==="ABOUT_PLATFORM"&&u.jsx(J3,{onBack:()=>e("HOME")}),r==="SERVICES"&&u.jsx(W3,{onBack:()=>e("HOME")}),r==="TEACHER_CV"&&u.jsx(Z3,{onBack:()=>e("HOME")}),r==="PROFILE"&&u.jsx(Q3,{}),r==="TEACHER_DASHBOARD"&&u.jsx(H3,{}),r==="QUESTION_BANK"&&u.jsx(ij,{onBack:()=>e("HOME")}),r==="QUIZZES"&&u.jsx(K3,{onBack:()=>e("HOME")}),r==="LESSONS"&&u.jsx(ej,{onBack:()=>e("HOME")}),r==="CONTACT_TEACHER"&&u.jsx(sj,{onBack:()=>e("HOME")})]}),u.jsx(B3,{isOpen:n,onClose:()=>i(!1)}),u.jsx("footer",{className:"bg-white py-8 border-t border-gray-100",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-400 text-sm",children:[" ",new Date().getFullYear(),"   .   ."]})})]})}const hw=document.getElementById("root");if(!hw)throw new Error("Could not find root element to mount to");const lj=WE.createRoot(hw);lj.render(u.jsx(GE.StrictMode,{children:u.jsx(V3,{children:u.jsx(aj,{})})}));
